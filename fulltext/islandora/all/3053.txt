OPTIMIZATION OF A DUCTED FAN PROPULSION SYSTEM FOR A SINGLE ENGINE AIRCRAFT

By

Adam Jasudavisius B.Eng, Aerospace Engineering Ryerson University, Toronto, Ontario, Canada, 2007

A thesis presented to Ryerson University

in partial fulfillment of the requirements for the degree of Master of Applied Science in the Program of Aerospace Engineering

Toronto, Ontario, Canada, 2009 ©Adam Jasudavisius 2009

PROPERTY OF RYERSON UNIVERSITY U8RARY

Author's Declaration
I hereby declare that I, Adam J asudavisius, am the sole author of this thesis titled "Optimization of a Ducted Fan Propulsion System for a Single Engine Aircraft". I authorize Ryerson University to lend this thesis or dissertation to other institutions or individuals for the purpose of scholarly research.

Adam Jasudavisius

I further authorize Ryerson University to reproduce this thesis or dissertation by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

111

This page intentionally left blank

Abstract
OPTIMIZATION OF A DUCTED FAN PROPULSION SYSTEM FOR A SINGLE ENGINE AIRCRAFT

Master of Applied Science
2009

Adam Jasudavisius Aerospace Engineering Ryerson University

The objective of this study was to perform a 3D aerodynamic shape optimization on a ducted fan propulsion system configured for cruise flight on an aircraft. The initial shapes of the duct and hub were determined using a basic grid searching optimization approach. An efficient optimization algorithm was created that utilized the BFGS searching technique with a QuasiNewton line search to refine the initial geometry. The ducted fan was chosen to be controlled by 13 control points connected using a combination of splines, ellipses and conics. The optimum design resulted in a 33.54% and 36.45% reduction in drag for the duct and hub respectively. The propeller thrust was also increased by 141.49%. The optimization methodology used throughout this study proved to be an efficient technique in finding the optimal design to within a high degree of resolution based on the entire design space considered.

v

This page intentionally left blank

Acknowledgments
The author would like to thank Dr. Paul Walsh for all of his help and guidance throughout this project, as well as Mecachrome for their constant support, and of eourse to Hines Aircraft for providing this great opportunity. Acknowledgments are also given to the author's fellow

colleagues who were always there for advice and to the author's girlfriend, Stephanie, for her exceptional support and patience.

Vll

This page intentionally left blank

Vlll

Table of Contents

Author's Declaration ...................................................................................................................... iii Abstract ........................................................................................................................................... v Acknowledgments ......................................................................................................................... vii List of Tables ...............................................................................................................................xiii List of Figures ............................................................................................................................... xv List of Appendices ...................................................................................................................... xvii Nomenclature ............................................................................................................................... xix

1

Introduction ............................................................................................................................ 1
1.1 1.2 1.3 1.4 Background Information ................................................................................................ 1 Literature Review ........................................................................................................... 2 Objective ......................................................................................................................... 4 Thesis Summary ............................................................................................................. 4

2

Two-Dimensional Optimization ............................................................................................ 7
2.1 2.2 Introduction ...................................................................... ....................... .. ..................... 7 Propeller Design ............................................................................................................. 8

lX

2.2.1 2.2.2 2.2.3 2.3

Background Theory .......................................................................................... 8 Algorithm Iteration Process ............................................................................ 12 Propeller Design Steps ................................................................................... 13

CFD Analysis ............................................................................................................... 17 2.3.1 2.3 .2 2.3.3 Exporting the Propeller Data .......................................................................... 17 Test Areas and Configurations ....................................................................... 19 Mesh Validation ............................................................................................. 20

2.4

Two-Dimensional Results ............................................................................................ 25 2.4.1 2.4.2 Inviscid Results .............................................................................................. 25 Viscous Results .............................................................................................. 29

3

Numerical Optimization Algorithm ................................................................................... 31
3.1 3.2 3.3 3.4 3.5 Introduction .................................................................................................................. 31 Objective Function ....................................................................................................... 32 One-Dimensional Minimizations Methods .................................................................. 33 Multi-Dimensional Minimization Methods .................................................................. 36 Constrained Optimization ............................................................................................. 40

4

Three-Dimensional Optimization ....................................................................................... 45
4.1 4.2 Introduction .................................................................................................................. 45 Geometry Specifications .............................................................................................. 47 4.2.1 4.2.2 4.2.3 4.3 4.4 Initial Duct Geometry ..................................................................................... 47 Initial Hub Geometry ...................................................................................... 49 Propeller Geometry ........................................................................................ 51

Operational Constraints ................................................................................................ 52 Mesh Characteristics .................................................................................................... 54 4.4.1 Mesh Spacing ................................................................................................. 54

X

4.4.2 4.5 4.6 4.7

~-

Error Approximation ...................................................................................... 55

Perturbation Size Study ................................................................................................ 60 Two-dimensional Validation of Optimization Algorithm ............................................ 66 Three-Dimensional Results ............................................ .. ... :........................................ 70 4.7.1 4.7.2 Case 1 ............................................................................................................. 70 Case 2 ............................................................................................................. 74

5

Conclusions and Future Work ............................................................................................ 77 5.1 5.2 5.3 Two-Dimensional Findings .......................................................................................... 77 Three-Dimensional Findings ........................................................................................ 78 Future Work .................................................................................................................. 78

Appendix I - Propeller Program Output .................................................................................. 79 Appendix II - 2D Validation Convergence History ................................................................. 80 Appendix III - Resultant Views for Final Cases ...................................................................... 81 References .................................................................................................................................... 85

Xl

This page intentionally left blank

List of Tables
Table 2.1: Initial configuration ....................... ...................................................... ........................ 14 Table 2.2: hnproved design .................................................................:........................................ 14 Table 2.3: Final propeller configuration ....................................................................................... 17 Table 2.4: Final propeller performance ......................................................................................... 17 Table 2.5: Geometries for each test area ....................................................................................... 20 Table 2.6: Geometries for each test area ....................................................................................... 20 Table 2. 7: Mesh cases for Richardson Extrapolation .................................... ............................... 24 Table 2.8: Configuration legend for Fig. 2.13 ................................................ .............................. 26 Table 3.1: Comparison of one-dimensional minimization methods .................................... ......... 36 Table 4.1: Summary of mesh characteristics for error approximation study ................................ 56 Table 4.2: Drag comparisons to determine expected error .... ....................................................... 57 Table 4.3: Resulting error from lack of a boundary layer mesh .......................... ......................... 57 Table 4.4: Summary of perturbation sizes for duct. ...................................................................... 65 Table 4.5: Summary of perturbation sizes for hub ......................................... ............................... 66 Table 4.6: Summary of perturbation sizes for propeller ............. .................................................. 66 Table 4.7: Comparison of optimum with initial configurations for Case 1 .................................. 71 Table 4.8: Comparison of optimum with initial configurations for Case 2 ............... ................... 74

Xlll

This page intentionally left bank

List of Figures
Figure 2.1: General blade element at radius r from axis of rotation ............................................... 8 Figure 2.2: Disk actuator representation of propeller [37] ................... :........................................ 10 Figure 2.3 : Hyperbolic distribution of flow along arbitrary blade ................................................ 16 Figure 2.4: Hyperbolic twist distribution for current design .................... .................................... 16 Figure 2.5: Pressure distributions at propeller plane ..................................................................... 18 Figure 2.6: Dynamic pressure distribution on sample ducted fan ................................................. 19 Figure 2. 7: Duct and hub test areas shown with velocity distributions ........................................ 19 Figure 2.8: Geometry meshed with a small amount of mesh elements (less accurate) ................ 21 Figure 2.9: Geometry meshed with a large amount of mesh elements (more accurate) ............... 21 Figure 2.10: Mesh size as a function of drag ................................................................................ 22 Figure 2.11: Plotted equation for mesh size as a function of drag ................................................ 23 Figure 2.12: Richardson Extrapolation mesh case distribution .................................................... 25 Figure 2.13: Final results for all81 configurations ....................................................................... 26 Figure 2.14: 2D configuration that produced the most thrust ....................................................... 27 Figure 2.15: Velocity vectors at duct inlet due to low free stream velocity for most optimal. ..... 27 Figure 2.16: Velocity vectors at duct inlet due to low free stream velocity for second optimal .. 28 Figure 2.17: 2D configuration that produced the second most amount of thrust .......................... 28 Figure 2.18: Coefficient of thrust comparison between viscous and inviscid flows .................... 29 Figure 3.1: Fixed step size methodology [45] ............................................................................... 33 Figure 3.2: First step in the Interval halving method [45] ............................................................ 34 Figure 3.3: Second step in the Interval halving method [45] ........................................................ 34 Figure 3.4: Example Pattern Search convergence for dual-variable function [45] ...................... 37 Figure 3.5: Flow chart for optimization method ........................................................................... 44 Figure 4.1: Global minimum ......................................................................................................... 46 Figure 4.2: Global and local minima ............................................................................................ 46 Figure 4.3: Initial duct cross-section for Case 1 (from 2D optimization) ..................................... 47 Figure 4.4: Initial duct cross-section for Case 2 (alternate start point) ......................................... 47 Figure 4.5: Duct control points ..................................................................................................... 48 Figure 4.6: Initial hub cross-section for Case 1 (from 2D optimization) ...................................... 50
XV

Figure 4.7: Initial hub cross-section for Case 2 (alternate start point) .......................................... 50 Figure 4.8: Hub control points ...................................................................................................... 50 Figure 4.9: NACA 65-410 airfoil [49] .......................................................................................... 51 Figure 4.10: Minimum allowable duct cross-section .................................................................... 53 Figure 4.11: Node spacing summary ............................................................................................ 55 Figure 4.12: Velocity contours of the base case with velocity profile locations .......................... 58 Figure 4.13: Velocity profiles at x=400mm ................................................... ............................... 58 Figure 4.14: Velocity profiles at x=680mm .................................................................................. 59 Figure 4.15: Drag trend after many perturbations for aft duct point. ............................................ 61 Figure 4.16: Dampened drag trend for aft duct point ................................................................ ... 62 Figure 4.17: Drag trend for aft duct point perturbed in they-direction ........................................ 63 Figure 4.18: Dampened drag trend for aft duct point in y-direction ............................................. 64 Figure 4.19: Initial geometry for 2D optimization validation study ............................................. 67 Figure 4.20: Final geometry for 2D validation study .................................................................... 67 Figure 4.21: Minimization of drag over time for 2D validation study ......................................... 69 Figure 4.22: Minimization of the objective function over time for 2D validation study .............. 69 Figure 4.23: Convergence history for Case 1 ............................................................................... 71 Figure 4.24: Comparison of initial and final duct cross-sections for Case 1 ................................ 72 Figure 4.25: Comparison of initial and final hub cross-sections for Case 2 ................................. 72 Figure 4.26: Comparison of initial and final static pressure contours .................................. .. ...... 73 Figure 4.27: Comparison of initial and final static pressure contours on propeller cross-section 73 Figure 4.28: Convergence history for Case 2 ............................................................................... 74 Figure 4.29: Comparison of initial and final duct cross-sections for Case 2 ................................ 75 Figure 4.30: Comparison of initial and final hub cross-sections for Case 2 ................................. 75

XVI

List of Appendices
Appendix I - Propeller Program Output ....................................................................................... 79 Appendix II - 2D Validation Convergence History ............................ :........................................ 80 Appendix III - Resultant Views for Final Cases .......................................................................... 81

xvn

This page intentionally left blank

Nomenclature
a
Ad

Hyperbola constant Area of equivalent actuator disk Hyperbola constant Approximate Hessian matrix Hyperbola constant Coefficient of drag Drag Incremental value of thrust Convergence criteria Force Figure of Merit Hessian matrix Step size Lagrange multiplier Small step size Step size at current iteration Step size at next iteration Massflow Moment(ortorque) Modified objective function Total pressure at inlet Total pressure at outlet

p
~deal
Po

Power Ideal power Static pressure Nonnegative constant Penalty parameter Search direction Thrust Freestream velocity Exit velocity Exit velocity

b
B

q
rk

c

CD
D dT
£

s
T
u ue uo

F FM
J

A. AL
~

A.i Ai+I
m M

(A
Pt
P2total

U oaxial Axial component of exit velocity Freestream velocity v Exit velocity vex it Difference between freestream ~v velocity and exit velocity X Matrix of design variables Efficiency 1J Efficiency factor describing the state K of the inflow Density p Rotation rate n

XIX

This page intentionally left blank

1
1.1

Introduction
Background Information
Early ducted fan technology was commonly used on experimental aircraft [ 1] or

hovercraft [2]. It has only been until recently that ducted fans have seen a wider range of uses. Currently this technology can be seen on airships [3], jet replicas [4], helicopter rotors [5], but most of all, on UAVs [6-7]. One of the reasons why a ducted fan is such an attractive propulsion system for a UAV is that it is much quieter than a regular propeller due to the presence of the outer duct walls. Aside from being quieter than a propeller, a ducted fan has many advantages that make it a beneficial option for aircraft. One of the main advantages for a ducted fan is that they are safer than a regular propeller because the blades are held within the duct walls. This results in another advantage where since the fan blades are isolated from the outside, foreign object damage occurs less often. By having a propeller within a duct also allows the use of inlet guide vanes (IGVs) or stators to align the flow for increased performance. Other advantages include better propeller performance due to the minimization of tip effect, and significantly better static performance. Although a ducted fan has better static performance than a typical propeller, it usually comes at the expense of cruise performance. It is widely assumed that a ducted fan can only be designed for low speed conditions. Typically, when applied to high speed conditions, the

increase in performance that comes with a ducted fan is mitigated due to the drag induced by the duct [8]. In these cases a propeller is considered a better option. Although much work has been 1

done with ducted fans, it is still not clear whether a propeller is actually better, especially considering the number of benefits a ducted fan has.

1.2

Literature Review
The design of ducted fans started with adjusting propeller theory to accommodate the

inclusion of the duct. One of the earliest methods was developed by Kucheman and Weber [9], who described how the duct influenced the flow velocity at the propeller plane. Another method by Patterson [10] described how the influence of the duct prevents the propeller slipstream rrom contracting as well as acting as an end plate on the propellers to account for the decrease in vortex downwash. Experimentation and validation was later performed by NASA which

undertook development of ducted fans for their turbojet designs. Some of the experimentation went towards flutter analysis [11] and the limitations of one-spool engine design [12] as well as validation of the past theoretical design functions [13]. Once the ducted fan design became more popular, much more analysis was performed to focus on sound dampening. It was determined that rotors can be optimized to have a lower tip speed and uniform blade loading which can reduce noise [14-17]. Acoustic treatments can also be placed within the nacelles to reduce noise further [18].
It wasn't until the 1960's that NASA took the technology acquired from turbo-fan design

and applied it to propellers.

A study was performed by Mort et al. [19] to determine the

aerodynamic characteristics of a 4-foot diameter ducted fan. They concluded that the ducted fans could generate efficiencies in excess of 80% in normal conditions, but would succumb to inlet lip separation and consequently increased noise levels, at high angles of attack. This helped in the research of the Bell X-22 V/STOL aircraft project [20] which later evolved into the now well known V-22 Osprey. At about the same time, much analysis went into the development of ducted fans for hovercraft application [21-22]. The ducted fans served a dual purpose by

channeling air to inflate the skirt as well as providing thrust to propel and steer the hovercraft. More recently design and analysis has gone into creating ducted fans for UA V application. A recent study by Kondor et al. [8] looked at the possibility of modifying the circulation about the nacelle using integrated jets as a means of "morphing" the nacelle geometry without moving its surfaces. This would allow the ducted fan to perform in a larger flight regime, since it could adapt to the flight conditions. This is useful for ducted fans since they tend to only work for the regime in which they were designed. If the design could change to suit the
2

conditions, that p1ay make ducted fans more applicable to general aviation aircraft.

What

Kondor et al. found was that the presence of the jets was able to improve the static performance of a duct design that was optimal for axial flight. A significant amount of CFD optimization studies have been performed on almost all aspects of the aircraft. One of the earliest was performed by Hicks et al. [23] in 1977 which focused on the optimization of multiple 2D airfoils that made the span of a wing. Although this was not CFD as we know it today, it did show the feasibility of coupling CFD with optimization which paved the way for further studies. Since the rapid advancement of computer power, many more complicated and large scenarios have been tested. Further studies have been conducted for designs like airfoils [24-26], wings [27-29], and even full aircraft [30-32]. One such study performed by Madavan [33] used a genetic algorithm to optimize a turbine blade. Madavan showed how the genetic algorithm was able to find the global minimum, while still noting the advantages of a gradient-based algorithm. One study by Gur et al. [34] showed how the combination of both could be beneficial for the optimization of a propeller blade under multiple design objectives. The propeller was optimized under various structural, acoustic, and aerodynamic constraints. The optimization process started with a genetic algorithm to find the location of the global minimum. It was noted that genetic algorithms produce a "noisy" search process and do not focus on a specific area of interest, thereby making them inefficient for the entire optimization process. Once the global minimum was found, a Simplex method was used to quickly move the solution towards the optimum point. Once close to the optimum point a steepest-descent

approach was put in place to locate the minimum and finish the process. Although the global minimum was believed to be found for each case, the iterations required to achieve this were in excess of 5000 iterations, just for the genetic algorithm alone. This was not believed to be a problem for this study since the scenario was analytically defined and therefore a single solve did not take much time. However, for cases that involve CFD, a more efficient algorithm would have been required to keep the amount of iterations to a minimum. Gradient-based algorithms tend to be the most efficient and the algorithm of choice for CFD optimization. This is demonstrated by Leung et al. [35] who optimizes a wing using a Newton-Krylov approach with an excess of 170 design variables. In this study Leung et al. examines the performance of a transonic wing and attempts to optimize it using a Quasi-Newton 3

approach. The optimum wing was defined by keeping the initial lift coefficient and reducing the drag coefficient to a pre-determined value. What they found was that after 120 iterations, the Quasi-Newton algorithm had reduced the objective function value by 12 orders of magnitude. The drag was reduced by 73.4% and the coefficient of lift was held to within a high degree of accuracy. This study shows the effectiveness of the Quasi-Newton optimization algorithm for aerodynamic design using CFD. Another critical component in the optimization of an aerodynamic body is how it is represented and controlled geometrically. Typically a set of control points define the shape of the aerodynamic body, however the way they are connected to each other has been known to affect the optimization process. This was studied by Mousavi et al. [26] who compared the effectiveness of representing a body using mesh points, B-spline surfaces, and Class function/Shape function Transformation (CST). It was noted that B-splines allow for a reduced number of design variables, and thus permit the use of a Quasi-Newton optimization method. Their study was performed on a number of cases, however the most notable was one in which a 2D drag minimization was performed on an airfoil. It was concluded that the B-spline method proved to be the most efficient by reducing the drag the most, by approximately 40%, while only using 16 control points to define the airfoil. This is a promising result since the geometry of the ducted fan for this study is defined by only a few design variables connected by splines.

1.3

Objective
In this study, blade element theory is coupled with disk actuator theory to assess the

potential of the ducted fan system as well as define a pressure profile boundary condition for 2D CFD analysis. The 2D CFD analysis is used to define a base geometry for a higher fidelity 3D CFD aerodynamic optimization. The 3D CFD optimization uses a Quasi-Newton Broyden-

Fletcher-Goldfarb-Shanno (BFGS) algorithm to obtain an optimal configuration of the ducted fan.

1.4

Thesis Summary
Chapter 2 describes a study performed that uses a basic optimization procedure to find a

relatively optimal 2D ducted fan configuration. The results from this section were used as the starting point for the in-depth 3D optimization. In Chapter 3, the optimization algorithm used in the 3D analysis is described. Its description is broken down to include each of the minimization 4

methods

conside~ed

and the final choices based on the information. Chapter 4 describes the The results

initial ducted fan geometries and the design variables that control the shapes.

obtained from the 3D optimization are then analyzed to see the degree of change from the initial configurations as well as the performance improvements from the optimization. In Chapter 5, conclusions are made as to whether the ducted fan achieved a global or local optimum and whether or not the final design is suitable for its purpose. Future considerations are given in Chapter 6 as to what can be done next to supplement this analysis.

5

This page intentionally left blank

2
2.1

Two-Dimensional Optimization
Introduction
The overall design of the ducted fan for the single engine aircraft started with a 2D

analysis of duct and hub shapes and sizes, using performance data from a desired propeller geometry. This initial design work was broken down into 2 phases. The first phase involved the creation of a computer program that used disk actuator and blade element theory to design an optimal blade geometry for the propulsion unit. The second phase used the performance data from the optimal blade geometry and incorporated it into a 2D CFD analysis where various duct and hub cross sections were tested manually together to find an optimal duct and hub configuration. The 2D design of a duct and hub configuration was done to provide an estimate of the expected performance as well as serve as a starting point for the more in depth automated 3D optimization process. The duct and hub cross sections that were found to work best from the 2D optimization were revolved into a 3D geometry, and the optimal propeller itself, was placed into this configuration. This created the 3D model of the ducted fan that was later fully optimized by an automated optimization algorithm.

7

2.2
2.2.1

Propeller Design
Background Theory
A common visualization of the flow characteristics for a blade element is shown in Fig.

2.1. The calculation process that follows is that of Houghton et al. [36].

V(1+ tl )

Figure 2.1: General blade element at radius r from axis of rotation

where r is the radius, and Q is the rotation rate in (rad/s). The figure above shows the crosssection of a blade in the plane of rotation. This element has a speed in the plane of rotation equal to Qr m/s. The flow is also moving in the plane of rotation which is equal to a fraction of the elemental speed, thus being denoted as bQr m/s. Therefore the effective speed of rotation of the element is equal to Qr( 1-b) m/s, where the magnitude of b indicates the fraction of momentum in the rotational plane relative to the local blade rotation speed, otherwise known as swirl. The propeller is also advancing at a speed of V mls normal to the plane of rotation, where a represents the magnitude at which the velocity of the flow has increased when entering the plane of rotation. Therefore the effective velocity into the blade element is equal to V( 1 +a) m/s, where
Va mls is the magnitude of the inflow which varies radially since a and b are both functions of

radius r. From Fig. 1, the relative velocity can be found from the following formula.
VR = V(l + a)sin -I¢= Qr(l-b)sec¢

(2.1)

8

This value is

th~

effective incoming velocity that the element sees. By using this value, the

appropriate lift and drag quantities can be found and used to determine the thrust and torque of the system. The incremental lift and drag are defined as follows.

t5L =Be&~ pV~CL
&J

(2.2) (2.3)

= Be8r~pV~C 0

Where B is the number of blades. The incremental thrust is then found by combining the lift and drag in the following manner, which corresponds to Fig. 1.

or= &cos¢ -

&Jsin ¢
(2.4)

This equation can then be altered to incorporate a common variable, known as the "propeller solidity" or, a, where
0"=-

Be 2m-

(2.5)

Resulting in,

= 2m-O"~ pV~ (C L cos¢- C 0

sin¢)

(2.6)

In order to simplify the above equation further, it is first expanded to the following form.
dT = m-O"pV~C L(cos¢- tan ysin ¢) dr

= l!rO"pV} c L sec y( cos¢ cos r- sin¢ sin y)
Where, tan r

(2.7)

= ____!!.._
CL

c

(2.8)

Assuming that the blade element has moderate incidence angles with the relative flow , the ratio of C0 /CL is small. This means that the angle y is also small, being approximately 1.15° for most applications [36]. Therefore with this approximation, sec y :::: 1, Eq. 2.7 can be simplified as follows
-

dT = m-O"pV~ C L cos(¢+ y) dr

(2.9)

writing, 9

t

= CL cos(¢+ r)
-=m-arpv:
dT dr

(2.10)

the final equation for the thrust as a function of radius, for the whole propeller is, (2.11)

Using a similar derivation technique, the total torque, Q, as a function of radius, can be written as follows (2.12) Where,

q = CL sin(¢+ r)

(2.13)

In order to form a closed system and reduce the amount of unknowns, disk actuator theory must be involved in the solution process. Disk actuator theory is different from blade element theory as it takes a momentum conservation approach to the flow through the propeller.

Figure 2.2: Disk actuator representation of propeller [37]

The thrust is equal to the product of the mass flow through the control volume and the change in velocity. The following equations are derived with respect to the flow through a single annulus. 10

8r=m~

(2.14)

m=(area

of annulus)(velocity through annulus)(density)

= (2JZ'r&)[V(l + a)]p
= 2Jrrp8rV(l +a)
bV =VExit -V
=

V(l + 2a)- V

=2aV

The thrust is then equal to (2.15) Resulting in,
dT - = 4JrprV 2 a(1 +a)

dr

(2.16)

The above derivation allows now for the variable a to be solved for through an iterative approach since this system of equations cannot be solved analytically. Combining Eq. 2.16, 2.11, and 2.1, the following equation is formed. (2.17) Where then a can be solved for to give the following equation.
2 - - = l.atcosec ¢ 4

a

1 +a

(2.18)

The same can be done for the variable b. Again, using a similar derivation technique, the angular momentum is equal to (2.19)

= (21lr& )[pV (1 +a) ](2bQ)r 2
= 41lr pVb(1 +a )QJr
3

(2.20)

Thus giving
dQ =4m- 3 pVb(l +a ).Q dr

(2.21)

Substituting both equations for VR (Eq.1), into Eq.12, yields
dQ = m- 2 ap[V (1 +a) cosec¢ ][.nr(l- b) sec¢' ]q dr

(2.22)

11

By setting Eq. 2.22 equal to Eq. 2.21, and perfonning some manipulation, the variable b can be solved for to yield the following equation.
- - = -taqcosec¢sec¢

b

1-b

= 1aqcosec2¢J

(2.23)

2.2.2

Algorithm Iteration Process
As mentioned earlier, by rearranging the above equations for the variables a and b, a

solution approach is created that necessitates the need for an iterative process. This process starts by guessing values for a and b and inputting them into the following equation. tan¢= V(l +a)
!lr(l-b)

(2.24)

This provides a value for ¢ which can then be inputted into Eq.l to solve for VR. This value, as mentioned earlier, is the speed of the flow relative to the blade element. A common problem in propeller behavior however, is that this relative flow may approach sonic speeds or close to sonic speeds, in which case the blade element will be subjected to compressibility effects. Therefore a function was incorporated which is known as the Prandtl-Glauert correction factor, which is shown below. (2.25) This function corrects the lift-curve-slope of the airfoil to incorporate the compressibility effects that it is seeing. It is accurate for up to a Mach number of 0.75. With the corrected lift-curve-slope found, the CL can be calculated from the following formula.
C =adCL L da

(2.26)

This value, along with ¢,can then be substituted into Eq. 2.10 and 2.13 to solve fort and q. To complete one iteration, these values are then substituted into Eq. 2.18 and 2.23 to solve for new values for a and b. However, these new values of a and b are not used in the next iteration, rather, the method of arithmetic mean is employed and the output values are averaged with the

12

input values of a and b to create new values. The next iteration can then commence and this
~

process can be continued until the desired accuracy is obtained. A common loss in efficiency for propellers is the introduction of swirl motion into the flow. However, methods can be taken to change this rotational energy of the swirl, into axial energy required for thrust. Thus, a peak efficiency can be found from the previous calculations by simply forcing the variable b equal to zero. As was explained earlier, b represents the

magnitude of the rotational ve .ocity of the flow. Therefore, if b was equal to zero, then the rotational velocity of the flow would also be zero. Thus, all energy in the flow would be purely axial, and this situation would represent the highest efficiency that can be obtained in the system in terms of losses due to swirl. However, in reality this situation is very difficult, if not

impossible to obtain, but it does represent an upper bound to which efficiencies in the system can be optimized towards. Efficiency can be defined by the following equation.
d

"= -------Useful power output Power input
=

V dT/ dr 2JTn dQ / dr
V 2JrrCJ'
2

=

1pV}t

21ln 21rr CJ'

1pV'} q
(2.27)

=---

v

t

21lnr q

where n is the revolutions per second.

2.2.3

Propeller Design Steps
The computer program that was created required input variables that defined the

geometry of the propeller as well as the flight conditions, and the output was thrust, power consumed and efficiency. The flight conditions chosen for the propeller were for the cruise segment of the flight which were defined as an airspeed of 270kts at an altitude of 21000ft using a maximum of 350Hp. This is the largest portion of the flight and to optimize the propeller for this regime would be the most logical approach in the early stages of design. A simple design method was chosen for the propeller; beginning with an arbitrary configuration, successive manual adjustments were made to improve performance. The initial configuration of the propeller is shown below. 13

Table 2.1: Initial configuration
Configuration 1 Inputs #of blades Chord {em) Hub diameter {em) Propeller diameter {em) RPM Airfoil Twist Pitch at 0. 75R
16 9.9 8.3 49.8 5600 Clark Y Linear 68deg

Outputs Power input {Hp) Thrust {N) Efficiency
320 969.7 56°/o

The Clark Y profile was chosen since it has commonly been used for propeller design and thereby provides a good starting point for further refining of the configuration [38]. Since the initial choice of 16 blades was arbitrary, to make the design more reasonable, the amount of blades was reduced by half. Reducing the amount of blades makes the analytical approach more reasonable as any blade to blade interaction is not included in the analysis [39]. Therefore, this analytical method should provide less error for a fan with fewer blades. To improve the design further, the radius of the blades were increased to a size that allowed the radius to be large, but not so large that the propellers looked out of proportion with the rest of the aircraft. The advantage of doing this is that increasing the radius is a very

effective way of increasing the thrust while also keeping the power input down. The resulting configuration is shown below. Table 2.2: Improved design
Configuration 2 Inputs #of blades Chord {em) Hub diameter {em) Propeller diameter {em) RPM Airfoil Twist Pitch at 0. 75R
8 9.9 8.3 70 5600 Clark Y Linear 51.5deg

Outputs Power input {Hp) Thrust {N) Efficiency
350 1445.7 76°/o

14

The ratio of the tlp"ust over the power input has increased from 3.03Nihp from Configuration #1 to 4.13Nihp for Configuration #2, showing an increase in efficiency. As well, the increase in efficiency expected from reducing the amount of blades is not included in these ratios as the performance program does not include 3D effects such as blade wake interaction. Therefore, the increase in performance is expected to be higher. Another characteristic that was evaluated for the purpose of increasing propeller performance was the blade twist. Due to the rotation of the propeller, the effective velocity seen at every location along the span is different, and because of this the effective angle of attack of the blade section changes along the radius. Thus the propeller needs to be twisted along the span to compensate for this changing angle of attack. There are many ways a propeller can be

twisted. According to rotor design theory for turbine engines, a rotor can be designed to have as many as 7 different types of twist, each hav1 g its own benefit [40-41]. As the current design in question is a ducted fan, rotor theory is very applicable. The one type of twist for a rotor that is corrunonly used for propellers is known as a free vortex design. A free vortex is one in which the angular momentum is constant along all radii. This corresponds to a tangential velocity that is inversely proportional to the radius. In other blade theories a free vortex design is referred to as a hyperbolic twist [42]. A hyperbolic blade is twisted at a rate from root to tip that varies according to a hyperbolic equation. Blades can also be twisted linearly to cut costs, however this results in performance degradation [42]. It is more efficient to vary the propeller hyperbolically because the effective angle of attack of the flow naturally varies hyperbolically along the span of the blade. The following figure was generated by the propeller program to illustrate the natural tendencies of the flow to follow a hyperbolic variation of angle of attack along the span of an arbitrary blade.

15

100 90 80 70
(j)

'...~ .

.

~
Cll

* g,

60 50 40 30

.. ·... .... . ....

""
0.5

...

~ 20
10

Ol

" " ······ ·····"

l =~hh~tal

· ··········~
1.5
2

0 0

"

2.5

Radius (m)

Figure 2.3: Hyperbolic distribution of flow along arbitrary blade

In the above figure, phi, is the angle of the flow and theta, is the absolute angle of the blade. By having a linear twist, the blade results in an effective angle of attack in excess of 20 degrees which would surely result in separation and a loss in performance. By forcing the blade to have a hyperbolic twist, the same as the flow, it ensures that the blade will not separate, and it also ensures that the effective angle of attack of the blade can always stay at its optimal level. In most airfoil cases, this optimal angle of attack is 5 degrees [43]. At this angle, the lift to drag ratio is the highest which means the airfoil is producing the most lift for the amount of drag in comparison to all other angles of attack. For a propeller, this will mean that it is producing the most thrust for the amount of input power. The figure below shows the resulting blade angle distribution.
100 ~----------------------------------~ 90 80

gr 70
0,
Cll

·········· phi
+--------~______::,._~-------~ -- theta

~ 60
Cll

~50 -t--------------=---..-::----=~------t

Ol

----- theta
new

40 30 0 0.1

0.2
Radius (m)

0.3

0.4

Figure 2.4: Hyperbolic twist distribution for current design
16

theta new is the resulting twist distribution for a propeller with hyperbolic twist. The new twist

distribution holds the effective angle of attack of the blade at 5 degrees which guarantees efficient operation. The resulting final configuration after the addition of hyperbolic twist and further refining is shown below. Table 2.3: Final propeller configuration
Final Propeller Configuration #of blades Chord (em) Hub diameter (em) Propeller diameter (em) RPM Airfoil Twist Pitch at 0. 75R Constant effective angle of attack
6 9.2 15 70 5600 Clark Y Hyperbolic 51.7deg 5deg

The performance output of this configuration is shown in the following table. Table 2.4: Final propeller performance
Final Propeller Performance Induced power (Hp) RPM Thrust (N) Efficiency
350 5600 1507.9 80°/o

From the blade configuration shown in Table 2, there was a 3.61% increase in efficiency for the design due to the addition of a hyperbolic twist.

2.3
2.3.1

CFD Analysis
Exporting the Propeller Data
The second phase of the project involved designing the duct and hub using a CFD

analysis. The results obtained from the propeller program in the first phase of the project were coupled with a CFD analysis to mimic the effects of a propeller boundary. This allowed the duct and hub portions of the propulsion pods to be designed with respect to the actual flow characteristics. 17

By referencing disk actuator theory, propeller performance can be described by a pressure distribution before and after the plane of rotation, as was seen in Fig. 2.2. Using the known velocities at the propeller plane, the pressure distributions were calculated using the following approach. To find PI, the pressure in front of the propeller, Bernoulli's equation can be applied as follows

Po +2P o -PI +2Pv1
PI =Po

I

y2 _

I

u2

+1 p(Vo - llr
2

(2.28)
2 )

where Po is the atmospheric pressure, pis the density, V0 is the freestream velocity, and VI is the velocity of the flow at the propeller plane. To find p 2 , the pressure behind the propeller, the following equation derived from disk actuator theory can be used
dT = dAdisk (p2- PI)

p2

=~+pi

dT

(2.29)

disk

where Tis the thrust, and Adisk is the area of the actuator disk that represents the propeller. Both Eq. 2.28 and 2.29 were solved at each incremental location along the span of the blade. The resulting pressure distribution can be seen in Fig. 2.5
6000 5000 4000

__,.,..,...
..........

C?
;- 3000

:J
(/)

-- ---- ----0.2 Radius (m) 0.3

- ....

r==;l
~

~ 2000
CL

1000

0 0
0.1

0.4

Figure 2.5: Pressure distributions at propeller plane

18

An example output of the pressure distribution can be found in Appendix I. <

The pressure

distributions are linearly dominant and therefore were characterized by linear trend lines. The equations that describe the pressure distributions are shown below.

p 1 = -2949.38r + 3913.20

(2.30) (2.31)

p2

= 3259.51r + 4059.73

These equations were placed as boundary conditions for the 2D CFD analysis. An example configuration with the locations of these boundaries can be seen in Fig. 2.6.
Propeller location

Freest ream

________ '\________ _
Plane of symmetry

Figure 2.6: Dynamic pressure distribution on sample ducted fan

2.3.2

Test Areas and Configurations
For the 2D optimization of the ducted fan, four test areas were selected to focus on for

finding an optimal geometry, which were the leading and trailing edges of the both the duct and hub. The locations of these test areas are shown below.
6.89e+01

4.41e+01

.93e+01

Figure 2. 7: Duct and hub test areas shown with velocity distributions

19

For each test area, three different geometries were selected. In total, this resulted in 81 different configurations that were analyzed. Shown below is a list of the different geometries that were selected for each of the test areas. Table 2.5: Geometries for each test area
Test area #1 Configuration #1
Canted downward duct inlet

Test area #2
Converging duct outlet

Test area #3
Short hub nose

Test area #4
Short hub tail

Configuration #2

Straight duct inlet

Straight duct outlet

Medium hub nose

Medium hub tail

Configuration #3

Canted upward duct inlet

Diverging duct outlet

Long hub nose

Long hub tail

All 81 cases were each defined by a code using Table 2.5. For example, a case defined by the code "3123" corresponds to the following geometric properties. Table 2.6: Geometries for each test area
Test area #1
j

Test area #2
1

Test area #3
2

Test area #4
3

Configuration#

3

Case 3123, has a "Canted upward duct inlet", "Converging duct outlet", "Medium hub nose", and "Long hub tail".

2.3.3

Mesh Validation
An established fact CFD analysis is that as the mesh spacing of a computational grid

decreases, the resulting solution has increasing fidelity. The reason for this is that the curvature of the geometry is better represented by a smaller mesh due to more mesh sections making up the surface profile. An example of this can be seen in the comparison below.

20

Figure 2.8: Geometry meshed with a small amount of mesh elements (less accurate)

Figure 2.9: Geometry meshed with a large amount of mesh elements (more accurate)

A high mesh density also provides greater resolution in the flow field especially in regions of high solution gradients since there are locally more nodes available to capture the flow characteristics. A geometry that is meshed with a mesh size that is infinitely small, will result in the most well resolved values possible. However, having a geometry that is meshed with an infinite amount of elements is not practical, nor is it possible. Thus a study was undertaken to find out what mesh spacing and how many mesh elements are required for a solution that results in a tolerable error. The study that was conducted involved testing different mesh sizes using the same duct and hub geometry to find out the mesh size needed for a well resolved solution. The mesh was varied by

21

changing the growth rate of the mesh from the surface outwards, as well as varying the node spacing along tqe surface of the duct and hub. Other variations included using different meshing techniques. By approaching the study in this fashion, the results not only show how small the mesh has to be, but also the best technique for meshing which will give the highest resolution for the least amount of mesh elements. Multiple test cases were assessed for their drag, and were plotted on a graph against their mesh size. This graph is shown below
0.008 0.006 0.004 0.002 0
)

·

··
·

"0

0

· #
40000 · · 60000
..... ....

20000

80000

100000

12C0100

-0.002 -0.004

·

# of elements

Figure 2.10: Mesh size as a function of drag

where the coefficient of drag is defined by the following formula. (2.32) The characteristic length d is the outer diameter of the duct. Fig. 2.10 shows a curving trend that looks to be as if it were approaching an asymptote, thus making it a hyperbolic trend. This trend makes sense when considering what was

mentioned earlier, where the most well resolved values result from a mesh with infinite elements. Thus, according to Fig. 2.1 0, the most accurate drag value will result as the number of elements approaches infinity. This value of drag is equal to the asymptote that the curve is constantly approaching. An equation was devised using three points taken from the graph that defined the average curve. This equation was derived from a common equation for a hyperbola, shown below.

22

b y=a+-x-c

(2.33)

The resulting equation is as follows

c = -.00495 +
D

243 5 .4 X+ 12595.26

(2.34)

This was plotted on the graph to see how well it fit to the data points, which is shown below.
0 .016 0.014 0.012 0.01 0.008
0
"'0

0.006 0.004 0.002 0 -0 .002 -0.004 # of elements

Figure 2.11: Plotted equation for mesh size as a function of drag

The equation fits quite well with the data points and therefore provides a good estimation of the actual value for the drag. By taking the limit of Eq. 2.34, the estimated value for the coefficient of drag was found to be equal to -.00495. According to this value, to obtain a

solution with an error below 10%, which is assumed to be reasonable in this case, the drag value would have to be equal to or less than -.00446. By extrapolating the curve in Fig. 2.11 outwards, the mesh size needed to achieve this value for the drag is approximately equal to 480,000 elements. Therefore, the study concluded that the mesh size needed to achieve a result with less than 10% error, would have to be in excess of 480,000 elements. When considering the relatively long time and large computational resources needed to obtain a solution that contains more than 480,000 elements, and in addition still obtaining a 10% error, this conclusion proves to be impractical. Thus a new technique was adopted that used the above method of creating a curve from selected points and calculating the actual expected value as the number of mesh elements approaches infinity. This method is known as Richardson Extrapolation [44]. 23

The first step in performing a Richardson Extrapolation, is to determine the order of convergence from the following equation.
p

= ln(/3 -

fz )/ln(r) fz- f1

(2.35)

Where f 1, f 2, and f 3, are the results obtained from each meshing case, and r is the constant grid refinement ratio. To obtain an accurate curve extrapolation, at least three different meshing cases are needed to provide the points along the curve. These points must also be located evenly along the curve to ensure the best possible extrapolation. The constant grid refinement ratio is the value chosen that increases the mesh size between cases. For example, if r is chosen as 4, Case 2 will have 4 times more mesh cells than Case 1, and Case 3 will have 4 times more mesh cells than Case 2. This ratio can also be chosen to represent other values such as the nodal spacing. However, this is usually the case for a relatively simple grid. In the case of the ducted fan optimization, the geometry is relatively complex and so the constant grid refinement ratio was chosen to affect the overall mesh size. Once the order of convergence is obtained from Eq. 2.35, Richardson Extrapolation can be performed to find the projected final value.
1-' J h= O

=f

I

+ ft- fz
r
p

- 1

(2.36)

Where fh=O is the estimated objective value as the error approaches zero. For the ducted fan analysis, the constant grid refinement ratio was chosen as 4. The resulting mesh cases are shown below. Table 2.7: Mesh cases for Richardson Extrapolation
# of mesh cells Case #1 Case #2 Case #3 12500 50000 200000

To vary the mesh size, the nodal spacing had to be changed for each case. To help continuity between cases, the variation of node spacing was held relatively constant at approximately a factor of 2. This ensured that no edges were excessively coarse or refined relative to the rest of the edges. The resulting distribution of cases along the expected curve is shown below.

24

0.02

0.015

0.01

"0

0.005

t
' \2500

0

0

-0.005

5~

200 .._ 0 00

200000
# of elements

-

300000

400000

5ocp 00

-0.01

' Figure 2.12: Richardson Extrapolation mesh case distribution

The distribution of the cases accurately represents the curve that they are placed on. By having Case 2 (50000 mesh cells) at the inflection point, this improves the accuracy because there is a value available on the high gradient section ( 12500) as well as on the low gradient section (200000) of the curve. This gives a detailed illustration of how the curve behaves, and therefore results in maximum accuracy of the extrapolation to the final value.

2.4
2.4.1

Two-Dimensional Results
Inviscid Results
The final coefficient of drag results are shown Fig. 2.13. A table listing how the case

numbers correspond to the configuration, is shown below. These definitions correspond to Table 2.5.

25

Table 2.8: Configuration legend for Fig. 2.13
Case Con fig Case Con fig Case Con fig Case Con fig Case Con fig Case Con fig

1 2 3 4 5 6 7 8 9 10 11 12 13

1111 1112 1113 1121 1122 1123 1131 1132 1133 1211 1212 1213 1221

14 15 16 17 18 19 20 21 22 23 24 25 26 27

1222 1223 1231 1232 1233 1311 1312 1313 1321 1322 1323 1331 1332 1333

28 29 30 31 32 33 34 35 36 37 38 39 40

2111 2112 2113 2121 2122 2123 2131 2132 2133 2211 2212 2213 2221

41 42 43 44 45 46 47 48 49 50 51 52 53 54

2222 2223 2231 2232 2233 2311 2312 2313 2321 2322 2323 2331 2332 2333

55 56 57 58 59 60 61 62 63 64 65 66 67

3111 3112 3113 3121 3122 3123 3131 3132 3133 3211 3212 3213 3221

68 69 70 71 72 73 74 75 76 77 78 79 80 81

3222 3223 3231 3232 3233 3311 3312 3313 3321 3322 3323 3331 3332 3333

0.14
7

0.12 1 0.1

·

4

0.08

0.06
"C

u

0.04

0.02

0

33

-0.02

·
Case

-0.04

Figure 2.13: Final results for all 81 configurations

26

The test c~ses resulted in 19 configurations that produced negative drag, which is equal to a net thrust. A net thrust is possible since the fan is imparting energy into the flow which is seen as high pressure aft of the duct and hub. The best configuration, which produces the most thrust, is shown below.

Figure 2.14: 2D configuration that produced the most thrust

This configuration, compared to all the others, is the best one suited for the aircraft cruise condition. However, it may not be the best when in off-design conditions. An analysis was completed that assessed the inlet flow when the ducted fan was operating at lower free stream velocities. What was observed was that at the lower speeds, not only was the volume of air in front of the pod being ingested, but some of the air around the duct was being forced in as well. This resulted in air wrapping around the inlet of the duct in order to enter the pod. This effect can be seen below in Fig. 2.15.
2. 02e ·. l.92e · l.82e· 1 1.72e· l.61e · l.S i e · 1. 4 1e · l.3 1e· l.2 1e · I. l i e · · l. Oi e · 9. 09e · 8. 08e· 7. 07e · 6.0 Be · 5. 05e ·

·

1

I

! /

4. 04e· ,'
3. 03e·

..... . .

-

Figure 2.15: Velocity vectors at duct inlet due to low free stream velocity for most optimal

27

-The flow appears to have too much momentum for the curvature of the duct inlet, and separates from the wall before entering the propeller boundary. A region of reversed flow is created just in front of the propeller which degrades performance. This problem is known as inlet lip separation
[19].

Inlet lip separation, as mentioned earlier, is caused by the momentum of the flow being too high to make it around the relatively sharp curvature of the duct. One way to solve this problem is to elongate the curvature such that the flow does not have enough momentum to force itself tangentially outwards away from the surface. This would keep the flow attached as well as keep performance at its highest. Coincidentally, the configuration that had the second best

performance by thrust produced had an inlet like this, which can be seen below.

Figure 2.16: Velocity vectors at duct inlet due to low free stream velocity for second optimal

The inlets of the above configuration are canted outwards which would keep the flow attached as it enters the duct. This can be seen in Fig. 2.17.
2.05e ·
1.94e· 1.84e · 1.74e· 1.64e· 1.54e · 1.43e·
\ I '

:, ,'
, ·\' \ \ \'·
, · , ,, \ ,~-

, ;
I

Jl

1

'.

_ ;- ~·-_ ;:: ; ·-.
-~~-~~

: :~;~:

;/ii//;(.}.·~ ~-~-·::·:::. <-

J. J3e·
1.0 2e ·

!:!!::. ·_ :.·.<~~~·
:::::
2.06 e · - ·, "''\.' ~; ~:

9.22e ·

"' . \' . ·

:.,,,~ ~~~~~~; '-'~ -'
$

!: ~ ~~: :-~~>;t~~<-~-:~:"f-s~~-'~::~-

--.. ~-.. ,..-... ._,.._ ..-,.,

_ ;:- I '
·

Figure 2.17: 2D configuration that produced the second most amount of thrust

28

According tp the results, the loss in performance by ustng the above configuration is expected to be minimal when compared to the performance gained by keeping the flow attached as it enters the duct. This configuration is expected to maintain its performance for slightly offdesign conditions when the airflow enters at a small oblique angle relative to the duct axis. Therefore, the above configuration was chosen as most optimal and was used as the basis for the 3D optimization.

2.4.2

Viscous Results
A viscous analysis was performed on the top 8 configurations to see how the viscosity of

the fluid affected their performance. This study was focused more so on observing how the relative performance changed, rather than the overall performance of each configuration by itself. The purpose of this was to show that the inviscid analysis was sufficient to generate accurate trends between the configurations, rather than accurate drag values. The overall goal of the 2D analysis was to find the optimal configuration relative to the others. The aim of the viscous analysis was to show that the optimal configuration in the

inviscid analysis was still the optimal in the viscous analysis, thereby validating the inviscid approach. Richardson extrapolation was used for the viscous analysis and the results were

plotted alongside the inviscid results which are shown below in Fig. 2.18.
0.02 0.015 0.01
· lnviscid

-r--------------------.

0.005 0

·Viscous

3233

3133

3123

3223

3232

3333

3

-0.005 - ' - - - - - - - - - - - - - - - - - - - - - ' Configuration code

Figure 2.18: Coefficient of thrust comparison between viscous and inviscid flows

The original trend of best to worst is strongly maintained. However, what is the best configuration in the inviscid case is no longer the best in the viscous case. This is an odd result as the only difference between the best case and the second best case is the shape of the inlet.

29

The best case has a straight inlet, and the second best case has a canted outward inlet. Therefore, a change in thrust this large due to viscous effects should not result from a change in geometry that is strongly pressure drag related. A possible explanation for this may be due to Richardson extrapolation being applied to a viscous case. Due to the combination of tetrahedral mesh and boundary layer mesh, a

Richardson extrapolation is more susceptible to error since it is more difficult to consistently refine the grid, based on the grid refinement ratio. Not only does the node spacing have to be considered, but also the boundary layer wall spacing and growth factors. If even a small

inconsistency occurs in any of the results, this can skew the final result by a large magnitude since the trend is extrapolated outwards towards infinity. The analysis was not taken any further to verify if the viscous result for Case 3233 was an anomaly or not. The reason for this is that in the previous inviscid analysis, it was determined that although Case 3233 showed the best performance in its design condition, it was expected to degrade in its performance significantly in off-design conditions. As a result, Case 3133, was also considered as the basis for the 3D optimization initial design. Therefore, if it was later concluded that the viscous result for Case 3233 was an anomaly, and did actually result in the best viscous case, the observations from the inviscid analysis would still show Case 3133 as the favourable option.

30

3
3.1

Numerical Optimization Algorithm
Introduction
The objective of this project was to find the optimal ducted fan configuration. Unlike the

previous optimization method mentioned in Chapter 2, the full optimization of the three dimensional ducted fan required a more automated, efficient approach. There are many reasons for this. Firstly, the full optimization was to take place on a three-dimensional design. By performing the analysis in three dimensions, more mesh elements were required which therefore greatly increased the time necessary to achieve a solution. Since it took more time to achieve a solution, the optimization process needed to be as efficient as possible to obtain the least amount of solves necessary to achieve an optimal design. To improve the optimization process further, it had to be automated. The methodology presented in Chapter 2 required constant attention and manipulation. By automating the

procedure, it can run continuously, without the need for use input. The methodology in Chapter 2 also required pre-made geometries which-were designed based on intuition. The point of using an optimization algorithm to fully optimize a design is that it works purely based on results sometimes giving an unpredictable geometry. Also, because it is automated, an optimization algorithm can make the decisions itself on how to manipulate the geometry. Therefore, instead of having to choose from a list of pre-made geometries, it can move the nodes itself (design

31

variables) to change the shape and create a new geometry. This process allows for more freedom of design. Pre-made optimization algorithms are available within MA TLAB, and one of those could have been used instead of programming an optimization routine from a known algorithm. However, as they are component functions of a larger application program, the code is unavailable to observe and manipulate in the event of an unknown error or a failed optimization. Those routines are also programmed to allow for a wide range of optimization scenarios. Thus by creating one from a known optimization method, allows for the algorithm to be tailored to the problem and possibly be more efficient.

3.2

Objective Function
The ducted fan was optimized to maximize thrust for a given power input. The objective

function used for this optimization is given below.

J(X) = 1000- Thrust( X)

(3.1)

Originally the objective function was the inverse of the thrust, however this posed a problem if the thrust was ever negative (drag of duct and hub overcame the thrust of the propeller). If the thrust was ever negative, the objective function would be negative, and the optimization algorithm, trying to minimize the objective function, would interpret that result as a minimization and proceed to optimize in the same direction. Therefore an arbitrarily high

number was chosen to perform a subtraction of the thrust, as seen in Eq. 1. Increasing the thrust would still result in a decreased objective function, and if the thrust were ever to become negative, the objective function would result in an increase. The objective function is a function of the thrust and the thrust is a function of the design variables, (X). For the ducted fan optimization process, a CFD analysis would have to be

performed on the geometry defined by the design variables. Various thrust and drag values would be recorded for the propeller, duct, and hub which when put together would result in an overall thrust. This thrust value would be inputted into Eq. 3.1 to define an objective function for that geometry. If the design variables are changed, a new ducted fan geometry will be generated. This would result in different thrust and drag values for the propeller, duct, and hub. The overall thrust would be different, which would result in a different objective function. This would be

32

inputted into an

~ppropriate

optimization program which would then decide how to manipulate

the design variables such that the thrust increases and consequently Eq. 3.1 decreases.

3.3

One-Dimensional Minimizations Methods
The full optimization of the ducted fan configuration required the manipulation of many

control points that defined the geometry, thus making the analysis multi -dimensional in nature. However, the final choice of the multi-variable optimization method required a sub-routine that solved a one-dimensional problem. Therefore, a study was undertaken to assess the pros and cons of various one-dimensional optimization routines in order to find the best one, as well as gain a firm understanding of the methodology for optimization. A one-dimensional optimization usually takes place on what is known as a unimodal function. This type of function contains one minimum or maximum within a specific interval and can be continuous or discontinuous in nature. The objective of the optimization process is to find the minimum (or maximum) of the unimodal function within the desired interval [45]. One of the most basic processes that can do this is known as the Fixed step size method. This is the easiest method to program, however it is one of the most inefficient. It starts with a step is taken in a favourable direction from an initial point that lies on the unimodal curve. The function value of the curve at that point is recorded and a new step is taken in the same direction using the same step size. This process is repeated until the minimum has been found [45].

Figure 3.1: Fixed step size methodology [45]

The desired accuracy of the minimum point is related to the step size. If high accuracy is desired, then the step size must be small in order to pin-point the location of the minimum. The trade off for this is that if the step size is small, then many iterations may have to take place in order to approach the minimum and find it considering that the interval of uncertainty can be 33

very large. This is the reason why this method is so inefficient. Other methods that use a stepping process to find the minimum are Accelerated step size, and Exhaustive search, each with their own advantages and disadvantages (See Ref. [45] for more information). Another method that was examined, which is more efficient than the above stepping methods, is known as the Interval halving method. In this method, each subsequent interval is halved until the minimum is found within the desired accuracy. This method works by taking three evaluations within the interval of uncertainty, each spaced equally apart. The half of the interval that contains the highest value of the objective function is then deleted. This is allowed because one can be certain that the minimum does not lie in that interval assuming that the curve is unimodal. The following figure illustrates this step, where L 0 is the initial interval of

uncertainty [45].

fo

a

xo

b

~------------------- Lo------------------~

Figure 3.2: First step in the Interval halving method [45]

For each subsequent step after this, only two new evaluations are taken, dividing the remaining two intervals of uncertainty in half.

to

a

xo

~------------------- Lo------------------~

Figure 3.3: Second step in the Interval halving method [45] 34

This process is repeated until the minimum has been found within the desired accuracy constraints. Other interval dividing methods are Dichotomous search, Fibonacci method, and
Golden section method (See Ref. [45] for more information). All of these methods tend to be

more efficient than the above stepping methods. However there are other methods that take into account the gradients of the function, which are even more efficient than the above division methods. These are known as Interpolation methods and Direct Root methods. In fact, these are the most efficient one-dimensional minimization routines, which is why a Direct Root method was chosen for the final optimization algorithm [46]. The Direct root method that was chosen is known as the Quasi-Newton method. This is based on the original, Newton method, but has been altered to make it more suitable for general optimization problems. These problems involve a setup that is not available in closed form or is difficult to differentiate [45]. The current problem in question is not analytical, and so to find the derivatives, the finite difference formulas must be used. The following is an approximation for the first derivative using central differencing.

!
where

'(A,.)= J(A-; + L\A-)- J(A-;- L\A-) 2L\A
I

(3.2)

L\'A is a small step size. Once the derivative is calculated, the cost function is then A, =A, i+l ;

evaluated and the following equation is used to find the new step size.

L\A-[J(A-; + L\A-)- J(A-;- L\A-)] 2[J(A-; +L\A-)-2J(A-;)+ J(A-; -L\A-)]

(3.3)

This process is repeated until a desired convergence criteria has been satisfied, such as:
(3.4)

where £ is the level of convergence [45]. To prove that the Quasi-Newton method was superior to the others mentioned above, a study was performed comparing the iterative performance of each minimization method using a simple quadratic function. The performance measures for this study were the total number of iterations for convergence as well as the accuracy of the final solution. Another important

measure is the number of function evaluations, since this shows how many times the objective

35

function must be solved in total in order to achieve convergence.

This demonstrates the

computational cost of the minimization method. The results are shown below.

Table 3.1: Comparison of one-dimensional minimization methods
Minimization method

# of iterations
67 12 9 22 25 11 12 1

# of function evaluations
67 12 9 44 47 22 24 3

Level of accuracy

Fixed step size Accelerated step size Exhaustive search Dichotomous search Interval halving method Fibonacci method Golden section method Quasi-Newton method

100°/o 81.60°/o 96.67°/o 99.996°/o 99.997°/o 99.93°/o 99.93°/o 100°/o

Not only does the Quasi-Newton method achieve a level of accuracy of 100%, but it also does this in a single iteration that requires only 3 function evaluations. This method is clearly one of the best one-dimensional minimization routines and background research shows that because of this, it is a common tool for fast, efficient, optimization [35].

3.4

Multi-Dimensional Minimization Methods
There are many multi-dimensional minimization methods, and like the one-dimensional

methods, some are more efficient while others sacrifice efficiency for easy implementation. One of the most basic multi-dimensional minimization methods is the Univariate method, which is simply just many one-dimensional minimization routines in sequence. It works by selecting one variable and assigning a one-dimensional minimization method to it to find the point where the objective function is at its minimum, while the other variables are fixed. Once the minimum has been located, the next variable is selected, the remaining variables are fixed, and the same procedure is performed to find the new minimum. Once all of the variables have gone through a

36

minimization

pro~ess,

the cyc_ le starts all over again and continues until the minimum of the

entire problem has been found [45]. The Univariate method is easy to implement, however it may not converge in some cases, and even if it does, its convergence rate slows as it approaches the minimum. There are other minimization methods that use the Univariate method as their foundation, but add to it what is known as pattern directions to make it more efficient, and these are known as Pattern search
methods. Some Pattern search methods are the Hooke and Jeeves' Method and Powell's Method

[45]. These methods work by evaluating the function using the Univariate method for the first iterations. The results are then used to generate a search direction in which to guess the location of the new points for evaluation. An example case is shown below for a two-variable function minimization.

2
'----------xl

Figure 3.4: Example Pattern Search convergence for dual-variable function [45]

The points 1, 2, 3, ... indicate the resulting values found from successive univariate solutions. As shown in Fig. 3.4, the search vectors connected by alternate points (ie. 1, 3; 2, 4; 3, 5; ... ) are always in the general direction of the minimum and get more accurate as the function approaches the optimal point. To make this process even more efficient, Rosenbrock [47] added what is known as rotating coordinates to create the Simplex method. This method is closely related to the Hooke and Jeeves method, but uses a series of "Simplexes" in the design space that

37

either expand or contract and reflect to find the best direction to search for the optimal point (See Ref. [45] for more information). The above methods work well for basic design problems, however, seeing as the current project has not only a relatively large amount of variables, but is also being optimized using CFD results, a maximum efficiency method is preferred due to time constraints. The types of methods that allow for maximum efficiency are known as gradient methods. These tend to be the

quickest to optimize because they form their searches not only on where the optimum lies, but also on the quickest way to get there. Some common gradient methods are Steepest Descent, Conjugate Gradient, Newton, and

Quasi-Newton. The Conjugate Gradient method is an improved version of the Steepest Decent method and both are known to perform better than any Pattern Search method [45]. However,
according to Rao [45], the Newton methods are even more efficient than the latter, and hence, were chosen as the methodology for the multi -dimensional optimization. The Newton method to be examined is the same as the one-dimensional Newton method mentioned in Sec. 3.2, but extended for a multi-dimensional application, however, the same problems are still present. The Newton method relies on first and second derivatives, and with the application of multi-dimensional analysis comes the need to calculate, manipulate and store large matrices. Therefore, for problems with a large amount of variables, the Newton method can be impractical [45]. The Newton method also tends to be impractical for CFD applications because it requires extra solves for each variable to supplement the finite difference formulations. To help explain this point, the Newton methodology is described below. The Newton method takes its form from a Taylor series expansion of a quadratic function and its basic equation can be expressed as

VJ(Xi) = -[Ji](x- xi)= o
where X is a point in the design space. Eq. 3.4 can be rearranged to the following form.

(3.5)

X = Xi - (Ji ]-1Vf (Xi)
To make the above equation applicable to an iterative scenario, it can be written as

(3.6)

(3.7)

where J is

38

a2J
axl2

a2J [li]= ax2 ax! a2 ! axnax!

a2J ax!ax2

This is known as the Hessian matrix which is what makes the Newton method impractical for most CFD applications. Not only are the first and second derivatives required, but also the second partial derivatives for each possible pair of variables. So, the amount of solves required for one iteration goes up quadratically as more variables are included. The main idea behind the Quasi-Newton method is to approximate the Hessian matrix, J, by using only the first partial derivatives off [ 45]. The result is a significant reduction in the amount of solves required for each iteration with only a small compromise in efficiency. This is what makes the Quasi-Newton method more suitable for CFD applications and thus, the algorithm of choice to perform the 3-dimensional optimization. The Quasi-Newton method differs from the Newton method by rewriting Eq. (3 .6) as
(3.8)

where B is the approximate Hessian which starts as an identity matrix for the first iteration. The method proceeds by finding a search direction using (3.9) and then solving for the optimal step length,

A-; . The optimal step length is found by minimizing

J(X i +AiSJ with respect to A using any preferred one-dimensional minimization routine. For
this specific task, the one-dimensional Quasi-Newton method was the routine of choice for the final multi-dimensional optimization program. Once an iteration is complete and the variables have been updated via Eq. (3.7), the new gradients off are found at X i+l and the Hessian matrix B is updated using the new information. Many methods are available to update the Hessian matrix, however one of the most common and efficient ones has been derived by and is known as the Broyden-Fletcher-Goldfarb-Shanno (BFGS) method [46]. following equation 39 In its final form, the BFGS method updates the Hessian using the

(3.10) where (3.11) (3.12) This method tends to be very stable and robust when compared to other methods of the same level. It has also been shown to have superlinear convergence near

x*, which corresponds to

a

fast convergence rate. A minimization method is said to have superlinear convergence when (3.13) where x* is the minimum point.

3.5

Constrained Optimization
The previously mentioned routines have been derived for unconstrained minimization.

For most practical problems however, constraints will be present and the above optimization methods need to be modified slightly in order to handle them. Two common methods used for changing the minimization techniques to handle constraints are the interior and exterior penalty function methods. The interior penalty function method works by modifying the objective function in the following manner. Find X which minimizes Subject to
gj(x)~o,

J(X)

(3.14)

j=1,2, ... ,m

(3.15)

which results in (3.16) where
rk

is the penalty parameter defined by the user. Although Eq. 3.15 is configured for

constrained optimization, it is in the form of an unconstrained minimization problem and can be solved using the method previously defined [45]. One potential hazard in the interior penalty function method is found in how it handles the constraints. As the function minimizes and nears the bounds set by the constraints, g j (X) 40

approaches zero. , Therefore, Eq. 3.15 will approach infinity for the optimal solution, or for any solution where a constraint is satisfied critically, ie. when g 1 (X) is equal to 0 [45]. Also, if X were to violate the constraints and land in the infeasible domain, Eq. 3.15 cannot account for this and the minimization process may diverge. The exterior penalty function method tends to be more robust for the above situations. The equation for this method is as follows.

(A = ¢(X' rk ) = f (X)+ rk L \g j (X)
)=1

m

r

(3.17)

where

(g.i{x)) = max(g .i(x),o)
g 1 (X) g 1 (X)>O

=

(constraint is violated)
0
g 1 (x)~o

(constraint is satisfied) Both the problem of critically satisfying and violating the constraints is handled in the exterior penalty function method. An example of how this method works is shown below. Consider the optimization of a propeller for maximum thrust. The objective function for this scenario in its most basic form is shown below

J(X)=

Thrust( X)

1

(3.18)

where the minimization of f(X) occurs as thrust increases. At its starting point, the propeller may produce a thrust of 1000N using 275Hp. A constraint may be imposed whereby the optimum design cannot exceed a power input of 300Hp. The constraint, g(X), is thereby calculated using the following equation.
g (X) = ~ (X)- Pmax

g(x) =

~(x)- 300

(3.19)

The objective function then has to be altered to the same form as Eq. 3.16, in order to apply constraints to the minimization process. The final form of the objective function is shown below
¢(X, r) =
Thrust X

l ( ) + r(max(P;(X )- 300, 0))'

(3.20)

41

where q was chosen as 2, and r for illustration purposes will be chosen as 1E-6. propellers starting point, where Pi is equal to 275Hp, g(X)=275-300

At the

g(X) = -25
resulting in, 1 1000

¢(X, r) = - - + 1e- 6 [max(- 25, 0 )Y ¢(X, r) = - - + 1e- 6 (0) 2 ¢(X ,r) = 0.001
Since g(x) is negative, the constraint is not violated and the original objective function has not been affected. Consider now the propeller optintization after one iteration where the thrust is 1200N using 350Hp. 1 1000

g(X) = 350-300 g(X)=50
The objective function is modified due to the positive g(x) as shown below. 1 1200
1

¢(X, r) = - - + 1e- 6 [max(50, 0 )Y ¢(X ,r) = - - + le -6 (5o?
1200

¢(X, r) = 0.0008333+ 0.0025 ¢(X, r) = 0.00333
The final objective function of the above iteration shows an increase from the original, which tells the optintization program that its search direction is unfavourable since its objective is to ntinintize the function. Even though the thrust has increased relative to the original point, and consequently the objective function defined by Eq 3.17 has decreased, the constraint was violated which caused the objective function to be artificially increased. This is equivalent to a decrease in thrust and therefore to maxintize the thrust would require the constraint to be in less violation. To make the exterior penalty function method converge faster, Lagrange Multipliers can be added to Eq. (3.15). The Lagrangian for Eqs. (3.12) and (3.13) is as follows 42

p

L(x,A-L)= f(X)+ LA-1h1 (x)
) =I

(3.21)

Where AL is the Lagrange multiplier.

Adding this into Eq. (3.15) results in the following

augmented Lagrangian multiplier method. (3.22)
)=I )=I

This is the final form of the penalty function method that was chosen to optimize the ducted fan geometry. Coupled with Quasi-Newton minimization methods, the overall optimization program that was created for this study ensures high efficiency convergence towards the optimum geometry. A flow chart for the final program is given in Figure 3.5.

43

Set initial variables
... ..

~
Solve perturbations at each point

...

+
Calculate gradients

~
Calculate Hessian matrix

~
Find search direction

~
Enter Quasi-Newton sub routine

Calculate solve locations based on step length Update variables Solve forward and backward locations Calculate Lagrangian multipliers Update variables
)-------~""

Calculate new step length

t
Convergence?

.

Increase penalty parameter No

J

No

Solve center location

Yes

Calculate new points

l
(
Convergence?

Yes, Local

~

Yes, Global

Optimum has been found, Stop

Figure 3.5: Flow chart for optimization method

44

4
4.1

Three-Dimensional Optimization
Introduction
Once the optimization program was complete, it was linked with the outside CFD

software and was ready to optimize the full 3D version of the ducted fan. The reasons for performing a 3D optimization rather than a 2D optimization are quite simple. One of the main reasons is due to the presence of the propeller. As mentioned earlier the propeller was represented by a pressure boundary for the 2D study cases. This is sufficient for obtaining an estimation of performance for a preliminary case, however if more accuracy is desired a physical propeller is required in order to capture all of the localized flow effects. Some three dimensional effects that are expected to change the performance of the ducted fan with respect to the propeller are due to the presence of the duct and hub. As the geometry is being optimized, the duct and hub shapes will be perturbed repeatedly in order to gather performance gradients. These perturbations are expected to
~hange

the inlet and outlet flow

slightly which in tum will change the flow relative to the propeller. As a result, the propeller performance will change and the pitch may have to be adjusted to compensate. Two base geometries were chosen to serve as the starting point for two different optimization processes, shown in Figs. 4.2, 4.3, 4.5, 4.6. One of the configurations was the result of the 2D analysis and the other was a configuration that was designed to be very different in

45

shape from the first. The reason for this was to give insight into whether the final optimized geometry was a global optimum or local. The way this was determined was by comparing the two end results with each other. If the two separate cases resulted in similar geometries, then it would be reasonable to assume that they converged to a global minimum, which is illustrated in Fig. 4.1. However, if the resulting geometries were different, then either of them could have been stuck in a local minimum while the other achieved global optimization. This type of scenario is shown in Fig. 4.2.
j(x)

Final Configuration 1 and 2 Qoc al minimum is glob al minimum)

Figure 4.1: Global minimum

j(x)

Configuration 1

Ide al Configuration (global minimum)

Figure 4.2: Global and local minima

Since the study is a physical optimization of a ducted fan, multiple local rmrnma significantly different from the global minimum are not expected. For problems of this nature,

46

there usually

exi ~ts

only one configuration that performs the best. If there are local minima

present, they usually lie close to the global minimum, whereby the differences in the configuration and performance are minimal as can be seen in the work by Madavan [33].

4.2
4.2.1

Geometry Specifications
Initial Duct Geometry
The initial cross-sections of the duct for the two optimization cases are shown below in

Figs. 4.3 and 4.4.

Figure 4.3: Initial duct cross-section for Case 1 (from 2D optimization)

L.
Figure 4.4: Initial duct cross-section for Case 2 (alternate start point)

The major differences between these two designs are the overall length of the duct and their camber into the outgoing flow. The two have their own advantages and disadvantages. The curvature of the duct for Case 2 brings the tail into the propeller wake and increases the velocity of the exiting flow. This increases the pressure behind the propeller and as a result, increases the forward force of the propeller blade. However, the cost of doing this is an increase in the drag of the duct. The opposite applies for Case 1 where the duct is fully streamlined keeping its drag down, but the exit velocity is lower as a result. The optimal point is expected to be somewhere in-between, but it does leave the opportunity open for either to optimize towards an extreme case and locate a local minimum.

47

The shape of the duct is being optimized using control points at various locations around the duct perimeter. These control points and their degrees of freedom are shown in Fig. 4.5.

F
G

H

A

B

D

L.
Figure 4.5: Duct control points There are various sets of control points that are connected to each other by either a spline or straight line. The control points [B,C,D] are connected to each other using a spline and they make the lower trailing edge shape of the duct. Control points [F,E,D] are connected using a spline and make the upper trailing edge shape of the duct. The leading edge of the duct is formed via a spline using the control points [A,H,G,F], and the points [A,B] are connected using a straight line. The reason for this is that the propeller passes through this area and by keeping it straight, makes the geometry rendering easier and less prone to error due to intersection of foreign surfaces. The points [A,B] have not been configured to move in they-direction because the inner radius of the duct has been fixed at 35cm. The duct contains 6 control points with 11 degrees of freedom. Each control point has the freedom to move anywhere in the x or y direction which allows a wide range of duct shapes to be assessed. However, not all of the degrees of freedom are completely independent. In the effort of gaining efficiency for the optimization process, some control point degrees of freedom were made dependent on some other control points' locations. This was done for movements in which the new location of a point has a negligible effect on the shape of the duct. By doing this, the optimization algorithm has less perturbations to make in order to provide the program with the necessary information to generate a search direction. If there are less perturbations, then there are less solves and the optimization program completes in a shorter amount of time.

48

There are } control points on the duct where a degree of freedom is made dependent on other control points. One of these is the x-direction degree of freedom for control point C. It is dependent on D and B in the following manner.

c = D-B 2
X
X

X

+B
X

(4.1)

According to Eq. (4.1), the x-position of C will always be half the distance between D and B. This ensures that C will always be in a good position for Cy to independently adjust the curvature of the lower trailing edge spline. Another point that has its x-direction degree of freedom dependent on other points is control point E. Ex is governed by the position of Dx and Fx using the following equation.
E
X

=D

X

-F +F 2 X
X

(4.2)

Like Cx, Ex is made to be half-way between its neighboring control points such that it stays inbounds relative to them and also allows Ey to adjust to create the necessary curvature. The y-direction degree of freedom for control point H was made dependent for the purpose of keeping the geometry within bounds, rather than for an increase in efficiency. In preliminary studies, control point H would move upwards so much that it would intersect with the curve above and create a degenerate geometry. To solve this problem, Hy was made

dependent on the vertic allocation of points A and G using the following formulation.
H
y

=

G -A
y

3

y

+A
y

(4.3)

Rather than being half the distance between the dependent control points, Hy is set to be a third of the distance from point A. The original position which was at half the distance was found to make a discontinuous connection with the line [A,B]. By placing the node a third of the distance, this created a more gradual connection.

4.2.2

Initial Hub Geometry
The initial hub geometries are shown in Figs. 4.6 and 4.7.

49

PROPE RTY OF RYERSON UN\VERS\TY LIB RARY

Figure 4.6: Initial hub cross-section for Case 1 (from 2D optimization)

L
Figure 4.7: Initial hub cross-section for Case 2 (alternate start point)

As with the ducts, Case 2 was designed to be far from Case 1, geometrically. The hub section for Case 1 is streamlined due to its long design and small frontal area, which will most likely give it a low drag profile. The design for Case 2 has a larger frontal area due to its larger radius. Although the larger frontal area will most likely give it a higher drag, the larger radius cuts out the high work, low thrust portions of the propeller blade, which are at the root. This allows extra available power to be placed elsewhere in the system to increase the thrust. An optimum could possibly be found in between these designs that combines the streamlined shape of Case 1, with the high thrust characteristics of Case 2. The hub shape is generated using 5 points around the perimeter and is defined by 3 parameters. The locations of these are shown below in Fig. 4.8.

L.
Figure 4.8: Hub control points

50

The hub

~ose

is created using the formulation for an ellipse. Its length is variable and is

defined by the parameter LJ. It is attached to the line [B,C] which controls the radius of the hub via the parameter L J. The tail of the hub is defined by a conic function with a p value of 0.2. The conics control point, E, is dependent on the radius and length, and is set to be at a height equal to the radius as well as at a length equal to the total length of the hub. The tail length is variable and is defined by the parameter L 2 ·

4.2.3

Propeller Geometry
The optimization of a propeller itself can be a large enough task to require a study all on

its own [48]. Since the primary goal of this study was to find a suitable duct and hub geometry, optimizing the propeller along with those would have been an unnecessary addition. For this reason, many variables that make the shape of the propeller were fixed. The cross-section of the propeller was a constant profile which was chosen as the N ACA 65-410. It can be seen below in Fig. 4.9.
NACA6~10

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

Figure 4.9: NACA 65-410 airfoil [49]

The original airfoil chosen for the 2D analysis was the Clark Y airfoil. The NACA 65-410 was chosen instead because of its high-speed design which yields a relatively lower drag for the amount of lift produced. This is due to the shape allowing laminar flow to exist farther down the chord [50]. The NACA 6-series also exhibits a higher critical mach number which allows the propeller to rotate faster and thereby generate more thrust. Another aspect of the propeller that was fixed, was the span-wise twisting of the blade. To have the blade twist adjust to the flow with a reasonable amount of accuracy would have been an expensive addition to the design process. Unfortunately, this could place the blade in off-

51

design conditions that would result in high (or low) angles of attack which may induce separated flow. However, to alleviate this problem, the twist was fixed but the overall pitch was made variable. This way, if the flow changes and the majority of the blade is in unsatisfactory flow conditions, the pitch can change to compensate thereby improving performance. The twist that was chosen for the propeller was the same one that was used for the 2D analysis. Although most of the propeller variables have been fixed, a few key ones have been chosen to remain variable as they are expected to affect performance the most, relative to their cost of computation. One variable, mentioned earlier, controls the entire pitch of the blade which will have a large effect on the performance. Another key variable was chosen as the location of the propeller within the duct and hub assembly. The variables that define the propeller would mostly affect the performance of the propeller itself. However, by changing the location of the propeller, it is expected that this will affect the performance of also the duct and the hub. One common problem, mentioned in Chapter 2, is the occurrence of inlet lip separation. By having the propeller closer to the inlet, it may come in contact with the flow before it has the chance to separate, which would improve performance. Inlet lip separation is more commonly seen in low flow velocity regimes. However the above example is just to illustrate how the location of the propeller can have an effect on all aspects of the design.

4.3

Operational Constraints
There are two sets of constraints that bound the optimization to within a specific domain. Since the

The first set of constraints places a limit on how thin the duct section can get.

objective function is trying to maximize thrust and minimize drag, a possible direction the optimization may go in is to make the duct as thin as possible to reduce its drag. This may result in a duct section that is too thin to be of practical application. The duct will eventually contain components needed for aircraft applications as well as structural elements. If the duct is too thin, these may not be able to fit and the ducted fan assembly would have to be redesigned. To stop the duct from getting too thin, constraints were created near the leading and trailing edge. The leading edge constraint was set at a minimum of 26mm, while the trailing edge was set at a minimum of 15mm. A depiction of the minimum cross-section is shown below in Fig. 4.10.

52

c=
26mm

I

lSmm

I

L
Figure 4.10: Minimum allowable duct cross-section

The leading edge constraint was created by taking the vertical distance between points F and A (using Fig. 4.4) to create the thickness value t1 . imposed in the objective function is shown below. The equation for this constraint that was

gl

(X)= t 1 -26 26

(4.4)

The constraint function is normalized by dividing the difference by the value of the constraint. This ensures that all constraints are of the same magnitude and will be treated equally. The trailing edge constraint is created in a similar manner by taking the vertical distance between points C and E to create the thickness value t2 · The resulting equation for this constraint is shown below.
g2

(X)= t 2 -15 15

(4.5)

Both Eq. 4.3 and 4.4 are related to the objective function using Eq. 3.17 in Sec. 3.5. Although the needed dimensions have not been verified, the allowable space in Fig. 4.9 seems adequate to support the necessary components. If it is not enough, only a slight increase is expected which would alleviate the need for an entire re-design. The other bound on the final design is the input power to the propeller. This ducted fan is being designed to have an aircraft travel at 270kts at an altitude of 21000ft using a 350Hp rated engine to drive two ducted fans. The engine is to power the aircraft at 75-80% during cruise which, for the choice of engine, was chosen as 275hp. This input power is the constraint which the optimized design must not exceed. This value is generated by finding the moment on the blade after each solve and then applying a conversion to it to make it in terms of horsepower. 53

The result is only for one blade, so it is also converted to account for 12 blades which correlates to 6 blades per pod and 2 pods. This equation is shown below
Power=
745.6999\~

12MQ { }

(4.6)

where M is the moment on the blade and Q is the rotation rate in (rad/s). The constraint equation is as follows.

g3 (

X)=

Power-Pmax p
max

g3

(X)=

Power- 275 275

(4.7)

Constraints are put in place to ensure the final design does not exceed the specified design limitations. However, a design can also exist that has its constraints partially satisfied to within a reasonable margin. A trade-off may present itself where a considerable boost in

performance may arise at the cost of a minor violation of a constraint. With this in mind the results at each step were observed to obtain a complete view of the viable designs.

4.4
4.4.1

Mesh Characteristics
Mesh Spacing The meshing software used for this study lacked the capability necessary for defining

differential node spacing along certain edges. This tool is commonly used in places where a higher degree of numerical resolution is required. This can include areas of high curvature and turbulent regions. Where an area of an edge may need a fine spacing and the rest could be coarse, the entire edge would have to be meshed using only one nodal spacing. Unfortunately, if the maximum accuracy is required, then the entire edge has to be meshed using the smallest spacing which results in much longer solve times. Due to this, a compromise had to be made for this study where a single spacing was selected that achieved affordable solve times by not sacrificing too much accuracy. The surfaces along the duct and hub were long and smooth which allowed a larger mesh spacing to be applied to them. The flow variables such as density, velocity and energy, were expected to be relatively steady and exhibit small gradients in their behavior parallel to the duct

54

axis. The spacing along these surfaces was set to 4mm which, for comparison sake, is applied to a duct length of 630mm. Around the leading edge of the duct, the spacing was set to 2mm due to the high curvature that was present. A higher degree of node resolution was preferred for the tip of the duct, however the mesh size would increase dramatically for any value smaller than 2mm. Therefore the choice of 2mm for the nodal spacing was found to satisfy the desired accuracy by also keeping the solve time within reason. The propeller surfaces were set to have a constant node spacing of 1mm. This generated a fine mesh relative to the rest of the model, which was required due to the adverse flow conditions that it could encounter. Where the propeller intersected the hub and duct, the spacing in those areas was set to 3mm. This provided the transition from the larger 4mm spacing to the fine lmm spacing around the propeller. The final mesh contained on the order of 1.2 million elements. Fig. 4.11 shows the locations of the aforementioned node spacing.

Figure 4.11: Node spacing summary

4.4.2

Error Approximation
The software used for this study was NX 6.0 which contained grid generating and CFD

components. The grid generating component was created by Simmetrix Inc., and the fluids solver component was a Navier-Stokes finite-volume based software created by MAYA Heat Transfer Technologies. The meshing software had the algorithm capable of producing a boundary layer mesh, however the algorithm did not work properly. Thus the study had to be completed using an

55

inviscid style mesh coupled with results that give an approximation of the error incurred by doing this. Although a boundary layer mesh was preferred for this study, the ambient conditions and the high speeds suggest an inviscid dominant flow. White [51] suggests that inviscid flow will give excellent results for the outer flow if Re > le4 , and for internal flow if LID < 10. In fact, the lowest Reynolds number in this scenario is approximately 5e5 and the maximum LID is 3.2. These values are within the limits defined by White and therefore the analysis should yield reasonable results. To gain a better understanding of how much error would be present in the results, a separate study was performed to compare the results from a model solved using a boundary layer mesh, to one that was not. The mesh spacing, flow conditions, and geometry were held constant while only the boundary layer mesh was changed. The node spacing was the same as defined in Sec. 4.4.1 and the surface conditions were set as non-slip surfaces. A summary is shown in Table 4.1 below of the mesh characteristics for this particular study. Table 4.1: Summary of mesh characteristics for error approximation study
With Boundary Layer Off-wall spacing Boundary layer grid thickness Boundary layer grid rows Total mesh elements 0.005mm 4mm 20 1485688 Without Boundary Layer -3mm N/A N/A 260393 ,

The setup used the duct and hub cross-sections of Case 1 and extruded them 1OOmm to make a 3-dimensional part. The purpose of choosing both sections was not only to verify the error expected in the drag by not having a boundary layer mesh, but also to see how that higher resolution affects the flow around those bodies. For example, if the boundary layer is not

modeled properly, it may be thicker than expected and would divert more of the flow. In the region between the duct and the hub, this would cause a constriction of the area between them and as a result, increase the local velocity. Since the propeller is located in this region, this could affect the performance. The case that provided the base comparison had a boundary layer grid with an off-wall spacing that was calculated using an online source [52]. The turbulence model chosen was the kc model and the energy and momentum equations were solved using a second order formulation.

The other non-boundary layer mesh cases that were compared to the base case used the same 56

settings, except o!le used the k-c turbulence model and the other used the mixing-length model. The reason for doing this was that when applied to the full case, the k-c model required a significant amount of relaxation to stop the problem from diverging. This increased the solve times drastically, so a measure was taken to add stability to the solve which involved the use of the mixing-length turbulence model instead. Thus a comparison needed to be made to see how much error would be expected by using the mixing-length model as opposed to the k-c model. Since the k-c model is a more sophisticated algorithm, it was taken as the most accurate. The comparisons were made between the values of drag for both the duct and the hub. The results are shown in Table 4.2 below. Table 4.2: Drag comparisons to determine expected error
Base Case Test Case A No k-£ 2253.36 3393.15 Test Case B No mixing -length 2422.96 3598.59

Boundary layer mesh Turbulence model Duct drag (N) Hub drag (N) The error for each case is as follows.

Yes k-£ 2051.47 3052.88

Table 4.3: Resulting error from lack of a boundary layer mesh
Test Case A
Duct error(%) Hub error(%)

Test Case B

9.84 11.15

18.11 17.88

The absence of a boundary layer mesh produces an error much less than expected. The average error for Test Case A is about 10.5% and the average error for Test Case B is about 18%. Although an error of 18% is significant, considering the drags are consistently over predicted, these expected errors can provide corrections to the final results. The velocity profiles were sampled at two locations between the duct and the hub. The first location was at 400mm from the nose of the hub. This position was selected because it represents the smallest section between the duct and hub. Here the local velocity varies the most, so any deviance from the base scenario is expected to be more prevalent at this location. The second sample location was located at 680mm from the nose of the hub. This is the rear of the duct, where the boundary layer will be the thickest. Therefore, if the boundary layer is not accurately modeled, it may become thicker than normal, in which case, the velocity profile will
57

be affected. A figure showing the velocity contours of the base case with the locations of the velocity profile samples is shown below in Fig. 4.12.

x= .tOOmm

x= 680mm

Figure 4.12: Velocity contours of the base case with velocity profile locations

The resulting velocity profiles are shown in Figs. 4.13 and 4.14.
165 160 155

I

'-----------..::-lr --- - Base Case ----- Test Case A Test Case B

"'. E

150

"* >

·o

?:

145 140
135 130
0

so

100

150

200

250

Distance from duct to hub (mm)

Figure 4.13: Velocity profiles at x=400mm

58

158 153 148

.s
~

143 138 133 128 123 118 0
- - Base Case ----- Test Case A Test Case B

·c::;
Qj
0

~

>

so

100

150

200

250

Distance from duct to hub (mm)

Figure 4.14: Velocity profiles at x=680mm

Figs. 4.13 and 4.14 above show the distribution of the flow velocities starting close to the duct surface extending close towards the hub surface. Each location, where the velocity profile suddenly decreases close to the wall, represents the flow within the boundary layer. The base case predicts that the velocity profile extends closer to the wall than the other cases. This means that the absence of a boundary layer mesh caused the solutions to over predict the thickness of the boundary layer. However, according to Figs. 4.13 and 4.14, the velocities in the inviscid regions have not been affected by this over prediction as expected. Once out of the boundary layer region, the velocity profiles match up quite well to the nominal case. Although Fig. 4.13 shows much deviation from the nominal relative to Fig. 4.14, the largest error is only about 1%. According to the results, sacrificing the ability to accurately model the boundary layer is not expected to have a detrimental effect on the optimization analysis. The flow velocities are still in good agreement with the best case scenario and the drag values both generate a maximum error of about 18%, which can be regarded as small when considering the cause. Due to this consistency, one can confidently estimate the error in the final results or could even apply the known error as a correction to make the final values more accurate. As mentioned earlier, Test Case B over predicted the drag by 18%. Therefore the final results most likely can be assumed to have approximately 18% less drag for a case with similar mesh spacing, at least for the duct and hub. 59

4.5

Perturbation Size Study
The optimization algorithm works by perturbing each of the variables, one at a time, for

the first step of the analysis. These provide the values necessary to generate gradients of the objective function for each point. From here, the algorithm calculates a search direction based on the gradients. A common discipline in this type of optimization is to keep the perturbation size relatively small in order to generate accurate gradients. This is a trivial task for optimizing equation based systems, but for a study such as this one, this poses a potential problem. As was discussed in Chapter 2, the mesh size has a large impact on the outcome of the results. Even though the geometry may stay the same, just by simply changing the mesh, the final solution can change by a significant amount. When relating this occurrence to obtaining gradients by perturbing the nodes around the geometry, a problem arises. If the perturbation size is too small, the change in geometry may be so little that the change in the objective function is outweighed by the error caused by the change in the mesh. Due to this, an incorrect gradient may be generated and the optimization algorithm may search in the wrong direction. With this in mind, a study was performed to find the perturbation sizes necessary to change the geometry enough such that the error caused by the change in the mesh, is not significant. A series of tests were performed on a 2-dimensional duct profile, where a specific node was chosen and perturbed continuously in one direction such that after many perturbations, the node has moved a relatively long distance. This process would demonstrate how the objective function changes over time and would thus show a general trend in behavior. The first node selected was at the trailing point of the duct and was perturbed in the xdirection at intervals of 0.5mm for a total distance of 36.5mm. The duct was to get longer, so it was expected that the drag should generally increase. The results are shown below in Fig. 4.15.

60

83.5 83 82.5

z
0

82 81.5 81 80.5 80 0 10 20
Distance (mm)

...

nJ

b.O

30

40

Figure 4.15: Drag trend after many perturbations for aft duct point

A trend can be seen which shows that the drag of the duct increases as the length gets longer, which was expected. So, theoretically any perturbation making the duct longer should signal an increase in drag to the optimization algorithm. However, points exist on the figure above that indicate otherwise. Some perturbations actually show a decrease in drag due to that small increase in length. This is obviously due to the error caused by the change in the mesh outweighing the small change in the objective function. A step size can be found from this data in which a positive gradient is always present thereby signaling to the optimization algorithm a correct direction to search in. This is achieved by just selecting distances spaced far enough away from each other that the inclusion of the mesh error still results in a positive gradient from the previous position. The results for this methodology are shown in Fig. 4.16.

61

83 82.5 82

z ru .... c

bO

81.5 81 80.5 80 0 10 20
Distance (mm)

30

40

Figure 4.16: Dampened drag trend for aft duct point

By using a perturbation distance of 5mm, rather than 0.5mm, most of the noise created by the previous analysis is dampened out. Although the gradients are not the most consistent, they are still positive in nature which would signal to the optimization algorithm the correct direction in which to search. There are nodes around the duct perimeter that are more sensitive than the one just tested. This means that a smaller perturbation is more likely to dampen out the noise found by an analysis like the one above. The nodes that tend to be more sensitive are the ones that perturb in they-direction thereby altering the shape of the duct to interfere with the flow. Shown below in Fig. 4.17 is the drag distribution by perturbing the aft duct point, this time in the y-direction.

62

82.5 82 81.5

g
c
b.O tU '-

81 80.5 80 79.5 0 2
4 6

8

10

Distance (mm)

Figure 4.17: Drag trend for aft duct point perturbed in they-direction

The drag trend appears to show a decrease in drag to a minimum and then an increase. Also, the amount of noise in the solution is significantly less than found in the previous case, even though the perturbation size is the same. One thing to note is the change in sensitivity as the node progresses in distance. Between 0 and 7mm, there is more noise in the solution, which means that the node is less sensitive. Beyond 7mm however, the trend smoothes out and the perturbation size seems adequate. The reason for this is that between 0 and 7mm, the node is located in the duct wake, and due to this has less of an aerodynamic impact. Beyond 7mm, the node has entered freestream flow thus increasing its sensitivity. The trend after smoothing using a perturbation size of 1mm is shown below in Fig. 4.18.

63

82.5

82

z Q.O
~

81.5

I'U

c

81

80.5

80 0 2 4
6

8

10

Distance (mm}

Figure 4.18: Dampened drag trend for aft duct point in y-direction

For the most part, the trend is relatively consistent in creating a smooth curve with a minimum. However, an anomaly is seen at a distance of 5mm, where the trend seems to be violated. More smoothing can be done by using a larger step size to get rid of the anomaly, but this may cause convergence problems in the end, remembering that a smaller step size usually works better. So, a compromise was taken by keeping the step size at lmm considering that the optimization algorithm may generate a search direction slightly different than what it should. Depending on the location of the node, the perturbation size could be smaller than others and still dampen out the noise to give the proper search direction. As a result, the nodes around the duct have a variety of perturbation sizes. These are summarized in Table 4.4 using the notation from Fig. 4.5.

64

Table 4.4: Summary of perturbation sizes for duct
Node By
Cx Cy Dy Ey Fx Fy Gx

Perturbation size (mm) 2 5 2 2 1 2 1 1

Perturbation size(% of duct length) 2.94E-01 7.35E-01 2.94E-01 2.94E-01 1.47E-01 2.94E-01 1.47E-01 1.47E-01

These results are not too far off from what Morris et al. [48] suggested. It was suggested that a perturbation size between 0.1% and 0.001% that of the reference length is preferred for consistent sensitivities which would yield a smooth optimization. One of the reasons for this is that a smaller size tends to produces better results, but the location of the node also affects the choice of perturbation size. Every node could have been chosen to use the same perturbation size. This would have worked as long as they all get the largest one of the group. However, these movements can be troublesome in certain places. At the rear of the duct for example, a perturbation size of 5mm is acceptable considering the length of the duct is about 680mm. This node would have to take more than 100 steps towards the front of the duct before it runs into the problem of intersecting other edges. However, the thickness of the duct could be less than 15mm at some nodal locations, in which case if a node were to move in they-direction, it has about 3 moves at 5mm perturbations before it intersects with the other side and creates an error. By using a smaller step size such as 1mm, this node has then about 15 moves before it runs into trouble, and by then the optimization algorithm will most likely have adjusted to keep it away. As mentioned earlier, not every node was tested to find its best perturbation size. Based on their location and their direction of movement, their proper perturbation size could be assumed when related to other nodes in similar situations. Common trends observed are if the node is extending the length of the body, a larger perturbation size is necessary to smooth out the noise. For nodes extending the body into the freestream, the perturbation size can be less due to the heightened sensitivity. When applied to the hub nodes, the following perturbations were chosen and are summarized in Table 4.5. 65

Table 4.5: Summary of perturbation sizes for hub
Node Ax Dx L3 Perturbation size (mm) 5 5 2 Perturbation size(% of hub length) 3.33£-01 3.33E-01 1.33£-01

The propeller perturbation sizes are also summarized in Table 4.6. Table 4.6: Summary of perturbation sizes for propeller
Node Pitch Location Perturbation size Perturbation size (%of duct length) N/A

20

Smm

2.94E-Ol

4.6

Two-dimensional Validation of Optimization Algorithm
Before being applied to the full 3D analysis, the optimization program was set up to solve

a simple 2D case. The purpose of this was to verify the previous study in which the perturbation sizes were determined based on their location. More importantly however, this was also to verify that the optimization algorithm would work correctly. The method used to verify that the program worked and had achieved an optimum was by using a case with a known optimal result. Specifically, the case used was a 2D cross section of the duct and the objective function was its drag. So, if the optimization program were to

minimize this objective function, it would be trying to minimize the duct's drag. Aerodynamic practice tells us that any aerodynamic body in a flow, trying to achieve the least amount of drag, should be as thin and short as possible, and in the case of airfoils, symmetrical as well. Therefore, the optimum duct profile should have exactly those traits. A first scenario was set up where only the tail of the duct was made variable for optimization. A constraint was placed on the thickness of the tail making sure that it did not exceed a minimum thickness of 15mm. This thickness was based on the distance between the two aft duct nodes B and D. The results gathered from this optimization study were the shapes of the duct after each major iteration. The initial geometry is shown below in Fig. 4.19.

66

Figure 4.19: Initial geometry for 2D optimization validation study

The resulting geometry after 8 major iterations is as follows.

Figure 4.20: Final geometry for 2D validation study

The duct has indeed resulted in the expected shape. It is shorter than its original and the tail is relatively symmetric. It is not thinner than the original which is simply due to the nose of the duct not being a part of the optimization. There was also a thickness constraint at the tail which prohibited it from getting any thinner. operation of the constraints. A modification to the optimization program that was applied during this study controlled the magnitude of the search direction. When the program determines the search direction in However this does also validate the correct

67

which to find the appropriate step length, a value can sometimes be of such a high magnitude that the initial step size moves certain nodes too far which could result in edges intersecting each other. Therefore, the search direction was scaled down evenly until the maximum value within the search vector was below a value of 1. This process is shown below

if

max(sj(x))> 1
S j+ l (X ) - --=---

- S/X) a

(4.8)

where a is an arbitrary factor greater than 1. This process is repeated until the maximum value of S(X) is less than 1. This ensures that for every search direction, the maximum value will not be large enough when combined with the initial step length to move a node across a boundary. Rather, this forces the algorithm to take several smaller steps to find the optimal step length, in which case if it reaches close to another boundary, it will most likely be in violation of a thickness constraint and can readjust properly. A more complete study was performed later that included the optimization of every node around the duct. It also examined the efficiencies of choosing different perturbation sizes. The series studied were 0, +1, +2, and +3mm larger than the original perturbations sizes. Note that the initial perturbation sizes are that of Table 4.3. The results for the minimization of the drag are shown in Fig. 4.21. At the end of the optimization the series that were + 2mm larger than the original, achieved a lower drag in the same amount of iterations. However, the series that were + 3mm larger achieved the same final drag as the + 1 series, in only 24 iterations, where the other achieved it in 65. So it seemed that the +3mm process was more efficient in the early stages, which could have possibly warranted the use of that perturbation size. This is not the case however, when assessing the objective function values seen in Fig. 4.22. The drag itself may have minimized early for the + 3mm case, but the objective function did not. What this means is that while the drag was low, the geometry was in violation of some constraints. When in violation of any constraint, the optimization algorithm multiplies the

68

69 67 65 63

z ... "'
ti.O

61 59 57 55 53 51
0

c

o ---- 1
--2
······· 3

10

20

30

40

so

60

70

Main loop iterations

Figure 4.21: Minimization of drag over time for 2D validation study

76

71

-

:::s
':p

~ c: 0 ·.;; u c:

66

l .. .. .. .. .. .. .. I .. .. ..

;

' .. '' .. ..
o
- 2

'

>

CIJ

u

:.0
0

CIJ

61

-

---· 1

······· 3

56

51
0

10

20

30

40

so

60

70

Main loop iterations

Figure 4.22: Minimization of the objective function over time for 2D validation study

69

magnitude of the violation by the penalty parameter and adds on that value to the objective function. This creates a pseudo drag value that is higher than the actual. What this does is manipulates the optimization algorithm into thinking that that configuration is not a minimum and that it should keep on working. Eventually, the algorithm will move nodes to not violate the constraints and the magnitude of the penalty value will decrease towards 0. The end product will have an objective function that is equal or close to the actual value, in this case, the drag. For the above study, the penalty value has in fact decreased towards 0. The final value of drag for the +2mm case was 52.15N, and the final value for the objective function was 52.47N, a difference of less than 1%. This means that the penalty value has decreased to 0.32N which corresponds to a thickness violation of less than 1.5%. Other scenarios have either reduced that violation further by being under 0.5%, or have satisfied it completely. The distributions of the penalty functions over time can be seen in Appendix II. According to the above results, the optimization algorithm does indeed perform as expected. It not only is able to minimize a function, but it can also do this to satisfy any

constraint. This is a beneficial process to take since the model being optimized is not as simple as just a lone duct. With minimizing the drag on a lone duct, it is straight forward to determine the effectiveness of the optimization algorithm, just by using common aerodynamic sense. However, for the optimization of a ducted fan, it is significantly harder to determine if the optimization algorithm is effective or not. For that reason the previous study was performed in order to validate and increase confidence in the optimization algorithm.

4. 7
4.7.1

Three-Dimensional Results
Case 1 Case 1 was defined earlier as the resulting configuration from the 2D analysis. The initial

cross-section of the duct can be seen in Fig. 4.3 in Sec. 4.2.1, and the cross-section for the hub can be seen in Fig. 4.6 in Sec. 4.2.2. The convergence history for Case 1 is shown below in Fig. 4.23. Various views of the final flow characteristics can be found in Appendix III.

70

:a
Q)

'

1000 990 980 970 960 950 940 930 0 2 4 6 8 10 12

~
0

E ...

1'0

.:.

::J

0 '+i u

c: c:

Q)

'+i u

>

Q)

~

0

Main loop iterations

Figure 4.23: Convergence history for Case 1

The objective function clearly shows a decrease in its value throughout the optimization process. The resulting performance characteristics for the optimal ducted fan configuration are shown below in Table 4. 7. The results are for the l/6th section of the ducted fan shown in Fig. 4.11. Table 4.7: Comparison of optimum with initial configurations for Case 1
Duct drag (N) Initial Final Relative difference Hub drag (N) Propeller thrust (N)

19.94 13.25 -33.54%

4.37 2.78 -36.45%

31.85 76.90 +141.49%

The optimization program was able to decrease the duct and hub drag by 33.54% and 36.45% respectively. This is a significant improvement in the overall performance of the ducted fan. The largest performance increase came from the propeller which resulted in a 141.49% increase in thrust from the initial configuration. This is at a small cost however due to the optimization algorithm violating the power usage constraint by 2.47%, which corresponds to a total input power of 281.80Hp. The resulting duct and hub geometries are shown below in Figs. 4.24 and 4.25, relative to their initial shapes.

71

0.02

0.01

0

1.1

>

-0.01

- - initial - - final

-0.02

-0.03

-0.04

X/c

Figure 4.24: Comparison of initial and final duct cross-sections for Case 1
0.1 0.08 0.06 0.04 0.02
........
u

>

0 -0.02 -0.04 -0.06 -0.08 -0.1

- - initial final

X/c

Figure 4.25: Comparison of initial and final hub cross-sections for Case 2

The most changes can be seen in the duct geometry where a decrease in height of 3% of the tail node, D, defined in Fig. 4.5, helps generate an increase in camber of 2.45%. This modification of the shape creates a low velocity, high pressure section behind the propeller blade relative to the initial geometry, which can be seen in Fig. 4.26.

72

Figure 4.26: Comparison of initial and final static pressure contours

This modification is very similar to the design of natural laminar flow airfoils. The camber that the airfoils have which creates a high pressure lifting force, is delayed until the rear of the blade in order to hold laminar flow for as long as possible. In the case of the duct, the rear camber creates a high pressure section that, instead of being used for lift, is used for thrust. The high pressure pushes on the propeller to increase its thrust, and also on the hub, to decrease its drag. This can be seen in Fig. 4.27 which shows a cross-section of the propeller blade under the same conditions.

Figure 4.27: Comparison of initial and final static pressure contours on propeller cross-section

A higher pressure area is present behind the propeller for the final case, thus resulting in an increase in thrust. 73

4.7.2

Case 2
Case 2 was defined earlier as the alternate starting point to Case 1. This was to show

how the optimization progressed from a different side of the design space. The initial crosssection of the duct can be seen in Fig. 4.4 in Sec. 4.2.1, and the cross-section for the hub can be seen in Fig. 4.7 in Sec. 4.2.2. The convergence history for Case 2 is shown below in Fig. 4.28. Views of the flow physics can be seen in Appendix III.
990

:c cu
~
0
(U
II..

985 980
I
I

E 975 £: 970
965 960 955

£: ::::s

0 ·.p u

£:

cu 950 "E 0 945

> ·.p u

cu

"
IIJ

I

/' I 1

A

~""-. .._

A

~

' - ' """-..

...

"5

940
0

10

15

20

25

30

35

Main loop iterations

Figure 4.28: Convergence history for Case 2

The first iterations create a disorganized pattern because the initial stages of the optimization applied major changes to the geometry. This can be considered the portion of the optimization where the function is trying to find the steepest gradient of descent. Once found, the

minimization becomes relatively smooth, as can be seen for the later iterations. The resulting performance characteristics for Case 2 are shown below in Table 4.8, for a 1/6th section of the ducted fan. Table 4.8: Comparison of optimum with initial configurations for Case 2
Duct drag (N) Initial Final Relative difference Hub drag (N) Propeller thrust (N)

71.20 15.25 -78.59%

6.41 6.68 +4.25%

107.54 75.95 -29.38%

74

The

resul~s

are interesting as the optimization has increased the drag slightly for the hub,

and decreased the thrust for the propeller. However, the drag on the duct has decreased more than the latter two to result in an overall increase in thrust. The initial situation was an extreme version of what was seen in the final performance for Case 1. The duct was cambered in significantly which created a high pressure region behind the propeller. However, the increased drag on the duct outweighed the increase in thrust on the propeller thereby requiring a different configuration. The resulting duct and hub shapes are shown below in Figs. 4.29 and 4.30.
0.14 0.12 0.1

u

0.08 0.06 0.04 0.02 0 0 0.2 0.4 0.6 0.8 1 1.2
- - initial - - final

>

X/c

Figure 4.29: Comparison of initial and final duct cross-sections for Case 2

0.4 0.3 0.2 0.1

u

>

0 -0.1 -0.2 -0.3 -0.4 1.5

- - initial - - final

X/c

Figure 4.30: Comparison of initial and final hub cross-sections for Case 2

75

The purpose of analyzing Case 2 was to give insight into whether Case 1 would converge on a local or global minimum. Although the above results have been extracted before the

optimization was completed, and have not ended up in exactly the same configuration as Case 1, they have changed in favour of the Case 1 design variables. The hub has increased its total length by 32.62%, and the duct tail node has increased its height by 9.85% and length by 5.46%. This shows that whatever minimum Case 2 is approaching, it is very similar in shape to Case 1. Therefore, since both geometries started out at what could be considered opposite ends of the design spectrum, and are approaching relatively the same configuration, it makes it more likely that the final configuration is a global minimum. Also, it is expected that even if both

geometries converge on a local minimum, the global minimum is not expected to have a significant jump in performance over the final designs. This is based on the assumption that to generate a significant increase in performance, would require a significant change in geometry. However, there is little that can change to the geometry to result in a significant change in performance, while still keeping a minimal drag design. This can be seen in the results of Case 2, where it would have to make a cumulative change in geometry of 112% to achieve only a 5% increase in thrust to match that of Case 1. To get a definitive answer would require Case 2 to be fully optimized until it has reached a rmrumum. Unfortunately with the current computational resources this would require many more weeks to accomplish, which would exceed the time frame for this study. However

according to the current findings, both cases are certain to result in the same optimal geometry.

76

5
5.1

Conclusions and Future Work
Two-Dimensional Findings
A propeller design program was created using blade element and disk actuator theory.

The pressure difference results were placed as boundary conditions into a 2D analysis. A basic optimization procedure was undertaken to find a starting point for a more in depth 3D analysis. The analysis examined 81 different configurations and the best were chosen based on the least amount of drag they produced. The best configurations resulted in negative drag which is

equivalent to a net thrust. The resulting coefficients of thrust for the top two configurations in the inviscid case are shown below in Table 5.1. Table 5.1: Coefficients of thrust for top two configurations in 2D analysis
Code# 3233 3133 Coefficient of thrust 0.0185 0.0173

The most optimal configuration had the longest possible hub length as well as a streamlined duct shape. After further analysis, a phenomenon was seen at the inlet of the duct known as inlet lip separation. This degrades performance of the duct at low velocities and so the second most optimal ducted fan configuration was suggested as a possible alternative. This configuration was the same as the optimal except it had a duct leading edge that was canted

77

upwards. This would help to reduce the appearance of inlet lip separation while still maintaining a somewhat streamlined design. A viscous analysis was performed on the top 8 configurations to see how their performance varied due to added viscous effects. The trend of best to worst was strongly

maintained thereby showing the inviscid analysis was adequate in performing the study. An anomaly was observed in the viscous result for the top case, however it was concluded that in either situation, the initial 3D case would still be largely based off of the second best case, 3133, since it had better off-design characteristics.

5.2

Three-Dimensional Findings
An efficient Quasi-Newton algorithm was created to perform a 3D aerodynamic shape

optimization on a ducted fan configuration.

The optimization proved to be successful by

reducing drag and increasing thrust significantly in various areas. This proves that the objective function worked exactly how it was supposed to, which was to maximize thrust. The duct drag had been reduced by 33.54% and the hub drag by 36.45%. The propeller thrust had also been increased by 141.49% from the initial design. The secondary case that was studied showed that the convergence of the main case was most likely towards a global minimum since the secondary case was approaching the same configuration from a different side of the design space. This study also validated the 2D results which created the starting point for the 3D optimization. It showed that the main case was able to reach a minimum in about a third less iterations than the secondary case which means its starting point was much closer to the minimum.

5.3

Future Work
The current study mainly optimized the duct and hub shapes, but also incorporated a

small amount of propeller optimization by varying the pitch and location of the blade. Future studies will include more design variables in order to increase the design space for the duct and hub shapes as well as fully integrate propeller optimization into the entire analysis. A multiobjective optimization will also be performed to determine the ducted fan configuration that achieves good performance for all flight regimes. Stators are also to be added to the

configuration in order to reduce the exit swirl of the flow to salvage the lost energy and convert it into thrust.

78

Appendix I - Propeller Program Output
%% % %%% Final results %% %% %%% r (in) pl(psi) 2. 9527 6. 4461 3.3464 6. 4330 3. 7401 6. 4232 4.1338 6. 4155 4.5275 6. 4092 4. 9212 6. 4038 5. 3149 6. 3990 6. 3947 5. 7086 6.1023 6. 3907 6. 4961 6. 3869 6. 8898 6. 3832 6. 3796 7. 2835 7. 6772 6. 3761 8. 0709 6. 3725 8. 4646 6. 3689 6.3653 8. 8583 9. 2520 6.3615 9. 6457 6.3577 10.0394 6.3538 10.4331 6. 3498 10.8268 6. 3456 11.2205 6. 3413 11.6142 6. 3368 12.0079 6. 3322 12.4016 6. 3273 12.7953 6. 3223 13.1890 6. 3169 13.5927 6. 3113
p2 (psi) 6. 4978 6. 5103 6. 5201 6. 5280 6. 5346 6. 5404 6. 5455 6. 5502 6. 5547 6. 5589 6. 5630 6. 5670 6.5710 6. 5750 6. 5790 6. 5831 6. san 6. 5916 6. 5960 6. 6005 6. 6052 6. 6101 6. 6152 6. 6205 6. 6260 6. 6318 6. 6379 6. 6444 theta(deg) 89.2521 86. 2168 83.4522 80.8994 78. 5183 76.2814 74. 1694 72. 1680 70. 2664 68. 4562 66.7306 65.0840 63. 5116 62.0092 60. 5730 59. 1996 57. aB61 56.6294 55.4270 54.2763 53. 1750 52.1210 51. 1123 50. 1468 49. 2229 48.3389 47. 4933 46. 6947 Ur(ft/s) 464.9186 471.3892 477. 9810 484.8260 491.9966 499.5303 507.4439 515.7419 524.4210 533.4732 542.8870 552.6496 562.7467 573.1634 583.8851 594.8967 606.1937 617.7318 629.5275 641.5574 653.8088 666.2698 678.9288 691.7746 704.7970 717.9859 731.3319 744.9259 T(1bf) 0.4032 6776 0.9434 1.:2049 1. 4660 Cl 0. 6056 6075 0. 6095 0. 6117 0. 6140 0. 6164 0. 6191 0. 6220 0. 6251 o. 6285 0. 6321 0. 6360 o. 6402 o. 6447 0. 6495 0.6546

o.

o.

1.'7294 1. 9974 2.:2720 2. 5549 2.8475 3.1512 3. 4673 3. 7971 4.1418 4.5026 4. 8808

5. 2776 5.6945 6.1328 6. 5942
7. 0803 7. 5929 8.1340 8.'7059 9. 3109 9.9518 10.6318 11. ~543

0. 6601 0. 6660 o. 6723 0. 6790 0. 6862 0. 6939 0. 7022 0.7110 0. 7206 0. 7308 0. 7418 0. 7537

Velocity ( ft/3) 455.6

RPM 5000

T(lbf) 272.9963

P(HP) 280.4030

Pideal (HP) 226.1994

n

o. 8067

Figure 11: Propeller blade pressure distribution

79

Appendix II - 2D Validation Convergence History
0.4 0.3 0.2
t::

:·.
--o
----- 1 70

. .

·.;;
v

0

0.1 0 -0.1 -0.2 -0.3 -0.4
Iteration

~

t::

-;
t:: Cll Cl..

?:

-

-

2

.......... 3

Figure Ill: Rear thickness penalty function over time

.... . .
o ---- 1
--2
······· 3

-10

10

30
Iteration

so

70

Figure 112: Leading edge thickness penalty function over time

80

Appendix III - Resultant Views for Final Cases

Figure III1: Contours of velocity magnitude for Case 1

3.460o·OOZ

3,184o ·002 F -007·002

~··002

Figure III2: Contours of static pressure on hub for Case 1

IIIIWI:i
I

t~
"'===--=======-...:;;:::---:::=--=-~~-

-

--

Figure III3: Streamlines for Case 1 81

Figure III4: Contours of static pressure for Case 1

Figure III5: Final model for Case 1

Figure III6: Contours of velocity magnitude for Case 2
82

Figure III7: Contours of static pressure on hub for Case 2

Figure III8: Streamlines for Case 2

Figure III9: Contours of static pressure for Case 2

83

-

Figure lillO: Final model for Case 2

84

References
[1] Cook, W.L., "Summary of lift and lift/cruise fan powered lift concept technology," NASA CR 177619, 1993. [2] Wheeler, R.L., "The British Hovercraft Corporation's AP.1-88 Hovercraft," AIAA 83-0634, AIAA/SNAME/ASNE ih Marine Systems Conference, New Orleans, Louisiana, 23th-25th February, 1983. [3] Winfield, A.H., "Advanced technologies for enhancement of airships," AIAA 93-4040-CP, 1993. [4] Weelden, S.D., Smith, D.E., Mullins, B.R., "Preliminary design of a ducted fan propulsion system for general aviation aircraft," AIAA Paper 96-0376, AIAA 34th Aerospace Sciences Meeting and Exhibit, Reno, Nevada, 15th-18th January, 1996. [5] Davey, R.F., "A regenerative ducted-fan engine for small aircraft," AIAA 2005-7325, AIAA 5th Aviation, Technology, Integration, and Operations Conference (ATIO), Arlington, Virginia, 26th-28th September, 2005. [6] Johnson, E.N., Turbe, M.A., "Modeling, control, and flight testing of a small ducted fan aircraft," AIAA 2005-6281, AIAA Guidance, Navigation, and Control Conference and Exhibit, San Francisco, California, 15th-18th August, 2005. [7] Weir, R.J., "Aerodynamic design considerations for a free-flying ducted propeller," AIAA 88-4377-CP, 1988. [8] Kondor, S.A., Moore, M., "Experimental investigation of a morphing nacelle ducted fan," Georgia Tech Research Institute, Smyrna, GA, 2004. [9] Kucheman and Weber, "Aerodynamics of propulsion," McGraw Hill Book Company, Inc., New York, NY, 1953. [10] Patterson, G.N., "Ducted fans: approximate methods of design for small slipstream rotation", Report ACA-8, Australian Council for Aeronautics, 1944. [11] Regier, A.A., Barmby, J.G., Hubbard, H.H., "Effect of critical mach number and flutter on maximum power loading of ducted fans," NACA TN-1330, Langley Memorial Aeronautical Laboratory, Langley Field, VA, 1947. [12] Cavicchi, R.H., "Analysis of limitations imposed on one-spool ducted-fan-engine designs by compressors and turbines at flight mach numbers of 0, 0.6, and 0.8," NACA RM E57E14, Lewis Flight Propulsion Laboratory, Cleveland, Ohio, 1957. [13] Parisen, R.B., Armstrong, J.C., "Theoretical evaluation of the ducted-fan turbojet engine," NACA TN-1745, Lewis Flight Propulsion Laboratory, Cleveland, Ohio, 1948. [14] Spence, P.L., "Ducted fan noise prediction using wave envelope analysis and the Kirchoff formula," AIAA 97 -1651-CP, 1997. [15] Hobbs, D.E., Neubert, R.J., Malmborg, E.W., Philbrick, D.H., Spear, D.A., "Low noise research fan stage design," NASA CR-195382, United Technologies Corporation, Pratt & Whitney, East Hartford, Connecticut, 1995. [16] Dunne, R.C., Howe, M.S., "Wall-bounded blade-tip vortex interaction noise," Journal of Sound and Vibration, Vol. 202, 1997, pp. 605-618. 85

[17] Neubert, R., Bock, L., Malmborg, E., Owen-Peer, W., "Advanced low-noise research fan stage design," NASA CR-97-206308, United Technologies Corporation, Pratt & Whitney, East Hartford, Connecticut, 1997. [18] Dittmar, J.H., Elliot, D.M., Bock, L.A., "Some acoustic results from the Pratt and Whitney advanced ducted propulsor-fan 1," NASA TM-1999-209049, Glenn Research Center, Cleveland, Ohio, 1999. [19] Mort, K.W., Yaggy, M.F., Yaggy, P.L., "Aerodynamic characteristics of a 4-foot-diameter ducted fan mounted on the tip of a semispan wing," NASA TN D-1301, Ames research Center, Moffett Field, California, 1962. [20] Giulianetti, D.J., Biggers, J.C., Maki, R.L., "Longitudinal and lateral-directional aerodynamic characteristics of a large-scale, V/STOL model with four tilting ducted fans arranged ina dual tandem configuration," NASA TN D-3490, Ames research Center, Moffett Field, California, 1966. [21] Wheeler, R.L., "Recent United Kingdom hovercraft development," Journal of Hydronautics, · Vol. 12, 1978, pp. 3-17. [22] Sheets, H.E., Mantle, P.J., "Air cushion craft propulsion," Journal of Aircraft, Vol. 4, 1967, pp. 237-244. [23] Hicks, R., "Wing design by numerical optimization," AIAA Paper-77-1247, AIAA Aircraft Systems and Technology Meeting, Seattle, Washington, 22nd-24th August, 1977. [24] Nemec, M., Zingg, W., Pulliam, T.H., "Multi-point and multi-objective aerodynamic shape optimization," AIAA 2002-5548, 9th AIAAIISSMO Symposium on Multidisciplinary Analysis and Optimization, Atlanta, Georgia, 4th-6th September, 2002. [25] Castonguay, P., Nadarajah, S.K., "Effect of shape parameterization on aerodynamic shape optimization," AIAA 2007-59, 45th AIAA Aerospace Sciences Meeting and Exhibit, Reno, Nevada, 8th-11th January, 2007. [26] Mousavi, A., Castonguay, P., Nadarajah, S.K., "Survey of shape parameterization techniques and its effect on three-dimensional aerodynamic shape optimization," AIAA 20073837, 18th AIAA Computational Fluid Dynamics Conference, Miami, FL., 25th-28th June, 2007. [27] Mavriplis, D.J., "A discrete adjoint-based approach for optimization problems on threedimensional unstructured meshes," AIAA 2006-50, 44th AIAA Aerospace Sciences Meeting and Exhibit, Reno, Nevada, 9th-12th January, 2006. [28] Yamazaki, W., Matsushima, K., Nakahashi, K., "Aerodynamic shape optimization based on drag decomposition," AIAA 2006-3332, 24th Applied Aerodynamics Conference, San Francisco, California, 5th-8th June, 2006. [29] Leoviriyakit, K., Kim, S., Jameson, A., "Viscous aerodynamic shape optimization of wings including planform variables," AIAA 2003-3498, 21st Applied Aerodynamics Conference, Orlando, Florida, 23rd-26th June, 2003.

86

[30] Fudge, D.M., Zingg, D.W., Haimes, R., "A CAD-Free and a CAD-Based geometry control system for aerodynamic shape optimization," AIAA 2005-451, 43rd AIAA Aerospace Sciences Meeting and Exhibit, Reno, Nevada, 10th-13th January, 2005. [31] Cliff, S.E., Thomas, S.D., Baker, T.J., Jameson, A., Hicks, R.M., "Aerodynamic shape optimization using unstructured grid methods," AIAA 2002-5550, 9th AIAAIISSMO Symposium on Multidisciplinary Analysis and Optimization, Atlanta, Georgia, 4th-6th September, 2002. [32] Widhalm, M., Ronzheimer, A., Hepperle, M., "Comparison between gradient-free and adjoint-based aerodynamic optimization of a flying wing transport aircraft in the preliminary design," AIAA 2007-4060, 25th AIAA Applied Aerodynamics Conference, Miami, Florida, 25th-28th June, 2007. [33] Madavan, N.K., "Aerodynamic shape optimization using hybridized differential evolution," AIAA 2003-3792, 21st Applied Aerodynamics Conference, Orlando, Florida, 23rd-26th June, 2003. [34] Gur, 0., Rosen, A., "Optimization of a propeller based propulsion system," AIAA 20081977, 49th AIAA/ASME/ASCE/AHS/ASC Structures, Structural Dynamics, and Materials Conference, Schaumburg, IL, 7th-1Oth April, 2008. [35] Leung, T.M., Zingg, D.W., "A Newton-Krylov approach for aerodynamic shape optimization of wings," AIAA 2008-5806, 12th AIAAIISSMO Multidisciplinary Analysis and Optimization Conference, Victoria, British Columbia, 10th-12th September, 2008. [36] Houghton, E. L., Carpenter, P. W., "Aerodynamics for engineering students," New York: Halsted Press, 1993. [37] Spakovszky, Z. "Performance of propellers." Thermodynamics and propulsion. 03 Sept 2007. Stanford University. 23 Apr 2009 <http://web.mit.edu/16.unified/www/FALL/thermodynamics/notes/node86.html>. [38] Freeman, H.B., "Comparison of full scale propellers having R.A.F.-6 and Clark Y airfoil sections," NACA TR-378, Langley Memorial Aeronautical Laboratory, Langley Field, Va., 1932. [39] Herrig, L.J., Emery, J.C., Erwin, J.R., "Systematic two-dimensional cascade tests of NACA 65-series compressor blades at low speeds," NACA TN-3916, Langley Aeronautical Laboratory, Langley Field, Va., 1957. [40] Aungier, R.H., "Axial-flow compressors: a strategy for aerodynamic design and analysis," New York: ASME Press, 2003. [41] Cohen, H., Rogers, G.F.C., Saravanamuttoo, H.I.H., "Gas turbine theory," 4th edition, Essex: Longman Group Limited, 1996. [42] Leishman, G.J., "Principles of helicopter aerodynamics," 2nd edition, New York: Cambridge University Press, 2006. [43] Abbott, I.H., "Theory of wing sections: including a summary of airfoil data," New York: Dover Publications, 1959. [44] Slater, J.W., "Examining Spacial (Grid) Convergence," CFD Verification and Validation. 19 September 2005. NASA. 28 Aug 2007 <http://www .grc.nasa.gov/WWW/wind/valid/tutoriallspatconv .html>. [45] Rao, S.S., "Engineering optimization," New York: John Wiley and Sons, Inc., 1996. 87

[46] Fletcher, R., "Practical methods of optimization," Vol. 1, Unconstrained Optimization, New York: John Wiley and Sons, Inc., 1980. [47] Rosenbrock, H.H., "An automatic method for finding the greatest or least value of a function," Computer Journal, Vol. 3, No.3, 1960, pp. 175-184. [48] Morris, A.M., Allen, C.B., Rendall, T.C.S., "Development of generic CFD-based aerodynamics optimization tools for helicopter rotor blades," AIAA 2007-3809, 25th AIAA Applied Aerodynamics Conference, Miami, Florida, 25th-28th June, 2007. [49] Selig, M. "NACA 65-410" UIUC Airfoil Coordinates Database- Version 2.0. 19 February 2008. NASA. 24 February 2008. ) <http://www.ae.uiuc.edu/m-selig/ads/coord_database.html#N>. [50] Srilatha, K.R., Dwarakanath, G.S., Ramamoorthy, P., "Design of a natural laminar flow airfoil for a light aircraft," Journal of Aircraft, Vol. 27, No. 11, 1990, pp. 966-968. [51] White, F.M., "Fluid mechanics," 5th edition, New York: McGraw-Hill, 2003. [52] Jones, B. "Viscous grid spacing calculator" NASA Langley Research Center Geometry Laboratory. 3 July 1997. NASA. 23 April2008. < http://geolab.larc.nasa.gov/APPS/YPlus/>.

88

