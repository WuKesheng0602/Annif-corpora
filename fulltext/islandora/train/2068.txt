15

CHATTER SUPPRESSION IN MACHINING PROCESSES

by

Israr Ahmed Siddiqui B.E. -Mechanical N ED University o f Engineering & Technology, Karachi

A thesis Presented to Ryerson University In Partial fulfillment of the Requirement for the degree of M aster o f Applied Science in the program o f Mechanical Engineering

Toronto, Ontario, Canada, 2004

Copy right ©Israr Siddiqui 2004

nVEHSOMUwSnUBMIW

UMI N u m b er; E C 5 2 9 7 6

All rights re s e rv e d INFORMATION TO USERS

T he quality of this reproduction is dep en d en t upon the quality of the copy subm itted. Broken or indistinct print, colored or poor quality illustrations and photographs, print bleed-through, substandard m argins, and improper alignm ent can adversely affect reproduction. In the unlikely event that the author did not send a com plete m anuscript and there are missing p ag es, th e se will be noted. Also, if unauthorized copyright m aterial had to be rem oved, a note will indicate the deletion.

UMI
UMI Microform EC52976 Copyright 2008 by ProQ uest LLC All rights reserved. This microform edition is protected against unauthorized copying under Title 17, United S tates Code.

P roQ uest LLC 789 E ast E isenhow er Parkway P.O. Box 1346 Ann Arbor, Ml 48106-1346

Author's Declaration
I hereby declare that I am sole author of this thesis. I authorize Ryerson University to lend this thesis to other institution or individuals for the purpose o f scholarly research

Signature:

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request o f other institutions or individuals for the purpose o f scholarly research.

Signature:_______________________

11

Borrower's Page
Ryerson U niversity requires the signatures o f all persons using or photocopying this thesis. Please below, and give address and date Nam e Signature Address Date

m

Abstract
The development o f an untended machining system has been the subject o f research for quite some time. Today, the need for such a system is greater than it once was because of the shortage o f skilled workers, higher machining speeds, increase in precision machining, and the need to lower downtime. One aspect o f machining process has been under investigation is tool chatter.

Chatter is a machining instability resulting from self-excited vibration caused by interaction o f the chip removal process, the cutting tool, and the structure o f the machine tool. Chatter can severely reduce the material rate by putting limits to cutting speed and width o f cut.

This thesis describes a novel approach for active, on line suppression o f chatter in machining operations. The goal o f chatter suppression is to minimize the chatter amplitude and therefore extend the chatter stability boundary. Once the presence of chatter is detected the suppression system will be activated. A neural network model is used to calculate current gradient values with respect to the parameters o f the active vibration source. This gradient information will be used by an optimization module to find the optimal set o f parameters for the active vibration source. The methodology described is evaluated through simulation studies and simulation results confirmed the effectiveness o f the approach.

IV

Acknowledgements
The authors wish to express his sincerest gratitude to his thesis supervisor for his support and guidance o f this research, Prof. Ahmad Ghasempoor.

I also w ould like to thank the Department o f Mechanical and Industrial Engineering and the school o f Graduate Studies at Ryerson University for their support in terms of departm ent facilities, research stipend and scholarship.

A special thanks goes out to my friends Syed K ashif Ali, Bijal Shah and Sadeep Dhar for their advice, experience and knowledge with regard to chatter simulation.

I would like to acknowledge my supervisors funding resource- Natural Sciences and engineering Research Council o f Canada (NSERC) for the financial support provided for this research.

Finally, I would like to thank my wife for her support and understanding throughout the duration o f this work.

Table of Contents
Author's Declaration..............................................................................................................." Borrower's Page......................................................................................................................iii Abstract...................................................................................................................................... Acknowledgements................................................................................................................... v Table o f Contents.................................................................................................................... v* List o f Figures.......................................................................................................................... ix List o f Tables.........................................................................................................................xiii Nomenclature......................................................................................................................... xiv Chapter 1 1.1 1.2 Introd u ction ............................................................................................

Background......................................................................................................................1 Chatter in M achining..................................................................................... 1.2.1 1.2.2 2

Chatter in Turning........................................................................................2 Chatter in M illing...................................................................................... ..4

1.3 1.4

Examples o f Chatter...................................................................................................... 6 Objective......................................................................................................................... 7 Literature R e v iew ...................................................................................

Chapter 2 2.1 2.2 2.3 2.4

Introduetion.....................................................................................................................8 Self-Excited Chatter...................................................................................................... 8 Regeneration o f W aviness..........................................................................................11 Passive Vs. Aetive M ethod....................................................................................... 12 2.4.1 2.4.2 2.4.3 2.4.4 2.4.5 2.4.6 Regulated Spindle Speed..........................................................................13 Viseoelastie Dynamie Damping..............................................................16 Variable Cutting........................................................................................ 19 Vibration Absorber....................................................................................25 Viseous Damper......................................................................................... 28 Actuators with Inertia M ass..................................................................... 29

VI

2.5

Statem ent o f objective o f the thesis...........................................................................31

Chapter 3 3.1 3.2 3.3

M ethodology...........................................................................................

Introduction................................................................................................................. 32 M ethodology............................................................................................................... 32 Background on Neural N etw orks............................................................................. 38 3.3.1 3.3.2 3.3.3. 3.3.4 M ultilayer Feed Forward Neural N etw orks..........................................38 Training........................................................................................................40 Gradients o f a Neural Network................................................................ 41 V alidation.................................................................................................... 42

3.4

Off-line vs. On-line Training..................................................................................... 44 3.4.1 Dynamic vs. Static Neural Network.......................................................44

3.5 3.6 3.7 3.8

Extracting gradient information from a Neural Network M odel.........................46 Signal Processing......................................................................................................... 49 M axim um Entropy (all poles) M ethod......................................................................51 Overview o f the proposed m ethod............................................................................. 52 Simulation S tu d ies ..............................................................................

Chapter 4 4.1 4.2 4.3 4.4 4.5

Introduction..................................................................................................................54 Sim ulation o f Chatter................................................................................................54 Sim ulation Model for Turning.................................................................................58 Chatter Sim ulation in M illing.................................................................................. 64 Sim ulation Model for M illing.................................................................................. 65 R e su lts .............................................................................................

Chapter 5

5.1 5.2

Introduction................................................................................................................. Chatter Suppression in Turning................................................................................71 5.2.1 5.2.2 Neural Network A rchitecture................................................................. 71 Off-Line Training................... 74

vu

5.2.3 5.2.4 5.2.5

Training and Test Set..............................................................................75 Chatter Suppression System.................................................................. 76 Simulation Results...................................................................................78

5.3

Chatter Suppression in M illing.................................................................................81 5.3.1 5.3.2 Off-Line Training...................................................................................... 83 Simulation Results.......................................................................... C on clu sion .............................................................................................. 84

Chapter 6 6.1 6.2 6.3

Contributions...............................................................................................................89 Concluding Rem arks..................................................................... Recomm endations...................................................................................................... 89

.....89

REFERENCES.......................................................................................

91

V ITA...........................................................................................................................................93

vm

List of Figures
Figure 1.1: Cylindrical turning on a lathe (boothroyd and Knight, 1989)................ 3

Figure 1.2: Turning: Chip w idth b ..............................................................................................4 Figure 1.3: CNC M illing M achine............................................................................................... 5 Figure 1.4: Milling: Cumulative chip width for all teeth cutting simultaneously .....5

Figure 1.5: Wavy surface o f work piece after chatter (Chiriacesu, 1 9 9 0 )........................... 6 Figure 1.6: W avy surface o f a hollow cylinder work piece after chatter............................. 7 Figure 2.1 : Self-excited vibration..............................................................................................10 Figure 2.2: Chip thickness variation between tool and the work piece...............................11 Figure2.3: Closed loop representation o f machining.............................................................12 Figure 2.4: Block diagram o f the regenerative chatter...........................................................14 Figure 2.5: Simulation o f the placement y(t) for (a) without control, and under control with (b) v= 0.25, (c) v=0.4, (d) v=0.1, (e) v=0.75, and (f) v = l........................................... 15 Figure 2.6: Experimental setup................................................................................................. 16 Figure 2.7: Excitation M ethods................................................................................................ 18 Figure 2.8 Installation o f the dynamic damper on the tool post and its dim ensions....... 19 Figure 2.9: V ibration cutting setup......................................................................................... 20 1. Figure 2.10: W ork holder and measurement setup for work displacement......................21 Figure 2.11: Experimental work displacement with tool rake angle ao= 9°, tool clearance angle = I*'.............................................................................................................. = 6 , tool

Figure 2.12: Experim ental work displacement with tool rake angle Clearance angle

= 4 ...............................................................................................................23

Figure 2 13: Experimental work displacement with tool rake angle ao=3®'tool clearance ............................................................................................ 24 angle =7°

IX

Figure 2.14: Experimental work displacement with tool rake angle ao--0°, tool clearance a n g l e = 1 0 ° .......................................................................... ................................................24 Figure 2.15: Control block diagram for chatter in tu rn in g ...................................................25 Figure 2.16: A simplified response function of the cutting tool (a) real part; (b) magnitude..............................................................................................................................27 Figure 2.17: Simulated stability chart: (a) chatter frequency versus spindle speed (b) Cut width versus spindle s p e e d ........................................................................................28 Figure 2.18: Configuration o f a beam with replicated internal viscous dam pers...........29 Figure 2.19: Frequency response function between the input voltage and output force of the piezoelectric actuator with an inertial mass o f 150g (a) magnitude; (b) Phase...................................................................................................................................... 30 Figure 2.20: A simplified model for the cutting tool with the piezoelectric actuator. ...31 Figure 3.1: Active Chatter suppression system .................................................................... 31 Figure 3.2: Simplified model o f cutting process.................................................................. 32 Figure 3.3: M achining Process as an input/output system..................................................33 Figure 3.4: Chatter Suppression System ..............................................................................34 Figure 3.5: Steepest Descent M ethod...................................................................................35 Figure 3.6: Active Chatter Suppression System.................................................................36 Figure 3.7: Typical multiplayer feed forward neural network architecture................. 38 Figure 3.8: Neurons with multiple inputs and a single o u tp u t........................................ 38 Figure 3.9: Training and test error as a function of training iterations..........................42 Figure 3.10: A Tapped delay Line........................................................................................ 44 Figure 3.11 : Dynamic neural networks with tapped delayed line................................... 48 Figure 3.12: Reprsentation o f frequency response using finite number o f bins...............................................................................................................................................4 9 Figure 3.13: Adaptive feed forward chatter suppression system ...................................... 51

Figure 4.1 : Sim plified model o f cutting process.................................................................. 54 Figure 4.2: The regeneration diagrams relating to force, surface waviness and vibration.......................................................................................................................................... Figure 4.3(a): M odel for simulation o f turning.................................................................... 58 Figure 4.3(b): M odel for simulation o f turning.................................................................... 59 Figure 4.4: Turning Chatter Simulation for b=1.63 m m .....................................................62 Figure 4.5: Turning Chatter simulation for b = 2.04mm .....................................................62 Figure 4.6: Turning Chatter Simulation for b = 2.45 m m .................................................. 63 Figure 4.7: Turning Chatter Simulation for b = 3.06 m m ...................................................64 Figure 4.8. End M illing Process.............................................................................................65 Figure 4.9: M illing cutter with 8 teeth in a slotting cut......................................................66 Figure 4.9(a): M illing Chatter Simulation for b= 1.00 m m ............................................... 68 Figure 4.9 (b): M illing Chatter Simulation for b=1.00 m m ............................................... 69 Figure 4.10(a) : M illing Chatter Simulation for b= 2.00 m m ............................................69 Figure 4.10 (b): M illing Chatter Simulation for b= 2.00 m m ............................................70 Figure 5.1 : Neural Netw ork Model for Turning.................................................................. 72 Figure 5.2: Simplified Cutting Process with Two Actuators............................................ 73 Figure 5.3: Sampling Period with Maximum Am plitude.................................................. 73 Figure 5.4: Sigmoid Function................................................................................................. 74 Figure 5.5: Neural N etw ork with Varying Number o f Hidden N odes............................ 76 Figure 5.6: Block Diagram o f Chatter Suppression System .............................................. 77 Figure 5.7: Tool chatter with active suppression system O ff........................................... 78 Figure 5.8: Frequency response o f the tool with active suppression system o ff........... 79 Figure 5.9: Tool vibration with active suppression system O n.........................................80

XI

Figure 5.10: Frequency response o f the tool with active suppression O n.......................80 Figure 5.11 : Comparison o f frequency response of the tool w ith active suppression On and O ff................................................................................................................................. 81 Figure 5.12: Neural Network Model for M illing................................................................. 82 Figure 5.13: Simplified M illing Cutting Process with Two A ctuators........................... 83 Figure 5.14: Neural Network with Varying Number o f Hidden N odes.......................... 84 Figure 5.15: Tool chatter with active suppression system O ff..........................................85 Figure 5.16: Tool chatter with active suppression system O ff......................................... 86 Figure 5.17: Frequency response o f the tool with active suppression system o ff. 86

Figure 5.18: Tool vibration with active suppression system O n...................................... 87 Figure 5.19: Tool vibration with active suppression system O n...................................... 87 Figure 5.20: Comparison o f frequency response o f the tool with active suppression On and O ff..................................................................................................................................88

Xll

List of Tables
Table 4.1: Cutting Param eters...................................................................................................61 Table 4.2: Cutting Param eters used in milling simulation....................................................68

xm

Nomenclature

Acronym d E

Definition Desired Output Error (between desired and actual output) Neural Network Function All output nodes in the network Neural Network Actual output node Oriented transfer function Neural network weight Output Input Area o f cross section Inner diameter Outer diameter Apparent complex elastic modulus Elastic modulus Stiffiiess Length Preload, Prestrain

f i NN 0 OTF W y z A di do Ea E K L P

XIV

b biim Ks hav hm m n Ft Fx Zoid

Chip width Limit value o f chip width Specific force Average chip thickness Mean chip thickness Mass Spindle speed Tangential force Normal Force Displacement

XV

Chapter 1 Introduction

1.1 Background

The m anufacturing industry has a sigmficant impact on the Canadian economy, as it comprises a significant portion o f the total GDP in Canada-( 12.88% in 1998) [1]. More specially, the province o f Ontario is home to assembly plants representing six different automotive manufacturers: Ford, General Motors, Daimler Chrysler, Honda, Toyota and CAMI (a joint venture between GM and Suzuki). Parts manufacturers and suppliers also have plants spread throughout the province.

In the global m arketplace, a company must be able to produce a quality component at a reasonable price to stay in operation. Compliance with quality standards such as ISO 9001 and QS-9000 is now required for manufacturers to compete internationally. To rem ain com petitive, com panies must find ways of not only improving part quality, but also reducing costs.

M achining operations are often claimed to be the most important processes in engineering manufacture. This is based on the fact that some machining is involved in the production o f alm ost any item. From the point of view o f expenditure, machining is of considerable importance. It is estimated that in the United States alone some $10 billion annually is spent on m achining processes [1].

Since the late 1940's, the whole approach to the shaping processes has undergone a num ber o f revisions. Casting to final shape has become reasonably commonplace; accurate form ing has been accepted, with considerable development in processes such as spinning, extrusion and high- rate forming. These developments in the so-called chipless production processes have been said to herald the end o f material removal processes. In fact this does not seem likely. There are situations where non-chip-forming

applications are economically desirable, but for a wide range o f conditions the simplicity o f the machining process will make it an economical method for years to come. In keeping with the forming processes, great developments have been made in material removal processes in recent years. Tool materials have been improved. The size and speed o f machine tools have increased considerably. Machine-tool control has been improved.

1.2 Chatter in Machining
Chatter is a machining process instability resulting from self-excited vibration caused by the interaction o f the chip removal process and structure o f the machine tool. These vibrations inhibit higher metal removal rates (MRR), accelerate tool wear, and result in poor surface finish and even damage to machine components. It is estimated that higher MMR achievable through chatter control could yield more than a $10 billion increase in US GDP. Often the onset o f machining instability, namely chatter, occurs at less severe cutting conditions than those associated with breakage. This is true especially when machining flexible parts such as turbine blades or when machining deep features using slender end mills [2].

1.2.1 Chatter in Turning

Turning is a single point machining process, which is used to machine casting, forging, and other work pieces into cylindrical components, which require precision dimensional tolerance and good surface finish (Figure 1.1). There are several parameters affecting onset conditions in turning. For a given work piece (material, geometry, damping, boundary conditions), a given lathe (tool structure, support, geometry, and insert), the parameters are cutting speed (or spindle spin rate), feed rate and depth o f cut. Cutting speed is the rate at which the cutting tool removes the material from the work piece. Feed rate is the advancement rate o f the cutting tool along the work piece per revolution. Depth o f cut is the thickness o f the metal removed in the radial direction [3].

M«(cl»tock (con-taininsi main 8^ in< llia>

V W or Icpiace 'Tool post Tallstock

Cross slid»
Carriage Feed rod

B ed

Figure 1.1: C ylindrical turning on a lathe (boothroyd and Knight, 1989)[4]

In turning operations, chatter is a dynamic instability o f the cutting process, which results from the interaction o f the metal cutting process and structural dynamics o f the machine tool. U nder certain cutting conditions, the machine tool and work piece dynamical system becomes unstable, which leads to chatter.

Chatter and noise in metal cutting are ubiquitous problems in the workshop. The turning operation is one kind o f metal cutting that exhibits chatter related problems. Severe noise is also a problem due to regulations in preventing hearing loss.

The m ost significant cutting parameter, which is decisive for the generation o f chatter, is the w idth o f cut b (Figure 1.2). For sufficiently small chip widths, cutting is stable, without chatter. By increasing b, chatter starts to occur at a certain width bum snd becomes more energetic

for all values o f b < bnm. The value o f "bum" depends on the dynamic characteristics o f the structure, on the work piece material, cutting speed and feed, and on the geometry o f the tool [5]

Figure 1.2: Turning: Chip width b [5]

Regeneration o f waviness is possible because in almost all machining operations the tool removes the chip from the surface that was produced by the tool in the preceding pass, that is, the surface produced in turning during the proceeding revolution. If there is relative vibration between the tool and the work piece waviness it is generated on the cut o f the surface.

1.2.2

Chatter in M illing

Milling is a basic machining process by which a surface is generated by progressive chip removal (Figure 1.3). Two broad categories of milling processes are: I . Peripheral milling (slab milling): the teeth located on the periphery o f the cutter body generate the surface and the surface is parallel with the axis o f rotation o f the cutter.

2. Face m illing (end milling): the surface generated is at right angles to the cutter axis.

Figure 1.3; CNC Milling Machine

bcum = 3b

Figure 1.4: M illing: Cumulative chip width for all teeth cutting simultaneously [5]

Chatter in milling is more complex than in turning because the system o f forces on the individual teeth rotates with the directions o f flexibilities o f the vibratory system. In milling, the cumulative chip width bcum (Figure 2.4) has to be considered, which is the sum o f the chip widths o f all the teeth cutting simultaneously.

In all machining operations, the tool removes the chip from the surface that was produced by the tool in the preceding pass, that is , the surface produced in one preceding tooth o f the cutter,

1.3 Examples of Chatter

Chatter is undesirable because o f its adverse effects on surface finish, machining accuracy, and tool life.

Figure 1.5: W avy surface o f work piece after chatter (Chiriacesu, 1990) [6]

Furthermore, chatter is also responsible for reducing output because, if no remedy can be found, metal removal rates have to be lowered until vibration-free performance is obtained. One important aspect o f chatter is that it occurs suddenly. As a result, significant damage may occur before any action can be taken. Figures 1.5 and 1.6 illustrate the effects o f chatter on work piece surface finish.

Figure 1.6: W avy surface of a hollow cylinder work piece after chatter [6]

1.4 Objective

The objective o f this work is to develop a novel approach for active, on-line suppression o f chatter in m achining operations. The goal o f chatter suppression is to minimize the chatter am plitude and therefore extend the chatter stability boundary.

PROPERTYO F RY ERSO NU l^V ERSITYU Q RA RY

Chapter 2 Literature Review
2.1 Introduction
Chatter, a violent relative vibration between the work piece and the cutting tool, is a frequent problem in machining operations. Chatter affects the productivity, the surface finish, and the tool life. It also causes severe acoustic noise in the work environment. To reduce chatter, approaches such as continuously varying the spindle speed, using a damped absorber, and increasing the stiffness o f the machine structure have been studied. Chatter falls into two categories, forced chatter and self-excited chatter. Forced chatter is caused by external forces and it is usually not a problem in machining because the external forces or the dynamic compliance o f the machine structure can be reduced to permissible values once the external forces causing the chatter are identified. However, self-excited chatter is a serious problem, because its amplitude increases with the progress o f cutting [5].

2.2 Self -- Exited Chatter
Chatter is a self- excited vibration that occurs in metal cutting if the chip width is too large with respect to the dynamic stiffness o f the system. This vibration occurs when a steady input o f energy is in some way modulated into vibration. Self-excited vibrations usually result from a dynamic instability o f the cutting process. This phenomenon is commonly referred to as machine tool chatter. Under such conditions these vibrations start and quickly grow (Figure 2.1). If large tool-work engagements are attempted, oscillations suddenly build up in the structure and effectively limit metal removal rates. The structure oscillates in one o f the natural modes o f vibration.

8

The cutting force becomes periodically variable, reaching considerable amplitudes, the machined surface becomes undulated, and the chip thickness varies in the extreme so much that it becomes dissected (Figure 2.2).

Seif-Exclted vibration
Self-generated from a steady energy source Example: violin, chatter

I

1 <

time

Figure 2.1: Self-excited vibration [5] In the turning and m illing operations, chatter or vibration is a frequent problem, which affects the result o f the machining, and, in particular, the surface finish. Tool life is also influenced by vibration. Severe acoustic noise in the working environment frequently occurs as a result o f dynamic motion between the cutting tool and the work piece [7]. In all cutting operations like turning, boring and milling, vibrations are induced due to the deformation o f the work piece. This implies several disadvantages, economical as well as environmental.

In the turning operation, the tool and tool holder shank are subjected to a dynamic excitation due to the deformation o f work material during the cutting operation. The stochastic chip form ation process usually induces vibrations in the machine-tool system. Energy from the chip formation process excites the mechanical modes o f the machine-

tool system. Modes o f the work piece may also influence the tool vibration [7]. The relative dynamic motion between cutting tool and work piece will affect the result o f the machining, in particular the surface finish.

Removable
Chip-Stock

Chip

Figure 2.2: Chip thickness variation between tool and the work piece[5]

Furthermore, the tool life is correlated with the amount o f vibrations and the acoustic noise introduced. The noise level is sometimes almost unbearable. The most significant cutting parameter, which is decisive for generation o f chatter, is the width o f cut. For sufficiently small chip widths, cutting is stable, without chatter. By increasing b, chatter starts to occur at a certain width and becomes more energetic for all values o f b>biim. The value o f bijm depends in the dynamic characteristics o f the structure, on the

10

w ork piece material, cutting speed and feed, and on the geometry o f the tool. There are two main sources o f self-excitation in metal cutting [5];

1. M ode coupling 2. Regeneration o f Waviness

2.3 Regeneration of Waviness

M ost chatter occurring in practical machining operations is regenerative chatter. It is caused by the undulation o f a work piece surface. The natural frequency o f regenerative chatter is around the natural frequency o f the machining system. Regenerative chatter is so nam ed because o f the closed-loop nature of this interaction (Figure 2.3). Each tooth pass leaves a modulated surface on the work piece due to the vibrations o f the tool and work-piece structures, causing a variation in the expected chip thickness (Figure 2.2) Under certain cutting conditions (i.e., feed, depth, and speed), large chip thickness variations, and hence force and displacement variations, occur and chatter is present [8].

Tool-Workpiece Displacements Tooi-Workprece Structure

t» y t} {x ^ · y w } Force P rocess

Machining Forces

m

i

Figure 2.3: Closed loop representation of machining [8]

Either passive or active methods are used to suppress chatter vibration are:

11

2.4 Passive vs. Active Method
Usually passive methods suppress chatter by using energy absorbing dampers to consume energy absorbing dampers to consume the energy input or by changing the cutting conditions to reduce the energy input or by changing the cutting conditions to reduce energy generated during the machining process. Other passive approaches include the increase o f the rigidity o f the machine tool structure by redesigning or through the use o f dampers, changed tool geometry, variation o f directional factors, etc. Passive methods suffer from the fact that as soon as the machine tool-tool work piece configuration changes, the machines have to be tuned. On the other hand, active control approaches provide numerous advantages: e.g., improved low frequency performance, reduction o f size and weight, and programmable flexibility o f design. There is a limit to the improvement which can be achieved in chatter behavior o f cutting tools through passive methods; for higher speeds, smaller tolerances, and greater process flexibility and efficiency, these methods have proven less than adequate. Some of the more important active chatter suppression methods are reviewed here.

2.4.1 Regulated Spindle Speed

Lio et al [9] proposed a new online control method to suppress chatter during the machining process by regulating spindle speed. The basic principal is to consume energy by the best vibration phase. There is no need to halt the feed during the change o f speed, and hence tool life can be increased and good surface finish can be obtained. Since the computer can monitor the current vibration state and send out new speed commands in real time, this control approach can achieve on-line control o f the time varying and non linear cutting process. If the dynamic behavior of the cutting process is neglected, and assuming that the cutting force is proportional to the instantaneous uncut chip thickness, then the regenerative chatter can be simplified by a block diagram as in Figure 2.4 [10]. The dynamic cutting force signal collected from a dynamometer is passed through a low pass filter, and then digitized. The Fast Fourier transform is carried out to obtain the corresponding power spectrum. The chatter is identified when the intensity at a certain

12

frequency other than the spindle speed and tooth passing frequency exceeds a critical value.

Cultiiig P ro c« ss

Stw clur® D ynam ics

h (s

F(s km

y(s)

Priiïxiry Feedback

F
Figure 2.4: Block diagram of the regenerative chatter [9] Based on the identified chatter frequency, a new spindle speed is computed by applying the principal o f keeping the phase between the present and previous undulations to 90°' The new speed com m and is executed while the cutting proceeds. Figure 2.5 shows simulation results for this method [9]. The main disadvantages o f this technique are that changes in cutting speed affect the surface finish of the part. Simulation results shows that the chatter can be suppressed by using this approach.

13

0.3

I

* '

* `

'

.

1

I-

I-- » -J

0.0

0.0

OJ

0.4

0.6 0.8 Tinie(iec)

1.0

1.2

(a)

(d)

-0.5

0,0

0.2

0.4

0.6

0.8

l.O

1.2

0.0

0.2

04

0:6

0.8

10

12

Time (mc )

Timt(»ecl

(b)

(e)

0.0

0.2

0.4

0,6

0.1

1.0

1.2

00

02

04

06

08

10

12

T im *( m c )

T lm e(iecl

(4

(f)

Figure 2.5: Simulation o f the placement y(t) for (a) without control, and under control with (b) v= 0.25, (c) v=0.4, (d) v=0.1, (e) v=0.75, and (f) v = l [9]

14

The online inform ation needed in applying the proposed approach is the chatter frequency. This is different from other approaches, which require a complete and accurate model o f the system. The experimental set-up is shown schematically in Figure

2 . 6.

C N C I i n g M a c h in e

Dynamometer
] p po I

AC

D riv e

V
7 1 8 A/D

C h a r ge Ampli f i e r

RUST

H5

NC
o n tro l 1e r PC L

L o w -p ass Fi I t e r

1 ADC Card
't ninfffffTPir

PC 80388 DX-

A -- X. . a

Oscilloscope

Figure 2.6: Experimental setup [9]

15

The tool used is a four-teeth high-speed steel end milling eutter, 12mm in diameter. The work materials are S45C and pure aluminum o f size 160x140x25m m , to eonform with the size o f dynamometer. The initial speed is set too 1000 rpm. The speed will reduce when chatter occurs. This is because the machine tool and eutting tool used in the experiment limited the spindle speed to run no more than 1000 rpm. By applying the proposed method to other machines, the initial speed can be set to any value within the eapacity o f the installed motor o f the maehine tool.

This method is eontinually varying the spindle speed, while eutting is effeetive in reducing the amplitude o f self-exited chatter and it is applicable when slight ehatter can be tolerated, provided that the amplitude never exceeds a given limit. Spindle speed regulation systems, whieh simply seek out any stable zone, leave the process suseeptible to abrupt ehanges in the machining system's dynamies.

2.4.2 Viscoelastic Dynamic Damping

Kim et al. [11] proposed the procedure for optimum design of a viscoelestic dynamic damper. The machining chatter was effectively suppressed by applying the damper on the tool post. Based on the dynamic properties o f a seleeted viscoelastic material, whieh are obtained from excitation and response measurements on a simple system having a viscoelastic element, an optimal dynamic damper is designed and attached to the tool post. Its performance is verified by improved cut surface profiles, and the decrease in the magnitude o f the transfer functions around the chatter frequency.

The dynamic properties o f a viscoelastic material can be experimentally obtained from excitation tests on a single DOF system composed o f the viscoelastic element and a lumped mass M at given prestrains and temperatures ( Figure 2.7).

16

M E*|

j

w //y //y///A
(b) Base Excitation F ig u re 2.7; E xcitation M ethods [11]

(a) Force Excitation

The com plex elastic m odulus o f a viscoelestic material is given by E* = a / e = E ( l + j Ô) (2.1)

E= Elastic factor, 6= loss factor is in general dependent upon the oscillating frequency, ambient tem perature and applied preload prestrain [11]. Considering hollow type viscoelastic elem ent with inner diameter dj and outer diameter do, and original height L q , The apparent com plex elastic modulus Eg can be expressed by

F!A XIL

( 2.2 )

W here, F = axial load A= cross sectional area, X= deformed length due to F, L= height after preload, E^ = elastic modulus. In order to estim ate the elastic modulus and loss factor o f a given viscoelastic material, a single D O F system was constructed as shown in Figure 2.7 (a) with the viscoelastic element and a lumped mass. The prestrain was adjusted by tuning a nut, which can be rotated on the well-lubricated adjapter. Assuming that the ambient temperature was held constant through the experiments, impulse-response tests were run at several prestrains. Elastic m odulus E (oe) and loss factor ô{o)) at each given prestrains were calculated from

17

the measured transfer functions [11].
Osunpez' M a a s

N ut f o r A d ju s tin g
Prestrain A d a p te r

Viscoelastic Material

Basé

Figure 2.7 (a): Structure of a viscoelastic dynamic damper [11]

For the purpose o f identifying the chatter frequency o f the lathe, cutting experiments were performed under rather heavy conditions. Experimental results show that the machining chatter was suppressed about 55% in terms o f integrated power o f the vibration signal around the chatter frequency [11]. This was achieved by attaching the optimized viscoelastic damper to the tool post at a fixed location as shown in Figure 2.8.

>222
nut

wtll lubricated Figure 2.8 Installation o f the dynamic damper on the tool post and its dimensions

[11]

18

2.4.3 V ibration Cutting

Xiao et al. [12], showed through experimental investigation that chatter is effectively suppressed without relying on the tool geometry, and work displacement amplitudes are reduced from a wide range o f 10-12 pm to the range o f 3-5 pm by applying vibration cutting, a new cutting model which contains a vibration cutting process is proposed. The vibration cutting setup is shown in Figure 2.9

Oscillator

00 8
Tightening screw Tool clamping frame \ Vibration Tool Work
CO

Electrostriction transducer

Vibration "^modo

Tool holder

154

Figure 2.9: Vibration Cutting Setup [12]

The setup consists o f a rotary work piece with a cutting speed v and a vibrated tool employed by an ultrasonic électrostriction transducer. When the frequency and the amplitude becom e equal to zero, the cutting setup is a conventional cutting. An eddy

19

current sensor with its frequency response ranging from 100 Hz to 80 kHz is set to measure the work displacement in the y direction as shown in Figure 2.10.

20kHz Sampling

A/D converter

Amp Reference Work
Work displaeeiroent direction

Feed

i _ . _'

Vibration tool

Figure 2.10: W ork Holder and Measurement Setup for W ork Displacement [12]

The analog signal provided by the sensors is converted to digital form at a sampling frequency o f 20 kHz and then stored in a computer. The work piece, supported by a slender holder, is S45C carbon steel. The rotary speed is set to be 460 rpm so that an approximate cutting speed o f 58 m/min is achieved. In order to observe the effect o f chatter suppression during vibration cutting, four different tool geometries were used. The side cutting was chosen to be 35° and the comer radius o f the tool was approximately 0.05 mm.

20

rM M k

'1 ^ 1 »I# »If I U* 1 , im -M II.|i

0

0.18

0.36

0,99

0.62

0,66

0,78

0.91

1.04

t ,17

1-30

Tiitie(s)
|g ) Conventiottâl cutting

jp i

ip ^ ffc y

0

0.18

0.28

0,36

0.62

0.65

0,78

0.93

1,04

1.17

1.80

T im e(s) (b ) Vibration cutting

Figure 2.11: Experim ental work displacement with tool rake angle ao=9® and tool Clearance angle y o = l" [12]

Figures 2.11(a), 2.12 (a), 2.13 (a), 2.14 (a) shows the results with four different tool geometries obtained by conventional cutting. In Figures 2.11(a) and 2.12(a), the work displacement amplitude ranges from 10 to 14 pm and is kept in a favorable cutting state.

21

The results show that a relatively high cutting stability can be obtained by using large rake angle and small clearance angle.

0

0,13

0.86

0.39

O.W

0,65

0,76

0.91

1.04

1,17

1,30

TinicKs)

Conventional cutting

0

0,13

0.A6

0.39

0,62

0.86

0.78

0,01

1.04

1,17

1.30

T îm e(s) (b ) VibiirtioD cutting

Figure 2.12: Experimental work displacement with tool rake angle ao=6* and tool Clearance angle Yo=4® [12] In figure 2.13 (a) and 2.14 (a), the maximum amplitude values o f the work displacement are 55 and 102 pm, respectively. The results show that chatter is caused by the decrease in rake angle and an increase in clearance angle.

22

0

0,13

0.20

0.39

0,C2

0Æ6 T im e(s)

0.70

0.91

1.04

1.17

1.00

( â ) Conventional cutting

ip ijé m H i^ '

0

0.13

0.28

0.89

0.52

0.66

0.73

0,91

1.04

1,17

1.80

T im e(s) ( b ) Vibration cnttiug

.

Figure 2.13; Experim ental work displacement with tool rake angle a o -- 3® and tool Clearance angle yo =7® [12]

23

0

0.ia

0 .S6

0.89

0.53

0.66

0.78

0.91

l.M

1.17

1.30

Time(s)

(H) Conventional cutting
50

w »*

0

« ^ |i--

jfiiip m wf

«56 0 0,13 0.26 0.89 0.52 0.66 TtmeCs) 0,78 0,81 1.04 1.17 1.30

(b ) Vibration cutttng

Figure 2.14: Experimental work displacement with tool rake angle «0=0® and tool Clearance angle yo=10® [12]

Figures 2.11(b), 2.12 (b), 2.13 (b), and 2.14 (b) show the results with four different tool geometries obtained by vibration cutting. The work displacement amplitudes are 3.3, 3.9, 4.2, and 4.5 pm , respectively, and each work oscillation is kept in a stable state.

24

2.4.4 Vibration Absorber

Tam g et al. [13] focused on developing a simple chatter suppression method based on the improvement o f the dynamic response o f a cutting tool with a tuned vibration absorber. Basically, the use o f the tuned vibration absorber for the suppression o f chatter can be considered a passive control method. A piezoelectric inertia actuator is mounted on the cutting tool and acts as a tuned vibration absorber for the suppression o f chatter in turning operations

The tuned vibration absorber can modify the frequency response function of the cutting tool so as to improve cutting stability in cutting operations. The stability limit of the cut width is inversely proportional to the magnitude of the real part of the frequency response function o f the machine tool structure. Therefore the suppression of chatter is feasible if the magnitude o f the real part o f the frequency response function of the machine tool structure is reduced (Figure 2.15). A piezoelectric inertia actuator mounted on the cutting tool is used as to tune vibration absorber for reducing the magnitude of the real part o f the frequency response function o f the cutting tool in turning operations. This is because the tuned vibration absorber introduces a new degree of freedom to the dynamic system o f the cutting tool. The new frequency response function o f the cutting tool due to the tuned vibration absorber mounted on the cutting tool can then be obtained. The absorber with damping, when tuned to the proper frequency, can greatly reduce the magnitude o f the negative real part o f the frequency response function of the cutting tool so as to improve cutting stability. The cut width b at the stability limit is called the critical cut width expressed as: [5], which can be

b,

=

----------------------------------------

( 2 .3

)

2Ks R e (G )^ U o))> eg Re (Gm G®)),,eg is the real part o f the frequency response function o f the cutting tool and (D the chatter frequency in rad/s.

25

h(s)

G,,(s)

Inner M odulation

Outer Modulation

Figure 2.15: Control block diagram for chatter in turning [13]

The following Figure 2.16 shows the real part and magnitude o f the frequency response function o f the cutting tool.

100

150

200

b)

100

150

^

200

Figure 2.16: A simplified response function of the cutting tool: (a) real part; (b) magnitude [13]

26

Figure 2.17 shows the chatter frequency and the critical cut width b um as a function o f spindle speed. Chatter will occur when the cut width b is greater than b nm. However, the critical cut width b um can be increased if the magnitude o f the real part o f the frequency response function o f the cutting tool is reduced.

(Hz)

31 1 0 0

1000

2000

3000

4000

5000

6000

(mm)

b)

p. 10
2.5

itabli

nnstaWe

1000

2000

3000

4000

5000

6000

Spindle Speed (rpm) F ig u re 2.17; S im ulated stability c h a rt : (a) ch atter frequency versus spindle speed (b) cu t w id th v ersu s spindle speed [13]

A tuned vibration absorber for the suppression o f chatter is a useful method due to low cost, easy im plem entation and no need for external energy. But it suffers from a major draw back o f being ineffective at low frequencies and the need for tuning as the m achining dynamics change.

2.4.5 V iscous D am p er Slocum et al. [14] proposed the concept o f the replicated internal viscous damper in the interior core o f the cutting tool to increase damping. This type o f damper uses internal beams covered w ith a viscous material that are then replicated in place inside structural

27

members. This viscous fluid first acts as a mold release and then as a very thin viscous shear layer. This type o f damper uses regions o f a beam that are often left empty for weight reduction as shown in figure 2.18. The damping beam 's neutral axis is displaced from the neutral axes of the structural beam. The damping beam 's surface is coated with a viscous fluid that acts as a mold release until a replicated material hardens and takes the shape o f the damping beam. Because the neutral axes are not coincident, as the structural beam bends there will relative shear between it and the damping beam. This shear will act across the thin layer o f viscous fluid, and energy will be dissipated.

Neutral axes of sinictun: Epoxy rtplicant Viscous fluid Smooth rod

1

Figure 2.18: Configuration of a beam with replicated internal viscous dampers[14]

The amount o f damping that can be achieved with the replicated internal viscous damper can be estimated by calculating the amount of work lost to damping and the total work input to the system. Theory shows that damping can be optimized by maximizing the product o f the circumference of the damping member and the axis o f the structure. The replicated internal viscous damper has some advantages: it is easily incorporated into many types o f structures and it is inexpensive to fabricate. Viscous shear dampers have the ability to damp out vibrations at all frequencies and they are insensitive to the vibration amplitude. Viscous dampers are often applied to reduce the effects o f local excitation sources. For example, these damping devices have been implemented in precision surface grinding applications to vary the dynamic characteristics o f the machine

28

and suppress unwanted vibrations o f the wheel head. However, as higher speeds and greater accuracy are sought, even better means to damp vibration will be required.

2.4.6 Actuator with Inertia Mass Jang et al. [15] used piezoelectric actuators where an inertia mass is attached to a cutting tool and acts as an active vibration damper for suppression o f undesired vibration on the cutting tool. The actuator can be well tuned over frequency range by adjusting the size of the inertia mass, so that it can provide a large damping force to suppress undesired vibration o f the cutting tool at the resonance frequency o f the actuator. The piezoelectric is m ade up o f a stack o f disks made o f the piezoelectric materials, sealed in titanium housing. The actuator requires an excitation voltage to produce a mechanical displacement or force output due to converse piezoelectric effect. The frequency response function between the input voltage and the output force is shown in Figure 2.19.

Magnitude 737 Hz >
9 10 0 -

a)

%

10*^ 10'^200 40Ô---- 60Ô fl^iO 1Ô O O 1200 Hz Î4Q Ô 1600 1800 2000 b)
9 0 5 0.
1 ---------- 1 ----- -- 1""-------- 1 ------- h--

,

,



âi

K
a

n -so
1 0 0

-9 (f

-1 5 0 IS O200 180

400

600

' lonw

Xnm

rs n n

lin n

if

Hz

Figure 2.19: Frequency response function between the input voltage and output force o f the piezoelectric actuator with a an inertial mass of 150 g(a) magnitude; (b) Phase [15]

29

Figure 2.20 shows a simplified model for the cutting tool with the piezoelectric actuator. The objective is to remove the effect o f an external harmonic force f (t) on the cutting tool using the piezoelectric actuator.

Actuator

m Cutting Tool

Figure 2.20: A simplified model for the cutting tool with the piezoelectric actuator [15] Experimental results show that when the cutting tool is excited by a harmonic disturbance the force vibration on the cutting tool can be suppressed upto 90% with the aid of the piezoelectric actuator. Use o f piezoelectric actuator with an inertial mass is a useful method for suppression o f undesired vibration o f the cutting tool. The main drawback is the need to change the

mass in order to change the frequency response.

30

2.5 Statement of Objective of the Thesis
The literature review presented in this chapter showed that most active chatter suppression systems need some degree of tuning when confronted with changing dynamics o f the machining process.

The objective o f this thesis is to develop an active, on-line suppression o f chatter in machining. The system w ill ideally be able to adapt to changing dynamics caused by machine wear and changes in tool and work piece material.

31

Chapter 3 Methodology
3.1 Introduction
The literature review in Chapter 2 discussed different methods that can be used for suppression o f chatter. As shown, a generalized method capable o f monitoring and controlling non-linear relationship and time delays inherent in the system does not exist. In this chapter, a general method for active suppression o f chatter is introduced. The methodology relies on an adaptive, differentiable model o f the machining process.

3.2 Methodology
The active chatter suppression system presented in this thesis is comprised o f an active vibration source with continually adjustable parameters. The idea o f active chatter suppression is shown in Figure 3.1.

I
(A

Q > /K

Time (t) Ôriginal Vibration (a)

I

j IM /L-A V W V W W \A A A A A A A /W W V V

Time (t) Active Chatter Suppression (a+b) Time (t) Active Source Vibration (b)

Figure 3.1: Active Chatter suppression system

32

A n external source generates a vibration signal to counteract the undesirable vibration, therefore, reducing its amplitude. The success of this method depends on accuracy o f the vibration from the external source, in both magnitude and phase.

Effort in chatter suppression can be categorized into passive and active methods. Usually passive m ethods suppress chatter by using energy absorbing dampers to consume the energy input or by changing the cutting conditions to reduce the energy generated during m achining process. However, passive methods are not very effective and practical since they need to be replaced or tuned for different cutting conditions, making them less useful than active control methods [16]. In this study an active system vdll be investigated which has the inherent capability o f suppressing chatter under varying conditions.

Tool Hoder 2 A ctuator 2 Chatter Sou rce
C o ntrol Unit

Tool tipTool S h a ftT

Work piece Tool holder 1

Actuator 1

Figure 3.2: Simplified model of cutting process

Figure 3.2 shows a simplified model o f a cutting process with an active chatter suppression. The speed o f cutting is often limited by chatter and machine vibration induced by the cutting process. Chatter occurs when the machining process excites larger

33

amplitude vibrations that are driven by regenerative variations in the cutting forces. The vibration signal o f the cutting tool is detected by an accelerometer or a displacement pickup. The vibration signal is then passed to the actuator to produce a driving force for the cutting tool. The driving force provided by the actuator can be treated as an additional damping force for cutting tool. As a result, the extra damping force can effectively suppress the vibration o f the cutting tool.

The goal o f the proposed methodology here is to select, on-line, the optimum values for amplitude, phase angle, and frequency o f the active vibration sources to achieve maximum chatter suppression. Figure 3.3 shows a simplified model of the cutting process as an input/output system.

Input (feed rate, cutting speed, depth o f cut, etc)



M achining

Output ^  (cutting force. power, surface finish, etc)

F igure 3.3: M achining Process as an in p u t/o u tp u t system

The inputs to the machining process are feed rate, cutting speed, depth o f cut and output o f the system during cutting process are cutting forces, power and the surface finish. Each o f the output variables are constrained by upper bounds, which are dictated by criteria such as tool wear, work piece bum and machine capacity.

The block diagram o f a chatter suppression system is shown in Figure 3.4. The external force F is generated through actuators for successful chatter suppression.

34

Output Machining (Feed rate. Cutting speed, depth o f cut,etc -- Cutting force, power, surface finish, etc

Actuator Signal Active Vibration

Figure 3.4: Chatter Suppression System

The param eter o f the external forces provided by the actuator has to be determined on line, and therefore adaptively changed in response to changes in cutting conditions, cutting tools, work piece material, and machine tool condition.

In the proposed methodology, the on-line selection o f the optimum parameters for the active vibration system is based on the differentiable model o f the cutting process. Considering the input/output model o f the cutting process with the addition o f the actuator forces, the following relation exist.

Output = G (Inputs, t)

(3.1)

W here G is the comprehensive dynamic model o f the machining process relating inputs and outputs. If the amplitude o f the vibration is of interest, as is the case in chatter, the output can be considered to be the amplitude o f resulting vibration, i.e..

Ai

=

G (Inputs, t)

(3.2)

35

Where, A i is the amplitude o f resultant vibration. In order to minimize these vibrations, actuator signal can be determined through an optimization method such as steepest decent, where

=jc* - or* VG*

(3.3)

Where, VG is the gradient o f the dynamic model, jc*,

are the values o f the input

variables in the k and k+1 iteration and or is the size o f the steps in the direction o f minimization (Figure 3.5). The calculation o f VG depends on availability o f a differentiable model. Since a comprehensive physical model o f machining process does not exist, this differentiable model is constructed using a neural network. The neural network provides

STA RT

Figure 3.5: Steepest Descent Method

36

a differentiable model o f the cutting process and the dynamic effect o f the tool-work piece interface.

The block diagram o f chatter suppression system in Figure 3.6 shows the machining system, the differentiable model and actuator in the loop. The synthesis algorithm in the loop is used to adjust the actuator parameters on the basis o f the operating conditions to actively suppress the response o f the machine tool structure and stabilize the machining process.

Cutting Conditions Actuator Forces Machining Process O u tp u t

Dynamic Neural Network

O ptim ization

Figure 3.6: Active Chatter Suppression System

37

The neural network used in this methodology is a multi-layered feed forward network. A quick overview o f neural networks is presented here.

3.3 Background on Neural Networks
Neurobiologists have developed theories concerning how the cells in human brain operate and communicate. Artificial neural networks are mathematical models based on the observations o f the human brain and were invented in 1943 by M cCulloch and Pitts [17].

An ANN has a parallel, distributed, information-processing structure consisting o f relatively simple processing elements similar to the neuro cells in the brain. Just like brain, supervised ANNs, learn by training repeatedly on a set o f data. In supervised training, the neural network is shown both input data and the desired output data. After each trial, the network compares its own output with the correct output, corrects any deficiencies and tries again iterating until output errors reach an acceptable level [18].

3.3.1

M ultilayer Feed F o rw ard N eural Networks

A feed forward neural network is comprised o f multiple layers o f decision-making nodes called neurons. The first and last layers are the input and output layers respectively, and they are the only ones connected to the outside world. Usually there is a minimum o f one hidden layer is located to every input in the first hidden layer and every output o f the first layer is connected to every input in the subsequent layers ending at the output layer.

It is common to refer to feed forward neural network by the number o f nodes present in each layer. For example, Figure 3.7 would be called a 3-2-3-2 network indicating 3 inputs and 2 outputs with 2 hidden layers o f 2 and 3 nodes respectively.

38

Layer 0 (Input layer)

Layer 1

>

Layer 2

It

Layer 3 (Output layer)

Hidden layers

F ig u re 3.7 --T ypical m u lti lay er feed forw ard neural netw ork arch itectu re [17]

Each neuron can have multiple values o f input but only one value can be output (figure 3.8). The outputs o f the nodes are modified by weights before becoming inputs to the next layer.

F ig u re 3.8- N eurons w ith m ultiple inputs and a single o u tp u t [17]

The connections betw een layers modify the value o f the output signals through a set o f weights. Time for training increases with the number o f layers and nodes in a network. If too many nodes are selected, the system may leam specific values and not be able to
39

generalize a result. The recommended method for selecting the number o f nodes is to start with a small number o f nodes, one or two, and increase the number until the desired performance is reached or there are no improvements in error. It has been shown that a neural network with one hidden layer can approximate any function with a certain degree o f error [19]. In practice, the amount of training required can be reduced in function with discontinuities by using a network with maximum of two hidden layers [20]. These networks are called universal approximators.

The input signal, x ,, are modified by the weights on the connections, w ,. The sums o f the inputs are presented to a function at the nodes. A range o f functions can be used at these decision-making nodes provided that they are non-linear and that their input range is all real numbers. The step function was used in early classification neural network models [17]. A ramp function has also been used and has the desirable property o f being differentiable enables its use in the back propagation-training algorithm. The most popular function used in neural network is the sigmoid function.

The output o f the sigmoid function is asymptotic and is typically limited to values between 0 and 1. Although the input range is not limited, it can also be normalized. Limits between 0.1 and 0.9 are used for normalizing data as it reduces the effect o f the asymptotes. Normalization o f all the data assures that all data have the same range, ensuring that no preference exists.

3.3.2

Training

Since there is no previous knowledge o f the relationship o f the system being analyzed, the neural network must be trained to interpret the data properly. Learning algorithms are used during training to modify the weights until the system gives the desired results within errors. There are also NNs which don't rely on examples to be trained (unsupervised NNs) but supervised NN were chosen for the model used in the proposed methodology.

40

3.3.3

Gradients o f a Neural Network

The learning procedures aim at driving the total error to zero or close to zero by suitable adjustment o f the learning parameters. The main difficulty in learning algorithms for a Neural N etw ork is that threshold function is non differentiable. Instead o f using the threshold function, Rumelhart et al. [21] used a layered network in which the inputoutput behavior o f the nodes is characterized by a sigmoid function and the transfer function is applied to all nodes. Such function can be trained by a learning algorithm called the generalized delta rule. This rule consists of an input pattern to the network and the calculating the output nodes with the current set of learning parameters. The learmng parameters o f the NN are the weights and the node parameters. The network output pattern is then compared to the desired output patterns, and the error is calculated by computing the distance between the actual and desired output patterns. The procedure is repeated for all input-output pairs in the training set, and the total error is calculated. The total error can be expressed as

 E =^Z I/ (d,-< % ,)' ^ c

(3 -4 )

Where the index i represents summation over all outputs nodes in the network and c represents summ ation overall input-output cases used for training. The quantity d, is the desired output at the ith output node and O , ,, is the actual output at the ith output node. The total num ber o f layers in the networks is n. The learning procedure aims to drive the total error to zero or close to zero by suitable adjustment of the learning parameters. This essentially constitutes a minimization problem that the generalized delta rule attempts to solve using gradients techniques. The calculation of the error gradient with respect to the learning param eters is performed by propagating the error backwards through the network and involves simple local computations at nodes in the same layer, permitting parallel operation o f all nodes in that layer.

Once the gradient is calculated, the learmng parameters are adjusted using steepest descent procedure that has the advantage of being simple and requires only local

41

calculation during parameters adjustments. The change in the learning parameters is made as follows:

Aw i = - t j A

dWj Where are the learning parameters, E is the error and
t]

n (3 -5 )
is the positive step size.

The gradients are computed only by local calculations so that updating the parameters can be done in parallel.

The Neural network is trained so that application o f a set o f inputs produces the desired set o f outputs. Each such input (or output) set is referred to as a pattern. Training is accomplished by sequentially applying inputs, while adjusting network weights according to a predetermined procedure. During training, the network weights gradually converge to values such that each input vector produces the desired output vectors.

The most common training algorithms used is the backward propagation o f the total error to calculate the error o f the previous layers and nodes. Feed forward networks that used this training method to change the weights are sometimes mistakenly called back propagation networks, which indicate its popularity as training method. Once the error at each node has been calculated, a decision must be made in how to adjust the weight such that the overall error is minimized. The simplest back propagation algorithms change one weight at a time, and then recalculate the network in the opposite direction. This iterative process is time consuming. The conjugate gradient method improves on the basic algorithm by changing the weight in a direction such that the error is reduced.

3.3.4

Validation

In order to measure the success o f the training, the generalization ability o f the network is tested on previously unseen data. Generalization capabilities can be viewed as the ability to correctly predict outcomes from data within the range o f the training set, but not included in the training set, called a test set. A method used to create a test set is to

42

generate a training set and randomize the order o f the training patterns and finally remove and save a percentage (10 to 25% depending on the total number of patterns) in a separate file. A network is said to have good generalization capabilities if similar error is achieved with the training and test set, then it is possible that the network has learned specific patterns and not the overall trends. This is likely to occur if too many hidden nodes are present or if the network has been over trained.

To ensure that overtraining does not occur, a training method, which continuously compares the training error to the test error, is commonly used. The training and test error are either continuously calculated after each successive training epoch or the test error can be calculated on predetermined error increments. The weights associated with each test error calculation are also stored. Using these methods, two distinct trends can be seen for the training and test error. (Figure 3.9)

-- "

Training Error Test Error

ji

RMS Error

Minimum Test Error

Training Epochs

Figure 3.9: Training and test error as a function of training iterations [17]

43

The training error can be seen to decrease as more training iterations are performed. The test error initially can be seen to decrease until a minimum value is reached. Training iteration beyond the test error minimum reduced the generalization ability o f the network as can be seen by the increasing error for the test sets. The weights associated with the minimum error for the test sets should be used for comparison o f different network architectures.

3.4

Off-Line v s . On-line Training

The brief introduction to neural networks presented can be applied to two distinct categories o f neural networks: off-line and on-line.

An off-line network, the weights and connections are established during training prior to operation and do not vary. The quality and variety o f data included in the training set is a very important factor in determining how well the network will perform. Unlike a off-line networks, an on-line network receives no training prior to its operation. Without prior training, the network is capable o f adjusting its weights and connections to match a particular data set. These networks do not require training sets or time consuming training o f a static network. The ability to change makes dynamic networks more suitable to leam changing data and be able to forecast future outcomes.

A neural network combining off-line and on-line neural networks could be called Adaptive. Careful interpretation o f the previous term must be used as network which can change the number o f nodes or eliminate connections during training have also been called adaptive [17].

3.4.1

Dynamic vs. Static Neural Network

A static neural network models input-output relationships which are not time dependent. A dynamic neural network, on the other hands models an input-output relationship which depends on time.

44

There are different dynamic neural networks. One o f the simplest ways to construct a dynamic neural network is by using tapped delay lines.A delay-line tap extracts a signal output from somewhere within the delay line, optionally scales it, and sums it into the output. A tap may be interpolating or non-interpolating. A non-interpolating tap extracts the signal at some fixed integer delay relative to the input. Thus, a tap implements a shorter delay line within a larger one, as shown in Figure 3.10.

Hidden Layer

F igure 3.10: A T apped delay Line

Since chatter is a dynamic process, a dynamic NN will be used for the model. Tapped delay lines will be used as the implementation method since it is possible to train the networks using training algorithms similar to back propagation.

45

3.5 Extracting Gradients Information from a Neural Network Model
The purpose o f using a neural network in the proposed chatter suppression is to provide gradient information necessary for minimizing chatter (Figure 3.6). This gradient information can be extracted once the neural network has been adequately trained.

A generalized sigmoid function to describe the input-output behavior o f a processing umt [22]. The input - output relation is given as

Where, in k,^ layer.

is the output o f the i^ node in k,^ layer and ne/, * is the input to the i,;, node ^ controls the saturation value o f the processor output and yg,* controls the

steepness o f the sigmoid function [23]. The input to a node is given by

j

K

m

]+

(3-7) layer and t is

Where, w , ^ * weight between jth node in (k-l),,, layer to i ^ node in the threshold o f the i node in the k layer.

For a given input-output case, the error is defined as

( d j - O j,) `
^ y= l

(3.8)

Where n is the total number o f layers in the network and q is the total number o f output nodes. The error is calculated during a forward pass o f the network, using the current values o f the learning parameters [22] Learning relies on minimizing E by suitable adjustments o f the learning parameters

46

^ /J,* » ^ i,k ) ^fjc

. This requires calculation o f the derivative o f E with respect to

the learning parameters. From (1) and (2) the following partial derivatives can be calculated; = (3.9)

=1

(3.10)

(3.11)

%

(3.12)

6 0 ,.

O ,.

(3.13)

All partial derivatives in (3.13) can be calculated during the forward pass. Once a feed forward N N is adequately trained, it can be used to calculate the gradients o f output with respect to inputs. The network has p inputs nodes, q output nodes, and n layers.

In order to calculate the gradients o f the NN model, calculate all the

dZj

W here y . are the outputs and z j.^ are the inputs to the neural network. Define: r^,s.k
=

_A _ dnet.

(3.14)

W here, net s,k is the input to node s in layer k, and y , is the output o f node i. Applying this to the output layer, using (8)

47

For the ( n - l ) i h layer, =( ) (3.16)

Since y , depends only on net ^,,, the first partial on the right side o f (3.16) can be written as

dnet,,,

aO,,,_,

(3.17)

Thus for the (« -

th layer, the y `s can be written as

For lower layers, the y `s can be written as

''-"- a t
Since

where the summation extends over all nodes in the (5t + / ^th layer ,(3.19) can be written as

r,^j.=CZ

r

,

^

M

<

(3.21)

48

AU partials on the right side o f (3.18) and (3.20) are available from the forward pass o f the network (refer to (3.18) ). Equations (3.19) and (3.20) are used to propagate the values o f y from the output to input layer o f the network [22]. At the input layer j

j( - ^ )

(3.22)

3.6 Signal Processing
Figure 3.11 shows the NN used in the proposed methodology. This is a dynamic NN using tim e delayed line (TDL).

Tapped delay line

Outputs

F ig u re 3.11: D ynam ic n eu ral netw orks w ith tapped delayed line

The success or failure o f neural network training depends on the suitable presentation of the inputs and outputs. As for any dynamic system there are two choices available, time and frequency domain.

49

Because o f the nature o f the chatter problem, modeling in frequency domain is more suitable. Several methods are available for presenting frequency domain information to a neural network. One method is to divide the frequency response to a predetermined number o f bins and to presents the average amplitude in the bin as inputs Figure 3.12.

A
Bins

I

Frequency

F igure 3.12: R ep resen tation of frequency response using finite n u m b er of bins Another possibility is using the FFT coefficients as input. Since,

N -l

X (kF ) =
/i= 0

(3 J3 )

Where, N is number o f samples, F is spacing o f frequency domain samples and T is sample period in the time domain.

50

The obvious disadvantage o f this method is the potentially high number o f nodes required because o f high num ber o f coefficients. This will increase the processing time and can complicate the online implementation o f the system. A third method, which facilitates the neural network training by reducing the number of parameters, is maximum entropy or all poles method. This method has the added bonus o f reducing the effect o f noise in the signals, and is briefly reviewed here.

3.7 Maximum Entropy (all poles) Method
M aximum entropy (all poles) method is also known as autoregressive (AR) spectral estimation. This method models the power spectrum by a series expansion in which the free param eters are all in the denominators of its terms; hence each term may represent a pole (corresponding to infinite power spectral density within an infinitely narrow frequency band). By contrast, Fourier analysis models the spectrum by a series expansion in which the free param eters are all in the numerators; hence each term in a Fourier series may represent a zero. All-poles models are particularly useful for analysis of spectra, which have discrete peaks [23].

M EM (also known as an all poles model) is an alternative to Fast Fourier Transform (FFT) analysis. The advantage o f this signal processing method is that it can be quicker to run that FFT and it has the ability to fit sharp spectral peaks [23].

The num ber o f coefficients selected determines the order or number o f poles in the approximation. The number o f poles used in an approximation determines the amount o f features that can be identified. A smaller number o f poles require less analysis time. If too many poles are selected phantom peaks may appear when compared to a FFT analysis. A computer program incorporating the code in numerical recipes was written to perform the analysis on all the data.

Using this m ethod the pow er spectrum o f the sensor measurement is estimated as

51

f(/)=
l+fz k= i

(3.24)

Here, P is estimate o f pow er spectrum o f the sig n a l,/is frequency, at are coefficients o f the autoregressive (AR) model o f the measured signal, and p is the order o f the model determined by Akaike information criteria [24]. Power spectrum P (/) is calculated using Levinson-Durbin's algorithm. Above equation shows that power spectrum o f the sensor signal can be generated by p coefficients where p is the order o f AR model. This makes AR coefficients an efficient method o f presenting frequency domain data to a neural network. The number o f coeffieients selected determines the order or number o f poles in the approximation. The number o f poles used in an approximation determines the amount of features that can be identified. A smaller number of poles require less analysis time. If too many poles are selected phantom peaks may appear when compared to FFT analysis.

3.8 Overview of the Proposed Method
Figure 3.13 shows the flow diagram o f the proposed chatter suppression system.

cutting conditions actuator ^

Cutting Process

Signal
Processing

p coefficients

cutting
conditions

Actuator
Parameters
F k + 1 = p k - ctk V G

Figure 3.13: Adaptive feed forward chatter suppression system

52

The active chatter suppression system is comprised o f an active vibration source with continually adjustable parameters. The goal is to select, on-line, the optimum values for amplitude, phase angle, and frequency of the active vibration sources to achieve maximum chatter suppression The neural network provides a differentiable dynamic model o f the cutting process, including time delays between signals and the dynamic effect o f the tool-work piece interface. A set o f time delay lines ensures the capability o f the neural model to capture the dynamics o f entire system. This neural network model is used to calculate gradient values with respect to the parameters of the active vibration sources.

The goal is to generate an external force F through an actuator to reduce chatter amplitude. In order to reduce chatter amplitude, actuator signal can be determined through an optim ization method such as steepest decent, where

= x ''- a ''V G "

(3.25)

Where, VG is the gradient o f input/output functions, x " , .A'"*'are the values o f the variable in the k and k+1 iteration and a is the size of the steps in the direction o f travel The calculation o f VG depends on availability of a differentiable model. From optim ization method, the parameters o f the active vibration source can be adaptively adjusted to reduce chatter amplitude and therefore extend the chatter stability.

Therefore, the proposed methodology acts as an automatic tuner for the actuators in order to suppress chatter.

53

Chapter 4 Simulation Studies
4.1 Introduction

Chapter 3 introduced the proposed methodology to suppress chatter through a learning neural network model. A flow diagram of the proposed methodology was presented in Figure 3.10. An optimization module is used to synthesize a set o f actuator parameters to optimally reduce the chatter. Simulation models to validate the proposed methodology is presented in this chapter.

4.2

Simulation of Chatter

In turning, the m ost significant cutting parameter, which is decisive for causing chatter, is the width o f cut (b). For sufficiently small chip widths, cutting is stable, without chatter. By increasing b chatter starts to occur at a certain width büm and becomes more energetic for all values o f 6 > bum Figure 4.1. The value o f b H m depends on the dynamic characteristics o f the machine tool, work piece material, cutting speed and feed, and on tool geometry.

F ig u re 4.1: Simplified M odel of C utting Proeess

54

The condition for the limit o f stability is derived by Tlusty and polaek [5]. It is discussed with reference to the diagram in Figure 4.2.

------------ 1

1
^

T

J Figure 4.2: The Regeneration Diagrams Relating to Force, Surface W aviness and Vibration [5J

The structure o f the machine tool is depicted as a frame with the work piece at one end and the tool at the opposite end. There is a relative cutting motion between the two, in the direction o f the cutting speed v. The structure is a vibratory system that is characterized by the individual modes o f vibration, each o f which represents a freedom o f the relative m otion between the tool and work piece and has a particular shape (mode shapes). The vibration component, which is normal to the cut surface, produces undulations with an am plitude Yq in one cut, and in the subsequent cuts this component has amplitude Y. These amplitudes express both the magnitude and the mutual phase shift o f the vibration, as well as undulations, in the two subsequent passes o f cutting. The direction o f the

55

cutting force F is inclined by the angle

from Y, and the direction o f the modes o f

vibrations are measured from Y by corresponding values o f angles a .

The process o f self-excitation is a closed loop one in which the vibrations cause variation, and the variable force in turn produces

a force

vibrations. The force depends on

vibrations in at least two previous passes [5] through variations o f chip thickness,

F ^ K ^h h

(4.1)

Relationship between the amplitude F o f the variable force and the amplitude o f the chip thickness variation is [5]: F = K ,b (Y o -Y ) (4.2)

Where b is the chip width, and (Y q - Y) is the chip thickness variation. The feedback relationship o f vibrations caused by this force is in form of:

Y=FG(co)

(4.3)

Where G (a?) is the oriented transfer function (OTP) o f the system.

From equation 4.2 & 4.3 Y = K ^b G (Y o -Y ) After modification, (4.5) (4.4)

G

The condition o f the lim it o f stability can be recognized as the condition for which vibrations do not decay or increase from pass to pass, i.e., the magnitudes equal: and |T| are

56

=

1

(4.6)

Combining equations 4.5 and 4.6,

Kh

+ G = |G|

(4.7)

Equation 4.7 expresses the equality o f the absolute values o f two complex numbers. The function G( c; ) is complex, while (K ^6) is real. This condition has two parts;

Im(G) = Im (G)

(4.8)

Kh

= Re (G) = ± Re (G),

(4.8)

Here the (+) sign leads to b=oo ; the (-) sign gives

1 = -2 Re (G) K ,b

(4.9)

This is the actual condition for the limit o f stability. The limit value o f the chip width as follows [5]:

 1
lim .cr

(4.10)

2 K , Re(G).

The chip width 6 is a positive number. Equation 4.10 can therefore only be satisfied for the negative part o f the function Re[G ( )]·

57

If chip widths b < büm then cutting is stable: there is no self-excited vibration and if b>b lim chatter will occur and grow. In practice, because o f nonlinear ties in the phenomenon, the amplitude o f chatter will stabilize at a finite value [5].

4.3

Simulation Model for Turning

The model used for the simulation o f turning is shown in Fig 4.3(a)[5]. A system with two mutually perpendicular degrees o f freedom X I and X2 is used. A tool is attached to the mass o f the system; it cuts an undulated surface and leaves another undulated surface behind. The normal to the cut surface is denoted Y. The simulation is carried out by proceeding in small time steps and following the motion o f the system as it is determined by the differential equations o f balance of forces in the direction X I and X2 starting from some initial conditions.

+Y

Figure 4.3(a): Model for Simulation o f Turning [5]

58

Subsequent passes o f cutting follow one another after a period 7' , which correspond to one revolution o f the work piece and contain i time steps so that,

tn=ndt
Where tn is the time from beginning o f the simulation, T=idt

(4.11)

(4.12)

Where, T is the time period between subsequent passes. The average chip thickness is hav and instantaneous chip thickness is usually taken as a difference o f the tool positions in two subsequent passes;
h=hav

+yn-i-yn

(4.13)

As vibration grows more than one preceding cut may be involved. Figure 4.3(b) shows the model for simulation o f turning. The cuts preceding the present cut reached lowest in the work piece material and denote such position ymin . Ymin is the lowest o f yn-i + hav, y,,.2i + 2hav, and so on.

hav "

hay Yn

Figure 4.3(b): Model for Simulation of Turning [5]

The instantaneous chip thickness is, therefore, h=ymin-yn (4-14)

The material rem oved in the pass y,, is indicated by the shaded area, and chip thickness at

59

the distance ui is h= yn-i + hav + yn, but at a distance U2 it is h - yn-3i + 3 hav -yn- The cutting force at the instant /,, is proportional to chip thickness h and to chip width 6[5].
Fn = K fih (4.15)

but if
F,,<0, Fn-0 (4.16)

Equation 4.16 expresses the basic non linearity. The force is proportional to chip thickness h, but if the tool moves above the surface, this is formally recognized by obtaining h<0, Fn<0, since the cutting force is never negative, this should not be accepted, instead force should be set to zero.

The force excites vibrations X I and X2 by its components

F l= F ,, c o s( p - a l ) F2=F,,cos( P - a 2 )

(4.17) (4.18)

The equations o f motion are;
Fj

= mj % + C j Xj + kjXj

j= l,2 ,3 ...

(4.19)

In the simulations, in each step n, the acceleration x

is calculated. Velocity is

determined from equation 4.19 by integration and displacement is obtained by double integration. For Xi

X l.,n = F l,n - C |X i,n - k i X i,,, / m

X l,, n + 1 =

% l,,n +

J ^ l,, n d t

Xl,,n+1 ~ ^ l,, n

X l,,n+l d t

60

X2,,n+i can obtain in a sim ilar fashion. It is then possible to express the tool motion in the Y direction as [48]

Y n = X|

c o s a , +X2,,n c o s (Z;

The system is linear as long as the tool does not leave the cut. Therefore for incipient vibration, equation 4.10 for the basic limit of stability width o f chip b ^ ^ , applies

-1
^ lim, c r

2;r,R e(G ),

(4.17)

Where Re(G)min is the real part o f the oriented transfer function between vibration y and force F, and m ost favorable condition between vibration in subsequent cuts. The parameters used for simulation is shown in Table 4.1 k,
kz

4.0+ lO 'N /m 5 .6 + 1 0 'N/m 100 kg 30" 70') 2000 N/mm"

m ai Pi

Cl C2

5320 N sec/m 7480 N sec/m 120" 0.10mm

0.2
hav

T a b le 4.1: M odel P aram eters fo r T u rn in g

61

Figure 4.4 shows the simulation result for b =1.63mm. The vibrations are decreasing revolution after revolution. The magnitude o f vibrations after four revolution becoming more and more uniform and the case is stable is

8
E £ 7

6

c 5 V E V 4 u jg 3 Q.

.2 Q
5

2 1 0 1
500

o

1000
t (se c)

1500

2000

Figure 4.4: Turning Chatter Simulation for b=1.63 mm

Figure 4.5 shows the simulation result for b = 2.04 mm corresponding to b, the vibration
10
1

Q.

201

401

601

801 t (se c)

1001

1201

1401

Figure 4.5: Turning Chatter simulation for b = 2.04mm

62

are becom ing m ore and m ore umform and, after a great number o f revolutions they w ould develop a constant amplitude. The case is at the limit o f stability. The magnitude o f vibrations during the first five revolution is , on average, about 6 mm peak to peak (FTP).

Figure 4.6 shows the simulation result for b = 2.45,corresponding to b>b H m the vibrations are growing already during the first revolution, and in the fifth revolution their average magnitude is about 14 mm, peal to peak (FTP).

E E ** c 0 > E o > o « a. .2 Û Ô o t-

25 20 15 10 5 0 -5 -10 -15

n ^ 601 801 1001

t (sec)

Figure 4.6 : Turning Chatter Simulation for b = 2.45 mm

Figure 4.7 shows the simulation result for b = 3.06mm, the growth o f vibrations is very fast. In the seventh revolution they reach an average value o f about 80mm, peak to peak (FTP), and they grow still further.

63

r

100

o -150 t (sec)

Figure 4.7: Turning Chatter Simulation for b = 3.06 mm

The amplitude o f vibration in figure 4.7 is growing larger than average chip thickness. After about 11 revolutions the amplitude reached about 150mm and did not grow any more. The reason is that for parts o f the vibrational cycles the tool is moving in the air and no longer generates self-excitation energy.

4.4 Chatter Simulation in Milling
Milling is a basic machining process by which a surface is generated by progressive chip removal. The cutter is multi-tooth, unlike turning and boring tools (Figure 4.8). Therefore, the number o f teeth in milling cutter must be considered for material removal rates (more teeth means more material is removed during the rotation o f the cutter). In milling the phasing o f undulations produced by subsequent cutter teeth may sometimes have a significant effect on stability [5].

64

END MILLING
n o i

TOOL MOTION TOOL CHIPS
DEPTH 2 OF CUT

W IDTHOF cur

FEED

F ig u re 4.8: E nd M illing Process [ 25]

4.5 Simulation Model for Milling
Chatter in milling is more complex than in turning because the system o f forces on the individual teeth rotates with respect to the directions o f flexibilities o f the vibratory system. Figure 4.9 shows a milling cutter with 8 teeth in a slotting cut, that is , with each tooth cutting through a 180" engagement. There are 4 teeth cutting simultaneously. The spindle is mounted in a housing with one vibrational degree o f freedom in each o f the structural axes X and Y. the tool rotates with N rpm, and the work piece feeds with feed r a t e / chip load c per tooth in the direction - X

65

+Y

+Z

Figure 4.9; M illing cutter with 8 teeth in a slotting cut [5]

A tooth at the angular position < j) produce a tangential force F t and normal force Fn. The force F t is proportional to the chip cross section: FT = k s b h Where b is the axial width o f c u t, and h=c sin (f) - z(t) + (t-T) (4.19) (4.18)

where z(t) is the current instantaneous vibrational displacement o f the cutting edge in the radial direction and z (t - T) is the displacement o f the preceding tooth, when it was at the current position, that is , at the time T back, where T is the period o f the passage o f the teeth , m =8 is the number o f teeth and N is the spindle speed. The displacement z results from displacement x and y z = X sin - y cos (4.20)

66

the simulation runs in time steps dt, with 40 steps per tooth and 320 steps per revolution, the cutter rotates by d^ = ;r/1 60. In the first pass the radial displacement z on all 4 teeth and instantaneous chip thickness h are established. The forces FI through F4 are obtained while a check is made whether a tooth really cuts at a particular instant, i.e., h>0 , F>0 or whether it is jum ping out o f the cut, i.e., h < 0, F=0. The component forces Fx and Fy are obtained and accelerations x and y calculated and integrated into velocities and further integrated into the next displacements x (n + l), y(n+l). The simulation continues through time steps.

The degree o f stability o f a given structure, exhibiting modes o f vibration between the tool and work piece, can be expressed by the value of the limit width o f chip, b,im, at which chatter just starts to occur. In order to get estimate o f the chatter limit bnm, the rotating system is represented by the stationary mean position o f the middle tooth, that is, at ^ = 90°. Using specific force, Ks = 1500N/mm^, in simplified "mean" stationary system in which Y mode does not participate [5]. Since,

b,,m=

2 //, X K^m

(4.21)

From equation (4.21) values o f b um can be expressed as;

biim =

= 1.09 * 10-^ =1.01mm

Sim ulation results for the set o f model parameters in Table 4.2 are shown in Figure 4.9.

67

kx

7.0* lO 'N /m 1.0*10*N/m 100 kg 70" 0" 1500 N/mm^

ky m
Ux Uy

Cx Cy

535 N / (m/s) 737 N/(m/sec) 90" 3000 rpm 0.016 0.018

4 > N CX
Cy

Table 4.2: Model Parameters for Milling

Displcement x

E2 .5

I l H U U n
o 1 .5 -

5 0 .5

n
1 0 1 2 0 1 3 0 1 4 0 1 5 0 1 6 0 1 7 0 1 6 0 1 9 0 1

t(sec)

Figure 4.9(a): Milling Chatter Simulation for b= 1.00 mm

68

Displacement y

£4 -

«2

101

201

3 0 1

4 0 1

5 0 1

6 0 1

7 0 1

8 0 1

9 0 1

t (sec) Figure 4.9 (b): M illing Chatter Simulation for b=1.00 mm

Figures 4.9 (a) and 4.9 (b) show the simulation results for b = 1.00mm. In this case, the vibrations are decreasing revolution after revolution. And after a great number of revolutions they would develop a constant amplitude. In the y displacement, the magnitude o f vibrations during first two revolutions is, on average, about 5mm peak to peak (FTP). This case is stable and no suppression is needed.

100 1

Displacement x

60

-20 0
-40 -60 -80 -

200

400

1000

1200

t (sec) Figure 4.10(a) : Milling Chatter Simulation for b= 2.00 mm

69

Displcement y

t (sec)

Figure 4.10 (b): Milling Chatter Simulation for b= 2.00 mm

Figures 4.10 (a) and 4.10 (b) show the simulation results for b= 2.00mm in x and y displacement. In this case, the growth of vibrations is very fast. The amplitude of vibrations is growing larger than the average chip thickness. After 0.06 sec it has reached almost 25 mm. This is the direct result o f non-linearity o f self- excited vibrations caused by the fact that as vibration grows larger, the tool loses contact with the work piece.

70

Chapter 5 Results

5.1

Introduction

The methodology described in Chapter 3 is evaluated through simulation studies. The results o f training and testing numerous neural network architectures are presented in this chapter.

5.2

Chatter Suppression in Turning

As described in Chapter 3, a multilayer feed forward neural network is considered for the task o f modeling the dynamics o f cutting process including time delays between signals. The num ber o f input and output nodes and hidden nodes describes the architecture o f such a neural network. The input and output node counts are determined by the model requirements while the num ber o f hidden layers and nodes in each layer are determined by model performance. The model performance is also affected by the design o f the training sets, data preparation and presentation to the neural network.

5.2.1 Neural Network Architecture In order to train the neural network for turning, necessary training sets must be assembled. Figure 5.1 shows the neural model used in turning. The network has 11 inputs and 5 outputs. The first set o f inputs are the frequency response at the start o f the sampling period characterized by p coefficients, where p is the order of AR model described in Chapter 3. For the case o f modeling the frequency response o f the turning process p=3 was found to be adequate. It was also found that the scaling factor XMS improves the optim ization process so it was added to the neural network.

71

Pi past

P2_past

P3_past

PI

g ain _ actu ato rl  P2 gain 1 actu ato r! frequency_actuator 1  P3 frequency actu ato r 2

phase actu ato r 1  XMS phase actu ato r 2

X M S_past

 YMS

Y M S_past

Figure 5.1: Neural Network Model for Turning

72

The next sets o f inputs are actuator parameters (Figure 5.2). These include gain, frequency and phase delay.

Tool H o d er2 A ctuator 2 Chatter S ou rce Control Unit T ool tipTool Shaft '''

Work piece Tool holder 1 Actuator 1

F ig u re 5.2: Sim plified C u ttin g Process w ith Tw o A ctuators

The last input is the m axim um amplitude o f the vibration in the sampling period Ymax (Figures.3).

Ym a x

S a m pie

Figure 5.3: Sampling Period with Maximum Amplitude

73

The outputs o f the neural network model are predicted estimates o f the frequency response o f the next sampling period represented by p coefficients and XMS and predicted maximum amplitude o f the next sampling period.

5.2.2

O ff-- Line T raining

The output o f the sigmoid function is limited to values between [1,0] (Figure 5.4).

1/(l4-exp(-x)) ------

0.8
0.6

0.4
0.2

-

0.2
 6

-4

2

0

2

4

6

F igure 5.4: Sigmoid Function

Although the input range is not limited, it can also be normalized to facilitate the training process. Limits between 0.1 and 0.9 are used for normalizing data as it reduce the effects o f the asymptotes. The simplest way to scale outputs is by using a linear scaling formula, i.e.,

Vmax - F min

(5.1)

74

W here V is the variable to be scaled, Vmax & Vmin are maximum and minimum values. Scaling o f all the data assures that all have the same range, and therefore training will proceed will proceed faster.

5.2.3

T ra in in g an d T est Set

The performance o f the neural network model is evaluated using the root mean square (RMS) error. Each neural model is evaluated twice: once against the training set consisting o f patterns with which the neural network was trained and once with the test set. A com puter program was written in the C language to generate data. The test set consists o f data set aside for evaluating the generalization capability o f the neural model. The neural network model has not seen these patterns during training. In each case, the total error over the entire set is calculated, i.e..

j=0 I r R M S e r ro r = ---------------------------------(5.2)

Where, s is the num ber o f output variables in the network.

Initial tr a in ing was perform ed by repeatedly presenting the training set to the network until a minim um training error was reached. Once a minimum training error was reached the network was presented with a test set. In order to prevent over training different NN with varying num ber o f hidden nodes were tested. The results are shown in Figure 5.5.

75

·% erro r

6.5 -

fc

0)

0

10

20

30

40

50

No of Hidden Nodes

Figure 5.5: Neural Network with Varying Number of Hidden Nodes

The training error reduces continually as the number hidden nodes increases. The test error, however, increase with the addition of hidden nodes. This indicates that for NN with more than 20 hidden nodes, the NN starts to over train and therefore loses some o f the generalization capability.

5.2.4

Chatter Suppression System

After achieving adequate results in off-line training the NN model was used for simulation studies. Figure 5.6 shows the block diagram o f the process.

After starting the simulation o f the cutting process, if chatter is detected the suppression system will activate. The trigger for detecting the chatter is amplitude o f vibration. Once the chatter is detected, the actuators will be activated

76

S ta rt

C u ttin o

Chatter Detected

No

Yes Inputs prepared for NN model

NN Model

Outputs

G ra d ie n ts

Optimization (steepest descent)

R e v ise d A c tu a to r

Figure 5.6: Block Diagram of Chatter Suppression System

77

In order to determine the parameters o f the two actuators (Figure 5.2) the neural network has to generate gradients which will be used to optimize the actuator parameters setting. The tapped delay lines between inputs and outputs of the neural network model will ensures the capability of the neural model to capture the dynamics o f the entire system. The optimization module using steepest descent algorithm will modify the actuators settings until chatter is adequately suppressed.

5.2.5

Sim ulation Results

A simulation result with and without deployment o f chatter o f the chatter suppression system is shown in Figure5.7 and Figure 5.8.

200 1
150 E E o E 8

100
50

n s

0
-50
CD CM

.Ê o

o -100
-150

Gi a> oi oi a O) C lO CO (N C CO 5 lO CD 00 00 O)

-200 time (sec)

Figure 5.7: Tool chatter with active suppression system O ff

78

1.00E + 10 1 1.00E + 09 1.00E + 08 1.00E + 07 ® 1.00E + 06 = < 1.00E + 05 1.00E + 04 1.00E + 03 1.00E + 02 1.00E +01 1.00E + 00 4
CO CO lO CD 1^ 05 CO 05 If) CM M If) 05 00 TC M CO If) If) 00

Frequency (Hz)

Figure 5.8: Frequency response of the tool with active suppression system off.

Figure 5.7 and Figure 5.8 show the simulation results in time and frequency domain when a critical chip width o f b = 3.63mm is used and suppression system is off. The growth o f vibration is very fast and regenerative chatter mechanism is evident. The vibration is reinforced until a lim iting value is reached. This is a direct result o f non-linearity o f the system.

The non-linearity is caused by the fact that as vibration grow larger, the tool loses the contact w ith work piece and force is effectively zero.

79

50

25 T3 3

o

.I I I ,

Jil
O#' f ·- L ^ J>C O , - ,^ m » C · D ·t D· t ^ · O · O ·O î' O '
O O O O O O O O O O
t

<

E -25

i £ : c D c o c o h ~ ' ^ T - o o i o c N 0 5 c o c o c o r ^ ' s f T - o o
O O r ^ C N J ' ^ C O C N O O î O O C D i O ' ^ T - T - O O î f ^
t

C· S C· O C ·O ' ·^ t
t

-

t

--

t

-

-50

time (sec)

Figure 5.9: Tool vibration with active suppression system On

1.00E +07 1.00E +06 0 1.00E+05

B
1 <

1.00E +04 1.00E +03 1.00E+02 1.00E+01 1.00E +00 · « - o o c N ' s r r ^ o c M i o o o o c o ç D O ï T CO CD 05 CN CM C N J CO CO CO

/'` VVNVW V^

Frequency (Hz)

Figure 5.10: Frequency response of the tool with active suppression system On. Figure 5.9 shows the simulation result when the suppression system is on. The effectiveness o f the proposed methodology is shown in this figure, the tool vibration is kept to a minimum. Figure 5.10 shows the firequency response corresponding to this condition

80

o
Q. E

0)

<

1.00E + 10 1.00E + 09 1.00E + 08 1.00E + 07 1.00E + 06 1.00E + 05 1.00E + 04 1.00E + 03 1.00E +02 1.00E+01 1.00E + 00

r L-

on -off

0

100

200

300

400

500

600

Frequency (Hz)

Figure 5.11: Com parison o f frequency response of the tool with active suppression On and Off. Figure 5.11 shows the comparison o f frequency response o f the overall cutting process w ith and without active suppression system. It shows two peak when the system is on.

The active chatter suppression system was used to reduce the chatter. The chip width was set to critical value o f b=3.06mm. Based on these simulation results the proposed methodology seems to be capable o f suppressing chatter in turning and boring operations.

5.3

Chatter Suppression in Milling

The neural network model for suppression o f milling is shown in Figure 5.12. Two actuators are em ployed along X and Y-axis o f the machine. The parameters o f these actuators are the first six input to the neural model.

81

gamx gamy frequency x frequency y Px2 phasex Pxl

phasey

Xmax^pasjjT

XMS

Ymax_past

Pxl pasty

Px2_past

Px3_past

Py3

X M Sjpast

 YMS

Pyl_past Xmax Py2_past Ymax Py3_past

YMS__past

Figure 5.12: Neural Network Model for Milling

82

Since chatter could happen both in x and y direction frequency response o f both these axes has to be monitored. All poles method (see section 3.7) with 3 coefficients and scaling factor XM S were used to model these frequency responses. Finally, the maximum amplitudes in x and y direction during the current sampling period were included in the input vector. The outputs o f the neural model are predicted frequency response and minim um amplitudes in the next sampling period.

The next sets o f inputs are actuator parameters (Figure 5.13). These include gain, frequency and phase delay.

Unit

Actuato] 1

Actuator 3

Tool Holder 1

Tool Holder 2

Figure 5.13: Simplified M illing Cutting Process with Two Actuators

5.3.1

O ff -L in e Training

Off-line training o f the neural network was proposed using a training set containing 900 patterns. A com puter program was written in C language to generate these patterns. The test set included 390 patterns not used during the training o f the neural network.

83

In order to avoid over training and have the best generalization capabilities the num ber o f hidden nodes were chosen based on preference on test set. Figure 5.14 shows the result for various numbers o f hidden nodes as obtained by using the test set. While the traimng error will decrease by increasing the number o f hidden nodes the test set error will increase for hidden nodes more than 10. This indicates that for neural network with more than 10 hidden nodes, the NN start to over train and therefore loses some o f the generalization capability.

8.5 1 7.6 6.5 5.5

%error

Number of hidden Nodes

Figure 5.14: Neural Network with Varying Number of Hidden Nodes

5.3.2

Simulation Results

After achieving adequate results in off-line training the neural network model was used for simulation studies. Figure 5.15 shows the chatter in x direction when a chip width o f b=3.63 is used and the chatter suppression system is off. Figure 5.16 shows chatter although with a smaller amplitude in y direction. The frequency response o f the vibration in X axis is shown in Figure 5.17 and indicates a very sharp peak.

84

The results when suppression system was activated are depicted in Figures 5.18 and 5.19. Figures 5.18 and 5.19 show the vibration in x and y direction when the chatter suppression system was activated. Although the vibration is not totally eliminated, the amplitude has been reduced. This can also be seen in Figure 5.20 which compared the frequency response before and after suppression system was activated.

150

101

201

-150 t (sec)

Figure 5.15: Tool chatter with active suppression system O ff

85

150
E 1 100 50 1 E 0 s

a § -100 i2 -150
t(sec)

CO Q . .2

-50

101

201

301

401

501

60

Figure 5.16: Tool chatter with active suppression system O ff

1.00E+10 1.00E+09 1.00E+08 1.00E+07

« 1.00E+06  o
3

1.00E+05 1.00E+03 1.00E+02 1.00E+01 1.00E+00 1.00E-IOlOJO

ï

1.00E+04

2000.0

4000.0

6000.0

8000.0

10000.0

Frequency (Hz)

Figure 5.17: Frequency response of the tool with active suppression system off.

86

150 -1

50 -

201

401

601

801 1001 1201 1401 1601 1801 2001

-1 5 0 J

t (se c )

Figure 5.18: Tool vibration with active suppression system On

150 1 E 100

c 0> E o> o i5
Q

 » »

Q.

-50 -

o

CD

CO

CO

oo

CM

-100

-

-1 5 0 J

t (se c )

Figure 5.19: Tool vibration with active suppression system On

87

0  D 1 a E

<

1.00E+10 1.00E+09 1.00E+08 1 OOE+07 1.00E+06 1.00E+05 1.00E+04 1.00E+03 1.00E+02 1.00E+01 1.00E+00 1.00E-01 à

-- · - - active suppression Off ·active suppression On

2000

4000

6000

8000

10000

Frequency (Hz)

Figure 5.20: Comparison of frequency response o f the tool with active suppression On and Off.

88

Chapter 6 Conclusions
6.1 Contributions
A novel method for active method suppression o f chatter in machining process has been developed. The proposed m ethod can deal with non-linearities associated w ith the ehnttftr process including tim e delays inherent in the processes. Using neural networks as a dynamic model, the chatter suppression system can adapt to changes in the cutting process, thus elim inating the need for repeated turning.

6.2 Concluding Remarks

The work described in this thesis was aimed at developing an on-line system for chatter suppressing in m achining operations. Different methods o f generating the training sets and different neural networks architecture were investigated. It was found that improvements in the error o f the training and test sets could be achieved by randomizing the order in which data were presented to the system and by using fully normalized data. Normalizing the input data between the same upper and lower values as the output data ensures that all data is treated equally by the neural network.

It has been shown that through proper signal processing, judicious choice o f architecture and application o f appropriate training techniques, a neural network can be trained to correlate gradient calculation with respect to the parameters o f the active vibration source with reasonable accuracy.

6.3 Recommendations

The work presented has shown that the chatter can be suppressed by using the proposed methodology. Although simulation results are encouraging, experimental verification is

89

required. The challenges will arise from noise in the signals, unmodeled time delays and transverse chatter and interaction with radial chatter.

Future work should concentrate on improving the neural network model. The addition o f an on-line network after the off-line trained neural network may be able to improve the quality o f the model, and increase the effectiveness o f the system.

90

REFERENCES
[1] Industry Canada, A utom otive and Transportation branch. Statistical review o f the Canadian autom otive industry: 1999 Edition. Ottawa, ON. 1999. [2] Ismail, F and R. Ziaei. "Chatter Suppression in five -- Axis M achining o f Flexible Parts: International Journal o f M achine tools & Manufacture,2002, Vol.42, pp 115-122 [3] Rao, Balkrishna C and Yung C.Shin " A Comprehensive Dynamic cutting Force Model for Chatter Predicyion in Turning" International Journal o f machine tools & manufacture ,1999, Vol 39 ,pp. 1631- 1654 [4] Boothroyd , Geoffrey and W inston A Knight, 1989, Fundamentals o f Machining Tools, 2"^ edition, M arcel Dekker, N ew York. [5] Jiri (George) Tlusty, M anufacturing process and equipment, by prentice Hall, prentice Hall, Inc.NJ.2000, pp.559-574 [6] Chiriacescu, Sergiu T. " Stability in the dynamics o f metal cutting", 1990,Elsevier Science Publication ,Co. [7] Lago,Thomas L., Sven Oisson, lars Hakansson and Ingavar Claesson " Performance o f a chatter control system for turning and boring applications" 4^ GRACM congress on computational M echanics June 2002, pp.27-29 [8] Landers, Robert G and Galip Ulsoy. "Chatter Analysis o f machining system with nonlinear force Processes" ASM E International Mechanical Engineering Congress and Exposition Atlanta, Georgia, N ovem ber 17-22, 1996, DSC Vol.58, pp. 183 -1 9 0 [9] Liao, Y.S and Y.C Young. "A new on-line spindle speed regulation strategy for chatter control" International Journal.M ach Tool Manufact, 1996, Vol. 36. No 5, pp. 651-660. [10] Merrit, H.E, Journal o f engineering for Industry, 1965, Vol 87, 447-454 [11] Kim, K.J and J.Y.Ha, "Suppression o f machine tool chatter using a viscoelastic dynamic dam per" . Journal o f Engineering for Industry, travsaction o f ASM E.February 1987, V ol.l09,pp.58-64 [12] Xiao, M ., Kanube, S., Soutome, T and Ka Sato, " Analysis o f chatter suppression in vibration cutting" Intem ationI journal o f machine tool & manufacturing ,2002, Vol 42 p p . 1677-1685

91

[13] Tang, YS., Kao, J.Y and E.C .Lee "Chatter suppression in turning operations with a tuned vibration absorber". Journal o f materials processing technology, 2000, Vol 105,pp 55-60 [14] Slocum, Alexande H., Marsh, Eric r and Douglas H. Smith. Massachusetts "A new damper design for the machine tool structure: the replicated internal viscous" Massachusetts Institute o f Technology, Cambridge, MA, USA, July 1994, Vol 16, No 3 [15] Jang, J.L and Y.S. Tang "A study o f the active vibration control o f a cutting tool "Journal o f materials processing technology, 1990, 95, pp 78-82 [16] Chiou, Chu-Hsiang., Hong, Min -S ung and Komel F. Ehmann, " The feasibility o f eigenstructure assignment for machining chatter control". International journal o f machine tools & m anufacturer, 2003.Vol 3, pp. 1603-1620 [17] Mehrota, k., Mohan, C.K. and S.Ranka, "Elements o f artificial neural networks" Cambridge, MA: MIT press, 1997 [18] Principe, Jose C., Euliano, Neil R and W.Curt Lafebvre, "Neural and Adaptive System" fundamentals through simulations. Publisher .John Wiley and S, Inc, 1999, pp. 100-132 [19] Barron, AR. "Universal Approximation Bounds for Superpositions o f a Sigmoidal Function.", IEEE Transaction on information theory. 1993, 39, pp. 930-945 [20] T. Master, Practical Neural Recipes in C++. London,Academic press, 1993. [21] D.Rumelhart and j. McClelland, "Parallel distributed processing" M IT press 1986, Vol 1, Cambridge MA. [22] Rangwala, Sabbir S. and David a. Domfeld. "Learning and optimization of machining operations using computing abilities o f neural network", IEEE transaction on systems, man, and cybernetics, march/april 1989 vol 19, pp.2 [23] Press, W.H. Teulosky, Vetterling, S.A. and B.P. Flannery. "Numerical Recipes in CThe art o f scientific computing. Melbourne: Cambridge University press, 1992. [24] Akaike, H. " New look at the statistical model identification", IEEE Transaction on Automatic Control ,1974 Vol AC-19,n 6,pp. 716-723 [25] Hasting, Roy.K, M illing with NC, Debom, Michigan, Society o f manufacturing engineers, 1976, pp 63-65

92

V ita
N am e Israr A hm ed Siddiqui

E d u catio n

M aster o f Applied Science Ryerson University, Toronto,ON. Canada M ajor: M echanical Engineering

2004

Bachelor o f engineering N ED U niversity o f Engineering and Technology K arachi,Pakistan M ajor: M echanical Engineering

1993

E xperience

A erospace Field Designer, M TI - PolyFab, M ississauga, ONT

2001-2002

Project Engineer Siem ens Engineering Ltd, Karachi

1993-2001

P ublications Conference paper 1 :1.Siddiqui, A.Ghasempoor "Adaptive Feed forward chatter suppression in machining" 03AMTC-15, copyright@ 2003 SAE International Conference paper2: "An Intelligent system for chatter suppression in m achining" Present in International conference -FAIM 2004 at Ryerson University on July 14*, 2004

93

