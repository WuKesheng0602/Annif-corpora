-RULE BASED ADAPTIVE NEURO-FUZZY INFERENTIAL PHYSICAL PHYSICALSENSOR FOR OPTIMAL CONTROL OF SPACE HEATING SYSTEMS by Liang Huang

BSc in Computer Science and Technology, Liaoning Technical University, FuXin, China , 2004 MSc in The Royal Institute of Technology, Stockholm, Sweden, 2006 A thesis Presented to Ryerson University In partial fulfillment of the requirement for the degree of Master of Applied Science In Electrical and Computer Engineering. Toronto, Ontario, Canada, 2012 Â© Liang Huang, 2012

I

's Declaration Author Author'
I hereby declare that I am the sole author of this thesis. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research.

Signature

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

Signature

II

Rule Based Adaptive NeuroFuzzy Inferential Sensor for Optimal Control PhysicalPhysical-R euro-F of Space Heating Systems Master of Applied Science, 2012 Liang Huang Electrical and Computer Engineering Ryerson University

Abstract
The previous research on adaptive neuro-fuzzy inferential sensor (ANFIS) presented an approach to estimate the average indoor temperature and proposed a new method to measure process variables which are impossible to measure directly by using physical sensors in buildings. To achieve high energy efficiency in heating systems, an accurate and robust prediction model is essential. This thesis aims to improve the conventional ANFIS indoor temperature estimator and look for an optimal control of space heating systems. A physical-rule based ANFIS prediction model is proposed. The differences between this physical-rule based ANFIS prediction model and the conventional ANFIS prediction model are presented and analyzed. Three performance measures (RMSE, RMS, and R2) are used in evaluating the proposed prediction model. The improvement in accuracy and robustness of the physical-rule ANFIS model is presented compared with the conventional ANFIS model. In this thesis, the proposed model is used for designing an adaptive set-point heat exchanger control scheme to improve energy efficiency and indoor comfort. Finally, the good performance of this control scheme is also demonstrated.

III

Acknowledgement
The completion of this thesis involves contributions and assistance from many individuals. First of all, I would like to express my invaluable profound gratitude to my supervisors, Dr. Zaiyi Liao from Dept of Architectural Science and Dr. Lian Zhao from Dept of Electrical and Computer Engineering of Ryerson University, I am greatly grateful to Dr. Hua Ge of Architectural Science Department for his precious instruction. The members of our lab also support me in my research work. I want to thank them for all their help, support, interest and valuable hints. Especially, I am obliged to Surinder Jassar for her assistance and valuable suggestions to complete my work. I am also grateful to Thomas Behan and Xuemei Li for their help during the research.

IV

Contents
1 General Introduction 1 1.1 Introduction..........................................................................................................1 1.2 Objective of the Study......................................................................................... 5 1.3 Overview of the Proposed Work.......................................................................... 6 1.3.1 Experimental Data..................................................................................... 6 1.3.2 Performance of the Inferential Model........................................................6 1.3.3 Simulation Study........................................................................................7 1.4 Outline of the Thesis............................................................................................ 8 Neuro-Fuzzy Inference Technology 10 2.1 Neuro-Fuzzy Overview......................................................................................10 2.2 Neural Network..................................................................................................11 2.3 Fuzzy Systems and Fuzzy Inference System..................................................... 12 2.4 Adaptive Neuro-Fuzzy Inference Systems.........................................................15 2.5 Neuro-Fuzzy Modeling......................................................................................18 2.5.1 Neuro-Fuzzy System Identification......................................................... 19 2.5.2 Structure Identification............................................................................ 20 2.5.3 Parameter Identification...........................................................................21 2.5.4 Physical Rules of Heat Transfer in Buildings.......................................... 25 2.6 Neuro-Fuzzy Control.................................................................................. 26 Conventional ANFIS Based Prediction Model 29 3.1 Conventional ANFIS Model.............................................................................. 29 3.2 Limitation of Conventional ANFIS Model........................................................ 33 Development of Physical-Rule Based ANFIS Prediction Model 35 4.1 Physical-Rule Based ANFIS Structure Design.................................................. 35 4.2 Detailed Design in Every Layer.........................................................................37 4.3 Commissioning the Model.................................................................................39 Testing and Discussion 42 5.1 Testing the Physical-Rule Based Model............................................................ 42 5.2 Accuracy Improvement by Physical-Rule Based ANFIS Model.......................44 5.3 Robustness......................................................................................................... 47 5.4 Regional Feature................................................................................................ 51 Application of Physical-Rule Based ANFIS Sensor
V

2

3

4

5

6

51

6.1 Conventional Heat Exchanger Control.............................................................. 51 6.2 Adaptive Set-Point Heat Exchanger Control..................................................... 52 7 Conclusion and Future Work 58 7.1 Conclusion of the Thesis Work.......................................................................... 58 7.2 Future Work....................................................................................................... 59 61 62 65

Appendix A Appendix B Bibliography

VI

List of Tables
Table 1 Model Architecture and Training Parameters.....................................41 Table 2 Training and checking data set for accuracy...................................................45 Table 3 RMES, MRE, and R2 in different models (1).................................................45 Table 4 RMES, MRE, and R2 in different models (2).................................................49 Table 5 Training and checking data set for robustness................................................49 Table 6 RMSE in different models..............................................................................50 Table 7 MRE in different models................................................................................50 Table 8 R2 in different models.....................................................................................50 Table 9 RMES, MRE, and R2 in different models (3) ................................................51

VII

List of Figures
Fig. 1: Block Diagram Representation of Closed Loop Boiler Control Scheme..........4 Fig. 2: Shell-and-Tube Heat Exchanger....................................................................... 8 Fig. 3: Structure of Fuzzy Inference System (FIS).....................................................14 Fig.4: (a) First-Order Surgeon Fuzzy Model; (b) Corresponding Architecture for A TwoRule Fuzzy................................................................................................................... 18 Fig. 5: Hybrid learning Algorithm.............................................................................. 25 Fig. 6: Heat Transfer within One of Zones in A Multi-Zone Heating System............26 Fig.7: Inferential Model Showing Input and Output Variables.................................. 30 Fig. 8: Conventional ANFIS Model Structure............................................................ 32 Fig. 9: Experimental Measured Data in February 2001............................................. 34 Fig. 10: Comparison of Experimental Output and Conventional ANFI Output in February 2001.............................................................................................................. 34 Fig.11: Physical-Rule Based ANFIS Structure........................................................... 36 Fig. 12: Training Errors Obtained by the Physical-Rule Based ANFIS Model and Conventional ANFIS Model........................................................................................ 40 Fig. 13: Comparison of ANFIS Prediction Output and Physical-Rule Based ANFIS Prediction Output......................................................................................................... 46

VIII

Fig. 14: Comparison of Experimental Output and Physical-Rule Based ANFI Output in February 2001.............................................................................................................. 49 Fig.15: Experimental Output and Conventional ANFIS Output Comparison in Canada 50 Fig. 16: Adaptive Set-Point Heat Exchanger Control Scheme................................... 55 Fig. 17: Thermal Comfort Performances of Two Types of Control............................56 Fig. 18: Impacts of Heat Exchanger Control ............................................................. 56

IX

Chapter 1 General Introduction
1.1 Introduction
In the past decades, the issue of accumulation of the greenhouse gases (GHG) in the atmosphere has been to the most emergent problem to be addressed. The United Nations Environment Programme and the World Metrological Organization in 1988 formed the Intergovernmental Panel on Climate Change (IPCC) tasked with providing the most upto-date assessment of human effects on climate and human health. The IPCC fourth assessment report notes that the continued accumulation of GHGs in the atmosphere is in fact leading to noticeable climate change. The linear warming trend over the 50 years from 1956 to 2005 is nearly twice that for the 100 years from 1906 to 2005 [1]. Carbon dioxide is the most important anthropogenic GHG. In the building sector, carbon dioxide emissions are approximately 60% of all GHG emissions. Global increase in carbon dioxide concentration is due primarily to fossil fuel use. Considering the energy usage in buildings, opportunities to reduce GHG emissions appear to be most significant for space heating, air conditioning, lighting, and water heating [2]. Heating system consume a substantial proportion of the total energy used for buildings operations. With growing environmental and energy consciousness, consuming energy more efficiently is a priority. As in Canada approximately one third of its energy use is due to the operation of buildings, any improvement in building energy usage will contribute to the global energy conservation effort. On the other hand, as well as reducing environmental pollution and save energy, the
1

thermal comfort of indoor environment is also an essential element. American Society of Heating, Refrigerating and Air-Conditioning Engineers (ASHRAE) define thermal comfort for one person, as that condition of the mind which expresses satisfaction with the thermal environment. The indoor comfort and energy efficiency depends on a lot of factors, such as the thermal performance of the building envelope, the energy efficiency of the heating and distribution systems, the performance of control systems. Despite the enormous effort made over the last decades to improve the energy efficiency of these heating systems, a huge potential for further energy saving still persists. At present, in terms of reducing environmental pollution and saving energy, district heating systems are widely considered as an efficient mode for space heating. At individual buildings, appropriate operation of the heat exchangers is essential for harnessing the benefits made possible by district heating systems. District heating systems are always attractive for areas with high population densities, but the complexity of the heat load requirement causes the district heating system can only fulfill the average heat load in occupants' thermal space. The traditional method is to predict the heat load and set a constant temperature set-point of supplying hot water to heating terminal in duration. However, outdoor environment always change which cause the corresponding heat loads for buildings also change. If changes are obvious, the constant set-point will not satisfy energy saving and thermal comfort in the setting duration. Inferential sensor models were proposed to estimate the representative air temperature in the whole building. Based on the output of the estimator, the blower speed and the combustion level can be controlled, giving an efficient operation of the heat exchanger. Since the inferential sensing technology was originally developed, process parameters which are difficult to measure were allowed to be inferred from an easily made measurement [3, 4]. In recent years, fuzzy logic [5] and neural networks have been proposed as alternatives to traditional statistical ones in building technology, aimed to
2

improve indoor comfort and energy conservation. Some researchers investigated the benefit of incorporating the inferential sensing technique with conventional building control schemes [6] and [7]. In Fig. 1, an estimated average air temperature based closed loop boiler control scheme was also proposed [8]; as in the absence of an economic and technically reliable method for estimating the overall average air temperature in the built environment, the boiler is normally controlled to maintain the supply water temperature. ANFIS model is developed to build an air temperature estimator for the inferential control schemes [8]. Researchers extensively applied fuzzy logic to study the improvement of the performance in reducing energy consumption in built environment [9 - 13], while neural networks are also used to improve the performance of the built environment [14,15] and estimate the operative temperature in a building [16]. Based on Liao's work, Jassar et al [8] designed an ANFIS based inferential sensor model, which estimates the average air temperature in buildings that are heated by a hydraulic heating system. Jassar's adaptive neuro-fuzzy based inferential sensor model is used in indoor temperature estimation and has a low root mean square error (RMSE); nevertheless, since the limitation caused by some rules in the network structure, the good performance of estimation largely depends on the quality of the training data. Thus, it is necessary to improve the robustness and sensitivity of the existing estimation model.

3

Fig. 1: Block Diagram Representation of Closed Loop Boiler Control Scheme [8] This thesis is concerned with the analysis of current recurrent hybrid neuro-fuzzy based modeling environment and training algorithm for design and development of physicalrule based inferential space heating control models. In the previous research, due to technical and/or economic difficulties, many process variables are difficult or impossible to measure directly using physical sensors. Soft sensors which are a common name for software where several measurements are processed together are designed to compute the values of such variables based on an inferential model of the targeted system and the measuring cost of the values of the relevant variables is lower. There is a method that measures the average air temperature representative of the temperature in all zones, allows for optimal control of the furnaces in the residential heating system, saving energy and improving indoor environmental quality. However, the performance of indoor temperature estimation largely depends on the quality of the input data, due to the limited rules in the network structure. To solve this problem, this thesis presents a physical-rule based adaptive neuro-fuzzy inferential sensor (ANFIS) model that is supported by an enhanced structure compared with conventional ANFIS models [8]. The advantages of physical-rule based ANFIS model used to estimate the variables of a dynamic system are analyzed. Some primary tasks in
4

analysis include: structure identification sensitivity, parameter adjustment improvement and their corresponding mathematical analysis. Experimental data obtained from space heating systems is used to validate the model and the training method. Sensitivity and robustness studies have been carried out to investigate the performance of physical-rule based model by using three performance measures (RMSE, RMS, and R2). To identify the proposed model have good estimation performance in different regions and climates, the data from the projects which are in Italy and Canada will be used in testing. The application of the proposed model in industry is also significant. In district heating systems, the proposed model can be used in heat exchanger control. The simulation work is conducted and its improvement in energy efficiency and indoor comfort are also presented and analysed in this thesis.

2 Objective of the Study 1. 1.2
The objectives of this research are:  To investigate the defect and limitation of previous conventional ANFIS based indoor temperature estimation model with regard to robustness and sensitivity. Determine the potential for improving estimation through using physical rules. Evaluate and analyse the performance of the prediction model.  To design and develop an inferential control scheme based on the proposed physicalrule based ANFIS model to improve the thermal comfort and energy efficiency of the building. Make the proposed control scheme work for fulfilling the indoor average air temperature in a comfortable range by operating the valve on the heating equipment (heat exchanger).  To simulate the heat exchanger control and compare the performance of the proposed control scheme with the conventional control scheme in both energy efficiency and
5

comfort ratio.

3 Overview of the Proposed Work 1. 1.3
To design a reliable inferential sensor, the fundamental importance is to build a dynamic model of the system to be controlled that is simple and robust. The methods used for simplified dynamic model can be categorized into two groups: simplified physical model and black-box model based on advanced mathematical algorithms [17]. This thesis designs an innovative algorithm that is suitable for the development of a robust black-box model. The approach is especially useful for large complex and vague systems, which cannot be defined or represented efficiently by simple methods. Thus, the approach is ideally suitable for investigating the complex control problems of building heating systems.

3.1 Experimental Data 1. 1.3
For training and validation of the inferential model, it is extremely important to collect experimental data under actual building conditions. The experimental data is obtained from hot-water heating system monitored under different research projects [18]. The hotwater system data is collected in a laboratory heating system and includes indoor air temperature, exterior temperature, energy used by the heating system, and solar radiation.

3.2 Performance of the Inferential Model 1. 1.3
Three performance measures are used in evaluating the proposed prediction model; Root Mean Square Error (RMSE) which measures the mean deviation (error) of the predicted values to the measured indoor temperature values. The Maximum Relative Error (MRE) which is a measure for the largest error (or the farthest point) as well as goodness of fit (R2). R2 generally takes values between 0 and 1. As R2 reaches 1, the regression points
6

tend to align more accurately along the model curve. The regional independency of the proposed model will also be identified in this thesis. An experimental study is conducted to analyze the impact of data quality on the estimation ability of inferential model. The errors in the training data as well as in the testing data reduce the predictive accuracy of the model. Sensitivity analysis aims at validating the selection of training data. ANFIS is sensitive to the selection of training data. Training data sets collected under different conditions are used to check the effect on the predictive accuracy of the models.

3.3 Simulation Study 1. 1.3
At present, in terms of reducing environmental pollution and saving energy, hydraulic district heating systems are widely considered as an efficient mode for space conditioning. An adaptive set-point heat exchanger control scheme is proposed in district heating system [9]. In Fig.1, the estimated temperature which is predicted by the conventional ANFIS model provides a closed-loop heat exchanger control scheme; in the absence of an economic and technically reliable method for measuring the overall comfort level in the built environment, the heat exchanger is normally controlled to maintain the supply water temperature to follow the adaptive set-point temperature of supplied hot water which depends on the indoor temperature [9]. The physical-rule based ANFIS model is used in the development of an inferential control scheme for optimizing the control of the heat exchanger. In the conventional heat exchanger, the heat from the heat source is transferred to the water in secondary loops (Fig. 2) and the required flow rate of hot water from the heat source depends on required heating load, water temperature, and heat transfer rate. This conventional heating control process and proposed adaptive set-point control scheme are simulated in this study and
7

the performances of them are analyzed for a simulated typical residential building. The performance of proposed adaptive set-point control scheme is compared with conventional control methods to check their potential for improving thermal comfort and energy efficiency.

Fig. 2: Shell-and-Tube Heat Exchanger [21]

4 Outline of the Thesis 1. 1.4
This thesis begins with a statement of the objectives of the study, a review of the background, and the methodology employed. The background part presented the necessity and objective of this study. The methodology has been described to explain how these objectives can be achieved. The remainder of this thesis consists of the following chapters: Chapter 2 introduces the principles of neuro-fuzzy soft computing. Chapter 3 demonstrates the conventional ANFIS based prediction model and its disadvantage. Chapter 4 presents the development of physical-rule based ANFIS model in estimating average indoor air temperature.
8

Chapter 5 analyses the improvement in the physical-rule based ANFIS model compared with conventional ANFIS model. Chapter 6 presents a review of the current heat exchanger control and analyses the scope of implementation of the proposed physical-rule based ANFIS model in adaptive setpoint control scheme. Then, the improvement in energy efficiency and thermal comfort are demonstrated. Chapter 7 draws conclusions and makes suggestions for future work.

9

Chapter 2 Neuro-Fuzzy Inference Technology
ANFIS as a new technique has been used in conventional ANFIS based indoor temperature estimation [8]. In this study, before to improve the limitation of conventional ANFIS model, a review of the relevant principles is necessary to do.

2.1 Neuro-Fuzzy Overview
Over the last few decades, the areas of fuzzy logic and neural network have been significantly developed [22]. Fuzzy logic and neural networks are complimentary tools in designing modern control systems. Complex real-world problems need the system to be intelligent to combine knowledge, techniques, and methodologies from various sources. The intelligent systems are supposed to behave like human when possessing expertise within a specific domain, adapting themselves and learning to do better in changing environments, and even explain how they make decisions or take actions. In confronting real-world computing problems, having several computing techniques cooperate instead of processing individually shows obvious advantages, constructed complementary hybrid intelligent systems. The mystery of designing intelligent systems is neuro-fuzzy computing: neural networks that recognized patterns and adapt themselves to cope with changing environments; fuzzy inference systems that incorporate human knowledge and perform deductive judging and decision making. The integration of these two complementary approaches, together with certain derivative-free optimization techniques, results in a novel discipline called neuro-fuzzy and soft computing.

10

2.2 Neural Network
Since Rosenblatt [23] first applied single-layer perceptrons to pattern classification learning in the late 1950s, artificial neural network (ANN), usually called neural network (NN), as a mathematical model or computational model that is inspired by the structure and/or functional aspects of biological neural networks has been studied for more than five decades. The recent resurgence of interest in the field of NNs has been inspired by new developments in NN learning algorithms [25-27], analog VLSI (very large scale integrated) circuits, and parallel processing techniques [28]. The neural network has a standard structure; every neural network is composed of a set of highly interconnected nodes in different layers. Each node collects the inputs from its input connections, performs a set of predefined mathematical operations and produces a single output. Inside each node, there is an integration action which serves to combine information or activation from external environment or other nodes into a net input. At the same time, the node produces an output as a function of its net input through an activation function. Each node has associated weights that determine the exact or the incoming input on the activation of the node. The weights may be positive, or negative. Finally, through a learning procedure, the information can be stored in these weights in a distributed manner. Neural networks, with their remarkable ability to derive meaning from complicated or imprecise data, can be used to extract patterns and detect trends that are too complex to be noticed by either human or other computer techniques. A trained neural network can be thought of as an "expert" in the category of information it has been given to analyze. This expert can then be used to provide projections given new situations of interest and answer "what if" questions. To use neural networks, there are some advantages [29]:
11

1. Adaptive learning: An ability to learn how to do tasks based on the data given for training or initial experience. 2. Self-Organization: An ANN can create its own organization or representation of the information it receives during learning time. 3. Real Time Operation: ANN computations may be carried out in parallel, and special hardware devices are being designed and manufactured which take advantage of this capability. 4. Fault Tolerance via Redundant Information Coding: Partial destruction of a network leads to the corresponding degradation of performance. However, some network capabilities may be retained even with major network damage. A robust approach to approximating analytical functions is provided by neural networks with these advantages. Therefore, they can be considered as simplified mathematical models of brain like systems operating as parallel distributed computing networks. Neural networks are one of the most effective learning approaches for certain types of problems, such as learning and generalizing to interpret sensory data. Thus, neural networks are well-suited to problems where nonlinear mapping must be acquired from data, and where a near-optimal solution is required in a short time.

2.3 Fuzzy Systems and Fuzzy Inference System
A fuzzy logic system (FLS) is a convenient way of mapping inputs space to outputs space. The mapping is achieved by transforming the input information from numerical domain (crisp domain) to linguistic domain (fuzzy domain). The transformed information is then processed using the fuzzy rules incorporated in the rule-base to yield a fuzzy output which, in turn, has to be transformed again into the numerical domain [30 - 32].

12

Fuzzy logic starts with a builds on a set of user-supplied human language rules. The fuzzy systems convert these rules to their mathematical equivalents. The rule consists of two parts: an antecedent (premise) and a consequent. They are English-like sentences in the form of IF-THEN. The IF-part (antecedent) includes the condition for firing a rule, and the THEN-part (consequent) includes the action. A typical fuzzy rule has an expression of the form: IF x1 is A1 AND x2 is A2 THEN y is B Where A1, A2, and B are linguistic values defined by fuzzy sets on certain universe of discourse. A fuzzy model consisting of this form of fuzzy rules is generally called Mamdani fuzzy model, if B is a fuzzy singleton [33]. The other form of IF-THEN rules, proposed by Takagi and Sugeno [34, 35], has only fuzzy set defined in the premise part; the consequent part is described by a non-fuzzy equation of the input variables, IF x1 is A1 AND x2 is A2 THEN y is f(x1, x2) A fuzzy model consisting of these types of rules is called a TSK fuzzy model. This simplifies the job of the system designer and the computer, and results in much more accurate representations of the way systems behave in the real world. Additional benefits of fuzzy logic include its simplicity and its flexibility. Fuzzy logic can handle problems with imprecise and incomplete data, and it can model nonlinear functions of arbitrary complexity [36]. Fuzzy logic models, called fuzzy inference systems, consist of a number of conditional "IF-THEN" rules. For the designer who understands the system, these rules are easy to write, and as many rules as necessary can be supplied to describe the system adequately. The basic structure of a fuzzy inference system is shown in Fig.3, which consists of the following subsystems:
13

A fuzzifier which maps from an observed input space to labels of fuzzy sets in a specified universe of discourse, A rule base containing a set of fuzzy IF-THEN rules, A database which defines the MFs used in fuzzy rules, An inference engine which performs the reasoning procedure upon the rules and the given conditions to derive reasoning conclusions, A defuzzifier which maps the fuzzy inference results back to crisp outputs.

Fig. 3: Structure of Fuzzy Inference System (FIS) [37] In general, the steps of fuzzy inference are summarized as follows: Fuzzification: compare the input variables with the MF on the premise part to compute the membership values of each linguistic variable.

14

Application of T-norm: this operator performs algebraic product or min on the membership values of the premise part to get firing strength or weight for each rule. Generation of the consequent parts: it can be fuzzy or crisp. Defuzzification: aggregate the qualified consequents to derive a crisp output.

2.4 Adaptive Neuro-Fuzzy Inference Systems
The development of intelligent systems have benefited from hybridization technology of neuro-fuzzy systems through several approaches such as ANFIS, Neuro-Fuzzy Control (NEFCON), Evolving Fuzzy Neural Network (EFuNN), the evolutionary design of neuro-fuzzy systems and many others [38 - 45]. Among the methods mentioned, ANFIS is the one that fully optimizes the complementary strength of ANN and FIS. The training speed of ANFIS is higher compared to others, the learning algorithm is the most effective, and the structure is simple [46]. Based on these properties, ANFIS is recognized as one of the best in function approximation among other neuro-fuzzy models [47]. Also it is faster in convergence when compared to the other neuro-fuzzy models [48]; and provides better results when applied without any pre-training [49]. ANFIS is a multi-player adaptive network-based fuzzy inference system. It consists of a total of five layers to implement different node functions to learn and tune the parameters in a FIS structure using a hybrid learning mode. Here to describe the architecture of ANFIS, the fuzzy inference system under consideration has two inputs (x, y) and one output, z. For a first-order Sugeno fuzzy model [50-52], a common rule set with two fuzzy IF-THEN rules is the following: Rule 1: If x is A1 and y is B1, then f1 = p1x + q1y + r1, Rule 2: If x is A2 and y is B2, then f2 = p2x + q2y + r2.
15

Fig.4 (a) illustrates the reasoning mechanism for this Sugeno model; F.4 (b) shows the corresponding equivalent ANFIS architecture. Nodes of the same layer have similar functions, as described next. The output of the ith node is denoted in layer l as Ol,i .) Layer 1: Every node i in this layer is an adaptive node with a node function

O1,i =uAi(x) for i = 1, 2 or O1,i=uBi-2(y) for i = 3, 4
(2.1)

where Ol,i is the membership grade of a fuzzy set A ( = A1, A2, B1 or B2) and it specifies the degree to which the given input x (or y) satisfies the quantifier A. In other words, x (or y) is the input of node i and Ai (or Bi-2) is the linguistic label (such as "bad" or "good") associated with this node. Here the membership function for A can be any appropriate parameterized membership function, such as generalized bell function:

Âµ A ( x) =

1

x - ci 1+ ai

2 bi

(2.2)

where {ai, bi, ci} is the parameter set. The Bell-shaped function varies as the values of these parameters change, thus exhibiting various forms of membership function for fuzzy set A. Parameters in this layer are referred to as premise parameters. Layer 2: Every node in this layer is a fixed node labeled II, the output is the product of all the incoming signals:

O2,i = wi = Âµ Ai ( x) Âµ Bi ( y ) , i = 1, 2

(2.3)

Each node output represents the firing strength of a rule. In general, any other T-norm operators that performs fuzzy AND can be used as the node function in this layer.

16

Layer 3: Every node in this layer is a fixed node labeled N. The ith node calculates the ratio of the ith rule's firing strength to the summation of all rules' firing strength:

O3,i = w i =

wi , i = 1, 2 w1 + w2

(2.4)

For convenience, outputs of this layer are called normalized firing strengths. Layer 4: Every node i in this layer is an adaptive node with a node function

O4,i = w i f i = w i ( pi x + qi y + ri ) ,

(2.5)

where w i is a normalized firing strength from layer 3 and {pi, qi, ri} is the parameter set of this node. Parameters in this layer are referred to as consequent parameters. Layer 5: The single node in this layer is a fixed node labeled , which computes the overall output as the summation of all incoming signals:

Overall output = O5,i =  w i f i =

wf w
i i i i

i

(2.6)

17

4: (a) First-Order Surgeon Fuzzy Model; (b) Corresponding Architecture for A TwoFig. Fig.4 Rule Fuzzy [20]. Therefore, an adaptive network has been constructed which is functionally equivalent to a Sugeno fuzzy model. As long as each node and each layer perform meaningful and modular functionalities, the assignment of node functions and the network configuration are arbitrary

2.5 Neuro-Fuzzy Modeling
A fuzzy system can be seen as a layered structure (network) at the computational level, similar to artificial neural network of the RBF-type [53]. Gradient-descent training algorithms known from the area of neural networks can be employed in order to optimize parameters in a fuzzy system. Hence, this approach is usually referred to as neuro-fuzzy modeling [53, 38].
18

2.5.1 Neuro-Fuzzy System Identification
System identification is a process of developing or improving a mathematical representation of a physical system using a combination of prior knowledge and empirical data. Conventionally, system identification heavily relies on prior knowledge such that mechanistic model can be established to satisfactorily describe the system. So that empirical data is used to adapt and validate these identified models. In general, there are three basic classes of such model synthesis [54]: White box identification: The entire mechanistic model is constructed from prior knowledge and physical rules. The observed system is only used for adaptation and validation. It is not used during the model construction. However, complete system knowledge is rarely available; therefore in most cases, some aspects of system behavior cannot be explained by the identified model. Grey box identification: A partial model is established from prior knowledge and physical rules. Usually, such knowledge is used to satisfy the functional form of the model, while the empirical data is used to infer specific system parameters. Black box identification: No physical knowledge is available for construction of the model. This kind of identification can be viewed as function approximation or surface fitting. In this case, there exist infinitely many candidate functions to fit the observed data that can be chosen. System identification involves two steps [55]: structure identification and parameter identification. Structure identification can further be divided into two different types of task, (1) input variable selection and (2) determination of functional expression.

19

2.5.2 Structure Identification
Structure identification of an unknown system is to solve two problems: selecting a set of input variables and establishing an input-output relation. In phase I of the structure identification, the most relevant input variables for the system needs to be discovered. Appropriate input variables to the system are assumed to be known in some identification works. However, in many real-world applications, this is not the case. While linear functions have a unique representation, there are two parts of an IF-THEN rule: the premise part and the consequent part. So the rules have two structures in principle. It is clear that the number of rules corresponds to the number of subspaces. This partition of input space is the premise structure in a fuzzy model. So how the input space should be partitioned is determined by phase II of structure identification. Among all the aforementioned tasks to be done in identification the most important task is to identify an optimal set of variables. This is because variable selection is the preliminary step before operating regression or any other identification tasks. Enough variables are needed to explain system behaviors. However, too many variables will artificially increase the complexity of the identified model. In this case, the over-complex model will usually over fit the data and will have less generalization capability. A variable selection technique typically consists of the following elements: A feature evaluation criterion for comparing subsets of variables, a search procedure for searching the set of possible variable combination, and a stop criterion as significance threshold for determining the evaluation criterion or the final feature space dimension. Several evaluation criteria based on either statistics or heuristics, have been proposed for measuring the importance of a variable subset, depending on the task and the model to be used. Some selection methods only consider the data for computing the relevant variables; others take into consideration the model to be used for the medullization task.
20

Construction of a fuzzy rule base can be viewed as partitioning the multidimensional input space and extracting IF-THEN rules from the sampled data. There are some commonly used partitioning methods, such as fuzzy grid partition and fuzzy k-d tree partitioning.

2.5.3 Parameter Identification
Parameters are the coefficients in a system functional model in conventional system identification. The parameters also include those in the MFs in a fuzzy model. Many existing fuzzy identification schemes perform those two identification tasks separately in the literature. However, structure identification and parameter identification cannot be solved separately. Most existing neuro-fuzzy systems are rule based systems which consist of the Mamdani model for the TSK model. This type of neuro-fuzzy model has the following form, Ri => IF x1 is A1,i AND ... AND xp is Ap,i THEN y = fi(x1, ...,xp), i = i, ...,M And fi(x1, ...,xp) is given by Mamdani Type:

fi = ci, where ci is a constant consequent.
TSK Type:
p

f i =  ai , j x j
j =1

(2.7)

The total output of the model is computed by the center of area (COA) defuzzification method,

21

 y= 

M

i =1 M

wi f i

M

w i =1 i

=  wi f i
i =1

(2.8)

where wi denotes the firing strength of the ith rule defined by

wi =

wi

i=1 wi

M

(2.9)

In the least squares method, the output of a model y is given by the parameterized expression.

y = 1 f 1 ( x) +  2 f 2 ( x) + .......... +  n f n ( x)

(2.10)

where x = [x1, ..., xn] is input vector for the model, f1, ..., fn are known functions of x, and

1 , ...  n are unknown parameters to be optimized. Usually a training data set of data
pairs (xi, yi), i = 1, ..., m is taken to identify these unknown parameters  i ; substituting each data pair in Eq. (2.11) a set of linear equations is obtained, which can be written as

A = y
in matrix form, where A is a m Ã n matrix.  f 1 (u1 ) f n (u1 )       A =           f 1 (u m ) f n (u m )  where  is an n Ã 1 unknown parameter vector

(2.11)

22

 1         =            n  

(2.12)

And y is an m Ã 1 output vector
 y1       .  y =          y m  

(2.13)

Since generally m>n, instead of exact solution of (2.10) an error vector e is introduced to account for the modeling error as

A + e = y

(2.14)

^ which minimizes the sum of squared errors. and searched for  = 
m i =1
2

E ( ) =  ( y i - ai ) = e T e

T

(2.15)

where E ( ) is called the overall error objective function. The squared error in (2.11) is ^ , called least squares estimator (LSE) that satisfies the normal minimized when  =  equation ^ = AT y AT A

23

^ is unique and is given by If AT A is a non singular,  ^ = ( AT A) -1 AT y 

(2.16)

Two kinds of parameters usually exist in a neuro-fuzzy model: the parameters in the consequent parts and the parameters in the antecedent parts. According to Eq. (2.14), the consequent parameters are simply  , and the antecedent parameters are generally those used to define the MFs. The gradient descent methods are generally slow and likely to be trapped in local minima, though one can apply the gradient methods such as backpropagation (BP) to identify both the antecedent and the consequent parameters. The consequent parameters can be identified by the well known least squares (LS) methods. The BP algorithm can be used to update the antecedent parameters after the consequent parameters have been identified. This observation leads to a hybrid learning algorithm that combines the neural learning rules and the least squares estimators for faster parameter identification. Each epoch is composed of a forward phase and a backward phase in the hybrid learning scheme, as shown in Fig. 5. In the forward phase, an input vector and compute the corresponding row vectors in matrices A and Y is presented. This process is repeated until all the input vectors have been presented. In the backward phase, ^ . After  ^ is identified, the first the least-squares formula in Eq.(2.16) is used to compute  error signal for each training data entry is calculated. Then the error signals can be back propagated from the output end toward the input end, so as to update the premise parameters. This is a batch learning scheme since the parameters are updated after all the training data have been presented. The  found by LS estimation is guaranteed to be globally optimal for the given premise parameters at any training epoch. Therefore this hybrid learning algorithm can reduce the dimension of each of the search space in the BP algorithm, as well we a substantially reduce the time needed for convergence.

24

Fig. 5: Hybrid learning Algorithm

s 2.5.4 Physical Rules of Heat Transfer in Building Buildings
Fig. 6 illustrates the heat transfer process in the building with the external wall which is divided into two layers. Heat transfer from the hot water to the radiator shell (Tm(i)) through convection (Qin) and then to the air through convection and to the inner layer of the envelope through radiation. Infiltration through openings and heat conduction through
25

light-weighted constructions in the envelope (such as windows; the thermal inertia is ignored) depend on the outdoor temperature (TO). Solar radiation (Qsol) is another heat source to consider in heat transfer processes. Since the law of conservation of energy, the total indoor energy which can be represented by indoor temperature is equal to the amount of heat supplied to the indoor environment, minus the amount of heat transferred from indoor to outdoor. In this study, "positive energy" is defined to represent the heat supplied to the indoor environment which includes solar radiation and the energy from the heating element. At the same time, the corresponding "negative energy" which represents the heat transferred from indoor to outdoor depends on the temperature difference between indoor air temperature and the external temperature.

Fig. 6: Heat Transfer within One of Zones in A Multi-Zone Heating System [51]

2.6 Neuro-Fuzzy Control
Application of fuzzy inference systems to automatic control was first reported in
26

Mamdani's paper [33] in 1975. Based on Zadeh's proposition [39], a fuzzy logic controller (FLC) was used to emulate a human operator's control of a steam engine and boiler combination. Fuzzy logic control [56 - 59] has gradually been recognized as the most significant and fruitful application for fuzzy logic and fuzzy set theory since then. In the past few years, advances in microprocessors and hardware technologies have created an even more diversified application domain for fuzzy logic controller, which ranges from consumer electronics to the automobile industry. Indeed, FLCs provide a feasible alternative for complex and/or ill-defined systems that are not easily subjected to conventional automatic control methods. Because FLCs can capture the approximate, qualitative aspects of human reasoning and decision-making processes. However, without adaptive capability, the performance of FLCs relies exclusively on two factors: the availability of human experts, and the knowledge acquisition techniques to convert human expertise into appropriate fuzzy IF-THEN rules and membership functions. These two factors substantially restrict the application domain of FLCs. On the other hand, investigation into using neural networks in automatic control systems did not receive much attention until the backpropagation learning rule was reformulated by Rumelhart et al. [60] in 1986. Since then, research of neural control has evolved quickly and a number of neural controller design methods have been proposed in the literature [61 - 63]. Jang [38] explains in detail that supervised learning neural networks and fuzzy inference systems are special instances of adaptive networks, which in certain ways are the most general form of modeling and computing-structure construction. Consequently, a neural control design approach can usually be carried over directly of the design of fuzzy controllers, unless the design method depends directly on the specific architecture of the neural network used. This portability endows us with a number of design methods for fuzzy controllers which can easily take advantages of a priori human information and
27

expertise in the form of fuzzy IF-THEN rules. The resulting methodologies often referred to as neuro-fuzzy control. Generally speaking, these methodologies can be classified into two categories. The first category is made up of design methods obtained directly from neural control literature directly, such as expert (mimicking) control, inverse learning, specialized learning, backpropagation through time, and real-time recurrent learning. The second category contains design methods that are not directly or necessarily related to neural-like learning. Some of the design methods in the second category take advantage of conventional control techniques such as gain scheduling, feedback linearization, adaptive control, and sliding mode control; others apply derivative-free optimization techniques or reinforcement types of learning.

28

Chapter 3 Conventional ANFIS Based Prediction Model
Neuro-Fuzzy modeling is used to develop the average air temperature estimator. For hybrid neuro-fuzzy modeling the major steps are: (1) input and output variables determination, (2) experimental data monitoring, (3) fuzzy partitioning of the I/O space, (4) shapes and initial parameters for the membership functions, (5) short-term training data selection, (6) parameters and algorithm for the training process, and (7) validation of the model for long term testing data. In this chapter, a conventional ANFIS prediction model based indoor temperature estimator is demonstrated and the limitation is also presented.

3.1 Conventional ANFIS Model
An ANFIS based model for predicting the average indoor air temperature is developed by Jassar and Liao [1] as shown in Fig. 7. The overall average air temperature (Tavg) in the building is estimated based upon external temperature (TO), solar radiation (Qsol) and the energy consumption (Qin).

29

Fig. 7: Inferential Model Showing Input and Output Variables Fig.7: Considering the sensitivity of the input and the fuzzy rules, two Functions of Memberships (FMs) in every individual variable are used which represent "High" and "Low" respectively. If more FMs are defined, it will be more complex when we are defining the fuzzy rules. For example, if we define 3 FMs which are "High", "Middle", and "Low" for every input variable, there will be 27 fuzzy rules instead of 8 fuzzy rule when two FMs are defined for every input variable. It is obvious that the more FMs for every input, the more complex and vague in defining fuzzy rules. In this thesis, the types of MFs are also defined to the simpled MFs which are triangle-shape functions to raise the calculation speed in parameter tuning. The structure of the conventional ANFIS model based estimator is demonstrated in Fig. 8. Based on Jassar's model [1], a back forward of delayed average air temperature is also considered as an input signal in the structure for improving estimation. There are five layers of this conventional ANFIS structure. O1,i is the output of the ith node of the layer l. Every node i in layer 1 is an adaptive node with a node function

O1,i = uAi(x 1) for i=1,2 O1,i = uBi-2(x2) for i=3,4 O1,i = uCi-4(x3) for i=5,6
30

O1,i = uDi-6(x4) for i=7,8
where x1(or x2 or x3 or x4) is the input to node i and A
i

(3.1)

(or Bi-2 or Ci-4 or Di-6) is a

linguistic label (such as "high" or "low") associated with this node. Here A, B, C, or D is set into triangular membership function:

f ( x; ai , bi , ci ) = max(min(

x - ai ci - x , )) bi - ai ci - bi

(3.2)

The parameters {ai, bi, ci} (with ai<bi<ci) determine the x coordinates of the three corners of the underlying triangular MF. As the values of these parameters change, the triangularshaped function varies accordingly, thus exhibiting various forms of membership function for fuzzy sets. In layer 2, there are 16 nodes and the output of every node is the product of all the incoming signals. Each node output represents the firing strength (wi) of a rule, additional the degree to which the antecedent part of a fuzzy rule is satisfied. In layer 3, the ith node calculates the ratio of the ith rule's firing strength to the summation of all the rules' firing strengths:

O3,i = w i =

wi , i = 1 - 8, j = 1- 16 w  j
j

(3.3)

In layer 4, every node i in this layer is an adaptive node with a mode function

O4,i = w i f i = w i (ai x1 + bi x 2 + ci x3 + d i x 4 + ri )

(3.4)

where wi is a normalized firing strength from layer 3 and {ai, bi, ci, di} is the consequent parameter set of this node In layer 5, the single node computes the overall output as the summation of all incoming
31

signals:

Overall output = O5,1 =  w i f i =
i

w f w
i i i i

i

i=1-8

(3.5)

Fig. 8: Conventional ANFIS Model Structure From the ANFIS architecture show in Fig 4, we observe that when the values of the premise parameters are fixed, the overall output can be expressed as a linear combination of the consequent parameters. In Fig 8, Tavg, the output of layer 5, can be rewritten as

32

wf w =  w (a x
f =
i i i i i i i

i

i 1

+ bi x2 + ci x3 + d i x 4 + ri )

(3.6)

=  ( w i x1 ) ai + ( w i x 2 )bi + ( w i x3 )ci + ( w i x 4 ) d i + w i ri

where i = 1 to 8, which is linear in the consequent parameters ai, bi, ci, and di. In this case, the hybrid learning algorithm can be applied directly. More specifically, in the forward pass of the hybrid learning algorithm, node outputs go forward until layer 4 and the consequent parameters are identified by the least-squares method. In the backward pass, the error signals propagate backward and the premise parameters are updated by gradient descent.

3.2 Limitation of Conventional ANFIS Model
The conventional ANFIS estimator presented a good performance in estimating indoor temperature [10], but it depends on the quality of the input data group. For example, in Fig.9, 3000 data pairs in February 2001 in EU CRAFT project [16] were used to train a conventional ANFIS model, then 7900 data pairs in the same month were used to test conventional ANFIS estimator. Big gaps between measured data and estimated data can be observed in Fig. 10. The gaps are caused by the input which are out of the range of training data around time point 4000 in the graph of Qsol and between the time point 2400 and 3800 in the graph of TO in Fig. 9. The performance of the conventional ANFIS estimator could be influenced if the input variables are out of the range of input variables for training. Thus, the limitation of conventional ANFIS model is in robustness. The reasons which can cause this limitation in robustness are complex; they might be information lost in activating the linguistic rules or insensitive input-output data pairs for training or others. There is one reason for this
33

limitation lies in consequent parameters identifying; the optimization of consequent parameters depends on the size of unknown parameter vector  in Eq. (2.12). The larger the vector's size is, the more complex calculation work is needed. Therefore, with the same training data, the smaller size parameter vector will be calculated accurately and easily.

Fig. 9: Experimental Measured Data in February 2001

Fig. 10: Comparison of Experimental Output and Conventional ANFI Output in February 2001
34

Chapter 4 Rule Based Development of PhysicalPhysical-R ANFIS Prediction Model
Considering the disadvantages and limitations of the conventional ANFIS model, a thermodynamics principles based ANFIS structure is proposed. The aim is to increase the accuracy of parameters by changing the size of the vector parameters and designing a physical-rule integrated structure of ANFIS. The detailed design of the structure and the testing experiments will be presented in this chapter.

4.1 Physical-Rule Based ANFIS Structure Design
Heat is defined in physics as the transfer of thermal energy across a well-defined boundary around a thermodynamic system. It is a characteristic of a process and is not statically contained in matter. In engineering contexts, however, the term heat transfer has acquired a specific usage, despite its literal redundancy of the characterization of transfer. In these contexts, heat is taken as synonymous to thermal energy. This usage has its origin in the historical interpretation of heat as a fluid (caloric) that can be transferred by various mechanism [46], such as conduction, convection, and radiation. When we are talking about the indoor air temperature, it depends on the indoor thermal energy which equals to the sum of the positive energy charging indoor thermal energy and negative energy which is the energy transfer from indoor to outdoor. Thus, if we consider these physical rules when we design our ANFIS network structure, we find that the overall output should be dependent on the negative energy and positive energy. Based on the definition, the negative and positive energy can be decided by wind,
35

humidity, energy consumption, and so on. However, in this study, only TO, Tavg, Qin and

Qsol are considered for research. The negative energy is decided by TO and Tavg, at the
same time, the positive energy is determined by Qin and Qsol. Since each input variable is characterized by two MFs, the total number of antecedent parameters is 8. The model contains four rules of first-order surgeon type for either "Positive Energy" or "Negative Energy".

11: Physical-Rule Based ANFIS Structure Fig. Fig.1
36

The physical-rule based ANFIS network structure is separated into two neural rules which are "Energy In" and "Energy Out". The inputs Qin and Qsol are used to decide the "positive energy". Also, the inputs TO and Tavg' are grouped into "Negative Energy". There are four rules in every neural rule and the outputs of every rule are summarized.

Tavg' is the delayed indoor temperature which is related with the current difference
between indoor and outdoor environment. Therefore, we design the network structure in Fig.11.

4.2 Detailed Design in Every Layer
The first layer of physical-rule based ANFIS structure will be designed in the same way as conventional ANFIS structure in Chapter 3. They have the same adaptive node functions:

O'1,i = uA i(x 1) for i = 1,2 O'1,i = uBi-2(x2) for i = 3,4 O'1,i = uCi-4(x3) for i = 5,6 O'1,i = uDi-6(x4) for i = 7,8
(4.1)

To compare the performance of different structures, A, B, C, or D is also set into triangular membership function in Eq. (3.2). In Fig.11, the upper four nodes and lower four nodes have already separated into two groups which are "Positive energy" and "Negative energy" in layer 1. In layer 2, there are 8 nodes and every four nodes are in the same group. The output of every node is the product of the corresponding incoming signals i. The connections between the nodes in layer 1 and layer 2 represent the designed fuzzy rules between Qin and Qsol and the output represents the firing strength (wi) of a rule. For example, node 1 in
37

layer 2 represents a status when both Qin and Qsol are "high" and the output to which the degree of the antecedent part for this fuzzy rule is satisfied is sent to the next layer for calculation. However, comparing to the conventional ANFIS structure, the outputs are only sent to the nodes inside their group as input signals in layer 3. In layer 3, the ratio of the ith rule's firing strength to the sum of all rules' firing strengths in the group of "Positive Energy" or "Negative Energy" can be presented by

O '3,i = w'i =

w'i , i = 1 - 4, j = 1- 4  w' j
j

and

O '3,i = w'i =

w'i , i = 5 - 8, j = 5- 8  w' j
j

(4.2)

In layer 4, every node i in this layer is an adaptive node with a mode function

O ' 4 ,i = w'i f 'i = w'i ( a '1i x1 + b '1i x2 + r '1i )
or

i=1-4

O ' 4 , i = w ' i f ' i = w 'i ( a ' 2 i x3 + b ' 2 i x 4 + r ' 2 i ) i = 5 - 8

(4.3)

where w' i is a normalized firing strength from layer 3 and {a'i, b'i, c'i, d'i} is the consequent parameter set of this node In layer 5, the single node computes the overall output as the summation of all incoming signals:

Overall output = O '5 ,1 =  w'i f 'i =
i

 w' f '  w'
i i i i

i

i=1-8

(4.4)

38

From the ANFIS architecture in Fig 4, we observe that when the values of the premise parameters are fixed, the overall output can be expressed as a linear combination of the consequent parameters. In symbols, the output f in Fig 10 can be rewritten as

 w' f ' +  w' f '  w'  w' =  (w' (a' x + b' x + r ' )) +  (w'
f '=
i
1i 1i

i

2i

2i

i

1i

i

2i

1i

i

1

i

2

1i

2i

(c'i x1 + d 'i x2 + r '2i ))

(4.5)

i

i

=  ((w'1i x1 )a'i +(w'1i x2 )b'i +( w'1i )r '1i ) +  ((w'2i x3 )c'i +(w'2i x4 )d 'i +(w'1i )r '2i )
i i

where i = 1 to 4, which is linear in the consequent parameters a'i, b'i, c'i, d'i, r1i', and r2i'. In this case, the hybrid learning algorithm and least-squares method will be applied to identify the consequent parameters in layer 4 which uses the same method as conventional ANFIS model. The main difference between proposed physical-rule based ANFIS structure and conventional based ANFIS structure is in layer 1, 2, 3 and 4. Physical-rule based ANFIS structure simplifies the structure of the conventional ANFIS through dividing the structure into two parts, which represent "positive energy" and "negative energy" respectively, thus making the structure have physical sense. In layer 5, the output is the average indoor temperature determined by the summation of "positive energy" and "negative energy" in physical sense, which is the summation of the two groups of outputs in layer 4.

3 Commissioning the Mode l 4. 4.3 odel
The proposed physical-rule based ANFIS model is trained by the hybrid learning algorithm [64]. The suitable values for the parameters are determined in this phase. The training data are from a laboratory heating system which was monitored in the EU
39

CRAFT project [18]. The laboratory located in Milan, Italy is a three story building with one zone at each floor. Multiple sensors were used to monitor the air temperature in each zone and their algebraic average was treated as the representative measurement of the room temperature in that zone. Since each zone has the same floor area, the building air temperature is represented by the algebraic average of the air in all three zones. 3000 pairs of the experimental data in January 2001 are used as training data. Based on the analysis method in [8], the training process parameters selected are: SS = 0.01, SSINC = 1.1, SSDEC = 0.9, number of training data pairs = 3000. Fig. 12 shows the training errors for training process in different models. The physical-rule based ANFIS model has lower training error than the conventional ANFIS model.

Fig. 12: Training Errors Obtained by the Physical-Rule Based ANFIS Model and Conventional ANFIS Model To make the comparison result reasonable, the comparison between proposed physicalrule based ANFIS model and conventional ANFIS model need have the same premise. Table 1 presents the architectures and training parameters for both conventional ANFIS
40

model and proposed physical-rule based ANFIS model. Both of these two models have same size of training data, same type and number of member functions, same training algorithm and same number of epochs.

Table 1: Model Architecture and Training Parameters Parameters Conventional ANFIS model Number of layers Number of inputs Size of training data Type of MF Number of MFs Number of fuzzy rules Training Algorithm 5 4
3000 Ã 4

Physical-Rule Based ANFIS model 5 4
3000 Ã 4

Triangle 2 16 Hybrid Learning Algorithm

Triangle 2 8 Hybrid Learning Algorithm 150

Number of epochs

150

41

Chapter 5 Testing and Discussion
In this chapter, the proposed physical-rule based ANFIS model will be evaluated with accuracy and robustness compared with conventional ANFIS model in air temperature estimation. The proposed model will be also evaluated by the testing data from different projects in different countries. The testing results are presented and the improvement in proposed physical-rule based ANFIS model is analyzed.

5.1 Testing the Physical-Rule Based Model
The experimental data are obtained from two types of heating systems, monitored under different research projects. The experimental data of the laboratory heating system was also from the EU CRAFT project [18]. The data are collected for the months of January, February, March, April, November and December of the year 2000 and January and February of the year 2001. A gas meter was used to monitor the energy consumption e, where

e = [e(1) e(2) . . . e(Ne)]

(5.1)

and e (i) [i=1......Ne] is the total gas consumption recorded at the ith time step. Ne is the total number of samples. Therefore, the input Qin is given by

Qin(j) = (e(j+1) Â­ e(j))/ 

(5.2)

where  is the sample interval. First, an order filter is used to convert Qin(j) obtained
42

from equation (4.2) into a continuous signal.

Qin(j) =  Qin(j-1) + (1-  )Qin(j)
where  is determined by the heating equipment parameters.

(5.3)

The other two inputs, TO and Qsol, were monitored regularly by a metrological station next to the laboratory. The other group of experimental data was obtained for a residential building located in Markham, Ontario, Canada. The building is a single detached house with three level, including basement, ground floor and second floor. Each level is divided into zones. Multiple sensors are used to monitor the air temperature in each zone and their algebraic average was treated as the representative measurement of the room temperature. It is assumed that each zone has the same floor area; the building air temperature, Tavg, is represented by the algebraic average of the air temperature in all zones in all the three level. The sampling interval is 5 minutes. The time for ON and OFF states of the furnace is recorded. This data is a discrete signal. First, an order filter is used to convert this discrete signal into a continuous signal. This continuous signal is multiplied by the furnace capacity to compute the actual energy consumed by the furnace system, Qin [17]. The exterior temperature is measured with two sensors. TO is represented by the algebraic average of the two exterior temperature measurements. The third input, Qsol, was monitored by the metrological station, in the University of Toronto, in Mississauga, Ontario, Canada. This weather station is operated by the department of geography. CNR1 net radiometer is used for the measurement of net radiation at the earth's surface [19]. The experiment is conducted from December 2007 to April 2009. The testing will focus on two parts. The first part is designed to test the improvement of accuracy and robustness in the physical-rule based ANFIS model. We are going to use
43

less data in a certain range of distribution for training and more data in a wider range of distribution for testing in the same month. Then the groups of data in other months will be tested with the three performance measures. The experimental data in Canada is also used to test the physical-rule based ANFIS model.

2 5. 5.2 Model

Accuracy Improvement by Physical-Rule Based ANFIS

The physical-rule based ANFIS structure shown in Fig. 11 is simpler than conventional ANFIS structure in Fig. 8. It has 8 nodes in layer 2 and has less connection between layer 1 and layer 2 and between layer 2 and layer 3. In physical-rule based model, the nodes are divided into two parts, so that the output of layer 3 depends on

 w'
j

j

which depends

on four variables rather than eight variables in the conventional structure. The overall output in Eq. (4.5) is linear in the consequent parameters a'i, b'i, c'i, d'i, r'1i and r'2i, where w'1i and w'2i represent the relational normalized firing strength in the positive energy group and the negative energy group respectively. Since in the forward pass of the hybrid learning algorithm, node outputs go forward until layer 4 and the consequent parameters are identified by the least-squares method [18], The unknown parameter vector  is a 24 Ã 1 matrix. However, in conventional model,  is a 40 Ã 1 matrix. In the same condition and with the same number of training data pairs, in physical-rule based structure, there are 24 parameters need to be identified compared with 40 parameters in conventional structure. Therefore, physical-rule based structure will have more optimal parameters if the same data is used for training these two networks, in additional, the physical-rule based model will have better performance in indoor temperature prediction. In Fig. 13, this has been identified by using 4900 pairs of data in January 2001 from EU CRAFT project [18] as testing data when 3000 pairs of the experimental data in January 2001 from the same project was used for training (Table 2).
44

Table 2: Training and Checking Data Set for Accuracy Data length Training points Testing points Total points ANFIS model Jan. 2001 3000 4900 7900 Physical-rule based ANFIS model Jan. 2001 3000 4900 7900

Three performance measures which are mentioned in chapter 1 are used in evaluating the performance of proposed model and conventional model. They are given mathematically as follows [19, 20]:

(5.3)

(5.4)

(5.5) where m is the length of measured data matrix, yi is the measured indoor temperature,
^ is the predicted indoor temperature, y is the measured indoor temperature array, and y

y is the mean of the measured indoor temperature.
Table 3 gives an evidence of good estimation performance of proposed physical-rule based ANFIS model compared with conventional ANFIS model. Table 3: RMES, MRE, and R2 in Different Models (1) Physical-rule Based ANFIS model Conventional ANFIS model RMES 0.0850 0.2402
45

MRE 0.0517 0.7071

R2 0.9679 0.9679

Fig. 13: Comparison of ANFIS Prediction Output and Physical-Rule Based ANFIS Prediction Outpu

46

3 Robustness 5. 5.3
Besides accuracy, robustness as another essential feature in estimation models is discussed in this section. The process of pursuing a robust estimating model is the process of looking for optimal parameters of the network. Thus, the representative data need to be used in training data. However, in reality the representative training data may be hard to collect, due to the limitation in time, space, technique, and so on. In this case, the limitation discussed in section 3.2 limits the robustness of conventional ANFIS models in estimating. The reason of gaps between estimated indoor temperature and measured indoor temperature is that the estimated network parameters only satisfy the data pairs inside the range of training data distribution, but does not have a good performance outside the range of training data distribution. Physical-rule based ANFIS model resolve this problem by changing the network structure of the conventional ANFIS model. Fig. 14 shows a good performance in temperature estimating compared with Fig.10. In conventional ANFIS model, there are 16 rules. For example, a rule can be generated as follow: IF TO is "high", Qsol is "high" and Qin is "high", THEN Tavg is "low". However, when TO, Qsol, Qin are "high" the Tavg would not be "low" in logic, some other elements, such as humidity or ventilation, may causes Tavg "low". Therefore, if this rule is used to train the network, the network will not represent a correct relationship between the collected inputs and the output, and then the robustness of the estimator will be influenced. In the physical-rule based ANFIS model, the structure is separated into two parts and the
47

relevant inputs are combined under considering physical rules. In this case, the defined fuzzy rules will be more sensitive and the estimated parameters and weights will be more general in a wider range, due to the amount of inputs in every rule is reduced and the rule will be more general. For example, in physical-rule base ANFIS model, there is a rule: Rule 1: IF Qsol is "high" and Qin is "high", THEN Tavg = a1'x1 + b1'x2 + r11', where a1', b1' , and r11' are the consequent parameters in Rule 1. This rule only has two inputs compared with rules in conventional ANFIS model and it is more general because it can replace two rules as follow in conventional ANFIS model: Rule 2: IF Qsol is "high" and Qin is "high" and TO is "high" and Tavg is "high" THEN Tavg = a1x1 + b1x2 + c1x3 + d1x4 + r1 Rule 3: IF Qsol is "high" and Qin is "high" and TO is "low" and Tavg is "high" THEN Tavg =

a2x1 + b2x2 + c2x3 + d2x4 + r2
Consequent parameters a1, b1, c1, d1, r1 or a2, b2, c2, d2, r2 make Rule 2 and Rule 3 more specific than the consequent parameters in Rule 1. In Rule 2 and Rule 3, there are two more inputs which are x3 and x4 compared Rule 1. When Qsol and Qin are "high", Rule 1 represent all the situations not regarding inputs TO and Tavg, however, Rule 2 and Rule 3 represent a more specific situations which consider the inputs TO and Tavg . Therefore, Rule 1 can be used in more situations and its corresponding consequent parameters are more robust. Although the training data is in a limited range of distribution, the trained network also can be used with the data pairs outside the training data range, due to the robust consequent parameters. In Table 4, the robustness is also measured and physicalrule based ANFIS model also have a better performance than conventional ANFIS model in estimation. Thus, the physical-rule based model resolved the problem of robustness in
48

conventional ANFIS model.

Fig. 14: Comparison of Experimental Output and Physical-Rule Based ANFI Output in February 2001 Table 4: RMES, MRE, and R2 in Different Models (2) RMES Physical-Rule Based ANFIS model Conventional ANFIS model 0.0850 0.2402 MRE 0.0517 0.7071 R2 0.9679 0.9679

Table 5: Training and Checking Data Set for Robustness
Training Points Jan. 2001 Data length 7900 Testing Points Feb. 2001 Jan. 2000 Feb. 2000 Mar. 2000 Apr. 2000 Dec. 2000 7900 7900 7900 7900 7900 7900

To test the robustness of the physical-rule based model, more testing data has been used in this thesis. The comparison conducted between physical-rule based ANFIS and conventional ANFIS is based on training the prediction model with data from the same
49

building and during the same time period. For fair comparison, physical-rule based ANFIS design parameters are optimized in terms of number of training epochs the same as conventional ANFIS system. This approach is employed to test the robustness of the models. Six different sections of the experimental data (Table 5) obtained from the laboratory heating system were selected as different test data sets. The performance measures RMSE, MRE, and R2 are calculated and tabulated in Table 6 - 8. In Table 6, physical-rule based model has lower Root Mean Square Error than conventional ANFIS model, it means the physical-rule based ANFIS model has smaller average error in predicted values than conventional ANFIS model. Table 7 present that the largest error in the physical-rule based ANFIS prediction is still smaller than conventional model. It also show that the values of the physical-rule based ANFIS model's goodness of fit are more close to 1 compared with conventional ANFIS model in the most cases, which means the predicted indoor temperature tend to align more accurately along the model curve than the predict value from the conventional model. Therefore, the results show that the physical-rule based ANFIS model improved the robustness of conventional model. Table 6: RMSE in Different Models
RMSE (C) Conventional ANFIS model Physical-rule based ANFIS model 2000-01 0.5542 0.0454 2000-02 0.23188 0.0305 2000-03 0.7092 0.0594 2000-04 0.5671 0.0454 2000-12 0.5308 0.0456 2001-02 0.1229 0.0224

Table 7: MRE in Different Models
MRE (C) Conventional ANFIS model Physical-rule based ANFIS model 2000-01 1.1720 0.4880 2000-02 1.0492 0.0917 2000-03 2.4143 0.5742 2000-04 1.7921 0.4881 2000-12 1.4698 0.4336 2001-02 2.6145 0.1153

Table 8: R2 in Different Models
R2 (C) Conventional ANFIS model Physical-rule based ANFIS model 2000-01 1.8505 0.9839 2000-02 0.9956 0.9662 2000-03 1.1231 0.9910 2000-04 1.4301 0.9839 2000-12 1.6243 0.9515 2001-02 3.6165 0.9723

50

4 Regional Feature 5. 5.4
From the previous experiments, good performance of physical-rule based ANFIS model in accuracy and robustness were demonstrated. Since both of the training data and the testing data are from the same project in Milan, Italy, it is insufficient to prove that the model is generally applicable in other places with good performance in accuracy and robustness. In this section, the other data from Canada is used to evaluate the physicalrule based ANFIS model. A group of data in Canada from October 2008 to April 2009 is used in identification of good performance in accuracy and robustness. 1000 pairs of data were used in network training and the other 1000 pairs of data were used in checking. The estimation performance can be seen in Fig. 15. From Table 9 it can be seen that the physical-rule based ANFIS still has a very good performance in different region and different time periods. Thus, the performance of the proposed physical-rule based model is not limited to region and time. Table 9: RMES, MRE, and R2 in Different Models (3) RMES Physical-Rule based ANFIS model Conventional ANFIS model 0.0045 0.0187 MRE 0.0219 0.663 R2 0.9426 0.9064

51

Fig. Fig.1 15: Experimental Output and Conventional ANFIS Output Comparison in Canad

50

Chapter 6 Rule Based Application of Physicalhysical-R ANFIS Sensor
ANFIS based control, being a relatively new control technology, employs a prediction model. The absence of practical methods for estimating average air temperature in a built environment is filled by an inferential sensor model, based on ANFIS model, in the conventional heating system controlled by open-loop control technology.

6.1 Conventional Heat Exchanger Control
The constant set-point controller is used in conventional heat exchanger control; the supply water temperature set-point is fixed at a constant level specified during commissioning. This is one of the most commonly used heat exchanger controller because of its simplicity. However, it cannot be satisfied by using the constant set-point controller while an adaptive heating load is needed in practice for keeping indoor temperature to comfortable thermal level. The adaptive set-point controller controls the heating load to the heat exchanger through controlling the valve. The required flow rate of hot water from the heat source depends on required heating load, water temperature in secondary loop, and heating transfer rate (Fig. 2).

(6.1) where  is the heat transfer rate of the heat provide unit, m and Ts are the water flow rate and temperature at hot-fluid outlet, M and Tss are the hot water flow rate and temperature
51

at hot-fluid inlet, and Tsr and Tr are the water temperatures at hot fluid inlet and cold-fluid inlet. Two parameters are used to define the performance of the heating systems: overall performance of the heating system and a measure of the thermal comfort in the zone [19]. A comfort range is defined as ref = [Tmin, Tmax]. The total energy consumption (E) in secondary loop is normalized to the total energy supplied to heat exchanger when the setpoint is constant.

e = 100% * E / E o
A measure of the overall performance of the heating system is given by

(6.2)

 e =

(1 - e) + w  1 + w

(6.3)

where w is a weighting constant, which determines the importance of thermal comfort in assessing the overall performance. It should be noted that the larger the value of overall performance, the higher is the overall performance of the heating system [20].

6.2 Adaptive Set-Point Heat Exchanger Control
The supply water temperature set-point in secondary loop is varied in inverse proportion to a moving average of the external environment in a certain time interval. However, the adaptive set-point cannot be varied frequently, due to the profile of the control system. The temperature set-point changing time point is determined by estimating the time when instantaneous indoor air temperature equals the average indoor temperature in one day. The performance of this proposed control scheme strongly depends on the accuracy and robustness of temperature prediction. The energy cost depends on the accuracy of indoor temperature prediction and also the robustness will impact control signals to the valve. Any mistake in distributed heating system may cause energy waste and/or discomfort due to overheating or underheating. Thus, a robust indoor temperature predictor will provide more accurate and stable control signals and avoid overshot signals to the set-point
52

control scheme in distributed heating system. To look for a suitable set-point of supplied water temperature in every interval in the test period, indoor temperature comfort is considered first, and then, energy efficiency. Liao's simplified physical model [17] and the proposed physical-rule based ANFIS model is used in calculating optimal required energy. This optimal set-point needed to satisfy the system has the lowest energy cost when the indoor temperature is in the comfortable range during a certain period. The optimal required heating load is

(6.4)

S.T.

where Qd is the demand heating load, Ta is the indoor air temperature. Since the indoor temperature can be predicted by proposed physical-rule base ANFIS estimator, the required heating load can be calculated. Thus, the temperature set-point can be calculated by

(6.5) Therefore, the set-point of supplied water temperature

(6.6) Then, a physical-rule based ANFIS heat exchanger control scheme (illustrated in Fig 15), which is based on physical-rule based ANFIS estimator, is proposed and its control process is simulated. The experimental data used to estimate set-point temperature is
53

obtained from the laboratory heating system monitored in [18]. In the proposed control scheme, the temperature estimator predicts the optimal set-point temperature of the hot water in the secondary loop and the time when optimal set-point is changed. The thermal comfortable range in test period is between 18 Â°C and 21 Â°C in the simulation and indoor air temperature is estimated by using physical-rule based adaptive neuro-fuzzy based inferential sensor model. In Fig. 16, the supplied hot water temperature in the secondary loop is also sensed and the corresponding control signals are generated in heat exchanger operation module, which includes a PID controller, then the signals are sent to the heat exchanger. In this case, the supplied hot water temperature can follow the set-point temperature by controlling the flow rate of the hot water from combined heat and power.

54

Energy Consumption Calculation

Temperature Set-point Estimator

Heat Exchanger Operation Control

Heat Exchanger

Solar Radiation

External Temperature

Water Temperature Sensor

Fig. 16: Adaptive Set-Point Heat Exchanger Control Scheme

In this scheme, the set-point changes twice a day at the 7.58th hour and the 18.67th hour when the indoor air temperature equals to average air temperature of the day. Fig. 17 shows a good performance of adaptive set-point in controlling indoor air temperature in thermal comfortable range. Comparing to constant set-point control heating, the indoor air temperature controlled by adaptive set-points satisfy the desired comfortable temperature range which is between 18 Â°C and 21 Â°C .

55

Fig. 17: Thermal Comfort Performances of Two Types of Control

Fig. 18: Impacts of Heat Exchanger Control The proposed adaptive set-point heat exchanger control scheme has a very good performance in maximizing the energy efficiency whilst providing sufficient thermal
56

comfort. Also, Liao's simplified physical model for estimation of air temperature is based on the same variables. Therefore, the estimated average air temperature by proposed model can deduce the optimal set-point of supplied hot water temperature in the secondary loop. Although the heating source of the proposed scheme in this thesis is a heat exchanger not a boiler, they are both hot-water space heating systems. The level of thermal comfort is given by the ratio of the time duration, when thermal comfort ( Ti ) is non-zero, to the time period (t1-t0) over which the comfort is to be assessed [7]:
t1 1    Ti  dt ) t1 - t 0 t 0

 i = 100%  (1 -

(6.7)

The overall comfort ratio is the value of i when t1 - t0 cover the entire heating period. Fig. 18 shows the adaptive set-point temperature control fulfill the indoor thermal comfort requirement. At the same time, the energy efficiency is also higher than constant set-point control. The performance of constant set-point controller is far below that of the adaptive set-point controller, the reasons for the poor performance are as follows: Once commissioned the set-point is fixed for the entire test period. Â· If too high a value of the set-point is selected, more energy will be consumed and the room temperature is more frequently above the upper level of the desired range, resulting in lower overall performance Â· If too low a value for the set-point is selected, the benefit of lower energy consumption is at the cost of significant discomfort because the room temperature is more frequently below the lower level of the desired range. Consequently the overall performance remains low.

57

Chapter 7 Conclusion and Future Work
7.1 Conclusion of the Thesis Work
This research investigated the design and development of a physical-rule based ANFIS model for prediction and explored its application in building automation. The advantages of the physical-rule based ANFIS in inferential control demonstrate that it can improve the control of the heat exchanger in buildings, reduce energy consumption and improving the indoor environment quality. The following conclusions can be drawn based on the research results presented in this thesis: In this study, the physical-rule based ANFIS model is proposed and its performance is compared to conventional ANFIS model in indoor temperature estimating. The proposed physical-rule ANFIS model can be trained with a small amount of training data and perform estimation better than conventional ANFIS model. The physical-rule based ANFIS model was theoretically analyzed in structure identification and learning algorithms. From the theoretical respect, the size of parameters vector is reduced in physical-rule based ANFIS model, so that with the same amount training data, the parameters in the network are more optimal, additionally, both accuracy and robustness in indoor temperature estimation are improved. Previous experimental data studies are analyzed to identify the theoretical analysis. After testing the experimental data, accuracy and robustness studies have been carried out to investigate the issue of the physical-rule based model performance by using three
58

performance measures (RMSE, RMS, and R2). The values of the three performance measures show the physical-rule based ANFIS model performs better than conventional ANFIS model in all the experimental tests during different testing periods and regions. The theoretical analysis of the improvements in accuracy and robustness in physical-rule based ANFIS model is identified by these experiments. The physical-rule based ANFIS model was proposed for use in controlling heat exchangers in district heating systems. An adaptive set-point heat exchanger control scheme was proposed. Simulation work was conducted and the set-point heat exchanger control scheme which used the physical-rule based ANFIS model for estimating indoor temperature had a better performance in keeping a comfortable thermal level and energy efficiency compared with conventional constant set-point control.

7.2 Future Work
A number of future research directions naturally grow out of the work reported in this thesis. Prototyping: The proposed inferential sensor and inferential control schemes is simulated on the computer by a certain parameters. However, in practical control systems, there will be many uncertain elements may influent the control performance. Thus, the developed control technology should be implemented in hardware prototypes for test in laboratory and collecting the relevant data to improve our proposed control scheme. Applicability of the proposed model in other areas: since designing the neuro-fuzzy networks by physical rules can improve the sensitivity and the robustness of conventional ANFIS estimation model, the proposed model will be extended to different areas including building automation, intelligent automobile control, and even in finance or economics. For example, the structure of the network of the ANFIS model used in
59

finance can be designed by using some economic rules to reduce the influence from other elements.

60

Appendix A
List of Publications Journal Publications
Liang Huang, Zaiyi Liao, Hua Ge, & Lian Zhao, Physical rules based adaptive neurofuzzy inferential sensor model for predicting the indoor temperature in heating system. Advantage Material Research, ICEEP 2012: Electrical Power & Energy Systems; ISSN: 16628985

Conference Publications
Liang Huang, Zaiyi Liao (2011); A neuro-fuzzy based adaptive set-point heating exchanger control scheme in district heating system. The 7th International Symposium on Heating, Vetilation and Air Conditioning; Shanghai, China Liang Huang, Zaiyi Liao, and Lian Zhao (2012); GA-BP Neural Network based inferential sensor in adaptive set-point heat exchanger in district heating system. ICBSE 2012: International Conference on Building Science and Engineering; Tokyo, Japan.

Articles Submitted to refereed journals
Liang Huang, Zaiyi Liao, Lian Zhao (2012), Physical rules based Adaptive neuro-fuzzy inferential sensor model for predicting the indoor temperature in heating systems; International Journal of Distributed Sensor Networks.

61

Appendix B
Nomenclature
yi
^ y

the measured indoor temperature in layer i the predicted indoor temperature the measured indoor temperature array the mean of the measured indoor temperature

y y

the heating transfer rate of the heat exchanger

the water flow rate at hot-fluid inlet Ts the temperature at hot-fluid outlet the hot water flow rate at hot-fluid inlet Tss Tsr Tr ref Tmin, Tmax the temperature at hot-fluid inlet the water temperatures at hot-fluid inlet the water temperatures at cold-fluid inlet the indoor comfort range the minimum temperature of indoor comfort range the maximum temperature of indoor comfort range

62

E Eo

the total energy consumption in secondary loop the normalized to the total energy supplied to heat exchanger the measure of the overall performance in the heating system the weighting constant the linguistic values defined by fuzzy sets on certain universe of discourse

 d
W A1, A2, B

Ol,i O'l,i

the output of the ith node in lay l in conventional ANFIS model the output of the ith node in lay l in physical-rule based ANFIS model

a, b, c
ÂµA

the parameters of triangular-shaped function

the membership function the known functions of x the parameter to be optimized

Jn

n E ( )
Tm(i) Tavg Tavg' x y

the overall error objective function the heat transfer from the hot water to the radiator shell the estimated average air temperature in the building the delayed average air temperature as model input in buildings the input to hybrid neuro-fuzzy model the output of hybrid neuro-fuzzy model
63

i

the firing strength of degree of certainty of ith rule

i ai, bi, ci, di, ri

the normalized firing strength of ith rule the consequent parameter set of the node in conventional ANFIS model

a'i, b'i, c'i, d'i, r'1i, r'2i

the consequent parameter set of the node in physical-rule based ANFIS model

e e (i) Ne


the gas meter was used to monitor the energy consumption the total gas consumption recorded at the ith time step the total number of samples. the sample interval the exterior temperature the solar radiation the energy consumption by the heating plant the output function of node i in different models the demand heating load the indoor air temperature overall comfort ratio

TO Qsol Qin fi, f'i Qd Ta i

64

Bibliography
[1] L. Bernstein, Climate Change 2007: Synthesis Report, Intergovernmental Panel on Climate Change (IPCC, 2001), 4th Assessment Report, Cambridge University Press, 2008. [2] J. T. Houghton, Climate Change 2011: the Scientific Basics, Intergovernmental Panel on Climate Change (IPCC, 2001), 3rd Assessment Report, Cambridge University Press, 2001. [3] G.A. Montague, A.J. Morris and M.T. Tham, "Enhancing bioprocess operability with generic software sensors". Journal of Biotechnology, vol.25, pp.183-201, 1992. [4] M.T. Tham, G. A. Montague and A.J. Morris, "Soft-sensing: A solution to the problem of measurement delays". Chemical Engineering Research and Design, vol. 67, no. 6, pp. 547-554, 1989. [5] Zadeh L. "Outline of a new approach to the analysis of complex systems and decision processes". IEEE Transactions on System, Man, and Cybernetics, SMC-3, pp. 28-44, 1973. [6] Z. Liao and A. L. Dexter, "An inferential control scheme for optimizing the operation of boilers in multi-zone heating systems". Building Services Engineering Research and Technology, vol. 24, no. 4, pp. 245-256, 2003 [7] Z. Liao and A. L. Dexter, "An experimental study on an inferential control scheme for optimising the control of boilers in multi-zone heating systems". Energy and Building, vol.37, no. 1, pp. 55-63, 2005 [8] S.Jassar, Z.Liao, and L.Zhao. "Adaptive neuro-fuzzy based inferential sensor model for estimating the average air temperature in space heating systems". Building and Environment, vol. 44, no. 8, pp.1609-1616, 2009.
65

[9] Liang Huang, Zaiyi Liao. "A neuro-fuzzy based adaptive set-point heating exchanger control scheme in district heating system". Proceedings of the 7th International Symposium on Heating, Vetilation and Air Conditioning, 2011 [10] Dexter AL, Trewhella DW. "Building control systems: fuzzy rule-based approach to performance assessment". Building Services Research and Technology, vol. 11, pp. 115Â­ 24, 1993. [11] Dounis AI, Santamouris MJ, Lefas CC . "Building visual comfort control with fuzzy reasoning". Energy Conservation and Management, vol. 34, 17Â­28,1993. [12] Dounis AI, Bruant M, Santamouris M, Guaraccino G, Michel P. "Comparison of conventional and fuzzy control of indoor air quality in buildings". Journal of Intelligent and Fuzzy Systems, vol. 4, pp. 131Â­40, 1996. [13] Angelov P. "A fuzzy approach to building thermal systems optimization". Proceedings of the eighth IFSA World congress, vol. 2, pp. 423Â­426, 1999. [14] Kreider JF. "Neural networks applied to building energy studies". Workshop on parameter identification. Ispra: JRC Ispra, pp. 243Â­251, 1995. [15] Hepeworth SJ, Arthur AL . "Adaptive neural control with stable learning". Mathematics and Computers in Simulation. vol. 41, 39Â­51, 2000. [16] Soleimani-Moheseni M, Thomas B, Fahlen Per. "Estimation of operative temperature in buildings using artificial neural networks". Energy and Buildings, vol. 38, pp. 635Â­40, 2006. [17] Liao Z, Dexter AL. "A simplified physical model for estimating the average air temperature in multi-zone heating systems". Building and Environment, vol.39, no. 9, pp. 1009-18, 2004.
66

[18] BRE, ICITE. Controller efficiency improvement for commercial and industrial gas and oil fired boilers, A CRAFT project, Contract JOE-CT98Â­7010; 1999Â­2001. [19] Abdennour A. "Long horizon neuro-fuzzy predictor for MPEG video traffic". J King Saud University, vol. 18, pp. 161Â­80, 2005. [20] Alotaibi FD, Ali AA, TETRA outdoor large-scale received signal prediction model in Riyadh city-Saudi Arabia. Proceedings of the IEEE wireless and microwave technology conference, pp. 1Â­5, 2006. [21] Fundamental of heat exchanger design By: Shah, Ramesh K.; Sekuli, Dusan P. Â© John Wiley & Sons, 2003. [22] Z. Liao, A. L. Dexter, "The potential for energy saving in heating systems through improving boiler controls". Energy and Buildings vol. 36, no.3, pp. 261-271, 2003. [23] F. Rosenblatt. "Principles of neuro dynamics: perceptrons and the theory of brain mechanisms". Spartan, New York 1962. [24] S.E. Fahlman and C.Lebiere. "The cascade-correlation learning architecture". Advances in neural information processing systems II. Morgan Kaufmann, San Mateo, CA, 1990. [25] D. B. Parker. Learning logic. Invention Reprot S81-64, File 1, Office of Technology Licensing, Standford University, October 1982. [26] D. E. Rumelhart, G. E. Hinton, and R.J. Williams. "Learning internal representations by error progagation". Parallel distributed processing: explorations in the microstructure of cognition, vol. 1, chapter 8, pp. 318-362. MIT press, Cambrdge, MA., 1986. [27] P. Werbos. Beyond regression: New tools for prediction and analysis in the behavioral science. PhD thesis, Harvard University, 1974.
67

[28] R.P. Lippmann. An introduction to computing with neural networks. IEEE Acoustics, Speech, Signal Processing Magazine, vol. 4, no. 2, pp. 4-22, 1987. [29] "Fuzzy Logic and Its Uses", Suprise 96 Journal, vol 2. Available from URL:http://www.doc.ic.ac.uk/~nd/surprise_96/journal/vol2/jp6/article2.html [30] L. A. Zadeh, "Fezzy sets," Information and Control, vol. 8, no. 3, pp.338-353, 1965. [31] C.T. Lin and C.S.G. Lee, "Neural-networks-based fuzzy logic contcrol and decision system," IEEE Transactions on Computers, vol. 40, no. 12, pp. 1320-1366, 1991. [32] L.A.Zadeh, Toward a Theory of Fuzzy Systems, Man and Cybernetics, vol. 3, no.1, pp. 28-44, 1973. [33] E.H. Mamdani and S. Assilian, "An experiment in linguistic synthesis with a fuzzy logic controller," International Journal of Man-Machine Studies, vol. 7, no. 1, pp.1-13, 1975. [34] M. Sugeno and G.T. Kang, "Structure identification of fuzzy model," Fuzzy Sets and Systems, vol.28, no. 1, pp. 15-33, 1988. [35] T. Takagi and M. Sugeno, "Derivation of fuzzy control rules from human operator's control action". IFAC Fuzzy Information, 1983. [36] C. Stergiou and D. Siganos. "Neural Networks", Suprise 96 Journal, vol 4. Available from URL:http://www.doc.ic.ac.uk/~nd/surprise_96/journal/vol4/cs11/report.html [37] Ana Carolina Letichevsky, Marley Maria Bernardes Rebuzzi Vellasco, and Ricardo Tanscheit. "A fuzzy decision support system for meta-evaluation a new approach and case study performed in Brazil". Ensaio: aval.pol.pÃºbl.Educ. vol.15 no.56, Rio de Janeiro July/Sept. 2007

68

[38] J.S.R. jang, C.T. Sun, and E.Mizutani. "Neuro-fuzzy and Soft Computing: A Computational Approach to Learning and Machine Intelligence", Prentice-Hall, 1997. [39] Y.C. Lee, C. H. Hwang, and Y.P. Shih, "A combined approach to fuzzy model identification". IEEE Transactions on Systems, Man and Cybernetics, vol. 3, no. 2, pp.190-198, 1994. [40] H.R. Berenji and P. Khedkar, "Learning and tuning fuzzy logic controllers through reinforcements". IEEE Transactions on Neural Networks, vol. 3, no. 5, pp. 724-740, 1992. [41] C.F. Juang and C. T. Lin. "An online self constructing neural fuzzy inference network and its applications". IEEE Transactions on Fuzzy Sets, vol. 6, no.1, pp. 12-32, 1998. [42] D. Nauck, F. Klawonn, and R. Kruse,.Foundations of Neuro-Fuzzy Systems, Wiley, 1997. [43] S. Tano, T. Oyama, and T. Arnould, "Deep combination of fuzzy inference and neural network in fuzzy inference". Fuzzy Sets and Systems, vol. 82, no. 2, pp. 151-160, 1996. [44] J. Kim and N. Kasabov, "HyFIS: Adaptive neuro-fuzzy inference system and their application to nonlinear synamical systems". Neural Networks, vol. 12, no. 9, pp.13011319,1999. [45] N.Kasabov and Q. Song, "DENFIS: Dynamic evolving neural-fuzzy inference system and their application for time-series prediction". IEEE Transactions on Fuzzy Systems, vol. 10, no. 2, pp. 144-154, 2002. [46] J.S.R. Jang and C. T. Sun, "Neuro-fuzzy modeling and control". Proceedings of IEEE, vol. 83, no. 3, pp. 378-406, 1995.
69

[47] A. Abraham and B. Nath, "Optimal design of neural nets using hybrid algorithms". Proceedings of 6th Pacific Rim International Conference on Artificial Intelligence, pp. 510-520, 2000. [48] A. Valishevsky, "Adaptive learning algorithm for hybrid fuzzy system". Proceedings of the International Scientific Conference Traditions and Innovations in Sustainable Development of Society, pp. 281-288, 2002. [49] S. Altug, M.Y. Chow, and H.J. Trussell, "Fuzzy inference systems implemented on neural architectures for motor". IEEE Tranactions on Industrial Electroics, vol. 46, no.6, pp. 1069-1079, 1999. [50] M. Sugeno and G. T. Kang. "Structure identification of fuzzy model". Fuzzy Sets and Systems, vol. 28, pp. 15-33, 1988. [51] T. Takagi and M. Sugeno. "Derivation of fuzzy conrol rules from human operator's control actions". Proceedings of the IFAC Symposium on Fuzzy Information, Knowledge Representation and Decision Analysis, pp. 55-60, July 1983. [52] T. Takagi and M. Sugeno. "Fuzzy identification of systems and its applications to modeling and control". IEEE Transactions on Systems, Man, and Cybernetics, vol. 15, pp. 116-132, 1985. [53] Jang JSR, Sun C. "Functional equivalence between radial basis function networks and fuzzy inference systems". IEEE Trans Neural Networks, vol. 4, pp. 156Â­159, 1993. [54] E. Czogala and J. Leski, Fuzzy and Neuro-Fuzzy Inteligent Systems, Physica-Verlag, 2000. [55] M. Sugeno and T. Yasukawa, "A fuzzy-logic-based approach to qualitative modeling," IEEE Transactions on Fuzzy Systems, vol. 1, no. 1, pp. 7-31, 1994.
70

[56] B. Kosko. Neural networks and fuzzy systems: a dynamical systems approach, Prentice Hall, Upper Saddle River, NJ, 1991 [57] C.-C. Lee. "Fuzzy logic in control systems: fuzzy logic controller-part 1". IEEE Transactions on Systems, Man, and Cybernetics, vol.20, no. 2, pp. 404-418, 1990. [58] C.-C. Lee. "Fuzzy logic in control systems: fuzzy logic controller-part 2". IEEE Transactions on Systems, Man, and Cybernetics, vol.20, no. 2, pp. 419-435, 1990. [59] M. Sugeno, editor. "Industrial applications of fuzzy control". Elsevier Science. 1985. [60] D. E. Rumelhart, G. E. Hinton, and R. J. Williams. Learning internal representations by error propagation. In D. E. Rumelhart and James L. McChelland, editor, Parallel distributed processing: explorations in the microstructure of cognition, vol 1, chapter 8, pp. 318-362. MIT Press, Cambridge, MA., 1986. [61] W. T. Miller III, R. S. Sutton, and P. J. Werbos, editor. Neural networks control, MIT Press, 1990. [62] D. Psaltis, A. Sideris, and A. Yamamura. "A multilayered neural network controller". IEEE Control Systems Magazine, vol.8, no. 4, pp. 17-21, 1988. [63] P. J. Werbos. "An overview of neural networks for control". IEEE control Systems Magazine, vol. 11, no. 1, pp. 40-41, 1991. [64] Ching-Huang Lee. "Hybrid learning algorithm for fuzzy neuro system". Proceedings of IEEE Fuzzy Systems International Conference. vol.2, pp. 691-696, 2004.

71


