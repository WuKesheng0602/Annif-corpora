·

~

MODELING AND FOULING DETECTION OF THE AIRCRAFT ENVIRONMENTAL CONTROL SYSTEM HEAT EXCHANGER

· S2'5~
~""()/

by

Shoaib Ahmed Shah, B.Eng. (Aerospace) Ryerson University, 2007

A Thesis presented to Ryerson University in partial fulfillment of the requirement for the degree of Master of Applied Science in the Program of Aerospace Engineering

Toronto, Ontario, Canada, 2009

© Shoaib Ahmed Shah, 2009

I'ROPERTY OF RYERSON UNIVERSITY LIBRARY

I hereby declare that I am the sole author of this thesis.
I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of

scholarly research.

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in

total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

r

ii

Borrower's page
Ryerson University requires the signatures of all persons using or photocopying this thesis. Please sign below, and give address and date.

iii

Acknowledgements

The author would like to express his gratitude to his supervisor, Dr. Guangjun Liu and co-supervisor, Dr. David Greatrix for their support and guidance during the process of this work. The author would also like to thank Lan Shang for her comments, beneficial discussions, and general laboratory support during the course of this work. Special thanks are given to the author's colleagues Dale Molenaar, Kevin Mi and Mark Lun Howe for their contributions which have enhanced this thesis. It has been a privilege to work with Primoz Cresnik on the project, he provided useful insight and support on experimental procedures and his efforts in building the experimental test rig have made the author's work possible. The author would also like to thank Dr. Bozena Todorow, Dr. Katrin Rholf and Dr. Marcos Escobar for their support, understanding, and taking the author under their supervision when most were unable to, thus making this thesis a reality. Warm thanks go to Dr. Jeff Yokota for the time taken to listen to the author's views and for his support, encouragement, and friendship. The author is also grateful to his friends and colleagues for their support and for the love and support given by his family, whose guidance and wisdom have aided him without fail. Finally, the author tha~ks a special friend, mentor and companion, Kristelle Ramsingh, who has brought a new level of love, patience, and understanding into his life and whose efforts are never in vain and forever appreciated. You always kept me motivated.

· lV

Abstract
A VALIDA TED MODELING AND FOULING DETECTION STUDY OF THE AIRCRAFT ENVIRONMENTAL CONTROL SYSTEM HEAT EXCHANGER

© Shoaib Ahmed Shah, 2009
Master of Applied Science in the Program of Aerospace Engineering, Ryerson University

A Diagnostics, Prognostics and Health Management (DPHM) solution is proposed for the operation of the aircraft environmental control system (ECS) cross flow heat exchanger. In particular, a dynamic model is derived and applied to on-line detection of fouling in the aircraft ECS crossflow plate-and-fin heat exchanger. Predictive maintenance actions can be scheduled as per the on-line detected fouling status of the specific component, supporting condition based maintenance. The heat exchanger model is of the lumped state space form, where the state consists of the core and fin temperatures. The ratios of the thermal capacities of the masses of the two air streams to the thermal capacity of the core itself are neglected, and the model parameters' functional dependency on mass flow rate and influence of secondary surfaces (fins) are taken into account in order to accurately describe the dynamic behavior of the heat exchanger. Since the parameters are functions of mass flow rate, as are the core and fin temperatures, and the model is nonlinear in the state variables, an extended Kalman filtering (EKF) algorithm is applied to estimate the state dependent parameters. The effectiveness of the model's formulation is supported by the quality of the corresponding predicted results, which in tum are validated via experimental tests.

v

TABLE OF CONTENTS
ACKNOWLEDGEMENTS .................................................................................................... IV ABSTRACT ...................................................................................................... .................. V TABLE OF CONTENTS ....................................................................................................... VI LIST OF FIGURES ............................................................................................................. IX LIST OF TABLES ............................................................................................................ XVII NOMENCLATURE ......................................................................................................... XVIII PREFACE ..................................................................................................................... XXIII PART I HEAT EXCHANGER MODELING ...................................................................................................... 1
1
INTRODUCTION ........................................................ ............................... .. .... ..... ................................ 2

CHAPTER

1.1 1.2 1.3 1.4
1.4.1 1.4.2
CHAPTER2

Literature Review ...... ....... ....... ...... .............. .... ....... ...... ...... ..................... ... ............. .... ... ... ............... ...... 2 Aircraft Environmental Control System ................................................................................................. 9 System Dynamic Simulation Model And Configuration. ............... ......... ......................................... ..... 16 Test Facility ......................................................................................................................................... 17
Test rig design .............................. ........ .... ........ ............................................................................ ........ ........ ... 17 Main components ............................................................................................................................................ 18

IIEAT EXCHANGER MODEL .................................................................................................... .. 21
Introduction ......................................................................................................................................... 21 Model Development ................................. ... ................................ .................................... .... ......... ........ 2 3 Heat Transfer Model Derivation ......................................................................................................... 26 Lumped Parameter Approach .............................................................................................................. 28 Model Governing Equations ........................ ..... .... ... .......................... ...... ... ... .. ................. ..... ... ... ...... .. 31
Plate (smooth) model ...................................................................................................................................... 31 Plate-fin (finned) model ....... .... .... .................... ..... ... .............. ...... ...... .... ..... ... .. .... ... .... ............. ..... .. ....... ... .. ... . 33

2.1 2.2

2.3
2.4 2.5
2.5.1 2.5.2

2.6
2.6.1 2.6.2

State Space Representation ............ ... .... ..... ....... ... ............................ .. ................................... ............... 34
Plate (smooth) model .. ........... ....................... .. ... .............. ... .. .. ............. ........................................................... 34 Plate-fin (finned) model ... ......... .. ... .................. ....................................... .. ........................ .............................. 40

2.7 2.8
2.8.1 2.8.2 2.8.3

Further Improvements ....................................................................................................................... .. 43 Simulation Results And Discussion ............................................... ................................................... .... 46
Effect of fluid temperature placement ......... ... ... ...... ................................ ..... .. ... .............................................. 52 Effect of the number of lumps ......................................................................................................................... 57 Effect of the heat capacity rate ratio ....... ........ ... ...... ..... ... ........ ....... ..... ............ ..... ... .... ........... ... ...................... 65

2.9 2.10
2.1 0.1 2.1 0.2 2.1 0.3

Further Simulation Studies On Aircraft ECS Heat Exchanger ..... .. .......... ..................... ................. .. ... 69 Experimental Results And Comparisons ........ ... ...... ....... .. .............................. ..... ........... ............ .. ..... ... 79
Operating conditions of the experiment ................. ....... .... ......................................................... ....... .............. 79 Steady state results .......................................................................................................................................... 81 Transient behaviour results ..................................................................... ......... ............ .. ... ... ...... ................ ..... 85

vi

PART 2

HEAT EXCHANGER FOULING AND FOULING DETECTION .................................................. 90
INTRODUCTION ................................................................................................................................ 91

CHAPTER 3

3.1 3.2
3 .2.1 3 .2.2 3 .2.3
CHAPTER 4

Literature Review ................................................................................................................................. 91 Fault Detection And Fault Diagnosis ......... ....................................................................................... 100
Analytic symptom generation ....................................................................................................................... 101 Heuristic symptom generation ......................... ..... .......... ........... ... ..... .. .................... .. ..................... .............. . 103 Basic fault models and terminologies .............................................................................. .......... .................... 103
HEAT EXCHANGER FOULING ......................................................................................................... 108

4.1 4.2

Basic Principles Of Fouling .................................................................................. .............. .............. 108 Types Of Fouling ............................................................................................................................... 111 Fouling Mechanisms ....................................... ................................................................................... 112
Initiation ................. .... ............ ......... .............. ... .. ... ...................... ..... ....... .... ............... ...... ............................. 114 Transport ....................................................................................................................................................... 114 Attachment .................................................................................................................................................... 117 Removal ........................................................................................................................................................ 119 Aging .................................................................................................... .. ...................................................... 120

4.3
4.3.1 4.3 .2 4.3.3 4.3.4 4.3.5

4.4
4.5
4.5.1 4.5.2 4.5.3

Fouling Models .................. ................................................................................................................ 121 Conditions Influencing Fouling ......................................................................................................... 122
Operating Parameters .................................................................................................................................... 122 Heat Exchanger Parameters ........................................................................ ................................................... 123 Fluid properties ........ ... ................ .... ..................... ..... ..................................................... .... .............. .... .. ....... 124

4.6 4.7
4.7.1 4.7.2
CHAPTER 5

Relating Heat Exchanger Fouling To The Aircraft ECS.................................................................... 124 Heat Exchanger Fouling Experimental Results .............................. .. ................................................. 126
Closed heat exchanger fouling test. .................................................................................................. ...... ....... 129 Open heat exchanger fouling test .................................................................................................................. 138
FOULING DETECTION IN THE AIRCRAFT Ecs HEAT EXCHANGER .................................................. 150

5.1 5.2 5.3 5.4 5.5 5. 6 5. 7
CHAPTER 6

Heat Exchanger Model Setup ........................................................................................................... . 151 Parameter Estimation ................. ... .................................................................................................... 153 Tuning Of The EKF Algorithm .. .......... ...... ............................... .... ........ ..... ............ .. ............... ... .... .... 159 Fouling Model .............................................................................................................................. ..... 170 Cusum Test ........................................................................................................................................ 172 Simulation Studies Of Fouling Detection. .......................................................................................... 173 Experimental And Model Simulation Results ..................................................................................... 177
CONCLUSION ................................................................................................................................. 186

6.1 6.2

Concluding Remarks .......................................................................................................................... 186 Future Work.................................................................................................................................... ... 189

REFERENCES ................................................................................................................................................... 190 APPENDIX .......................................................................................................................................................... 198

vii

Appendix 1: MATLAB Subroutines For Heat Exchanger Models .................................................................... 198
1. Plate (smooth) model (linearized) ............................................................................................................................. 198

2. Plate-fin (finned) model (linearized) ......................................................................................................................... 204

Appendix II: Matlab Subroutines For Heat Exchanger Fouling And Fouling Detection Models .................... 224
1. Plate-fin (finned) model (nonlinear) .......................................................................................................................... 224

viii

LIST OF FIGURES

FIGURE 1 ECS BLOCK DIAGRAM ................................................................................................................................ I 0 FIGURE 2 TYPICAL ECS CONFIGURATION AND LAYOUT ........................................................................................... 11 FIGURE 3 ECS INDICATING EXPANSION AND COMPRESSION STAGES IN

rizh AND rizc AIR STREAMS ........................ l2

FIGURE 4 T -S DIAGRAMS FOR BLEED AND RAM AIR STREAMS ................................................................................... l3 FIGURE 5 RAM AIR-AND-BYPASS CONTROL CONFIGURATION .............................................. ..................................... 16 FIGURE 6 RAM-AIR AND BYPASS TEMPERATURE CONTROL TEST FIG CONFIGURATION .......................................... 18 FIGURE 7 PICTURE OF THE TEST RIG ......................................................................................................................... 18 FIGURE 8 AIR TO AIR PLATE-FIN HEAT EXCHANGER MANUFACTURED BY BELL INTERCOOLERS·.......................... 19 FIGURE 9 PLATE-FIN CROSS FLOW HEAT EXCHANGERS ...................... ..................................................................... 22 FIGURE 11 SCHEMA TIC MODEL CONSIDERED FOR ANALYSIS ................................................................................... 24 FIGURE 12 SCHEMATIC OF A CROSSFLOW HEAT EXCHANGER ILLUSTRATING THE DIFFERENTIAL ELEMENT TO BE MODELED ........................................................................................................................................................... 25 FIGURE 13 DIAGRAM OF INFINITELY SMALL HEAT-EXCHANGE ELEMENT (RAM AIR CHANNEL) ............................. 26 FIGURE 14 DIAGRAM OF INFINITELY SMALL HEAT-EXCHANGE ELEMENT (BLEED AIR CHANNEL) .......................... 27 FIGURE 15 TYPICAL HEAT EXCHANGER PLATE-FIN DIFFERENTIAL ELEMENTARY SURFACE .................................. 31 FIGURE 16 PLATE MODEL DIFFERENTIAL ELEMENTARY SURFACE REPRESENTATION .. .......................................... 32 FIGURE 17 PLATE-FIN MODEL DIFFERENTIAL ELEMENTARY SURFACE REPRESENTATION ...................................... 34 FIGURE 18 A) THREE DIMENSIONAL PLATE DIVISION INTO Nx
X

NY LUMPS ......................... .................................... 35
X

FIGURE 19 A) THREE DIMENSIONAL PLATE-FIN DIVISION INTO Nx

NY LUMPS ...................................................... .41

FIGURE 20 PLATE- FIN MODEL DIFFERENTIAL ELEMENTARY SURFACE REPRESENTATION ................................... .44 FIGURE 21 A) THREE DIMENSIONAL PLATE-FIN DIVISION INTO Nx x

NY LUMPS ...................................................... .45

FIGURE 22 STEADY STATE HEAT EXCHANGER CORE TEMPERATURE DISTRIBUTION- FINNED MODEL. ................. .4 7 FIGURE 23 STEADY STATE HEAT EXCHANGER COLD RAM AIR FINS= 20, TEMPERATURE DISTRIBUTION- FINNED MODEL ............................................................................................................................................................... 48 FIGURE 24 STEADY STATE HEAT EXCHANGER HOT BLEED AIR FINS= 20, TEMPERATURE DISTRIBUTION- FINNED MODEL ..................................................................................... .......................................................................... 48 FIGURE 25 STEADY STATE HEAT EXCHANGER COLD RAM AIR FINS TEMPERATURE CONTOUR PLOTS- FINNED MODEL ............................................................................................................................................................... 49 FIGURE 26 STEADY STATE HEAT EXCHANGER HOT BLEED AIR FINS TEMPERATURE CONTOUR PLOTS- FINNED MODEL ............................................................................................................................................................... 50 FIGURE 27 STEADY STATE HEAT EXCHANGER CORE TEMPERATURE DISTRIBUTION- SMOOTH MODEL ................ 51 FIGURE 28 EFFECT OF ; ON THE STEADY STATE HEAT EXCHANGER HOT BLEED AIR OUTLET TEMPERATURE RESPONSE-FINNED MODEL,Nxy= 15 ............................................................................................................... 53 FIGURE 29 EFFECT OF ; ON THE STEADY STATE HEAT EXCHANGER COLD RAM AIR OUTLET TEMPERATURE RESPONSE-FINNED MODEL,Nxy= 15 ............................................................................................................... 54

ix

FIGURE 30 EFFECT OF; ON THE STEADY STATE HEAT EXCHANGER COLD RAM AIR OUTLET TEMPERATURE RESPONSE-FINNED MODEL,Nxr= 15 .......................................................................................... , .................... 55 FIGURE 31 EFFECT OF; ON THE STEADY STATE HEAT EXCHANGER HOT BLEED AIR OUTLET TEMPERATURE RESPONSE- FINNED MODEL, Nxr= 15 ............................................................................. , ................................. 55 FIGURE 32 HOT BLEED AIR OUTLET TEMPERATURE RESPONSE TO UNIT STEP HOT FLUID INLET TEMPERATUREFINNEDMODEL,Nxr=5 ......................................... , ........................................................................................... 56 FIGURE 33 HOT BLEED AIR OUTLET TEMPERATURE RESPONSE TO UNIT STEP COLD FLUID INLET TEMPERATUREFINNED MODEL,Nxr= 5 ...................................................................................................................................... 51 FIGURE 34 EFFECT OF THE NUMBER OF LUMPED SECTIONS ON STEADY STATE OUTLET TEMPERATURE,;= 0 ...... 58 FIGURE 35 EFFECT OF THE NUMBER OF LUMPED SECTIONS ON STEADY STATE HOT FLUID OUTLET TEMPERATURE -FINNED MODEL;= 0 .............................................................................................................................. , ........ 59 FIGURE 36 EFFECT OF THE NUMBER OF LUMPED SECTIONS ON STEADY STATE COLD FLUID OUTLET TEMPERATURE-FINNED MODEL, ;=0 ............................................................................................................. 60 FIGURE 37 EFFECT OF THE NUMBER OF LUMPED SECTIONS ON STEADY STATE HOT FLUID OUTLET TEMPERATURE -SMOOTH MODEL,;= 0 .................................................................................................................................... 60 FIGURE 38 EFFECT OF THE NUMBER OF LUMPED SECTIONS TO OUTLET TEMPERATURE RESPONSE FOR AN INPUT HOT FLUID TEMPERATURE DISTURBANCE- SMOOTH MODEL,;= 0 ................................................................ 62 FIGURE 39 EFFECT OF THE NUMBER OF LUMPED SECTIONS TO OUTLET TEMPERATURE RESPONSE FOR AN INPUT COLD FLUID TEMPERATURE DISTURBANCE- SMOOTH MODEL,;= 0 ............................................................... 62 FIGURE 40 EFFECT OF THE NUMBER OF LUMPED SECTIONS TO OUTLET TEMPERATURE RESPONSE FOR AN INPUT HOT FLUID TEMPERATURE DISTURBANCE- FINNED MODEL, ; = 0 .................................................................. 63 FIGURE 41 EFFECT OF THE NUMBER OF LUMPED SECTIONS TO OUTLET TEMPERATURE RESPONSE FOR AN INPUT COLD FLUID TEMPERATURE DISTURBANCE- FINNED MODEL,;= 0 ................................................................ 63 FIGURE 42 EFFECT OF THE NTU AND RON HOT FLUID OUTLET TEMPERATURE RESPONSE- SMOOTH MODEL, ; =

0 ......................................................................................................................................................................... 64
FIGURE 43 EFFECT OF THE NTU AND RON HOT FLUID OUTLET TEMPERATURE RESPONSE- FINNED MODEL, ; = 0

........................................................................................................................................................................... 65
FIGURE 44 HOT FLUID OUTLET TEMPERATURE RESPONSE TO A 40°F HOT FLUID STEP INPUT INCREASE, ; = 0, R-1

........................................................................................................................................................................... 66
FIGURE 45 HOT FLUID OUTLET TEMPERATURE RESPONSE TO A 40°F HOT FLUID STEP INPUT INCREASE, ; = 0, R> 1

........................................................................................................................................................................... 66
FIGURE 46 BLEED AIR OUTLET TEMPERATURE RESPONSES TO VARYING HOT FLUID TEMPERATURE STEP INPUT INCREASES- SMOOTH MODEL,;= 0 .................................................................................................................. 68 FIGURE 47 BLEED AIR OUTLET TEMPERATURE RESPONSES TO VARYING HOT FLUID TEMPERATURE STEP INPUT INCREASES- FINNED MODEL,;= 0 .................................................................................................................... 68 FIGURE 48 SUMMARY OF SIMULATION STUDY ........................................................................................................... 70

X

FIGURE 49 MISSION POINT A3 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE I- EQUAL FLOW RATES ...................................................................................................................................................... 72 FIGURE 50 MISSION POINT A3 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE I- FIXED OUTLET TEMPERATURE ............................................................................................. ........................................ 72 FIGURE 51 MISSION POINT A3 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE II- EQUAL FLOW RATES ...................................................................................................................................................... 73 FIGURE 52 MISSION POINT A3 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE II- FIXED OUTLET TEMPERATURE ..................................................................................................................................... 73 FIGURE 53 MISSION POINT Al 0 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE I- EQUAL FLOW RATES ...................................................................................................................................................... 74 FIGURE 54 MISSION POINT Al 0 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE I- FIXED OUTLET TEMPERATURE ..................................................................................................................................... 75 FIGURE 55 MISSION POINT AlO BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE II- EQUAL FLOW RATES ...................................................................................................................................................... 75 FIGURE 56 MISSION POINT Al 0 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE II- FIXED OUTLET TEMPERATURE ..................................................................................................................................... 76 FIGURE 57 MISSION POINT A25 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE I- EQUAL FLOW RATES ...................................................................................................................................................... 76 FIGURE 58 MISSION POINT A25 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE I- FIXED OUTLET TEMPERATURE ..................................................................................................................................... 77 FIGURE 59 MISSION POINT A25 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE II- EQUAL FLOW RATES ...................................................................................................................................................... 77 FIGURE 60 MISSION POINT A25 BLEED AIR OUTLET TEMPERATURE RESPONSE TO INLET DISTURBANCE II- FIXED OUTLET TEMPERATURE ..................................................................................................................................... 78 FIGURE 61 SIMULINK SCRIPT FOR HEAT EXCHANGER EXPERIMENT ........................................................................ 80 FIGURE 62 BLEED AIR OUTLET TEMPERATURE READING- TEST A .......................................................................... 82 FIGURE 63 BLEED AIR MASS FLOW RATE READING- TEST A ....................................................................................82 FIGURE 64 RAM AIR FLOW RATE READING-TEST

A................................................................................................. 82

FIGURE 65 BLEED AIR OUTLET TEMPERATURE READING- TEST B .......................................................................... 83 FIGURE 66 BLEED AIR FLOW RATE READING- TEST B .............................................................................................. 83 FIGURE 67 RAM AIR FLOW RATE READING- TEST B ................................................................................................. 83 FIGURE 68 EFFECT OF; ON STEADY STATE BLEED AIR OUTLET TEMPERATURE; EXPERIMENTAL RESPONSES (THICK SOLID CURVES) ...................................................................................................................................... 85 FIGURE 69 BLEED AIR FLOW RATE READING- TEST D ............................................................................................. 86 FIGURE 70 RAM AIR FLOW RATE READING- TEST D ................................................................................................. 86 FIGURE 71 BLEED AIR INLET TEMPERATURE READING- TEST D ............................................................................. 86 FIGURE 72 BLEED AIR OUTLET TEMPERATURE READING- TEST D .......................................................................... 87

xi

FIGURE 73 BLEED AIR OUTLET TEMPERATURE RESPONSE TO 40°F STEP HOT FLUID INLET TEMPERATUREFINNED MODEL TEST A .............................................................................. ....................................................... 88 FIGURE 7 4 EFFECT OF THE NTU AND RON BLEED AIR OUTLET TEMPERATURE RESPONSE - FINNED MODEL; EXPERIMENTAL RESPONSES (THICK SOLID CURVES) ........................................................................................ 89 FIGURE 75 EFFECT OF THE NTU AND RON BLEED AIR OUTLET TEMPERATURE RESPONSE- SMOOTH MODEL; EXPERIMENTAL RESPONSES (THICK SOLID CURVES) ........................................................................................ 89 FIGURE 76 EVOLUTION OF MAINTENANCE CONCEPTS ............................................................................................. 92 FIGURE 77 THE OSA-CBM FUNCTIONAL OVERVIEW .............................................................................................. 94 FIGURE 78 SCHEMATIC OF A TYPICAL MODERN AIR CONDITIONING MACHINE FOR AIRCRAFT ECS ..................... 95 FIGURE 79 DATA PROCESSING METHODOLOGY FOR THE AIRCRAFT HEAT EXCHANGER ......................................... 97 FIGURE 80 OVERALL SCHEME OF KNOWLEDGE-BASED FAULT DETECTION AND DIAGNOSIS ................................. 98 FIGURE 81 FAULT DETECTION METHODS FLOW DIAGRAM ..................................................................................... 100 FIGURE 82 SCHEME FOR THE MODEL-BASED FAULT DETECTION ........................................................................... 101 FIGURE 83 SCHEME FOR FAULT DETECTION WITH SIGNAL MODELS ..................................................................... 102 FIGURE 84 SCHEME FOR FAULT DETECTION WITH PROCESS MODELS ................................................................... 103 FIGURE 85 SCHEME OF A PROCESS INFLUENCED BY FAULTS F: (A) OPEN LOOP; (B) CLOSED LOOP ..................... 104 FIGURE 86 TIME BEHAVIOUR OF: (A) OPEN LOOP; (B) CLOSED LOOP PROCESSES .................................................. 104 FIGURE 87 BASIC FAULT MODELS: (A) ADDITIVE; (B) MULTIPLICATIVE ................................................................ 105 FIGURE 88 MATHEMATICAL PROCESS MODELS ...................................................................................................... 106 FIGURE 89 IDEALIZED FOULING CURVES ................................................................................................................ 112 FIGURE 90 AN IDEALIZED 'PRACTICAL' FOULING CURVE ...................................................................................... 113 FIGURE 91 CHARACTERISTIC FOULING CURVES ..................................................................................................... 122 FIGURE 92 AIRCRAFT CABIN HEAT EXCHANGER .................................................................................................... 124 FIGURE 93 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS -CLOSED TEST A .............................................................................................................................................. 130 FIGURE 94 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TEST A ........................................................................................................................ 130 FIGURE 95 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS -CLOSED TEST B .............................................................................................................................................. 131 FIGURE 96 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TEST B ......................................................................................................................... 131 FIGURE 97 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS -CLOSED TEST C .............................................................................................................................................. 131 FIGURE 98 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TEST C ........................................................................................................................ 132 FIGURE 99 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS -CLOSED TEST D .............................................................................................................................................. 132

xii

FIGURE 100 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TEST D ........................................................................................................................ 132 FIGURE 101 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS -CLOSED TESTE .................................................................. .... ................................................... 133 FIGURE

102 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING

CONDITIONS- CLOSED TEST E ......................................................................................................................... 133 FIGURE

103 RAM AIR TEMPERATURE DROP COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TESTS

A-E ..................................................................................................................................................................133
FIGURE 104 BLEED AIR TEMPERATURE DROP COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TESTS

A-E ...................................................................................................................................................................134
FIGURE 105 RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TEST F .............................................................................................................................................................. 134 FIGURE 106 BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS -CLOSED TESTF .............................................................................................................................................................. 135 FIGURE 107 RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TEST G ............................................................................................................................................................. 135 FIGURE 108 BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS -CLOSED TEST G ............................................................................................................................................................. 135 FIGURE 109 RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TESTH .................................... ......................................................................................................................... 136 FIGURE 110 BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS-CLOSED TESTH ............................................................................................................................................................. 136 FIGURE

111 RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED

TEST 1 ............................................................................................................................................................... 136 FIGURE 112 BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- CLOSED TEST 1 ............................................................................................................................................................... 137 FIGURE

113 PRESSURE DROP ACROSS THE HEAT EXCHANGER ............................................................................... 137

FIGURE 114 SIMULINKSCRIPT FOR EXPERIMENTAL OPEN TEST (HEAT EXCHANGER PLUS BYPASS) ..................... 139 FIGURE

115 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING

CONDITIONS- OPEN TEST A ............................................................................................................................ 140 FIGURE 116 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST A ............................................................................................................................ 140 FIGURE 117 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST B ............................................................................................................................ 141 FIGURE 118 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST B ............................................................................................................................ 141

xiii

FIGURE

119 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING

CONDITIONS-OPEN TEST C ............................................................................................................................ 141 FIGURE

120 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING

CONDITIONS- OPEN TEST C ............................................................................................................................ 142 FIGURE 121 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST D ............................................................................................................................ 142 FIGURE

122 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING

CONDITIONS- OPEN TEST D ............................................................................................................................ 142 FIGURE

123 STEADY STATE RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING

CONDITIONS-OPEN TESTE ............................................................................................................................ 143 FIGURE

124 STEADY STATE BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING

CONDITIONS- OPEN TEST E ..................................................................................................... ....................... 143 FIGURE 125 RAM AIR TEMPERATURE DROP COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TESTS A-

E ....................................................................................................................................................................... 143
FIGURE

126 BLEED AIR TEMPERATURE DROP COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TESTS

A-E ..................................................................................................................................................................144
FIGURE 127 RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST

F ....................................................................................................................................................................... 144
FIGURE 128 BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST F .............................................................................................................................................................. 145 FIGURE 129 RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST

G ......................................................................................................................................................................145
FIGURE

130 BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN

TESTG ............................................................................................................................................................. 145 FIGURE 131 RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST

H ......................................................................................................................................................................146
FIGURE 132 BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS -QPEN TESTH ...................................................................................................................................................... ....... 146 FIGURE

133 RAM AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST

1........................................................................................................................................................................ 146
FIGURE 134 BLEED AIR TEMPERATURE RESPONSE COMPARISON OF CLEAN AND FOULING CONDITIONS- OPEN TEST 1 ............................................................................................................................................................... 147 FIGURE FIGURE FIGURE

135 THE CHANGE IN BLEED AIR SIDE HEAT TRANSFER COEFFICIENT WITH FOULING ..... ......... ................ 148 136 THE CHANGE IN RAM AIR SIDE HEAT TRANSFER COEFFICIENT WITH FOULING ................................. 148 137 THE CHANGE IN OVERALL HEAT TRANSFER COEFFICIENT WITH FOULING ........................................ 149

FIGURE 138 THE CHANGE IN TOTAL THERMAL RESISTANCE WITH FOULING ......................................................... 149 FIGURE 139 THE CHANGE IN FOULING THERMAL RESISTANCE WITH FOULING ..................................................... 149

xiv

FIGURE 140 MASS FLOW RATES FOR RAM AND BLEED AIR CHANNELS ................................................................... 160 FIGURE 141 INLET RAM AIR AND BLEED TEMPERATURES ....................................................................................... 160 FIGURE 142 BLEED AIR AND RAM AIR OUTLET TEMPERATURES ................ ............................................................. 161 FIGURE 143 INLET RAM AIR AND BLEED TEMPERATURES BASED ON OPERATING POINT A25 ............................... 161 FIGURE 144 MASS FLOW RATES FOR RAM AND BLEED AIR CHANNELS BASED ON OPERATING POINT A25 ............ 162 FIGURE 145 BLEED AIR AND RAM AIR OUTLET TEMPERATURES BASED ON OPERATING POINT A25 ..................... 162 FIGURE 146 CLEAN SIMULATION TEST: RK = 0. 0001 .......... ...................................................................................... 164 FIGURE 147 CLEAN SIMULATION TEST: RK = 0.1 ..................................................................................................... 164 FIGURE 148 CLEAN SIMULATION TEST: RK = 100 .................................................................................................... 165 FIGURE 149 CLEAN SIMULATION TEST: FIGURE 150 CLEAN SIMULATION TEST:

Q (T) SUCH THAT ex Q (T) SUCH THAT ex

AND AND AND

e8 ARE 0.1 AND 10-3 ..·.··..·······.·.······.·....·........ 166 e8 ARE 0.1 AND 10-5 ....................................... 166 e8 ARE 0.1 AND 10-8 .··.·....·............................. 167

FIGURE 151 CLEAN SIMULATION TEST: Q (T) SUCH THAT

ex

FIGURE 152 MODEL GENERA TED TRAJECTORIES FOR THE ESTIMATED PARAMETERS .......................................... 168 FIGURE 153 MODEL GENERATION SHOWING THE TRUE AND ESTIMATED BLEED AIR OUTLET TEMPERATURE .... 169 FIGURE 154 MODEL GENERATION SHOWING THE TRUE AND ESTIMATE RAM AND BLEED PARAMETERS .............. 170 FIGURE 155 CHANGE IN HEAT TRANSFER COEFFICIENTS WITH FOULING OVER TIME ........................................... 171 FIGURE 156 ESTIMATED PARAMETERS AND CUSUM VALUES FOR A · (T) (---)AND

c· (T) (-)FOR A 3-HOUR

MODEL SIMULATION WITH SIMILAR LEVELS OF FOULING ............................................................................. 174 FIGURE 157 ESTIMATED BLEED AIR OUTLET TEMPERATURE FOR A 3-HOUR MODEL SIMULATION WITH SIMILAR LEVELS OF FOULING ........................................................................................................................................ 174 FIGURE 158 ESTIMATED PARAMETERS AND CUSUM VALUES FOR A· (T) (---)AND

c· (T) (-)FOR A 6-HOUR

MODEL SIMULATION WITH SIMILAR LEVELS OF FOULING ............................................................................. 175 FIGURE 159 ESTIMATED BLEED AIR OUTLET TEMPERATURE FOR A 3-HOUR MODEL SIMULATION WITH SIMILAR LEVELS OF FOULING ........................................................................................................................................ 175 FIGURE 160 ESTIMATED PARAMETERS AND CUSUMVALUES FORA· (T) (---)AND c· (T) (-) FORA3-HOUR MODEL SIMULATION WITH DIFFERENT LEVELS OF FOULING ......................................................................... 176 FIGURE 161 ESTIMATED BLEED AIR OUTLET TEMPERATURE FOR A 3-HOUR MODEL SIMULATION WITH DIFFERENT LEVELS OF FOULING ........................................................................................................................................ 177 FIGURE 162 EXPERIMENTAL TESTE BLEED AIR FLOW RATE SIGNAL. .................................................................... 178 FIGURE 163 EXPERIMENTAL TEST E RAM AIR FLOW RATE SIGNAL ........................................................................ 178 FIGURE 164 EXPERIMENTAL TESTE BLEED AIR INLET TEMPERATURE SIGNAL .................................................... 179 FIGURE 165 EXPERIMENTAL GENERA TED PARAMETERS AND CUSUM VA LUES FOR A· (T) (- - -)AND C · (T) (-) FOR TESTE ...................................................................................................................................................... 179 FIGURE 166 EXPERIMENTAL BLEED AIR OUTLET TEMPERATURE FOR TEST E ....................................................... 180 FIGURE 167 MODEL SIMULATION GENERATED PARAMETERS AND CUSUMVALUES FORA· (T) (---)AND

c· (T)

(-)FOR TESTE ............................................................................................................................................... 181

XV

FIGURE 168 MODEL BLEED AIR OUTLET TEMPERATURE FOR TEST E .................................................................... 181 FIGURE 169 EXPERIMENTAL TEST B RAM AIR FLOW RATE SIGNAL ........................................................................ 182 FIGURE FIGURE FIGURE

170 EXPERIMENTAL TEST B BLEED AIR FLOW RATE SIGNAL ..................................................................... 182 171 EXPERIMENTAL TEST B BLEED AIR INLET TEMPERATURE SIGNAL
.................................................... 183

172 EXPERIMENTAL GENERA TED PARAMETERS AND CUSUM VA LUES FOR A· (T) (- --)AND C · (T) (-)

FOR TEST B ......................................................................................................................................................183 FIGURE FIGURE

173 EXPERIMENTAL BLEED AIR OUTLET TEMPERATURE FOR TEST B ....................................................... 184 174 MODEL SIMULATION GENERATED PARAMETERS AND CUSUMVALUES FORA· (T) (---)AND c* (T)

(-)FOR TEST B ............................................................................................................................................... 184 FIGURE

175 MODEL BLEED AIR OUTLET TEMPERATURE FOR TESTE .................................................................... 185

xvi

LIST OF TABLES

TABLE 1 ECS MISSION OPERATING POINTS ............................................................................................................... 15 TABLE 2 MAIN COMPONENTS OF THE TEST RIG ......................................................................................................... 20 TABLE 3 MISSION OPERATING POINTS SELECTED FOR SIMULATION STUDY ............................................................. 69 TABLE 4 SUMMARY OF SIMULATION RESULTS ........................................................................................................... 78 TABLE 5 OPERATING CONDITIONS AND EXPERIMENTAL DATA FOR A HEAT EXCHANGER TEST A .......................... 81 TABLE 6 OPERATING CONDITIONS AND EXPERIMENTAL DATA FOR A HEAT EXCHANGER TEST B ........................... 81 TABLE 7 OPERATING CONDITIONS AND EXPERIMENTAL DATA FOR A HEAT EXCHANGER TEST C .......................... 84 TABLE 8 OPERATING CONDITIONS AND EXPERIMENTAL DATA FOR A HEAT EXCHANGER TEST D .......................... 84 TABLE 9 STEADY STATE HEAT EXCHANGER SIMULATION RESULTS COMPARISON TO EXPERIMENTAL RESULTS ... 84 TABLE 10 OPERATING CONDITIONS AND EXPERIMENTAL DATA FOR A HEAT EXCHANGER TEST D ........................ 85 TABLE 11 OPERATING CONDITIONS AND EXPERIMENTAL DATA FOR A HEAT EXCHANGER TEST A ........................ 87 TABLE 12 OPERATING CONDITIONS AND EXPERIMENTAL DATA FOR A HEAT EXCHANGER TEST 8 ......................... 87 TABLE 13 OPERATING CONDITIONS AND EXPERIMENTAL DATA FOR A HEAT EXCHANGER TEST C ............. ........... 87 TABLE 141NLET AND FLOW CONDITIONS FOR FOULING TESTS ............................................................ ................... 128 TABLE 15 FOULING LEVELS AND DESCRIPTION FOR EXPERIMENTAL INVESTIGATION .......................................... 129 TABLE 16 VECTOR/MATRIX DIMENSION OF VARIABLES .......................................................................................... 157 TABLE 17 MISSION OPERATING POINTS FOR CLEAN HEAT EXCHANGER TUNING ................................................... 159 TABLE 18 FINAL ADJUSTED TUNING PARAMETERS FOR THE EKF MODEL ............................................................. 169

xvii

NOMENCLATURE

bulk fluid concentration
Cff

flow correction factor specific heat of fluid error covariance constant 1 error covariance constant 2 adjacent fluid concentration saturation concentration measurement noise covariance constant state noise process covariance constant parameter noise process covariance constant

Cp CpJ Cp2
Cs Csat

dp

diameter of particle continuous time step friction factor nonlinear state function gravitational constant nonlinear measurement function local heat transfer coefficient; altitude Colburn factor discrete time; thermal conductivity attachment rate constant local mass flow rate local thermal capacity asymptotic mass per unit area

dt

f f
g g

h
j

k

k,

m

q

heat flux continuous time friction velocity bulk fluid velocity thermoporetic velocity measurement white random noise independent Gaussian white noise xviii

t

X

x-coordinate; solid (wall) thickness discretized length in x-direction deposit thickness y-coordinate discretized length in y-direction z-coordinate state space system matrix Arrhenius constant inlet cross-sectional area heat transfer surface area heat exchanger output averaging matrix state space input matrix Biot number state space output matrix state space feed- forward matrix Brownian diffusivity effective oxygen diffusivity activation energy Faults pressure recovery factor Graetz number total heat transfer coefficient Kalman gain integral gain mass transfer coefficient proportional gain transport coefficient. aircraft speed total mass flow rate thermal capacity number of lumps; noise Nusselts number pressure; error covariance matrix Pectlet number xix

Llx
Xj

y Lly

z
A
A'

A; As AVE

B Bi

c
D DB Dt
E F
Free

Gz H

K Ki Km Kp Kt
M

M
MwCw
N Nu
p

Pe

Pr
Q

Prandtl number heat transfer rate; process noise covariance matrix universal gas constant; heat capacity rate ratio Reynolds number fouling thermal resistance measurement covariance matrix total thermal resistance sticking probability Schmidt number Sherwood number Stanton number temperature state space input vector; Overall heat transfer coefficient state vector; total length of heat exchanger in x-direction state space output; total length of heat exchanger in y-direction

R

Re Rt
Rk

Rr
Sp

Sc
Sh St T

u
X y

Greek letters

inlet flow rate perturbation fractional particle removal efficiency weighted parameter function deposit strength fluid viscosity internal process parameter vector local deposition flux removal flux fluid shear stress
}'

specific heat ratio; inlet temperature perturbation internal process parameters

@

Subscripts

1

cold ram air
XX

2

hot bleed air ambient total bleed air bypass-channel bleed air main-channel bleed air cold ram air side ram air inlet ram air outlet control valve deposh fouling state heat transfer surface fin in ram air channel heat transfer surface fin in bleed air channel hot bleed air side bleed air inlet bleed air outlet heatexchangerrovvindex

a, amb bleed bleedbypass bleedmain

c
ci co
cv

d

f
fl

f2
h

hi
ho

in
j

inlet heat exchanger column index discrete time representation load deposh operating point heat transfer surface core vvall state representation parameter representation clean conditions fouled conditions

k

load
m

o
w

x
(}
C

D

Superscript

estimated denotation values after state and error covariance prediction

+

updated values after correction

xxi

ci
co hi ho

lump ram air inlet lump ram air outlet lump bleed air inlet lump bleed air outlet lump core wall lump ram air fin surface lump bleed air fin surface

w
fl

f2
Acronyms

BIT CBM CMC DPHM
ECS

Built-In-Test Condition-Based Maintenance Central Maintenance Computers Diagnostics, Prognostics and Health Monitoring environmental control system extended Kalman filter Failure Modes and Effects Analysis Fault Tree Analysis Maintenance Steering Group Mean Time Between Failures Mean Time Between Unscheduled Removals No-Fault-Found during failure number heat transfer units Open System Architecture Reliability Centered Maintenance

EKF FMEA FTA
MSG MTBF MTBUR

NFF NTU
OSA RCM

XXll

PREFACE
There are several objectives for the research work presented in this thesis. Utilizing knowledge gained from the literature, one of the objectives of the present study is to develop an accurate dynamic model of an aircraft ECS heat exchanger which requires a comprehensive nonlinear mathematical model to accurately describe the system dynamics. It is necessary to explore the unsteady state of the thermal processes when real-time control, optimization and rational use of energy are objectives. The present analysis deals with the transient behavior of a single pass, air-to-air crossflow plate-and-fin heat exchanger. Since the thermal capacities of the masses of the two fluids (ram and bleed air) contained in the exchanger core are negligibly small relative to the thermal capacity of the core itself, then the capacity ratios of the both fluids relative to the core can be equated to zero [45]. In this thesis, a nonlinear lumped parameter model of the heat exchanger is developed. Linearizability is investigated, and a linearized statespace model is developed. The present study's improvement over previously studied lumped models is the inclusion of secondary surfaces (fins) and nonlinearities, e.g., dependency of heat transfer coefficients with flow rate. Therefore, at each lump, five differential equations will be solved, with three unknowns. The inclusion of these functional dependencies (fins and the nonlinear heat transfer coefficient) is justified by the quality of the predicted results, which in turn are validated via experimental tests. The apparent disadvantage with this model is the initial complexities and computational effort that can discourage some researchers. Despite the drawbacks, secondary surfaces are a key integrated feature of the crossflow heat exchanger, and have to be included for the model to be considered a real life representation.

The efforts of this study are a contribution towards the ongoing research at the Systems and Control Laboratory of Ryerson University on the optimal control, simulation and modeling of a bleed air temperature regulation system. Contributions from Hodal [1] and Shang [2] have led to the development of a nonlinear model for the bleed air system for simulati~n. The model is linearized for aircraft engine bleed air temperature control. Both Hodal [1] and Shang [2] developed an optimal controller of ram-airplus-bypass control configuration based on the multi-input and multi-output (MIMO) system, with emphasis on low ram-air usage. Ram air is used to cool the aircraft engine bleed air, and is scooped from the aircraft boundary layer or close to it. The air is forced through a scoop which faces into the external air flow, passed through a heat exchanger matrix, and then rejected overboard by forward motion of the aircraft. A large ram-air flow rate will increase the aircraft drag due to the resistance of the scoop, pipe work and the heat exchanger matrix, so there is an incentive to reduce this flow. A computer-controlled bleed air temperature control test rig has been designed and constructed for the experimental investigation. Temperature control, fault-tolerant control and the heat exchanger's performance are

xxiii

investigated experimentally, with the results compared to that produced by the analytical and numerical models mentioned earlier.

Part I of this thesis is to determine how important the finned surface is with regards to the smooth surface choice. Two alternative models are presented in this thesis. Both models are axially lumped, i.e., a 'lumped parameter' approach is used. One model (plate model) assumes both the fin material and wall material as having a single temperature at a given axial location. The other model (plate-fin model) takes into consideration the effect of secondary surface (fin) area and is modeled as having three different temperatures at a given axial location. The studies of both models illustrated here will compare the effect of additional fin surface area, number of lumps (sections), and the fluid temperature placement. Dynamic performance is significantly affected by both NTU values and capacitance rate ratios, and is investigated here. The bleed air outlet temperature is experimentally measured under both steady state and step input disturbances of hot inlet temperature.

Part II investigates the fouling phenomena in an aircraft ECS heat exchanger. Hence, this research will examine fouling and its problems, specifically in regards to the aircraft ECS and its operation over time. The topics of concern include basic principles of fouling, the types of fouling, fouling mechanisms and fouling models. Laboratory investigations can provide insights into fouling mechanisms and as such, provide valuable data that may be useful in formulating models of fouling. The tests for the fouling investigation are carried out using the test rig setup described in Part I. The Simulink Real-Time Workshop is utilized for this process. The pressurized air is exposed to several levels of fouling and all tests are of a non-isothermal nature. The test rig allowed for thermal performance and pressure-drop measurement. In order to demonstrate the fouling process, the heat exchanger internal tubes were lined with the foulant, and tests were carried out for each layer of foulant added. Tests were also carried out for both steady state analysis and for disturbances added to the system. The experiments for the nonisothermal conditions in the heat exchanger are performed for closed heat exchanger fouling tests and heat exchanger plus bypass fouling tests (open). The closed test is carried out with the heat exchanger linked with the ram and bleed air channels only. There is no additional trim or channel (usually required for control of temperature in the cabin) connected to any of the other channels or heat exchanger. The closed tests do not often reflect reality in terms of the ECS. A more appropriate form of testing will be defined that takes into account the fact that a fouled heat exchanger will deflect some of the oncoming air flow around it, thus reducing the airflow through the heat exchanger and, as a consequence, the heat transfer. This part of the test (open) involves the heat exchanger bleed air channel trimmed at the inlet to create a bypass, as with an actual ECS heat exchanger. A final look at the thermal resistance created from

xxiv

the foulant is also studied under steady state conditions. This will provide an indication of the damage caused by the foulant, in terms of both heat exchanger thermal performance and providing efficient ram air cooling.

The fouling concepts will then be applied to health monitoring and fault detection of aircraft ECS heat exchangers. For the fouling detection of heat exchanger processes, different methods can be applied based on the information extracted from direct measured signals, from signal models and process models. Early detection and diagnosis of process faults while the aircraft air conditioning packs are still operating in a controllable environment can help avoid abnormal event progression and reduce flight delays and cancellations. A brief look at the model-based fault detection and diagnosis methods will be discussed that are classified into two main categories: quantitative model-based methods or qualitative model-based methods. In particular, an extended Kalman filter (EKF) algorithm for parameter identification has been developed for the aircraft ECS crossflow heat exchanger having continuous dynamics and discrete-time measurements based on the literature [127]. In particular, the model is applied to on-line detection of fouling in the aircraft ECS heat exchangers. The model parameters' (i.e., the heat transfer coefficients) functional dependency on mass flow rate allows for an accurate description of the dynamic behavior of the heat exchanger. Since the parameters are functions of mass flow rate, as are the core and fin temperatures, the model is nonlinear in the states and the EKF is applied to the state estimation. The correlation equations for heat transfer coefficients for practical heat exchangers used in the industry are employed here. Measurements of the inlet and outlet temperatures and the flow rates provide model parameter estimation with the EKF algorithm. Unlike most conventional methods, fouling is detected for both steady state and transient conditions. Both experimental and simulation models are compared in the estimation of the model parameters and in the detection of fouling. The tuning of the EKF model with regards to the influence ofthe initial values ofthe Kalman filter, ofthe sampling period and of

Q(t)

will

also be studied. Finally, the CUSUM detection tool will be tested on a continuously fouled heat exchanger. By including fin geometry and empirical heat transfer correlations, the proposed fault detection method will be checked for both robustness and sensitivity to simulation parameter predictions and experimental measurements.

XXV

PART I HEAT EXCHANGER MODELING

CHAPTER I
1.1

INTRODUCTION

LITERATURE REVIEW

In the aircraft industry, the need to accomplish more with less fuel is growing. Designers focus on conventional constraints of weight, volume (space), safety, cost, environmental impact and thermodynamic optimization schemes. These schemes require the identification of mechanisms responsible for thermodynamic losses (thermal irreversibilities and frictional effects), towards finding ways to minimize entropy generation and destruc.tion of fuel exergy in all flow systems. One such system is the Aircraft Environmental Control System (ECS). The aircraft ECS is a complex thermal system that contains many components. Once the optimization and design stages of a system, like the ECS, are drawn out, the focus then goes on to the controller and the control of the system parameters. The bleed air supplied by the engine at high temperature and pressure needs to be regulated and controlled so that the aircraft systems can work efficiently. Steady state simulation on the design point does not reflect the operational characteristics of the aircraft's ECS. In recent years, the design of aircraft ECS has changed from being based on the traditional steady state models into being based on the dynamic or the combined dynamic and steady state models. The ECS must supply proper-temperature air to the cabin and to the avionics equipment within the entire performance envelope of the aircraft, and within the entire scale of external conditions of temperature and pressure.

The ECS heat exchangers are a key part of the system, requiring regulation and care. A heat exchanger's dynamical behaviour is complex, nonlinear and distributed in nature, which is typical of many process plants. Heat exchanger dynamic characteristics are prescribed by the physical laws governing mass, energy, and momentum balances. One of the complexities of simulating transient processes in a cross flow heat exchanger is more dimensions to consider. The transient characteristics of heat exchangers are governed by many factors such as inlet disturbances, thermal properties of fluids and core wall, flow pattern and fluid distribution, physical transport relations, and material properties.

More than ever before, dynamic investigation techniques are becoming widely used in control systems development, parameter implementation and the development of state estimators [3]. The use of accurate yet simple dynamic models for heat exchangers at the process design stage can facilitate process control system design. The analysis of thermal transients of heat exchangers is often kept quite simple to avoid otherwise significant computational effort, particularly when the heat exchanger is but one component of a larger thermal system. This is true particularly in control studies, where frequency domain results are desired, but also in thermodynamic system modelling where time domain results are studied. In general,

2

the dynamic behavior is gained by mathematical modeling, since experimental determination is seldom possible.

A more general approach to modeling heat exchanger operation is possible when complex, 2-D or 3-D computational models are used for predicting optimum geometry of the flow path. Such computations are carried out by means of sophisticated computational fluid dynamics (CFD) codes and enable a designer to test various geometry and flow configurations under steady flow conditions. However, their incorporation into gas dynamic simulation programs, designated for performing analysis of complex, multi-pipe systems, would not to be an effective approach. Therefore, there is a need to find intermediate solutions, which make progress in methodology without excessive numerical computations.

In the modern era, there has been an increase in the number of studies in this area due to increasing awareness about cabin environmental effects, and the occurrence of accidents arising out of dynamic imbalance in the operation of aircraft bleed air system. Since heat exchangers are the integral parts of such systems, a clear understanding of their transient behaviour is essential to impart effective control, and to take preventive measures in maintaining the safety aspect of the aircraft systems.

Thermal and hydraulic fundamentals are needed with greater accuracy for a correct and reliable design, for reducing the exergy destruction, and for preventing expensive offlines (for repairs). Problems such as start up, shut down, failure, and accidents have motivated investigations of thermal response in crossflow heat exchangers. Especially with respect to modern high-performance heat transfer units, the systematic use of automatic control devices for the accurate regulation of fluid systems in heat exchangers has stimulated a great interest in transient phenomena. Proper design of the process control system requires that the heat exchanger transient performance (response of the outlet) be predicted. In addition, its importance lies in the estimation of the mean heat transfer coefficient and the study of the response of the temperature change on the thermal stresses of the heat exchanger core and fin structure. To predict those stresses, the temperature distribution along the length of the tubes must be known as a function of time. Besides, transient testing techniques are often adopted for determining the thermal characteristics of heat exchangers. In practice, the change of parameters such as inlet temperature or mass flow rate may occur which affects the behaviour of the entire system. A change in any of these parameters creates an unsteady behaviour in the whole system. The steady state modeling approach is inadequate, as it provides no information regarding the path taken to attain the steady state. Knowledge of the approach to steady state forms the basis for the implementation of various control strategies. In some solutions, dynamic experiments are performed on the system and the results of the experiments are then compared with the

3

simulated results. The parameters of the model are then estimated by properly matching the two results. It is therefore evident that the dynamic modeling approach offers two distinct advantages over the steady state modeling approach, namely, easier identification of the parameters and knowledge of the effect of the disturbances on the process output.

The literature available in the area of thermal simulation of plate heat exchangers is vast. This includes the numerical and analytical models. Initially the plate heat exchanger thermal and flow characteristics had been studied for steady state operation, assuming plug flow inside the channel and equal flow distribution from ports to channels [4 - 7]. Heat exchangers are generally designed to meet certain performance requirements under steady operation conditions. On the other hand, study on the transient performance of the plate-and-fin heat exchangers is very limited.

Dynamic knowledge of heat exchangers is necessary for either traditional proportional-integraldifferential controller (PID) or modern controller design. The transient simulation of heat exchangers is a valid approach to obtain dynamic responses to inlet disturbances. Therefore, more and more investigations have focused attention on transient behavior of crossflow heat exchangers and various methods such as the exact analytical solutions, numerical methods (e.g., finite difference, finite element methods), and conventional transforms (e.g., Laplace transforms) are applied to conduct dynamic simulations. Due to the presence of partial derivatives, the system's governing equations either do not have exact analytical solutions or the solutions are extremely complicated [3, 8, 9]. Numerical methods, on the other hand, are popularly used [1 0 - 28], though problems involving stiffness, convergence, numerical diffusion and stability have been reported. But generally speaking, analytical methods are superior to numerical techniques in their step preserving qualities. However, the numerical method can be used for solving practically any engineering problem while analytical solutions may not be available [29]. Integral [30 - 32] and approximate methods [33] are solutions that are complex in nature. Laplace transforms involve complex domains, and operational calculus, leading to an even more difficult problem of inverting the solution from the transformed domain to the time domain. However, the choice of solution depends on the problem being approached, and a balance between computational effort, time, cost and complexity has to be reached.

In [34], an extended Kalman filter (EKF) based estimation method is applied for a lumped single plate heat exchanger. A cinematic model for counter-current systems is developed by Lakshmanan and Potter [35]. Others [36, 37] have also joined the efforts ofLakshmanan and Potter, in a bid to improve the model for dynamic simulations. Observer design [38] and Simulink models [39] are some ofthe other methods

4

developed. Due to development of modern observer theory and the convergence theory for nonlinear systems, the design of observers based on nonlinear models of heat exchangers is possible and can be used to estimate dynamic variables that cannot be measured.

Exact transient solutions of parallel-flow heat exchangers in which the capacitance of the core is negligible compared to the fluids contained in the heat exchanger is presented in [38]. These solutions are valid for both finite and infinite flow forcings. An exact analytical solution for the transient parallel flow heat exchanger for a unit increase in the inlet temperature of one of the fluids is presented by Ramie [39].The solutions given are restricted to exchangers in which the dwell or residence times of the two fluids are equal, or alternatively to exchangers in which both fluids are gases and include the effect of finite wall capacitance.

Two dimensional transient temperature distributions of core wall and both fluids are presented by Spiga and Spiga [42, 43] for using the Laplace transformation method for any externally applied variation in the primary fluid inlet temperature with both fluids unmixed and a finite wall capacity.

Gvozdenac [29] presents solutions to the energy equations governing convective heat transfer between a heat exchanger core, which is initially at a constant temperature, and a steady flow of fluids entering the exchanger at constant mass velocities. Solutions are valid in the case where fluid velocities are different or equal.

Several papers have been devoted to gas-to-gas heat exchangers [31, 44, 45]. Gvozdenac [31, 45] has presented analytical solutions of the transient response of parallel and counterflow heat exchangers and cross flow heat exchangers respectively. However, these solutions are restricted to the case where thermal capacities of the masses of two fluids contained in the exchanger are negligibly small relative to the thermal capacity of the heat exchanger core. If the thermal capacities of the masses of the two fluids contained in the exchanger core are negligibly small relative to the thermal capacity of the core itself, then the capacity ratios of the both fluids to the heat exchanger core will be equated to zero. The ratios are very small if the fluids are gases. The smallness of the capacity ratios means that the fluid transit or dwell times are small compared to the duration of the transient [45]. In many heat exchanger applications the thermal capacitance rate of one of the fluid is much larger than that of the other fluid. Condensers, evaporators, intercoolers, and pre-coolers are such examples. These can be modeled by assuming one of the fluids has an infinite capacitance rate, and consequently is always at a uniform temperature throughout

5

the exchanger. In the transient analysis, the infinite capacitance rate fluid may be modeled as having a dwell time of zero. Such models are described in [32, 9]

Recently developed in the literature [8, 3, 46, 30, 28, 15, 47, 48], the method of step response analysis provides a promising means towards solving some of the problems associated with the characterization of transient response of heat exchangers. The control of systems incorporating heat exchangers necessitates understanding the response of the latter to variations of flow rates and/or entering fluid temperatures. The analysis is mainly about the response characterization as well as the design of the necessary controls for the safe operation of exchangers under steady and transient conditions. In practice, the mass flow rate of the fluid receives disturbances with time in addition to perturbations in temperature. The transient response due to this effect is also required to be studied in order to have a complete appraisal of the dynamic performance of heat exchangers under diverse situations of operation and control.

In [8], the spatial variation of transient response of temperatures along a counter-current heat exchanger is presented for a flow rate step applied to the internal hot fluid. An approximate solution of the transient response to a flow rate step is applied using an exponential response like a first order system. Temperature transient response for a step change in temperature or flow rate using an integral method is applied by Yin and Jensen [30]. The exit fluid temperature responses are presented in [28] for a unit step increase in the entrance temperature of either of the fluids of a counter-flow heat exchanger using a finite difference method. These solutions include the effect of core thermal capacitance and are not restricted to the gas-to-gas heat exchanger, but they are approximate. The work presented in [15] investigates the transient performance of a direct-transfer, single-pass crossflow heat exchanger with finite core capacity. The solution is by a finite-difference method for step, ramp and exponential variations of hot fluid inlet temperature, and step and ramp variations in flow rates. Dynamic behaviour with excitation in inlet temperature of one or both of the fluids is extensively studied in [4 7, 48]. Roetzel and Xu an [48] carry out analysis to calculate the outlet temperature response to special and arbitrary inlet temperature and flow rate disturbances using Laplace transforms and finite difference methods. Effects of maldistribution and wall heat conduction are also discussed.

The effect of longitudinal wall conduction in a three-fluid crossflow heat exchanger is studied by Yuan and Kou [21 ], revealing a decrease in thermal performance of cross flow heat exchanger due to core conduction. However, Ansari and Moratazavi [17] show that longitudinal heat conduction can be neglected for the simulation of dynamical response of a counter-current heat exchanger since wall

6

conductance resistance is negligible in comparison with the convective resistance and the longitudinal heat conduction on the wall is small in comparison with convection for each fluid.

So far, all the analyses made for prediction of the dynamic behaviour of cross flow heat exchangers are based on the assumption of ideal plug flow. However, in reality, the flow field will have non-uniformities in the form of eddies, turbulent fluctuations and recirculating, as well as stagnant fluid zones. This presents a significant deviation from plug flow but cannot also be considered as a situation where complete longitudinal mixing is present. Das, Mishra and Sarangi [ 16] make an approximation of an axial dispersion model by assuming a Fourier-type apparent axial conduction. The thermal dispersion phenomenon in the fluid closely resembles conduction of heat with different time and space scales. The space and time scales of thermal dispersion are small compared to the dimension of the heat exchange and the time scale of convective transport. Effect of various parameters, particularly two-dimensional conduction in the wall, axial dispersion in fluids as well as their combined effect on dynamic performance of the heat exchanger, has been studied over a wide range in [ 16] by solving the convection equations by finite difference for step, ramp and exponential variation in hot fluid inlet temperature. The same authors of [16] show in [19] that the increase in axial dispersion (decrease in Pe) adversely affects the performance of the heat exchanger. The mean exit temperature of the hotter fluids increases, and there is reduction in that of the cold fluid. The difference is larger at smaller Pe, and decreases with an increase in

Pe. Practically, above Pe = 20, the effect of axial dispersion is not very significant, and the difference in
the performance is very small.

In reality, inside the channels not only pure backmixing (Fourier-type dispersion, parabolic model) occurs but also flow maldistribution (non-uniformity of flow velocity) [49]. An extensive analysis was presented on the dynamics of the single pass plate heat exchanger by Das and Roetzel [3]. In [50], flow maldistribution has been taken into account with the axial macro-dispersion plug flow model. Based on the literature it can be ascertained that the actual fluid flow in plate heat exchangers deviates from the one-dimensional plug flow. All the deviations from plug flow are mainly due to the fluid back mixing in the channel, flow maldistribution, heat leakages through gaskets and seals etc.

To increase plate heat transfer rate, one increases fluid velocity or increases surface area (e.g. fins) and a balance between friction power and heat transfer rate is what designers search for. Ideally the fin material has a high thermal conductivity to minimize temperature variations from base to tip, that is, in the limit of infinite thermal conductivity, the entire fin would be at the temperature of the base surface, thereby providing the maximum possible heat transfer enhancement. But in reality, fins represent a conductive

7

resistance to heat transfer from the original surface (plate). Nevertheless, only a few researchers study the effect of fins on heat exchanger performance. In [ 14] three different approaches (zero capacity approach, combined capacity of tube and fins, and the separate tube and fin capacities) are presented to predict transient performance of crossflow finned tube liquid/gas heat exchangers for step change in inlet temperature of hot fluid using a finite difference method while neglecting thermal capacity of the cold air.

Articles [11, 51 - 58] analyze and give a perspective of the differences in lumped and distributed parameter models. Heat exchangers are basically open loop systems, that is, the performance of a heat exchanger is determined by its fixed structural and mechanical design. The governing equations are in general, partial differential equations with variations in time and space resulting from the distributed and non linear nature of the thermal-fluid processes. When a distributed parameter model has been applied, fluids are considered to be radially well mixed but axially unmixed, that is, there is a uniform temperature distribution at any cross section of a fluid and a distribution of temperature in its axial direction.

The distributed parameter transient behaviour is characterised by transcendental transfer functions and complex series time responses. It is then essentially an infinite dimensional system which makes it difficult for the control methods developed for the finite lumped systems to be applied. Thus, for heat exchanger models, it is advantageous to solve governing equations described by ordinary differential equations, thereby requiring approximations to the distributed nature of the processes and a lumping in the spatial domain. The solution of the model is further complicated because ofthe nonlinear relationship of heat transfer coefficients with flow rate and temperature.

The lumped parameter approximation tends to be the method of choice for large system models, due to the ease of application and numerical computation, and the retention of the physical parameters in its representation. The disadvantage of this approach is the large number of sections that may be required to adequately represent the distributed characteristics. The lumped parameter approach is a good low frequency approximation [59] and can therefore be an accurate representation of physical systems with low bandwidths.

Wood and Sastry [11] present a shell and tube heat exchanger modeled using a lumped-parameter approximation and was compared with a more rigorous finite difference solution of the distributed parameter model. An attempt in [53] was made to approximate the heat exchanger by a polynomial function. Nelson, Reichert and Pate [55] provide a time domain comparison of lumped and distributed modelling approaches for a four-row cross flow heat exchanger. In the paper [52] a nonlinear-lumped

8

approximations model of a heat exchanger is derived. The use of dynamic state feedback to achieve feedback linearization of the nonlinear heat exchanger model is investigated. The transient response of an axially lumped versus axially distributed modelling of liquid-to-gas crossflow heat exchanger are compared and analysed by Elissa and Rooke [56]. The authors of [54] studied the effects of the number of axial lumps in a frequency domain study of a single row heat exchanger, concluding that the number of axial lumps is important for accuracy particularly in the response of the primary fluid outlet conditions to primary fluid inlet changes.

The classical approach to the analysis and synthesis of an automatic control system is essentially a trialand-error procedure or a disturbance-response (or input-output) approach. Extensive use is made of the transform methods such as the Laplace transform (s-domain), Fourier transform (w-domain), and ztransform (discrete time-domain). Even though mathematics is extensively used, the classical approach is essentially an empirical one. The modern approach is generally called the modern (optimal) control theory. It is based on the state space characterization of a system. The state space is the abstract space whose co-ordinates are the state properties of the system or variables which define the characteristics of the system. This approach involves maximizing /minimizing of an objective function which is a function of state (plant) and control variables which are in turn functions of time and/or distance coordinate [60]. A look at the overall aircraft ECS system follows next.

1.2

AIRCRAFT ENVIRONMENTAL CONTROL SYSTEM

Today's jet engines have not only advanced in regard to thrust generation, but also in their effectiveness in supporting aircraft pneumatic systems. The modern commercial jet airliner environmental control system (ECS) is the focus ofthis thesis; in particular, special attention is addressed to its cross-flow
he~t

exchanger. The bleed system is the heart of the ECS, consisting of a number of valves and the pre-cooler. It automatically provides air at the proper temperature and pressure required by all the pneumatic systems. These systems include the air-conditioning packs, wing anti-ice system, hydraulics, cabin ventilation and cabin pressure system. A block diagram illustrating the functions of the pneumatic system is given in

Figure 1.

The aim of the ECS is to supply clean air at controlled pressure and temperature in order to maintain cabin conditions for passenger comfort and temperature controlled conditions for the avionics. However, the engine bleed air, essentially compressed air at high temperatures and pressures, surpasses the requirements for the air-conditioning packs and other pneumatic services. Engine bleed air temperatures

9

vary significantly under idle, take-off and cruise conditions. In addition, the ram air temperature and humidity can also vary significantly with changes in atmospheric and aircraft flight conditions. Therefore, in order for both the ram and bleed air to be utilized appropriately, it is critical to control the temperature and pressure with fast transient response and high steady-state accuracy. Optimization of the bleed air system offers the largest potential for improvements in performance, useful load, reliability, and purchase price [61].

In this investigation, the ECS of a typical commercial airliner is studied. The components that make up the system and their arrangements are described. As mentioned earlier, a bleed air control emulator has been built for the very purpose of control and performance optimization, with emphasis on minimal ramair usage. In particular, a plate-and-fin cross-flow heat exchanger numerical simulation model involved in air-conditioning is developed. Typical values for the aircraft features, flight conditions, air thermodynamic and hydrodynamic properties and atmospheric conditions are introduced.

AUXILLIARY POWER UNIT(APU)

ENVIRONMENTAL CONTROL SYSTEM

Figure 1 ECS block diagram

Engine bleed air is compressed air at high temperature and high pressure, extracted from the engine core before the addition of fuel. The air initially enters the engine through the diffuser, passes though the fan, and then enters the compressor. The air is pressurized and hot, and therefore the air that is bled off has to be cooled. The 'bootstrap air cycle' has been used in most modern airliners for cabin air conditioning. The ECS consists mainly of two subsystems: the bleed system and the air cycle machine (ACM) as shown in Figure 2.

10

ENGINE

Dumped out

5

:
I

-·-·-·-·- · -·-·-·- · - · - · - · - · - · -·- · -·- · ,·- · - · ~

----------------------------------------J
Trim Air

Figure 2 Typical ECS configuration and layout

For the reader's benefit, all process steps will be referred to using Figure 2 while all state conditions will be referred to using Figure 3. The ECS model is driven by two streams as shown in Figure 3. The upper stream,

mh is drawn from the ambient ( ~, Ta) and is compressed to the state ( ~ 1 , ~ 1 ). The bleed system

consists of several valves and a primary heat exchanger (HX 1 in Figure 2). To ensure the air in the pneumatic manifold is always at a safe temperature, without risk in the event of a fuel leak, the primary heat exchanger is used to cool down the air to (~2'~ 2 ). This process (1-2) is indicated by Heat Exchange 1 in Figure 3.

11

Th2

ComprP~·Ii:nr

-----::::::>

'
Turbine
I

I I
I

T

·

I

r ===
Hot Bleed Air

'
·
I I

Heat Exchange 1

Th4

Heat Exchange 2 ' . /

t
Cold Ram Air s

Dumped air
Tc4

Figure 3 ECS indicating expansion and compression stages in

mh and me air streams

Since the temperature and pressure are still too hot to be introduced into the cabin, an air cycle machine (ACM) is installed. To achieve the desired conditions, the air is further compressed in a separate compressor where its temperature and pressure are raised again (process 2-3) to ( ~ 3 , ~ 3 ). The hot air is then cooled to ~ 4 in a cross flow secondary heat exchanger (process 3-4) indicated by Heat Exchange 2

12

in Figure 3. The air is then expanded through the turbine (process 4-5) to further decrease the temperature and pressure to cabin condition requirements ( P, 5 , ~ 5 ). The coolant stream, lower stream rhc , shown in

Figure 2 is the ram air used to cool both heat exchange systems. The ram air enters the system at ambient
conditions ( ~, T:) and is decelerated (process lr-2r) in a diffuser to state ( ~ 1 , ~ 1 ). It then continues through the pre-cooler (process 2r-3r), where the temperature of the ram air increases to
~3
.

The ram air

is then finally accelerated (process 3r-4r) through a nozzle to ( ~ 4 , ~ 4 ) and dumped out into the atmosphere. The entropy generation reversible processes, undergone by the bleed air and ram air streams, are shown in Figure 4 on respective T-s diagrams. In real systems, the processes are irreversible and undergo both aerodynamic and friction losses. However, the diagrams are shown to give the reader an understanding of the expansion-compression process and the entropy generation experienced by both streams.
T Engine bleed air

5h

To Cabin

a ... Ambient

T

lc
......... Dumped air
4c

a ... Ambient

Figure 4 T -s diagrams for bleed and ram air streams

13

In the analysis of the aircraft environmental control system, airflow dynamics are important to understand and the pertinent characteristics of the air flow are the Reynolds number, Re and Mach number, M. Hence, bleed air and ram air conditions at the system start need to be established. For a given set of flight conditions, altitude and Mach number, outside air conditions are determined using the International Standard Atmosphere (ISA) model [62],

T (h)= 59-0.00356(h) and
a

~(h)= 2116x [ T + 459 ·7 ]
518.6

5.256

for h<36,152 ft

(1.1)

where

I:

and

Pa are in degrees Fahrenheit and pounds per feet square respectively. The ram air inlet

pressure ~; (psi) and temperature ~; COF) are determined from the ambient temperature pressure ~ [63]:

Ta and ambient

(1.2) (1.3)
where ~ec is the pressure recovery factor.

The ram air mass flow rate can also be determined using

(1.4)
where A; (ft2) is the inlet cross-sectional area.

Based on the equations above, the mission operating points shown in Table 1 are studied.

14

I

I
Al A2 A3 A4 AS A6 A7 AS A9 AlO All A12 A13 A14 A15 A16 A17 A18 A19 A20 A21 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 A33 A34 A35 A36 A37

I

f No.
0 0 0 0 0 0.3 0.3 0.3 0.3 0.3 0.4 0.5 0.5 0.7 0.7 0.8 0.8 0.85 0.85 0.85 0.85 0.85 0.85 0.85 0.85 0.85 0.7 0.7 0.5 0.5 0.3 0.3 0.4 0.4 0 0
--

Itt
0 0 0 0 0 0 0 0 3000 3000 3000 10000 10000 20000 20000 30000 30000 40000 40000 40000 40000 40000 40000 40000 30000 30000 20000 20000 10000 10000 3000 3000 0 0 0 0

I

,_.... .,......
OF
Temperature

380 380 380 250 300 380 380 380 450 450 480 480 400 380 380 380 380 380 380 380 380 380 380 380 380 380 380 380 380 380 320 320 320 380 380 250

Pressure psi a 30 35 20 35 20 35 35 20 35 35 35 35 35 35 35 35 35 20 10 30 15 35 20 20 20 25 20 30 25 35 35 35 35 35 30 35

Mass Dow rate lbm/s 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.018333 0.108333 0.108333 0.108333 0.108333 0.108333 0.108333 0.108333 0.108333 0.108333 0.091666 0.091666 0.091666 0.091666

Temperature

1

OF

130 30 130 80 130 28.64 99.9 89.72 49 59.18 25.04 44 59.75 50.57 34.1 47.6 13.76 32.135 9.245 43.58 9.245 9.245 37.8575 20.69 20.69 32.135 56.06 23.12 128 44 110.08 -1.9 -0.76 25.04 90 130

Pressure psia 14.7 14.7 14.7 14.7 14.7 15.36299 15.36299 15.36299 14.31789 14.31789 14.81773 11.42783 11.42783 8.591764 8.591764 5.973956 5.973956 3.855444 3.855444 3.855444 3.855444 3.855444 3.855444 3.855444 6.217082 6.217082 8.591764 8.591764 11.42783 11.42783 14.31789 14.31789 15.89932 15.89932 14.7 14.7

\

\ Temperature \Pressure °F psia 117.5 14.7 30 14.7 130 14.7 80 14.7 130 14.7 20 14.7 90 14.7 80 14.7 40 13.7 50 13.7 10 13.7 20 10.11 35 10.11 5 6.76 -10 6.76 -10 4.37 -40 4.37 -30 2.71 -50 2.71 -20 2.71 -50 2.71 -50 2.71 -25 2.71 -40 2.71 4.37 -40 -30 4.37 10 6.76 -20 6.76 100 10.11 20 10.11 100 13.7 -10 13.7 -15 14.7 10 14.7 90 14.7 130 14.7

\

...,

\

Table · 1 EGS ~ission operating points

15

1.3

SYSTEM DYNAMIC SIMULATION MODEL AND CONFIGURATION

The heat exchanger model to be developed will be integrated in an already existing larger bleed air temperature control system model [1, 2]. This bleed air system model is briefly presented here, to aid in the understanding of the model from a global perspective. A nonlinear dynamic model of the bleed air system was developed. The model was then linearized about an operating point thus, presenting a linear model.

Wram

Engine
wbleedmain

Heat Exchanger

Ttoad

Load

Ptoad

.. _ __u_:b_!e_:~b!P~_! ___ __ -- __

----0--____:
I

Bypass valve

Tamb' Pamb

Figure 5 Ram air-and-bypass control configuration

The ram-air-plus-bypass control configuration is shown in Figure 5. The hot bleed air comes from aircraft engine, at a temperature of ~i eF), pressure ~in (psia), and a mass flow rate ram is from the atmosphere at a mass flow rate determined using Eqs. (2.2) and (2.3).
rhc · rhbteed

(lb/s). The

Inlet pressure ~in and temperature ~in are

Before entering the heat exchanger, the hot bleed air is divided into two channels: main bleed air channel and bypass channel. The main bleed air is cooled by the ram air through the heat exchanger and mixed with the bypass flow at the load. Control valves are placed in the ram air channel and the bypass channel. These can be controlled to achieve fast temperature response and efficient ram air usage.

A simplified system with the following assumptions was developed:

16

i. ii. iii. iv.

transport delay between components is neglected there is no heat loss from pipes to surroundings pressure losses due to pipe flow is negligible fully developed flow is assumed

Hence, a broader perspective of this research is seen from this model set up. A heat exchanger model to be developed in this thesis will be further integrated into the global bleed air system model studied in [1] and [2].

1.4 1.4.1

TEST FACILITY Test rig design

A test rig was developed at the Systems and Control Laboratory of Ryerson University for the flow temperature control studies. The test rig consists of one bleed air channel and a ram air channel. A bypass channel is split from the bleed air channel over the heat exchanger. Electrical control valves are installed in the bypass channel and ram air channel to control the mass flow rate of each channel. A temperature sensor is installed at the end of the bleed air channel to measure the load temperature. Mass flow sensors, pressure sensors, temperature sensors and manual valves are equipped for reconfiguring the system.

There are two air sources available for the experiment. The main air source is two parallel-connected high pressure tanks, each having a capacity of 51300 in 3 . The maximum pressure inside the tank is 100 psig, charged by a compressor. Although the compressor can continuously supply the compressed air to the tanks, the pressure of the air feeding to the test rig drops, depending upon the mass flow rate. To solve this problem, a control valve is installed between the tanks and the test rig. The source air pressure for the test rig can be kept approximately constant by regulating this control valve. The second air source is a shared tank with near by labs which supplies air for the ram air channel. There are two size metal pipes in the test rig. The % inch diameter pipe is to fit the % inch electrical control valves, which are used to regulate the air source inlet pressure, ram air flow rate and bypass flow rate. The 2 inch diameter pipe is for installing the flow sensor, which is too long to install in a % inch diameter pipe.

The command unit consists of a Pentium-D PC, a 16 bit AID board (PCI 6034E) and a 16 bit D/A board (PCI 6704) both manufactured by National Instruments. The PC serves as the controller that sends out current commands to control valves and collects signals of pressures transducers, flow sensors, and 17

temperature sensors. The schematic layout and picture of the test rig are shown in Figure 6 and Figure 7, respectively. Main control elements and their location in the test rig are listed in Table 2.

Air to atmosphere
Heater

Air Source 1
MV4 CV3

MV1

PS11

PS12

FS11

FS12

TS12 TS11 PS13
0 0 ·

Bleed Air channel
MV2 PS21 CV1 TS21

MutTier

Air to atmosphere
FS22 FS21

Air Source 2

MV3

Ram air channel

1tfV: manual valve CV: control valve

PS: pressm·e sensor

FS: tlow sensor

TS: temperatt.n:e sensor

Figure 6 Ram-air and bypass temperature control test fig configuration [2]

Figure 7 Picture of the test rig

1.4.2

Main components

Heat exchanger
The heat exchanger is the core component of the test rig. The high performance air to air heat exchanger is manufactured by Bell Intercoolers. The size of the heat exchanger core is 3"x 2.9"x 6". Tanks are welded on four sides of the core to connect with pipes. The plate-fm heat exchanger has four bleed air 18

channels and four ram air channels, and has a design pressure of 100 psig. For the experimental part of the research, unknown parameters, such as heat transfer coefficient and thermal mass, are to be identified.

Figure 8 shows the heat exchanger used for the test rig setup.

Figure 8 Air to air plate-fin heat exchanger manufactured by Bell Intercoolers.

Heater and control systems

An in-line air heater is installed at the inlet of bleed air channel. The 3 kW heater can heat the flow up to 300 °F (150 °C) at mass flow rate of 0.04 lb/s. The inlet and exit temperature limits are 200 °F (93 °C) and 1400 °F (760 °C), respectively. The maximum air inlet pressure is 60 psig, which is lower than the maximum tank pressure. In order to protect the heater and insure the user's safety, the heater inlet pressure is regulated below 60 psig, and no valve is installed downstream the heater so that the flow will not be blocked. The closed-loop heater control system contains a temperature controller, power controller, over-temperature protection, and a thermocouple, providing a constant output temperature regardless of changes in the airflow. The temperature controller also provides a display of the process air temperature.

Control valve

The control valve is a %" brass ball valve driven by an electromechanical actuator. Both of the valve and actuator are manufactured by BI-TORQ, CARBO-BOND, Inc. The temperature rating for the valve is 297 °F. The control valve used in the test rig has limited sensitivity to the input current. The valve "deadzone" is about 0.2 rnA when the valve keeps going in one direction and about 0.5 rnA when the valve changes its movement direction.

19

Sensors

A Honeywell R TD temperature sensor is used. The response time of the sensor is affected by the air flow rate. For the low flow rate used in the experiment, the response time is considered as a constant. The air velocity transducer FMA-905 is manufactured by OMEGA, Inc. It utilizes both a velocity sensor and a temperature sensor to accurately measure air velocity V (in SFPM, standard feet per minute). To obtain mass flow rate W (Ibis) the SFPM velocity is multiplied by the cross-sectional area of the pipe A and air density p. Two types of pressure sensors, PX303 and PX209, are installed in the test rig to operate in different temperature ranges. Pressure sensors PX303 are used to measure ram air inlet pressure and bleed air inlet pressure before the heater where the operating temperature is relatively low. The inlet pressure of the valve and the load pressure are measured by PX209, which can work at higher temperatures. All the pressure sensors are manufactured by OMEGA, Inc.

Component Air heater and control cabinet Heat Exchanger

Type Part Number PIN 074719
& 074722 A300029060RYU NI

Output/Input
N/A N/A

Manufacturer
SYLVANIA Bell Intercoolers

Symbol in Figure 6
Heater Heat Exchanger

PX209-1 OOG 1OV

0-10V OMEGA

PS12,PS13

Pressure Sensor
PX303-1 OOG 1OV 1 -11V 0-5V

PS11, PS21 OMEGA Honeywell FS11, FS21 TS11, TS21 N/A N/A N/A

Flow sensor Temperature sensor D/A Board
AID Board

FMA-905-V -S N/A PCI-6704 PCI-6034E

0- 20mA DC -10- +10V DC -10- +10V N/A

National Instruments National Instruments Dell

PC computer
Table 2 Main components of the test rig

20

CHAPTER2
2.1

HEAT EXCHANGER MODEL

INTRODUCTION

The role of the aerospace heat exchanger has never been more demanding. Increases in aerodynamic heating, engine performance, power of electronics, and other requirements, combined with a need to reduce volume and weight, have contributed to the development of extremely high performance compact heat transfer devices for aircraft applications [64].

The design of a heat exchanger involves consideration of both heat transfer rates between the fluids and the power required to overcome the fluid friction especially for gases as they are low density fluids. In gas flow heat exchangers, friction power limitations force one to arrange for moderately low mass velocities and together with the low thermal conductivities of gases result in low heat transfer rates per unit surface area. Thus large amounts of surface area become a typical characteristic of gas flow heat exchangers. Such situations require applications with large surface area densities such as fins. Therefore, for efficient heat transfer in cooling the engine's bleed air, the requirements are those of compact heat exchangers. For high performance, compactness increases convection conductance, which is inversely proportional to hydraulic diameter. To increase conductance, heat exchangers require increasing the wall interruptions so that boundary layers can never become thick.

To design or to predict the performance of a heat exchanger, it is essential to relate the heat transfer rate to inlet and outlet fluid temperatures, the overall heat transfer coefficient and total heat transfer. There are several types and arrangements of heat exchangers used in the industry. Many heat exchangers are essentially open loop systems, meaning that their performance is basically determined by its structural and mechanical design, which is fixed [65].

In all cases, the basic thermal relationships follow the basic heat transfer theory in which heat transfer rate at any section of the heat exchanger is proportional to the heat transfer surface area involved and to the temperature difference between the two fluids at that section.

Heat exchangers are classified according to their geometric/structural characteristics and their flow configuration. The two major categories of heat exchanger are plate fin and tubular. The former is typically used for gas-to gas heat exchangers. The plate-fin heat exchangers are composed of thin plates and fins that form the flow channels and heat transfer surface to increase the available surface area and hence the heat transfer. The fluids flow through fine and narrow conduits between alternate parallel

21

plates. To further improve the heat transfer characteristic of the fin, turbulence is introduced into the channel either by producing waves or by lancing the fin periodically to produce an offset type fin. Figure 9 illustrates the plate fin arrangement. This improves performance at the expense of pressure drop, but results in smaller, lighter overall heat exchanger designs [64].

Different flow arrangements are also possible, with cross flow as the most common since it is more convenient and economical than other flow arrangements. It is also preferable for most exchangers with a dense assemblage of fins, as other arrangements are impractical with respect to low friction and effective heat transfer [1]. In addition to the actual flow arrangement, the design can vary with respect to lateral mixing that is experienced by each stream inside the channel [66], that is, the fluid streams can be 'mixed' or 'unmixed'.

Figure 9 Plate-fin cross flow heat exchangers [67]

All of these flow characteristics alter the heat transfer process and influence the heat exchanger's performance, and thus must be considered in the design and modeling of the heat exchanger. Plate-fin configurations are highly used in compact heat exchangers, and are characterized by a high ratio of heat transfer surface to heat exchanger volume. Since low weight, small volume and high heat transfer effectiveness are especially important in aerospace applications, compact heat exchangers are appropriate for the aircraft engine bleed air temperature regulation system.

22

2.2

MODEL DEVELOPMENT

The following analysis is concerned with a direct-transfer type, single pass, crossflow heat exchanger as shown in Figure 10. A schematic representation of the model considered to be analyzed is shown in

Figure 11.

b)

c)

COLD RAM AIR

HOT BLEED AIR

Figure 10.

(a) Actual plate fin heat exchanger installed in test rig to be used for experimental analysis (b) Exploded view of the heat exchanger unit (c) Cross flow heat exchanger schematic representation

23

COLD RAM AIR

X

HOT BLEED AIR

I IIIIII IIII IIIIIIIIIII I I
y

Figure 11 Schematic model considered for analysis

The sketch for a crossflow heat exchanger prepared for mathematical analysis is schematically presented in Figure 12. The space and time variables, x, y, and t, range from 0 to the heat exchanger lengths X (ft) and Y (ft) and from 0 to oo, respectively. All equations are derived based on a differential element and in the coordinate system as shown in Figure 12. Fluid 1 is the cold ram air stream and fluid 2 is the hot bleed air stream with know constant inlet temperatures subjected to specified temperature variations. Fluid 1 flows in the x direction and fluid 2 in the y direction. The two fluids exchange thermal energy through a separating solid plate while flowing in directions normal to each other.

The following idealizations and assumptions are made for the mathematical analysis:

1.

Both fluids are single phase and do not contain any volumetric source of heat generation.

2. Overall heat losses are negligible so that the heat exchanger shell is adiabatic. 3. Heat transfer characteristics and physical properties are independent of temperature, position and time. 4. Both fluids are considered to be well mixed in the z direction but axially unmixed. This indicates a uniform temperature at any cross section of a fluid and a distribution of temperature in its axial direction. 5. The fluid capacity rates, are uniform and constant.
24

M1CP 1 and M2CP 2 , and the thermal capacity, MwCw

ofthe exchanger

6. The plate conductance resistance is negligible in comparison to the thermal resistance on both sides comprising of film heat transfer coefficient of primary and secondary surfaces. Since the core material thickness is relatively small in comparison with the dimension of the heat exchanger surface, heat flows only in the direction perpendicular to the heat exchanger surface; axial and longitudinal conduction in the core are neglected. 7. Axial heat flow (in the flow direction) in the fluid (dispersive and conductive) is neglected. 8. Film heat transfer coefficients, H 1 (Btu/s. 0 R.ft2) and H 2 (Btu/s. 0 R.ft 2), have a variation with temperature that is small and are determined as a function of fluid mass flow rates. The correlation equations for heat transfer coefficients and pressure drop for a real heat exchanger in the industry were employed 1:
(2.1) (2.2)

y

COLD RAM AIR

-

y

----~~

~ :
.,.,"
dy

.,------::..

·-----dx

X=O Y=O 1---+

X

t

X

HOT BLEED AIR

Figure 12 Schematic of a crossflow heat exchanger illustrating the differential element to be modeled

The output variable of interest is the heat exchanger bleed air outlet temperature available to the cabin, and the inputs to the system are ram air and bleed air inlet temperature and mass flow rates.

1 The author is bound by a confidentiality agreement not to release any specific details regarding this particular heat exchanger, and the exact form of empirical relations describing it.

25

Two models are presented in this thesis. Both models are axially lumped, meaning a 'lumped parameter' approach is used. One model (plate model) assumes both the fin material and wall material as having a single temperature at a given axial location. The other model (plate-fin model) takes into consideration the effect of secondary surface (fin) area, and is modeled as having three different temperatures at a given axial location.

2.3

HEAT TRANSFER MODEL DERIVATION

An infinitely small heat exchanger element (ram air channel) is schematically shown in Figure 13. In this figure, ram air flows over surface of area, dAs (ft2), and a constant temperature, Tw (°F). At x, the ram air has temperature T1 and at x + dx undergoes a temperature change of dT1. The mass flow rate and specific heat of fluid are denoted by

m (lbm/s) and CP
1

(Btu/lbm.°F). In writing the energy balance for this

element, one arrives with the following

d~cpl ar; = +m Cp T; -m Cp (r; + ar; dx)+dq at ax
1 1
1 1

(2.3)

It follows from Newton's cooling [68] that the heat transfer rate dq (Btuls) from an elementary heat-

exchange surface dAs is given by

(2.4)
Thus Eq. (2.3) becomes:

d~CP 1 ar; at = +m CP T; -m CP (r; + ar; ax dx)+ H dAs
1 1
1 1

1

1

(Tw -I;)

(2.5)

X

+dx

COLD RAM AIR

X

T. +-~ dx'
I

ar.
ax

mt

.

y

dAsl

dq

Figure 13 Diagram of infinitely small heat-exchange element (ram air channel)

26

Similarly, the bleed air channel side is schematically represented as an infinitely small heat exchanger element as shown in Figure 14. The energy balance for the element is

dm,cp> a;: = +m,cp,T, - m,cp> ( T, + a;; dy)- dq
Substituting Eq. (2.4) into Eq. (2.6) results in:

(2.6)

dm,CP, a;: = +rh,CP,T, -m,cP, (T, +a;; t:(y)- H2dA, 2 (T,- Tw)
A similar procedure is applied to the wall equation resulting in:

(2.7)

(2.8) The infinitely small masses and heat exchange surface area are expressed as:

drn··r1

m1 =X dx.'

dm 2

m2 =y dlJ.
'.T '

dAsl sJ dx. dA - X ' s2

A

A = _ll..dv y
'.T

(2.9)

Substituting Eq. (2.9) into Eqs. (2.5), (2.7) and (2.8) results in Eqs. (2.21)- (2.23).

y+dy y

dAs2

tu {

dx

HOT BLEED AIR

Figure 14 Diagram of infinitely small heat-exchange element (bleed air channel)

27

2.4

LUMPED PARAMETER APPROACH

The lumped model is based on the assumption that the entire system (heat exchanger) is modeled as a tank, where each fluid's temperature is considered uniform along the entire length of the system. This theory was then applied to the total heat exchanger length divided into a small number of sections (lumps) where the exit conditions of one lump are the inlet conditions of the adjacent downstream lump. Each fluid section represents a continuously stirred tank (CST) having the conditions in the tank represented by its outlet conditions.

The driving force for the convective heat transfer between the plate and fluids is defined by a weighted function, ~,of the inlet and outlet temperatures Eq. (2.10). At steady state the generally valid logarithmic temperature difference (LTDM) is preferable, but for dynamic behavior it is not, due to the following as concluded by Arzen, Dejmek and Skoglund [24] (who used an arithmetic mean value of the inlet and outlet temperature):

The L TDM is relevant during stationary conditions, whereas this study involves transient behavior The model requires a temperature on each side, not the temperature difference The LTDM requires more computation

The spatial derivatives in the governing partial differential equations are replaced by a finite difference approximation. As described above, the weighted function relates the state temperature of a lumped system using a variable parameter, ~, with respect to the inlet and outlet temperatures of the lump. ~ = 0, 0.5, 1 represents the state temperature by its inlet, mean, and outlet conditions respectively. The importance of the location of the state will be elaborated in a later section. Each of the heat exchanger lengths is divided into 'N' lumps, with a possibility of variable lump lengths.

T = ~J;n + {1- ~)Tout
8T

0~ ~~1

(2.1 0)

= T -T;n = {~T;n + (1- ~) ~ut} -T;n
~,y ~,y

ax,y
where

(2.11)

N

x,y

=-=~ ~Y

X

y

(2.12)

28

The principle behind the lumped parameter approach is the assumption that the temperature of the solid wall is spatially uniform at any instant during the transient process. This implies that the temperature gradients within the core wall are negligible (-w- << 0 ). From Fourier's law, this implies the existence

ar

ax

of infinite thermal conductivity, which is clearly impossible, but can be approximated by a negligibly small ratio between the resistance to conduction within the core and the resistance to convection between the core wall and fluids. Therefore, to assume a uniform temperature distribution across the core wall at any time during a transient process, one must calculate the Biot number. If Bi = hLc < 0.1, then the error

k

associated with the lumped capacitance method is small [68].

As mentioned earlier, the heat transfer coefficient variation with temperature was assumed small, and is dependent on the mass flow rate as determined by Eqs. (2.1) and (2.2). Hence the governing differential equations that will be derived are nonlinear, due to the functional dependency of the heat transfer coefficients on mass flow rate. As a result, both models will require linearization of the heat transfer coefficients at an operating point (e.g., at steady state) to obtain (2.13)

(2.14)
It is assumed that the initial conditions of the hot fluid, cold fluid and the core are at thermal equilibrium

as follows:

Tw (x,y,O) =I; (x,y,O) = T; (x,y,O) = 0
Similarly, for the finned model, in addition to Eq. (2.15), the fins are subjected to

(2.15)

T11 (x,y,O) = T 12 (x,y,O) = 0
The boundary conditions at the inlet are defined for both models to be

(2.16)

T; ( 0, Y, f) = J;n,
T; (X, 0, f) = J;n
1 2
2

(2.17) (2.18)

where Tm and Tm are derived from the ram air Eq. (2.2) and engine bleed air conditions respectively. Inlet temperature and flow rate of hot bleed air is subjected to external perturbation via (2.19)

29

(2.20)

where y(t) and 8(t) are arbitrarily specified step input disturbances. However, transient response of the heat exchanger can be evaluated for a disturbance of step, ramp or exponential nature. Such variations may occur during start up, normal operations or during transient testing of the heat exchanger. Similar perturbed expressions can be studied for cold ram air with inlet temperature as inlet flow rate as

I; { 0, y, t) = y1(t) and

M1 { 0, y,t) = 81(t) .

Typical plate-fin cross flow heat exchanger differential plate surfaces can be schematically described as shown in Figure 15. In reality, both streams in the heat exchanger will generally experience heat exchange through both the primary surface (plate) and the secondary surfaces (fins). In fact, the dynamics of a crossflow heat exchanger includes simultaneous advection, convection, conduction and radiation with unequal flow distribution and fluid back mixing within the channels. The model is based on the energy equation represented by a coupled set of partial differential equations and thus, its distributed parameter nature. With its dynamical behavior complex, non linear and distributed in nature, the solution for flow variation is even more complicated with intricate geometric features such as the fins. Hence, often is the case where the complexities in heat exchanger dynamics and geometry have to be simplified to generate a practical model to depict its behavior.

Based on the assumptions described earlier, two lumped parameter models will be described. Both models neglect conduction, with convection assumed to be the dominant heat transfer mode. The difference in models comes from the geometric details and their effect on the dynamic behavior of the heat exchanger, with the first modeled as a 'smooth' surface and the other modeled as a 'finned' surface. It is also worth mentioning that, so far, transient studies neglect complex geometrical additions (e.g., fins) and assume smooth plates for modeling. Hence, both models illustrated here will compare the effect of additional fin surface area, number of lumps and the location of the states on the dynamics of the heat exchanger.

30

Longitudinal dx COLD RAM
& axial

conduction in fins

DISTRIBUTED PARAMETER MODEL

AIR

-Typical plate-and-fin heat exchanger surface

- Resistance due to both conduction and convection

- Often difficult to include
Longitudinal Conduction in plate wall z-dir.

all heat transfer modes
T
h

~·.e.
HOT
BLEED AIR

Tw 1: const. Axial conduction
in x & y dir.

Figure 15 Typical heat exchanger plate-fin differential elementary surface

2.5 2.5.1

MODEL GOVERNING EQUATIONS Plate (smooth) model

The plate model is schematically shown in Figure 16. As with most case studies, this model is simplified to a plate representation, neglecting the presence of fins, and thus simplifying the heat exchanger dynamics. The plate is modeled as 'one lump' with only one core wall state temperature, Tw. Three nonlinear partial differential governing equations for each of the fluid streams and the core plate separating the fluid are defined below: For the cold ram air: (2.21) For the hot bleed air: (2.22)

31

For the core wall: (2.23)

The ratios of the thermal capacities of the masses of the two air streams to the thermal capacity of the core itself are negligibly small, and hence can be equated to zero. The smallness of the capacity ratios means that the fluid transit or dwell times are small compared to the duration of the transient [45]. Hence, with these simplifications and basic integration of Eqs. (2.21) and (2.22), we obtain the mathematical model of the considered cross flow heat exchanger as

(2.24)

(2.25) (2.26)
1-LlJMP MODEL<SMOOTH>

,r----------;,
IlL

COLD RAM AIR

I I I I I I I I

-1---------..;."' I I I I
I I I I I I I I I I I I I I I I

- Plate and fins lumped as one, with one temperature Tw -No conduction, i.e, axial/longitudinal in either fins/plate - Ignores the effect of fin surface area, 'smooth' surface - Typical of most lumped heat exchanger models in literature

dx

I I

, ,,
!.. -- .!.'

, ,,

,,

,

- Resistance mainly due to convection

HOT BLEED AIR

Tw= const. (uniform)ignoring conduction i.e. in x, y & z dir.

Figure 16 Plate model differential elementary surface representation

32

2.5.2

Plate-fin (finned) model

The plate-fin model is schematically shown in Figure 17. This model includes the presence of fins and their effect on the heat exchanger dynamics. This model emphasizes the importance of secondary surfaces, and is modeled as three different state temperatures, Tw, T11 and T12 .To analyze this model, five nonlinear partial differential governing equations are described

For the cold ram air:

(2.27)
For the hot bleed air:

(2.28)
For the core wall:

(2.29)
For fin 1 through cold ram air:

(2.30)
For fin 2 through hot bleed air:

(2.31)

Eqs. (2.27) - (2.31) illustrate the dynamics of a single pass cross flow heat exchanger based on the
differential element shown in Figure 18.

33

T 0 , Tn = const. (uniform)ignoring conduction i.e. in x, y & z dir.

1-LUMP MODEL<FINNEDl
dx

-Plate and both fins are lumped as one, but with three different temperatures Tw, Tn, and Tn. -No conduction, i.e., axiaVIongitudinal in either fins/plate - Includes the effect of fin surface area

COLD RAM AIR

Ignore long. conduction in

- Resistance offered mainly by convection

~~~:;.wa/
Tw = const. (uniform)ignoring axial conduction i.e. in x & y dir.

HOT
BLEED AIR

Figure 17 Plate-fin model differential elementary surface representation

Similar approximations as those made in the plate model of ignoring gas thermal capacitance are made here.

2.6 2.6.1

STATE SPACE REPRESENTATION Plate (smooth) model

A heat exchanger is an infinitely dimensional system, that is, the fluid and core temperature are a function of both space and time. Since the simplified representation of the heat exchanger core is modeled as a thin plate, the temperature is distributed over the plate in two dimensions. The lumped parameter approach used in the development of the model assumes that the temperature of the lump is spatially uniform. However, to approximate spatial distribution of the core temperature, the core wall is discretized into Nx
x

Ny smaller lumps/sections for model analysis.

34

a)

y COLD RAM AIR
z

/

L:
PLATE (WALL)

/

HOT BLEED AIR

b)

~~

c)

Lump module notation

Tc~
l,J

COLD RAM AIR

___... Thi i,j

~

[5]
Tw ..
l ,j

i

Th~
l,j
~

0

ir
~

N.
HOT BLEED AIR

..

Tc~
l,J

i

Figure 18 a) Three dimensional plate division into

M

X

Ny lumps

b) Incremental elements of the heat exchanger surface from 0- M,y c) Single lump core representation

Figures 18 illustrates the sectioning of the core plate into Nx x Ny lumps, the module notation, the
input/output of the system and the general directional coordinates to be used in subsequent equations. The core temperature of each lump r;~ is assumed spatially uniform (i, j = 1 ... .Nx,y).

35

However, the fluid temperature changes exponentially along the direction of the flow as it passes over the lump as governed by Eqs. (2.24) and (2.25) and the weighted parameter functions from Eqs. (2.10) and (2.11).

To derive a state space model for the heat exchanger, relevant differential and algebraic equations describing the heat transfer must be written in the state space format:

X=AX+BU Y=CX+DU

(2.32) (2.33)

where X is the state variable, U is the system input, A is the system matrix, Y is the output variable, C is the output matrix and D is the feed-forward matrix. To obtain state space representation of the heat exchanger, state variables are first selected, and then the governing equations are rewritten in the above form. We define the system state to be the core temperature,

1;: ,

at each lump. The hot and cold fluid

temperatures relate to the core temperatures using appropriate algebraic equations provided by Eqs. (2.24) and (2.25), derived for constant surface temperature conditions.

However, the core temperature changes with time, and thus the time interval, dt, is taken to be very small to provide validity in the determination of hot/cold fluid temperatures from these relations. Thus for stable and non-diverging dynamic operation, both selection of the time and space intervals (i.e., number of lumps) and their effect on the solution need to be taken into account. If carried out, it can be assumed that the surface temperature is uniform during the short time slice, and Eqs. (2.24) and (2.25) can be used without inhibiting solution accuracy. By using the core temperatures at each lump, the system order is simply N 2, equal to the number of lumps that make up the heat transfer plate. Thus we achieve improved accuracy over the 2N order model developed in [24].

The state equation for the heat exchanger model, derived with Eqs. (2.24) and (2.25) substituted into Eq. (2.26), as well as the relations from the weighted parameter function, results in:

(2.34)

36

In order for Eq. (2.34) to be used on a per lump basis, the equation as well as several parameters are discretized. The thermal mass and the hot/cold side heat transfer coefficients are assumed distributed uniformly over the plate surface. Since the heat transfer plate is partitioned into Nx these 'total values' are simply discretized by using:
x

Ny equal area lumps,

mwcw =Mwcw( ~ )( i)

(2.35)

~. 2 =H,, ,(~)( i)
directions. Thus, the fluid flow rate corresponding to a single lump is found by:

(2.36)

Similarly, both hot and cold side fluids are assumed to flow equally over the plate, in their respective

(2.37)
The surface areas of each lump are also discretized in the same way. The discretized state equation is now written as:
.L.

+w = {J)l rrw rpci ,l'rrhi , . +£'1 ,. +1:11, . 1, ) 1,) 1,) 1, )

(2.38)

where

(2.39)

(2.40)

From Eqs. (2.24) and (2.25), algebraic equations follow for both the hot side and cold side fluids, relating the fluid temperature at the lump outlet to the lump core temperature fluid temperature at the lump inlet,

Teo= {1- p)Tci _ pTw. 1, ) 1,) 1,) Tho =(1-q)Thi -qTw 1,) 1,) 1,)
where

(2.41) (2.42)

37

(2.43)

Furthermore, the fluid temperature at a particular lump outlet equals the fluid temperature at the inlet of an adjacent lump, as expressed by the following relations:
T ci Teo Thi Tho i+l,j i,j ' i,j+l i,j

(2.44)

The state vector consists of core temperatures at each cell and is defined as:

(2.45)
The input vector consists of the hot and cold inlet temperatures as well as the (total) hot and cold side mass flow rates,

(2.46)
There are the Nx x Ny equations of state (one for each cell), or Nx x Ny functions,

(2.47)
where k= 1 ..... Nx x Ny and the elements of the state and input matrices are defined by Eqs. (2.45) and (2.46) respectively.

As stated earlier, the state functions are still nonlinear. Since the flow rate is coupled with the system state y;:, the equations are linearized to yield the time invariant state space heat exchanger model of the form:

(2.48) The partial derivative terms appearing in the above equation are evaluated at an operating point o. Eq. (2.48) can be rewritten in matrix form to give the form of Eq. (2.32), thus yielding the A and B matrices:

38

8ft
ax. xlo 8J;

0

0

8J; ax2 x2o 8fNx xNY ax2

0 (2.49)

A=

ax. xlo 8/Nx xNY ax. x,o

x2a

8JNx xNy axNxxNY X NxxNyo

8ft
au. ulo 8J;
B=

8ft
au2u2o 8J; au2 u2o 8fNxxNv au2

8ft
au3 u3o 8J; au3 u3o 8/NxxN Y au3

8ft
au4u4o 8J; au4 u4o 8fNxxNY au4
(2.50)

au. ulo 8/NxxNY au. u,o

u2o

u3o

u4o

The heat exchanger model output is defined by Y = [Teo, Tho]. However, for control purposes, Y2 = Tho, is of interest. For an aircraft configuration, cold side ram air outlet temperature Y1 = Teo is not considered since this stream is simply dumped back into the atmosphere. However, for completeness, we consider both output functions. As defined by Eqs. (2.41) and (2.42), the output equations are expressed as elements at the j = Nx column and i = Ny row respectively:

r,eo r,eo
~:v.·=

N xl

gl,

T.ho Tho
~I;'=

lNy

g2,

Nx2

=

g.2

2Ny

=

g22

(2.51)

r,ho

NxNy

gJN
X

r,ho

NxNy

g2N y

However, one output value is desired, and to achieve this, we find one overall mean value at the outlet by averaging the ~y' matrix.

(2.52)

39

Similar to the state equation, the output equations are linearized at an operating point resulting in C and D matrices as shown:

agl2 __ ,_, ax.
x lo

0
agl,2 2
x,o

0

c,.,

=[X Xx.y
x,y

agl,2 2

...

xJ

ax. agl,2N ax.
x,y

ax2 Xzo agl,2N ax2
x ,y

0

x,o

Xzo

(2.53)

agl2 __ ,_,

au3
D1,2 = [
I

u3o

... 1/ ] 1{,x,y I 1{, f' x,y INx,y
j\,

(2.54)

2.6.2

Plate-fin (finned) model
x

Figure 19 illustrates the sectioning of the core plate into Nx

Ny lumps, module notation, input/output of

the system and general directional coordinates to be used in subsequent equations. The core temperature
11 of each lump T;w and . , and fin temperatures T ,1 1,}
2 1;1 are assumed spatially uniform (i, j = 1 .... Nx,y). 1
,

A state space model, in the same manner as described by Eqs. (2.32) and (2.33) is derived here. The system states are defined to be the core and fin temperatures, I;~ , 7;~ , 7;~ at each lump. The hot ·and cold fluid temperatures relate to the surface temperatures using appropriate algebraic equations provided by Eqs. (2.27) and (2.28), derived for constant surface temperature conditions. A system order of 3N2
1 2

40

equal to the number of lumps that make up the heat transfer plate and both fins is developed here. Hence the complexity of the model is increased by three.

a)
y

Single cell representation

0

HOT
BLEED AIR

b)

COLD RAM AIR
)

Tw.T 1?T 1.~
l,j l,j l,j

HOT
BLEED AIR

Lump module notation

Figure 19 a) Three dimensional plate-fin division into Nx

X

Ny lumps

b) Incremental elements of the heat exchanger surface from 0- .Nx,y c) Single lump core representation indicating the presence of fins

The state equations for the plate-fin heat exchanger model, derived with Eqs. (2.27) and (2.28) substituted into Eqs. (2.29- 2.31), as well as the relations from the weighted parameter function, results in:

41

aTw = H1As1 Mwcw

at

(2.55)

aT A11 11 = 2H1 M f 1cf1

at

(2.56)

aT 12 = 2H2A12 Mf2cf2

at

(2.57)

Just as the plate (smooth) model, the state equations are derived as per lump basis based on Eqs. (2.35)(2.37). The discretized state equations are written as

Tf1 ,1. Tf2 R Thi .w _ { lf/1 + ffJ1 ) Tw T · · + (),1 · · + r1 · · + a1 Tci · · + JJ: 1 1,] ·· 1,] · 1,] 1,] 1,] 1,] .11 _ B2T11 T · · +lf/2 Tw · · +a2 Tci ·· 1,] · 1,} 1,] 1,]
. /2 T . =r ,.· T /2 . + rp.2 . + /12 T1,w T1,hi . 1, 1 2 1, 1 1 1

(2.58) (2.59) (2.60)

where,

42

() = 1 fA=

() =- 2~a11 (1+a) 2 mwcw(1+a+b)' mf1cf1(1+a+b)'

~as 1 (b)

~as2 (d)
mwcw(1+c+d)

,fA=

2~a12 (1+c)

~as 1 (1)

mf2cf2(1+c+d)' a.= mwcw(1+a+b)'

(2.61)
and,

a=

b = 2~af1 c = ~as2 d rh1 cP 1 Nx ' ~cP 1 Nx ' rh2cP 2NY '

~as1

= 2~af2
rh 2cP 2NY

(2.62)

The fluid outlet temperature algebraic relations are given below:

Teo
1,)

= P.1 Tci _ Q Tw _ R T11 1 1
1,) 1,) 1,)

(2.63) (2.64)

Tho = P2Thi - Q2Tw - R2T1,) !2 1,) 1,) 1,)
where,

~=

(1-[~(1+a+b)])

a b 1 1 (1- ~) (1+ a+ b) ' Q = (1- ~) (1+ a +b) ' R = (1- ~) (1+a +b)
c

(2.65)

~ = (1-~)(1+c+d)

(1-[~(1+c+d)])
'_ Q
2

= (1-~)(1+c+d)'

R

2

= (1-~)(1+c+d)

d

(2.66)

Eqs. (2.58) - (2.66) define the non linear state space model. Similar relations Eqs. (2.48) - (2.54) as those for the plate (smooth) model, are used to linearize the model.

2.7

FURTHER IMPROVEMENTS

One way of producing a more improved temperature response is by using a three-lump model as described by Figure 20.

43

3 - LlJMP MODEL
T 0 , Tn = const. (uniform)ignoring conduction i.e. in x, y&zdir. dx

-Plate and both fins are lumped separately -No conduction, i.e., axial/longitudinal in either fins/plate - Includes the effect of fin surface area - Resistance offered mainly by convection

COLD RAM AIR

Ignore long. Conduction in

Tw= const. (uniform)ignoring axial conduction i.e. in x & y dir.

HOT BLEED AIR

Figure 20 Plate - fin model differential elementary surface representation

This would mean discretizing the primary and secondary surfaces separately. Thus, each of the surfaces are independent and subject to individual lumping, providing improved dynamic response. However, this model would mean an increased number of equations to describe the model. It would also mean tedious and complex numerical formulations and modeling. A schematic representation of this model is shown in

Figure 21.

44

a)

FIN 1

COLD RAM AIR

z

FIN2 HOT BLEED AIR

b)

c)

COLD RAM

AIR

~

t
.

Shaded surfaces represent area covered by secondary surfaces (fins) HOT BLEEDAIR
X

'

Figure 21 a) Three dimensional plate-fin division into M

Ny lumps

b) Incremental elements of the heat exchanger surface from 0- Nx,y c) Single lump core representation indicating the presence of fins

45

2.8

SIMULATION RESULTS AND DISCUSSION

An algorithm is developed for the state space model that is to be implemented using the MA TLAB software (see Appendix I). The heat exchanger model subroutine can be inserted into the overall bleed air system model. Both plate (smooth) and plate-fin (finned) models return hot and cold outlet temperature responses. Both steady state and dynamic analyses can be performed, and are demonstrated below.

At steady state conditions, the heat exchanger core and hot/cold side fluids are time independent, and thus the left hand side of the state equations (plate model Eq. (2.34) and finned model Eqs. (2.55 - 2.57)) are zero, or in state space format,

O=AX +BU
/

(2.67)

This would mean that the heat transfer from the hot side fluid equals the cold side fluid heat transfer. The state vector steady state values are determined by rearranging Eq. (2.67). A sample steady state simulation is done here to illustrate the temperature distribution on the primary and secondary surfaces. The input variables used in this simulation are

Nxy

20

andU = [ Tci ,Thi ,Mc,Mh J r = [117.5,380,0.01725,0.01833f (Initial operating conditionAl).

Figures 22 - 27 show the steady state temperature distributions of the primary surfaces for both the
smooth and the finned models, and the secondary surfaces for the finned model. The mean outlet bleed air temperature for the inputs specified, is smooth model.
Tho

= 193.69°F for the finned model and

Tho

= 187.17 °F for the

46

Plot of plate temperature distribution
.· . · . .
·

..

400
rL 350
C) Q)

'·

~ ~

~ Q)
Q)

:J

300 250

~
1-

~ :J
(/)

8 200
150 100 20 20

ai

Q)

a:

Cold side [column index=1 :N ~

0

0

Hot side [row index=1 :~]

Figure 22 Steady state heat exchanger core temperature distribution - finned model

Figures 23 and 24 show the temperature distribution plots for cold ram air and hot bleed air fins. The ram
air fins are positioned in the x direction along the heat exchanger length, X As expected, the temperature of each fin rises along the length of the fin (from the ram air inlet to outlet), with each fin's temperature exceeding the preceding fin's temperature as we move from y = 0 toy = Y. The bleed air fins are positioned in y direction along the heat exchanger length, Y. Similar temperature distributions are observed for the bleed air fins. The temperature of each fin decreases along the fin length (from y = 0 toy

= Y) with the fins closest to the ram air inlet experiencing the larger temperature drop.

47

Plot of ram air fins (1) temperature distribution
400.----,~---.-----.-----.----~-----.----,----,-----,-----.

350

LL'

!

Cl

300

!
~
~ (.)

~

~

250

-@
:::J

u:::

~ 200

150

Hot side [row index=1 :Nx]

Figure 23 Steady state heat exchanger cold ram air fins

= 20, temperature distribution -finned model

Plot of bleed air fins (2) temperature distribution
400.----,~---,~---,-----,----~----~----~----~----~-----,

350

LL'
~
~

300

iii
~
~

:::J

~

~ 250

.....
~ (.)

-@
:::J

u:::
/

~ 200

150

4

6

8 10 12 Cold side [column index=1 :NY]

14

20

Figure 24 Steady state heat exchanger hot bleed air fins

=20, temperature distribution - finned model

48

COLD RAM AIR

20 18

16
14

12
10

8
6

4
2

2

4

6
Fin

8

10

12

u

16

18

20

along heat exchanger leng1h (X)

20

18
16 14

12
10

8 6
4

2
Fin along heat exchanger length (X)

Figure 25 Steady state heat exchanger cold ram air fins temperature contour plots -finned model

49

PROPERTY OF

RYERSON UNIVERSITY LIBRARY

HOT BLEED AIR

20 18

16

14
12 10

8

6
4

2
Fin - a long heat exchanger length (V)

20 18

16

14
12 10
8

6
4
2

10

12

Fin - along heat exchanger length (Y)

Figure 26 Steady state heat exchanger hot bleed air fins temperature contour plots - finned model

50

Figures 25 and 26 illustrate the temperature contour plots of cold ram air and bleed air fins. It is evident
that the cold ram air fins increase in temperature along their lengths with significantly higher temperatures achieved in the last fin. Similarly, it can also be seen that the, bleed air fins decrease in temperature along their lengths, as the coolest temperatures are achieved for the first fin (closer to the ram air inlet).

Plot of plate temperature distribution
. · ··.
..·:

400 350
~ 300 Cl)
::J

~

~ 250
Cl)

E
0

0.

5
1/)

t'O

200 150 100 20 20

Cl)

1;3

a:

Hot side [row index=1 :N]

0

0

Cold side [column index=1 :N]

Figure 27 Steady state heat exchanger core temperature distribution - smooth model

Finally, a similar plot to that achieved for the finned model is shown in Figure 27 with regard to the heat exchanger core temperature distrib~tion for the smooth model.

51

2.8.1

Effect of fluid temperature placement
of~

A study on the effect parameter
~'

will be carried for the plate-fin (finned) model with

Nxy

= 15. The weighting

used to place the fluid temperature of the lumped section, is clearly a factor in outlet

temperature response as indicated by Eqs. 2.63 and 2.64. These equations show that the effect of fluid temperature input perturbation are almost negligible with change in
~·

However, the linearized equations

show that the inlet temperature perturbation can be significantly affected by the weighting parameter. The linearized forms of Eqs. 2.63 and 2.64, where mass flow rates are a factor in the outlet temperature response, exemplify the effect of flow rate input perturbation as proportional to 11(1~).

Therefore, the

choice of fluid placement will have little or no effect on the outlet temperature response for an inlet fluid temperature disturbance but will be significantly more important for inlet flow rate disturbances.

Essentially, the effect of

~

affects the heat exchanger performance, and its influence is determined by

NTU (number of transfer units) and the heat capacitance rate ratio (R). The cold and hot outlet
temperature response for steady state analysis for values of varying NTU and R are shown in Figures 28 and 29. By itself, it can be observed that for higher values of NTU the effect becomes less, and vice versa. In addition, a relation between
~ of~

on outlet temperatures

and capacitance rate ratio is formed with

the effect of ~ at its highest when the capacity rates are equal. In addition, at equal capacitance rates and with
~

changing, varying NTU values has a negligible effect on the outlet temperature response. Hence, a
of~

change in the capacitance rate ratios is significant with respect to the influence and effect outlet temperature response.

on the

52

350r-----.------.----~r-------------------------,

· · · · · · ..... o .......... -o . ..... ... . . o· . .. . . .. . .

(L

300

:e.
0

C) Q)

1-..c

ratio .... 1 NTU .... 6 ····a···· ratio .... 0.2 NTU .... 15 -·>+- · -ratio .... 2.5 NTU .... 4 - - - ratio .... 15 NTU .... 6 -+-ratio .... 0.5 NTU .... 11 -- -+---- -t---- - - t - - - - · s- · - ratio .... 1 NTU .... 2. 5
1 1 1 I 1 1

~ ~

I

250
ratio =R

~ Q)
0...

~
0 ....

ro
Q) Q)

E Q)

200

"S
""0

iii

150

-----------~ =:-~~ =:-_:_-: =._. ._:_-:.·: -:._~~-=_,_Weighted parameter

......... . ....._. "*".-.- . ~--

Figure 28 Effect of; on the steady state heat exchanger hot bleed air outlet temperature response finned model, Nxy

=15

As the capacitance rate ratios increase or decrease the effect of ~ on the steady state fluid temperature outlet response decreases. Notably, for R >> 1 or for R<<l, the weighted parameter has zero or negligible effect on the outlet temperature response.

53

L:L
:[
0')

350 +· ··········

+·...

300 ··· ··· ···+ ·· ··· ····+ ···· ·· ·· ·+····· ·· ··+·· · ··· · ··

250
Q)

ratio =R
----~---~----~---~----o-------e----

g
'-

200

ro

E

o::

ro

150
-----------------

--ratio ""' 1, NTU ""' 6 - ·>4- ·-ratio""' 0.2, NTU""' 15 - ~ - ratio ""' 2.5, NTU ""' 4 ---ratio""' 15, NTU""' 6 ····a···· ratio""' 0.45, NTU""' 11 ···+ ···ratio ""' 1, NTU ""' 2. 5

Weighted parameter
Figure 29 Effect of; on the steady state heat exchanger cold ram air outlet temperature response finned model, Nxy = 15

It can also be observed that

increasing~

results in a decrease of the hot bleed air outlet temperature and an

increase of the cold ram air outlet temperature. This is true, since the inlet condition is weighted more, and as a result will influence the response more significantly. Figures 30 and 31 illustrate this effect, where the outlet response either peaks for the ram air or dips for the bleed air. This shows that for values greater than the average condition
(~

= 0.5), the outlet temperature response shows instability. The

instability arises from weighting the inlet condition more heavily, and as a result becomes the driving force for the heat exchange with the adjacent lump (section). Essentially, it translates to no heat exchange between adjacent fluid channels and the only heat exchange that occurs is between the two fluids. Thus, there is a sharp increase or decrease in fluid outlet temperatures for the cold and hot airs respectively.

54

380.1 380 379.9

u:::cil 379.8 4)
~
0

1-u ~

379.7 379.6 379.5 379.4 379.3 379.2 379.1

~
~

4)

E

0.

~

·a; E
«< 0:::

B .._

0

0.1

0.2

0.3

0.4
Weighted parameter

0.5

0.6

0.7

0 .8

Figure 30 Effect of~ on the steady state heat exchanger cold ram air outlet temperature response - finned model, Nxy = 15

338.34r-------r-------r-------,-------.-------.-------T-------.-------.

338.32 r-

-

t3:2:~
~

-

-

8.
E

~
~
Oj

~

338.26

\

-

338.24

\

\
''\

-

338.22

',~_ __J__ _ _L___ __J__
0.1 0.2 0.3 0 .4
Weighted parameter

____)
___L_ _

-

338.2 L 0

_:.::::::::r:::::===:::::c======:r:::::__
0.5 0 .6

__j

0.7

0 .8

Figure 31 Effect of~ on the steady state heat exchanger hot bleed air outlet temperature response - finned model, Nxy = 15

55

For a dynamic simulation, a disturbance at the inlet in one or more of the input variables is applied and the response for the hot-side fluid outlet temperature is determined as governed by the state equations. The heat exchanger outlet temperature responses to a unit step input in the inlet fluid temperatures and inlet flow rates will be discussed here. For all cases, the initial conditions are given by ConditionAl with
Nxy

= 5. In Figure 32, a step of 40°F in the hot side fluid inlet temperature is chosen as the disturbance.

Bleed air outlet temperature (Th 0 ) response
250~-------~-------~!-------~

~+++++++:+++++++++++++++++++:++++++++++

Li:' 200 ....................... ... .. :............................ -:· ... . ...................... ·C) Q)

~
0
X I<

«·»» )I:<

K««·»l< X

t:t:«·»:< H X K

« ·»» ~X" t:«·>'>l4
·

l<X 0: « · l<>l< )( :<

K -t< ·»»>t

>C I< I<«·»

~X X K«·a >ll< X K«<<->·"" KK<N>l< X:< KoX · :<'

1-.£:

-ro

:::::1

~

150

~:~. ~~ ---~~~~~~~~~.~ -~-~-~ -~~~-a-.r>~~~-r:...

.

. .

.,..,. ~ . .....,.~ 17 ~

.... . ·: ...........

* ~.,~ n-~ .a ......
0

" ......... n ~ ~ n.,..·a ·
0 0 ··· 0 ·-

········

m 0..
E Q)

---=0

.....
.....
co

100

0.2 · · ··><···· = 0.5 ·-+--=

--.·-.- =0.6
-·-·-=0.7

0~----------------~~·----------------~·----------------~

0

50

100

150

Time (sec)

Figure 32 Hot bleed air outlet temperature response to unit step hot fluid inlet temperature- finned model, Nxy

=5
For~>

At outlet condition(~= 0), the response time to steady state condition is fast.

0, the response time

becomes slower with instability becoming a factor. An immediate decrease in outlet temperature response is observed with the magnitude increasing with
increasing~· For~

2: 0.4, undulatory behavior is observed,

with rising and falling temperature responses. The reason for this irregularity is explained through Eq. (2.10). The weighting of the inlet temperature on the fluid temperature variable, that is, for
(~

> 0),

defines that for an instantaneous change in the inlet fluid temperature, a weighted outlet temperature change in the opposite direction as the input is the result.

56

Therefore,

~

is vital in how it effects the temperature response, with the outlet condition approximation

(~

== 0) showing no irregularities. Similar observations are made for step inputs of cold fluid inlet

temperature as shown by Figure 33. A step input of 20°F in cold inlet temperature is chosen for the dynamic simulation.

Bleed air outlet temperature (fh 0 ) response

230 220
G:'
0) Q)

---=0

~

210 200 190 180 170 160

I-.e

0

.. ..... .. =0.5 - ·+- . - =0.6
Fluid temperature placement,;

- - - = 0.2

-ro

::I

~

Q)

Cii 0... E Q)

"5
'(0
"'0
Q) Q)

....

0

ffi

0

50
Time (sec)

100

150

Figure 33 Hot bleed air outlet temperature response to unit step cold fluid inlet temperature- finned model, Nxy = 5

Thus the time step responses substantiate the lumped approximation using the outlet condition as the fluid temperature placement parameter. This approach gives better results than the average condition or the outlet condition.

2.8.2

Effect of the number of lumps

It is worthwhile to investigate the effect of the number of heat exchanger lumped sections, Nx,y, on the
accuracy of the model, and determine a trade-off between accuracy and model complexity. It has been shown that the outlet condition (~
=

0) is an accurate and stable representation of the lumped model. In 57

general, as the number of lumped sections increase, the accuracy of the model increases. Both the smooth and finned model will be evaluated and compared on the minimum number of lumped sections required to accurately model a heat exchanger. Figure 34 shows a comparison plot of number of lumped sections to steady state hot outlet temperature.

Effect of number of lumped sections
170~--------~,0--------~--------~---------.--------~
0 :

\

~0

160 .. \ .. .... ....

!............... ··: ··· ..............i ...............
0

~

~

----·plate (smooth) model plate-fin (finned) model
-

'······ ..... ····-

~£ 150 .... \ ...... :··········· ... :········ · ······:················:. ·············1i5
:::J

L

~ ::: _ .· :\ :_\~ .·:.· i::.·:.· .·. ·.·:.·:.::.·
:: l l " :
'"

~

I

\

:

.

:

· :

:

. :

:

· :

:

:1.· :..·::::.· :.:::: :

I::::.:.· .· .·:.::.· :I: .:.·:: :.·::.:
:

-o
(l) (l)

"'

(IJ

120 0000000"'-.o,.:.:.:..: ~ :..: :..:.:..-_:_::0:.:.:..::...: 07:...: ·_:.-..:....: 0.:...-..:....::.:..: ;.: :.. :. .: :.. .:. .:. - - - "7------. .

~

~

..__""""-------------:--

~
0

0

:

:

110~--------~i~--------~~----------~i__________~i----------~

0

5

10

15

20

25

Number of lumps
Figure 34 Effect of the number of lumped sections on steady state outlet temperature,
~

=0

It is evident that as the number of lumped sections increase the model accuracy improves for both cases.

In general, it is also noted that the plate model converges faster than the plate-fin model. The complexity of the plate-fin model explains the need for more lumps, as these additional lumps are required to accurately model the heat exchanger.

However, as with the weighted parameter evaluation, the effect of the number of lumped sections varies with R and NTU. Figures 35 and 36 show these relationships for the finned model while Figure 37 illustrates it for the smooth model. It is observed that NTU becomes a factor in the minimum number of lumped sections required for the simulation, when the capacitance rate ratios are close to or equal to 1 for

58

both models. For higher NTU values, the models require more lumped sections for an accurate simulation. However, as one of the fluid capacitance rates becomes more predominant than the other, the effect of
NTU on the number of lumped sections diminishes. In addition, the effect of the number of lumps on the

outlet temperature of the dominant capacitance rate fluid becomes negligible or close to negligible. In general, for all cases, the finned model requires more lumps for convergence than the smooth model.

Effect of number of lumped sections
350r---------.---------.---------~--------~---------.

Li:' 300
0,
Q)

~
0

- - R - 1 NTU=5 -···~·---·- R - 15 NTU = 6 - - - R - 0.2 NTU = 14 . R - 2.5 NTU = 4
1
I
I

I

1--..c:
::::li

~

250

-

"§
a..
~
Q)

E

Q)

~ 0 ..... ·n;
"0
Q) Q)

200
·~

...
'<·-.. ... .:,
.... ... ? ........... .

~

ffi

150

\

~~-~--~-~~~)~(~)~\~)(~)(~)t~ . ~)~(~H~)~~)~I.-·~·-*?E~)(~)~(.~·~-~l<~~ :
5 10 15 20 25
Number of lumps

···~·

·

~'

...·+·· , ·+·-··

So

···

· ;··· ···..,

..,.--. ...

_·'lo'

...., .........:_ . .

........,..~

- '

w ....:b-

· -

·

1 100~---------~·--------~·----------~----------~ --------~

0

Figure 35 Effect of the number of lumped sections on steady state hot fluid outlet temperature finned model ;

=0

59

Effect of number of lumped sections
400~--------~--------~--------~---------.--------~

U::

350

/

- - R - 1 , NTU=5

/

. . . . . ,-. _. ,. ,_._R - '15 NTU = 6 . . . R-0.2, 1\JTU= 14
I

300

' R .~ 2.5 NTU = 4
I

250

200

150

'1 00 ' - - - - - - " - - - - - - - 1 - - - - -- ..1...------'---------' 25 0 5 10 20 15
Nurnber of lumps

Figure 36 Effect of the number of lumped sections on steady state cold fluid outlet temperature - finned model,;= 0
Effect of number of lumped sections
350~------~--------~--------~------~--------~

-----------------------------G:' 300
ci>
Q)

~
0

1-.c:

- - R - 1, NTU-5 ~ R-15, NTU-6 - - - R- 0.2, NTU -14 - r.:r- - R - 2.5 , NTU - 4

~
~ Q)
~ Q)

250

a..

E

s
0

200

\
::,.,

-

' (ij
Q) Q)

.....

"0

co

150

~

' (;~

.

v:.:)-~

· {}?-· ...

G···~. ~:.:..__0-. ... 0 ····0 ·--·B .... :.;; · ··li-J

-42· . ~

x..,

~~* - ~-*-*~~~~~~~~~~~~~~~~~
100~--------~·--------~·--------~----------L· ------~

0

5

10

15

20

25

Number of lumps

Figure 37 Effect of the number of lumped sections on steady state hot fluid outlet temperature - smooth model,;= 0

60

The dynamic performance was also studied for the effect of the number of lumped sections required for each individual excitation. Outlet temperature responses for fluid temperature input disturbances are shown in Figures 38 and 39 for the plate model and Figures 40 and 41 for the plate-fin model. The study was done for Condition Al with fluid and cold fluid respectively.
~

= 0. Step input disturbances of 40°F and 20°F were chosen for the hot

Figures 38 and 40 depict the exit temperature response of the hot fluids due to a step change in hot bleed
air inlet temperature for the smooth model and finned model respectively. A step increase in the inlet hot fluid temperature translates into a mean exit hot fluid temperature that is higher than the initial steady state condition. Similar attributes are found in the cold fluid outlet temperature with an increase in the final steady state value.

Figures 39 and 41 show the exit temperature response of the cold fluids for a step input disturbance in the
cold ram air inlet temperature for both models. By increasing the cold fluid temperature, the effective driving force, or temperature difference between the two fluids, reduces, thus corresponding to a lower heat exchange. This would mean that for normal operation, the hot fluid outlet temperature increases while that of the cold fluid decreases.

The effect of the number of lumps on the hot fluid outlet response, generally for both models, indicates improved accuracy with an increase in the lumped sections. An increased number of lumps has an effect on the input disturbance that is more pronounced on the outlet temperature response, and is therefore readily observed as a rational choice. Also notable is the difference in time response between the two models. Faster transients are observed for the finned model, but the run time for each simulation increases. As discussed, in the steady state analysis of lumped sections, NTU and R are both factors in deciding the minimum number of lumps required.

61

Bleed air outlet temperature (Th 0 ) response
280r---~----.----.----~--~----~---.----~----.---~

270 · · · · · · · :· · · · · · · .:. · · · · · · · .;. · · · · · · · :· · · · · · .. i ....... -:·.

--N :

~ ::: ?l:..
a.,

~

:J:.·_· _ ·:_· f:_·_-_-_- :I· _ -_-_-_-:L_·:

·r_·_· ::I.~-- ~·-- N::;=. .

-

=1 xy ------ N =5

r-

·-

10
:

~ Q.l
0..

~

240

....... .. . . . . . ·: ...

;

. .. . ..:.. ... ... ~ ... . .... :. . ... . ...:.. . ..... ~ ... .... .~- . . ... . . ~ ..... . . -

~ (i)

E

. . ... . . -~ .... . ... ~ . .... . . . ~- ...... . .;....... 230 . ...... .~ .. ... ... :· ... .... -~ ........ :. . ... .. .: .

220 ....... ~ ..... ... ~ ....... ·l· ....... ~ ... ..... ~. ·.~.: ~~- +·~-~
0 ·

-=s 0

210

+,...~ ~~-~-~ ~ ~- ~.-:-:-.~ r- ·--l~ --~~ ~~ . -~ ~-r~-·~-:-.-~: r~ ~- . . ~ ... ... . -~ ........) ....... .~- ·····.-~ ·······.-·· ·~

.

.

.

.

::: :.~.I~~ ··-~-~,~-;.;.~~-;~.~--~;~--;·~-e~--r~-J·····~
.

.

.

.

. .

.

.

.

.

.

180~----~· · -----i~----~· · -----~j·-----L· · -----~j · _____i~----~··_____j~·----~

0

20

40

60

80

100
Time (sec)

120

140

160

180

200

Figure 38 Effect of the number of lumped sections to outlet temperature response for an input hot fluid temperature disturbance - smooth model, ;

=0

Bleed air outlet temperature (Th 0 ) response
270.----.-----.----.-----r,_----.-----.---~,----.-----,,_----~

260 ..... .. -~ ....... . : ....... . ~ . . . . . . . ... . . .

.
. .

.. .: .. ... .. ·:- .... ... : .. ..... <· .. ..... : .. . -: .

~ 250~
~

:

=~xy:: xy

_

240 ....... ~ .... ... ·:· ....... : ... .... . ~ ....... -:· ....... ~ ...... .. ~-. - . - . - Nxy = 10 . 230 ....... ~ ..... . . -~· ...... ..).... .... 220

i... .... -~ ........) ........ ~ .......-~ ....... -~- ...... _ _ __ : _ --~-~--:----.~~-. ---:.. .... . ~ ... ~-~ --~~~~ ~:..: -~- ~~-- .-.-: f· ~-: ... .~ ..... .. -~· ....... ~ ........~ ....... ·:· ...... · ,
---:--: · : 0

210 · ·······~·· · ·····i ····· ···~ ··· ·· ···~········~· · · ·· ··· ~· ······ ·:· ···· ···: ·· · ·····~····· · ·· -

: :.;.r~~--~~---~t~~-T·~-T~-~--~·-·r~·. ---~-J·~--~
i

i

i

i

i

20

40

60

80

100
Time (sec)

120

140

160

180

200

Figure 39 Effect of the number of lumped sections to outlet temperature response for an input cold fluid temperature disturbance - smooth model, ;

=0
62

Bleed air outlet temperature (Th0 ) response

290.----.----.----.----· .~----.----.----~----r----r----.

5: : ~l ..·.· · · r.· · · · · j· · · · · j· · · · }· ·~ ~:::·~o · _
J·..·.··.··

~

cb ::;

250

·······: ····· ·· ·~···· ·····:········i······· ·~·· ······~········~········;·······+· · · · ··. : . . : .

: .

: .

0..

§

~

m

240 .. .. ... ; ........ ~ ... .. ... :.. ...._~ L~-~-~--~~.__·+·~·~+------~-~~
~~-

230

:__~·;;_·~>-~~-~~~······~········~········!········~········~········j········~········-

-- :- ,_

.

:

:

:

:

;~.~--

j

220 - ·· ·· · ···· ..... . .. . ·· · ··· · ··· · ·· · ···· · ····· ..·...... .. : ....... :,,, .. . . 210 . .. ... : ....... ···· .. ;;.:

200~~~--~----~--~--~----~---L---J----L---~

. . ··-.. ~~ . .-··. 1 ·-" :
10 20 30

;:.;.·--~"' :':": ':":" :~ ~~' ~ ~ ~ ~::7.: ~~~ ~: :~-

!·············· ~ ~
90 100

.

i

0

40

50

60

70

80

Time (sec)

Figure 40 Effect of the number of lumped sections to oudet temperature response for an input hot fluid temperature disturbance - finned model, ;

=0

Bleed air outlet temperature (Tho) response
280~--~----~----~--~----~----~--~----~--~~~--~

LL

270~
250 240 230

.

:

:·

.

=Nx>1

-

:[ 260 ·······~········:·········~········~········~······· · ~········~·
. . . .

---Nxy=5
- · --- N
= 10

·-

...... . : . .. . ... -~- ........:........ ~ ........ ~ ....... ·:· ....... :. L---.----X.;_Y_ _. J -

.

.

....... -~· ...... -~ .... .. . -~· ....... ~- ....... ~ ........ . ....... ~ - ... .. .. ~ ....... - ~· ...... ·-

:

..... ~:>~·~;c~.~ ~.~.~.~r ~. ~L~.~

T ~. ~.~ ~. ~. ~.~-.-: ~. ~.~

cu
""C

220 - ....... ~- ..... . . ~ ........ ~ ... ... .. ~- ....... -~ ........ ~ ..... ... ~- ... . ... -~ ........ ~ .. ..... 210 _

m

Q) Q)

·~ :r~~ l;;.:-:·~ ~~: ~ :~.-:~: ~:.~;:~.~T.~·:.-:::~. ~10 20 30 40 50 60 70 80 90 100

.

:·

200~---L--~----~--~----~--~----~---L----L---~

0

Figure 41 Effect of the number of lumped sections to oudet temperature response for an input cold fluid temperature disturbance - finned model, ;

=0
63

The effects of varying the NTU and R on the number of lumps required are shown in Figures 42 and 43 for smooth and finned models respectively. For R close to one the values of NTU affect the transient solution. A significant time delay is also associated when R is close to one. As R values significantly increase or decrease, the NTU values become less important and R becomes the dominant factor in controlling the temperature output. In analyzing the heat exchanger simulation for high/low values of R, the dominant fluid will experience a faster transient response. In general, the smooth model experiences a time delay and takes more time to achieve steady state condition.

Bleed air outlet temperature (fh 0 ) response
400~---..----,-----~---,.-----T~---,,-----r----.-----r---~

,.H":...-K_,....x-*

~-t+-:+-w

....-~ ~....,._:.-tt

~........,..

.......: ......... a-t4>

~ ......,_~ ......... ~

~_,.....>+--W

~_...,

,.._

c.:ci>
Q)

.....-'<

350

f-/

><""""

~

I-.e

0

300 -

-ro
2
E

::;
0..

ch

- - R - 1 NTU-5 - . +- . - R - 15 NTU - 6 - - - R - 0.2 NTU - 14 - - - R- 2.5 NTU - 4
1
I I I

-

-

03

250

-

Q)

g .....
'(ij
Q) Q)

200

"0

------------------------------150
1-+ +-+ +-+- + +-+ +-+· +-+ +-+ +-+- + ++ +-+ +-+ ·+-+ +-+ +-+-+ ++ +-+·+-+ ++ +-+-+ +-+ +-+· +-+ +-+
100~--~----~----~--~~--~----~----L-·--~·-----L-·--~

ffi

-

0

10

20

30

40

50
Time (sec)

60

70

80

90

100

Figure 42 Effect of the NTU and R on hot fluid outlet temperature response - smooth model, ;

=0

64

Bleed air outlet temperature (Th 0 ) response
400~--------,,,---------,,,---------~---------,,---------~

',------------------,

- - R - 1 NTU-5
1
I I

G:' 350
0) 0,)

- - - R "' 15 NTU - 6 .... . .... R - 0.2 NTU - 14 - - . - R - 2.5 NTU - 4
I

~
0

f-.J::

300

-

-ro
(D

::::5

~

....
Ci)

E 0,)

0...

250

f-

-

~

,_
0,) 0,)

200l-----------------~~------------~---------------~-

"(ij
-o

ffi

150 -·

~··

······· -

------------------------------100'----------~·~--------~·~--------~·~--------~·~--------~

0

50

100

150

200

250

Time (sec)

Figure 43 Effect of the NTU and R on hot fluid outlet temperature response - finned model, ;

=0

2.8.3

Effect of the heat capacity rate ratio

For a dynamic simulation to study the effect of R, a disturbance (step) in the hot side fluid inlet temperature
Th;

is chosen. At t=O sec, the value of Th; changes from 380°F to 480°F, marking the onset of

dynamic simulation. Two different cases will now be demonstrated.

In the first case, the initial steady state conditions are given by ConditionAl and

Nx,y

= 5. Note that the

hot side and cold side fluid mass flow rates are relatively close to each other. For the second case, the initial value of the cold side flow rate is increased to Me
=

0.27 lbm/s with the remaining input elements

unchanged. Dynamic responses for both cases are shown in Figures 44 and 45 to illustrate the effect on heat exchanger response time with changing heat capacity rate ratios.

65

Bleed air outlet temperature (Th 0 ) response

230 225
G:'

-

en
Q)

~

220 215 210 205 200""" 195
I

~.J::
~
:;,

0

~ Q)
E

a..

Q) .......

a; ::;
..._ "(ij
0

-

-o
Q) Q)

EO

- - - plate (smooth) model · · · · ····· plate-fin (finned) model
I

0

50

100
Time (sec)

150

200

250

Figure 44 Hot fluid outlet temperature response to a 40°F hot fluid step input increase,;= 0, R-1
Bleed air outlet temperature (Th 0 ) response
127r---------.---------.---------~---------.---------.
~

r-..- - - - - - - - ··---·-·----·- ----- - - - - - - - - · - - - - -·-·-plate (smooth) model ----- plate-fin (finned) model

126 1
G:'
~

en 125
Q)

0

1-...c

E Q) ...... a;

-ro a> a..

:5

cb

124 123 122 121 120 119
r..

-

::;
0

-

.._

"(ij

-o
Q) Q)

EO

·-' ··

...

··

··

L·

··

- · -L ·-

0

50

100
Time (sec)

150

200

250

Figure 45 Hot fluid outlet temperature response to a 40°F hot fluid step input increase,;= 0, R>t

66

The above simulations are open loop in nature, that is, there is no measurement feedback or regulatory action present. The heat exchanger is simply allowed to reach a new steady rate, as governed by its dynamic equations. Note the huge difference in both response time and steady state change between Figure 44 and 45. Because in the second case, the cold side heat capacity rate is many times larger than the hot side capacity rate (about 14 times in this specific case), a change of +40°F in the hot side inlet temperature causes a small change in Tho, whereas in the first case (R-1) this change is much larger. As a temperature transient is imparted to the hot fluid, the effect of a disturbance will depend on the heat capacity rate ratios. In other words, if R> 1, then the effect of the hot inlet disturbance on the heat exchanger outlet temperature is minimal and will reach the steady state within a small duration. At the same time, the huge difference in thermal capacities of the two fluids is responsible for the very quick heat transfer transients. The heat exchanger model thus confirms expected physical behaviour. One can also observe a difference in the responses of the two different models. The finned model seems to provide faster transient solutions by reaching the steady state condition in a small duration. The finned model also indicates a larger change from the initial steady state condition for a given step input disturbance.

Therefore, NTU and R are primary parameters in the criteria for determining the required number of lumped sections. The range of heat exchanger dynamics (NTU and R) depends on the nature of the input disturbance, flow rate or temperature. Dynamic responses to varying input cold and hot fluid temperatures step changes are shown in Figures 46 and 47 for both smooth and finned models respectively.

The heat exchanger exhibits nonlinear dynamic characteristics. This can be seen in Figures 46 and 47 from the excitation created between the initial steady state conditions to the final steady state condition, where the ratio of input change is unequal to the ratio of output change. Also, the dynamic performance of the smooth model has a time delay when an inlet hot fluid temperature disturbance is induced. The notable difference in hot fluid outlet response between a hot fluid inlet disturbance and cold fluid inlet disturbance is the higher mean exit temperatures achieved for the latter. Less heat exchange is the cause of this, as the cooling ability of the cold fluid is reduced.

67

Bleed air outlet temperature (fh 0 ) response 245 240 G::' ---step change 5% · · ·· ·· · · · step change 10% ..j ... ... . .. . .. .. ... ~~~."':'~~~-~~

c::n
Q)

235 230 225 220

0

-- -

- step change 15%

::::
··

~~:~~: ~~~ .

; / / . ..... .. ..... ..... .... .. :... ............ .
:
.

·

~:

:

E
0

-·-·-st ep change 15%
:
,/'..

1-..c

".l.. ···············~ ·················( ··············
~
· · · · · ·········· · · ···

-ro
~
Q)

~

w

. ...... . ... . . . . -:· .... . . ·rf· .... ... - . . .......... .

a..

w

····

··

·

·

·

···· · ·

E

·i':~. . . . .. 215 .. . .. . .. .. .. . ..
210 205 200 195 0 50

.rj,.
· ·

,!'
.. ·

./
· · · · · · · · ·

~

:
.

·

·

··········

·

·

.. ...... :_ .... .. .. .. ........>.. . ... . . . ........ . ... . . .:. :. ·.·.:..:. . ·_ ;_·
o

: .
~

·

··

·······

···

··

~~·~,,y

0

,,_..,..

'

"=§

·ro
ffi

._
Q) Q)

0

-c

.i~~fi;H-~7~.· ~:!.·. . .···:7····
· · ·r · · · · · · · · · · · · · · ·
100 Time (sec)

·1· ················r ···············
200 250

150

Figure 46 Bleed air outlet temperature responses to varying hot fluid temperature step input increases smooth model, ; = 0
Bleed air outlet temperature (fh 0 ) response ---step .. · ·· ·· ·· step - · -·- step ................ .,....~ step change change change change 5% 10% 15% 5%
0

245

·· · ·+· · · · step change 10%
'"" +- + ·+ -+ +· + · .__ _ _ · · _st_e_p_c_h_a_n_g_e_15__Vo-->1
+.+·+
... . + ··!'

....
:F

+

.+

·F

·-- .--..
-~~- ····-*··~·<r~
· · ·

. .--. · -

.-+'

.+ +

·.

~

+;;.-..w>;..--J>c.·~ ... ..:-~~~!>ri

w . ,. . . ~ ·~

:"11:

S'lll

...:+

'It ?

t:,. ....

+1:

.+

/

10

20

30

40

60 50 Time (sec)

70

80

90

100

Figure 47 Bleed air outlet temperature responses to varying hot fluid temperature step input increases - finned model,;= 0

68

2.9

FURTHER SIMULATION STUDIES ON AIRCRAFT ECS HEAT EXCHANGER

Further simulation studies were carried out on the aircraft ECS open loop heat exchanger system and the results are presented here. These simulations are performed using MATLAB. For full coding see

Appendix I.

The aircraft engine bleed air is supplied to the ECS system which in turn supplies clean air at a regulated temperature and pressure to the cabin. In order to supply air at a controlled temperature and pressure, the heat exchanger is tested with disturbances added into the system arising from varying engine load and/or ambient surroundings. The heat exchanger temperature response to varying operating conditions will be studied. A step change in engine bleed air inlet temperature,

Tin 2, is used to demonstrate a change in
T;n 1,

engine operating conditions. A step change in ram air inlet temperature,

(related to both ambient

temperature and the aircraft's flight speed) is used to simulate a disturbance that arises from either surroundings, engine load, or both. For the simulations that are carried out here, a 40°F step increase in the initial steady state bleed air temperature applied to the system at time t = 0 sec.
T;n2

and a 20°F step increase in ram air temperature

T;nJ

are

In addition to varying input conditions, simulations for different mission operating points (as described in Table 1) are carried out here to demonstrate system performance at various engine loading and atmospheric conditions. For the purpose of this thesis, four different operating points are chosen based on an actual aircraft flight path. These points are shown in Table 3 below:
Case Mach No. Altitude
ft

Bleed Air Conditions Temperature

Ram Air Conditions Temperature

Ambient Conditions Temperature

OF

A3 AlO A14

AlS

0 0.3 0.7 0.85

0 3000 20000 40000

380 450 380 380

Pressure psi a 20 35 35 20

Mass flow rate lbm/s 0.018333 0.018333 0.018333 0.108333

OF

130 59.18 50.57 20.69

Pressure psia 14.7 14.31789 8.591764 3.855444

OF

130 50 5 -40

Pressure psia 14.7 13.7 6.76 2.71

Table 3 Mission operating points selected for simulation study

Operating condition A3 represents take-off on a hot day, with ram air conditions less conducive for cooling the engine bleed air. Typical climb conditions are represented using operating condition A 10 with bleed air conditions at their
e~treme.

Further ascent in flight leading to less severe bleed conditions is

characterised by operating condition Al4. A final operating point, A25, represents typical cruise conditions.

69

These simulations are carried out for both plate and plate-fin heat exchanger models, and comparisons of outlet temperature responses are undertaken. The number of lumped sections for all simulations is
Nxy

=

5. In addition to four different mission operating points and varying input disturbances, the study is further divided into two; for both models and for each disturbance, a study with equal flow rates investigating the bleed air outlet temperature response and the other investigating the ram air flow rate required for an initial steady state bleed air outlet temperature set at a fixed temperature is carried out.
Figure 48 summarizes the simulation study that will be carried out.

A. PLATE (SMOOTH) MODEL

MISSION OPERATING POINTS:

INLET DISTURBANCE I - 40°F step change in bleed air temperature INLET DISTURBANCE II - 20°F step change in ram air temperature

1. Equal flow rates, investigating bleed air outlet temperature response

B. PLATEFIN (FINNED) MODEL

A3, AlO, A14, A25

Q

2. Fixed steady state bleed air temperature set point, investigating ram air usage

Figure 48 Summary of simulation study

As governed by its dynamic operation, the heat exchanger open loop simulation in light of inlet

disturbance I is first discussed. Looking at the first mission point A3 (Figures 49 and 50), there is a
significant difference in the response time to final steady state temperature when comparing the plate and plate-fin models. The plate model displays slower heat exchange dynamics with response times taking approximately 150 sec while the plate-fin showed fast response times of less 50 sec. For a ram air flow rate of 0.02799 lbm/s (heat capacitance rate ratio (R)- 1.5), as seen in Figure 49, a higher initial steady state bleed air outlet temperature of 187.03°F is obtained for the plate- fin model versus 170.6°F for the plate model. In fact, a larger steady state change in outlet temperature is observed for the plate-fin model of approximately goF versus a 5°F change for the plate model, when inlet disturbance I is introduced into

·

the system. The fast heat exchanger dynamics and the larger steady state change in bleed air outlet temperature displayed by the plate-fin model indicate that the inclusion of fins in the model improves the heat exchanger dynamics and provides better prediction of the outlet temperature. The higher initial 70

steady state outlet temperature provides an indication of the difference in heat exchanger performance when the fin's dynamics are included in the dynamics of the heat exchanger. All of this adds an important advantage in controlling and regulating the cabin temperature. Figure 50 illustrates the response of both models when a fixed bleed air outlet temperature set at 170°P is required. The steady state temperature changes in the outlet temperatures are quite similar (a S0 P change and 7°P change for plate and plate-fin models respectively) with the plate-fin model displaying faster heat exchange dynamics. However, the difference lies in the amount of ram air required to attain the fixed temperature, with the plate-fin model showing a significant increase of 0.03899 lbm/s (R- 2) from the 0.02799 lbm/s (R- 1.S) required for the plate model. At first, one might assume that the plate model is more efficient, in that it requires less ram air for cooling. However, neglecting the fin geometry in the plate model would mean less frictional resistance and thus requiring less ram air to overcome the friction. Since the real life aircraft ECS heat exchanger has fins included in its geometry, the plate model creates an illusion that less ram air is used when in fact more ram air is required for cooling.

Figures 51 and 52 illustrate the heat exchanger response to inlet disturbance II. Significantly larger
steady state bleed air outlet temperature changes are observed for both models with a 17 .S 0 P change for the plate model and a 1S.4°P change for the plate-fin model when equal ram air flow rates are supplied and a 17.S 0 P change and a 16.7°P change when a fixed bleed air outlet temperature is set. That means any sudden changes in the ram air conditions significantly affect the bleed air outlet temperature. The higher outlet temperatures of the bleed air are as a result of the increase in the ram air temperature. Similar observations as those made for inlet disturbance I are seen in Figures 51 and 52.

71

200~-------.--------r--------r--------.---------,

-~~-- ~ -----------------------------------------------------

CL 195
ci>
Q)

-

~

- - plate (smooth) model ------- plate-fin (finned) model

~.c

0

190

(

:;
(6 Ci>

<»

'

-

a.

~ Q)

E

185

g .....
' (ij
Q) Q)

180

-

"'C

iii

175

-

I

I

150
Time (sec)

200

250

Figure 49 Mission point A3 bleed air outlet temperature response to inlet disturbance I - equal flow rates

178~------~--------~--------~------~~------~

177

..

---- --- --------------------------------------------------- ~

I I I I I I I

·'

'

-

I I I I

' (ij
Q) Q)

.....

"'C

172 ,'
I

I

-

iii

- - plate (smooth) model ------- plate-fin (finned) model

-

170~------------~------------~·---------------~·------------~·------------~

0

50

100

150

200

250

Time (sec)
Figure 50 Mission point A3 temperature
ble~d

air outlet temperature response to inlet disturbance I -fixed outlet

72

205.--------.--------.-------~--------~------~

,.--,.------------------------------------------------------200'
'
~---------------------,-

'

- - plate (smooth) model ------- plate-tin (tinned) model

-

190 :'
'

-

185
.....
Q) Q)

' (ij

180 175
170~--------~·----------~·--------~·~--------~·--------__J

"C

ffi

0

50

100

150

200

250

Time (sec)

Figure 51 Mission point A3 bleed air outlet temperature response to inlet disturbance II - equal flow rates

190 188
J,- -- --- ------- --

--7---~----/

u:0,
Q)

----------------------- -

186 184
( (

/

,'

/

~
0

t

'

I-.e

'

:;
16
~

cb

I

182
..
I

t

a.

0> E

180 178 176 174
J

(

I I

t

~
0

'

'5
.....
Q) Q)

'

/

I
50

/
- - plate (smooth) model ------- plate-tin (tinned) model

'(ij

"C

ffi

170~------~--------~-------L--------~------~

0

100

150

200

250

Time {sec)

Figure 52 Mission point A3 bleed air outlet temperature response to inlet disturbance II - fixed outlet temperature

73

Mission points Al 0 and A14 indicate less use of ram air as ambient temperatures reduce with increase in
climb. Larger steady state changes in bleed air outlet temperature are observed as R - 1, that is, the bleed air and ram air flow rates are in close proximity to each other. For simulations with a fixed bleed air outlet temperature set, the plate-fin model required higher ram air flow rates to overcome the friction. Similar heat exchanger performance trends are noticed for the mission point A25. A summary of simulation results discussed here is shown in Table 4.
210r-----------------~----------------~.--------------------~----------------~----------------~

205

--~ -· -··- J -- ~ ---------------------------------------------- :

- - plate (smooth) model --- - --- plate-fin (finned) model

-

195 ,' 190
Q)

-

~

185 180 175

-

....
ro
""C
Q) Q)

0

ffi

___...,.--. / /

~
l
I I

170 -------0 50

100
Time (sec)

150

200

250

Figure 53 Mission point AtO bleed air outlet temperature response to inlet disturbance I -equal flow rates

74

182r-------~--------.-------~--------r-------~
~J-~----J--------------------------------------------

L2 180
)

(

J

0,
Q)
)

) )

~

I

I-.e

0

178

~ :;,
1U
(i)

a.

:s
' (ij
Q) Q)

Q)
0 ....

E Q)

176

174
.
)

"0

..
(

(

ffi

172

I I

- - plate (smooth) model ------- plate-fin (finned) model

170

0

50

100
Time (sec)

150

200

250

Figure 54 Mission point A10 bleed air outlet temperature response to inlet disturbance I - ftxed outlet temperature

210~------~--------~------~--------~------~

205
(

-~----------------------- ---- --- ----------------- ----- - -- ~

~

g> 200
0

'

- - plate (smooth) model ------- plate-fin (finned) model

-

I-.e ~

.a
(U

195 190 185 180

J

(i)

a.
~

E

:s
' (ij

Q)

....

0

"0
Q) Q)

~------/
/
I

-

ffi

175

170/.
0

I

I

50

100
Time (sec)

150

200

250

Figure 55 Mission point AtO bleed air outlet temperature response to inlet disturbance II - equal flow rates

75

186~------~--------~-------r--------r-------~
'

184

.. - ' , - - , - -- ---- --- - -- -

:3.

~ 182

//
(

180
178,:'

'

I

;·
///

/

~~- - -- - - -- - -- - -- - - -

~

-

176
"(ij
""0
Q) Q)

.....

174

1
:/
50 100
- - - plate (smooth) model ------- plate-fin (finned) model

-

iD

172 /
0

170~--------~--------~·~--------~·--------~·--------~

150

200

250

Time (sec) Figure 56 Mission point A10 bleed air outlet temperature response to inlet disturbance II - fixed outlet temperature

205 200
G:'
t:n Q) :3.
I-.e cb
0
(

'

- - plate (smooth) model ------- plate-fin (finned) model

195
(

(

::;
E

I

~ Q)
~

190
'
'

(

/
}

c..

a;

185 180 175 170

-=s 0
"(ij
Q) Q)

.....

""0

iD

0

50

100
Time (sec)

150

200

250

Figure 57 Mission point A25 bleed air outlet temperature response to inlet disturbance I - equal flow rates

76

185r-------~------~r-------~--------r-------~
,...,-- ---------

-------------------------- ------------

C2
ci>
Q)
;
)
( (

J
(

'

~
0

(

'

I-.e &>

180
) )

;

::;
Q)

I
J

~

I
)

.....
Q)
0

E Q)

a..
I

(

'

..
;
I

J

:s
._ ro
"0
Q) Q)

.·

175
I
(

(
(

,
.
I

'

ffi

(

'

---plate (smooth) model ------- plate-fin (finned) model

170

0

50

100
Time (sec)

150

200

250

Figure 58 Mission point A25 bleed air oudet temperature response to inlet disturbance I - flXed oudet temperature

200~------~--------~------~--------~------~

C2 195
/
)

'
i

'

- - plate (smooth) model ----- - - plate-fin (finned) model

-

190

(

-

185 -

-

Time (sec)

Figure 59 Mission point A25 bleed air oudet temperature response to inlet disturbance II - equal flow rates

77

/ ---.. ----------~~

-~7

-

182
/ '

?

/'

~
0

Q)

~

180
I

,'
.
'

·'

/
1/
1 ;
.

/~

I-.e

d>
~

f
~
EO
~

~

178
176 /

/

1/
//

174
I

,'·
:

172 .:

·'I
0

1

I

/

- - plate (smooth) model - --- - - - plate-fin (finned) model

170~------~------~--------~------~------~

50

100

150

200

250

Time (sec)
Figure 60 Mission point A25 bleed air outlet temperature response to inlet disturbance II - fixed outlet temperature

Model

Mission operating point A3 AlO A14 A25

Bleed air flow rate (lbm/s) 0.01833 0.01833 0.01833 0.01833 0.01833 0.01833 0.10833 0.10833 0.01833 0.01833 0.01833 0.01833 0.01833 0.01833 0.10833 0.10833

Ram air flow rate (lbm/s) 0.02799 0.02799 0.01833 0.01833 0.01466 0.01466 0.081 0.081 0.02799 0.03899 0.01833 0.02233 0.01466 0.01699 0.081 0.097

Inlet disturbance I ThoeF) Initial steady state Final steady state 170.6- 175.6 170.6- 175.6 170.6- 180.7 170.6- 180.7 170.7- 184.2 170.7- 184.2 170.1- 185.7 170.1- 185.7 187.03- 196.1 170.6-177.1 192.1 -205.6 170.2- 181.6 185.5-201.8 170.2 - 184.6 188.6-207.2 170.0 - 186.6

Inlet disturbance II ThoeF) Initial steady state Final steady state 170.6 - 188.1 170.6 - 188.1 170.6- 185.4 170.6- 185.4 170.7- 183.8 170.7- 183 .8 170.1- 182.3 170.1- 182.3 187.03-202.4 170.6- 187.3 192.1 - 205.2 170.2 - 184.5 185.5- 197.2 170.2 - 182.9 188.6- 199.2 170.0- 181.7

PLATE MODEL

PLATEFIN MODEL

A3 AlO A14 A25

Table 4 Summary of simulation results

78

2.10

EXPERIMENTAL RESULTS AND COMPARISONS

This chapter deals with the experimental analysis and validation of the simulation results carried out earlier. As described before, a test rig was built to perform heat exchanger performance tests as well as temperature control studies. Later, heat exchanger tests will be carried out for fouling analysis.

2.10.1 Operating conditions of the experiment
The experiment is conducted at a room temperature of about 68°F and at an atmospheric pressure of 14.7 psia. Each test is run for a maximum of 600 seconds depending on the available pressure from the tank supply. Two types of tests are carried out for this study:

i. ii.

Steady state heat exchanger tests Transient behaviour of the heat exchanger via a step input disturbance of the bleed air outlet temperature

To obtain steady operating conditions, the following procedure was followed:

a. b.

Set the hot air inlet temperature

Th;

with the heater control box.

Set the ram air (FS22) and bleed air (FS 12) flow rates using the Simulink script shown in Figure

61. The desired values of the flow rates are controlled by a PI controller. To keep the bleed air
flow rate and pressure constant, a control valve (CV3) is installed. The control valve (CV1) in the ram air channel controls and provides a steady ram air flow rate. c. The bleed air outlet temperature
Tho

and load temperature

T1oad

are measured by temperature

sensors TS21 and TS11 respectively. d. The hot inlet pressure and P21 respectively.
Ph;n

and cold inlet pressure

Pc;n

are measured using pressure sensors P11

A Simulink script as shown in Figure 61 is used to run and obtain data from the test rig.

79

Honeywell sensor

FS12

W_H

CV3

CV1

National Instruments PCI-6704 [Oh)

2
CV2 T_ho Fcn4 TS 11
(F)

Omega sensor TS21 Power

TS

n
TS11 Power

TS excitation 1mA1

Gain4

T_co Gain2 TS 12 (F)

Figure 61 Simulink script for heat exchanger experiment
80

The air source from the pressure tanks and the capacity of the compressor feeding the tanks is limited, as a result the pressure in the bleed air and ram air channels decreases with time as the experiment runs. This corresponds to limited mass flow rates for experimental set ups that require longer run times. The discrete PI (proportional-integral) controllers have the following forms:
UCVJ ( k) = UcVJ ( k -1)+ Kpcv 3 {( eCVJ

(k }-eCV3 (k-1))+ eCV) (k )(

%iCVJ)}

(6.1)

where eeV3 ( k) = ~in_command ( k)- ~in_measured ( k)

where eeV3 ( k)

= Wram

-

command (

k)- Wram

-

measured (

k)

where u(k) is the controller out time instant k, Kp is the proportional gain, Ts is sample time and Ki is the integral gain.

2.10.2 Steady state results
The first part of the experimental tests involves running under steady state conditions. Four tests were run with different operating conditions each run twice for verification. A sample of one of the test results and operating conditions is shown in Table 5 and Figures 62 - 64.

Th; = 163°F Tc; = 68°F Ts = 0.1sec

mh=o.o115

KpevJ = 15 Kpevi = 20

KievJ = 10/5 KievJ = 20/5

me= 0.0110 Tno = 99.3 9°F

Table 5 Operating conditions and experimental data for a heat exchanger test A

A similar test with different operating conditions is shown in Table 6 and Figures 65 - 67.

Th; = 152°F Tc; = 68°F Ts = 0.1sec

mh = o.o1o1 me= 0.0510 l.no = 74.14°F

KpevJ = 20 Kpevi = 20

KievJ = 10/5 KievJ = 20/5

Table 6 Operating conditions and experimental data for a heat exchanger test B

81

120

E 100
(/)

N
Q)

1-

2
.m
'S
0

80

E

a.

Q)

~

60

]l
40

'iii
'C

m

Q) Q)

20

0 0 100 200
300

400

500

Time (seconds)

Figure 62 Bleed air outlet temperature reading - Test A
0.014

Ul 0.012

g
N

'E

u; u.
11::

0.010

..m 0.008 ~
~ 0

en 0.006 en E 0.004 'iii
nl
'C
Q)

~ co 0.002

0.000
0

100

200

300

400

500

Time (seconds)

Figure 63 Bleed air mass flow rate reading- Test A

~

0.014 0.012

g
N N

E

(/)

u. 0.010
~ ~
~ 0

0.008

11::

cn 0.006 nl E .... 'iii 0.004 E nl a::: 0.002

cn

0

100

200

300

400

500

Time (seconds)

Figure 64 Ram air flow rate reading - Test A

82

80

E
N (J)
I~
Q)

60

.a
~

E 40 .$
Q)
+:1

a.

·n;
~ ill
"0

0 ....

:J

20

0 0 50 100 150 200 250 300

Time (seconds)

Figure 65 Bleed air outlet temperature reading- Test B
0.014
~

g
N
(J)

E

0.012

0.010

LL.

.$ 0.008
~
~
q::
II) II)

0

0.006

.... ·n;
a:l

E

<U

0.004

"0
Q)

.s! 0.002
0.000

0

50

100

150

200

250

300

Time (seconds)

Figure 66 Bleed air flow rate reading- Test B
0.07 . , . - - - - - - - - - - - - - - - - - - - - - - - - - - ,

~

0.06

g

E
0.05

N N (J)

LL.

.$ 0.04
~
~
q::
II) II)

0

0.03

E .... ·n; E
0:::
<U

<U

0.02

0.01

0.00

0

50

100

150

200

250

300

Time (seconds)

Figure 67 Ram air flow rate reading- Test B

83

Finally a summary of the last two experimental tests is shown below in Tables 7 and 8.

mh = o.oo95

KpcvJ = 20 KpcvJ = 15

KicvJ = 10/5 KicvJ = 15/5

me=0.045
Ts

= 0.1sec

Table 7 Operating conditions and experimental data for a heat exchanger test C

mh
Ts = O.lsec

= o.o4o4

KpcvJ = 20 KpcvJ = 20

KicvJ = 10/5 KicvJ = 20/5

me= 0.0515

Table 8 Operating conditions and experimental data for a heat exchanger test D

To validate the plate-fin model, the experimental data was compared with the simulation results. In addition, for the given initial conditions (varying NTU and R values), it is verified that the steady state simulation at ' = 0 matches the experimental bleed air outlet temperature results as shown in Table 9 and Figure 68.

STEADY STATE HEAT EXCHANGER OUTLET TEMPERATURE (°F)
TESTA Simulation TESTB Simulation Experiment (MATLAB) 70.153 69.471 68.905 68.474 68.189 68.045 68.003 99.38932062 68 74.14 Experiment TESTC Simulation (MATLAB) 149.77 149.74 149.72 149.72 149.71 149.71 149.71 149.75 145.2 Experiment TESTD Simulation (MATLAB) 90.718 88.741 86.62 84.324 81.812 79.02 75.849 72.138 94.6 Experiment

;
0 0.1 0.2 0.3 0.4 0.5 0.6 0.7

(MATLAB) 94.951 93 .342 91.599 89.686 87.546 85.085 82.1 78.045

Table 9 Steady state heat exchanger simulation results comparison to experimental results

The possible reasons for the minor disparity between the results of the experimental and numerical simulations are the assumptions of negligible heat losses and ideal plug flow, neglecting conduction, number of lumps used, and all other idealizations made earlier in the development of the model.

84

160 ,------------------------------------.
u:::0 0

140 120

~--~

.a
(U

Q)

~ 100 t:~:.::.·~-

a.

Q)

._._... __._... __._._... _ _._._.·-·-·_.·. ·-· . -··-·-·----l

~

"'C

80 --------·-··-··-··-··-··-·
60+-------~--------~--------~------~

0

100

200
Time (sec)

300

400

Figure 68 Effect of l; = 0 on steady state bleed air outlet temperature; Experimental responses (thick solid curves)

2.10.3 Transient behaviour results
In this section, the transient behaviour of the heat exchanger is studied experimentally and compared to simulation results. The same procedure is followed as with the steady state experimental tests. All tests were performed by creating a step input disturbance at the bleed air inlet temperature of about 40°F. The hot bleed air outlet temperature response is studied for four tests with different operating conditions (varying NTU and R values). To create the disturbance in the system, the heat exchanger is first allowed to achieve steady state conditions and then a step input of 40°F at the bleed air inlet temperature Th; is set using the heater control box. For this experiment, the inlet temperature was read from temperature sensor TS21 while the outlet temperature reading was made from temperature sensor TS 11.

A sample test illustrating the operating conditions and test results is shown in Table 10 and Figures 6972.

Thiss = 124. 6°F Tc; = 68°F Ts = 0.1sec

rhh = 0.0409

KpcvJ = 20 KpcvJ = 20

KicvJ = 10/5 KicvJ = 20/5

me= 0.0499
Loss= 98.09°F

Tho final = 111.6°F

Table 10 Operating conditions and experimental data for a heat exchanger test D

85

0.05

Iii'
N

e g
~ ~

0.04

c;;
LL

0.03

q::

~ 0

.... ·n;
~ Q)

E
0.01

ro

II) II)

0.02

iii
0.00 0 50 100 150 200 250 300

Time (seconds)

Figure 69 Bleed air flow rate reading- Test D
0.06

g
N N

..!!! 0.05 E
0.04

(/)

LL

~ ~
q::

~ 0

0.03

.... ·n;

E

ro 0.02

II) II)

E ro 0.01 a::::
0.00 0 50 100 150 200 250 300

Time (seconds)

Figure 70 Ram air flow rate reading - Test D
180

E
(/)

160 140 120 100 80 60 40 20 0 0

N

I-

.a
Q)

~
~

r
50 100 150
200 250

~

E

a.

Q)

:5 ....
·n;
"C
Q) Q)

iii

300

Time (seconds)

Figure 71 Bleed air inlet temperature reading- Test D

86

120

E
1-

100

;;;
I!!
~ Q)
:J

~

80

.!!

E

a.

60

s
0

Q) 40

·n;
"0

....
~

20

a5
0 0 50 100 150 200 250 300

Time (seconds)

Figure 72 Bleed air outlet temperature reading- Test D

A significant change in the final steady state temperature is observed with slow heat exchanger dynamics for R - 1. The experimental result is similar to the simulation results. At the bleed air outlet, a step change in the bleed air inlet temperature of 40°F results in a 13.5°F change. All other test results are summarized below in Tables 11-13.

Thiss = 120.8°F Te; = 68°F Ts = 0.1sec

mh = 0.011 me= 0.0099 Loss = 89. 7°F

KpcvJ = 15 KpcvJ = 20 Lo final = 9 8.1 °F

KicvJ = 15/5 Kicv1 = 20/5

Table 11 Operating conditions and experimental data for a heat exchanger test A

Thiss = 116.6°F Te; = 68°F Ts = 0.1sec

mh = o.o1o9 me= 0.0525 Loss = 74.3 °F

KpcvJ = 20 KpcvJ = 20 LoJlnal = 74.6°F

KicvJ = 10/5 KicvJ = 20/5

Table 12 Operating conditions and experimental data for a heat exchanger test B

Thiss = 121.7°F Te; = 68°F Ts = 0.1sec

mh = 0.0459 me= 0.0097 Loss = 105.49°F

KpcvJ = 20 KpcvJ = 15 Lo_fl_nal = 141.6°F

KicvJ = 10/5 Kicv1 = 15/5

Table 13 Operating conditions and experimental data for a heat exchanger test C

87

....~100

t

- 110 , . - - - - - - - - - - - - - - - - - - ,

~

n;
.....

8.

90 ~ ....

~--

~

-

_,

E 2

80
~--..,_-

..
.. "' ....

. ~ .... ~ -.... -. -.. - - ~ =0.1
-- - - - .. - .. - - - - ~ = 0.2 - .. . ... ~ = 0.5

-~-o

·a;
-o Q)
~

_. . ,.,

70
0

- .. -- ~ =0.6
---Experiment

co

60 +----~----~--~---~

100

200
time

300

400

Figure 73 Bleed air outlet temperature response to 40°F step hot fluid inlet temperature- finned model TestA

Figure 73 illustrates the effect of ' on the bleed air outlet temperature response and compares it to the
experimental result for Test A. It can be observed that for'= 0.0 to 0.2, a close approximation can be made with experimental test. Therefore, ' is vital in how it affects the temperature response, with the outlet condition approximation (' = 0) showing no irregularities. Similar observations are made for all other tests.

In addition, all four experimental test results are compared with both plate and plate-fin simulation models for varying R and NTU values. In general, similar observations are observed as in Sections 2.8 and 2.9. All simulations are performed for
N xy

= 5. The effects of varying NTU and Ron the bleed air outlet

temperature response are in Figures 74 and 75 for finned and smooth models respectively. For R close to one the values of NTU affect the transient solution. A significant time delay is also associated when R is close to one. As R values significantly increase or decrease, the NTU values become less important, and R becomes the dominant factor in controlling the temperature output. In analyzing the heat exchanger simulation for high/low values of R, the dominant fluid will experience a faster transient response. In general, the smooth model experiences a longer time delay to achieve a steady state condition. Comparisons are also made with the experimental tests. Significant differences in the response plots can be observed between the two models and the experimental plots. It is evident that the finned model produces a significantly better comparison to the experimental tests with fewer disparities. The larger time delays observed for the experimental run are due to complex heat exchanger dynamics, thermal core mass, heat losses to the environment, and slow sensor response time. Therefore, inclusion of the fins reflects the essential dynamics required to better predict the outlet temperature response and the overall heat exchanger dynamics. 88

160 .------------------------------------.

G:'

~ 140
Q)

I-""'

.a
n:J

120

~
~

a.

Q)

100

~~~-----··-·-··-·-··-·-··-·-··-·-··-·-··-·-··-·------~A~l
~......----

-g
co

80

.. - .. - .. - .. - .. - .. -.
200
Time (sec)

60+------8 =-~------~------~------~
0

100

300

400

Figure 74 Effect of the NTU and Ron bleed air outlet temperature response- finned model; experimental responses (thick solid curves)

160 .-----------------------------------~

60+---------r-------~---------r------~

B

0

100

200
Time (sec)

300

400

Figure 75 Effect of the NTU and Ron bleed air outlet temperature response- smooth model; experimental responses (thick solid curves)

89

PART 2 HEAT EXCHANGER FOULING AND FOULING DETECTION

90

CHAPTER3
3.1

INTRODUCTION

LITERATURE REVIEW

Fouling is a dynamic process that evolves continually until equilibrium is reached and the exchanger needs to be cleaned. When fouling increases, the heat transfer between the fluid decreases, and can result in aircraft heat exchanger deterioration with time. It also increases the energy cost of the aircraft ECS heat exchanger, with losses in thermal energy and an increase in engine power to overcome the increased pressure drop. Reduced performance due to fouling of the aircraft ECS cross flow heat exchanger may necessitate it being removed from service for cleaning, a potentially time-consuming process. So in an environment where down-time is costly, at what service intervals should the heat exchanger be repaired, is put to the question. It is therefore important to minimize or at least monitor the fouling in aircraft heat exchangers.

Maintenance concepts have evolved over time, pursuing greater effectiveness and lower overall maintenance costs. The first structured approaches were the MSG-1 and MSG-2 (Maintenance Steering Group) created during the 60's and 70's [94]. To address the challenges of the degree of systems complexity from the introduction of the modern transport aircraft in the 80's, the MSG-3 was developed. The underlying concepts that guided the development of MSG-3 were those of the Reliability Centered Maintenance (RCM) [94]. The MSG-3 proposed a methodology to define maintenance tasks due to safety or economic reasons, and the tasks intervals were functions of the associated reliability and criticality. By bringing the statistical tools of reliability theory to use, the MSG-3 represented a great advance compared to the previous reactive maintenance practices, but the end user still had to deal with some unscheduled maintenance and 'loss' of useful life (Figure 76). The reason for it is that the maintenance actions are

scheduled for an average component running under average environmental and stressing conditions. The implications can be understood with the example of a component that is scheduled to be replaced when it achieves 80% MTBF (mean time between failure). Whenever a component in this population presented lower-than-average strength characteristics (which can be partially avoided via quality management, but not extinguished in economically viable ways), or was operated in a higher-than-average environmental condition, it would fail before the population mean, and the end user would face an unscheduled removal. To avoid unscheduled removals, the maintenance policy cold establish lower (more conservative) replacement thresholds, but than the effect for the end user would be a greater "waste" of useful life.

91

Reactive ~--~~

Preventive

~·-··--

Predictive

Task oohodulng ba$.1d on p:tpllntion sbltisoos. (MTBF, MTBUR)

RCM R91bbHitt ~w~ Maimman»
-MSG-3 Ana~ ard cc~Mont;lal:41tf
o:n.ld ?r~ral"tt8
·~r inmtrl'l!!lntalicfl iM ail!talt oonfOJ'IIi:ln oontrol

Main»mn» a:dons

.· · U .rmhe<lul9d m .· aii'Gntf'lot } .. · . · · i'I~Mn1iCfl
-·· U~fullif& "Was»"
NIJ'I'ber d FaiUIM t;PDF)

oohedu~ t:oso<f on

txlf1l)Qrtnt OCfldiOOn

Mai.-nm:ll!
td'leodul~

Mlint«~a,.,.

actioo

Figure 76 Evolution of maintenance concepts [94]

Maintenance concepts using Condition-Based Maintenance (CBM) are now being adopted in modern civil transport aircraft. The maintenance plans shall no longer be determined based primarily on the population statistics (measured by figures as MTBF, MTBUR, etc.), but rather based on the systematic condition monitoring results generated for each individual component [94 ]. Maintenance tasks are to be scheduled based on the components actual condition, monitored via embedded sensors connected to the adequate equipment dedicated to data recording, transmission and processing. As the CBM paradigm usually requires extra sensing capabilities and extended data management provisions, it is only applicable to some components where the technical viability is present and the cost-benefit analysis show conclusive advantage. There will also be several components and systems for which the present preventive and prescheduled maintenance paradigm will continue to be the best alternative [94].

The CBM benefits potentially apply over a wide range of areas and several measurable benefits are being reported, as the concepts start to be implemented in the commercial airline fleets [94]. The tangible benefits being reported are related to reduction of flight delays and cancellations, reduction of troubleshooting times, reduction of NFF rates (No-Fault-Found during the troubleshooting I failure analysis processes) , elimination of pre-scheduled inspections and optimization of the logistic infrastructure. Other intangible benefits are also expected to become reality in the next few years, such as

92

the leverage of future sales based on a product image of reliability, safety and robustness, and the translation of systematically recorded field data into engineering knowledge to better support and develop new products [94].

The development of a Diagnostics, Prognostics and Health Monitoring (DPHM) solution is applied to the aircraft ECS heat exchanger. Using the heat exchanger, DPHM algorithms are developed and proposed to identify the gradual contamination mechanism as it takes place on the heat exchanger metallic surfaces. The temporal characteristics of the recorded temperature signals make it necessary to model the contamination as a stochastic process. As a result of the systematic monitoring process, predictive maintenance actions can be scheduled as a function of the actual health status of the specific component, resulting in the conditioning monitoring process of the aircraft heat exchanger. Today, airline operators already face the problem of getting too much raw data and not being able to effectively process it to support maintenance decision making. Parameters trending can be tricky and often require an elaborate combination of methods to translate raw data using useful information and knowledge. This is the point where the DPHM algorithms and methodologies can give an important contribution to optimize the maintenance activities.

Most modern civil aircraft are equipped with central data buses and Central Maintenance Computers (CMC) operating in a federated architecture, with several member systems each exhibiting some degree of components monitoring functionality, BIT (Built-In-Test) capability, and fault reporting and isolation functions. However, the coverage in terms of failure modes monitoring is often very limited, due to transducers location, quantity and specifications [94]. This is not the ideal scenario from the DPHM perspective, but is enough to support some proof-of-concept initiatives.

The OSA-CBM (Open System Architecture-Condition-Based Maintenance) standards are defined based on technical, industrial, commercial, and military trends to allow the development of an effective open systems architecture that will promote the rapid, cost-effective deployment of known monitoring diagnostics and prognostics technologies [94]. The OSA-CBM overview is composed of seven layers with interfaces defined in UML language. Figure 77 presents a brief functional description of the OSACBM layers. Benefits of adopting international standards are ease of integration, possibility of exchanging modules and reduction of development times and costs [94 ].

93

#7 PRESENTATTON
fl~

DECISION SUPPORT

mm _- -~ .c I~-. ~ocwwmurititle~JP-~~ - I 0 I m
·_ cer _ l .' s the . ·.· · . . ~ Mlyqa;e:ry all Cllherl~ .
b . __y

.

~dt:.tooaueu:bl.e~tpt-._

Pt~,ricr. ~def): bft1ld.la~~.

#5 PROGNOSTICS
#4 HEALm ASSESSI\.'IENT #J CO:"!DmON MO~ITOR

Dl

ernp!oyll.lt!at ~ehet!ule, aad ~1na.~

lim are nb!ieb _~ Amu:e·bea&h 'll.ith. eeminty fa'let~mu.1 er.rodlalllld\.

---

Hafib Aftft5GM'It U.lbt-la·w le\'fl cl' p111l lfl~ beba'!.w. Uss.bi~mc.al and CM:

...

e

~t~

mdtlennme Ml:tl011.1.1@3111l Miw-u.te

~on.aum:itrlr iaplh

,,.
0
DATA ACQt.:IsmoN
.

t

Ca:xtil:i!lUMcuitci:uq.slltl.u!n s:r dab · eOl!lpJm to sp~ pr~ fntur!t.
H1~)1b_v:: .-icwl ai~ ~c ~1G

I
I

I

stpl . hoces~ prO"oideiow-lr·'l!! e~al!Dn ~ tenW!f' dlta,

!

4

'·""' "'--·!:

k

#1 SEl\WOR

.JIODllLE

Ilil!tJ Ac!pi-..incu- COO,'l'll!'r..ll!l:r ~g a£ analo.~ caip<rt :5= Min~ b). ~nl t\byirlal'lpallleJI:II!tt-diua Al3, l4:t IX
T<rM~et~r:m-r.:m.s:lllllle ~Ailllliti1n ~'lieal

IRA:\SDl:CER

~ iW

e:ullj· Jak· i)'SIIem.

Figure 77 The OSA-CBM functional overview [94]

To allow a more extensive realization of the CBM potential, several sensors currently installed in the aircraft for control and safety reasons have to be useful as generators of systems health data. Extensive work has to be done to accurately identify components that are good candidates for the application of DPHM techniques in the aircraft. This task can be accomplished as the combination of two parallel analyses [94]:

a technical viability analysis, comprised of a systematic evaluation of systems and components FMEAs (Failure Modes and Effects Analysis) and FTAs (Fault Tree Analysis), followed by a combination of this information with sensors provisions information (transducer technical characteristics and installation details), and failure mode coverage. an economical analysis comprised of the evaluation of field interruption data (delays and cancellations of scheduled revenue flights), the interruption causes (failure events correctly diagnosed and root causes for each interruption) and the estimation of costs incurred due to failure occurrence (direct and indirect costs).

The combination of both analyses should result in quantitative indexes pointing to good candidates for the DPHM system, both from a technical and an economic perspective.

94

According to this methodology, the air-to-air heat exchangers installed in most conventional air conditioning packs designed for aeronautical use were identified as good candidates [94]. From a technical standpoint, it is possible to monitor, with some limitations, one of the most common failure modes of the heat exchanger: the gradual loss of efficiency due to fouling of the metallic surfaces. From an economical standpoint, the systematic execution of the data recording, downloading and processing cycle could drive an optimal cleaning policy, with the potential to reduce maintenance costs and avoid unexpected air conditioning machine shutdowns.

Figure 78 presents a schematic with the heat exchanger and the typical sensor arrangements, as
encountered in most air conditioning machines (or air conditioning packs).

High limp&ralur9, tigh p55$Ure airb

Air Condi1ioni ng Machine Machine core
IJC(Ri~ pll1t)

TQro2raturQ

Mnsor

l
,

Cootrotkld
Cooli<J air
»nlp&raturQ

p:::::~c:::~$

Fk:MW~sor

Bypass valve
(rroduletlrg fcr wmpMature oonaol)

Figure 78 Schematic of a typical modem air conditioning machine for aircraft ECS [94]

The high pressure, high temperature airflow that is extracted from the engine compressors (bleed air) enters the air conditioning packs and exchanges heat with the cold airflow coming from NACA inlets (ram air). As the air conditioning pack operates in real environments, contaminants gradually accumulate on the metallic surfaces and lower the heat transfer coefficient, gradually losing its effectiveness. The machine core is comprised of rotating machinery (a combination of compressor and turbines, the numbers of each and other characteristics depending on specific machine design) to implement a closed thermodynamic cycle capable of delivering cooled airflow. As the contamination process progresses to extreme conditions, the efficiency of the thermodynamic cycle is negatively affected and the performance of the integrated air conditioning system is degraded. This may led to air conditioning machine shut

95

downs (and subsequent single-pack operation, instead of normal dual-pack), that will limit the operation of the aircraft to lower cruise flight levels. Even if the air conditioning machine keeps running, the degraded performance may start to cause thermal discomfort for the cabin occupants when the system is not capable of compensating for it anymore [94]. A control loop is responsible for the modulation of the bypass valve, to continuously adjust the mixture between the hot airflow and the cooled airflow to follow the temperature reference set by the flight crew as closely as possible. This constant modulation of the heat exchanger inlet flow imposes a constraint in the monitoring solution.

As stated before, no DPHM-specific requirements were defined during the development of most current aircraft systems, and the instrumentation installed for safety and control reasons has to be used with the limitations it imposes. In a typical aeronautical ECS heat exchanger, mass flow measurement is available at the air conditioning pack inlet, due to safety requirements related to cabin recirculation of fresh air (as a function of the number of cabin occupants). Bleed temperature is measured to generate the feedback signal for the associated control loop and is also used for monitoring purposes. To ensure safe operation of the air conditioning machine, the point of highest temperature along the thermodynamic cycle is also recorded (usually after the internal compression stage). These three measurements are the typical available raw data that together with aircraft Mach Number, flight altitude and external air temperature (necessary for normalization) can be used to generate a single degradation index of the monitored component [94]. Figure 79 illustrates an example of a proposed methodology for monitoring heat exchanger contamination.

With this information in mind, monitoring and detecting fouling in the aircraft ECS heat exchanger remains a challenge and will be tackled in chapters to follow. Several documents [95- 101] are available on heat exchanger monitoring processes.

The research of fouling has led to its process, causes and effects, mitigation and control having been widely studied. Studies on the nature of particulate fouling and the effect of flow conditions and geometry on fouling are looked at in [1 02- 105]. A more preventive tool and measure of fouling (with anti-fouling techniques, cleaning methods and mitigation) is studied in [106 - 109]. The performance of heat exchangers under the influence of fouling is numerical simulated using CFD by Brahim, Augustin and Bohnet [11

or For the fouling detection of heat exchanger processes, different methods can be applied

based on the information extracted from direct measured signals, from signal models and process models. These methods display different properties with regard to detection of faults in the process, the actuators and the sensors. Early detection and diagnosis of process faults while the aircraft air conditioning packs

96

are still operating in a controllable environment can help avoid abnormal event progression and reduce flight delays and cancellations. Model-based fault detection and diagnosis can be classified into two main categories: quantitative model-based methods or qualitative model-based methods as defined in Figure 80

(111]. There is an abundance of literature on process fault detection and diagnosis (with regards to
detection of fouling) ranging from analytical methods ([97], [98], [100], [101], and [112 - 123]) to statistical approaches ([99], and [124- 126]).

Flight Data Mach number Altitude Ambient temperature Bleed temperature Compressor outlet temperature

--+

Data Filtering Raw data that contain outliers and gross errors (e.g. from faulty sensors) need filtering

/

Inlet bleed temperature esthnation Estimation based on system models and thermodynamic principles

~
Statn and parameter estimation Estimation based on the tuned EKF and plate-fin models with available measurements and flight conditions

~

...

Fouling models Calculation based on off-line recorded sensory information for both airconditioning packs

1-+

Fouling Detection tool A CUSUM test tool estimates time to failure based on a set failure threshold value

Figure 79 Data processing methodology for the aircraft heat exchanger

97

observed

.---------analytical
1

analytical knowledge

variables

1

.,----------1 I
I . I I I I I I I
J

heuristic knowledge

:

process model .....,._ __,'--~-.t
filtering, estimation

'

change
detection

1
I

nonnal features

I
I

I

fault diagnosis (pattern-based)

classification clusrering

fault diagnosis (infurcncing. rule-based)

Figure 80 Overall Scheme of knowledge-based fault detection and diagnosis [111]

The most common methods of detecting faults in the heat exchanger are based on assessment of the heat transfer coefficient, the pressure drop, the flow rates, the temperature drop and the weight of the plates. The approach for this study is to seek an algorithm for calculating the minimum variance estimate of the state as a function of time and the accumulated measurement data, given the nonlinear state space lumped parameter plate-fin heat exchanger model (with out the linearization of th~ heat transfer coefficients, i.e., parametrization in the model) developed earlier in Part 1 and applying it to fouling detection. As mentioned earlier, the heat transfer coefficient variation with temperature was assumed small, and is dependent on the mass flow rate as determined by Eqs. (2.1) and (2.2). Hence the governing differential equations that will be derived are nonlinear, due to the functional dependency of the heat transfer coefficients on mass flow rate. In Part 1, two lumped parameter models were derived: 1. Linear state space plate (smooth) model 2. Linear state space plate-fin (finned) model Both models with the nonlinear nature of the heat transfer coefficients were linearized and with the inclusion of the fins, the second model described better the dynamic behaviour of the whole heat exchanger. However, linearization of the process can generalize the results, thus leaving the need for increased model accuracy. Thus a nonlinear state space plate-fin model with proper parametrization is 98

required for optimal estimation of states and improved predicted dynamics of the heat exchanger. The parametization is necessary to maintain the nonlinearity displayed by the heat transfer coefficient as well as the heat transfer process which is mainly accentuated by the parameters. To jointly solve the nonlinear estimation of the model parameters and states, the extended Kalman filter (EKF) can be used. This is a linear estimator for a nonlinear system obtained by linearization of the nonlinear state and observations equations [122]. For any nonlinear system, the EKF is the best linear, unbiased estimator with respect to minimum mean-squared error criteria [122]. This method has been widely used in a number of heat exchanger applications and can be found in the literature [100], [101], [119 -123]. Mutambara and AlHaik [122] describe the parameter estimation of a lumped counter-flow one plate heat exchanger by minimizing a score function. In [123], Jonsson and Palsson investigate a lumped parameter heat exchanger model and included the nonlinear dependency of the heat transfer coefficients with the mass flow rates and the temperatures. A similar approach is applied to the work presented here in a bid to detect fouling in the aircraft ECS heat exchangers, with an improved heat exchanger model that uses the core and fin dynamics. The improved dynamics will result in a reduced discrepancy between the joint state-parameter prediction and actual measurement.

An extended Kalman filter (EKF) algorithm for parameter identification has been developed for the aircraft ECS crossflow heat exchanger having continuous dynamics and discrete-time measurements based on the literature [127]. In particular, the model is applied to on-line detection of fouling in the aircraft ECS heat exchangers. The heat exchanger model is of the lumped state space form where the states are represented by the core and fin temperatures. The ratios of the thermal capacities of the masses of the two air streams to the thermal capacity of the core itself are negligibly small, and hence can be equated to zero. The smallness of the capacity ratios means that the fluid transit or dwell times are small compared to the duration of the transient [45]. The model parameters' (i.e., the heat transfer coefficients) functional dependency on mass flow rate accurately describes the dynamic behavior of the heat exchanger. Since the parameters are functions of mass flow rate, as are the core and fin temperatures, the model is nonlinear in the states and the EKF is applied to the state estimation. The correlation equations for heat transfer coefficients for practical heat exchangers used in the industry as employed here as determined by Eqs. (2.1) and (2.2). Measurements of the inlet and outlet temperatures and the flow rates provide model parameter estimation with the EKF algorithm. Unlike most conventional methods, fouling is detected for both steady state and transient conditions. The present study's superiority over previously studied lumped models is the consideration of secondary surfaces (fins) and nonlinearities, (e.g., dependency of heat transfer coefficients with flow rate). The inclusion of these functional dependencies (fins and the nonlinear heat transfer coefficient) is justified by the quality of the predicted results, as

99

validated via experimental tests. A brief introduction of fault detection methods will be discussed in the next section.

3.2

FAULT DETECTION AND FAULT DIAGNOSIS

The aircraft industry has paid more attection to increasingly stringent safety and environmental regulations. To meet the higher standards, modern aircraft system processes contain a large number of variables operating under closed-loop control. The controllers are designed to maintain satisfactory operations by compensating for the effects of disturbances and changes occurring in the process. Though these disturbances can be compensated for by the controllers, there are faults that are not adequately handled. In the aircraft ECS, these faults include process parameter changes, disturbance parameter changes, actuator problems and sensor failures/errors. Examples of such faults in the ECS are:

Heat exchanger fouling (process parameter change) Heat exchanger leakage (disturbance parameter change) Sticking valve (actuator problem) Biased measurements (sensor error), etc.

To ensure that the operating process satisfies performance specifications, the faults need to be detected, diagnosed and removed. See Figure 81 for a summary of the fault detection methods.

FAULT·DETECTION METHODS

limit checking

principal

servers

estim.

component analysis

Figure 81 Fault detection methods flow diagram [111]

100

Fault detection and diagnosis (FDD) methods consist of the detection part, which includes the feature generator and symptom generator, and the diagnosis part, which contributes to the fault identification [111]. In the first part, the differences between measurements and predicted variables are called residuals and are indicative of the presence of faults in the system. In the second part, the relations between symptoms-based residuals and faults are established. To detect and isolate a fault, it is important to find the significant symptoms that are robust against noises and disturbances. One way to analytically detect the existence of a fault is to look for anomalies in the system's output relative to the model-based estimate ofthat output [111]. The importance ofthe model-based fault detection lies in the accuracy of the model describing the behaviour of the monitored heat exchanger system. Model-based FDI can be defined as the detection and isolation of faults in a system by means of methods which extract features from measured signals and use a priori information on the process available in terms of a mathematical model [111].

Figure 82 shows a general scheme for model-based fault detection. The basic fault detection methods can
be divided by analytic and heuristic symptom generation as indicated by Figure 80 [111 ].

Feedback Controller

i
Controller malfunction
!!

Process Distrubances

Sensor Failure

'I Actuator

I

I
J

t
,. "'

t
~

i
Actuator Failures

Dynamic Plant

Sensors

l:

,

i
Structural Failures

~
,.
v
"' ,.

Diagnostic System

,. "'

Figure 82 Scheme for the model-based fault detection

3.2.1

Analytic symptom generation

The analytic knowledge on the process is used to produce quantifiable, analytical information [128]. This information is then compared to measured process variables [128]:

101

limit checking of a direct measured variable. The measured variables of a process are monitored
and checked if their absolute values or trends exceed certain thresholds. The featured residuals are exceeded signal tolerances.

signal analysis of directly measured signals. Changes in measured signals can be detected as
faults by signal model-based methods, e.g., correlation functions, frequency spectra,

autoregressive moving average (ARMA). Common residual values include variances, amplitudes, frequencies or model parameters. The task of the fault detection by the analysis of signal models is summarized in Figure 83.

process analysis by using mathematical process models together with parameter estimation, state
estimation, and parity equation methods. The featured residuals include parameters, state variables and residuals; see Figure 84.

Yi

u

~
actuators

faults

~

~
sensors
· I
~-------

N
y

--Fourier analysis
-Wavelet analysis

t

process

-------,

! I I
I I
I I

signal model

1 signal model-based I .._...- fault detection - correlation function

I

features I I -exceeded thresholds '-------~Yo Syv l"tudes .---..&..--''. ' Rvy ~ - amp 1 change normal behavior===t>l detection - frequencies analytical symptoms

feature · generation

s
Figure 83 Scheme for fault detection with signal models [111]

102

3.2.2

Heuristic symptom generation

Heuristic symptoms can be produced by using qualitative information from human operators. Through human observation and inspection heuristic featured generations in the form of special noise, color, smell, vibration, wear and tear, etc., are obtained [128]. The process history such as performed maintenance, repair, former faults, lifetime, and load measures qualify for such statistical methods.

Y.1

u

~

t

faults

~

~
sensors

t
N

y

actuators

process

1 I process L::::=====:FI>t model IQ:::i,=====:::::J

r---------------,I
I

i .model-based fault detection

normal behavior

feature state estimation, observers generation I -principle component analysis I l------- -- r ,o, o features - parameters change - state variables detection -residuals s analytical symptoms

I -

I - parity equations

r.

parameter esthnation

x

Figure 84 Scheme for fault detection with process models [111]

3.2.3

Basic fault models and terminologies

A process P is considered which operates in open loop as in Figure 85a. U (t) and Y (t) are each a
measurable input and output signal, respectively. Faults can either be externally (e.g., dust, humidity, chemicals, corrosion etc) or internally (e.g., wear, overheating, leaks etc) generated. These faults F (t) affect first internal process parameters

e

by AE> (t) and/or state variables x (t) by Ax (t), which are

103

frequently not measurable. For any dynamic process, the measurable output Y (t) are influenced by a change L1 Y (t) as a result of these faults. In addition to the generated faults, natural process disturbances and noise N (t) and changes of the manipulated variable U (t) also influence Y (t). A remaining fault f (t) usually results for an open loop process with a permanent offset of L1 Y (t) as in Figure 86a. However for closed loop systems (see Figure 85b), the behaviour is different as shown in Figure 86b.

c
9+~8 X+~
8+~8 X+~X

(a)

' (b)

Figure 85 Scheme of a process influenced by faults F: (a) open loop; (b) closed loop [111]

f!L
~elL
-~Yk

..

IV
~elL

t

..t
..t
t

.. ..
~ul
(a)

t

~y
llU

t

L==----==.

.t

t

Figure 86 Time behaviour of: (a) open loop; (b) closed loop processes [111]

104

The results show a more or less shorter and vanishing small deviation L1 Y (t) and a permanent offset L1 U
(I) for the same process. If only the output Y (t) is supervised, the fault may not be detected because of the

small and short deviation, furthermore corrupted by noise [Ill]. The reason is that a closed loop not only compensates for the disturbances N (t), but also parameter changes and state changes with regard to control variable Y (t). Thus the closed loop compensates for faults F (t) unless the fault grows and causes the manipulated variable to reach saturation. Therefore in closed loop processes, both U (t) and Y (t) need to be monitored.

In general, applied process models can be classified according to continuous models and discrete-event models both in continuous time or discrete time [Ill]. The continuous models are generally equationbased, and are linear, nonlinear or time-variant. Discrete event models are, e.g., finite state machines, functional diagrams or Petri-nets [Ill].

Faults may show appear as changes of signals or parameters. The changes of signals are additive faults, while changes of parameters are multiplicative faults as described in Figure 87.

f(t) = ~Y(t)

f(t) = &l(t)

r, (t)
a)

--6--

r(t) = r. (t)+ f(t)
b)

Y(t)=(a+ f(t))U(t)

Figure 87 Basic fault models: (a) additive; (b) multiplicative [111]

Possible examples of faults in the ECS are:

Parameter changes

Parameter failures arise when there is a disturbance entering the process from the environment through one or more independent variables. This would be indicated by the change in the heat transfer coefficient due to contamination of the metallic surfaces of the ECS heat exchanger.

Structural changes

105

These refer to the changes in the process itself and occur due to hard failures in the system. Examples of structural failures would be failure of a controller, valve sticking, or leakage in the heat exchanger/ piping.

Malfunctioning sensors and actuators
These could be due to a fixed failure, a constant bias (positive or negative) or an out-of-range failure.

Other faults include unstructured uncertainties, process noise and measurement noise. Unstructured

uncertainties are mainly faults that are not modelled a priori. Process noise refers to the mismatch
between the actual process and the predictions from the model equations. Measurement noise refers to the high frequency additive component in the sensor measurements.

Mathematical models of dynamic processes are primarily obtained by either theoretical/physical modelling or experimentally by identification methods (Ill]. Theoretical models are set up on the basis of mathematically formulated laws of nature, whereas experimental modelling requires measurements to obtain a mathematical model of a process. Theoretical modelling are also called 'white-box models' and experimental models are called 'black-box models'. However, in practical situations, one often finds a combination of the two models as described by Figure 88.

theoretical modelling

experimental modelling

- physical laws known; - parameters known

known; -parameters unknown

measurable

physical 1- signals rules : measurknown; 1 able model : structure 1 unknown;:
parameter~

- input/output signals measurable; - assumption of a model stmcture

unkown

white-box models
linear/non-linear differential equations

dark-grey-box , models
fuzzy-models with parameter estimation

black-box models
- impulse response; - neumal networks

Figure 88 Mathematical process models [111] 106

The next chapters extend the discussion of model-based fault detection to a more general case of optimal estimation described by the nonlinear stochastic process [127]:

!(t) = f(!(t),t)+w(t)
The vector

(3.1)

f

is a nonlinear function of the state and w is zero mean Gaussian noise having spectral

density matrix Q (t). The problem of estimating measurements of [127]:

!(t)

is investigated from sampled nonlinear

k = 1, 2, ...

(3.2)

where

Kk depends upon both the index k and the state at each sampling time, and {:!:k}

is a white random

sequence of zero mean Gaussian random variables with associated covariance matrices {Rk}. The equations provide an estimation for nonlinear systems having continuous dynamics and discrete-time measurements. Chapter 5 discusses a filtering and smoothing algorithm for a minimum variance estimator - i.e., that which calculates the conditional mean of

!(t)

approximated using the Taylor series

approximation. Consequently it is referred to as the extended Kalman filter and will be applied to the ECS heat exchanger to detect fouling.

107

CHAPTER4

HEAT EXCHANGER FOULING

Fouling is generally defined as the formation of deposits on heat transfer surfaces, which interferes with heat transfer and/or fluid flow. Fouling may be defined as the accumulation of dirt, scale, corrosion products or other material on the surfaces of the heat exchanger. Fouling is a phenomenon which occurs with or without a temperature gradient in a great many natural, domestic and industrial processes. The presence of a dirt layer can have two major effects [73]:

1. The presence of a dirt layer presents a further resistance to heat transfer in addition to those present due to the inherent design of the exchanger. In general, the thermal conductivity of the layer is much lower than metals and often its resistance is greater than either of the 'film' resistances on either side of the metal wall. 2. The reduction of the flow area due to the presence of the deposit, coupled with the usually rough surface presented by the foulant, increases the pressure drop through the heat exchanger.

Both these consequences represent additional energy requirements. Other problems that relate to fouling are corrosion and additional maintenance. Little work has been carried out in understanding fouling, and much has to be done to find ways to predict, control, and prevent fouling from adversely affecting the performance of the ECS. Hence, this research will examine fouling and its problems, specifically in regards to the aircraft ECS and its operation over time.

4.1

BASIC PRINCIPLES OF FOULING

The accumulation of deposits on the surfaces of a heat exchanger increases overall resistance to heat flow.

Figure 81 shows the effects of fouling on the temperature distribution.

Under turbulent flow conditions, T 1 and T6 extend almost to the boundary layer in the respective fluids since there is good mixing and the heat is carried physically rather than by conduction as in solids or slow moving fluids. Since the boundary layers offer near stagnant conditions which provide resistance to heat flow and the thermal conductivity of foulants is low unlike metals, relatively large temperature differences are required to drive the heat through the deposit. The temperature difference across the metal wall is comparatively low.

108

HOT
FLUID

COLD FLUID

Distance
Figure 81: Temperature distribution across fouled heat exchanger surfaces [74]

The resistance to heat flow across a solid surface is given as
X

k
where xis the solid thickness and k is the thermal conductivity of the particular solid. From the diagram, for steady conditions, the heat flux q is

(4.1)

(4.2)

Also

(4.3)
where h1 and h2 are the heat transfer coefficients for the hot and cold fluids respectively.

Therefore, the total resistance to heat flow will be the sum of the individual resistances, i.e.,

(4.4)

109

The overall temperature driving force to accomplish the heat transfer between the hot and cold fluids is the sum ofthe individual temperature differences:

(4.5)

(4.6)
If the heat exchange area required for the heat transfer is A, then the rate of heat transfer is

Q =----'-----'X

A(T. -1;,) Rr

(4.7)

At first sight it may be thought possible to calculate the fouling resistance, i.e., _j_ .The difficulty, kf however, is the knowledge of the likely thickness of the deposit on the heat exchanger surfaces and the corresponding thermal conductivity.

An alternative way of writing Eq. (4.6) for clean conditions:

(4.8)

where Uc is the overall heat transfer coefficient for clean conditions.

(4.9)

Allowing fouling resistances on either side of the heat transfer surface gives

(4.1 0)

Hence, the heat flux for fouled conditions is

(4.11)
The temperature driving force across the heat exchanger varies along the length of the heat exchanger; therefore, a mean temperature difference is usually required to give the heat flux as

(4.12)
110

where

(4.13)

/1~

and 11T2 are the temperature differences between the hot and cold fluids at either end of the heat

exchanger. The choice of the individual fouling resistances for the calculation of UD can have a marked influence on the size of the heat exchanger and hence the capital cost. For the case of this study, a useful example can illustrate the importance of fouling resistance to the heat exchanger thermal performance. For fouling resistances of 0.00015 and 0.0002 m2K/W on the surfaces of the heat exchanger, with heat transfer coefficients of liquids (L) as 2150 and 2940 W/m2K and gases (G) as 32.1 and 79.2 W/m2K, the fouling resistance represents an increase in required heat exchanger area over and above the clean area requirements of [74]:

0 00035 0 00035 · ) xlOO% = 43.2% and ( · ) xlOO% = 0.8% ( 0.000821 L 0.0438 G
Hence using the same fouling resistances for a gas/gas heat exchanger represents a negligible additional capital cost since the individual heat transfer coefficients are much lower due to the lower thermal conductivity of gases.

4.2

TYPES OF FOULING

There are several types of fouling scenarios, and they are generally classified into the following categories [75]: 1. Precipitation fouling - the crystallization from solution of dissolved substances on to the heat transfer surface, sometimes called scaling. Normal solubility salts precipitate on subcooled surfaces, while inverse solubility salts precipitate on superheated surfaces. 2. Particulate fouling -the accumulation of finely divided solids suspended in the process fluid onto the heat transfer surface. It includes gravitational settling of large particles as well as deposition of colloidal particles by other mechanisms on to the heat transfer surface. 3. Chemical reaction fouling- deposit formation at the heat transfer surface by chemical reaction in which the surface material itself is not a reactant. 4. Corrosion fouling - the accumulation of indigenous corrosion products on the heat transfer surface.

Ill

5. Biological fouling- the attachment of macro-organisms (macro-fouling) and/or micro-organisms (micro-fouling) to heat transfer surface, along with the adherent slimes generated by the latter. 6. Freezing fouling -the solidification of a pure liquid or constituents of a liquid solution onto a sub-cooled transfer surface.

The fouling mechanism is mostly associated from liquids, and hence the thermal fouling is classified with the liquid-solid interface as the prototype. In practice, the overall deposit accumulation process results from several fouling mechanisms acting sequentially or simultaneously.

4.3

FOULING MECHANISMS

The fouling process is generally a transient condition, at least in what might be termed the early stages of laying .down a deposit. If the resistance to heat transfer is plotted against time, different curves may be produced depending on the conditions. Figure 89 below shows the ideal curves that are possible.

0
Ql j

"0
Cll

"iii
Ql L..

e a
Vl
Ql
L.

c

u

c
0

I ll

~~----------~~----~~--~~--------------

Figure 89 Idealized fouling curves [73]

Curves A and C are asymptotic, which represents many fouling problems. The rate of fouling gradually falls with time, so that eventually a steady state is reached when there is no net increase of deposit on the surface, and an asymptotic fouling resistance (RJ) is obtained. In practical applications the plateau may be reached in minutes or months. The general equation describing the behavior takes the form [73]:

(4.14)

112

where R1 is the fouling resistance at time t. Curve C is further complicated by the fact that a period of time has to elapse before fouling commences, which is usually attributed to the time required to 'condition' the surface. The period before deposit appears is often referred to as the "induction" or "initiation" period. Curves B and D on Figure 89 represent situations where mass of deposit gradually increases with time; a straight line relationship of the form

(4.15)
applies, where a is the slope of the line. Curve D displays an induction period similar to Curve C. The curves represented on Figure 89 are ideal and in real life situations the ideality may not be achieved. A closer representation of asymptotic fouling might be as shown in Figure 90, where the idealized Curve A from Figure 89 is modified.

c
0 0

en
:;)

"'
~

'-

" '-

c

Figure 90 An idealized 'practical' fouling curve [75]

The 'saw tooth' effect is the result of partial removal of some deposit due to 'spalling' or 'sloughing' to be followed for a short time by a rapid build of deposit. The average curve can be seen to represent the ideal curve A. Similar effects of partial removal and deposition may be experienced with the other types of fouling curves.

113

The overall fouling process can be viewed as consisting of five sub-processes [75]: 1. Initiation - (delay, nucleation, induction, incubation, surface conditioning). This is the time interval between the start up of a clean heat exchanger and the first detection of an increase in the heat transfer resistance due to fouling. 2. Transport - (mass transfer). Of the five processes, the transport of the foulant to the heat exchanger surface has been the most widely studied phenomenon. A number of mechanisms have been identified that promote foulant migration. Some of these include diffusiophoresis, turbulent diffusion, reaction-rate controlled, inertial impaction, thermophoresis, Brownian diffusion, electrophoresis and gravity. 3. Attachment - This is the actual attachment of the foulant to the heat exchange surface and involves processes such as surface integration, sticking, adhesion, bonding, etc. 4. Removal - this may or may not begin right after deposition has started. Removal may occur as a result of release, re-entrainment, detachment, scouring, erosion, spalling and sloughing off. 5. Aging- this starts as soon as the deposit has been laid down on the heat transfer surface. This may include changes in crystal or chemical structure.

4.3.1

Initiation
()D

Initiation is associated with the delay period,

[79], so often observed before any appreciable fouling is

recorded, after starting the experiment or process with a clean heat transfer surface. For chemical reaction fouling,
()D

appears to decrease as the surface temperature is increased, presumably due to speeding up of
()D

the induction reactions. For all fouling modes, many investigators report that

decreases as the surface

roughness increases. The roughness projections provide additional sites for nucleation, adsorption and chemical surface-activity, while the grooves provide regions for deposition which are sheltered from the mainstream velocity. Surface roughness also decreases the thickness of the viscous sub layer and hence increases eddy transport to the wall.

4.3.2

Transport

Transport is the best understood of all the sequential events of fouling. A fouling species must be transported from the bulk of the fluid, where its concentration is cb, to the heat transfer surface, where its concentration in the adjacent fluid is cs. The local deposition flux, ¢D, is given by

(4.16)

114

where Kr is the transport coefficient.

In the case of ions, molecules or sub-micron particles, the transport is diffusional in nature and K 1 is the equivalent to the well known mass transfer coefficient, Km, which can be obtained from the relevant empirical correlations or theoretical equations for forced convection mass transfer, provided the diffusivity of the key component can be determined.

For dilute suspension of spheres, the Brownian diffusivity D 8 of the particles is given by the StokesEinstein equation [79]:

(4.17)

which for 0.5-Jlm spheres in water yields Sc = J.i I pD- 10

6

·

Provided one is not dealing with excessive

mass fluxes of the key component towards the deposition surface, any solutions for the forced convection heat transfer coefficient in laminar or turbulent flow can be converted to a solution for forced convection mass transfer coefficient by substituting Sh for Nu and Sc for Pr (or Stm, Pem and Gzm for StH, PeH and GzH respectively) [79].

If a momentum-mass transfer analogy for turbulent flow is used at the high values of Sc (i.e., low D) characteristic of colloidal particles, it must be one which allows for the fact that in the viscous sub-layer the eddy diffusivity does not vanish, except at the wall, and is typically of the same order of magnitude as that of the Brownian diffusivity. Using the Reichardt analogy [80], which meets this criterion, Metzner and Friend [81] derived, for turbulent flow of high Schmidt number, binary solutions that conform to

Km _ j 12 -;:- 1.20 + 11.8~f I 2 ( Sc -1)sc-213
For Sc on the order of Irl, Eq. (4.18) simplifies to

(4.18)

Km _ 1 --;;: - 11.8Sc 213
where the friction velocity u. =

(4.19)

~Ts I p = ub ~f

I 2 . Using an entirely different approach, based on a

computation of the stagnation flow towards the wall, Cleaver and Yates [79] independently derived for the diffusion regime of particle deposition that

115

Km u.
which is in excellent agreement with Eq. (4.18).

=

1 11.9Sc 213

(4.20)

If the key component consists of particles having a dimensionless relaxation timet+ ( = pPd~u;p/18J.1.?) in excess of about 0.1, inertial effects become important. For still larger particles in horizontal channels at relatively low fluid velocities, gravity may control the deposition process, especially if the particle density is high, and then

(4.21)
Thermophoresis is another transport phenomenon whereby a thermal force moves fine particles down a temperature gradient. Hence, cold walls attract and hot walls repel colloidal particles. The thermophoretic velocity u1 of micro-size particles has been shown to be representable by
U1

=-a.-.VT T

v

(4.22)

where, for continuum flow, the coefficient a is given by

(4.23)

and the constant c is 1.8 for gases and 0.26 for liquids. Clearly, since the kinematic viscosity v of a gas is typically at least an order of magnitude greater than v of a non-viscous liquid at the same temperature (especially at high temperatures), and since conversely the thermal conductivity k for a gas is much smaller thank for a liquid so that at a given heat flux, q ( = -kVT),- VT is again much larger than gases than for liquids, it follows from Eq. (4.22) that
Ut

for gases is considerably greater than for liquids.

Nevertheless, even for liquids, thermophoresis cannot be neglected be neglected in the presence of large heat fluxes. By assuming that the entire temperature difference between bulk stream and the wall is confined to a thin laminar film near the wall, Eq. (4.22) can be used to develop the following expression for the fractional particle removal efficiency, c1, by thermophoresis from a suspension flowing through a duct with cold sticky walls (i.e. no particle rebound or re-entrainment) [79]:
a .Pr

t:, = 1(

T,.,
J;n
)

(4.24)

116

If the fractional removals of particles on a cold wall be transport mechanisms other than thermophoresis e.g. Brownian diffusion, inertia, gravity, etc. are denoted by ed, e;, eg etc. then it can be shown that the overall fractional removal, e, is given by
&

=1- ( 1-

&t ) ( 1- &d )

(

1- &; ) ( 1-

&g

) ···

(4.25)

4.3.3

Attachment

Attachment of the fouling species to the wall follows transport of the key component to the wall region, where the solid which deposits is actually formed, except in the case of particulate fouling. For the latter case, particle attachment is sometimes treated by putting cs = 0 in Eq. (4.16) and multiplying the righthand side by the sticking probability Sp, i.e., the probability that any particle which reaches a particle-free wall region will remain at the wall. The term Sp is usually characterized by an Arrhenius dependence on surface temperature [79]. If it also displays a stronger than linear dependence on the reciprocal of friction of velocity, then the direct proportionality between km and u· shown by Eq. (4.20) is more than the counterbalanced in Eq. (4.16) by this inverse dependence of Sp on u ·.

Thus for Sp = 1, mass transfer controls and ¢D is directly proportional to u · while for Sp < 1 surface attachment is important and ¢D may decrease as u · increases.

A less empirical approach to the particle attachment process may be arrived at the dominant surface forces which come into play when a particle approaches a wall. Thus for a highly idealized monodispersed colloidal (submicron) particle suspension, the work of Bowen [82] has definitively shown that the initial stickiness of a non-corroding wall is virtually perfect when particles and wall have zeta potentials of opposite sign, in which case electrical double layer attraction enhances London-Van der Waals attraction to yield essentially a mass-transfer controlled initial deposition, given by Eq. (4.16) with

cs = 0. The situation changes, however, as soon as a relatively few particles have accumulated at the
wall, the zeta potential of which rapidly decrease (numerically) and changes its sign to that of the particles, while the deposition rate falls off sharply and starts to approach an asymptotic value. It is also very different when the zeta potentials of the initial wall and the particles are of like charge, particularly when the potentials are also large in magnitude, in which case a large repulsive energy barrier must be overcome before a particle can settle into the primary London-Van der Waals potential energy sink at the wall. Even the initial particle deposition rate is then smaller than what it would have been predicted by

117

Eq. (4.16) with

cs

= 0. Though electrokinetic theory has been able to qualitatively predict trends for this

more common situation, its quantitative predictions of particle deposition are typically orders of smaller magnitude than what is measured, a deficiency which can be attributed primarily to its failure as yet to appropriately take into account heterogeneities in charge distribution and microscopic geometry of real surfaces [79].

For crystal growth, assuming nucleation has already occurred at the wall, attachment is by the process known as surface-integration, which, in the case of stoichiometric equality in solution on crystallizing cations and anions, is commonly represented by

(4.26)
where k, is the attachment rate constant and
csat

is the saturation concentration of the crystallizing

species at the temperature of the surface. Combination ofEqs. (4.16) and (4.26) with K1

= Km

gives

(4.27)

When mass transfer controls the process (e.g., crystal growth at sufficiently low fluid velocities), the first term in the denominator ofEq. (4.27) predominates over the second and therefore

(4.28)
When surface attachment controls the process (e.g., crystal growth at sufficiently high fluid velocities), the second term predominates,
cb - cs,

and therefore

(4.29)
Note that Eqs. (4.26)- (4.29) with
csat

= 0 apply also to colloidal particle deposition, chemical reaction

fouling and commonly even pure corrosion fouling, to which must be added an additional term xI D1 in the denominator of Eq. (4.27) to take account of oxygen diffusion through the corrosion deposit, the effective oxygen diffusivity of which is D1 . For colloidal particle fouling, electrokinetic theory indicates additionally that n = 1.

118

For all fouling categories, an Arrhenius type equation relates the attachment rate constant to the surface temperature I: :

k r =A' e- E l RgJ'.
where A' is the Arrhenius constant and E is the activation energy.

(4.30)

4.3.4

Removal

Removal of the deposit may or may not begin right after deposition has started. That it does so is an assumption implicit in the removal model originally proposed by Kern and Seaton [74] and further developed by Taborek [79]:

(4.31)
that is, the removal flux t/JR is directly proportional to both the mass of deposit and the shear stress rs on the heat transfer surface, and inversely proportional to the deposit strength lf/ .

Although the continuous co-existence of removal with deposition (especially particulate deposition) is more readily rationalized in turbulent than in laminar flow, the fouling rate at any timet, according to this assumption, is then given by

(4.32)
Integration from the initial condition t = 0, md = 0, on the assumption that the only variables in the equation during the course of fouling are t and md, yields the well known Kern-Seaton equation,

md =moc:. (1 -e -titc )
where moc:. is the asymptotic mass per unit surface area and the time constant tc is given by

(4.33)

(4.34)

From Eq. (4.34) it is also seen that tc can be interpreted as the average residence time of an element of fouling deposit on the heat transfer surface, as well as the time it would take to accumulate the asymptotic

119

fouling deposit, moo, if the fouling proceeded linearly at the initial deposition rate t/Jn . By putting t = tc in Eq. (4.33), md, works out to be 0.632 moo, so that tc, is also the actual time required to achieve 63.2% of the asymptotic fouling resistance.

Since moo

= ¢ntc

and (rex:__!__ ex:
Ts

~J, it follows that even if ¢n u.

is directly proportional to u. as would

be the case under conditions of turbulent mass transfer control at high values of Sc, u. and hence R1 oo would still decrease as the velocity increases. This generalization has commonly been found in practice, at least when deposit-removal occurs.

Asymptotic fouling can always be empirically fitted by Eq. (4.33), but it does not follow that it is always caused by deposit-removal. Nevertheless, deposit removal has been observed to occur simultaneously with deposition in certain instances, and for these cases, tc can reasonably be interpreted by Eq. (4.34). According to Cleaver and Yates [74], it is not simple viscous shear that lifts (or is capable of lifting) particles from the deposit to the mainstream, but the randomly periodic turbulent bursts which are randomly distributed over less than 0.5% of the surface at any instant. They have referred to these bursts as miniature tornadoes, and that this characterization is not just a metaphor has been vindicated by recent experiments which have shown there is a measurable wall suction associated with turbulent bursting. For a given deposit and fluid, a minimum friction velocity u. is required before the turbulent bursts can become effective in removing some of the deposit. By reference to Eq. (4.33) it is not unreasonable to generalize the criterion to be fulfilled by any deposit as (4.35)

4.3.5

Aging

Aging of the deposit starts as soon as it has been laid down on the heat transfer surface. The aging process may include changes in crystal or chemical structure, e.g., by dehydration or polymerization, respectively. Such changes, especially at constant heat flux and hence increasing deposit temperature, may strengthen the deposit with time. Alternately, changes in crystal structure, or chemical degradation or developing thermal stresses, may result in gradually decreasing lf/ with time. Thus a deposit which is not hydrodynamically removable at the beginning of a run may suddenly become so after time when lf/ has decreased sufficiently such that the criterion of Eq. (4.35) is finally realized. Such behavior can give rise 120

to saw-tooth shaped fouling curves. It should be noted that where the ageing processes undermine the deposit by decreasing its strength, the final death blow to the deposit is usually provided by hydrodynamic removal, much as the shedding of leaves from the trees which occurs in the autumn is primed by the weakening of their bonds to the twigs, but the final de-leafing is wrought by atmospheric turbulence [79]. A look at the fouling models will follow next.

4.4

FOULING MODELS

These models have been classified according to the flow conditions, i.e., laminar or turbulent flows. The better-known models for linear, falling-rate and asymptotic fouling are examined with respect to the trends which they display under the opposite extremes of mass transfer and surface-reaction control. When fluid mechanics enter the picture, laminar flow is assumed. These include: i. ii. iii. linear fouling falling rate fouling asymptotic fouling

The rate of build up of deposit is given by:

(4.36)
where m is the mass of the deposit per m2 and ¢D and ¢R are the deposit and removal mass flow rates per unit area respectively. Eq. (4.36) is a statement of the mass balance across the fluid/solid interface i.e.

Accumulation :::;: Input- Output

In addition to increased heat transfer resistance, the deposit reduces the fluid flow cross sectional area, hence for the same volume flow, the fluid velocity increases and for identical conditions, Reynolds number will increase. Also, the roughness of the deposit surface will be different from the clean exchanger surface (usually greater) which will result in a change in the level of turbulence. Greater roughness will produce greater turbulence with its enhancement of heat transfer, or a smoother surface may reduce the level of turbulence. Therefore:

Change in heat transfer coefficient

Change due to thermal resistance of foulant

+

Change due to roughness offoulant

+

Change due to change in Re caused by the presence of the foulant

121

An idea of these fouling models can be viewed in Figure 91 below:

LINEAR RATE

Rf

TIME
Figure 91 Characteristic fouling curves [83]

4.5

CONDITIONS INFLUENCING FOULING

From an application point of view, conditions that influence fouling or that affect the impact of fouling on heat transfer or fluid flow can be classified as operating parameters, fluid properties and heat exchanger design parameters.

4.5.1

Operating Parameters

Velocity
In most fouling scenarios, the rate of fouling decreases as the velocity increases. An increase in velocity may increase the rate of deposition but increases the removal rate to a greater extent so that the overall rate and eventual equilibrium deposition thickness are decreased. Velocity influences mass diffusioncontrolled deposition processes through convective mass transfer to the surface. This is only in effect if the deposit mechanism dominates the removal mechanism. Growth is balanced by the shearing effect of

122

higher velocities. The effect of velocity on the removal process is generally correlated in terms of the wall shear stress and deposit mechanical strength [83].

Surface Temperature
Surface temperature may increase, decrease or have no impact on the material deposited on the surface. It is highly dependent on type of fouling that the material is associated with. The rates of chemical reaction and crystallization of inverse solubility salts are strongly dependant on surface temperature [83].

Bulk Fluid Temperature
The bulk fluid temperature affects the rate of chemical reaction and the rate of particulate deposition. Thus the rate of development of fouling resistance generally increases with temperature.

4.5.2 Heat Exchanger Parameters
Heat exchanger parameters have a significant effect on the potential for fouling to occur.

Surface Material
The type of substrate material is a major factor in the case of corrosion fouling. Indications that there is difference in the induction period for carbon steel, stainless steel, and admiralty steel are thought to be due to the surface roughness of the three materials rather than to the material composition [83].

Surface Structure
In general, for all types of fouling, the time delay decreases with increasing surface roughness. Rough projections promote nucleation, adsorption or surface chemical activity. Surface indentations provide regions prone to deposition since they are sheltered from the bulk velocity [83].

Exchanger Configuration
Properly designed plate-and-frame or spiral-plate heat exchangers are less prone to fouling than shell and tube exchangers. These types of exchangers are characterized by higher velocities and higher turbulence levels. Thus low velocity or stagnant areas that may promote settling of suspended solids are avoided. In finned-tube heat exchangers, fin height does not have an influence on deposit buildup, but fin density is an important parameter.

123

4.5.3 Fluid properties
Both nature of the fluid and the nature of the species dissolved or entrained in the fluid have a significant impact on fouling. Therefore both the quality, size and the quantity of the contaminant will influence the deposition on the surface. Some contaminants might act as catalysts to the fouling process.

4.6

RELATING HEAT EXCHANGER FOULING TO THE AIRCRAFT ECS

Heat exchanger fouling is a vast topic that covers a range of applications within the industrial world. Of key to this research, is the aircraft industry and how fouling affects the environmental control system. Both the primary and secondary heat exchangers are vital to the performance of an efficient ECS, and more so, an efficient aircraft engine. Figure 92 below shows a typical heat exchanger for airplane cabin conditioning.

Figure 92 Aircraft cabin heat exchanger [64]

Since the aircraft industry has begun, fouling of heat exchangers has not really been tackled, and several situations have resulted which cause cabin air contamination. Filters are usually available but they are usually installed downstream of the air cycle machine. This means if there is dirt, particles, carbon particles, or even oil contaminants, in the bleed air/ram air, then there is no way to know whether the heat exchangers and components prior to the filters are contaminated or not. Hence a thorough study of the ECS has to be done with matters relating to fouling. Foulants greatly reduce the pressure downstream and thus put more pressure on the bleed air system. In turn this has an effect on the aircraft engine performance. The high pressure, high temperature airflow that is extracted from the engine compressors (bleed air) enters the air conditioning packs and exchanges heat with the cold airflow coming from NACA inlets (ram air). As the air conditioning pack operates in real environments, contaminants gradually

124

accumulate on the metallic surfaces and lower the heat transfer coefficient, gradually loosing its effectiveness. As the contamination process progresses to extreme conditions, the efficiency of the thermodynamic cycle is negatively affected and the performance of the integrated air conditioning system is degraded. This may led to air conditioning machine shut downs (and subsequent single-pack operation, instead of normal dual-pack), that will limit the operation ofthe aircraft to lower cruise flight levels. Even if the air conditioning machine keeps running, the degraded performance may start to cause thermal discomfort for the cabin occupants when the system is not capable of compensating for it anymore. A control loop is responsible for the modulation of the bypass valve, to continuously adjust the mixture between the hot airflow and the cooled airflow to follow the temperature reference set by the flight crew as closely as possible [94]. This constant modulation ofthe heat exchanger inlet flow imposes a constraint monitoring solution that will be discussed in Chapter 5. A typical schematic of a modern aircraft air in the_ conditioning machine is shown in Figure 78.

Hence, fouling and its impact on the heat transfer efficiency and flow conditions are a crucial part of the aircraft's performance. Further study must be done on fouling and its influence on the channels within the ECS heat exchangers. The present effort is directed to the current test rig design and heat exchanger at Ryerson University.

However, one might ask at what service intervals should an aircraft heat exchanger be repaired? There is obviously not one answer for this, as there are several variable factors to take into consideration. These include the application, the type of operation (short-haul or long-haul) and possibly more subtle factors such as the way in which the aircraft is operated [93].

Heat exchanger deterioration can often result from the wear of other engine components [93]. Over a period of time, the ram air stream causes fouling in the heat exchanger which eventually clogs from atmospheric dirt and other contaminants. In this case, it might be advisable to repair the heat exchanger to avoid more costly damage. A common problem with ECS heat exchangers is leakage from either internal thermal stress cracking or corrosion. In general, air-to-air heat exchangers are more prone to thermal stresses than liquid to liquid heat exchangers.

Usually after a lengthy in-service life, heat exchangers may require recoring if the pressure tests show leakage [93]. The need for recoring is best illustrated on air-to-air units, especially precoolers that are required to cool the engine bleed air at temperatures of 500°C or more and are cooled by the ram air at temperatures as low as - 50°C. This wide temperature differential, which is cycling many times in a

125

flight, may eventually cause thermal fatigue. It may be economical to repair such heat exchangers by replacing the entire core. So, in an environment where down-time is costly, safe, reliable and costeffective repairs need to be weighed against complete replacement of units.

The fouling concepts discussed here will be applied to health monitoring and fault detection of aircraft ECS heat exchangers, as will be described in Chapter 5.

4.7

HEAT EXCHANGER FOULING EXPERIMENTAL RESULTS

To operate heat exchangers efficiently, it is imperative that at least some fouling data is at hand to give guidance. Inaccurate fouling data can give rise to cost penalties, in terms of both capital cost (i.e., overdesign) and in operating costs where the heat exchanger underperforms and the costs of cleaning (downtime) may become excessive.

It is often difficult to depict exact fouling scenarios for experimental analysis. The earlier sections in this chapter have given importance to different variables, such as velocity, temperature and concentrations of the fouling species on the deposition process. The principle drawback of the laboratory techniques is the difficulty in simulating exactly the conditions that apply to an actual ECS heat exchanger, i.e., flow conditions, temperature, fluid quality, geometry, and surface conditions. The total temperature driving force in the ECS heat exchangers gives rise to different heat exchanger surface temperatures than that seen in the test rig heat exchanger, which might result in different fouling effects. Also, it is difficult to conduct the heat exchanger fouling tests with foulants that may be flammable or toxic. The aim of the test rig is to simulate the conditions that are likely to occur in a heat exchanger, particularly in terms of the velocity, surface temperature and residence time. It is therefore necessary to determine the optimum conditions that will provide the most realistic and reliable data relating to this particular study.

Despite the difficulties, laboratory investigations can provide insights into fouling mechanisms and as such, provide valuable data that may be useful in formulating models of fouling. Studying the effects of velocity and temperature on the fouling process can be of use later with respect to the operation of ECS heat exchangers. The detailed techniques for investigating fouling under flowing conditions in the laboratory are virtually infinite, limited only by the requirements of the study. The basic principle, however, is that a surface (in this case, the test rig heat exchanger) is held in contact with the flowing fluid under well defined and controlled conditions.

126

Since it is the fouling resistance that is under scrutiny an obvious choice of experimental method involves the ability to measure changes in the heat transfer during the deposition process. The basis for subsequent operations will be Eqs. (4.10) and (4.12). As an alternative to direct heat transfer measurements, it is possible to use the changes in the pressure drop brought about by the presence of the deposit. The pressure drop is increased for a given flow rate by virtue of the reduced flow area in the fouled condition, and the rough character of the deposit. The shape of the curve relating pressure drop with time will in general follow as an asymptotic shape, so that the time to the asymptotic fouling resistance may be determined [7 4]. Changes in the friction factor may also be used as an indication of fouling of a flow channel. The effect of the increasing friction factor

f

is to increase the pressure drop across the

experimental heat exchanger, i.e., L1P af This would represent an increase in engine power.

The reduction in heat transfer can also be reflected through the change in the Colburn j factor with time as the deposition progresses:

J=---

.

Nu

RePrl/3

(4.37)

The reduction in j with time therefore represents an apparent reduction in h, but in reality the relatively low value of h associated with gas streams will not be affected greatly by the presence of the deposit, unless the deposit becomes thick enough to change substantially the flow pattern across the fins. The presence of the fouling layer however interposes a thermal resistance between the air flow and the metal fins, and the core tube of the model heat exchanger, thereby reducing the effective heat transfer and giving the impression that the heat transfer coefficient has diminished.

The tests for the fouling investigation were carried out using the test rig setup described earlier in Section

1.4. The Simulink Real-Time Workshop was utilized for this process as shown in Figure 66. The
pressurized air is exposed to several levels of fouling and all tests are of non-isothermal nature. The inlet ram air temperature was kept at room temperature (68°F) while bleed air inlet temperature in the range of 120 - 165°F was passed through the heat exchanger. The test rig allowed for thermal performance and pressure drop measurement.

In order to demonstrate the fouling process, the heat exchanger internal tubes were lined with the foulant and tests were carried out for each layer of foulant added. In total, five layers of foulant were sprayed on to the internal structure of the heat exchanger, on both the ram air and bleed air sides. Numerous experiments were carried out for different rates of air flow. Bleed and ram air flow rates ranging from

127

0.01 - 0.06lbm/s were chosen. Pressure drop measurements of interest were that due to the foulant. Tests were also carried out for both steady state analysis and for disturbances added to the system. Disturbances induced were step input changes in either the bleed air temperature or the flow rate. All transient tests were performed by creating a step input disturbance at the bleed air inlet temperature of about 20°F (Inlet

disturbance I) and a 0.01lbm/s (Inlet disturbance II) step change in the bleed air flow rate.

The inlet and flow conditions for which the tests were carried out are described in Table 14 below:

Test type

Test No.
A B
D

Bleed air flow rate (lbm/s)
0.035 0.011 0.011 0.045 0.02 0.035 0.035 0.011 0.045

Ram air flow rate (lbm/s)
0.02 0.01 0.055 0.01 0.01 0.02 0.02 0.055 0.01

Inlet Temperature Thi(°F)
163-165 163-165 156-157 164-166 120-122 164-166 144-146 144-146 144-146

Disturbance type

STEADY STATE

-

c

TRANSIENT

E F
G H I

II I I I

Table 14 Inlet and flow conditions for fouling tests

As mentioned before, depicting exact fouling is one objective that challenges many, and one that depends on the limitations of each study. In this study, our aim is to emulate the actual nature of the foul ant and its behaviour over time. In particular, the type of foulant used is described in Table 15. In the actual aircraft ECS heat exchanger system, the ram-air side would be prone to fouling from atmospheric dirt, corrosion and other contaminants whereas the bleed air side would be contaminated with oil, dirt and other engine contaminants. Therefore, the bleed-air side fouling behaviour and deposits would be different to that in the ram air channel in terms of the foulant type, flow conditions and temperatures, surface temperature and surface roughness.

Hence, for the experimental setup, the ram air side is fouled with dry wall compound (DWC) to create the same textural abilities and behaviour of dirt where as the bleed air side is fouled with a combination of red primer, black asphalt undercoating and grey primer to generate oil-like properties. The dry wall compound is mixed with water to foul the ram air side which allows for a' corroded metal surface when continuously fouled over time (Fouling Level 1 to Fouling Level 5). In order to illustrate the changes in morphology of a deposit with time, the layers were created in such a way as to represent the dynamic 128

process of fouling with the front of the heat exchanger fouled in the initial levels of fouling, with later levels focusing on deeper penetration of dirt into the inner structure of the heat exchanger.

Fouling level Levell

Cold ram air channel
Lightly sprayed with DWC on the front of the Heat exchanger 2nd thin coating ofDWC on the front of the Heat exchanger 3rd thicker coating ofDWC on the front and inner structure of the Heat exchanger NIL 4th thicker coating of DWC over the total Heat Exchanger structure

Hot bleed air channel
Lightly sprayed with red primer on the front of the Heat exchanger Spray of black asphalt undercoating on the front of the Heat exchanger Thinned grey primer coating on the front and inner structure of the Heat exchanger Grey primer 2nd thick coating over the total Heat Exchanger structure Grey Primer 3ro thick coating over the total Heat Exchanger structure

Levell Level3 Level4 LevelS

Table 15 Fouling levels and description for experimental investigation

The experiments for the non-isothermal conditions in the heat exchanger are performed and further divided into two:

ii. m.

Closed heat exchanger fouling test Heat exchanger plus bypass fouling test (Open)

4.7.1

Closed heat exchanger fouling test

The test is carried out with the heat exchanger linked with the ram and bleed air channels only. There is no additional trim or channel (usually required for control of temperature in the cabin) connected to any of the other channels or heat exchanger.

4. 7.1.1 Steady state tests

The purpose of these tests was to investigate the fouling mechanism for steady state conditions. The tests were carried out to quantify the effects of fouling on heat transfer across the heat exchanger. At constant flow rates and increasing fouling levels the thermal properties and pressure drop are measured. For tests A- E (i.e., with regards to variations in the heat capacitance rate ratios (R)), similar temperature response behaviors are observed for all levels of fouling for a given R. Therefore, for increasing fouling levels, variations in flow rates have little effect on the outlet temperature response as seen in Figures 103 and

129

104. The response times are quite similar and for a given R, the outlet temperature does not change with increasing fouling. The reason for this constant thermal performance is that heat transfer is proportional to flow rate of air across the heat exchanger. This remains constant in the closed test setup, no matter what the extent of fouling. Also, any degradation in the heat transfer surface has little effect on the thermal performance of the heat exchanger, due to the low thermal conductivity of air. As a result, the heat exchanger overheats and at high temperatures could pose a potential fire hazard. Figures 93- 102 show the bleed and ram air temperature reponses for different levels of fouling for tests A- E.

- 160 t 140 t-1l 120 2 100 ell Q; 80 a. E 60 ~ .... ·c;; 40 E ell 20 a:: 0
Q)

---Oean
--- 1

2 3
4

---5

0

100

200

300

400

500

lirre (sec)

Figure 93 Steady state ram air temperature response comparison of clean and fouling conditions closed test A
Steady state bleed air temperature

t
n;
~

120

.,..J 100
:;
Q; a.
Q)

---Oean
. - .. - .. 1 2 3 ---4

E .... ·c;;
"'0
Q)

60 40 20 0 0 100 200 300 400 500
lirre (sec)

----5

..92

c:a

Figure 94 Steady state bleed air temperature response comparison of clean and fouling conditionsclosed test A

130

~120-b~~5 -~ ~j~;·~~~!~ ·!:~ti~ -· ·~ · 'Jk·~~~ - ~~ ~ ~~·J~J·~~.~~. l~.~~ .a 100 ,... ~ i. ·q 1f rr
80 ;, · '· ..,
r
I

t

_160.---------------------------~

Steady state ram air temperature

--Oean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

140

r

'"~ 1

j 60 ·:a 40
a:

~

20 0

+-----,----,-----,----~----~--~

0

100

200

300
Time (sec)

400

500

600

Figure 95 Steady state ram air temperature response comparison of clean and fouling conditions closed test B
Steady state bleed air temperature

~ 140
1-_g

--aean
-Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5 -

~ 80 a. j 60
·ia 40
.i!
al

120 ~ 100

~

20
0
+-----.-----,-----,-----,-----r---~

0

100

200

300
Time (sec)

400

500

600

Figure 96 Steady state bleed air temperature response comparison of clean and fouling conditions closed test B

- 160 -,----------------------., t 140 t-Z 120 .a 100 C'O
Q)

Steady state ram air temperature

--aean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

~ 80

I

j

60

!

t

'f

·ia 40 ~ 20 a: 0

+-------~------~-------,------~

0

100

200
Time (sec)

300

400

Figure 97 Steady state ram air temperature response comparison of clean and fouling conditions closed test C

131

Steady state bleed air temperature

t

._,g

~ a. 8o-F====~====---------
j 60
·i;
al

140 120 ~ 100

--Oean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

40 0
+-------~--------~------~------~

-g 20 ..92
0

100

200
Tirre (sec)

300

400

Figure 98 Steady state bleed air temperature response comparison of clean and fouling conditions closed test C
Steady state ram air temperature

- 160 . - - - - - - - --,-- - - - - - - - - - ,
~ 140 t--Z 120
Cl)

--Oean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

2 100 ro
~ ·iV ~ a:::

8.

80

60

40 20 0

+-------~--------~------~------~

0

100

200
Tirre (sec)

300

400

Figure 99 Steady state ram air temperature response comparison of clean and fouling conditions closed test D
Steady state bleed air temperature

t 140
._,g

--Oean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

~ a. j
~
-o
al

120 ~ 100
80

60
40

·ia

20 0

+--------.--------r--------,-------4

0

100

200
Tirre (sec)

300

400

Figure 100 Steady state bleed air temperature response comparison of clean and fouling conditions closed test D

132

Steady state ram air temperature

--aean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

0

+-----,----,-----r----r-----~---4

0

100

200

300
Tirre (sec)

400

500

600

Figure 101 Steady state ram air temperature response comparison of clean and fouling conditions closed test E
Steady state bleed air temperature

~ 140
1-_g

--aean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

120
80 ~--------- -

~

~ 100 i;=;~ --===~-----~~~~~....,_

. . -----

j

0.

·iij

-g ..il
m

60 40 20 0 +-----~----,----,-----,-----r----~ 100 200 300 400 500 600 0
Tirre (sec)

Figure 102 Steady state bleed air temperature response comparison of clean and fouling conditions closed test E

[ 80 ~------------------------------------. t-B
"'0
Q)

Ram air temperature drop

-+--Oean
Fouling 1 Fouling 2 Fouling 3 ----Fouling 4 __._ Fouling 5
---t~-

e- 6o
~

n;

·n; E ~

~ 20

Q; a. E

40

0

+-------~------,-------,-------,-------~

2

3

4

5

Flow rate ratio test no.

Figure 103 Ram air temperature drop comparison of clean and fouling conditions - closed tests A-E

133

~ 100 . , . - - - - - - - - - - - - - - - - - - - - ,

Bleed air temperature drop

-+-Oean
-a- Fouling Fouling Fouling -?IE- Fouling __._ Fouling 1 2 3 4 5

2

3
Row rate ratio test no.

4

5

Figure 104 Bleed air temperature drop comparison of clean and fouling conditions- closed tests A-E

4. 7.1.2 Transient tests
The transient tests display similar results as those shown in the steady state, with increasing fouling not significantly affecting the outlet temperature response of both the bleed air and ram air sides. In general, slower response times are observed as fouling increases for any one particular test. These results are shown in Figures 105-112 for all the tests F -I.

Ram air outlet temperature response

u::- 130 - , - - - - - - - - - - - - - - - -- ----.,
'L-

2

~ ~

--Clean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling 5

e 110
Q)

2
L...

"(ij

E
~

m

90

+-----~------~------~------~----~

0

100

200

300

400

500

Time (sec)

Figure 105 Ram air temperature response comparison of clean and fouling conditions - closed test F

134

Bleed air outlet temperature response --Clean - Fouling 1 Fouling 2 Fouling 3 - Fouling 4 --Fouling 5

.a
a.
Q)

~
~

120

E 2 100 .... ·n;
"0

m Bo +------.------,------.------,-----~
0 100 200 300 400 500
lime (sec)

Q) Q)

Figure 106 Bleed air temperature response comparison of clean and fouling conditions -closed test F
Ram air outlet temperature response
~

u::- 120

.a
·n;
ro 0::

~ ~

100

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling 4 --Fouling 5

2 ....

a. E

Q)

BO
60 40 20 0 0 200 400
lime (sec)

E

600

BOO

Figure 107 Ram air temperature response comparison of clean and fouling conditions - closed test G

Bleed air outlet temperature response

u::- 130 ,---------------------------,
~

.a
.... ·a;

~
~

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling 4 --Fouling 5
~-------~-------~------,------~

e 110 2
Q) Q) Q)

"0

m so

0

200

400
lime (sec)

600

BOO

Figure 108 Bleed air temperature response comparison of clean and fouling conditions -closed test G

135

Ram air outlet temperature response
«L
:::J

E 2 ·a; E
L..

G:' 100 80 ~
a.
(1)

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling 4 --Fouling 5

~

60 40 20 0 0 100 200 300 400 500
lime (sec)

0::

ro

Figure 109 Ram air temperature response comparison of clean and fouling conditions - closed test H
Bleed air outlet temperature response
«L

G:'
2
~
~

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling 5

2 ·a;
L..

a. E

(1)

"0

m

(1) (1)

70 0 100 200 300 400 500
lime (sec)

Figure 110 Bleed air temperature response comparison of clean and fouling conditions-closed test H
Ram air outlet temperature response

I
~

140 -.--------------..
--Clean

120

1
I

- - Fouling 1 Fouling 2 Fouling 3 --Fouling 4 --Fouling 5

~ ·ffi 80
ro 0::

~ 100

E

60

+-----~----~----~----~----~--~

0

100

200

300
lime (sec)

400

500

600

Figure 111 Ram air temperature response comparison of clean and fouling conditions - closed test I

136

Bleed air outlet temperature response
ca.... 140
~
::::J

LL'
~

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling 4 --Fouling 5

120

a.

Q)

E 100 .! '(ij 80
~

-g
Q)

m

60 +-----~---.-----,----~----~--~

0

100

200

300
lime (sec)

400

500

600

Figure 112 Bleed air temperature response comparison of clean and fouling conditions - closed test I

4. 7.1.3 Pressure drop test The final test that was carried out for the closed heat exchanger setup was the pressure drop due to the foulant. The initial stages of fouling represented by Fouling Level 1 and Fouling Level 2 do not cause any drop in the pressure. As the fouling increases (i.e., from Fouling Level 3- 5), the pressure drop across the heat exchanger increases. Since most of the foulant remains on the front of the heat exchanger, a higher pressure drop results due to the blockage. Average pressure drops of approximately 0.7656 psi, 0.7996 psi, 0.8166 psi, 1.1484 psi and 1.72 psi are observed for clean ,and Fouling levels 2, 3, 4 and 5 respectively. This represents a 125% increase in the amount of fan power required to force the flow through the heat exchanger. Figure 113 shows the pressure drop across the heat exchanger for different fouling levels.
Pressure drop

3
t:II)

~--------------------------------.

Oean

2.5
2

Fouling 2 --Fouling3 ---Fouling 4 --Fouling5

~

a.
0

~
::I
Q)

1.5
1

~

ct 0.5
0+-----~----~-----,-----,----~

0

100

200

300

400

500

Tirre (sec)

Figure 113 Pressure drop across the heat exchanger

137

4. 7.2

Open heat exchanger fouling test

The closed tests do not often reflect reality in terms of the ECS. A more appropriate form of testing needs to be defined that takes into account the fact that a fouled heat exchanger will deflect some of the oncoming air flow around it, thus reducing the airflow through the heat exchanger and, as a consequence, the heat transfer. This part of the test involves the heat exchanger bleed air channel trimmed at the inlet to create a bypass, as with an actual ECS heat exchanger. The bypass flow is regulated by a control valve, and for this test the bypass valve is left open at all times at approximately 68.75%. The purpose of leaving the bypass channel open is to test the heat exchanger performance with a trim at the entrance and to investigate the effect of fouling on the thermal and flow properties of the heat exchanger. We have already established the significant loss in pressure that is created when fouling is at its initial stages and as its gets severe. However, no changes in the heat transfer measurements were observed for a closed test. This is, as discussed earlier, was purely due to constant flow rates, which in turn translates to constant heat transfer rates. In the open heat exchanger tests when the bleed air approaches the heat exchanger, we allow the flow to choose a suitable pressure differential of either across the heat exchanger core or the open bypass channel. As with the case of the closed tests, both steady state and transient tests are carried out. A Simulink script as shown in Figure 114, that includes the bypass channel, was written and applied for the open test. Similar initial conditions as described in Tables 14 and 15 are used.

4. 7.2.1 Steady state tests

Figures 123- 132 illustrate how the bleed air and ram air temperature responses (for all the steady state
tests) change when the bleed air flow is allowed to deviate. At constant flow rates and increasing fouling levels, the thermal properties and pressure drop are measured. As with the closed tests, tests A - E (i.e., with regards to variations in the heat capacitance rate ratios (R)), show similar temperature response behaviors for all levels of fouling for a given R. Therefore, by increasing fouling levels, variations in flow rates have little effect on the outlet temperature response behavior. The response times are quite similar and for a given R, the outlet temperature shows change with increasing fouling. The bleed air outlet temperatures increase with increasing fouling, whereas the ram air outlet temperatures reduce with increasing fouling, for a given test. The reason for the change in the outlet temperatures can be explained through the deviation in flow. As fouling increases, so the does the deviated bleed air flow away from the heat exchanger and into the bypass, and the temperature drop falls even further. The reason for this deviation is due to the blockage in front of the heat exchanger, thus forcing the flow towards the bypass channel. For example, for clean test A, a bleed air outlet temperature of 104°F and a ram air outlet temperature of about 116°F are observed.

138

Honeywell sensor

3

FS12 FS22 TS11 FS11 T

W_H

CV3

load

CV1

National Instruments PC l-6704 [Oh)

2

T_ho (C) Fcn4 TS 11 (F)

CV2

Omega sensor TS21 Power

TS TS11 Power

p 12

TS excitation 1mA1

Gain4

13

T_co

Figure 114 Simulink script for experimental open test (heat exchanger plus bypass)

139

Similarly, for the same test at Fouling Level 5, bleed and ram air outlet temperatures of about 109°F and 111 °F are observed. Figures 125 and 126 show the change in temperature drops for varying flow rate ratios (tests A - E). The drop is significant, of around 5 - 8°F, in both the bleed and ram air outlet temperatures for tests A- E. There was little change in the temperature drops for tests C and D, with the increase in fouling levels. This is because of the dominance in flow rate of one fluid over the other, thus creating fast heat exchanger dynamics and smaller changes in outlet temperature. Finally, it can also be seen that the ram outlet temperatures are significantly higher than the bleed air temperatures. This is because the ram air flow rate remains constant whereas the bleed air flow rate reduces as more flow is pushed towards the bypass with increasing fouling. As a result, the higher flow rate of the ram air assumes more heat from the heat exchanger surface.

~ ......,.,
-ro

u:-

160 ~--------------------------~

Steady state ram air temperature

---aean
- - - Fouling 1 Fouling 2 Fouling 3 Fouling 4 ---Fouling 5

140

~ 120

"(ij

~

8. 100 E
80
~

a::

60 40

+-----~----~----~----~----~

0

100

200

300

400

500

Tirre (sec)

Figure 115 Steady state ram air temperature response comparison of clean and fouling conditions open testA
Steady state bleed air temperature

---aean
· · - · · · - Fouling 1 Fouling 2 Fouling 3 ---Fouling4 - - - - Fouling 5

60+-------~------~----~------~------~

0

100

200
Tirre (sec)

300

400

500

Figure 116 Steady state bleed air temperature response comparison of clean and fouling conditions open testA

140

- 160 t 140 t-B 120 .a cu 100 Q) a. 80 E 60 ~ .... ·n; 40 E cu 20 0::: 0
Q)

Steady state ram air temperature

f> '.
~

..

100

·
I

!.~· ~JA
I

... I
J l

--aean - - Fouling 1 Fouling 2 Fouling 3 - - Fouling4 - - Fouling5

0

200

300
Time (sec)

400

500

600

Figure 117 Steady state ram air temperature response comparison of clean and fouling conditions open test B

--aean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

0

100

200

300
Time (sec)

400

500

600

Figure 118 Steady state bleed air temperature response comparison of clean and fouling conditions open test B

Steady state ram airtemperature

u:1U
~

.......,..

~

100 80 60 40
0

:s

Q)

E

Q) a.

--aean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

.... ·n;
0:::

E cu

100

200
Time (sec)

300

400

Figure 119 Steady state ram air temperature response comparison of clean and fouling conditions open test C

141

t

-120 ~--------~----------~----~

Steady state bleed air temperature

--Oean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

0

100

200
Tirre (sec)

300

400

Figure 120 Steady state bleed air temperature response comparison of clean and fouling conditions open test C

- 140 - - y - - - - - - - - - - - - - - - - - - - - - - ,

Steady state ram air temperature

t

t-B 120 Q)
16
~

5

E

~ 100

--Oean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --FoulingS

·iQ
E ('Q
0:::

80

0

100

200
Tirre (sec)

300

400

Figure 121 Steady state ram air temperature response comparison of clean and fouling conditions open test D

Steady state bleed air temperature

--Oean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

0

100

200
Tirre (sec)

300

400

Figure 122 Steady state bleed air temperature response comparison of clean and fouling conditions open test D

142

Steady state ram air temperature

[ 140 t-Z 120 ~ 100 ~ 80 a. ~ 60 ·ia 40 ~ 20 0::: 0 +--- , - - - , - - , - - -........,.----,-----!
0
100 200 300
Tirre (sec)

--aean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

400

500

600

Figure 123 Steady state ram air temperature response comparison of clean and fouling conditions open testE
Steady state bleed air temperature
-120 .---------------------------~
0

t

--aean
- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling5

1-.<:

n;

~ 100

Q; a. E

·n;
.J2

-: 80
60
+---~----~----~----~--~----~

~

m

0

100

200

300
Tirre (sec)

400

500

600

Figure 124 Steady state bleed air temperature response comparison of clean and fouling conditions open testE
Ram air temperature drop

[ 70 ~------------------------------------.
a.

--+-Oean
1 Fouling 2 Fouling 3 --*-- Fouling 4 ___._ Fouling 5
-111-- Fouling

-o
n;
Q;
~ ,_

0

::;

Q)

50

E-

30

·n;

E ~10 +------,-----.,--:::.........IIL----,,.------,-----l

2

3

4

5

Flow rate ratio test no.

Figure 125 Ram air temperature drop comparison of clean and fouling conditions - open tests A-E

143

~ 90 - , - - - - - - - - - - = = - - - - - - - - - - - ,

Bleed air temperature drop

~aean

-11- Fouling 1

Fouling 2 Fouling 3
~Fouling4

___._ Fouling 5

2

3
Row rate ratio test no.

4

5

Figure 126 Bleed air temperature drop comparison of clean and fouling conditions - open tests A-E

4. 7.2.2 Transient tests
The transient tests display similar results as those shown in the steady-state open tests, with increasing fouling significantly affecting the outlet temperature response of both the bleed air and ram air sides. There is a significant drop in the final steady-state ram-air outlet temperature and an increase in the final steady-state bleed-air temperature. The buildup in deposits coats the heat exchanger's metal surface, and reduces its abilities to exchange thermal energy between the two fluid streams. Thus, slower response times to achieve final steady state outlet temperatures are observed as fouling increases. These results are shown in Figures 127- 134 for all the tests F- I.

Ram air outlet temperature response

LL' 130 -,--------------------------,
~

.a ~
<I)

~

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling 4 --Fouling 5

E'
L..

110

2 ·a; E
~

ro

90

T---~---~---,---~--~

0

100

200

300

400

500

time (sec)

Figure 127 Ram air temperature response comparison of clean and fouling conditions - open test F

144

Bleed air outlet temperature response --Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling 5

.a
~

~

120

~

~

100

"(ij
"0
Q) Q)

'-

m

80

+~----~------~------~----~----~

0

100

200

300

400

500

time (sec)

Figure 128 Bleed air temperature response comparison of clean and fouling conditions - open test F
Ram air outlet temperature response
'L-

G:' 120 ~ 100

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling 5

.a
Q)

~

2

a. E

"(ij

'-

E
0::

co

80 60 40 20 0 0 200 400
lime (sec)

600

800

Figure 129 Ram air temperature response comparison of clean and fouling conditions- open test G
Bleed air outlet temperature response
'L-

G:'
~ Q)
:::J

~

120 100 80 60 0 200 400
lime (sec)

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling 5

2

a. E
'-

"(ij
"0
Q)

r

~'-

m

~

600

800

Figure 130 Bleed air temperature response comparison of clean and fouling conditions- open test G

145

Ram air outlet temperature response
4L.

G.:' 100

.a
·n;

~

--Clean

2 ....

a. E

(I)

~

80 60 40 0 100 200 300 400 500
lime (sec)

- - Fouling 1 Fouling 2 Fouling 3 --Fouling 4 --Fouling 5

0:::

E ro

Figure 131 Ram air temperature response comparison of clean and fouling conditions - open test H
Bleed air outlet temperature response
4L.

G.:' 100

.a
·n;
"0

~ ~

80 60 40 20 0 0 100 200 300 400 500
lime (sec)

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling 5

2 ....
(I) (I)

a. E

(I)

co

Figure 132 Bleed air temperature response comparison of clean and fouling conditions -open test H

Ram air outlet temperature response
4L.

G.:'

140
--Clean

.a
a. E
(I)

~ ~

120

- - Fouling 1 Fouling 2 Fouling 3 --Fouling4 --Fouling 5

·n;
0:::

2 .... 100
E ro

80 0 100 200 300
lime (sec)

400

500

600

Figure 133 Ram air temperature response comparison of clean and fouling conditions - open test I

146

Bleed air outlet temperature response
~

Li:'
~

140 120

--Clean - - Fouling 1 Fouling 2 Fouling 3 --Fouling 4 --Fouling 5
+-----.-----.-----,-----~----~----~

~

::::::1

a.

Q)

E 100 2 .... ·n; 80
"0

m

Q) Q)

6o

0

100

200

300
lime (sec)'

400

500

600

Figure 134 Bleed air temperature response comparison of clean and fouling conditions -open test I

4. 7.2.3 Fouling Resistance
A final look at the thermal resistance created from the foulant is studied in this section under steady state conditions (Tests A - E). This will provide an indication of the damage caused by the foulant, in terms of both heat exchanger thermal performance and providing efficient ram air cooling. An increase in fouling inevitably reduces the exchange of thermal energy between both fluids which in turn results in more ram air usage to accommodate the loss in heat exchange. The extra ram air will have a negative effect on the overall performance of the aircraft by increasing the overall drag and in turn the fuel consumption.

Figures 135 and 136 show the general form of the change in the ram air and bleed air side heat transfer
coefficients with each level of fouling. This data helps one to understand the extent of each level of fouling on either channels of the heat exchanger. The shape of the curve of the change in heat transfer coefficient with fouling level seems to be asymptotic in nature. As expected, the fouling does reduce the heat transfer on both sides of the heat exchanger. Often is the assumption that the presence of the deposit does not affect the hydrodynamics of the flowing fluid. As mentioned earlier, the surface of the deposit is unlikely to be the same as that of the metal on which it settles. In general, the surface of the deposit is rough so that the turbulence within the fluid is greater than when it is flowing over a smooth surface. As a result the heat transfer coefficient will be higher than if the increased turbulence had been taken into account. It is possible that the increased turbulence offsets the thermal resistance of the deposit, and higher values of heat transfer coefficients will result. Figures 135 - 137 illustrate the problem that involves the turbulence in terms of the heat transfer coefficients.

147

Figure 137 shows the effect of each fouling level on the overall heat transfer coefficient. Similar
observations are made as those for fluid side coefficients. As would be expected, the total thermal resistance increases as fouling increases for all tests, as seen in Figure 138. The tests also illustrate that the flow rate ratio has little effect on the fouling behavior but can influence the hydrodynamics of the flowing fluid in the presence of a deposit. A layer of deposit can increase turbulence, and negative values of thermal resistance will result as can be seen in Figure 139. In the tests carried out here, the thermal performance ofthe exchanger is reduced up to 19% following fouling. In conclusion, obliging the air flow to pass through the exchanger as in a usual heat exchanger setup will mask the heat transfer problem due to fouling, but does not influence the pressure drop due to it. The inclusion of the bypass channel illustrates the full negative effect of fouling on the thermal and hydrodynamic performance of the heat exchanger. The behavior of the fouling resistance will be studied and applied to fouling detection using the EKF method described in the next chapter.

.!ll

c
0

Heat transfer coefficient (bleed air side)

~ Q)

60

~--------------------------------~

·

TestA Teste Test D

50 0 ~ u::- 40
~~
(1J-

· - · ·- · - Test B
~
'L

...

!:;

.r:::.
Q)

10 Q)
1/)

e

2

30
2Q
10

,,----~---*---

4:..s=
~

I .. - .. - . Ill - . ... .. II .... - .. II, - .... - II - ..

~---"*-- -~
.· , ··

-~-TestE

:'2

·n;
"0
Q)

....

..!ll
aJ

0

+-----.-----.-----.-----.-----~----~

0

2

3
Fouling Level

4

5

6

Figure 135 The change in bleed air side heat transfer coefficient with fouling
4:,u

r.u

Heat transfer coefficient (ram air side)

c .!ll
~
0

40

.-------------------------------------~

·

Test A Teste Test D

8
·

30
-~

· · ···· ·· · Test B

~~ fij ~ 20 F Cii 1/)

·

!:;
Q)

(ij-

-~---...t ~ ,.,..---~--~

·

-~-TestE

~

1Q ~·-· - ,···:.l·······IA···'··-~-·-· -··A ·-, .... _

111

1/)

·n;
E
0:::
nJ

....

0

+-----~----~----~----.---~----~

0

2

3
Fouling Level

4

5

6

Figure 136 The change in ram air side heat transfer coefficient with fouling

148

~
.!&!

O\rall heat transfer coefficient
20 .-----------------------------~

c
0

-+--TestA ·· · · Test 8 Teste

~ ~

~ o u::- 15
~-

t -

... ·vm

~

=s 10

-

- - - *-- - *-- -

·

·

·
~---

~--

.._____.,
- ~

Test D

- ""'*"" -Test E

······ ·lll ·· ···· · lll· ··· ·· · l!f - .,., __ _

~

5
0

· · · · · · -e
+------,-----,-----,------,-----~----~

a;
(i)

> 0

0

2

3
· Fouling Level

4

5

6

Figure 137 The change in overall heat transfer coefficient with fouling

ii5

=s

-:2

Total thermal resistance

~
~
c
0
Q)

0.5 - r - - - - - - - - -- - -- - ·------,

·

TestA Teste

- · · · ·-- Test 8

cri
ro
(/)

0.25
··· A ·

a; E
(i)
0

~

·II

N

······

g ..... ' · !!I .
-...

A

···

A

.g ....

....
5

Test D

- ""'*"" -Test E

~ -- -.--- -.-- -

---~---~ 1111 ~\

£ 7§
1-

0

+-----~----~----~----~----~--~

0

2

3
Fouling Level

4

6

Figure 138 The change in total thermal resistance with fouling
-:2

"S
LL
0

0.05 ~ 0.04 ~ 0.03 0 c 0.02 ro ]i 0.01 ~ a; 0 E (i) £ -0.01 .!i -0.02
Q)
(/)

ii5

=s

Fouling thermal resistance
.II

· Test A -··Ill· ·- Test 8 Teste Test D

- ""'*"" ··'

Test E

.-···· ·- ...

-"'
4

0)

0

2

3
Fouling Level

5

6

Figure 139 The change in fouling thermal resistance with fouling

149

CHAPTERS

FOULING DETECTION IN THE AIRCRAFT ECS HEAT EXCHANGER

The process of detecting fouling in an aircraft ECS heat exchanger is by no means a simple task. To allow for a CBM solution, several factors need to be taken in consideration both from a technical and economic perspective. Monitoring of failures in modern civil aircraft is often limited due to sensor/transducer position and quantity. Therefore, one may need to utilize the current instrumentation installed in the aircraft for control and safety reasons in order to establish the heat exchangers' health condition. The typical available measurements for the air conditioning pack are the bleed temperature, compressor outlet temperature and the mass flow rate at the inlet of the air conditioning pack (see Figure 78). Also available are the flight conditions in terms of Mach number, flight altitude and external atmospheric temperature.

The proposed methodology to monitor the heat exchanger contamination is presented here:

1. Obtain and collect flight data measurements based on the available sensor installation. For the air conditioning packs these would include measurements of the bleed temperature, compressor outlet temperature and the mass flow rate at the inlet of the air conditioning pack, as well as the flight regimen conditions. 2. Data filtering - The raw data that are recorded are typically noisy and may be associated with outliers and gross errors (e.g., from faulty sensors) and have to be filtered to for proper estimation and prediction of heat exchanger parameters. 3. Inlet temperature estimation - Based on the temperatures measured on different points of the system and thermodynamics based mathematical models, an estimate of the heat exchanger inlet temperature is depicted. 4. The EKF state and parameter estimation- The tuned EKF algorithm developed in Sections 5.2 and 5.3 together with the plate-fin heat exchanger model will be used to estimate the heat exchanger outlet temperatures and the parameter to be monitored based on the flight conditions and available measurements. 5. Fouling model- The fouling model is developed off-line from recorded sensory information for both air conditioning packs. 6. Fouling detection tool - A failure threshold is defined where the parameter trajectory estimates the time to failure using a CUSUM (cumulative sum) test tool.

150

There is no heat exchanger flow measurement available and the only available flow rate measurement is at the inlet of the air conditioning pack which is split into the flow entering the heat exchanger and the bypass flow. The constant modulation of the heat exchanger inlet flow by the bypass valve imposes a constraint in the monitoring of the heat exchanger fouling since air flow affects the temperature drop across the heat exchanger. A mathematical model based on the bypass valve control commands has to be developed to obtain mass flow rate measurements at the heat exchanger inlet. This is obviously not an easy task since valve modulation is at very high frequencies and is also subject to degradation over time.

With this limited environment, the task of estimating and monitoring the heat exchanger fouling is not a simple one. Therefore the critical choice of adding new sensory hardware to measure the flow rates and inlet and outlet temperatures or, of using the available sensory information to develop mathematical models to estimate the parameters, lies on a thin line of balance between economical, technical or functional viability.

This chapter covers the heat exchanger model setup. The estimation algorithm is then developed using the EKF. The EKF is tuned on a clean heat exchanger, and the influence of initial conditions and sampling period are studied. The fouling model is also developed with the CUSUM test applied to detect any contamination in the aircraft ECS heat exchanger.

5.1

HEAT EXCHANGER MODEL SETUP

As described earlier, a nonlinear state space lumped parameter finned model is used to describe the behavior of the aircraft ECS heat exchanger. The state equations are derived on a lump basis, based on

Eqs. (2.35)- (2.37) for the plate-fin (finned). model. The discretized state equations were defined earlier
as
.w T 1,}

=

(

lf/1

,~, T12 T ci nTh; w f l + (/Jl ) T i,j + (),IT i,j + 'f'I i,j + al i,j + fJI i, j

(2.58) (2.59) (2.60)

. 11 T 1, } ·

=

() T 1 1
2 1, · }·

T ci + lf/2 Tw · · + a2 ; 1·
1, } '

f/2
i,j

=

,~, Tf2 '1'2 i, j

f1 Thi + (/J2 Tw i,j + 2 i,j

Eq. (2.61) is re-written as

151

lf/]=

(5.1)

The fluid outlet temperature algebraic relations, developed before, are given below:
Tc~ = P.lTc~ 1,] 1, ]

- QlTw - RlTfl 1,] 1, }

(2.63) (2.64)

Tho = P-2Thi - Q2Tw - R2Tf. 2 1,} 1,] 1, ] 1, ]

Therefore, Eqs. (2.58)- (2.60), (2.62)- (2.66), and (5.1) define the nonlinear state space model required for state estimation. The system states are defined to be the core and fin temperatures, r;:, T;~/,

T;j 2 at

each lump. The hot and cold fluid temperatures relate to the core temperatures using appropriate algebraic equations provided by Eqs. (2.27) and (2.28), derived for constant surface temperature conditions. As stated earlier, the state functions are still nonlinear. Since the flow rate is coupled with the system states,

r;:., T;j 1 , T;j2 , the equations yield the time-variant nonlinear state space heat exchanger model of the
form:

! (t) = f (! (t) ' !i (t) ' ~' t)
~ (t) = ~ (! (t) '!i (t) '~' t)
or

(5.2) (5.3)

!(t) = A(~)!(t)+B(~)!i(t)
~(t) = C(~)!(t)+ D(~)!i(t)

(5.4) (5.5)

152

where

! are

the

systems

states

at

each

lump,

B

defines

the

model

parameters

and

In order to detect fouling, four dimensionless parameters were defined earlier (i.e., Eq. (4.62) from the model described by Eqs. (2.58) - (2.60) as

The heat transfer coefficients are mass flow dependent as defined by Eqs. (2.1) and (2.2). The parameters are then corrected for flow variations and scaled at some reference conditions as:

(5.7)

Here the reference state is arbitrary and taken at clean conditions, i.e.,
f}_

· ={a,b,c,d · · · ·}r

(5.8)

and cf!I, c!! 2 , are ram and bleed flow correction factors. The importance of these factors will become evident in the detection of fouling.

5.2

PARAMETER ESTIMATION

Since a nonlinearity is present through the heat transfer coefficient's dependency on the flow rate, the EKF is applied to the state and parameter estimation. The EKF is based on the linearization of the nonlinear state and observer equations [127]. It can be realized that a linearized Kalman filtering algorithm, for which the filter gains are pre-calculated, can be applied if the nonlinear functions

f

and

!J.k in Eqs. (3.1) and (3.2) are linearized about an operating point which is specified prior to the

153

processing of the measurement data. However, the there is less accuracy in the filtering process than the EKF since the operating point is usually not close to the actual trajectory [127].

To observe the changes in the heat transfer coefficients using the EKF approach, the state vector ! is augmented to the parameter vector ~ = ~(t) to give:

~(t )] :Io(t)= !(t)
The parameter vector is described as a purely random process,

[

(5.9)

a(t) dt
d b ( t) c (t)

wa(t)
= [ . ( )] =
~ t

d(t)

we t wd(t)

w b ( t) ( )

=

We t

()

(5.10)

where we (t) is an independent normal distributed (Gaussian) white noise sequence of zero mean and covariance matrix Qe (t), i.e.,

We (t) E N(Q,Qe (t))
The nonlinear heat exchanger model now becomes

(5.11)

[ !~(t)] (f)

[
=

f (! (() '!{ ( () '~' () +

0

]

[We (t)]
WX
( ()

(5.12)

(5.13)

where w x ( t) == N ( Q, Qx (t)) is a random process noise added to compensate for deviations in the state (temperature) prediction from actual temperature values[123].

154

The continuous-discrete extended Kalman filter algorithm (see Gelb [127]) is utilized for the continuous time nonlinear heat exchanger model with discrete measurements. The implementation process of the nonlinear filtering problem is presented below:

System model

i.e ( t) =

f (!e ( t) ,Y. ( t) ,t) + w (t)

(5.14) (5.15)

~e ( t) = ~ ( !e ( t) , y_ ( t) ,t)

w(t)"' N( Q,[Q.O(t)
Measurement model

Q,O(t)]J = N(Q,Q(t))

(5.16)

Sampled nonlinear measurements are obtained from the states at each sampling time k with a measurement white random noise ~k of zero mean and covariance matrix
Rk

added, i.e.,

~k

=

~k ( !e ( t k ) , Y. ( t k ) ) + ~k

~k = ~e ( tk ) + ~k
Initial conditions

k= 1, 2, ...

(5.17)

It assumes that the initial states are normally distributed as:

(5.18)
Other Assumptions
No correlation exists between the process noise and the measurement noise, i.e., at any timet and k, and
~k

w(t)

are independent random variables, such that

for all k and all t
State estimation propagation (prediction)

(5.19)

The state estimate propagated in time, as would the state vector in the system model, is denoted in an approximation to the conditional mean:

!e (t) = f (!e (t) ,Y. ( t) ,t)

(5.20)

155

fe (t) = ~ {!e (t) ,~ (t) ,t)
Error covariance estimation propagation (prediction)

(5.21)

The approximate expression for propagating the associated covariance matrix of the state in time is

P(t) = F {ie ( t), ~ (t) ,t) P ( t) + P ( t) Fr {ie (t) ,~ (t), t) + Q(t)
State estimate update

(5.22)

This represents the updated state vector by a correction made to the propagated state estimate due to the measurement:

!e, (+) = !e, (-) + Kk [ Ik - :f:e, (-)]
Error covariance update

(5.23)

(5.24)
Kalman gain matrix

Definitions

Since both from

f (!e (t) ,~ (t), t)

and ~ {!e (t ),~ (t ),

t)

are functions of the state, the Jacobian are obtained

(5.26)

(5.27)

In the equations above, t represents the time index for the continuous system; k is the time index for the discrete system; (-) corresponds to values after the state and error covariance prediction, i.e., the values are projected from the previous time step at k - 1 to the current time step at k ; ( +) denotes the updated values after the correction (measurement) at k + 1; and(") represents the estimate denotation.

156

The filter estimates the process state at some time, and then a measurement is obtained. The equations can in general be divided into two; prediction (Eqs. (5.20) - (5.22)) and correction (Eqs. (5.23) - (5.25)) equations. The prediction equations are responsible for projecting in time the current state and error covariance estimate at time t to time t + dt. The correction equations serve to improve the state estimate by incorporating the measurement.

The process noise covariance matrices and the measurement noise matrix are defined as:

E[ We (t)wer (t) J Qx = E[ Wx (t)wxT (t) J Rk = E[ ~k~kTJ
Qe =
To obtain

(5.28)

F(:!e(t),~(t),t) and Gk(:!ek (-),~k(-)), the first order terms of the Taylor series
f(!e(t),~(t),t) and ~k (!e(tk),~(tk))about the current estimate of !e(t) are

expansion of

approximated respectively, i.e., the nonlinear functions f

(!e (t) ,~ (t) ,t)

and ~k

(!e (tk ),~ (tk))

are

linearized about the current estimate of the state as described by Eqs. (5.26) and (5.27). Finally, Table 16 defines the variables and their corresponding dimensions.

Variable

Size ofvector/matrix

!(t), :!(t)
~(t), fZ(t)

3xNxxNy 4 4
X

1 1
X

We (t) wx (t)
~k

X

3xNxxNy 2x1 4x4

1

Qe (t) Qx (t) Rk P(t) F ( :!e ( t), ~ ( t), t)
Gk (:!ek (-) '~k (-))

3 xNx xNy x3xNxxNy 2x2 4 + (3 4 + (3 4 + (3 Nx Nx Nx Ny) Ny) Ny) 4 + (3 4 + (3 4 + (3 Nx Nx Nx Ny) Ny) Ny)

X

X

X

X

X

X

X

X

X

X

X

X

X

X

X

Table 16 Vector/matrix dimension ofvariables

157

0
0

0 0 0

0 0

0 0 0 0

0

0
()

0
0 0
I

0
0

0 0

0

0

0
8ft 8X3xNxxNY 1,!83xNxxNy 8ft 8X3xNxxNY I,!03x Nxx Ny
(5.29)

8ft
aa.!o.

8ft

8ft ac ·g8 3 8J; ac ·g83

8ft ad ·g84 8J; ad ·g84

8ft
8xll!os

ab ·g82
8J;

F ( !o (t) ,!{ ( t) , t) =

8J;

8J;
8xll!os

aa ·g81

ab ·g82

aa
0
0 0 0

!o1

a;;xN xxNY ab

!o2

a;;xNxxNY ac

!oJ

a;;xNxxNY ad

a;;xNxxNY
-~

a;;xNxxNY !os 8X3xNx xNY 1,!83xNxxNy
0

!o4

axI

0

0 0

0 0

0
0

0

0
0 0

0 0

0 0
8gl

0 0

0
0

agi
Gk {!ok

agi
1

agi
·g8.t3

agi axi '!oks
8g2
·g8.t4

agi ax3xNxxNY ag2 8X3xNxxNY 1,!8k3xNxxNy
l_i,
-Uk

(-) '!!k (-)) =

aa
ag2

!okl

ab
ag2

·g8k2

ac ag2

ad ·gok4
8g2

JxNxx Ny
(5.30)

aa

·g8.tl

ab

·g8.t2

ac ·g8k3

ad

axi '!oks

8g3xNxxNY aa

!oti

ab
!ot2

ac

!ok3
158

ag3xN"xNY ad

:!ot4

axI

:!oks

ax3xNx xN.V

1,!8.t3xNrxNy

5.3

TUNING OF THE EKF ALGORITHM

The heat exchanger model and EKF algorithm developed in Sections 5 .I and 5.2 will now be studied for a clean heat exchanger. The nonlinear model was derived analytically, and was based on an existing crossflow heat exchanger (see Chapter 2) whose physical characteristics (heat transfer coefficients and pressure drop relations) are provided by the manufacturer. The model is based on specific operating and atmospheric conditions, as provided by the mission data (see Table 1). The tuning of the EKF model will now be applied. The influence of the initial values of the Kalman filter, of the sampling period, and

ofQ(t), will be studied.
Since tuning the EKF model is independent of the heat exchanger model parameters, we can pick any of the operating points defined in Table 1. In keeping this thesis consistent with the previous work carried out in Section 2.9, we select the following mission points (same mission points as Table 3):

Case

Mach No.

Altitude ft

Bleed Air Conditions Temperature

Ram Air Conditions Temperature

Ambient Conditions Temperature

OF

Pressure psi a
20 35 35 20

Mass flow rate lbm/s
0.018333 0.018333 0.018333 0.108333

OF

Pressure psia
14.7 14.31789 8.591764 3.855444

OF

Pressure psia
14.7 13.7 6.76 2.71

A3 AlO A14

A25

0 0.3 0.7 0.85

0 3000 20000 40000

380 450 380 380

130 59.18 50.57 20.69

130 50 5 -40

Table 17 Mission operating points for clean heat exchanger tuning

Once the initial heat exchanger conditions are established, other physical parameters need also consideration. The number of lumps required and the weighted parameter function were already optimized earlier in Chapter 2, so that for this procedure,
Nxy

=5

and~=

0 are ideal for tuning the EKF

model for correct outlet temperature response for steady state and transient analysis. For the continuous nonlinear simulations, a time step of 0.05 seconds is employed for accuracy in predicting the state estimate. A more relaxed approach is applied to the sampling time with regards to convergence and accuracy. For this study, a sampling time of 0.5 seconds is found to be suitable. This represents a sampling rate of two samples per second.

A MATLAB algorithm was develop to introduce steady state stochastic input signals. Figures 140 and
141 show the operating point A25 mass flow rates and inlet temperatures for a clean heat exchanger

159

study. The signals were input into a steady state heat exchanger model script written with outlet temperatures as the outcome, as in Figure 142.

Mass flow rates

0.11 0.105 0.1 0.095 1500
sample no.

Figure 140 Mass flow rates for ram and bleed air channels
G:'
1-:z:
I

~
i_Q)

Inlet temperatures

385 380 375 370
o ~--------------5 -o ~ o --------------1o~ oo --------------1~ 500

~

! ·Ill

J

sample no.

Figure 141 Inlet ram air and bleed temperatures

160

Bleed air outlet temperature (Th 0

)

response

171.5
I

171

-

-

-

-

-

- -

-

-

-

- .l I

- -

-

-

-

-

-

-

-

-

- -

-

_I_ -

-

-

-

-

-

-

-

-

Ci:'

~
1-.2
I

170.5 170 169.5 169 168. 5 168 167.5 167

I
·m

~

j

0

500
sample no.

1000

1500

Figure 142 Bleed air and ram air outlet temperatures

The cruise operating condition A25 data was considered to tune the EKF model, since a majority of the aircraft flight path is under cruise conditions. The load conditions were varied to study the effect of the EKF under transient conditions. Figures 143 and 144 illustrate the actual initial conditions used for tuning, with the corresponding outlet temperatures shown in Figure 145.

Inlet temperatures
I
I

I
!

400 380 360

I I - - - - - - - - - - II - - - - -

I
~-

I - - - - -I - - - - - ,- - - -

I
-~

I - - - - - I - - - -

I

I - - - -

I

I

I

-I- -

-

-

-

-

-

-

-

-

- 1

-

-

-

-

I - - - - -

I

IIMJHIIII·~-~~

340 L---~----_L----~----L---~~--~----~----~----~--~

0.5

0.6

0.7

0.8

0.9

1

1.1

1.2

1.3

1.4
X

1.5 10
4

30 - - - - -< I

I

I
-

- - - -

f- -

-

-

-

-1- -

+ - - - - I

1- -

-

-

-

-l I

-

-

-

-

I

I

I

I

25 20
_ _ 1- __ .I I - 1- I

-

-

-

_j -

-

-

-

-

L I

-

-

-

sample no.

Figure 143 Inlet ram air and bleed temperatures based on operating point A25

161

Mass flow rates

0. 12 - - - - -, - - - - I

r - - - - -~- - - - - r - - - I I

-1- I

-

-

-

-r - - - - I

1- I

-

-

-

--, -

-

-

-

-

r - - - -

0.1

0. 08 - - - 0.5

I

--1 -

-

-

-

-

;-- -

-

-

-

-I- I

-

-

-

t- -

-

-

-

- 1 I

-

-

-

-

-t -

-

-

-

- 1- -

-

-

-

--1 -

-

-

-

-

;-- -

-

-

-

I

I

0.6

0.7

0.8

0.9

1.1

1.2

1.3

1.4
X

1.5
10
4

0. 15 - - - -

-< - - - - - >- - - - I

-I- -

-

-

-

.j.

-

-

-

-

-

1- -

-

-

-

-1 -

-

-

-

- 1- I

-

-

-

-< - - - - - >- - - - I

0.05

- - - - --, - - - - - r - - - I

-~-

- - - -

T -

-

-

-

- ~-

-

-

-

-

,

-

-

-

-

- 1- -

-

-

-

--, -

-

-

-

-

r - - - -

I

0.5

0.6

0.7

0.8

0.9

1.1 1 sample no.

1.2

1.3

1.4
X

1.5
10
4

Figure 144 Mass flow rates for ram and bleed air channels based on operating point A25

Bleed air outlet temperature (Th 0 ) response
I

174

--------

I
-~----

I

I
----I----

-~---------------~

I---- I----

I

I

u::-

I
I-.E
I

I

172

_ _ _ _ _ I _ _ _ _ _ I _ _ _ _ _ I _ _ _ _ _I _ _ _ _ I I I I

~

____

~

____

.!_ ___ _
I

I

;:)

~

170

i
1)
"jij

~

168

~ ...

m
164
I I I I _ I_ _ _ _ _ I _ _ _ _ _ I _ _ _ _ _ I _ _ _ _ _ I _ _ _ I

j

166

_

_

_

I _ I_

_

_

_

I _ I_ _

_

_

I _ I_ _

_ _

I _I _ _

_

I _ _ I _ _ _ _ _j _

I
_ _ _
j _ _ __ j

I
__ __

I

.L _ _ _
I

..J __ _ _ ..1 _ _ _ _ ..1 __ __ .L __ _

0.5

0.6

0.7

0.8

0.9
sample no.

1.1

1.2

1.3

1.4

1.5

Figure 145 Bleed air and ram air outlet temperatures based on operating point A25

162

The Kalman filter parameters and the heat exchanger model values are shown below:

m 1· = 0.1 026lbm/s, m 2· = 0.1060 lbm/s

(Operating condition A25)

Qx (t) = [ Cxi {( 3 X N 1 X N 1 ) X ( 3 X N1 X N 1 ) }
Rk

J, Q

0 (

t) = [ C0 ] { 4 x 4} J

=[cvi{(2xN1 )x(2xN1 )}]
o{4x(3xN1 xN1 )}
cP 2

l

1{(3xN1 xN1 )x(3xN1 xN1 )}

:! (0) =initial values (see Figure 145)
~(0) =random values (0- 2)

where reference conditions are indicated by (*), I is the identity matrix and 0 is the null matrix. The measurement covariance, process noise covariance and error covariance matrices are tuned by varying the constants ex, c0 , cv, cpi and cP 2 · The initial values of the state and parameter estimate vectors are based on the initial conditions described by Figure 145.

In general, the Kalman gain is chosen in such a way as to minimize the predicted error convariance matrix. The determination of th.e process noise covariance Q (t) is generally difficult as the ability to directly observe the process estimate is not usually possible. On the other hand, the measurement noise covariance Rk can be obtained through actual offline sample measurements. In either case, whether or not there is a rational basis for choosing the parameters, high filter performance can be achieved by tuning the filter parameters Q (t) and Rk.

Inspection of the Kalman equation shows that if the measurement error covariance Rk approaches zero, the gain K weights the measurement innovation ( ~k
-

~ok (-)}

more heavily and vice versa, i.e., if the

measurement noise is large, Rk will be large, so K will be small and the measurement is given less credibility when estimating the state and vice versa. Figures 146- 148 illustrate the effects of with the states. When Rk = 0.0001, the filter responds quickly to the measurements, whereas for Rk = 100, the filter is slow to respond to the measurements.

163

Bleed air outlet temperature (Th0 ) response
180 ~------~------~------~------~------~------~
I I
-

- - - True outlet temperature
-

178 176 174 172 170 168 166

-

-

-

-

-

-

-

-

_J

-1- -

I

- - - Estimated outlet temperature
I I I
-~-

- - - - - - - - I - - - - - - - -

I

I
- ~-

- - - - - - - - I - - - - - - - -

- - - - - - - -

I 1- -

-

-

-

-

-

-

-

- - - - - - - - -+ - - - - - - - -

-I- -

-

-

-

-

-

-

-

+ - - - - - - - -

- I -

-

-

-

-

-

-

-

-

f- -

-

-

-

-

-

-

-

I
I

-

- - - - - - - _I I

- - - - - - - _1_ I

-

-

-

-

-

-

-

_!_ I

-

-

-

-

-

-

-

_I_ I

-

-

-

-

-

-

-

~

-

-

-

-

-

-

-

-

-

-

-

-

-

-

-

-

-1

-

-

-

-

-

-

-

T -

-

I

I
_ _ _ _ _ _ _ _

I
j_ _ _ _ _ _ _

I
___I

I

164 162
0

_l _

I_ _ _ _ _ _ _ _ _

_ _ _ _ _ _ _ _ _ L _ _ _ _ _ _ _ _

I

- - - - - - - - I - - - - - - - -

I

I
- ~ -

- - - - - - - - T - - - - - - - - -1 - - - - - - - - - I - - - - - - - -

I

I

I

160 ~------~------~------~------~------~------~

100

200

300
sample no.

400

500

600

Figure 146 Clean simulation test: Rk = 0.0001
Bleed air outlet temperature (Th 0 ) response

180 178 i:L
- - - True outlet temperature - - - Estimated outlet temperature

!

176 174 172 170 168 166 164 162 160 0 100 200 300
sample no.

._2
~ ~

~

Q)

~
0 ....

~

\

·a;

m

$

400

500

600

Figure 147 Clean simulation test: Rk

=0.1
164

Bleed air outlet temperature (Th 0 ) response
190 .---------~------·~------~--------~------~------.

: : ~-- True outlet temperature I 185 ------- ~-------- ~---- _ - - Estimatedcoutlet temperature ~1 I

1
.,_2
I

180 175 170 165 160 155

I
---~-

-

----r--

-

--~--

r-

- - - - - --

I

-

____ I_ __

1§
~ Q)

::J

~

8..

E

~

I
I
-~--

-r-----

I

I
-1- -

I

- - - - - - -

I
-~

- - - - - - - - I - - - - -

I

-

I
-~-

- - - - - - - I - - - - - - -

I

I
-~-

- - - - - - -

150 ~------~------~------~-------L

0

100

200

300 sample no.

______ 400 500

_ L_ _ _ _ _ _~

600

Figure 148 Clean simulation test: Rk = 100

Deducing a very small process covariance, let Q (t) be such that ex and c0 are 0.1 and 1o·8 . One could let
Q (t) = 0, but assuming a small but nonzero value gives one more flexibility in tuning the filter. The

choice of Q (t) in the algorithm will provide stability in the both the estimation covariance matrix Pk and the Kalman gain K. In other words, increasing the values of ex and c0 will result in greater fluctuations about the equilibrium position of both the state and parameter estimation. Figures 149- 151 shows the estimation of the parameters for various values of c0 while ex is kept constant.

165

L..

Estimated parameters response

C1)

1i3

4 3.5 3 2.5 2 1.5 0 100 200 300 400 500 600

E-.
roUJ
f/)

~f/)

·= 5 ro·EC C1)
~E
"C ·-

a.~

Cl)~

m.roQ)

w
L..

~

E

C1)

1i3

E

3 2 1 0

~(j)

.=c: ro.Q
"Cfi'J

(\]fl) Q.Cl)

:cE
.5
(j)

m~

«f' OQ)

aJ~

w

0

100

200

300
sample no.

400

500

600

Figure 149 Clean simulation test: Q {t) such that

ex

and

c0 are 0.1 and 10-3

Estimated parameters response
(» Q)

3 2.5 2

I'OQ)

L..I/J

EroiiJ
a.-c
0

·= ro·c;;
Ec: ~~
Ero ~

-o:C Q)1.5 16« Q)

w

1 0 3 2

100

200

300

400

500

600

(» Q3

E

.:c ro.Q
:a .5
~~ Q)G>
Cii"

1'01/J Q.Q)

~en

-o"O Q)Q)

.50
w
iii

0

0

100

200

300
sample no.

400

500

600

Figure 150 Clean simulation test: Q {t) such that

ex

and

c0 are 0.1 and 10-s

166

Q;
"i)

Estimated parameters response

3 2.5 2 1.5 1 0 3 2 100 200 300 400 500 600

E.!::::: 0

a.c:

("(JQ)

~~

-c:C

ns·c;; Ec ~~
Q)

w

Q>-

Ens

w

~

Q;
"i)
.... 1/J
("(JIIJ Q.Q)

E ns-

·c;; c Q) :cE
""0
Q) Q)

.!:::::"'E ("(J 0

.foGJ
w
Cii

-c:C Q)-

0

0

100

200

300
sample no.

400

500

600

Figure 151 Clean simulation test: Q (t) such that

ex and c0 are 0.1 and 10-s

It can be seen that as

c0 increases, the estimated parameters respond with an increase in fluctuations and
-

thus stability becomes an issue, as with c0 = 10-3 . For c0 = 10-5

10-8 the response remains fairly

constant as fluctuations decrease. For values greater than 1o-8 the estimation process remains constant, showing that the procedure is very robust. Therefore, it is necessary to select c0 in such a way as to insure a sufficiently prompt response while keeping the fluctuations to a minimum. For this reason, c0 = 1o-8 is chosen, so that the filter response is fast enough while the fluctuations are small enough. Similarly, an initial value for P (0) has to be selected. Inspection of the Kalman equation shows that if the estimate error covariance Pk approaches zero, the gain K weights the measurement innovation

( ~k-

iok(-)) less heavily and vice versa, i.e., if the estimate error covariance Pk is small, then K will be

small and the measurement is given less credibility while the predicted measurement is trusted more when estimating the state and vice versa. However, the choice of cpi and cP 2 is not critical for P (0). One could choose any P ( 0) *- 0 and the filter would eventually converge. Therefore the starting values of cpi and

cP 2 were chosen as 0.02 2 and 1 respectively.

167

Another factor in the tuning of the filter and more specifically in the prediction and detection of fouling, is the calculations of the estimated parameters. The estimated parameters (film heat transfer coefficients) are based on flow rates of the bleed and ram air streams. Since the heat transfer coefficients are mass flow dependent a flow correction factor
CJJ

is utilized to correct h1 and h2 for the changes in the velocity from

the current state to reference state (see Eq. 5.17). The estimated parameters will capture the net impact of fouling by nullifying all other sources of variation, which might otherwise mask the critical trend.

To illustrate this, one can see the difference in trends for the two different cases as the EKF estimates the parameters with time in Figure 152. It is evident that the flow-corrected model generation appears to be more stable and constant, thus eliminating variations in flow.
L..

Estimated parameters response

Q)

Q)
L..-

2 1.5 1 0.5 0 0 500 1000
Original rrodel generation

ro

E
Q)

(til/)

0.1/J

·n;c:

L..

E·~

--u roE. Q) :;::;ro

-oE Q)._

~c: Q)

w
L..

"'

1500 2000

2500

3000

3500

4000

4500

5000

Q)

Q)

1.5

E ro
L..

Flow corrected

[(j)
L-1/)

·ro_ - Q)

-uC:
Q).Q Q)IJ)

0.5 0 -0.5 0 500 1000 1500 2000 2500
Original rrodel generation

-c: ..OQ)

-oE Q)._ E.

--u roQ)

:;::;0

w

"'

3000

3500

4000

4500

5000

sample no.

Figure 152 Model generated trajectories for the estimated parameters

Other factors such as sampling time have little effect on the overall performance of the filter, resulting in a robust estimation procedure. However, a balance needs to be achieved between model response and amount of data that needs to be analyzed. The choice of the starting values of the model parameters and estimate covariance need not necessarily affect the model prediction, but for faster convergence a shorter

168

sampling time can be applied. Incorporating all the factors, such as effect of Q (t), P (0), Rk, continuous time step, sampling time, correction factors, and initial values of the parameter and error covariance, results in a well tuned EKF algorithm with the final parameters and values for the EKF model shown in

Table 18:

ex= 0.1
c 8

cv

= 0.1 = 0.02 2

cP 2

=1

= 10-8

cP 1

sampling time= 0.5 sec

Table 18 Final adjusted tuning parameters for the EKF model

Figures 153 and 154 show the estimation and true states and parameter generation for a clean heat
exchanger based on the tuning parameters shown in Table 18.

Bleed air outlet temperature {Th

0

)

response

200
- - - true outlet temperature

190
u:::0,

- - - estimated outlet temperature

:s
0

(1)

180 170 160 150 140 130 120

I-.e

.a
a.
~
(1)

~
~

E

~ '5

....
"ffi "'0
(1) (1)

0

05

0

100

200

300

400
sample no.

500

600

700

800

Figure 153 Model generation showing the true and estimated bleed air outlet temperature

169

2.5
Q)
(i)
~

Estirmted rrodel generation

rom m roQ) a..!:::: § ro·m
~

E.-.

2

"'0 ·-

E c: ro Q) ~ E

1.5
True rrodel generation

Q)~

w

CO.. ro<l> E ~

1 0

100

200

300

400

500

600

700

800

3
Q)
(i)
~

2.5 2 1.5
~

:aE
"'0:0

ro~ m rom O.Q) .:"2 ro.Q "'m Q)C: Q)Q)

E

foCI>
w
~

Q)-

0.5 0 0 100 200

~

Estirmted rrodel generation

300

400
sample no.

500

600

700

800

Figure 154 Model generation showing the true and estimate ram and bleed parameters

This concludes the discussion on the tuning of the EKF variables for a clean heat exchanger. The sections that follow will discuss the fouling detection in the ECS heat exchanger, using the EKF model and a CUSUM test tool.

5.4

FOULING MODEL

Ideally, one would develop a fouling model based on actual flight recorded data. Since this is not available, a subroutine in MA TLAB is used to continuously decrease the heat transfer coefficient to a threshold level that signifies the estimated time to failure. In general, the heat transfer coefficient assumes asymptotic behavior with increase in fouling, and can be estimated with this (based on a fouling model developed in [118]):

(5.31)

170

where
r =

a rb
=

arccos (eft ) p- floor(peJ;)+l

(5.32)

-ra (floor (peJ;) + 1)

The constant eft indicates the value of fouled heat transfer coefficient as a percent of the clean heat transfer coefficient at the end of the time series. The constant eJ; indicates when the fouling will start. These constants can range from 0 - 1. In our simulations, the heat transfer coefficient was allowed to decrease by 25o/o of the clean heat transfer coefficie~t before it can be cleaned.

The experiments carried out in Chapter 4 for the open heat exchanger tests showed a decrease in the thermal performance of the heat exchanger by 19% following fouling. Also the data that was obtained from experimental measurements from all levels of fouling were used to calculate the heat exchanger efficiency as a function of time (see Section 4.7.2.3 for details). The fouling models from both experimental tests and simulations are summarized in Figure 155. These models will be used to show the on-line detection of fouling.

Change in heat transfer coefficient with fouling

._<J

c IU .5!

~

0.95

1/1

~
J:

c:::

iii Q)
~
0
~

0.9

.... ~

1/1

-

.5!

0.85

- - Experimental Ufouled/Uclean - - Experimental He fouled/He clean

~
J:

c:::

iii Q)

0.8

- - · - Experimental HH fouled/HH clean ----- Simulation HH fouled/HH clean

0.75

-·- ·-·- Simulation He fouled/He clean

0.7

0

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

Dimensionless time

Figure 155 Change in heat transfer coefficients with fouling over time

171

At this point, we will define our fouling detection tool using the EKF, heat exchanger and fouling models with the available filtered mass flow and inlet and outlet temperature measurements, and flight conditions. Also, all sensory information is assumed to be accurate with no faults or errors associated with the readings. In addition, we carry out all simulations and experimental work on an open loop ECS heat exchange system and thus remove the regulatory action ofthe bypass valve.

5.5

CUSUM TEST

The CUSUM test is used to detect fouling in the ECS heat exchanger. This test is efficient, as shown by [129], since it is sensitive to small shifts in the mean of a process [123]. When analyzing the parameters the mean value of the parameters is calculated over a window of specific length defined by the process of study, and the CUSUM test is used to detect a drift in the mean value of the parameters from their reference values (in this case the clean heat exchanger parameters). If the mean value of the parameter values is not changing in time it is said to be in control and the heat exchanger has not reached the threshold values. If the process remains in control the cumulative sum should fluctuate around zero. If the mean value of the parameters shifts either upwards or downwards, the CUSUM test will detect the drift.

Since the estimated parameter is decreasing with increasing fouling, a one-sided (lower tail) test is carried out. Since the increase in parameters is not of interest, a two-sided test can be ignored and the lower tail test will be utilized as follows:
I. Compute the cumulative sum: SL ( k)

=max[ o,(.u.- g Fn) -~k + SL (k -1)]

2.

Check if SL ( k) > h

Fn ;if so, then fouling has exceeded its threshold level
(

The initial value of SL ( 0) = 0 and SL

k)

accumulates deviations from the current value of the

parameter ( Xk) that is less than the reference value ( J.lo) with the quantity set to zero if the deviations are negative. The moving mean value of the estimated parameters is computed using a number of samples equal of the clean period. The standard deviation is also calculated from the clean period. If g and/or h are too low, false alarms are encountered, and if they are too high, the fault is not detected. Both g and h are based on a confidence interval from a standard normal distribution. In setting a confidence interval of 97.5% we find g and h to be 1.96 (corresponds to the lower 2.5% tail of the normal N ( 0,1) distribution).

172

The next section will show the simulations carried out for the operating condition A25, showing both the estimation of the parameters during both clean and fouling conditions using the EKF model, and the fouling detection using the CUSUM test.

5.6

SIMULATION STUDIES OF FOULING DETECTION

This section covers the open loop nonlinear simulations results for the proposed fouling detection algorithm. The algorithm incorporates the nonlinear heat exchanger plate-fin model developed in Chapter 2 together with the EKF (Sections 5.1 - 5.3) and CUSUM test (Section 5.5) models. The simulations are carried out using the MA TLAB software.

To be consistent with the proceedings in the tuning of the filter, the operating point A25 (see Table 1) is chosen for the simulations in detecting the fouling. The tuned parameters defined by Table 18 will be used for the remaining simulation and experimental studies. All other model parameters were defined in Section 5.3 for the operating condition A25 and are applied here. Figure 156 shows the values of the estimated parameters for a 3-hour cycle and the related CUSUM values detecting the fouling generated in the model simulation. The flow rates and inlet temperatures still randomly vary as in Figures 143 and

144. The vertical lines show the detection of fouling at the dimensionless time. Similar fouling levels
were applied on both the ram air and bleed air channels with a reduction of 50% of the clean heat transfer coefficient. It can be observed that fouling is detected quite early, given that the standard deviation of the clean period is used in the CUSUM test. Fouling is detected faster in the bleed air channels than it is in the ram air channels. Possible factors that influence the difference in the fouling process may be the difference in operating temperatures, fin and core dynamics and flow rates. Based on the flight-to-flight evolution of the process parameters, a threshold value could be set to estimate the time to failure. The process parameters generated are observed to be stochastic in nature. Figure 157 shows the estimated bleed air outlet temperature for the fouling period in a 3-hour model simulation. It can be seen that the outlet temperature increases as fouling increases indicating a decrease in temperature drop across the heat exchanger. A similar model-generated realization can be seen in Figure 158 for a 6-hour cycle. Detection of fouling in both channels is at similar times for both fast and slow trends. The evolutions of the parameters are quite similar, having the same range. This shows that the method is quite sensitive and robust making it well suited for on-line detection of fouling in the aircraft ECS heat exchangers. Figure

159 shows the estimated response of the outlet temperature for the longer cycle.

173

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

OL______ L_ _ _ _ _ _L __ _ _ __ L_ _ _ _ _ _
-1

~----~------~----~------J_

____

_ J _ _ _ _ _ _~

-0 .8

-0 .6

-0.4

-0 .2

0

0.2

0 .4

0.6

0.8

1000 ,------,------,------,------.------.------,------.------,------,------,
W ARNJNG' FOULING Dl:: TECTI:'D !N BLElJ) CHANNEL

WARNJNG 1 FOUUNG
DETECTED

1N RA!\·1 CHANN EL

500

~
0.1 0.2
0.3

0.4

0.5 0.6 Dimensionless time

0.7

0.8

0.9

Figure 156 Estimated parameters and CUSUM values for a* (t) (- - -) and c* (t) (-) for a 3-hour model simulation with similar levels of fouling
Bleed air outlet temperature (Th 0 ) response
185 .---~---,----,----,----,----,----,----,---,----,

150 L---~--~----~--~----~---L

____

L __ __ L_ _ _ _L __ _~

0

0.1

0.2

0.3

0.6 Dimensionless Time

0.4

0.5

0.7

0.8

0.9

Figure 157 Estimated bleed air outlet temperature for a 3-hour model simulation with similar levels of fouling

174

£

...

2.5 2 1.5
CLEAN

I

·a-a
·~

c.~

~ til~

-<- . ,

J -->
0

I

FOIJLTNCi

~~ a,'-'
~

~f~ ... 5

..... ..
0.5 0 -1 -0.8 -0.6 -0.4 -0.2 0.2 0.4 0.6 0.8

~t)

~ cu

ij
c.~

2

til-

-g .9

· a~
.£~ ~ cu

·.;:: u

~! & .,
~

0 -1 -1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

4000
cu 3000 "' ::s

l

T

\V i\RN ! NG1 HWLINCi

W /\RNING 1 FOUL lNG

"(;!

:E 2000
;:::J
tZl

...

DI::TECTT:"D lN BLEED Clli\NNEL

DETECT EL)
IN RAtvl CHt\NNLL

-

;:::J

u

1000 0

I
0

/ ~
··I I I

I

I

I

I

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

Dimensionless time

Figure 158 Estimated parameters and CUSUM values for a· (t) (- - -) and c* (t) (-) for a 6-hour model simulation with similar levels of fouling
Bleed air outlet temperature (Tho) response

Dimensionless lime

Figure 159 Estimated bleed air outlet temperature for a 3-hour model simulation with similar levels of fouling

175

To further show the method's robustness, different levels of fouling are introduced into the bleed and ram air channels. The bleed air channel is allowed to gradually contaminate over time whereas the fouling in the ram air channel is at a faster rate. Figure 160 shows the effect of different contamination levels in each channel and its corresponding effect on the estimated parameters and fouling detection.

~

....
u

2.5
CLEAN

§ ·a c
til';> Q.Vl .... .£

<11( --

2
~.

~ FOl JLl NC

,. ·..

'

13 .5
~"0

.. 5
0.5 -1 2 1.5 -0.8 -0.6 -0.4

§ '~

1.5

·.a.= «Ju
~

-0.2

0

0.2

0.4

0.6

0.8

£ u

§
til .-c..~

13 .9
.&>

· a~
u

2~

"0

~:3-

.5 0.5
0 -1 1000
\\'ARNTNCI! FO LJLJ NC

·..:: u

& "

~

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

::s ta >
:;::J

~

D.L l.ECI. ED

Wi\RNlNG! FOUJ .JNC J)ETECTED

IN RAM CHANNEL

~

500

u

:;::J

en

~
0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9

0

Dimensionless time

Figure 160 Estimated parameters and CUSUM values for a"' (t) (- - -) and c"' (t) (-) for a 3-hour model simulation with different levels of fouling

It is evident that the detection tool is sensitive to the evolution of the process parameters detecting fouling

only when it occurs. This can be seen in Figure 160 with fouling detected at a later time in the bleed channel. Again, a threshold value can be set to trigger a failure in the heat exchanger when critical levels of fouling have reached. Finally, the estimated outlet temperature response is shown in Figure 161.

176

Bleed air outlet temperature (Th

0

)

response

185 ,---,----,----,----,----~--~----~--~----~--~

180
0,
Q)

--~-----~----~-----+--1 I I I

- - - t - - - - - t - - - - - -II I

~

I

· t-

~

0

175 ---

I

_I-I

- - l - - - - - - - - - -

_I I

-

-

-

_

l __ _
I

_ I_-

__ _j _ _ _ _ _

l ___ _

I

I

I

170 --I

--,-----r--

I

I

165
....

I
-~-----1---

- 1- -

-

-

-1--

----

~

--1-----

1

I

I

·n;
"C

160

I -----1

------1

I

_I_--

__ I _ _ _ _ _ I

m

Q) Q)

155

I

I

I

-

'

-

-

-

-

-

.,. -

-

-

-

- 1- I

-

-

-

'

---

j----

-~-----

I

150 ~--~----~--~----~--~----~--~----~--~--~

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

Dimensionless lime

Figure 161 Estimated bleed air outlet temperature for a 3-hour model simulation with different levels of fouling

The next section covers the comparison of model generated signals and actual experimentally generated signals for estimated parameters. Fouling models developed earlier, both for experimental tests and simulations in Section 5.4, provide the basis for the differences in estimation of the parameters.

5.7

EXPERIMENTAL AND MODEL SIMULATION RESULTS

This section shows the experimental evaluation of fouling and its detection using the tests described by Table 14. These results are also compared to the model simulations. Once a threshold value (critical levels of fouling where cleaning is required) is reached, the model can trigger a failure warning. Recorded data from the experimental tests were used to develop a fouling model both for the ram air and bleed air streams. In an actual ECS heat exchanger, raw data would be collected over time, from flight-to-flight, thus giving a proper realization of the contamination process. Therefore, the fouling model developed from the actual flight data is defined from raw data that preserves the process time of fouling. This means that the growth of fouling has a correlation with time and is left intact when extracting raw data from 177

flight-to-flight. Since the run time for each test was small, the fouling models developed were not for actual real time but had to be approximated, based on each level of fouling. At each level of fouling and for each test, the model and state parameters were recorded from which the fouling resistance was estimated. These fouling resistance values were then projected over dimensionless time. Therefore, the assumption made here, is that, for each level of fouling, the heat exchanger is assumed to have been subjected to these conditions for a certain period of time and for each increase in the level of fouling, a proportional increase in period of time is assumed, so that equal periods of time are assigned to each level of fouling. Since the aim of this study is to detect fouling, there should be little/no significance attached to the fouling model predicted. The model should detect fouling irrelevant of the time that it occurs, and this is portrayed by the CUSUM detection tool.

Figure 165 shows the extract of the experimentally generated signal of the parameters subject to
continuous fouling and varying input signals for testE as shown in Figures 162 -164.

G:'
ci'l Q)
~
~
I

Bleed air flow rate (Mh)

0.022 0.021 0.02 0.019 -1

.s::.

Q)

~
3:

.... "(ij
"'C
Q)

~

0

~ CD

-0.8

-0.6

-0.4

-0.2

0.2 0 Dimensionless time

0.4

0.6

0.8

Figure 162 Experimental test E bleed air flow rate signal

u:0,
Q)

Ram air flow rate (Me)

~
0

~ I

0.0105

~

~

':
"(ij

~
~

0.0095
0.009 ~--~~--~~----L-----~----L---~----~L_--~L___L_L___~

0::

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

Dimensionless time

Figure 163 Experimental test E ram air flow rate signal

178

~

Bleed air inlet temperature (Thi)

ci> Q)
~
1-:c

124 122 120

.a
a.
Q)

~
~

I

.s
Q)

E

£

·c;;

....
Q)

iii

a1 118-1

-0.8

-0.6

-0.4

-0.2

0 0.2 Dimensionless time

0.4

0.6

0.8

Figure 164 Experimental test E bleed air inlet temperature signal

7.5 ,-----,~------,-l----,------, l ------,-l----~----~------.-----,-----~

CL F:A N -ooOIII(- ---+----;>

7
6.5 1-

FUUI I NG

-

6 ~----~~------~~----~~------~~------~~----~l------~l-----l~----~l----~

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

1 L-----~-----L----~------~----~----~------~----~----~----~

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

WARNING' FOUL lNG

~

~

DFTECT'ED

u

en ::s

> §

500

0.1

0.2

0.3

0.5 0.6 0.4 Dimensionless Time

0.7

0.8

0.9

Figure 165 Experimental generated parameters and CUSUM values for a* (t) (- - -) and c* (t) (-) for testE

179

Bleed air outlet temperature (Th 0 ) response

·ffi

96 94

$
iD
92 ~--~----~----~--~-----L----~--~----~----~--~

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

Dimensionless time

Figure 166 Experimental bleed air outlet temperature for test E

The experimentally generated parameters were compared to the EKF model estimated parameters. A good estimation is obtained with respect to the original experimental generation as is seen in Figures 167 and 168.

180

7 6.5
.··!:,

FCJlJLIN(!

1.5

0.5
0 ~----~----~----~------~----~----~------L-----~----~----~

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

<ll

> §
00

~

0

400

W AHNING FOULING DETECTED

IN BL EED

W i\RNING' FOULINC DET FCTED IN RA\-1 CHANNEL

u

::s

200

5''~ o-U ............ · . . . . . .
0 0.1 0.2

m····

0.3
Dimensionless time

Figure 167 Model simulation generated parameters and CUSUM values for a* (t) (- - -) and c* (t) (-) for test
E
Bleed air outlet temperature (Th 0 ) response

106 104 102 100 98 96
94
-

G:'

!
1--2
~ ~

~

!

Q)
0 ....

~

·n;

m as

92 L---~----_J----~-----L-----L----~----~~~--~~----~~----~

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

Dimensionless time

Figure 168 Model bleed air outlet temperature for test E

181

It can be observed that model generated estimations are quite similar to those of the experimental tests.

The CUSUM test tool is implemented to detect fouling for both experimental and model generated signals, and as a result fouling is detected in both signal generations. Warning windows are displayed whenever fouling is detected in either channels as shown below:

WARNING: FAULT DETECTED!! POSSIBLE FOULING IN THE RAM AIR HEAT EXCHANGER CHANNELS A LOWER COLD SIDE RESIDUAL OF 5.8545 AT TIME [SECOND] 2347.50 IS DETECTED WARNING: MAINTENANCE REQUIRED IN THE RAM AIR HEAT EXCHANGER CHANNELS WARNING: FAULT DETECTED!! POSSIBLE FOULING IN THE BLEED AIR HEAT EXCHANGER CHANNELS A LOWER HOT SIDE RESIDUAL OF 1.5508 AT TIME [SECOND] 2347.50 IS DETECTED WARNING: MAINTENANCE REQUIRED IN THE BLEED AIR HEAT EXCHANGER CHANNELS

Figures 169 - 171 show the operating conditions for Test B. Similar observations are made for test B
with very good agreement made between the model estimations and experimental values (see Figures 172 -175).
Ram air flow rate (Me)

u:~
<IJ

c,
0

0.012 0.011 0.01
··'

::2 I
~
0

~ ~

··'

:.....

I;:

·n;
E

L..

0.009 0.008 -1 -0.8 -0.6 -0.4 -0.2
0

a:::

ro

0.2

0.4

0.6

0.8

Dimensionless time

Figure 169 Experimental test B ram air flow rate signal
Bleed air flow rate (Mh)
0.02 .----,-----,----~----~----.-----~--~----~----~--~

-

~

o.oos ~--~----~-----~~--~~----~-----~~--~~-----LI

m

~

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

_____L_I__
0.8

~

Dimensionless time

Figure 170 Experimental test B bleed air flow rate signal

182

Bleed air inlet temperature (Thi)

-0.8

0 0.2 Dimensionless time

0.4

0.6

0.8

Figure 171 Experimental test B bleed air inlet temperature signal

7 6.5

FOUI .ING

Q)

~

> §
Cl)

~

200 100

u

::I

0.1

0.2

0.3

0.6 0.5 0.4 Dimensionless time

0.7

0.9

Figure 172 Experimental generated parameters and CUSUM values for a· (t) (---)and c· (t) (-)for test B

183

Bleed air outlet temperature (Th 0 ) response

CL

l ._.2
::J

110

~

105

l
0

s
'(ij

~ d)

E

100

....

m

~

95

90 L--~--~--~--L--~--~--~--~--~-~

-1

-0.8

-0.6

-0.4

-0.2

0.2 0 Dimensionless time

0.4

0.6

0.8

Figure 173 Experimental bleed air outlet temperature for test B

cu: ·:AN

~--+--~

F(JULING

6 L---~--~--~---~--~--~---~--~--~--~

-1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

>

~

u "'

\YAHNING FOULlN<..;

200 100

DETLCTED

W. · \RNlNG FOULING DETECTED

s

IN BLEED

IN RAM CHANNEL

--------~---

tZl

= u

=

o ~~~~~--L--~---~--~--~---L---~---L~

~~
0.1 0.2

..

0

0.3

0.4

0.5 0.6 Dimensionless time

0.7

0.8

0.9

Figure 174 Model simulation generated parameters and CUSUM values for a· (t) (---)and c· (t) (-)for test
B

184

Bleed air outlet temperature (Th

0

)

.response

112 110
(L

I

108

l

106 ~.2 ~ 104 ::J

~
-~

ts

~

102 100 98 96
94

iii

~

92 -1

-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

0.6

0.8

Dimensionless time

Figure 175 Model bleed air outlet temperature for test E

By including the effect of fin geometry, mass flow correction factors and nonlinearities, minimum margins of error are found between estimated and true parameter values. Also, the estimated parameters show similar trajectories for both experimental and simulation tests. Relatively small errors are associated with the outlet temperatures (state) estimation. Thus, a very robust procedure for estimating the parameters is the result. The CUSUM fouling detection tool is also shown. The vertical lines indicate the point of detection. Tests were carried out, and an alarm is set off for negative changes in the parameters. Once the fouling levels reach threshold, a warning sign can be prompted indicating cleaning is needed. The model is therefore both sensitive and well-adapted for on-line fouling detection in ECS heat exchangers by considering fin and core effects.

185

CHAPTER6
6.1

CONCLUSION

CONCLUDING REMARKS

The thesis presented here addresses both modeling and on-line fouling detection of an aircraft environmental control system (ECS) crossflow heat exchanger, for a Diagnostics, Prognostics and Health Management (DPHM) solution. The overall objective of this research work was to develop a systematic monitoring process so that predictive maintenance actions can be scheduled as a function of the actual health status of the aircraft ECS heat exchanger, as an implementation of the Condition-Based Maintenance (CBM) philosophy. This was done by first analyzing and modeling a crossflow plate-fin heat exchanger. Two nonlinear mathematical models were derived, and the variation of the mean exit temperatures of both fluids with time was compared for the two alternative models, with consideration of the number of transfer units and heat capacitance rate ratios. Linearizability was investigated and

linearized state-space models were developed. One model required axial lumping of the primary surface alone, as done in most existing models, and the second involved incorporating the effect of secondary surfaces (fins) on heat exchanger transient performance. To quantify the importance of modeling the fins, a comparison of both simulation models with experimentally obtained data from a physical model was presented. To carry out the experimental investigations a test rig was developed at the Systems and Control Laboratory of Ryerson University. By including fins and complex nonlinearities in modeling of the ECS heat exchangers, precise representation of the heat exchanger dynamics and accurate temperature responses were achieved.

Using a lumped parameter approximation for modeling the heat exchanger is attractive in terms of simplicity and accuracy when compared with complex analytical and higher order distributed parameter solutions. Comparison of the smooth and finned model temperature responses to input temperature disturbances have been studied. Contrary to conventional practice, secondary surfaces have been integrated into the model, and their effect is studied. Though the finned model computational run time is longer, an improved approximation of the heat exchanger dynamics is observed. The experimental tests show that more accurate temperature responses are produced with the finned model. Fluid temperature placement plays an important role. Sharp peaks/dips in the outlet temperatures are realized for the weighted function
~

approaching one. Generally, increasing the number of lumps increases simulation

accuracy. Dynamic performance is significantly affected by both NTUvalues and capacitance rate ratios. The inclusion of fins increases the complexity of the model, but transient behavior of outlet fluid temperature is better predicted according to experimental test data. Thus, the separate surface thermal capacities provide a more precise representation of the heat exchanger dynamics. By including fins,

186

responses closer to a real-time set-up offer improved simulation performance and thus enable better control and estimation strategies to be developed. Due to its low order, the lumped model simplifies model-based control design and the higher complexities in the finned model, eases application modeling difficulties, and reduces numerical computations for representing the heat exchanger system dynamics. The finned model's improvement over most smooth plate models with the addition of secondary surfaces proves a better model for design, optimization, control system development and prediction. The apparent disadvantage with this model is the initial complexities and computational effort. Despite the drawbacks, secondary surfaces are a key integrated feature of the crossflow heat exchanger, and have to be considered in a real life model.

The objective for the next stage of the study was mainly to achieve a good knowledge of the fouling process. A thorough background on fouling scenarios provides results that will benefit the understanding of fouling and, in general, the aircraft ECS. The lack of understanding of fouling phenomenon was a major challenge in this project, and much work was needed to develop a solid foundation through theory, equations, and past and current activities to curb the problem. It is clear, however, that fouling is a topic of considerable technical and economic importance. The improved understanding of the problem of fouling provided the opportunity to model the fouling process and in turn use it for the development of a fault detection tool.

To operate heat exchangers efficiently, it was imperative that at least some fouling data was at hand to give guidance. It is often difficult to depict exact fouling scenarios for experimental analysis. The earlier chapters in this thesis showed the importance of different variables, such as velocity, temperature and concentrations of the fouling species on the deposition process. The principle drawback of the laboratory techniques was the difficulty in simulating exactly the conditions that apply to an actual ECS heat exchanger, i.e., flow conditions, temperature, fluid quality, geometry, and surfac.e conditions. In addition, the total temperature driving force in the ECS heat exchangers gives rise to different heat exchanger surface temperatures than that seen in the test rig heat exchanger, which might result in different fouling effects. Also, it was difficult to conduct the heat exchanger fouling tests with foulants that may be flammable or toxic. The aim of the test rig was to simulate the conditions that are likely to occur in a heat exchanger, particularly in terms ofthe velocity, surface temperature and residence time.

Despite the difficulties, laboratory investigations can provide insights into fouling mechanisms and as such, provide valuable data that may be useful in formulating models of fouling. Studying the effects of velocity and temperature on the fouling process provided useful information with respect to the operation

187

ofECS heat exchangers. The obvious choice of the experimental method to be applied involves the ability to measure changes in the heat transfer during the deposition process. The basis for subsequent operations were Eqs. (4.10) and (4.12). The tests for the fouling investigation were carried out using the test rig setup described earlier in Section 1.4. The Simulink Real-Time Workshop was required for this process as shown in Figure 61. The pressurized air was exposed to several levels of fouling and all tests were of non-isothermal nature. The test rig allowed for thermal performance and pressure drop measurement.

In order to demonstrate the fouling process, the heat exchanger internal tubes were lined with the foulant, and tests were carried out for each layer of foulant added. In total, five layers of foulant were sprayed on to the internal structure of the heat exchanger, on both the ram air and bleed air sides. Numerous experiments were carried out for different rates of air flow. Pressure drop measurements of interest were that due to the effect of the foulant. Tests were also carried out for both steady state analysis and for disturbances added to the system. Disturbances induced were step input changes in either the bleed air temperature or the flow rate.

In this study, one objective was to emulate the actual nature of the foulant and its behaviour over time. In particular, the type of foulant used was described in Table 15. In the actual aircraft ECS heat exchanger system, the ram-air side would be prone to fouling from atmospheric dirt, corrosion and other contaminants whereas the bleed air side would be contaminated with oil, dirt and other engine contaminants. Therefore, the bleed-air side fouling behaviour and deposits would be different to that in the ram air channel in terms of the foulant type, flow conditions and temperatures, surface temperature and surface roughness.

Hence, for the experimental setup, the ram air side was fouled with dry wall compound (DWC) to create the same textural abilities and behaviour of dirt whereas the bleed air side is fouled with a combination of red primer, black asphalt undercoating and grey primer to generate oil-like properties. The dry wall compound was mixed with water to foul the ram air side which allows for a corroded metal surface when continuously fouled over time (Fouling Level 1 to Fouling Level 5). In order to illustrate the changes in morphology of a deposit with time, the layers were created in such a way as to represent the dynamic process of fouling with the front of the heat exchanger fouled in the initial levels of fouling, with later levels focusing on deeper penetration of dirt into the inner structure of the heat exchanger. The experiments for the non-isothermal conditions in the heat exchanger were performed for closed heat exchanger fouling test and heat exchanger-plus-bypass fouling test (open). In conclusion, obliging the air flow to pass through the exchanger as in a usual heat exchanger setup masked the heat transfer problem

188

due to fouling, but did not influence the pressure drop due to it. The inclusion of the bypass channel illustrated the full negative effect of fouling on the thermal and hydrodynamic performance of the heat exchanger.

The fouling concepts were then applied to health monitoring and fault detection of aircraft ECS heat exchangers. An EKF algorithm for parameter identification was developed for the aircraft ECS crossflow heat exchanger having continuous dynamics and discrete-time measurements. A nonlinear state space plate-fin model with proper parameter identification was applied to on-line detection of fouling in the aircraft ECS heat exchangers. Measurements of the inlet and outlet temperatures and the flow rates are used for model parameter estimation with the EKF algorithm. Both experimental and simulation models have been compared in the estimation of the model parameters and in the detection of fouling with very similar trajectories. By including fin geometry and empirical heat transfer correlations, the proposed fault detection was both robust and sensitive to simulation parameter predictions and experimental measurements. The method is therefore appropriate for condition based monitoring of aircraft ECS heat exchangers. It provides a greater advancement compared to the reactive and reliability centered maintenance practices without having to deal with unscheduled maintenance and 'loss' of useful life.

6.2

FUTURE WORK

Additional research can potentially be carried out in several areas pertaining to this thesis:

1. The development of an improved test rig with longer simulation run times, so that for each test carried out more data can be collected to provide a better foundation for analysis. 2. Relevant flight data and field experience from the industry will serve to provide better knowledge in the development of the fouling models and in the detection of the fouling. 3. Advanced data filtering algorithms need to be developed to enable better isolation of a fouling trend, unmasked by noise, sensor errors, data gaps, and flow effects. 4. Although the heat exchanger tests and model developments provided in this thesis were of openloop ·nature, a closed loop heat exchanger test with use of the bypass valve will present greater and more valuable advancements in the development of the fouling detection tool. This is not a trivial task because the bypass valve modulates at high frequencies and is composed of dozens of moving parts, also suffering the effects of degradation over time.

189

REFERENCES
[1] Hodal, P., and Liu, G., (2005) Bleed air temperature regulation system: modeling, simulation and control, IEEE International Conference on Control Applications, Toronto, Canada, 1003 - 1008 [2] Shang, L., and Liu, G., (2007) Optimal control of a bleed air temperature regulation system, IEEE International Conference on Mechatronics and Automation, Harbin, China, 2610-2615. [3] Bagui, F., and Chafouk, H., (2006) Transient heat transfer in coflow heat exchanger, Heat Mass Transfer 42, 835-841 [4] Andrey, J., Gut, W., and Pinto, J. M., (2001) Modeling of plate heat exchangers with generalized configurations, Proceedings of the 16th Brazilian Congress of Mechanical Engineering (COB EM 2001) 4, 376-385 [5] Iu, 1., Weber, N. A., Bansal, P., and Fisher, D. E., (2007) Applying the effectiveness- NTU method to elemental heat exchanger models, ASHRAE Transactions 113: 1, 504- 513 [6] Pingaud, H., Le Lam, J. M., and Koehret, B., (1989) Steady state and dynamic simulation of plate and fin heat exchangers, COMP. CHEM. ENG. 13: No.4- 5, 577-585 [7] Halbritte, A., Schygulla, U., Nenka, A., and Schubent, K., (2004) Comparison of numerical

simulation and experimental results for crossflow and counterflow microchannel heat exchangers, ICMM 2004-2438, 967- 975 [8] Abdelghani-Idrissi, M.A., Bagui, F., and Estel, L., (2001) Analytical and experimental response time to flow rate step along a counter flow double pipe heat exchanger, Int. Journal Heat & Mass Transfer 44, 3721-3730 [9] Myers, G. E., Mitchell, J. W., and Lindeman, JR., C. F., (1970) The transient response of heat exchangers having an infinite capacitance rate fluid, J. Heat Transfer 92, 269-275 [10] Nakonieczny, K., Numerical modeling of crossflow plate-fin air-to-air heat exchanger under unsteady flow conditions, Numerical Heat Transfer, Part A: Applications 49:1, 1 - 24 [11] Wood, R. K., and Sastry, V.A., (1972) Simulation studies of a heat exchanger, Simulation 18, 105Ill [12] Mariela A Rodriguez, Maria Soledad Diaz, Alberto J. Bundoni, Dynamic optimization with simultaneous method: Application to a heat exchanger, Mecanica Computacional 22, 1828- 1840 [13] Zheng David Lou, (2005) A dynamic model of automotive air-conditioning systems, SAE 2005 World Congress & Exhibition, Detroit, MI, USA: Thermal Management Systems, Modelling and Components: 2005-01-1884 [14] Ataer, 0. E., Ileri, A., and Gogus, Y., (1995) Transient behavior of finned tube crossflow heat exchangers, Int. J. Refrigeration 18, 153- 160

190

[15] Manish Mishra, P.K. Das, and Sunil Saiangi, (2006) Transient behaviour of crossflow heat exchangers due to perturbations in temperature and flow, Int. J. Heat Mass Transfer 49, 1083- 1089 [16] Manish Mishra, P.K. Das, and Sunil Sarangi, (2004) Transient behaviour of crossflow heat exchangers with longitudinal conduction and axial dispersion, ASME J. Heat Transfer 126, 425-433 [17] Ansari, M. R., Mortazavi, V., (2006) Simulation of dynamical response of a countercurrent heat exchanger to inlet temperature or mass flow rate change, Applied Therm. Enging. 26, 2401-2408 [18] Correa, D. J., and Marchetti, J. L., (1987) Dynamic simulation of shell and tube heat exchangers, Heat Transfer Engineering, 8:1, 50-59 [19] Manish Mishra, P.K. Das, and Sunil Sarangi, (2008) Dynamic behaviour of three-fluid crossflow heat exchangers, ASME J. Heat Transfer 130:1, 11801- 11808 [20] Maria Isabel Berto, and Vivaldo Silveira Jr., (2003) Dynamic analyses of cooling processes in plate heat exchangers, J. Food Proc. Eng. 26, 499- 513 [21] Yuan, P., and Kou, H. S., (1998) The effect of longitudinal wall conduction in a three-fluid crossflow heat exchanger, Numerical Heat Transfer, Part A, 34, 135 - 150 [22] Ansari, M. R., and Mortazavi, V., (2007) Transient response of a co-current heat exchanger to an inlet temperature variation with time using an analytical and numerical solution, Numerical Heat Transfer: Part A, Applications, 71 - 85 [23] Sorour Alotaibi, Mihir Sen, Bill Goodwine, and K.T. Yang, (2002) Numerical simulation of the thermal control of heat exchangers, Numerical Heat Transfer: Part A 41,229-244 [24] Tomas Skoglund, Karl-Erik Arzen, and Petr Dejmek, (2006) Dynamic object oriented heat exchanger models for simulation of fluid property transitions, Int. J. Heat Mass Transfer 49, 2291-2303 [25] Rampall, 1., Singh, K. P., Soler, A. 1., and Scott, B.H., (1997) Application of Transient Analysis Methodology to quantify thermal performance of heat exchangers, Heat Transfer Engineering 18: No. 4, 22-34 [26] Simonson, J. R., (1977) Transient and steady state analysis of cross flow heat exchangers by programs in FORTRAN, Trans. Instn. Chem-Engrs 55a, 53 -58 [27] Das, S.K., Spang, B., and Roetzel, W., (1995) Dynamic behavior of plate heat exchangers. Experiments and modeling, J. Heat Transfer 117, 859-864 [28] Romie, F. E., (1984) Transient response of counterflow heat exchanger, J. Heat Transfer 106, 620626 [29] Gvozdenac, D. D., and Yugoslavia, N. S., (1991) Dynamic response of the cross flow heat exchangers with finite wall capacitance, Warme und Stoffubertragung 26, 207 -212 [30] Juan Yin, and Michael K. Jensen, (2003) Analytical model for transient heat exchanger response, Int. J. Heat Mass Transfer 46, 3255-3264

191

[31] Gvozdenac, D. D., (1987) Analytical solution of the transient response of gas-to-gas parallel and counter flow heat exchangers, J. Heat Transfer 109, 848- 856 [32] Myers, G. E., Mitchell, J. W., and Norman, R. F., (1967) The transient response of cross flow heat exchangers, evaporators, and condensers, J. Heat Transfer 89, 75-80 [33] Ercan Ataer, 0., (2004) An approximate method for transient behavior of finned tube cross flow heat exchangers, Int. J. Refrigeration 27, 529 - 539 [34] Andy Gewitz, (2005) EKF-based parameter estimation for a lumped single plate heat exchanger, Florida State Univerisity Presentation [35] Lakshmanan, C. C., and Potter, 0. E., (1990) Cinematic Modeling of dynamics of countercurrent systems, Comput. Chern. Eng. 14 9, 945-956 [36] Guang-Yu Jin, Weng Jian Cou, Yao-Wen Wang, and Ye Yao, (2006) A simple dynamic model of cooling coil unit Energy Conservation and Management 4 7, 2659- 2652 [37] Sharifi, F., Golkar Narandji, M. R., and Mehravaran, K., (1995) Dynamic simulation of plate heat exchangers, Int. Comm. Heat Mass Transfer 22: 2, 213-225 [38] Harry H, A., Shinichi, K., Cheng, T., and He, X., (2005) Heat exchanger dynamic observer design, ASHRAE Transactions Ill: 1, 328-335 [39] Jan Eric Thorsen, (2003) Dynamic simulation of DH House stations, Euro Heat and Power 32: 6, 52 -57 [40] Li, Ch. H., (1986) Exact transient solutions of parallel - current transfer processes, Trans. ASME J. Heat Transfer 108, 365-369 [41] Romie, F. E., (1985) Transient response of the parallel-flow heat exchanger, J. Heat Transfer 107, 727-730 [42] Spiga, M., and Spiga, G., (1987) Two Dimensional transient solutions for cross flow heat exchangers with neither gas mixed, J. Heat Transfer 109,281-286 [43] Spiga, M., and Spiga, G., (1988) Transient temperature fields in cross flow heat exchangers with finite wall capacitance, J. Heat Transfer 11 0, 49 - 53 [44] Romie, F. E., (1983) Transient response of gas-to-gas cross flow heat exchanger with neither gas mixed, J. Heat Transfer 105, 563 - 570 [45] Gvozdenac, D. D., (1986) Analytical solution of the transient response of gas-to-gas cross flow heat exchanger with both fluids unmixed, J. Heat Transfer 108, 723 - 727 [46] Kabelac, S., (1989) The transient response of finned cross flow heat exchangers, Int. J. Heat Mass Transfer 32, 1183-1189 [4 7] Chen, H. T., and Chen, K. C., ( 1992) Transient response of crossflow heat exchangers with finite wall capacitance, J. Heat Transfer 114, 752-755

192

[48] Roetzel, W., and Xuan, Y., (1999) Dynamic behaviour of heat exchangers, Computational Mechanics Publications, WIT Press [49] N. Srihari, B Prabhakhara Rao, Bergt Sunden, and Sarit K. Das, (2005) Transient response of plate heat exchangers considering effect of flow maldistribution, Int. J. Heat Mass Transfer 48, 3231 -3243 [50] Yuan, Y., (1996) Transient analysis of multipass cross flow heat exchangers, Heat and Mass Transfer 31,223-230 [51] Abbasov, N. M., Zeinalov, R. 1., Azizova, M., and Imranova, S. N., (2006) Dynamic models of heat exchangers, Chern. Tech. Fuels and Oils 42: 1, 25-29 [52] Fazlur Rahman, M. H. R., and Devanathan Sr., R., (1994) Modelling and Dynamic feedback linearization of a heat exchanger model, MIEEE, IEEE, 1801-1806 [53] Shoureshi, R. and Paynter, H. M., (1988) Simple models for dynamics and control of heat exchanger, Proceedings ofthe 27th CDC, Austin, Texas [54] Me Namara, R. 1., and Harrison, H. L., (1967) A lumped parameter approach to cross flow heat exchanger dynamics ASHRAE Transactions 73, Pt-2, iv.l.l - iv.1.9 [55] Reichert, A., Nelson, R. M., and BPate, M. B., (1988) The transient response of air-to-water crossflow heat exchanger Proceedings, 1988 National Heat Transfer Conference, ASME, NewYork, N.Y., 291-296 [56] Elissa, M. G., and Rooke, S. P., (1994) Axially lumped versus axially distributed modelling of liquid-to-gas crossflow heat exchanger transients, Comp. Eng. 2 ASME, 725-731 [57] Mozley, J. M., (1936) Predicting dynamics of concentric pipe heat exchanger, Ind. Eng. Chern. 48, 1035-1041 [58] Buckley, P. S., Techniques of Process Control, New York: Wiley, 1964 [59] Friedly, J., Dynamic Behaviour ofProcesses, Prentice Hall, 1972. [60] Fan, L. T., and Hwang, Y. S., (1970) Applications of Modern Optimal Control Theory to Environmental control of confined spaces and life support systems. Part I: Modelling and Simulation Build. Sci. 5, 57-71 [61] Eldwood Hunt, H., Dr. Reid Don, H., Space David, R., and Dr. Tilton Fred, E., (1995) Commercial Airliner Environmental Control System, Engineering Aspects of Cabin Air Quality [62] Mair Austyn W., Birdsall David L., (1992) Aircraft Performance, Cambridge University Press [63] Moir I., Seabridge A., (2001) Aircraft Systems: Mechanical, Electrical and Avionics Subsystems Integration, AIAA [64] Tutcher, M.G., Aircraft Heat Exchangers (1995) Normalair-Garrett Limited [65] Xia, L., De Abreu Garcia, J.A., and Harley, Tom T., (1991) Modelling and simulation of a heat exchanger, IEEE International Conference on Systems Engineering,

193

[66] Bejan, A., (1993) Heat Transfer, John-Wiley & Sons, Inc. New York. [67] Hydraulics & Pneumatics, 2008 http://www.hydraulicspneumatics.com/200/TechZone/FiuidPowerAcces/Article/True/6451/TechZone-

F1 uidPower Acces
[68] Incropera, F.P., and Dewitt, D.P., (2002) Fundamentals of heat and mass transfer, John Wiley & Sons. [69] Shah, Shoaib, (2006) Aircraft bleed air heat exchanger analysis using a CFD approach. Undergraduate Thesis, Ryerson University [70] Kays and London (1964) Compact Heat Exchangers, McGraw-Hill Mechanical Engineering [71] HE Jun, and Zhao Jing-quan, (2001) Dynamic simulation of the aircraft environmental control system, Chinese J. Aeronautics 14 (3), 129- 133 [72] Dusinberre, G. M., (1959) Calculation of transients in a cross flow heat exchanger, ASME J. Heat Transfer 81, 61-67 [73] Melo, L. F., Bott, T. R., and Bernardo, C. A., (1988) Fouling science and technology. Boston: Kluwer Academic Publishers [74] Bott, T. R., (1995) Fouling of heat exchangers. Amsterdam; New York: Elsevier [75] Epstein, N., (1985) Fundamental of Heat Transfer Surfaces In B.A. Garret-Price, Fouling of Heat Exchangers. Noyes Publication, 951-971 [76] Crittiden, B. D., (1988) Chemical Reaction Fouling of Heat Exchangers, in Fouling Science and Technology, (L.F. Melo, T.R. Bott and C.A. Bernardo, eds.), NATO ASI Series E, Vol. 145, Kluwer Academic Publ., 315- 332 [77] Lister, D. H., (1981) Corrosion Products in Power Generating Systems, in Fouling of Heat Transfer Equipment, E.F.C. Somerscales and J.G. Knudsen, eds.), Hemisphere, Washington, D.C., 135-200 [78] Kent, C.A., Biological Fouling: Basic Science and Models, in Fouling Science and Technology, (L.F. Melo, T.R. Bott and C.A. Bernardo, eds.), 207- 222, NATO ASI Series E, 145, Kluwer Academic Publ.1988. [79] Taborek, J., Hewitt, G. F., and Afgan, N., (1983) Heat exchangers--theory and practice. Washington: Hemisphere Pub. Corp.; New York: McGraw-Hill, 795-813 [80] Reichardt, H., (1951) Fundamentals ofturbulent heat transfer, TM 1408 (1957) and 41947 (1956) [81] MetzNer, AB., and Friend, W. L., (1958) Theoretical analogies between heat mass and momentum transfer and modifications for fluids Can. J. Chern. Eng., Vol. 36, 235-240 [82] Bowen, B. D., (1978) Fine particle deposition in smooth channels. Ph.D. Thesis, University of British Columbia, Vancouver [83] Garret-Price, B.A., (1985) Fouling of Heat Exchangers. Noyes Publication, 9- 19

194

[84] Epstein, N., (1981) Fouling in Heat Exchange In E.F.C. Somerscales and J.G. Knudsen, Fouling of heat transfer equipment. Washington: Hemisphere Pub. Corp., 701 -734 [85] Krupp, H., (1967) Ad. Colloid Interface Science. 1(2), 11 [86] Hamaker, H. C., (1937) The London van der Waals attraction between spherical particles. Physica 4, 1058. [87] Lifshitz, E. M., (1956) Sov. Phys. JETP. 2, 73. [88] Rumph, H., (1977) In: Sastry, K. V. S. ed. Proc. Second Int. Symp. On Agglomeration. Am. Inst. Mining, metallurgy and Petroleum Engineers inc. Ney York. [89] Visser, J., (1972) On Hamaker constants. A comparison between Hamaker constant and Lifshitz constants. Adv. Coli. Int. Sci. 3, 331. [90] Visser, J., (1988) Adhesion and removal of particles I and II, In: Melo, L. F., Bott, T.R., and Bemado, C. A. eds. Fouling Science & Technology. Kluwer Academic Publishers, Dordrecht. [91] Epstein, N., (1983) Fundamental of Heat Transfer Surface Fouling: With special emphasis on Laminar Flow In S. Kaka9, R.K. Shah, A.E. Bergles, Low Reynolds number flow heat exchangers. Washington: Hemisphere Pub. Corp., 51 - 997 [92] Epstein, N., (1985) Fundamental of Heat Transfer Surfaces In B.A. Garret-Price, Fouling of Heat Exchangers. Noyes Publication, 951-971 [93] Andreae, M., (1996), Repair and overhaul of aircraft heat exchangers. Aircraft Engineering and Aerospace Technology, MCB University Press- ISSN 0002-2667 68(2), 14- 16. [94] Puttini, L. C., Fitzgibbon, K. L., Galvao, R. H., and Yoneymama, T., (2007) Prognostics and Health Monitoring Solution applied to Aeronautic Heat Exchangers, Conference for Aging Aircraft [95] Roe, L. F., Zelver, N., and Characklis, G. W., (1985) Monitoring of Fouling Deposits using changes in Heat Transfer and Fluid Frictional Resistance, ISA # 85-0166, 561-570 [96] Jeronimo, S. A. M., Melo, F. L., Braga, S. A., Ferreira, F. B. J. P., and Martins, C., (1997) Monitoring the Thermal Efficiency of Fouled Heat Exchangers: A Simplified Method, Experimental Thermal and Fluid Science 14, 455- 463 [97] Astorga-Zaragoza, C.-M., Zavala-Rio, A., Alvarado, V. M., Mendez, R.-M., and Reyes-Reyes, J., (2007) Performance monitoring of heat exchangers via adaptive observers, Measurement 40, 392 - 405 [98] Sawyer, A., Ruggles, A. E., Upadhyaya, B. R., Eryurek, E., K. Kavalioglu, and Miller, J., (2003) Development of a Data-based Method for performance monitoring of heat exchangers, ECI Conference on Heat Exchanger Fouling and Cleaning: Fundamentals and Applications, Santa Fe, New Mexico, USA, Paper 34, 24 7 - 255 [99] Heo G., (2008) Development of a fouling monitor for safety-related heat exchangers, Nuclear Engineering and Design 238, 1295- 1303

195

[1 00] Sarmento, R.A., TrierWeiler, O.J., and Beninca, M., Heat exchanger Modeling for Predictive Maintenance, 4th Mercosur Congress on Process Systems Engineering, 1 - 12 [101] Prasad, V., Osborn, D.M., Au, K., Reddy, C. R., Shah, S. S., Vora, P.N., and Gryscavage, A., (2005) Predictive Heat Exchanger Efficiency Monitoring, Proceedings of HT2005 2005 ASME Summer Heat Transfer Conference, San Francisco, California, USA. [102] Hesselgreaves, J. E., (2002) An approach to fouling allowances in the design of compact heat exchangers, Applied Thermal Engineering 22, 755 -762 [1 03] Lee, J. K., and Ahn Y. C., (2005) Characteristics of air-side particulate fouling materials in fiinedtube heat exchangers of air conditioners, Particulate Science and Technology, 23:3,297-307 [1 04] Miiller-Steinhagen, H. M., and Middis, J., (1989) Particulate fouling in plate heat exchangers, Heat Transfer Engineering 10:4, 30 - 36 [1 05] Thonon, B., Grand george, S., and Jallut, C., (1999) Effects of geometry and flow conditions on particulate fouling in plate heat exchangers, Heat Transfer Engineering 20:3, 12- 24 [1 06] Cho, Y. 1., Fan, C., and Choi, B. G., (1998) Use of anti-fouling technology with filtration to prevent fouling in a heat exchanger, Int. J. Heat Mass Transfer 41, 2961-2966 [107] Radhkrishnan, V. R., Ramasamy, M., Zabiri, H., Thanh, V. D., Tahir, N. M., Mukhtar, H., Hamdi, M. R., and Ramli, N., (2007) Heat exchanger fouling model and preventive maintenance scheduling tool, Applied Thermal Engineering 27, 2791 -2802 [1 08] Markowski, M., and Urbaniec, K., (2005) Optimal cleaning schedule for heat exchangers in a heat exchanger network, Applied Thermal Engineering 25, 1019- 1032 [109] Miiller-Steinhagen, H. M., Malayeri, M. R., and Watkinson, A. P., (2007) Recent advances in heat exchanger fouling research, mitigation, and cleaning techniques, Heat Transfer Engineering 28:3, 173 176 [110] Brahim, F., Wolfgang, A., Matthias, B., (2004) Numerical simulation of the fouling on structured heat transfer surfaces (fouling), ECI Conference on Heat Exchanger Fouling and Cleaning: Fundamentals and Applications, Santa Fe, New Mexico, USA, Paper 17. [111] Isermann, R., (2006) Fault Diagnosis Systems: An introduction from fault detection to fault tolerance, Springer- Verlag Berlin Heidelberg [112] Himmelblau, D. M., (1992) Fault detection in heat exchangers, ACC/TP6, 2369-2372 [113] Cooney, J., Riverol, C., and Napolitano, V., (2005) On-line fouling detection in plate heat exchangers, Int. J. Heat Exchangers VI, 293 - 303 [114] Lalot, S., Palsson, 0. P., Jonsson, G. R., and Desmet, B., (2007) Comparison ofNeutral Networks and Kalman filter performances for fouling detection in a heat exchanger, Int. J. Heat Exchangers VIII, 151- 168

196

[115] Liporace, F. S., and De Olivieira, Sergio Gregorio, (2007) Real Time Diagnosis and Heat Exchanger Performance, Heat Transfer Engineering, 28:3, 193-201 [116] Weyer, E., Szederkenyi, G., and Hangos, K., (2000) Grey box fault detection of heat exchangers, Contra I Engineering Practice 8, 121 - 131 [ 117] Persin, S., and Tovornik, B., (2005) Real time implementation of fault diagnosis to a heat exchanger, Control Engineering Practice 13, 1061- 1069 [118] Oddgeir, G., Palsson, P. 0., Pallson, H., and Lalot, S., (2008) Method to detect Fouling in Heat Exchangers, The II th International symposium on District Heating and Cooling, Iceland [119] Bagui, F., Abdelghani-Idrissi, M. A., Chafouk, H., (2004) Heat exchanger Kalman Filtering with process dynamic acknowledgement, Computers and Chemical Engineering 28, 1465 - 14 73 [120] Soeda, T., Konishi, K., and Yoshimura., T., (1981) A Modified Extended Kalman Filter for Linear Discrete-Time Systems with Unknown Parameters, International Federation of Automatic Control, Automatica 17: No.4, 657-660 [121] Sinha, S. K., and Nagarja, T., (1990) Extended Kalman Filter Algorithm for Continuous System Parameter Identification, Computers & Elect. Engng 16: No. I, 51 - 64 [122] Mutambara, Arthur G. 0, and Al-Haik, Marwan S. Y., (1999) EKF based Parameter Estimation for a Heat Exchanger, Proceedings of the American Control Conference, San Diego, California, 3918-3922 [123] Jonsson, G. R., Palsson, P. 0., and Desmet, B., (2007) Use of Kalman filtering in detecting fouling in heat exchangers, Int. J. Heat and Mass Transfer, 50, 2643-2655 [124] Afgan, N. H., and Carvalho, Maria De Graca, (1998) A Confluence-Based Expert System for the Detection of Heat Exchanger Fouling, Heat Transfer Engineering, 19:2, 28-35 [125] Tsuge, Y., Miura, T., Takeda, K., (2004) Experimental analysis of the performance of the Fault Diagnosis System Based on the Signed Directed Graph, Memoirs of the Faculty of Engineering, Kyushu University, 64: No.2, 119-133 [126] Palsson, P. 0., Jonsson, G., and Sejling, K., (1992) Modeling and Parameter Estimation of Heat Exchangers- A Statistical Approach. J. Dynamic Systems, Measurement and Control, 114, 673 - 679 [127] Gelb, A., (1974) Applied Optimal Estimation, MIT Press, Cambridge [128] Isermann, R., (1995) Model based fault detection and diagnosis methods, Proceedings of the America Control Conference, Seattle, Washington, 1605 - 1609 [129] NIST/SEMATECH, (2008) e-Handbook of statistical methods.

197

APPENDIX
APPENDIX I: MATLAB SUBROUTINES FOR HEAT EXCHANGER MODELS

1. Plate (smooth) model (linearized)
clear;
de;

N = 5;% No. of lumps OR No. of fins xi= 0.5;% Variable parameter that locates the state with respect to the input or output % Air properties and constants R=639.6;% Gas constant in in.lb/lb.deg. R gamma=1.4;% Heat capacity ratio g=32.174;% gravity acceleration ft/s"2 % Atmospheric Conditions Ta=130;% Ambient temperature in deg. F Pa=14.7;% Ambient pressure in psia Mach=0.3;% Mach number % Bleed Air conditions P_hin=30;% Bleed air inlet pressure in psig P_hi=P_hin+Pa; % Bleed air inlet pressure in psia M_h=1.1/60; % Total bleed flow rate in lb/sec T_hi=380;% Bleed air inlet temperature in deg. F Cp_h=0.24;% Hot air specific capacity in Btu/lb.degR or Btu/lb.degF % Ram Air conditions F_rec = 0.7;% Recovery factor T_ci= ((fa+ 460)*(1 + 0.2*Mach"2))-460;% Ram air inlet temperature in deg. F P_ci= (Pa * ((1 + 0.2*Mach"2)"3.5)-Pa)*F_rec + Pa; o;., Ram air inlet pressure in psia A_i= 18.6; %Area of ram air inlet scoop in in"2 M_c= (Pa/(R*(fa+457.67)))*Mach*sqrt(gamma*R*(fa+459.67))*A_i;% Total bleed flow rate in lb/sec Cp_c=0.24; % Cold air specific capacity in Btu/lb.degR or Btu/lb.degF

o/o******************************************************************************** %******************STEADY STATE CALCULATIONS *********************************** 0 /o******************************************************************************** [f_co,T_ho,X]=HX_Steady(f_hi,T_ci,M_h,M_c,N,xi);% Call steady state heat exchanger routine fprintf(\n'); disp(Steady state bleed air temperature at the heat exchanger outlet:'); T_ho fprintf(\n'); disp(Steady state Ram air temperature at the heat exchanger outlet:'); T_co fprintf(\n \n'); % Calculate the ABCD matrices for the chosen flow regime if(M_h < 0.25 && M_c <0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,D_1,D_2]=ABCD (T_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N,xi); elseif (M_h > 0.25 && M_c < 0.1083333) C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,0_1,D_2]=ABCD (T_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N_f,xi); elseif (M_h < 0.25 && M_c > 0.1083333) C1=0.9934155638; C2=0.8718;

198

C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,D_1 ,D_2] = ABCD (T_hi,T_ci,M_h,M_c,X,In_1 ,In_2,C 1,C2,C3,C4,N ,xi); elseif (M_h> 0.25 && M_c > 0.1083333) c 1=0. 780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; [A,B,C_1 ,C_2,D_1,D_2]=ABCD (T_hi,T_ci,M_h,M_c,X,In_1,In_2,C1,C2,C3,C4,N,xi); end o/o******************************************************************************** %****************** NON LINEAR MODEL SIMULATION ********************************* 0 /o******************************************************************************** % initialize model simulation fprintf(\n') ; interval= input(\nENTER THE DURATION OF THE SIMULATION [SECOND]:'); fprintf(\n'); disp(SET UP SIMULATION FOR ONE OF THE FOLLOWING DISTRUBANCES:'); disp(l. +40 deg. F step in bleed air inlet temperature'); disp(2. -20 deg. F step in ram air inlet temperature'); disp(3. -20 deg. F step in bleed air inlet temperature'); disp(4. +40 deg. F step in ram air inlet temperature'); Simu=input(\nENTER THE INPUT NUMBER:'); Dt=0.01; Print_interval = 1/Dt; t=O:Dt*Print_interval:interval; t=t'; record_index=O; % Introduce steady state values T _hi_ss = T _hi; T_ci_ss = T_ci; M_h_ss = M_h; M_c_ss = M_c; X_ss =X; del_X = X - X_ss; T_ho_ss = T_ho; T_co_ss = T_co; % Non linear model simulation start plot_index=1; time=O; T _ho_p(plot_index) =T_ho; T_hi_p(plot_index) = T_hi; M_c_p(plot_index) = M_c; % Set up the disturbance ifSimu == 1 T_hi = T_hi + 40; elseif Simu == 2 T_ci = T_ci- 20; elseif Simu == 3 T_hi = T_hi- 20; elseif Simu == 4 T_ci = T_ci + 40; end %core program (executes every time step) int = 0; while (int <=interval) % Calculate the ABCD matrices for the chosen flow regime updating the % values for every change in X if(M_h < 0.25 && M_c <0.1083333)

199

C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,D_1,D_2]=ABCD (f_hi,T_ci,M_h,M_c,X,In_1,In_2,C1,C2,C3,C4,N,xi); elseif (M_h > 0.25 && M_c < 0.1083333) C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,D_1,D_2]=ABCD (f_hi,T_ci,M_h,M_c,X,In_1,In_2,C1,C2,C3,C4,N,xi); elseif (M_h < 0.25 && M_c > 0.1083333) C1=0.9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,D_1,D_2]=ABCD (f_hi,T_ci,M_h,M_c,X,In_1,In_2,C1,C2,C3,C4,N,xi); elseif (M_h> 0.25 && M_c > 0.1083333) C1=0.780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,D_1,D_2]=ABCD (f_hi,T_ci,M_h,M_c,X,In_1,In_2,C1,C2,C3,C4,N,xi); end % Deviations in the input matrix from the steady state values del_Thi = T_hi- T_hi_ss; del_Tci = T_ci- T_ci_ss; del_Mh = M_h - M_h_ss; del_Mc = M_c - M_c_ss; % Set up the input matrix U del_U (1, 1) =del_Tci; del_U(2,1)=del_Thi; del_U (3, 1) =del_Mc; del_U(4,1)=del_Mh; %update the state vector del_X = del_X + (A*del_X + B*del_U)*Dt; % Calculate Output del_Y1 = C_1*del_X + D_1*del_U; T_ho = T_ho_ss + del_Y1; del_Y2 = C_2*del_X + D_2*del_U; T_co = T_co_ss + del_Y2; time = time + Dt; record_index = record_index + 1; if int ==(interval-(1 *Dt)) fprintf(\n'); disp(Time elapsed:'); time fprintf(\n'); disp('Bleed air temperature at the heat exchanger outlet:'); T_ho fprintf(\n'); disp(Ram air temperature at the heat exchanger outlet:'); T_co fprintf(\n'); interval= interval+ input(\nUPDATE THE DURATION OF THE SIMULATION [SECOND]:'); end int = int + Dt; if record_index == Print_interval plot_index = plot_index + 1; record_index = 0;

200

%Record data for plot T_ho_p(plot_index) = T_ho; T_hi_p(plot_index) = T_hi; M_c_p(plot_index)=M_c; end end %figure; % plot(t,T_ho_p,'r-',t); %grid; % xlabel('Time (sec)') % ylabel(T_ho (deg. F)') % title(Bleed air outlet temperature T_ho') %figure; % plot(t,M_c_p,'r-') %grid; % xlabel(Time (sec)') % ylabel(M_c (lbm/s)') % title(Ram air channel flow rate')
0

/o

% T_hi_p,'b:'

Hx steady. m subroutine
clear; de; N = 5; %No. of lumps OR No. of fins xi= 0.5;% Variable parameter that locates the state with respect to the input or output % Air properties and constants R=639.6;% Gas constant in in.lb/lb.deg. R gamma=1.4;% Heat capacity ratio g=32.174;% gravity acceleration ft/s"2 % Atmospheric Conditions Ta=130;% Ambient temperature in deg. F Pa=14.7;% Ambient pressure in psia Mach=0.3;% Mach number % Bleed Air conditions P_hin=30;% Bleed air inlet pressure in psig P_hi=P_hin+ Pa; %Bleed air inlet pressure in psia M_h=U/60;% Total bleed flow rate in lb/sec T_hi=380;% Bleed air inlet temperature in deg. F Cp_h=0.24;% Hot air specific capacity in Btu/lb.degR or Btu/lb.degF % Ram Air conditions F_rec=O.7; % Recovery factor T_ci= ((fa + 460)*(1 + 0.2*Mach"2))-460; %Ram air inlet temperature in deg. F P_ci=(Pa * ((1 + 0.2*Mach"2)"3.5)-Pa)*F_rec + Pa;% Ram air inlet pressure in psia A_i= 18.6; %Area of ram air inlet scoop in in"2 M_c= Pa/(R*(fa+457.67)))*Mach*sqrt(gamma*R*(fa+459.67))*A_i;% Total bleed flow rate in lb/sec Cp_c=0.24; % Cold air specific capacity in Btu/lb.degR or Btu/lb.degF
0 /o******************************************************************************** %******************STEADY STATE CALCULATIONS************************** 0 /o********************************************************************************

[f_co,T_ho,X]=HX_Steady(f_hi,T_ci,M_h,M_c,N,xi);% Call steady state heat exchanger routine fprintf(\n'); disp(Steady state bleed air temperature at the heat exchanger outlet:'); T_ho fprintf(\n'); disp(Steady state Ram air temperature at the heat exchanger outlet:'); T_co fprintf(\n \n');

201

% Calculate the ABCD matrices for the chosen flow regime if(M_h < 0.25 && M_c <0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; [A,B,C_l,C_2,D_1,D_2]=ABCD (f_hi,T_ci,M_h,M_c,X,In_1,In_2,Cl,C2,C3,C4,N,xi); elseif (M_h > 0.25 && M_c < 0.1083333) C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; [A,B,C_l ,C_2,D _1 ,D_2] = ABCD (f_hi, T _ci,M_h,M_c,X,In_l ,In_2,C 1,C2,C3,C4,N_f,xi); elseif (M_h < 0.25 && M_c > 0.1083333) c 1=0. 9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,D _1,D_2] = ABCD (f_hi,T_ci,M_h,M_c,X,In_1,In_2,C1,C2,C3,C4,N,xi); elseif (M_h> 0.25 && M_c > 0.1083333) C1=0.780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,D_1,D_2]=ABCD (f_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N,xi); end
0 /o******************************************************************************** %****************** NON LINEAR MODEL SIMULATION********************** 0 /o********************************************************************************

% initialize model simulation fprintf(\n'); interval= input(\nENTER THE DURATION OF THE SIMULATION [SECOND] :'); fprintf(\n'); ' disp(SET UP SIMULATION FOR ONE OF THE FOLLOWING DISTRUBANCES:'); disp(l. +40 deg. F step in bleed air inlet temperature'); disp(2. -20 deg. F step in ram air inlet temperature'); disp(3. -20 deg. F step in bleed air inlet temperature'); disp(4. +40 deg. F step in ram air inlet temperature'); Simu=input(\nENTER THE INPUT NUMBER:'); Dt=0.01; Print_interval= 1/Dt; t=O:Dt*Print_interval:interval; t=t'; record_index=O; % Introduce steady state values T_hi_ss = T_hi; T_ci_ss = T_ci; M_h_ss = M_h; M_c_ss = M_c; X_ss =X; del_X = X - X_ss; T_ho_ss = T_ho; T_co_ss = T_co; % Non linear model simulation start plot_index=1; time=O; T _ho_p(plot_index) =T_ho; T _hi_p(plot_index) = T _hi; M_c_p(plot_index)=M_c; % Set up the disturbance

202

ifSimu == 1 T_hi = T_hi + 40; elseifSimu == 2 T_ci = T_ci- 20; elseif Simu == 3 T_hi = T_hi- 20; elseifSimu == 4 T_ci = T_ci + 40; end %core program (executes every time step) int = 0; while (int <=interval) % Calculate the ABCD matrices for the chosen flow regime updating the % values for every change in X if(M_h < 0.25 && M_c <0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,D_1,D_2]=ABCD (T_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N,xi); elseif (M_h > 0.25 && M_c < 0.1083333) C1 =0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,D_1,D_2]=ABCD (T_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N,xi); elseif (M_h < 0.25 && M_c > 0.1083333) C1=0.9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; [A,B,C_1 ,C_2,D_1 ,D _2] = ABCD (T_hi,T_ci,M_h,M_c,X,In_1 ,ln_2,C1 ,C2,C3,C4,N ,xi); elseif (M_h> 0.25 && M_c > 0.1 083333) C1 =0. 780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,D_1,D_2]=ABCD (T_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N,xi); end

% Deviations in the input matrix from the steady state values del_Thi = T_hi- T_hi_ss; del_Tci = T_ci- T_ci_ss; del_Mh = M_h - M_h_ss; del_Mc = M_c - M_c_ss; % Set up the input matrix U del_U (1, 1) =del_Tci; del_U (2, 1) =del_Thi; del_U(3,1)=del_Mc; del_U(4,1)=del_Mh; %update the state vector del_X = del_X + (A*del_X + B*del_U)*Dt; % Calculate Output del_Y1 = C_1*del_X + D_1*del_U; T_ho = T_ho_ss + del_Y1; del_Y2 = C_2*del_X + D_2*del_U; T_co = T_co_ss + del_Y2; time = time + Dt; record_index = record_index + 1; if int ==(interval-(1 *Dt))

203

fprintf(\n'); disp('Time elapsed:'); time fprintf(\n'); disp('Bleed air temperature at the heat exchanger outlet:'); T_ho fprintf(\n'); disp(Ram air temperature at the heat exchanger outlet:'); T_co fprintf(\n'); interval= interval+ input(\nUPDATE THE DURATION OF THE SIMULATION [SECOND]:'); end int = int + Dt; if record_index == Print_interval plot_index = plot_index + 1; record_index = 0; %Record data for plot T_ho_p(plot_index) = T_ho; T _hi_p(plot_index) = T _hi; M_c_p(plot_index) = M_c; end end %figure; % plot(t,T_ho_p,'r-',t); %grid; % xlabel('Time (sec)') % ylabel(T_ho (deg. F)') % title('Bleed air outlet temperature T_ho') %figure; % plot(t,M_c_p,'r-') %grid; % xlabel('Time (sec)') % ylabel(M_c (lbm/s)') % title(Ram air channel flow rate') % % T_hi_p,'b:'

2. Plate-fin (finned) model (linearized)
clear; de;

N_f = 5; %No. of lumps OR No. of fins xi= 0;% Variable parameter that locates the state with respect to the input or output % Air properties and constants R=639.6;% Gas constant in in.lb/lb.deg. R gamma=1.4;% Heat capacity ratio g=32.174;% gravity acceleration ft/ s"2 % Atmospheric Conditions Ta=130;% Ambient temperature in deg. F Pa=14.7;% Ambient pressure in psia Mach=0.3;% Mach number % Bleed Air conditions P_hin=30;% Bleed air inlet pressure in psig P_hi=P _hin+Pa;% Bleed air inlet pressure in psia M_h= 6.5/60;% Total bleed flow rate in lb/sec T_hi= 380;% Bleed air inlet temperature in deg. F Cp_h=0.24;% Hot air specific capacity in Btu/lb.degR or Btu/lb.degF % Ram Air conditions F_rec=0.7;% Recovery factor

204

T_ci= Ta + 460)*(1 + 0.2*Mach"2))-460;% Ram air inlet temperature in deg. F P_ci=(Pa * ((1 + 0.2*Mach"2)"3.5)-Pa)*F_rec + Pa;% Ram air inlet pressure in psia A_i= 18.6; %Area of ram air inlet scoop in in"2 M_c= 0.270;(Pa/(R*(fa+457.67)))*Mach*sqrt(gamma*R*(fa+459.67))*A_i;% Total bleed flow rate in lb/sec Cp_c=0.24; % Cold air specific capacity in Btu/lb.degR or Btu/lb.degF
0 /o******************************************************************************** %******************STEADY STATE CALCULATIONS************************** 0 /o******************************************************************************** % n = 1; %for xi= 0.6%0.5:0.1:0.7 %%% n= 1; %%% for N_f =1:4:5 0 /o 0/o 0/o 0/o 0/o % [f_co,T_ho,ln_1,In_2,X,NTU]=HX_Steady(f_hi,T_ci,M_h,M_c,N_f,xi);% Call steady state heat exchanger routine % xip(n) = xi; %%% N_fp(n)=N_f; % Y2p(n)=T_ho; %% Y1p(n)=T_co; % n = n + 1; % end %% n = n + 1; %%end 0 /o % figure(6); % plot(N_fp,Y2p) %grid; % title(Effect of number of lumped sections'); % ylabel(Bleed air outlet temperature-T_h_o (deg. F)') % xlabel(Number of lumps'); % fn = 'HX_Steady4'; print( gcf, '-djpeg', fn ); %hold all o;o %figure(?); % plot(N_fp,Y1p,'-b') %grid; % title(Effect of number of lumped sections'); % ylabel(Ram air outlet temperature-T_c_o (deg. F)') % xlabel(Number of lumps'); % fn = 'HX_Steady5'; print( gcf, '-djpeg', fn ); %hold all

% figure(8); % plot(xip,Y2p) %grid; % title('Effect of Location of the bleed air temperature'); % ylabel(Bleed air outlet temperature-T_h_o (deg. F)') % xlabel(Weighted parameter'); % %fn = 'HX_Steady6'; print( gcf, '-djpeg', fn ); %hold all 0 /o % figure(9); % plot(xip,Y1p) %grid; % title(Effect of Location of the ram air temperature '); % ylabel(Ram air outlet temperature-T_c_o (deg. F)') % xlabel(Weighted parameter'); % fn = 'HX_Steady7'; print( gcf, '-djpeg', fn ); %hold all
0

/o

[f_co,T_ho,In_1,In_2,X,NTU]=HX_Steady(f_hi,T_ci,M_h,M_c,N_f,xi);% Call steady state heat exchanger routine % Assign the states to the relevant variables i=1;j=1;n=1;for n = n:3:(3*N_f*N_f),T_w(i,j) = X(n,1);i = i + 1;end i=1;j=1;n=2;for n = n:3:(3*N_f*N_f),T_fl(i,j) = X(n,1)~ = i + 1;end i=1;j=1;n=3;for n = n:3:(3*N_f*N_f),T_f2(i,j) = X(n,1)~ = i + 1;end fprintf(\n'); disp(Steady state bleed air temperature at the heat exchanger outlet:'); T_ho fprintf(\n'); disp('Steady state Ram air temperature at the heat exchanger outlet:');

205

T_co fprintf(\n \n'); % Calculate the ABCD matrices for the chosen flow regime if(M_h < 0.25 && M_c <0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,D_1,D_2]=ABCD (f_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N_f,xi); elseif (M_h > 0.25 && M_c < 0.1083333) C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,D_1,D_2]=ABCD (f_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N_f,xi); elseif (M_h < 0.25 && M_c > 0.1083333) C1=0.9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,D_1,D _2] =ABCD (f_hi,T_ci,M_h,M_c,X,In_1 ,In_2,Cl,C2,C3,C4,N_f,xi); elseif (M_h> 0.25 && M_c > 0.1083333) C1=0.780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,D_1,D_2]=ABCD (f_hi,T_ci,M_h,M_c,X,In_1,In_2,Cl,C2,C3,C4,N_f,xi); end o/o******************************************************************************** %******************NON LINEAR MODEL SIMULATION********************** 0 /o******************************************************************************** % initialize model simulation fprintf(\n'); interval= input(\nENTER THE DURATION OF THE SIMULATION [SECOND]:'); fprintf(\n'); disp(SET UP SIMULATION FOR ONE OF THE FOLLOWING DISTRUBANCES:'); disp(l. +40 deg. F step in bleed air inlet temperature'); disp(2. +20 deg. F step in ram air inlet temperature'); disp(3. +0.02 lb/ s step in bleed air inlet mass flow rate'); disp(4. +0.02lb/s step in ram air inlet mass flow rate'); Simu=input(\nENTER THE INPUT NUMBER:'); Dt=0.01; Print_interval=2/Dt; t=O:Dt*Print_interval:interval; %t=O:Dt:interval; t=t'; record_index=O; % Introduce steady state values T_hi_ss = T_hi; T_ci_ss = T_ci; M_h_ss = M_h; M_c_ss = M_c; X_ss =X; del_X = X - X_ss; T_ho_ss = T_ho; T_co_ss = T_co; %Non linear model simulation start plot_index=1; time=O; T _ho_p(plot_index)=T_ho; T_co_p(plot_index)=T_co; T_hi_p(plot_index) = T_hi;

206

M_c_p(plot_index) = M_c; % Set up the disturbance ifSimu == 1 T_hi = T_hi + 40; elseif Simu == 2 T_ci = T_ci + 20; elseif Simu == 3 M_h = M_h + 0.02; elseif Simu == 4 M_c = M_c + 0.02; end %core program (executes every time step) int = 0; while (int <=interval) % Calculate the ABCD matrices for the chosen flow regime updating the % values for every change in X if(M_h < 0.25 && M_c <0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,D_1,0 _2] = ABCD (T_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1 ,C2,C3,C4,N_f,xi); elseif (M_h > 0.25 && M_c < 0.1083333) C1 =0. 780612787; C2=0.6979; C3=0.52682216; C4=0.4041; [A,B,C_1,C_2,0_1,D_2]=ABCD (T_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N_f,xi); elseif (M_h < 0.25 && M_c > 0.1083333) C1=0.9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,0_1,D_2]=ABCD (T_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N_f,xi); elseif (M_h> 0.25 && M_c > 0.1083333) C1=0.780612787;; C2=0.6979; \ C3=0.822244343; C4=0.6044; [A,B,C_1,C_2,0_1,D_2]=ABCD (T_hi,T_ci,M_h,M_c,X,In_1,1n_2,C1,C2,C3,C4,N_f,xi); end

% Deviations in the input matrix from the steady state values del_Thi = T_hi- T_hi_ss; dei_Tci = T_ci- T_ci_ss; del_Mh = M_h - M_h_ss; del_Mc = M_c - M_c_ss; % Set up the input matrix U del_ U (1, 1) =del_Tci; del_U(2,1)=dei_Thi; del_U (3, 1)=del_Mc; dei_U(4,1)=dei_Mh; %update the state vector del_X = del_X + (A *dei_X + B*del_U)*Dt; % Calculate Output dei_Y1 = C_1*dei_X + D_1*del_U; T_co = T_co_ss + del_Y1; dei_Y2 = C_2*del_X + D_2*del_U; T_ho = T_ho_ss + del_Y2;

207

time = time + Dt; record_index = record_index + 1; while (int ==(interval-(1 *Dt))) fprintf(\n'); disp(Time elapsed:'); time fprintf(\n'); disp(Bleed air temperature at the heat exchanger outlet:'); T_ho fprintf(\n'); disp(Ram air temperature at the heat exchanger outlet:'); T_co fprintf(\n'); interval= interval+ input(\nUPDATE THE DURATION OF THE SIMULATION [SECOND]:'); end int = int + Dt; if record_index == Print_interval plot_index = plot_index + 1; record_index = 0; %Record data for plot T_ho_p(plot_index) = T_ho; T_co_p(plot_index) = T_co; T _hi_p(plot_index) = T _hi; M_c_p(plot_index) = M_c; end end figure(1); plot(t,T_ho_p); grid; xlabel(Time (sec)') ylabel(Bleed air outlet temperature-T_h_o (deg. F)') % title(Bleed air outlet temperature (T_h_o) response') hold all

HX Steady.m
function [Y1, Y2,In_1 s,In_2s,X_vector,NTU] = HX_steady(T_his,T_ cis,M_hs,M_cs,N_f,xi); N_x = N_f; %No. of totallumps(fins) in x-direction N_y = N_f; % No. of total lumps (fins) in y-direction N_t = N_x * N_y; % Total no. of lumps X= 1; % Total length in x-direction Y = 1; % Total length in y-direction dx = XIN_f; % Length of each lump in x-direction dy = Y IN_f; % Length of each lump in y-direction % Node numbering n = 1; fori= N_y:-1:1, for j = 1:N_x, N(i,j) = n; n = n + 1; end, end % Plate and fin geometric parameters for a typical aircraft heat exchanger configuration % Heat transfer surfaces-------- Bleed air 118-19.82 --------Ram air 3132-12.22 % eta = 0.00402; % fin thickness in inches Lf_c = 0.484 I 2; % Length of fin 1 in cold ram air %% Plate spacing divide by 2 Lf_h = 0.205 I 2; % Length of fin 2 in hot bleed air tyoty., Plate spacing divide by 2 tp = 0.0236; % plate thickness % Plate & Fin Conditions %%%Fin 1 --------> fin in the cold ram air flow %%% %%%Fin 2 --------> fin in the hot bleed air flow %%%

208

dens = 0.1; % Aluminium density in lb/in"3 Vp =X* Y * tp; % Volume of plate in in" 3 Vfl =X * eta * Lf_c; % Volume of fin 1 in in"3 Vf2 = Y * eta * Lf_h; % Volume of fin 2 in in" 3 M_w = 1;%dens * Vp; % Total Mass of plate in lb M_fl = 1; %dens * Vfl %* N_f; % Total Mass of fin 1 in lb M_f2 = 1; %dens * Vf2 %* N_f;% Total Mass of fin 2 in lb C_w= 0.214;%0.65;% wall specific thermal capacity in Btu/lb.degR or Btu/lb.degF C_f1= 0.214;%0.65; % fin 1 specific thermal capacity in Btu/lb.degR or Btu/lb.degF C_f2= 0.214; %0.65; % fin 2 specific thermal capacity in Btu/lb.degR or Btu/lb.degF Cp_h=0.24; % Hot air specific capacity in Btu/lb.degR or Btu/lb.degF Cp_c=0.24; % Cold air specific capacity in Btu/lb.degR or Btu/lb.degF

% Total heat transfer coefficients as funtions of mass flow rates in % Btu/ s.in" 2.degF if(M_hs < 0.25 && M_cs < 0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; elseif (M_hs > 0.25 && M_cs < 0.1083333) C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; elseif (M_hs < 0.25 && M_cs > 0.1083333) C1=0.9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; elseif (M_hs > 0.25 && M_cs > 0.1083333) C1=0.780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; end H_c = C3 * M_cs"C4; H_h = C1 * M_hs"C2; UA_i=(1/H_c)+(1/H_h); UA = inv(UA_i); C_c = Cp_c * M_cs; C_h = Cp_h * M_hs; ifC_c < C_h C_min = C_c; else C_min = C_h; end NTU = UA/C_min; % HEAT EXCHANGER VALUES PER UNIT CELL BASIS % Heat transfer coefficients h_c = H_c * (dx I X) * (dy I Y); h_h = H_h * (dx I X)* (dy I Y); % Mass flow rates m_c = M_cs * (dy I Y); m_h = M_hs * (dx I X); % Mass of plate and fins m_w = M_w * (dx /X)* (dy I Y); m_fl = M_f1 * (dx I X); m_f2 = M_f2 * (dy I Y); % Surface areas of plate and fins as_c = ((2 * tp) + ( 2 * dy)) * dx;

209

as_h = ((2 * tp) + ( 2 * dx)) * dy; af_c = (Lf_c *eta) * dx; af_h = (Lf_h * eta) * dy; % Evaluate coefficient terms a = (h_c * as_c) I (m_c * Cp_c ); %(h_c * as_c * dx) I (m_c * Cp_c * X); b = (2 * h_c * af_c) I (m_c * Cp_c); %(2 * h_c * af_c * dx) I (m_c * Cp_c * X); c = (h_h * as_h) I (m_h * Cp_h ); %(h_h * as_h * dy) I (m_h * Cp_h * Y); d = (2 * h_h * af_h) I (m_h * Cp_h ); % (2 * h_h * af_h * dy) I (m_h * Cp_h * Y); psi_1 = (-h_c * as_c * (1 +b)) I ( m_w * C_w * (1 +a+ b)); psi_2 = (2* h_c * af_c * (a)) I ( m_fl * C_fl * (1 + a + b)); chi_1 = (-h_h * as_h * (1 +d)) I ( m_w * C_w * (1 + c +d)); chi_2 = (2* h_h * af_h * (c)) I ( m_f2 * C_f2 * (1 + c +d)); theta_1 = (h_c * as_c *(b)) I ( m_w * C_w * (1 +a+ b)); theta_2 = (-2* h_c * af_c * (1 + a)) I ( m_f1 * C_fl * (1 + a + b)); phi_1 = (h_h * as_h *(d)) I ( m_w * C_w * (1 + c +d)); phi_2 = (-2* h_h * af_h * (1 + c)) I ( m_f2 * C_f2 * (1 + c + d)); alpha_1 = (h_c * as_c * (1)) I ( m_w * C_w * (1 +a+ b)); alpha_2 = (2* h_c * af_c * (1)) I ( m_f1 * C_f1 * (1 + a + b)); beta_1 = (h_h * as_h * (1)) I ( m_w * C_w * (1 + c +d)); beta_2 = (2* h_h * af_h * (1)) I ( m_f2 * C_f2 * (1 + c + d)); P_1 = (1 -(xi* (1 +a+ b))) P_2 = (1 - (xi* (1 + c + d)))

I ((1- xi) * (1 + a+ b)); I ((1- xi) * (1 + c + d));

Q_1 = (a) I ((1- xi) * (1 + a + b)); Q_2 = (c) I ((1- xi) * (1 + c + d)); R_1 = (b) I ((1- xi)* (1 + a+ b)); R_2 = (d) I ((1- xi) * (1 + c + d)); % Wall equation coefficients Kw_1 = psi_1 + chi_1; Kw_2 = theta_1; Kw_3 = phi_1; Kw_4 = alpha_1; Kw_S = beta_1; % Fin 1 equation coefficients Kf_1 = theta_2; Kf_2 = psi_2; Kf_3 = alpha_2; % Fin 2 equation coefficients Kf_a = phi_2; Kf_b = chi_2; Kf_c = beta_2; % Ram air output coefficients Kco_1 = P_1; Kco_2 = Q_1; Kco_3 = R_1; % Bleed air output coefficients Kho_1 = P_2; Kho_2 = Q_2; Kho_3 = R_2; %Dt= (h_c * as_c * (1 +a+ b)) %Average matrix for j=1:N_f AVE(1,j)=1IN_f; end %-----------STEADY STATE- STATE SPACE MODEL REPRESENTATION-----------% 0 /o---------------------- -------- ----Ax + Bu = 0 ; Y = Cx + Du --------------- --------------------- 0/o % Initializing the matrix A with zeros fori = 1:3*(N_f * N_f) for j = 1:3*(N_f * N_f) A(i,j)= 0; end end

I ( m_w * C_w * -(1 + b));

210

% Diagonal matrix elements inputs forv = 1:N_f row= ((v-1) * (3* N_f)) + 1; column= ((v-1) * (3* N_f)) + 1; fori = row:3:(3*N_f*v) forj = i A(i,j)= Kw_1;
j = i + 1; A(i,j)= Kw_2; j i + 2; A(i,j)= Kw_3; end end fori= (row +1):3:(3*N_f*v) for j = i- 1 A(i,j)= Kf_2; j =i; A(i,j)= Kf_1;

=

end end fori = (row+2) :3:(3*N_f*v) for j = i- 2 A(i,j)= Kf_b;
j =i; A(i,j)= Kf_a; end end

% Other diagonal terms
k

= 1;

for j = column:3:((3* N_f*v)-3) fori= (row+3):3:(3*N_f*v) A(i,j)= Kw_S * Kho_1"'(k-1) * Kho_2; % B1*P2*Q2
i i + 2; A(i,j) = Kf_c * Kho_1"'(k-1) * Kho_2; % B2*P2*Q2

=
=

j j + 2; i = i- 2; A(i,j)= Kw_S * Kho_1"'(k-1) * Kho_3;% B1*P2*R2
i = i + 2; A(i,j)= Kf_c * Kho_1"'(k-1) * Kho_3;% B2*P2*R2

k

= k + 1;

% reset to original i,j values i = i- 2; j = j- 2; end
k

= 1;

row= row+ 3; end end % Other terms k = 1; foro= 2:N_f row= ((o-1) * (3* N_f)) + 1; column= 1; fori = row:3:(3* N_f*N_f) for j = i- (3* N_f*(o-1))

211

A(i,j) = Kw_4 * Kco_1"(k-1) * Kco_2;% A1*P1*Q1 i = i + 1; A(i,j) = Kf_3 * Kco_1"(k-1) * Kco_2;% A2*P1*Q1 j = j + 1; i = i- 1; A(i,j) = Kw_4 * Kco_1"(k-1) * Kco_3;% A1*P1*R1 i = i + 1; A(i,j) = Kf_3 * Kco_1"(k-1) * Kco_3; 'Yo A2*P1*R1 % reset to original i,j values i = i- 1; j = j- 1; end end k = k + 1; end
o/o -----------------------------------------------B matrix ----------------

0/o ----------------------

o;o ------------------------------------------------

%1st column- Tci
k

= 1;

for q = 1:N_f row= ((q-1)*(3*N_f)) + 1; fori = row:3:(3*N_f*q) B(i,1) = Kw_4 * Kco_1"(k-1); % A1P1 i = i + 1; B(i,1) = Kf_3 * Kco_1"(k-1); %A2P1
i = i -1; end
k

= k + 1;

end % 2nd column Thi for q = 1:N_f row= ((q-1)*(3*N_f)) + 1; k = 1; for i = row:3:(3*N_f*q) B(i,2) = Kw_S * Kho_1"(k-1); % B1P2 i = i+ 2; B(i,2) = Kf_c * Kho_1"(k-1); %B2P2 i = i- 2; k = k + 1; end end
o;o -----------------------------------------------0/o ---------------------- C matrix ---------------o;o ------------------------------------------------

% C_l matrix -Teo k= N_f -1; for r = 1:N_f row= 1; column= ((r-1)*(3*N_f)) + 1; for i = row:N_f for j = column C_l(i,j)= Kco_1"k * Kco_2; %P1Q1 j = j + 1; C_1(i,j)= Kco_l "k * Kco_3; %P1R1

212

j j + 1; C_1(i,j)= 0;

=

j

= j- 2;
+ 3;

end column = column end k k- 1; end C_1=AVE *C_1;

=

% C_2 matrix - Tho for r = 1:N_f row= r; column= ((r-1)*(3*N_f))

+ 1;

k= N_f- 1; fori= row for j = column:3:(3*N_f*r) C_2(i,j)= Kho_1 "'k * Kho_2; % P2Q2

j

= j + 2;

C_2(i,j)= Kho_1 "'k * Kho_3; 'Y oP2R2 k = k- 1;

j j- 2; end end end C_2=AVE*C_2;
o ; o ------------------------------------------------

=

0 /o---------------------- 0 matrix ---------------o ;o-----------------------------------------------% 0_1 matrix - Teo % 1st two columns- Tci, Thi k= N_f; fori= 1:N_f 0_1(i,1)= Kco_1 "'k; % P _1 0_1(i,2)= 0; end 0_1=AVE*0_1; % 02 matrix - Tho % 1st two columns - Tci, Thi k= N_f; fori= 1:N_f 0_2(i,1)= 0; 0_2(i,2)= Kho_1 "'k; % P _2 end 0_2=AVE*0_2;
0/o ---------- - -------- ~ ------------ ------------------------ -

% ----------------- INPUT MATRIX {U} ----------------------

0 /o--------------------------------------------------------U(1,1) = T_cis; U(2,1) = T_his; % Find steady state- state variables {X} X_vector= inv(A) * (-B * U); % State-space output Y1= Teo; Y2=Tho Y1=(C_1*X_vector) + (D_1*U);

213

Y2=(C_2*X_vector) + (D_2*U);

0/o--------------------------------------------------------------------------%----------------- ALL OUTPUT VALUES Teo Tho-------------

0/o---------------------------------------------------------------------------% Output values calculated to find input values %Initializing the matrix S_l with zeros fori = l:(N_f * N_f) for j = 1:3*(N_f * N_f) S_1(i,j)= 0; end end %Output Teo
k

= 1;

foro= l:N_f row= ((o-1) * N_f) + 1; column= 1; fori = row:(N_f*N_f) for j = column S_1(i,j) = Kco_l"(k-1) * Kco_2;% Pl*Ql
j = j + 1; S_l(i,j) = Kco_l"(k-1) * Kco_3;% P1*Rl

% reset to original i,j values j = j- 1; end column = column + 3; end k = k + 1; end % 1st two columns- Tci, Thi
k= 1;

foro =l:N_f row= ((o-1) * N_f) + 1; fori = row:(N_f*o) T_l(i,1)= Kco_1 "k; %P_1 T_1(i,2)= 0; end
k

= k + 1;

end %Output Tho forv = l:N_f row= ((v-1) * N_f) + 1; column= ((v-1) * (3* N_f)) + 1;
k

= 1;
S_2(i,j)= Kho_1"(k-1) * Kho_2;% P2*Q2
j = j + 2; S_2(i,j)= Kho_l"(k-1) * Kho_3;% P2*R2
k

for j = column:3:(3* N_f*v) for i = row:(N_f*v)

= k + 1;

% reset to original j value j = j- 2; end k = 1; row= row+ 1; end

214

end %1st two columns- Tci, Thi k= 1; foro =l:N_f row= ((o-1) * N_f) + 1; fori = row:(N_f*o) T_2(i,l)= 0; T_2(i,2)= Kho_l"'k; %P_2
k end
k

= k + 1;

= 1;

end %State-space output Yl= Teo; Y2=Tho 01=(S_1*X_vector) + (T_1*U); 02=(S_2*X_vector) + (T_2*U);

0/o----------------------------------------------------------------------%----------------- ALL INPUT VALUES Tci Thi -------------

0/o----------------------------------------------------------------------%Tci j 1; fori= 1:5 In_ls(i,j) = T_cis; end

=

i=6;j=l;n=1; for n = n:(N_f*N_f)-5 In_1s(i,j) = 01(n,1); i = i + 1; end In_1s; %Thi j=1; for u = 1:N_f i = ((u-1) * N_f) + 1; In_2s(i,j) = T_his; i = i + 1; end j=l;n=l;v=O; for u = l:N_f i = ((u-1) * N_f) + 2; for n = l+(N_f*v):((N_f*u)-1) ln_2s(i,j) = 02(n,1); i = i + 1; end v = v + 1; end In_2s;

ABCD.m
function [A,B,C_l,C_2,D_l,D_2]=ABCD(T_HI,T_CI,M_H,M_C,X,IN_l,IN_2,Cl,C2,C3,C4,N_f,xi); % Assign the states to the relevant variables i=1;j=1;n=l;for n = n:3:(3*N_f*N_f),T_w(i,j) = X(n,l)~ = i + 1;end i=l;j=l;n=2;for n = n:3:(3*N_f*N_f),T_fl(i,j) = X(n,1);i = i + l;end i=l;j=l;n=3;for n = n:3:(3*N_f*N_f),T_f2(i,j) = X(n,l);i = i + l;end N_x = N_f; %No. of total lumps(fins) in x-direction

215

N_y = N_f;% No. of total lumps (fins) in y-direction N_t = N_x * N_y;% Total no. of lumps X= 1;% Total length in x-direction Y = 1;% Total length in y-direction dx = XIN_f; % Length of each lump in x-direction dy = Y IN_f; % Length of each lump in y-direction %Node numbering
n

fori= N_y:-1:1, for j = 1:N_x, N(i,j) = n; n = n + 1; end, end % Plate and fin geometric parameters for a typical aircraft heat exchanger configuration %Heat transfer surfaces-------- Bleed air 118-19.82 --------Ram air 3132-12.22 % eta = 0.00402; % fin thickness in inches Lf_c = 0.484 I 2; % Length of fin 1 in cold ram air %% Plate spacing divide by 2 Lf_h = 0.205 I 2; % Length of fin 2 in hot bleed air %% Plate spacing divide by 2 tp = 0.0236; % plate thickness

= 1;

% Plate & Fin Conditions %%%Fin 1 --------> fin in the cold ram air flow %% 0/c, %%%Fin 2 --------> fin in the hot bleed air flow %%% dens = 0.1; %Aluminium density in lblin"3 Vp =X* Y * tp;% Volume of plate in in"3 Vfl =X* eta* Lf_c;% Volume of fin 1 in in"3 Vf2 = Y *eta* Lf_h;% Volume of fin 2 in in"3 M_w = dens* Vp;% Total Mass of plate in lb M_fl = dens * Vfl; %* N_f;% Total Mass of fin 1 in lb M_f2 = dens * Vf2; %* N_f;% Total Mass of fin 2 in lb C_w= 0.214;%0.65;% wall specific thermal capacity in Btullb.degR or Btullb.degF C_fl= 0.214;%0.65;% fin 1 specific thermal capacity in Btullb.degR or Btullb.degF C_f2= 0.214; %0.65;% fin 2 specific thermal capacity in Btullb.degR or Btullb.degF Cp_h=0.24;% Hot air specific capacity in Btullb.degR or Btullb.degF Cp_c=0.24; % Cold air specific capacity in Btullb.degR or Btullb.degF %Total heat transfer coefficients H_c = C3 * M_C"C4; H_h = C1 * M_H"C2; %HEAT EXCHANGER VALUES PER UNIT CELL BASIS % Heat transfer coefficients h_c = H_c * (dx I X) * (dy I Y); h_h = H_h * (dx I X)* (dy I Y); % Mass flow rates m_c = M_C * (dy I Y); m_h = M_H * (dx I X); % Mass of plate and fins m_w = M_w * (dx I X)* (dy I Y); m_f1 = M_f1 * (dx I X) * (dy I Y); m_f2 = M_f2 * (dx I X) * (dy I Y); % Surface areas of plate and fins as_c = ((2 * tp) + ( 2 * dy)) * dx; as_h = ((2 * tp) + ( 2 * dx)) * dy; af_c = (Lf_c * eta) * dx; af_h = (Lf_h * eta) * dy; % Evaluate coefficient terms a = (h_c * as_c) I (m_c * Cp_c ); %(h_c * as_c * dx) I (m_c * Cp_c * X); b = (2 * h_c * af_c) I (m_c * Cp_c); %(2 * h_c * af_c * dx) I (m_c * Cp_c *X); c = (h_h * as_h)

I (m_h * Cp_h ); %(h_h * as_h * dy) I (m_h * Cp_h * Y);

216

d = (2 * h_h * af_h)

I (m_h * Cp_h ); %(2 * h_h * af_h * dy) I (m_h * Cp_h * Y);

psi_1 = (-h_c * as_c * (1 +b)) I ( m_w * C_w * (1 +a+ b)); psi_2 = (2* h_c * af_c * (a)) I ( m_fl * C_fl * (1 + a + b)); chi_1 chi_2

= (-h_h * as_h * (1 +d)) I ( m_w * C_w * (1 + c +d));

=(2* h_h * af_h * (c)) I ( m_f2 * C_f2 * (1 + c +d));

theta_1 = (h_c * as_c * (b)) I ( m_w * C_w * (1 +a+ b)); theta_2 = (-2* h_c * af_c * (1 + a)) I ( m_f1 * C_f1 * (1 + a+ b)); phi_1 (h_h * as_h *(d)) I ( m_w * C_w * (1 + c +d)); phi_2 = (-2* h_h * af_h * (1 + c)) I ( m_f2 * C_f2 * (1 + c + d)); alpha_1 alpha_2

=

= (h_c * as_c * (1)) I ( m_w * C_w * (1 + a + b));

= (2* h_c * af_c * (1)) I ( m_f1 * C_fl * (1 + a + b));

beta_1 = (h_h * as_h * (1)) I ( m_w * C_w * (1 + c +d)); beta_2 = (2* h_h * af_h * (1)) I ( m_f2 * C_f2 * (1 + c + d)); P _1 = (1 - (xi* (1 + a + b))) I ((1- xi) * (1 + a + b)); P_2 = (1 - (xi* (1 + c + d))) I ((1- xi) * (1 + c + d)); Q_1 = (a) I ((1- xi)* (1 +a+ b)); Q_2 = (c) I ((1- xi) * (1 + c +d)); R_1 = (b) R_2 = (d)

I ((1- xi) * (1 + a+ b)); I ((1- xi) * (1 + c + d));

% Wall equation coefficients Kw_1 = psi_1 + chi_1; Kw_2 = theta_1; Kw_3 T_f2; Kw_10 = IN_1; Kw_11 = IN_2; % Fin 1 equation coefficients Kf_1 = theta_2; Kf_2 = psi_2; Kf_3 % Fin 2 equation coefficients Kf_a = phi_2; Kf_b = chi_2; Kf_c

= phi_1; Kw_4 = alpha_1; Kw_S = beta_1; Kw_6 = T_w; Kw_7 = T_w; Kw_8 = T_fl; Kw_9 =

= alpha_2; Kf_4 = T_fl; Kf_S = T_w; Kf_6 = IN_1;

= beta_2; Kf_d = T_f2; Kf_e =T_w; Kf_f = IN_2; = R_1; Kco_4 = IN_1; Kco_S =T_w; Kco_6 = T_fl; = R_2; Kho_4 = IN_2; Kho_S =T_w; Kho_6 = T_f2;

% Ram air output coefficients Kco_1 = P _1; Kco_2 = Q_1; Kco_3 % Bleed air output coefficients Kho_1 = P_2; Kho_2 = Q_2; Kho_3

%Other coefficients K_psi_1 (-as_c * (1 + b)) I ((m_w * C_w) * (1 + a + b)); K_psi_2 (h_c * as_c * (1 +b)) I ((m_w * C_w) * (1 +a+ b)"2); K_psi_3 = (-h_c *as_c * (a)) I ((m_w * C_w) * (1 + a + b)"2);

= =

K_psi_a = (2 * af_c *(a)) I ((m_fl * C_fl) * (1 +a+ b)); K_psi_b = (2 * h_c * af_c * (1 + b)) I ((m_fl * C_fl) * (1 + a + b)"2); K_psi_c = (-2 * h_c * af_c * (a)) I ((m_fl * C_fl) * (1 + a+ b)"2); K_chi_1 (-as_h * (1 +d)) I ((m_w * C_w) * (1 + c +d)); K_chi_2 = (h_h * as_h * (1 +d)) I ((m_w * C_w) * (1 + c + d)"2); K_chi_3 = (-h_h *as_h *(c)) I ((m_w * C_w) * (1 + c + d)"2); K_chi_a (2 * af_h *(c)) I ((m_f2 * C_f2) * (1 + c +d)); K_chi_b = (2 * h_h * af_h * (1 + d)) I ((m_f2 * C_f2) * (1 + c + d)"2); K_chi_c = (-2 * h_h * af_h *(c)) I ((m_f2 * C_f2) * (1 + c + d)"2); K_theta_1 = (as_c *(b)) I ((m_w * C_w) * (1 +a+ b)); K_theta_2 = (-h_c * as_c *(b)) I ((m_w * C_w) * (1 +a+ b)"2); K_theta_3 = (h_c *as_c * (1 +a)) I ((m_w * C_w) * (1 +a+ b)"2); K_theta_a = (-2 * af_c * (1 + a)) I ((m_fl * C_fl) * (1 + a + b)); K_theta_b = (-2 * h_c * af_c * (b)) I ((m_fl * C_fl) * (1 + a + b)"2); K_theta_c = (2 * h_c * af_c * (1 +a)) I ((m_fl * C_fl) * (1 +a+ b)"2); K_phi_1 = (as_h * (d)) I ((m_w * C_w) * (1 + c +d)); K_phi_2 (-h_h * as_h *(d)) I ((m_w * C_w) * (1 + c + d)"2); K_phi_3 (h_h *as_h * (1 +c)) I ((m_w * C_w) * (1 + c + d)"2);

=

=

= =

217

K_phi_a =(-2 * af_h * (1 + c)) I ((m_£2 * C_f2) * (1 + c + d)); K_phi_b = (-2 * h_h * af_h *(d)) I ((m_f2 * C_f2) * (1 + c + d)"2); K_phi_c = (2 * h_h * af_h * (1 + c)) I ((m_£2 * C_f2) * (1 + c + d)"2); K_alpha_1 = (as_c * (1)) I ((m_w * C_w) * (1 +a+ b)); K_alpha_2 = (-h_c * as_c * (1)) I ((m_w * C_w) * (1 +a+ b)"2); K_alpha_3 = (-h_c *as_c * (1)) I ((m_w * C_w) * (1 +a+ b)"2); K_alpha_a = (2 * af_c * (1)) I ((m_f1 * C_f1) * (1 + a + b)); K_alpha_b = (-2 * h_c * af_c * (1)) I ((m_fl * C_fl) * (1 + a + b)"2); K_alpha_c = (-2 * h_c * af_c * (1)) I ((m_fl * C_fl) * (1 + a + b)"2); K_beta_1 = (as_h * (1)) I ((m_w * C_w) * (1 + c +d)); K_beta_2 = (-h_h * as_h * (1)) I ((m_w * C_w) * (1 + c + d)"2); K_beta_3 = (-h_h *as_h * (1)) I ((m_w * C_w) * (1 + c + d)"2); K_beta_a =(2 * af_h * (1)) I ((m_£2 * C_f2) * (1 + c + d)); K_beta_b = (-2 * h_h * af_h * (1)) I ((m_£2 * C_f2) * (1 + c + d)"2); K_beta_c = (-2 * h_h * af_h * (1)) I ((m_f2 * C_f2) * (1 + c + d)"2);

=-(1 - xi) I (((1 - xi) * (1 + a + b))"2); K_P_a =-(1 - xi) I (((1 - xi) * (1 + c + d))"2);
K_P_1 K_Q_1 K_Q_a

=-(1 - xi) I (((1 -xi) * (1 + a + b))"2); K_P_b =-(1 -xi) I (((1 - xi) * (1 + c + d))"2);
K_P_2

= ((1 -xi)* (1 +b)) I

(((1 -xi) * (1 + a+ b))"2); K_Q_2

= (-(1 -xi) * (a)) I

(((1 -xi)* (1 +a+ b))"2);

= ((1 -xi)* (1 +d)) I (((1 -xi)* (1 + c + d))"2); K_Q_b = (-(1 -xi) * (c)) I (((1 -xi) * (1 + c + d))"2); K_R_1 = (-(1 -xi) * (b)) I (((1 - xi) * (1 + a + b))"2); K_R_2 = ((1 - xi) * (1 + a)) I (((1 -xi) * (1 + a + b))"2);

K_R_a = (-(1 -xi) * (d)) I (((1 -xi) * (1 + c + d))"2); K_R_b = ((1 - xi) * (1 + c)) I (((1 - xi) * (1 + c + d))"2); K_a_1 K_a_2

= (as_c) I (m_c * Cp_c ); %(as_c * dx) I (m_c * Cp_c *X); = (-h_c * as_c) I ((m_c)"2 * Cp_c); %(-h_c * as_c * dx) I ((m_c)"2 * Cp_c * X);

K_b_1 = (2 * af_c) I (m_c * Cp_c ); %(2 * af_c * dx) I (m_c * Cp_c * X); K_b_2 = (-2 * h_c * af_c) I ((m_c)"2 * Cp_c); %(-2 * h_c * af_c * dx) I ((m_c)"2 * Cp_c *X); K_c_1 K_c_2 K_d_1 K_d_2

= (as_h) I

= (-h_h * as_h) I

(m_h * Cp_h ); %(as_h * dy) I (m_h * Cp_h * Y); ((m_h)"2 * Cp_h ); %(-h_h * as_h * dy) I ((m_h)"2 * Cp_h * Y);

= (2 * af_h) I (m_h * Cp_h ); %(2 * af_h * dy) I (m_h * Cp_h * Y);
= (-2 * h_h * af_h) I
((m_h)"2 * Cp_h ); %(-2 * h_h * af_h * dy)

I ((m_h)"2 * Cp_h * Y);

K_h_h = C2 * C1 * (m_h)"(C2- 1); K_h_c = C4 * C3 * (m_c)"(C4- 1); % Mass flow co-efficients Km_1 = (((K_h_c) * ((Kw_6 * K_psi_1) + (Kw_8 * K_theta_1) + (Kw_10 * K_alpha_1))) + ((K_a_1 * K_h_c) * ((Kw_6 * K_psi_2) + (Kw_8 K_theta_2) + (Kw_10 * K_alpha_2))) + ((K_a_2) * ((Kw_6 * K_psi_2) + (Kw_8 * K_theta_2) + (Kw_10 * K_alpha_2))) + ((K_b_1 * K_h_c) ((Kw_6 * K_psi_3) + (Kw_8 * K_theta_3) + (Kw_10 * K_alpha_3))) + ((K_b_2) * ((Kw_6 * K_psi_3) + (Kw_8 * K_theta_3) + (Kw_10 K_alpha_3)))); Km_2 = (((K_h_h) * ((Kw_7 * K_chi_1) + (Kw_9 * K_phi_1) + (Kw_11 * K_beta_1))) + ((K_c_1 * K_h_h) * ((Kw_7 * K_chi_2) + (Kw_9 K_phi_2) + (Kw_11 * K_beta_2))) + ((K_c_2) * ((Kw_7 * K_chi_2) + (Kw_9 * K_phi_2) + (Kw_11 * K_beta_2))) + ((K_d_1 * K_h_h) * ((Kw_7 K_chi_3) + (Kw_9 * K_phi_3) + (Kw_ll * K_beta_3))) + ((K_d_2) * ((Kw_7 * K_chi_3) + (Kw_9 * K_phi_3) + (Kw_ll * K_beta_3)))); * * * * *

Km_3 = (((K_h_c) * ((Kf_4 * K_theta_a) + (Kf_S * K_psi_a) + (Kf_6 * K_alpha_a))) + ((K_a_1 * K_h_c) * ((Kf_4 * K_theta_b) + (Kf_S * K_psi_b) + (Kf_6 * K_alpha_b))) + ((K_a_2) * ((Kf_4 * K_theta_b) + (Kf_S * K_psi_b) + (Kf_6 * K_alpha_b))) + ((K_b_1 * K_h_c) * ((Kf_4 * K_theta_c) + (Kf_S * K_psi_c) + (Kf_6 * K_alpha_c))) + ((K_b_2) * ((Kf_4 * K_theta_c) + (Kf_S * K_psi_c) + (Kf_6 * K_alpha_c)))); Km_4 = (((K_h_h) * ((Kf_d * K_phi_a) + (Kf_e * K_chi_a) + (Kf_f * K_beta_a))) + ((K_c_1 * K_h_h) * ((Kf_d * K_phi_b) + (Kf_e * K_chi_b) + (Kf_f * K_beta_b))) + ((K_c_2) * ((Kf_d * K_phi_b) + (Kf_e * K_chi_b) + (Kf_f * K_beta_b))) + ((K_d_1 * K_h_h) * ((Kf_d * K_phi_c) + (Kf_e * K_chi_c) + (Kf_f * K_beta_c))) + ((K_d_2) * ((Kf_d * K_phi_c) + (Kf_e * K_chi_c) + (Kf_f * K_beta_c)))); Km_S = (((K_a_1 * K_h_c) * ((Kco_4 * K_P_1) + (Kco_S * K_Q_1) + (Kco_6 * K_R_1))) + ((K_a_2) * ((Kco_4 * K_P_1) + (Kco_S * K_Q_1) + (Kco_6 * K_R_1))) + ((K_b_1 * K_h_c) * ((Kco_4 * K_P_2) + (Kco_S * K_Q_2) + (Kco_6 * K_R_2))) + ((K_b_2) * ((Kco_4 * K_P_2) + (Kco_S * K_Q_2) + (Kco_6 * K_R_2)))); Km_6 = (((K_c_1 * K_h_h) * ((Kho_4 * K_P_a) + (Kho_S * K_Q_a) + (Kho_6 * K_R_a))) + ((K_c_2) * ((Kho_4 * K_P_a) + (Kho_S * K_Q_a) + (Kho_6 * K_R_a))) + ((K_d_1 * K_h_h) * ((Kho_4 * K_P_b) + (Kho_S * K_Q_b) + (Kho_6 * K_R_b))) + ((K_d_2) * ((Kho_4 * K_P_b) + (Kho_S * K_Q_b) + (Kho_6 * K_R_b))));

218

/o -----------------------------------------------A matrix -------------o;o -----------------------------------------------0/o ----------------------

0

%Average matrix for j=1:N_f AVE(1,j)=1/N_f; end
0 /(, Initializing the matrix A with zeros fori = 1:3*(N_f * N_f) for j = 1:3*(N_f * N_f) A(i,j)= 0; end end

% Diagonal matrix elements inputs forv = 1:N_f row= ((v-1) * (3* N_f)) + 1; column= ((v-1) * (3* N_f)) + 1; for i = row:3:(3*N_f*v) forj = i A(i,j)= Kw_1;

i = i + 1;
A(i,j)= Kw_2;

i = i + 2; A(i,j)= ,Kw_3; end end fori= (row +1):3:(3*N_f*v) for j = i- 1 A(i,j)= Kf_2; i =i; A(i,j)= Kf_1;
end end fori = (row+2):3:(3*N_f*v) for j = i- 2 A(i,j) = Kf_b;

i =i;
A(i,j)= Kf_a; end end % Other diagonal terms k = 1; for j = column:3:((3* N_f*v)-3) fori= (row+3):3:(3*N_f*v) A(i,j)= Kw_S * Kho_1"(k-1) * Kho_2;% B1*P2*Q2

i i + 2; A(i,j) = Kf_c * Kho_1"(k-1) * Kho_2;% B2*P2*Q2

=

i = i + 2;
i = i- 2;
A(i,j)= Kw_S * Kho_1"(k-1) * Kho_3;% B1*P2*R2 i=i+ 2; A(i,j)= Kf_c * Kho_1"(k-1) * Kho_3;% B2*P2*R2

k

= k + 1;

% reset to original i,j values i = i- 2;

i = i- 2;

end

219

k

= 1;

row= row+ 3; end end % Other terms k = 1; foro= 2:N_f row= ((o-1) * (3* N_t)) + 1; column= 1; fori = row:3:(3* N_f*N_t) for j = i- (3* N_f*(o-1)) A(i,j) = Kw_4 * Kco_1"(k-1) * Kco_2;% A1*P1*Q1 i = i + 1; A(i,j) = Kf_3 * Kco_1"(k-1) * Kco_2;% A2*P1*Q1

j = j + 1; i = i- 1; A(i,j) = Kw_4 * Kco_1"(k-1) * Kco_3; % A1*P1*R1
i = i + 1; A(i,j) = Kf_3 * Kco_1"(k-1) * Kco_3; 'Yo A2*P1*R1 % reset to original i,j values i = i- 1; j = j- 1; end end k = k + 1; end
0

/o ------------------------------------------------

B matrix ---------------o;o -----------------------------------------------0/o ----------- -----------

% Ist column - Tci k = 1; for q = 1:N_f row= ((q-1)*(3*N_t)) + 1; fori = row:3:(3*N_f*q) B(i,1) = Kw_4 * Kco_1"(k-1); % A1P1 i = i + 1; B(i,1) = Kf_3 * Kco_1"(k-1); o;.,A2P1 i = i- 1; end k = k + 1; end % 2nd column Thi for q = 1:N_f row= ((q-1)*(3*N_t)) + 1;
k

= 1;
i = i + 2; B(i,2) = Kf_c * Kho_1"(k-1); %B2P2

fori = row:3:(3*N_f*q) B(i,2) = Kw_S * Kho_1"(k-1); % B1P2

i = i- 2; k = k + 1; end end % 3rd column m_c i=1;j=3;n=1;for n = n:(3*N_f*N_t),B(i,j) = 0 ;i = i + 1;end %Initializing third column ofB with zeros

220

r N_f- 2; q = N_f; for u = O:(N_f-1) row= ((q-1)*(3*N_£)) + (3*N_£); v= 0; fori= (row-2):-3:(3*N_f*(q-1))

=

for o = (N_f-v): N_f:(N_f*N_f-v)-(u*N_£) s =o; if r >= 1 B(i,3) = (Kw_4 * Kco_1"r * Km_S(o)) + B(i,3); %A1P1K_m5 i = i + 1; B(i,3) = (Kf_3 * Kco_1"r * Km_S(o)) + B(i,3); %A2P1K_m5 i = i- 1; end if s == ((N_f*N_f-v)-(u*N_£)- N_£) B(i,3) = (Kw_4 * Km_S(o)) + B(i,3); %A1K_m5

i = i + 1; B(i,3) = (Kf_3 * Km_S(o)) + B(i,3); %A2K_m5 i = i- 1;
end if s == ((N_f*N_f-v)-(u*N_£)) B(i,3) = Km_1(o) + B(i,3); %K_m1 i = i + 1; B(i,3) = Km_3(o) + B(i,3); i i- 1;

=

%K~m3

end r = r- 1; end r = (N_f- (2+u)); v = v + 1; end r = r- 1; q = q- 1; end % 4th column m_h i=1;j=4;n=1;for n = n:(3*N_f*N_f),B(i,j) = 0 ;i = i + 1;end %Initializing fourth column ofB with zeros

p = 0; q = N_f; for u = 1:N_f row= ((q-1)*(3*N_£)) + (3*N_£); v = 0; r = N_f- 2;
fori= (row-2):-3:(3*N_f*(q-1)) foro = ((N_f*N_£)-(u*N_£))+1:(N_f*N_f-v)-(p*N_£) s =o; if r >= 1 B(i,4) = (Kw_S * Kho_1"r * Km_6(o)) + B(i,4); %B1P2K_m6 i = i + 2; B(i,4) = (Kf_c * Kho_1"r * Km_6(o)) + B(i,4); %B2P2K_m6 i = i- 2; end if s == ((N_f*N_f-v)-(p*N_£) - 1) B(i,4) = (Kw_S * Km_6(o)) + B(i,4); %B1K_m6 i = i + 2; B(i,4) = (Kf_c * Km_6(o)) + B(i,4); %B2K_m6 i = i- 2; end

221

if s == ((N_f*N_f-v)-(p*N_t)) B(i,4) = Km_2(o) + B(i,4); %K_m2 i =i +2; B(i,4) = Km_4(o) + B(i,4); %K_m4 i = i- 2; end

= r- 1; end v = v + 1; r = (N_f- (2+v));
r

end %r = r- 1;

p = p + 1; q = q- 1; end
o ; o -----------------------------------------------0 /o ----------------------

C matrix -------------o/o -----------------------------------------------\/o C_1 matrix -Teo k= N_f- 1; for r = 1:N_f row= 1; column= ((r-1)*(3*N_t)) + 1; fori = row:N_f for j = column C_1(i,j)= Kco_1"k * Kco_2; %P1Q1

1

j = j + 1; C_1(i,j)= Kco_1"k * Kco_3; %P1R1 j = j + 1; C_1(i,j)= 0;
j

= j- 2;

end column = column + 3; end k = k- 1; end C_1=AVE*C_1;
% C_2 matrix - Tho

for r = 1:N_f row= r; column= ((r-1)*(3*N_t)) + 1; k= N_f -1; fori= row for j = column:3:(3*N_f*r) C_2(i,j)= Kho_1"k * Kho_2; %P2Q2

j j + 2; C_2(i,j)= Kho_1 "k * Kho_3; %P2R2

=

j = j- 2; end end end C_2=A VE*C_2;

k

= k- 1;

o ; o -----------------------------------------------0/o ---------------------- D matrix ------------o ; o ------------------------------------------------

222

% D_1 matrix- Teo %1st two columns- Tci, Thi k= N_f; fori= 1:N_f D_1(i,1)= Kco_1"k; %P_1 D_1(i,2)= 0; end % 3rd & 4th column m_c ,m_h i=1;j=3;n=1;for n = n:N_f,D_1(i,j) = 0 ;i = i + 1;end %Initializing third column ofD_1 with zeros i=1;j=4;n=1;for n = n:N_f,D_1(i,j) = 0 ;i = i + 1;end %Initializing fourth column ofD_1 with zeros
u

v

r N_f- 1; fori= N_f:-1:1 foro= (~_f*N_f)-(v*N_f))+1:(N_f*N_f)-(u*N_f) s =o; if r >= 1 D_1(i,3) = (Kco_1"r * Km_S(o)) + D_1(i,3); %P1K_m5 end

=

= 0; = 1;

if s == ((N_f*N_f)-(u*N_f)) D_1(i,3) = Km_S(o) + D_1(i,3); %K_m5 end r = r- 1; end r = (N_f- 1); v = v + 1; u = u + 1; end D_1=AVE*D_1; % D2 matrix - Tho % 1st two columns- Tci, Thi k= N_f; fori= 1:N_f D_2(i,1)= 0; D_2(i,2)= Kho_1"k; %P_2 end % 3rd & 4th column m_c ,m_h i=1;j=3;n=1;for n = n:N_f,D_2(i,j) = 0 ;i = i + 1;end %Initializing third column ofD_2 with zeros i=1;j=4;n=1;for n = n:N_f,D_2(i,j) = 0 ;i = i + 1;end %Initializing fourth column ofD_2 with zeros
u

v

= 0; = 1;

r = N_f- 1; fori= N_f:-1:1 foro= ((N_f*N_f)-(v*N_f))+1:(N_f*N_f)-(u*N_f) s =o; if r >= 1 D_2(i,4) = (Kho_1"r * Km_6(o)) + D_2(i,4); %P2K_m6 end if s == ((N_f*N_f)-(u*N_f)) D_2(i,4) = Km_6(o) + D_2(i,4); %K_m6 end r = r- 1; end r = (N_f- 1); v = v + 1; u = u + 1; end D_2=AVE*D_2;

223

APPENDIX II: MATLAB SUBROUTINES FOR HEAT EXCHANGER FOULING AND FOULING DETECTION MODELS 1. Plate-fin (finned) model (nonlinear)
clear; de;

% CLEAN HEAT EXCHANGER MODEL N_f = 5;% No. of lumps OR No. of fins xi= 0;% Variable parameter that locates the state with respect to the input or output % Air properties and constants R=639.6;% Gas constant in in.lb/lb.deg. R gamma=1.4;% Heat capacity ratio g=32.174;% gravity acceleration ft/s""2 % Atmospheric Conditions Ta=130;% Ambient temperature in deg. F Pa=14.7;% Ambient pressure in psia Mach=0.3;% Mach number % Bleed Air conditions P_hin=30;% Bleed air inlet pressure in psig P _hi=P_hin+ Pa;% Bleed air inlet pressure in psia M_h= 6.5/60; %0.0109;% Total bleed flow rate in lb/sec T_hi= 380% Bleed air inlet temperature in deg. F Cp_h=0.24;% Hot air specific capacity in Btu/lb.degR or Btu/lb.degF % Ram Air conditions F_rec=0.7;% Recovery factor T_ci= (Ta + 460)*(1 + 0.2*Mach""2))-460;% Ram air inlet temperature in deg. F P _ci=(Pa * ((1 + 0.2*Mach""2)""3.5)-Pa)*F_rec + Pa;% Ram air inlet pressure in psia A_i= 18.6; %Area of ram air inlet scoop in in""2 M_c= Pa/(R*(Ta+457.67)))*Mach*sqrt(gamma*R*(Ta+459.67))*A_i;% Total bleed flow rate in lb/sec Cp_c=0.24; % Cold air specific capacity in Btu/lb.degR or Btu/lb.degF
0 /o******************************************************************************** %****************** STEADY STATE CALCULATIONS ************************** o;.,********************************************************************************

lT_co,T_ho,In_1,In_2,X,NTU]=HX_steady(T_hi,T_ci,M_h,M_c,N_f,xi); 'Yo Call steady state heat exchanger routine % Assign the states to the relevant variables i=1;j=1;n=1;for n = n:3:(3*N_f*N_f),T_w(i,j) = X(n,1);i = i + 1;end i=1;j=1;n=2;for n = n:3:(3*N_f*N_f),T_f1(i,j) = X(n,1);i = i + 1;end i=1;j=1;n=3;for n = n:3:(3*N_f*N_f),T_f2(i,j) = X(n,1);i = i + 1;end fprintf(\n'); disp(Steady state bleed air temperature at the heat exchanger outlet:'); T_ho fprintf(\n'); disp(Steady state Ram air temperature at the heat exchanger outlet:'); T_co fprintf(\n \n');
0 /o******************************************************************************** %******************NON LINEAR MODEL SIMULATION ********************** 0 /o********************************************************************************

% initialize model simulation X_ss =X; T _hat = X_ss; theta_hat = 0.01* rand(4,1); %pure random process i.e w_theta 2* rand(4,1); X_hat = cat(1,theta_hat,T_hat); P = blkdiag((0.01 ""2 * eye(4)), (2 * eye(3 * N_f * N_f))); X= X_hat + (sqrt(P) * randn(((3 * N_f* N_f) + 4),1));% Normally distributed initial conditions x(O) = N(x_hat(O),P(O))

224

% introduce reference values T_hi_st = T_hi; T_ci_st = T_ci; M_h_st = M_h; M_c_st = M_c; if(M_h_st < 0.25 && M_c_st < 0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; elseif (M_h_st > 0.25 && M_c_st < 0.1083333) C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; elseif (M_h_st < 0.25 && M_c_st > 0.1083333) C1=0.9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; elseif (M_h_st > 0.25 && M_c_st > 0.1083333) C1=0.780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; end H_c_st = C3 * M_c_st"C4; H_h_st = C1 * M_h_st"C2; % HEAT EXCHANGER VALUES PER UNIT CELL BASIS XI= Yl = dx = dy = 1;% Total length in x-direction 1;% Total length in y-direction X!IN_f; % Length of each lump in x-direction Yl/N_f;% Length of each lump in y-direction

% Plate and fin geometric parameters for a typical aircraft heat exchanger configuration %Heat transfer surfaces-------- Bleed air 118-19.82 % --------Ram air 3132-12.22 eta = 0.00402; % fin thickness in inches Lf_c = 0.484 / 2; % Length of fin 1 in cold ram air%% Plate spacing divide by 2 Lf_h = 0.205 I 2; % Length of fin 2 in hot bleed air %% Plate spacing divide by 2 tp = 0.0236; % plate thickness % Plate & Fin Conditions %%%Fin 1 --------> fin in the cold ram air flow %%% %%%Fin 2 --------> fin in the hot bleed air flow%%% dens= 0.1;% Aluminium density in lblin"3 Vp =XI* Yl * tp;% Volume of plate in in"3 Vfl =XI* eta* Lf_c;% Volume of fin 1 in in"3 Vf2 = Yl *eta* Lf_h;% Volume of fin 2 in in"3 M_w = dens* Vp;% Total Mass of plate in lb M_fl = dens * Vfl %* N_f;% Total Mass of fin 1 in lb M_f2 =dens* V£2 %* N_f;% Total Mass of fin 2 in lb C_w= 0.214;%0.65;% wall specific thermal capacity in Btullb.degR or Btullb.degF C_fl= 0.214;%0.65;% fin 1 specific thermal capacity in Btullb.degR or Btullb.degF C_f2= 0.214; %0.65;% fin 2 specific thermal capacity in Btullb.degR or Btullb.degF Cp_h=0.24;% Hot air specific capacity in Btullb.degR or Btullb.degF Cp_c=0.24; % Cold air specific capacity in Btullb.degR or Btullb.degF % Mass of plate and fins m_w = M_w * (dx I XI) * (dy m_fl = M_fl * (dx I XI); m_£2 = M_f2 * (dy I Y!);

I

Y!);

225

% Surface areas of plate and fins as_c = ((2 * tp) + ( 2 * dy)) * dx; as_h = ((2 * tp) + ( 2 * dx)) * dy; af_c = (Lf_c * eta) * dx; af_h = (Lf_h * eta) * dy; % Reference Heat transfer coefficients h_c_st = H_c_st * (dx I XI)* (dy I YI); h_h_st = H_h_st * (dx I XI)* (dy I YI); % Reference Mass flow rates m_c_st = M_c_st * (dy I YI); m_h_st = M_h_st * (dx I XI); a_st = (h_c_st * as_c) I (m_c_st * Cp_c ); %(h_c * as_c * dx) I (m_c * Cp_c *X); b_st = (2 * h_c_st * af_c) I (m_c_st * Cp_c); %(2 * h_c * af_c * dx) I (m_c * Cp_c * X); c_st = (h_h_st * as_h) I (m_h_st * Cp_h ); % (h_h * as_h * dy) I (m_h * Cp_h * Y); d_st = (2 * h_h_st * af_h) I (m_h_st * Cp_h ); %(2 * h_h * af_h * dy) I (m_h * Cp_h * Y); parameter = [a_st;b_st;c_st;d_st]; % Reference parameters % Non linear model simulation start fprintf(\n'); interval= input('\nENTER THE DURATION OF THE SIMULATION [SECOND]:'); fprintf(\n'); Simu = 1; % Clean Heat Exchanger Simulation Dt = 0.05; %Simulation time step Print_interval = 0.51Dt; %Print output after every 0.5 seconds i.e. after every ten samples record the output t = O:Dt*Print_interval:interval; % time from start of clean period to end of clean period % initialize plotting values plot_index=1; T_hi_p(plot_index) = T_hi; T_ci_p(plot_index) = T_ci; M_c_p(plot_index) = M_c; M_h_p(plot_index) = M_h; T_ho_pt(plot_index) = T_ho; T_co_pt(plot_index) = T_co; T_ho_pm(plot_index) = T_ho; T_co_pm(plot_index) = T_co; T_ho_pe(plot_index) = T_ho; T_co_pe(plot_index) = T_co; a_st_pt(plot_index) = a_st; b_st_pt(plot_index) = b_st; c_st_pt(plot_index) = c_st; d_st_pt(plot_index) = d_st; a_st_pm(plot_index) = a_st; b_st_pm(plot_index) = b_st; c_st_pm(plot_index) = c_st; d_st_pm(plot_index) = d_st; a_st_pe(plot_index) = a_st; b_st_pe(plot_index) = b_st; c_st_pe(plot_index) = c_st; d_st_pe(plot_index) = d_st; %Estimated states plots P _p(plot_index) = P(6,1); %Average matrix for j=1:N_f AVE(1,j)=1IN_f; end % Set up varying input signals % input signals change after every single time step (Dt) i.e there are (interval/Dt)l(interval/(Dt*Print_interval))signals with range ... T_ci = randint(1,((interval + (Dt*Print_interval))I(Dt*Print_interval)),[19,23]); % range- min 110, max 130 T_hi = randint(1,((interval + (Dt*Print_interval))I(Dt*Print_interval)),[370,385]); % range- min 370, max 390 M_c = 0.095 + (0.11-0.095) * rand(1,((interval + (Dt*Print_interval))I(Dt*Print_interval)));% range- min 0.01725, max 0.270 M_h = (6.0160) + ((6.7160)-(6.0160)) * rand(1,((interval + (Dt*Print_interval))I(Dt*Print_interval)));% range- min 1.1160, max 11160 %core program (executes every time step) q = 0;
s
r

= 1; = 1;

int = 0; % start time of clean period int_f = -interval; % start time of clean period

226

dim_int(plot_index) = int/interval; % dimensionless time from start of clean period dim_int_f(plot_index) = (int_f/interval);% dimensionless time from start of clean period sample= 0; s_p(plot_index) = sample; forint = O:(Dt*Print_interval):(interval-Dt) % re-initialize model simulation for each different input signal T_hat = X((5:((3 * N_f* N_£)+4)),1); %X_ss; theta_hat = X((1:4),1); %pure random process i.e w_theta 0* rand(4,1); %0.01* rand(4,1); X_hat = cat(1,theta_hat,T_hat); P = blkdiag((0.01"2 * eye(4)), (2 * eye(3 * N_f* N_f))); X = X_hat + (sqrt(P) * randn(((3 * N_f * N_f) + 4),1)); %Normally distributed initial conditions x(O) = N (x_hat(O),P(O)) % Discretize input signals U1 = T_ci(1,r); U2 = T_hi(1,r); U = [U1;U2]; M_ci = M_c(1,r); M_hi = M_h(1,r); % Continous non linear model forint = q:Dt:(s *(Dt*Print_interval)-Dt) % Calculate the ABCD matrices for the chosen flow regime updating the values for every change in X [A,B,C_1 ,C_2,D_1 ,D_2,a_st_t,b_st_t,c_st_t,d_st_t,a_st_tc,b_st_tc,c_st_tc,d_st_tc,I n_1 ,ln_2] = HX_unsteadyf(U2,U1,M_hi,M_ci,N_f,xi,int,Simu); % Call unsteady state heat exchanger routine %Correct size of A,B,C_1,C_2,D_1,D_2 by including the purely random process, w_theta A = vertcat(zeros(4,(3 * N_f * N_f)),A); A = horzcat(zeros(((3 * N_f * N_f) + 4),4),A); B = vertcat(zeros(4,2),B); C_1 = horzcat(zeros(5,4),C_1); C_2 = horzcat(zeros(5,4),C_2); % Combine C_1, C_2 as one matrix C m= 1; for i = 1:2:(2*N_f) for j = 1:((3*N_f*N_f)+4) C(i,j) = C_1(m,j); i = i + 1; C(i,j) = C_2(m,j); i = i- 1; end m = m + 1; end %Combine 0_1, 0_2 as one matrix D m 1; for i = 1:2:(2*N_f) for j = 1:2

=

D(i,j) = D_1(m,j); i i + 1;

=
=

D(i,j) = D_2(m,j); i i- 1; end m = m + 1; end %Predict the state vector X = X + (A *X + B*U)*Dt; % Add process noise to the states

227

c = 10"-8;% variable to optimize the covariance matrix Q_theta Q_theta = c * eye(4);% covariance matrix Q_theta w_theta = sqrt(Q_theta) * randn (4,1); % normal distributed white noise process with zero mean and covariance matrix Q_theta i.e. w_theta = N(O,Q_theta) Q_t = 0.1 * eye(3 * N_f * N_t); % covariance matrix Q_t % 1 w_t = sqrt(Q_t) * randn ((3 * N_f * N_t),1); % normal distributed white noise process with zero mean and covariance matrix Q_t i.e. w_t = N(O,Q_t) % Calculate Q(t) and w(t) Q = blkdiag(Q_theta, Q_t); w = cat(1,w_theta,w_t); X=X+w;
0 ;(,Fiow correction and Temperature correction a_st_tc = a_st_tc * (h_c_st/m_c_st);%* (U1/T_ci_st)"-1; b_st_tc = b_st_tc * (h_c_st/ m_c_st);%* (U 1/T_ci_st)" -1; c_st_tc = c_st_tc * (h_h_st/m_h_st);%* (U2/T_hi_st)"-1 ; d_st_tc = d_st_tc * (h_h_st/m_h_st);%* (U2/T_hi_st)" -1;

parameter_tc = [a_st_tc;b_st_tc;c_st_tc;d_st_tc]; % Estimate the measured parameters parameter_m = [a_st_tc;b_st_tc;c_st_tc;d_st_tc] + w_theta; a_st_m = parameter_m(1,1); b_st_m = parameter_m(2,1); c_st_m = parameter_m(3,1); d_st_m = parameter_m(4,1); % Extrapolate the most recent state estimate to the present time X_hat = X_hat + (A *X_hat + B*U)*Dt; parameter_e = [a_st_tc;b_st_tc;c_st_tc;d_st_tc] + [X_hat(1, 1);X_hat(2, 1);X_hat(3, 1);X_hat(4,1 )]; a_st_e = parameter_e(1,1); b_st_e = parameter_e(2,1); c_st_e = parameter_e(3,1); d_st_e = parameter_e(4,1); parameter_t = [a_st_t;b_st_t;c_st_t;d_st_t] + [X_hat(1, 1);X_hat(2, 1);X_hat(3, 1);X_hat(4,1)]; a_st_t = parameter_t(1,1); b_st_t = parameter_t(2,1); c_st_t = parameter_t(3,1); d_st_t = parameter_t(4,1);
% Calculate the F and H matrices for the chosen flow regime updating the values for every change in X_hat if(M_hi < 0.25 && M_ci <0.1083333)

C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; [F,H]=FHf (U2,U1,M_hi,M_ci,X_hat,In_1,1n_2,C1,C2,C3,C4,N_f,xi,int,Simu); elseif(M_hi > 0.25 && M_ci < 0.1083333) C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; [F,H]=FHf (U2,U1,M_hi,M_ci,X_hat,In_1,In_2,C1,C2,C3,C4,N_f,xi,int,Simu); elseif (M_hi < 0.25 && M_ci > 0.1083333) c 1=0.9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; [F,H] = FHf (U2, U1,M_hi,M_ci,X_hat,I n_1 ,In_2,C 1,C2,C3,C4,N_f,xi,int,Simu); elseif (M_hi > 0.25 && M_ci > 0.1083333) C1=0.780612787;; C2=0.6979; C3=0.822244343; C4=0.6044;

228

[F,H]=FHf (U2,U1,M_hi,M_ci,X_hat,ln_1,1n_2,C1,C2,C3,C4,N_f,xi,int,Simu); end % Extrapolate the most recent error covariance estimate to the present time P = ((P*F) + (P*transpose(F)))*Dt + Q; int = int + Dt; end % Discrete Non linear model % Calculate Output Y1 = C_1*X + D_1*U; Y2 = C_2*X + D _2*U; Y1_A =AVE* Y1; Y2_A =AVE* Y2; Y = C*X + D*U;% True output % Measurement model Q_z = 0.1 * eye(lO); w_z = sqrt(Q_z) * randn (10,1); Z = Y + w_z;% Measured output i=1;j=1;n=1;for n = n:2:(2*N_f),Z1(i,j) = Z(n,1);i = i + 1;end 'Yo Getting the measured cold outlet temperatures i=1;j=1;n=2;for n = n:2:(2*N_f),Z2(i,j) = Z(n,1);i = i + 1;end% Getting the measured hot outlet temperatures Z1_A =AVE* Z1; Z2_A =AVE* Z2; % Kalman Gain Matrix K = (P*transpose(H))*((H*P*transpose(H)) + Q_z)"(-1); % State estimate update X_hat = X_hat + (K*(Z - (C*X_hat))); Y_hat = C*X_hat + D*U; %Estimated output i=1;j=1;n=1;for n = n:2:(2*N_f),Y_hat1(i,j) = Y_hat(n,1);i = i + 1;end% Getting the estimated cold outlet temperatures i=1;j=1;n=2;for n = n:2:(2*N_f),Y_hat2(i,j) = Y_hat(n,1);i = i + 1;end% Getting the estimated hot outlet temperatures Y_hat1_A =AVE* Y_hat1; Y_hat2_A = AVE * Y_hat2; % Error Covariance estimate update P = (eye((3*N_f*N_f)+4) - K*H)*P;
q
r

= q + 0.5;
= r + 1;

s = s + 1; sample = sample + 1;

int_f = int_f + (Dt*Print_interval); plot_index = plot_index + 1; dim_int(plot_index) = int/interval; dim_int_f(plot_index) = int_f/interval; %Record data for plot s_p(plot_index) = sample; % Input signals T_ci_p(plot_index) = U1; T_hi_p(plot_index) = U2; M_c_p(plot_index) = M_ci; M_h_p(plot_index) = M_hi; %True Output plots T_co_pt(plot_index) = Y1_A; T_ho_pt(plot_index) = Y2_A; %Measured Output plots T_co_pm(plot_index) = Z1_A;

229

T_ho_pm(plot_index) = Z2_A; %Estimated Output plots T_co_pe(plot_index) = Y_hat1_A; T_ho_pe(plot_index) = Y_hat2_A; % True Parameters plots a_st_pt(plot_index) = a_st_t; b_st_pt(plot_index) = b_st_t; c_st_pt(plot_index) = c_st_t; d_st_pt(plot_index) = d_st_t; % Measured Parameters plots a_st_pm(plot_index) = a_st_m; b_st_pm(plot_index) = b_st_m; c_st_pm(plot_index) = c_st_m; d_st_pm(plot_index) = d_st_m; % Estimated Parameters plots a_st_pe(plot_index) = a_st_e; b_st_pe(plot_index) = b_st_e; c_st_pe(plot_index) = c_st_e; d_st_pe(plot_index) = d_st_e; %Estimated states plots P _p(plot_index) = P(6,1); end %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% %%%%%%%%%%%%%%%%%%%% CUSUM TEST of estimated parameters %%%%%%%%%%%%%%%%%%%%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% n_c = floor(((interval)/(Dt*Print_interval))* (1/20)); %number of samples equal to 1/nth of the clean period n_ci = n_c; n_ca = (2* n_c)-1; lk = floor(((interval) / (Dt*Print_interval))* (1 /20)); k = 1; for clean= n_c:1:(interval*(1/(Dt*Print_interval)))+ 1 % Moving Mean (xbar) of estimated parameters for every nth samples a_st_me = (sum(a_st_peQk:n_ca)))/n_ci; a_st_pme(k) = a_st_me; b_st_me = (sum(b_st_peQk:n_ca)))/n_ci; b_st_pme(k) = b_st_me; c_st_me = (sum(c_st_peQk:n_ca)))/n_ci; c_st_pme(k) = c_st_me; d_st_me = (sum(d_st_peQk:n_ca)))/n_ci; d_st_pme(k) = d_st_me; % Standard deviation of estimated parameters % Moving standard deviation (s_mov) of estimated parameters for every nth samples sm_a_st_e = sqrt(((sum((a_st_peQk:n_ca))."2))- (((sum(a_st_pe(lk:n_ca)))" 2)/n_ci)) /(n_ci- 1)); sm_a_st_pe(k) = sm_a_st_e; sm_b_st_e = sqrt(((sum((b_st_pe(lk:n_ca)) ."2))- (((sum(b_st_peQk:n_ca)))"2)/n_ci)) /(n_ci - 1)); sm_b_st_pe(k) = sm_b_st_e; sm_c_st_e = sqrt(((sum((c_st_peQk:n_ca))."2))- (((sum(c_st_pe(lk:n_ca)))"2)/n_ci)) /(n_ci- 1)); sm_c_st_pe(k) = sm_c_st_e; sm_d_st_e = sqrt(((sum((d_st_pe(lk:n_ca))."2))- (((sum(d_st_pe(lk:n_ca)))"2)/n_ci)) /(n_ci- 1)); sm_d_st_pe(k) = sm_d_st_e; % Moving mean flow rate values M_c_pme = (sum(M_c_p(lk:n_ca)))/n_ci; M_h_pme = (sum(M_h_p(lk:n_ca)))/n_ci; if (n_ca < ((interval*(1/(Dt*Print_interval)))+ 1)) n_ca = n_ca + 1; n_c = n_c + 1;

230

k = k + 1; lk = lk + 1; end

end % Moving Mean (xbar) of estimated parameters by finding the average of all nth samples m_a_st_pme = mean(a_st_pme); m_b_st_pme = mean(b_st_pme); m_c_st_pme = mean(c_st_pme); m_d_st_pme = mean(d_st_pme); par_pme

= [m_a_st_pme;m_b_st_pme;m_c_st_pme;m_d_st_pme];

% Moving std. deviation of estimated parameters by finding the average of all nth samples m_sm_a_st_pe = mean(sm_a_st_pe); m_sm_b_st_pe = mean(sm_b_st_pe); m_sm_c_st_pe mean(sm_c_st_pe); m_sm_d_st_pe = mean(sm_d_st_pe);

=

par_pmse

= [m_sm_a_st_pe;m_sm_b_st_pe;m_sm_c_st_pe;m_sm_d_st_pe];

% Fixed standard deviation (s_fix) of estimated parameters i.e last nth of the cleaning period sfix_a_st_e = sm_a_st_pe(k- 1); sftx_b_st_e = sm_b_st_pe(k- 1); sftx_c_st_e = sm_c_st_pe(k- 1); sftx_d_st_e = sm_d_st_pe(k- 1); par_psfixe = [sftx_a_st_e;sfix_b_st_e;sfix_c_st_e;sftx_d_st_e]; figure(1); plot(dim_int_f,T_ho_pt); %plot(dim_int_f,T_ho_pt); plot(t,T_ho_pt); grid; xlabel(Dimensionless time') %xlabel(sample no.')xlabel('Time (sec)') ylabel(Bleed air outlet temperature- T_h_o (deg. F)') title(Bleed air outlet temperature (T_h_o) response') hold all plot(dim_int_f,T_ho_pe); hold all figure(2); subplot(3, 1,1 ); plot(dim_int_f,a_st_pe) % title('Estimated parameters response') % ylabel('Estimated ram air parameter a_e (dimensionless)') hold all plot(dim_in t_f,a_st_pt); hold all subplot(3, 1,2); plot(dim_int_f,c_st_pe); ylabel(Estimated bleed air parameter c_e (dimensionless)') xlabel('Dimensionless time') hold all plot(dim_int_f,c_st_pt); hold all figure(3); subplot(2, 1,1); plot(dim_int_f,T_hi_p); %plot(t,T_ho_pt); grid; title(Inlet temperatures') ylabel(Bleed air inlet temperature- T_h_i (deg. F)') hold all subplot(2, 1,2); plot(dim_int_f,T_ci_p); grid; xlabel(Dimensionless time') %xlabel(Dimensionless time')xlabel('Time (sec)') ylabel(Ram air inlet temperature- T_c_i (deg. F)')

% %

231

hold all figure(4); subplot(2, 1, 1); plot(dim_int_f,M_h_p); %plot(t,T_ho_pt); grid; title(Mass flow rates') ylabel(Bleed air flow rate- M_h (deg. F)') hold all subplot(2, 1,2); plot(dim_int_f,M_c_p); grid; ylabel(Ram air flow rate- M_c (deg. F)') xlabel(Dimensionless time')%xlabei(Dimensionless time') xlabei(Time (sec)') hold all fprintf(\n'); disp(CONFIRM SIMULATION FOR CLEAN AND FOULED HEAT EXCHANGER MODE:'); disp(l. Clean Heat Exchanger'); disp(2. Clean and Continously Fouled Heat Exchanger'); Simu=input(\nENTER THE INPUT NUMBER:'); %Start Fouling model simulation if (Simu == 2) Simu = 2; FouledSimulationHX(U1,U2,Y1_A,Y2_A,M_ci,M_hi,X,X_hat,P,a_st_e,b_st_e,c_st_e,d_st_e,intervai,Simu,par_pme,par_pmse,par_psfixe); end

FouledSimulationHX m
function FouledSimulationHX(T_ci_c,T_hi_c,T_co_c,T_ho_c,M_c_c,M_h_c,X_c,X_hat_c,P_c,a_st_c,b_st_c,c_st_c,d_st_c,intervalc,Simu,X_BAR,S_MOV,S_ FIX); %CONTINUOUSLY FOULED HEAT EXCHANGER N_f = 5; %No. of lumps OR No. of fins xi= 0;% Variable parameter that locates the state with respect to the input or output % Air properties and constants R=639.6;% Gas constant in in.lb/lb.deg. R gamma=1.4; (Yo Heat capacity ratio g=32.174;% gravity acceleration ft/ s"2 %A tmospheric Conditions Ta=130; %Ambient temperature in deg. F Pa=14.7;% Ambient pressure in psia Mach=0.3; % Mach number % Bleed Air conditions P_hin=30;% Bleed air inlet pressure in psig P _hi=P_hin+Pa;% Bleed air inlet pressure in psia M_h= 6.5/60; %1.1/60; %0.0109;% Total bleed flow rate in lb/sec T_hi= 380;% Bleed air inlet temperature in deg. F Cp_h=0.24;% Hot air specific capacity in Btu/lb.degR or Btu/lb.degF % Ram Air conditions F_rec=O. 7; % Recovery factor T_ci= (Ta + 460)*(1 + 0.2*Mach"2))-460;% Ram air inlet temperature in deg. F P_ci=(Pa * ((1 + 0.2*Mach"2)"3.5)-Pa)*F_rec + Pa; % Ram air inlet pressure in psia A_i= 18.6; %Area of ram air inlet scoop in in"2 M_c= Pa/(R*(Ta+457.67)))*Mach*sqrt(gamma*R*(Ta+459.67))*A_i;% Total bleed flow rate in lb/sec Cp_c=0.24; % Cold air specific capacity in Btu/lb.degR or Btu/lb.degF
0 /o******************************************************************************** %****************** NON LINEAR FOULING MODEL SIMULATION *********** 0 /o********************************************************************************

% initialize model simulation with clean heat exchanger values

232

X= X_c; X_hat = X_hat_c; P = blkdiag((0.01"2 * eye(4)), (2 * eye(3 * N_f* N_f))); %P = blkdiag((0.002"2 * eye(4)), eye(3 * N_f* N_f)); % introduce reference values T _hi_st = T _hi; T_ci_st = T_ci; M_h_st = M_h; M_c_st = M_c; if(M_h_st < 0.25 && M_c_st < 0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; elseif (M_h_st > 0.25 && M_c_st < 0.1083333) C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; elseif (M_h_st < 0.25 && M_c_st > 0.1083333) C1=0.9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; elseif (M_h_st > 0.25 && M_c_st > 0.1083333) C1=0.780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; end H_c_st = C3 * M_c_st"C4; H_h_st = C1 * M_h_st"C2;

%HEAT EXCHANGER VALUES PER UNIT CELL BASIS XI= Yl = dx = dy =
1;% Total length in x-direction 1;% Total length in y-direction XIIN_f; % Length of each lump in x-direction Yl/N_f;% Length of each lump in y-direction

% Plate and fin geometric parameters for a typical aircraft heat exchanger configuration %Heat transfer surfaces-------- Bleed air 118-19.82 % --------Ram air 3132-12.22 eta = 0.00402; % fin thickness in inches Lf_c = 0.484 I 2; % Length of fin 1 in cold ram air %% Plate spacing divide by 2 Lf_h = 0.205 I 2; % Length of fin 2 in hot bleed air %% Plate spacing divide by 2 tp = 0.0236; % plate thickness

% Plate & Fin Conditions %%%Fin 1 --------> fin in the cold ram air flow %%% %%%Fin 2 --------> fin in the hot bleed air flow %%% dens = 0.1;% Aluminium density in lblin"3 Vp =XI* Yl * tp;% Volume of plate in in"3 Vfl =XI* eta* Lf_c;% Volume of fin 1 in in"3 Vf2 = Yl *eta* Lf_h;% Volume of fin 2 in in"3 M_w =dens* Vp;% Total Mass of plate in lb M_f1 =dens* Vfl %* N_f;% Total Mass of fin 1 in lb M_f2 = dens * V£2 %* N_f;% Total Mass of fin 2 in lb C_w= 0.214;%0.65;% wall specific thermal capacity in Btullb.degR or Btullb.degF C_fl= 0.214;%0.65;% fin 1 specific thermal capacity in Btullb.degR or Btullb.degF C_f2= 0.214; %0.65;% fin 2 specific thermal capacity in Btullb.degR or Btullb.degF Cp_h=0.24;% Hot air specific capacity in Btullb.degR or Btullb.degF

233

Cp_c=0.24; % Cold air specific capacity in Btullb.degR or Btullb.degF % Mass of plate and fins m_w = M_w * (dx I XI)* (dy m_f1 = M_f1 * (dx I XI); m_£2 = M_f2 * (dy I YI);

I YI);

% Surface areas of plate and fins as_c = ((2 * tp) + ( 2 * dy)) * dx; as_h = ((2 * tp) + ( 2 * dx)) * dy; af_c = (Lf_c * eta) * dx; af_h = (Lf_h * eta) * dy; % Reference Heat transfer coefficients h_c_st = H_c_st * (dx I XI)* (dy I YI); h_h_st = H_h_st * (dx I XI)* (dy I YI); % Reference Mass flow rates m_c_st = M_c_st * (dy I YI); m_h_st = M_h_st * (dx I XI); a_st = (h_c_st * as_c) I (m_c_st * Cp_c ); %(h_c * as_c * dx) I (m_c * Cp_c *X); b_st = (2 * h_c_st * af_c) I (m_c_st * Cp_c); %(2 * h_c * af_c * dx) I (m_c * Cp_c * X); c_st = (h_h_st * as_h) I (m_h_st * Cp_h ); %(h_h * as_h * dy) I (m_h * Cp_h * Y); d_st = (2 * h_h_st * af_h) I (m_h_st * Cp_h ); %(2 * h_h * af_h * dy) I (m_h * Cp_h * Y); parameter = [a_st;b_st;c_st;d_st];% Reference parameters %Non linear fouling model simulation start fprintf(\n'); intervalf = input(\nENTER THE DURATION OF THE SIMULATION [SECOND]:'); fprintf(\n'); Dt=0.05; %Simulation time step Print_interval=0.51Dt; %Print output after every 0.5 seconds i.e. after every ten samples record the output t=intervalc:Dt*Print_interval:(intervalf+intervalc); % cumulative time from clean period to end of fouling period % initialize plotting values plot_index=l; T_hi_p(plot_index) = T_hi_c; T_ci_p(plot_index) = T_ci_c; M_c_p(plot_index) = M_c_c; M_h_p(plot_index) = M_h_c; T_ho_pt(plot_index) = T_ho_c; T_co_pt(plot_index) = T_co_c; T_ho_pm(plot_index) = T_ho_c; T_co_pm(plot_index) = T_co_c; T_ho_pe(plot_index) = T_ho_c; T_co_pe(plot_index) = T_co_c; a_st_pt(plot_index) = a_st_c; c_st_pt(plot_index) = c_st_c; a_st_pm(plot_index) = a_st_c; c_st_pm(plot_index) = c_st_c; a_st_pe(plot_index) = a_st_c; c_st_pe(plot_index) = c_st_c; %Average matrix for j=1:N_f AVE(1,j)=1IN_f; end % Set up varying input signals %input signals change after every single time step (Dt) i.e there are (interval/Dt)l(intervali(Dt*Print_interval))signals with range ... T_ci = randint(1,((intervalf + (Dt*Print_interval))I(Dt*Print_interval)),(19,23]);% range- min 110, max 130 T_hi = randint(1,((intervalf + (Dt*Print_interval))I(Dt*Print_interval)),[370,380]);% range- min 370, max 390 M_c = 0.095 + (0.11-0.095) * rand(1 ,((intervalf + (Dt*Print_interval))l (Dt*Print_interval))); % range - min 0.01725, max 0.270 M_h = (6.0160) + ((6.7 160)-(6.0160)) * rand(1,((intervalf + (Dt*Print_interval))I(Dt*Print_interval)));% range- min 1.1160, max 11160 %core program (executes every time step) q =intervale;
s

b_st_pt(plot_index) = b_st_c; d_st_pt(plot_index) = d_st_c; b_st_pm(plot_index) = b_st_c; d_st_pm(plot_index) = d_st_c; b_st_pe(plot_index) = b_st_c; d_st_pe(plot_index) = d_st_c;

= 1;

234

r

= 1;

k

= 1;

Cus_a =0; Cus_b =0; Cus_c =0; Cus_d =0; Cus_ap(k)=Cus_a; Cus_bp(k)=Cus_b; Cus_cp(k)=Cus_c; Cus_dp(k)=Cus_d; int =intervale; %start time of (end of clean period) int_fp = 0; %start time of (beginning of fouling period) int_f = intervalf; % end time of fouling period required for the fouling model heat transfer coefficients calculation dim_int(plot_index) = int/ (intervalf+intervalc); % dimensionless cumulative time from end of clean period dim_int_fp(plot_index) = int_fp/intervalf;% dimensionless local time from end of clean period required for plotting dim_int_f = int_f/intervalf; % dimensionless local time from end of clean period required for the fouling model heat transfer coefficients calculation forint = intervalc:(Dt*Print_interval):(intervalf+intervalc)-Dt % re-initialize model simulation for each different input signal T_hat = X((5:((3 * N_f* N_t)+4)),1); %X_c((5:((3 * N_f * N_t)+4)),1); theta_hat = X((1:4),1); %1 * rand(4,1); %pure random process i.e w_theta X_hat((1:4),1); X_hat = cat(1,theta_hat,T_hat); P = blkdiag((0.01"2 * eye(4)), (2 * eye(3 * N_f* N_t))); %P = blkdiag((0.002"2 * eye(4)), eye(3 * N_f* N_t)); X = X_hat + (sqrt(P) * randn(((3 * N_f * N_t) + 4),1)); % Normally distributed initial conditions x(O) = N(x_hat(O),P(O)) (sqrt(P) * randn(((3 * N_f * N_t) + 4), 1));
% Discretize input signals

X_hat_c +

U1 = T_ci(1,r); U2 = T_hi(1,r); U = [U1;U2]; M_ci = M_c(1,r); M_hi = M_h(1,r); % Continous non linear model forint = q:Dt:(intervalc + (s *(Dt*Print_interval)))-Dt
% Calculate the ABCD matrices for the chosen flow regime updating the values for every change in X

[A,B,C_1 ,C_2,D_1 ,D_2,a_st_t,b_st_t,c_st_t,d_st_t,a_st_tc,b_st_tc,c_st_tc,d_st_tc,In_1 ,I n_2] = HX_unsteadyf(U 2, U1,M_hi,M_ci,N_f,xi,dim_int_f,Si mu); % Call unsteady state heat exchanger routine % Correct size of A,B,C_1,C_2,D_1,D_2 by including the purely random process, w_theta A = vertcat(zeros(4,(3 * N_f * N_t)),A); A = horzcat(zeros(((3 * N_f * N_t) + 4),4),A); B = vertcat(zeros(4,2),B); C_1 = horzcat(zeros(5,4),C_1); C_2 = horzcat(zeros(5,4),C_2); %Combine C_1, C_2 as one matrix C
m

= 1;

for i = 1:2:(2*N_t) for j = 1:((3*N_f*N_t)+4) C(i,j) = C_1 (m,j); i = i + 1; C(i,j) = C_2(m,j); i = i- 1; end m = m + 1; end %Combine D_1, D_2 as one matrix D m = 1; for i = 1:2:(2*N_t)

235

for j = 1:2 D(i,j) = D_1(m,j); i = i + 1; D(i,j) = D_2(m,j); i = i- 1; end
m

=m + 1;

end %Predict the state vector X = X + (A *X + B*U)*Dt;

o;., Add process noise to the states
c = 10"-8; (Yo vaiable to optimize the covariance matrix Q_theta Q_theta = c * eye(4);% covariance matrix Q_theta w_theta = sqrt(Q_theta) * randn (4,1); % normal distributed white noise process with zero mean and covariance matrix Q_theta i.e. w_theta = N(O,Q_theta) Q_t = 0.1 * eye(3 * N_f * N_f);% covariance matrix Q_t w_t = sqrt(Q_t) * randn ((3 * N_f * N_f),1);% normal distributed white noise process with zero mean and covariance matrix Q_t i.e. w_t = N(O,Q_t) % Calculate Q(t) and w(t) Q = blkdiag(Q_theta, Q_t); w = cat(1,w_theta,w_t); X=X+w; %Flow correction and Temperature correction a_st_tc = a_st_tc * (h_c_st/m_c_st);%* (U1/T_ci_st)"-1; b_st_tc = b_st_tc * (h_c_st/m_c_st);%* (U1/T_ci_st)"-1; c_st_tc = c_st_tc * (h_h_st/m_h_st);%* (U2/T_hi_st)"-1; d_st_tc = d_st_tc * (h_h_st/m_h_st);%* (U2/T_hi_st)"-1; parameter_tc = [a_st_tc;b_st_tc;c_st_tc;d_st_tc]; % Estimate the measured parameters parameter_m = [a_st_tc;b_st_tc;c_st_tc;d_st_tc] + w_theta; a_st_m = parameter_m(1,1); b_st_m = parameter_m(2,1); c_st_m = parameter_m(3,1); d_st_m = parameter_m(4,1); % Extrapolate the most recent state estimate to the present time X_hat = X_hat + (A*X_hat + B*U)*Dt; parameter_e = [a_st_tc;b_st_tc;c_st_tc;d_st_tc] + [X_hat(1, 1);X_hat(2, 1);X_hat(3, l);X_hat(4, 1)]; a_st_e = parameter_e(1,1); b_st_e = parameter_e(2,1); c_st_e = parameter_e(3, 1); d_st_e = parameter_e(4,1); parameter_t = [a_st_t;b_st_t;c_st_t;d_st_t] + [X_hat(1, 1);X_hat(2, 1);X_hat(3, 1);X_hat(4, 1)]; a_st_t = parameter_t(1,1); b_st_t = parameter_t(2,1); c_st_t = parameter_t(3,1); d_st_t = parameter_t(4,1); % Calculate the F and H matrices for the chosen flow regime updating the values for every change in X_hat if(M_hi < 0.25 && M_ci <0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; [F,H] = FH f (U 2, U 1,M_hi,M_ci,X_hat,I n_1 ,I n_2,C 1,C2,C3,C4,N_f,xi,dim_int_f,Simu);%int elseif (M_hi > 0.25 && M_ci < 0.1 083333)

236

C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; [F,H]=FHf (U2,U1,M_hi,M_ci,X_hat,In_1,1n_2,C1,C2,C3,C4,N_f,xi,dim_int_f,Simu); elseif (M_hi < 0.25 && M_ci > 0.1083333) C1=0.9934155638; C2=0.8718; C3=0.822244343; C4=0.6044; [F,H] = FHf (U2, U 1,M_hi,M_ci,X_hat,In_1 ,In_2,C 1,C2,C3,C4,N_f,xi,dim_int_f,Simu); elseif (M_hi > 0.25 && M_ci > 0.1083333) C1=0.780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; [F,H]=FHf (U2,U1,M_hi,M_ci,X_hat,In_1,1n_2,C1,C2,C3,C4,N_f,xi,dim_int_f,Simu); end % Extrapolate the most recent error covariance estimate to the present time P = ((P*F) + (P*transpose(F)))*Dt + Q; int = int + Dt; int_fp = int_fp + Dt; int_f = int_f- Dt; dim_int_f = int_f/intervalf; if int == ((intervalf + intervalc)-Dt) dim_int_f = 0; end end % Discrete Non linear model % Calculate Output Y1 = C_1*X + D_1*U; Y2 = C_2*X + 0 _2*U; Y1_A =AVE* Y1; Y2_A =AVE* Y2; Y = C*X + D*U;% True output % Measurement model Q_z = 0.1 * eye(10); w_z = sqrt(Q_z) * randn (10,1); Z = Y + w_z;% Measured output i=1;j=1;n=1;for n = n:2:(2*N_f),Z1(i,j) = Z(n,1);i = i + 1;end% Getting the measured cold outlet temperatures i=1;j=1;n=2;for n = n:2:(2*N_f),Z2(i,j) = Z(n,1);i = i + 1;end% Getting the measured hot outlet temperatures Z1_A =AVE* Z1; Z2_A =AVE* Z2; % Kalman Gain Matrix K = (P*transpose(H))*((H*P*transpose(H)) + Q_z)"(-1); % State estimate update X_hat = X_hat + (K*(Z - (C*X_hat))); Y_hat = C*X_hat + D*U; %Estimated output i=1;j=1;n=1;for n = n:2:(2*N_f),Y_hat1(i,j) = Y_hat(n,1);i = i + 1;end% Getting the estimated cold outlet temperatures i=1;j=1;n=2;for n = n:2:(2*N_f),Y_hat2(i,j) = Y_hat(n,1);i = i + 1;end% Getting the estimated hot outlet temperatures Y_hat1_A = AVE * Y_hat1; Y_hat2_A = AVE * Y_hat2; % Error Covariance estimate update P = (eye((3*N_f*N_f)+4) - K*H)*P; %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% %%%%%%%%%%%%%%%%% CUSUM TEST of estimated parameters %%%%%%%%%%%%%%%%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

237

'Yo Moving mean from clean period x_bar_a = X_BAR(1,1); x_bar_b = X_BAR(2,1); x_bar_c = X_BAR(3,1); x_bar_d = X_BAR(4,1);
% Moving standard deviation from clean period s_a = S_MOV(1,1); s_b = S_MOV(2,1); s_c = S_MOV(3,1); s_d = S_MOV(4,1); %confidence interval g = 1.96; h 1.96; n_c = floor(((intervalc)/(Dt*Print_interval))* (1/20));

=

% Find all other Cusum values Cus_a = max(O,x_bar_a- a_st_e- (g*(s_a/sqrt(n_c))) + Cus_a); Cus_b = max(O,x_bar_b- b_st_e- (g*(s_b/sqrt(n_c))) + Cus_b); Cus_c = max(O,x_bar_c- c_st_e- (g*(s_c/sqrt(n_c))) + Cus_c); Cus_d = max(O,d_st_e- x_bar_d- (g*(s_d/sqrt(n_c))) + Cus_d);
k

= k + 1;

Cus_ap(k)=Cus_a; Cus_bp(k) =Cus_b; Cus_cp(k)=Cus_c; Cus_dp(k)=Cus_d; % Fi.xed standard deviation from clean period % s_a = S_FIX(1,1); % s_b = S_FIX(2,1); % s_c = S_FIX(3,1); % s_d = S_FIX(4,1); o ;o % Cus_a(k) = max(O,a_st_e - x_bar_a - (g*s_a) + Cus_a(k)); % Cus_b(k) = max(O,b_st_e- x_bar_b- (g*s_b) + Cus_b(k)); % Cus_c(k) = max(O,c_st_e - x_bar_c - (g*s_c) + Cus_c(k)); 0 ;(, Cus_d(k) = max(O,d_st_e - x_bar_d - (g*s_d) + Cus_d(k));
q=q
r

=r + 1;

+ 0.5;

s

= s + 1;

int_f = int_f + (Dt*Print_intervai)-(Dt*Print_interval); plot_index = plot_index + 1; dim_int(plot_index) = int/(intervalf+intervalc); dim_int_fp(plot_index) = int_fp/intervalf; %Record data for plot % Input signals T_ci_p(plot_index) = U1; T_hi_p(plot_index) = U2; M_c_p(plot_index) = M_ci; M_h_p(plot_index) = M_hi; %True Output plots T_co_pt(plot_index) = Y1_A; T _ho_pt(plot_index) = Y2_A; %Measured Output plots T_co_pm(plot_index) = Z1_A; T_ho_pm(plot_index) = Z2_A; %Estimated Output plots T _co_pe(plot_index) = Y_hat1_A; T_ho_pe(plot_index) = Y_hat2_A; % True Parameters plots a_st_pt(plot_index) = a_st_t; b_st_pt(plot_index) = b_st_t; c_st_pt(plot_index) = c_st_t; d_st_pt(plot_index) = d_st_t; % Measured Parameters plots

238

a_st_pm(plot_index) = a_st_m; b_st_pm(plot_index) = b_st_m; c_st_pm(plot_index) = c_st_m; d_st_pm(plot_index) = d_st_m; % Estimated Parameters plots a_st_pe(plot_index) = a_st_e; b_st_pe(plot_index) b_st_e; c_st_pe(plot_index) = c_st_e; d_st_pe(plot_index) = d_st_e; %Estimated states plots

=

end figure(1); plot(dim_int_fp,T_ho_pt); %plot(dim_int_f,T_ho_pt); plot(t,T_ho_pt); grid; xlabelCDimensionless Time') %xlabe!CDimensionless time')xlabel(fime (sec)') ylabe!CBleed air outlet temperature- T_h_o (deg. F)') titleCBleed air outlet temperature (T_h_o) response') hold all plot(dim_int_fp,T_ho_pe); hold all figure(2); subplot(3, 1,1 ); plot(dim_int_fp,a_st_pe) % title('Estimated parameters response') % ylabe!CEstimated ram air parameter a_e (dimensionless)') hold all plot(dim_int_fp,a_st_pt); hold all subplot(3, 1,2); plot(dim_int_fp,c_st_pe); ylabelCEstimated bleed air parameter c_e (dimensionless)') xlabe!CDimensionless time') hold all plot(dim_int_fp,c_st_pt); hold all su bplot(3, 1,3); plot(dim_int_fp,Cus_ap); grid; % xlabe!CDimensionless Time') % ylabe!CCuSum Values') % title('Cumulative sum tests for estimated parameters') hold all plot(dim_int_fp,Cus_cp); hold all figure(3); subplot(2, 1,1 ); plot(dim_int_fp,T_hi_p); %plot(t,T_ho_pt); grid; titleCJnlet temperatures') ylabel('Bleed air inlet temperature- T_h_i (deg. F)') hold all subplot(2,1,2); plot(dim_int_fp,T_ci_p); grid; xlabe!CDimensionless Time') %xlabelCDimensionless time')xlabelCTime (sec)') ylabel('Ram air inlet temperature- T_c_i (deg. F)') hold all figure(4); subplot(2, 1,1 ); plot(dim_int_fp,M_h_p); %plot(t,T_ho_pt); grid;

% %

239

title(Mass flow rates') ylabei(Bieed air flow rate- M_h (deg. F)') hold all subplot(2, 1,2); plot(dim_int_fp,M_c_p); grid; ylabei(Ram air flow rate- M_c (deg. F)') xlabei(Dimensionless Time') 1Yoxlabei(Dimensionless time') xlabei('Time (sec)') hold all

HX unsteadyfm
function [A,B,C_1 ,C_2,0_1 ,0 _2,a,b,c,d,a_st,b_st,c_st,d_st,ln_1 s,I n_2s] = HX_unsteadyf(T_his,T_cis,M_hs,M_cs,N_f,xi,dim_int_f,Simu); N_x = N_f; % No. of totallumps(fins) in x-direction N_y = N_f; % No. of total lumps (fins) in y-direction N_t = N_x * N_y; % Total no. of lumps X= 1;% Total length in x-direction Y = 1;% Total length in y-direction dx = XIN_f; % Length of each lump in x-direction dy = Y IN_f; % Length of each lump in y-direction % Node numbering n = 1; fori= N_y:-1:1, for j = 1:N_x, N(i,j) = n; n = n + 1; end, end % Plate and fin geometric parameters for a typical aircraft heat exchanger configuration % Heat transfer surfaces-------- Bleed air 118-19.82 % --------Ram air 3132-12.22 eta = 0.00402; % fin thickness in inches Lf_c = 0.484 I 2; % Length of fin 1 in cold ram air %% Plate spacing divide by 2 Lf_h = 0.205 I 2; % Length of fin 2 in hot bleed air %% Plate spacing divide by 2 tp = 0.0236; % plate thickness % Plate & Fin Conditions %%%Fin 1 --------> fin in the cold ram air flow %%% 0 !.t%%Fin 2 --------> fin in the hot bleed air flow %%% dens = 0.1; % Aluminium density in Iblin"3 Vp =X * Y * tp; % Volume of plate in in"3 Vfl =X * eta* Lf_c; % Volume of fin 1 in in"3 Vf2 = Y * eta* Lf_h; % Volume of fin 2 in in" 3 M_w =dens* Vp; % Total Mass of plate in lb M_fl = dens * Vfl %* N_f; % Total Mass of fin 1 in lb M_f2 = dens * Vf2 %* N_f; % Total Mass of fin 2 in lb C_w= 0.214;%0.65; % wall specific thermal capacity in Btullb.degR or Btullb.degF C_fl= 0.214;%0.65; % fin 1 specific thermal capacity in Btullb.degR or Btullb.degF C_f2= 0.214; %0.65; % fin 2 specific thermal capacity in Btullb.degR or Btullb.degF Cp_h=0.24; % Hot air specific capacity in Btullb.degR or Btullb.degF Cp_c=0.24; % Cold air specific capacity in Btullb.degR or Btullb.degF % Total heat transfer coefficients as funtions of mass flow rates in % Btuls.in"2.degF if(M_hs < 0.25 && M_cs < 0.1083333) C1=0.993415638; C2=0.8718; C3=0.52682216; C4=0.4041; elseif (M_hs > 0.25 && M_cs < 0.1083333) C1=0.780612787; C2=0.6979; C3=0.52682216; C4=0.4041; elseif (M_hs < 0.25 && M_cs > 0.1083333) c 1=0.9934155638;

240

C2=0.8718; C3=0.822244343; C4=0.6044; elseif (M_hs > 0.25 && M_cs > 0.1083333) C1=0.780612787;; C2=0.6979; C3=0.822244343; C4=0.6044; end H_c = C3 * M_cs"C4; H_h = C1 * M_hs"C2; % Fouling model Total heat transfer coefficients if (Simu == 2) c_flc = 0.67; 'Yo indicates the value ofH_fouling as a percent of H_clean from a clean heat exchanger at the end of the time series [0-1] c_f2c = 1;% indicates when the fouling will start sc = 0.001; % level of fouling depreciation ie slope of fouling curve 'Y., lowering value of p(increasing the negative slope of curve) will increase the level of fouling [0-1] gc = (acos(c_flc))l (sc- floor(sc*c_f2c) + 1); %constant he = -gc*(floor(sc*c_f2c) + 1);% constant c_fl h = 0. 72; % indicates the value of H_fouling as a percent of H_clean from a clean heat exchanger at the end of the time series [0-1] c_f2h = 1; % indicates when the fouling will start ;., lowering value of p(increasing the negative slope of curve) will increase the sh = 0.001; % level of fouling depreciation ie slope of fouling curve o level offouling [0-1] gh = (acos(c_f1h))l (sh- floor(sh *c_f2h) + 1); %constant hh = -gh*(floor(sh*c_f2h) + 1);% constant t = dim_int_f; %int H_c = C3 * M_cs"C4; H_h = C1 * M_hs" C2; % % H_c = H_c * cos(g*t + h); % H_c value after fouling H_h = H_h * cos(g*t + h); % H_h value after fouling H_c = H_c * cos(gc*t + he); % H_c value after fouling H_h = H_h * cos(gh*t + hh); % H_h value after fouling end UA_i=(1 IH_c)+(1 IH_h); UA = inv(UA_i); C_c = Cp_c * M_cs; C_h = Cp_h * M_hs; ifC_c < C_h C_min = C_c; else C_min = C_h; end NTU = UAIC_min; % HEAT EXCHANGER VALUES PER UNIT CELL BASIS % Heat transfer coefficients h_c = H_c * (dx I X) * (dy I Y); h_h = H_h * (dx I X)* (dy I Y); % Mass flow rates m_c = M_cs * (dy I Y); m_h = M_hs * (dx I X); % Mass of plate and fins m_w = M_w * (dx I X)* (dy I Y); m_fl = M_f1 * (dx I X); m_£2 = M_£2 * (dy I Y); % Surface areas of plate and fins as_c = ((2 * tp) + ( 2 * dy)) * dx; as_h = ((2 * tp) + ( 2 * dx)) * dy; af_c = (Lf_c * eta)

* dx;

241

af_h

= (Lf_h * eta) * dy;

% Evaluate coefficient terms a = (h_c * as_c) I (m_c * Cp_c ); %(h_c * as_c * dx) I (m_c * Cp_c *X); b = (2 * h_c * af_c) I (m_c * Cp_c); %(2 * h_c * af_c * dx) I (m_c * Cp_c *X); c d

=(h_h * as_h) I (m_h * Cp_h ); %(h_h * as_h * dy) I (m_h * Cp_h * Y);
= (2 * h_h * af_h ) I

(m_h * Cp_h ); 'Yo(2 * h_h * af_h * dy) I (m_h * Cp_h * Y);

0 /.,Flow correction - parameter_st represents the corrected parameter a_st = a* (m_clh_c);%a; b_st = b * (m_clh_c);%b; c_st c * (m_hlh_h); d_st = d * (m_hlh_h);

=

psi_1 psi_2 chi_1 chi_2

= (-m_c * Cp_c *(a+ (a*b))) I ( m_w * C_w * (1 +a+ b));

=(m_c * Cp_c * (a*b)) I ( m_f1 * C_f1 * (1 + a + b));

= (-m_h * Cp_h * (c + (c*d))) I ( m_w * C_w * (1 + c +d)); = (m_h * Cp_h *(c)) I ( m_f2 * C_f2 * (1 + c + d)); = (m_c * Cp_c * (a*b)) I ( m_w * C_w * (1 +a+ b)); = (-m_c * Cp_c * (b + (a*b))) I ( m_f1 * C_fl * (1 + a + b));
( m_w * C_w * (1 + c +d));

theta_1 theta_2 phi_1 phi_2

= (m_h * Cp_h * (c*d)) I

=(-m_h * Cp_h * (c + (c*d))) I ( m_f2 * C_f2 * (1 + c +d));

alpha_1 = (m_c * Cp_c * (a)) I ( m_w * C_w * (1 + a+ b)); alpha_2 = (m_c * Cp_c * (b)) I ( m_f1 * C_fl * (1 + a + b)); beta_1 = (m_h * Cp_h* (c)) I ( m_w * C_w * (1 + c + d)); beta_2 = (m_h * Cp_h *(d)) I ( m_f2 * C_f2 * (1 + c +d)); P_1 P_2 Q_1 Q_2 R_1 R_2

= (1 -(xi* (1 +a+ b))) I

= (1 -(xi* (1 + c +d))) I ((1- xi) * (1 + c +d));
= (a) I ((1- xi)* (1 + a+ b)); = (c) I ((1- xi) * (1 + c + d)); = (b) I ((1- xi) * (1 + a + b)); = (d) I ((1- xi) * (1 + c + d));

((1- xi) * (1 + a+ b));

%Wall equation coefficients Kw_1 = psi_1 + chi_1; Kw_2 theta_1; Kw_3 = phi_1; Kw_4 = alpha_1; Kw_S = beta_1;

=

% Fin 1 equation coefficients Kf_1 = theta_2; Kf_2 = psi_2; Kf_3 alpha_2;

=

% Fin 2 equation coefficients Kf_a = phi_2; Kf_b = chi_2; Kf_c = beta_2; % Ram air output coefficients Kco_1 = P_1; Kco_2 = Q_1; Kco_3 = R_1; % Bleed air output coefficients Kho_1 = P_2; Kho_2 = Q_2; Kho_3 = R_2;

242

%Dt= (h_c * as_c * (1 +a+ b)) / ( m_w * C_w * -(1 + b)); %Average matrix for j=1:N_f AVE(1,j)=1/N_f; end %-----------STEADY STATE- STATE SPACE MODEL REPRESENTATION-----------% / o---------------------- ------------- Ax + Bu = 0 ; Y = Cx + Du ------------------------------------- 0/ o

0

% Initializing the matrix A with zeros fori= 1:3*(N_f* N_f) for j = 1:3*(N_f * N_f) A(i,j)= 0; end end % Diagonal matrix elements inputs for v = 1:N_f row = ((v-1) * (3* N_f)) + 1; column= ((v-1) * (3* N_f)) + 1; fori = row:3:(3*N_f*v) for j = i A(i,j)= Kw_1;

j = i + 1; A(i,j)= Kw_2; j = i + 2; A(i,j)= Kw_3; end end fori= (row +1):3:(3*N_f*v) for j = i- 1 A(i,j)= Kf_2;
j =i; A(i,j)= Kf_1; end end fori = (row+2):3:(3*N_f*v) for j = i- 2 A(i,j)= Kf_b;

j =i; A(i,j)= Kf_a; end end
% Other diagonal terms k = 1; for j = column:3:((3* N_f*v)-3) fori= (row+3):3:(3*N_f*v) A(i,j)= Kw_S * Kho_1"(k-1) * Kho_2; % B1*P2*Q2 i i + 2; A(i,j) = Kf_c * Kho_1"(k-1) * Kho_2;% B2*P2*Q2 j = j + 2; i = i- 2; A(i,j)= Kw_S * Kho_1"(k-1) * Kho_3;% B1*P2*R2 i = i + 2; A(i,j)= Kf_c * Kho_1"(k-1) * Kho_3;% B2*P2*R2
k= k

=

+ 1;

243

% reset to original i,j values i = i- 2; j = j- 2; end k = 1; row= row+ 3; end end % Other terms
k

= 1;

foro= 2:N_f row= ((o-1) * (3* N_f)) + 1; column= 1; fori = row:3:(3* N_f*N_f) for j = i- (3* N_f*(o-1)) A(i,j) = Kw_4 * Kco_1"(k-1) * Kco_2;% A1*P1*Q1
i = i + 1; A(i,j) = Kf_3 * Kco_1"(k-1) * Kco_2;% A2*P1*Q1

j i

= j + 1;

=i- 1;

A(i,j) = Kw_4 * Kco_1"(k-1) * Kco_3;% A1*P1*R1

i = i + 1; A(i,j) = Kf_3 * Kco_1"(k-1) * Kco_3;% A2*P1*R1
% reset to original i,j values i i- 1; j = j- 1; end

=

end k = k + 1; end
o ; o -----------------------------------------------0/o ----------------------

B matrix ---------------

o;o ------------------------------------------------

% 1st column - Tci

k = 1; forq = 1:N_f row= ((q-1)*(3*N_f)) + 1; for i = row:3:(3*N_f*q) B(i,1) = Kw_4 * Kco_1"(k-1); % A1P1
i = i + 1; B(i,1) = Kf_3 * Kco_1"(k-1); < y.,A2P1
i

= i- 1;

end k = k + 1; end

% 2nd column Thi for q = 1:N_f row= ((q-1)*(3*N_f)) + 1; k = 1; for i = row:3:(3*N_f*q) B(i,2) = Kw_S * Kho_1"(k-1); o;,, B1P2
i = i + 2; B(i,2) = Kf_c * Kho_1"(k-1); %B2P2

244

i = i- 2; k k + 1; end end

=

o;o -----------------------------------------------0/o ----------------------

C matrix --------------

o;o ------------------------------------------------

% C_1 matrix -Teo k= N_f- 1; for r = 1:N_f row= 1; column= ((r-1)*(3*N_t)) + 1; for i = row:N_f for j = column C_1(i,j)= Kco_1"k * Kco_2; %P1Q1

j=j

+ 1;

C_1(i,j)= Kco_1 "k * Kco_3; %P1R1

j

= j + 1; = j- 2;
+ 3;

C_1(i,j)= 0;

j

end column = column end k = k- 1; end C_1A=AVE*C_1; % C_2 matrix - Tho

for r = 1:N_f row= r; column= ((r-1)*(3*N_t))

+ 1;

k= N_f- 1; fori= row for j = column:3:(3*N_f*r) C_2(i,j)= Kho_1"k * Kho_2; %P2Q2

j = j + 2;
C_2(i,j)= Kho_1"k * Kho_3; %P2R2 k

= k- 1;
= j- 2;

j

end end end C_2A=AVE*C_2;
o;o -----------------------------------------------0/o ----------------------

0 matrix --------------

o;o ------------------------------------------------

% 0_1 matrix- Teo %1st two columns- Tci, Thi k= N_f; fori= 1:N_ 0_1(i,1)= Kco_1"k; %P_1 0_1(i,2)= 0; end 0_1A=AVE*0_1; % 02 matrix - Tho %1st two columns- Tci, Thi

245

k= N_f; fori= 1:N_f D_2(i,1)= 0; D_2(i,2)= Kho_1 "k; %P_2 end D_2A=AVE*D_2;

0 ;(1--------------------------------------------------------%--------------- INPUT MATRIX {U} ----------

o ;.,--------------------------------------------------------U(1,1) = T_cis; U(2,1) = T_his; %Find steady state - state variables {X} X_vector = inv(A) * (-B * U); % State-space output Y1 = Teo; Y2=Tho Y1=(C_1A*X_vector) + (D_1A*U); Y2=(C_2A*X_vector) + (D_2A*U);

o /o--------------------------------------------------------------------------%----------- ALL OUTPUT VALUES Teo Tho-------------

0 /o---------------------------------------------------------------------------% Output values calculated to find input values % Initializing the matrix S_1 with zeros fori= 1:(N_f * N_f) for j = 1:3*(N_f * N_f) S_1(i,j)= 0; end end %Output Teo k = 1; foro= 1:N_f row= ((o-1) * N_f) + 1; column= 1; fori = row:(N_f*N_f) for j = column S_l(i,j) = Kco_l"(k-1) * Kco_2; % Pl*Ql j j + 1; S_l(i,j) = Kco_l"(k-1) * Kco_3; % Pl*Rl % reset to original i,j values j = j- 1; end column = column + 3; end k k + 1; end

=

=

% 1st two columns- Tci, Thi k= 1; foro =l:N_f row= ((o-1) * N_f) + 1; fori = row:(N_f*o) T_l(i,l)= Kco_l"k; %P_1 T_l(i,2)= 0; end k = k + 1; end

246

% Output Tho for v = l :N_f row = ((v-1) * N_f) + 1; column= ((v-1) * (3* N_f)) + 1;
k

= 1;
S_2(i,j)= Kho_l"(k-1) * Kho_2; % P2*Q2

for j = column:3:(3* N_f*v) for i = row:(N_f*v)

j = j + 2; S_2(i,j)= Kho_l"(k-1) * Kho_3; % P2*R2
k= k

+ 1;

% reset to original j value j = j- 2; end

k = 1;
row= row+ 1; end end
0

/o 1st two columns- Tci, Thi

k= 1; foro =l:N_f row= ((o-1) * N_f) + 1; fori = row:(N_f*o) T_2(i,1)= 0; T_2(i,2)= Kho_l"k; %P_2
k

= k + 1;

end
k

= 1;

end %State-space output Yl= Teo; Y2=Tho Ol=(S_l *X_vector) + (T_l*U); 02=(S_2*X_vector) + (T_2*U);

0/o----------------------------------------------------------------------%----------------- ALL INPUT VALUES Tci Thi -------------

0/o----------------------------------------------------------------------%Tci j = 1; fori=l :S In_ls(i,j) = T_cis; end i=6;j=l;n=1; for n = n:(N_f*N_f)-5 In_ls(i,j) = Ol(n,l); i = i + 1; end In_ls; %Thi j=l; for u = l :N_f i = ((u-1) * N_f) + 1; In_2s(i,j) = T_his; i = i + 1; end j=l;n=l;v=O;

247

for u = 1:N_f i ((u-1) * N_Q

=

+ 2;

for n = 1 +(N_f*v):((N_f*u)-1) In_2s(i,j) = 02(n,1); i = i + 1; end v = v + 1; end In_2s;

FH(m subroutine
function (F,H]=FHf(f_HI,T_CI,M_H,M_C,X,IN_1,IN_2,C1,C2,C3,C4,N_f,xi,dim_int_f,Simu); %int % Assign the states to the relevant variables i=1;j=1;n=5;for n = n:3:((3*N_f*N_Q+4),T_w(i,j) = X(n,1);i = i + 1;end i=1;j=1;n=6;for n = n:3:((3*N_f*N_Q+4),T_f1(i,j) = X(n,1);i = i + 1;end i=1;j=1;n=7;for n = n:3:((3*N_f*N_Q+4),T_f2(i,j) = X(n,1);i = i + 1;end N_x = N_f; %No. of totallumps(fins) in x-direction N_y = N_f;% No. of total lumps (fins) in y-direction N_t = N_x * N_y; %Total no. of lumps X= 1;% Total length in x-direction Y = 1;% Total length in y-direction dx = X/N_f; % Length of each lump in x-direction dy = Y /N_f; % Length of each lump in y-direction %Node numbering n 1; fori= N_y:-1:1, for j = 1:N_x, N(i,j) = n; n = n + 1; end, end

=

%Plate and fin geometric parameters for a typical aircraft heat exchanger configuration %Heat transfer surfaces-------- Bleed air 1/8-19.82 % --------Ram air 3/32-12.22 eta = 0.00402; % fin thickness in inches Lf_c = 0.484 / 2; % Length of fin 1 in cold ram air %% Plate spacing divide by 2 Lf_h = 0.205 / 2; % Length of fin 2 in hot bleed air 0!.1% Plate spacing divide by 2 tp = 0.0236; % plate thickness % Plate & Fin Conditions /(,%%Fin 1 --------> fin in the cold ram air flow 'Yo%'Y., %%%Fin 2 --------> fin in the hot bleed air flow %%%

0

dens = 0.1;% Aluminium density in lb/in"3 Vp =X* Y * tp;% Volume of plate in in"3 Vfl =X* eta* Lf_c;% Volume of fin 1 in in"3 Vf2 = Y *eta* Lf_h;% Volume of fin 2 in in"3 M_w =dens* Vp;% Total Mass of plate in lb M_f1 =dens* Vfl; %* N_f;% Total Mass of fin 1 in lb M_f2 = dens* Vf2; %* N_f;% Total Mass of fin 2 in lb C_w= 0.214;%0.65;% wall specific thermal capacity in Btu/lb.degR or Btu/lb.degF ??????????????????? =.214 C_fl= 0.214;%0.65;% fin 1 specific thermal capacity in Btu/lb.degR or Btu/lb.degF C_f2= 0.214; %0.65;% fin 2 specific thermal capacity in Btu/lb.degR or Btu/lb.degF Cp_h=0.24;% Hot air specific capacity in Btu/lb.degR or Btu/lb.degF Cp_c=0.24; % Cold air specific capacity in Btu/lb.degR or Btu/lb.degF %Total heat transfer coefficients H_c = C3 * M_C"C4; H_h = C1 * M_H"C2; % Fouling model Total heat transfer coefficients if (Simu == 2) c_fl = 0.5;% indicates the value of H_fouling as a percent of H_clean from a clean heat exchanger at the end of the time series [0-1] c_f2 = 0; % indicates when the fouling will start

248

s 0.1; % level of fouling depreciation ie slope of fouling curve 'Y o lowering value of p(increasing the negative slope of curve) will increase the level of fouling [0-1] g = (acos(c_f1))1 (s- floor(s*c_f2) + 1); %constant h -g*(floor(s*c_f2) + 1);% constant t = dim_int_f; %int

=

=

H_c = C3 * M_C"C4; H_h = C1 * M_H"C2; H_c H_h end

=H_c * cos(g*t + h); % H_c value after fouling

= H_h * cos(g*t + h); % H_h value after fouling

%HEAT EXCHANGER VALUES PER UNIT CELL BASIS % Heat transfer coefficients h_c = H_c * (dx I X) * (dy I Y); h_h H_h * (dx I X)* (dy I Y);

=

% Mass flow rates m_c = M_C * (dy I Y); m_h = M_H * (dx I X); % Mass of plate and fins m_w = M_w * (dx I X)* (dy I Y); m_f1 = M_fl * (dx I X)* (dy I Y); m_f2 = M_f2 * (dx I X)* (dy I Y); % Surface areas of plate and fins as_c = 1;%((2 * tp) + ( 2 * dy)) * dx; as_h = 1;%((2 * tp) + ( 2 * dx)) * dy; af_c = (Lf_c *eta)* dx; af_h = (Lf_h * eta) * dy; % Evaluate coefficient terms a = (h_c * as_c) I (m_c * Cp_c ); %(h_c * as_c * dx) I (m_c * Cp_c * X); b = (2 * h_c * af_c) I (m_c * Cp_c); %(2 * h_c * af_c * dx) I (m_c * Cp_c *X); c = (h_h * as_h ) I (m_h * Cp_h ); %(h_h * as_h * dy) I (m_h * Cp_h * Y); d (2 * h_h * af_h) I (m_h * Cp_h ); %(2 * h_h * af_h * dy) I (m_h * Cp_h * Y);

=

gamma_a = (m_w * C_w)l(m_c * Cp_c); gamma_b = (m_fl * C_fl)l(m_c * Cp_c); gamma_c = (m_w * C_w)l(m_h * Cp_h); gamma_d = (m_f2 * C_f2)l(m_h * Cp_h); psi_1 psi_2 chi_1 chi_2

= (-m_c * Cp_c * (a + (a*b))) I ( m_w * C_w * (1 + a + b)); = (m_c * Cp_c * (a*b)) I ( m_fl * C_fl * (1 + a + b)); = (-m_h * Cp_h * (c + (c*d))) I ( m_w * C_w * (1 + c +d)); = (m_h * Cp_h *(c)) I ( m_f2 * C_f2 * (1 + c +d)); = (m_c * Cp_c * (a*b)) I ( m_w * C_w * (1 +a+ b)); = (-m_c * Cp_c * (b + (a*b))) I ( m_fl * C_fl * (1 + a+ b));

theta_1 theta_2

phi_1 = (m_h * Cp_h * (c*d)) I ( m_w * C_w * (1 + c +d)); phi_2 = (-m_h * Cp_h * (c + (c*d))) I ( m_f2 * C_f2 * (1 + c +d)); alpha_1 alpha_2

= (m_c * Cp_c * (a)) I ( m_w * C_w * (1 +a+ b)); = (m_c * Cp_c * (b)) I ( m_fl * C_fl * (1 + a + b));

beta_1 = (m_h * Cp_h* (c)) I ( m_w * C_w * (1 + c +d)); beta_2 = (m_h * Cp_h *(d)) I ( m_f2 * C_f2 * (1 + c +d)); P_1 = (1 - (xi* (1 + a + b))) P_2 = (1 - (xi* (1 + c + d)))

I ((1- xi) * (1 + a + b)); I ((1- xi) * (1 + c + d));

Q_1 (a) I ((1- xi)* (1 +a+ b)); Q_2 = (c) I ((1- xi) * (1 + c + d)); R_1

=

= (b) I

((1- xi) * (1 + a + b));

249

R_2 = (d) I ((1- xi) * (1 + c +d)); %Wall equation coefficients Kw_1 = psi_1 + chi_1; Kw_2 = theta_1; Kw_3 = phi_1; Kw_4 = alpha_1;% Kw_S = beta_1;% Kw_6 = T_w; Kw_7 = T_w; Kw_8 = T_f1; Kw_9 = T_f2; Kw_10 = IN_1; Kw_11 = IN_2; % Fin 1 equation coefficients Kf_1 = theta_2; Kf_2 = psi_2; Kf_3 = alpha_2;% Kf_4 = T_f1; Kf_S = T_w; Kf_6 = IN_1; % Fin 2 equation coefficients Kf_a = phi_2; Kf_b = chi_2; Kf_c = beta_2;% Kf_d = T_f2; Kf_e = T_w; Kf_f = IN_2; %Ram air output coefficients Kco_1 = P_1;% Kco_2 = Q_1; Kco_3 = R_1; Kco_4 = IN_1; Kco_S = T_w; Kco_6 = T_fl; % Bleed air output coefficients Kho_1 = P_2;% Kho_2 = Q_2; Kho_3 = R_2; Kho_4 = IN_2; Kho_S = T_w; Kho_6 = T_f2; %Other coefficients K_psi_2 = -(1 + b)"2

I ((gamma_a) * (1 + a + b)"2); K_psi_3 = -(a)"2 I ((gamma_a) * (1 + a + b)"2);

K_psi_b = (b + (b"2)) I ((gamma_b) * (1 + a + b)"2); K_psi_c = (a + (a"2)) I ((gamma_b) * (1 + a + b)"2); K_chi_2 = -(1 + d)"2 I ((gamma_c) * (1 + c + d)"2); K_chi_3 = -(c)"2 I ((gamma_c)

* (1

+ c + d)"2);

K_chi_b = (d + (d"2)) I ((gamma_d) * (1 + c + d)"2); K_chi_c = (c + (c"2)) I ((gamma_d) * (1 + c + d)"2); K_theta_2 = (b + (b"2))

I ((gamma_a) * (1 + a + b)"2); K_theta_3 = (a + (a"2)) I ((gamma_a) * (1 + a + b)"2);

K_theta_b = -(b)"2 I ((gamma_b) * (1 + a + b)"2); K_theta_c = -(1 + a)"2 I ((gamma_b) * (1 + a + b)"2); K_phi_2 = (d + (d"2)) K_phi_b = -(d)"2

I ((gamma_c) * (1 + c + d)"2); K_phi_3 = (c + (c"2)) I ((gamma_c) * (1 + c + d)"2);

I ((gamma_d) * (1 + c + d)"2); K_phi_c = -(1 + c)"2 I ((gamma_d) * (1 + c + d)"2); I ((gamma_a) * (1 + a + b)"2); K_alpha_3 = -(a) I ((gamma_a) * (1 + a+ b)"2);

K_alpha_2 = (1 + b) K_alpha_b = -(b)

I ((gamma_b) * (1 + a + b)"2); K_alpha_c = (1 + a) I ((gamma_b) * (1 + a + b)"2);

K_beta_2 = (1 +d) I ((gamma_c) * (1 + c + d)"2); K_beta_3 =-(c) I ((gamma_c) * (1 + c + d)"2); K_beta_b = -(d) I ((gamma_d) * (1 + c + d)"2); K_beta_c = (1 + c) I ((gamma_d) * (1 + c + d)"2); K_P_1 = -(1 -xi)

I (((1 -xi) * (1 +a+ b))"2); K_P_2 = -(1 -xi) I (((1 -xi) * (1 +a+ b))"2);

K_P_a = -(1 - xi) I (((1 - xi) * (1 + c + d))"2); K_P_b = -(1 - xi) I (((1 - xi) * (1 + c + d))"2); K_Q_1 = ((1 -xi)* (1 +b)) I (((1 -xi) * (1 +a+ b))"2); K_Q_2 = (-(1 -xi) *(a)) I (((1 -xi)* (1 +a+ b))"2); K_Q_a = ((1 -xi) * (1 +d)) I (((1 -xi)* (1 + c + d))"2); K_Q_b = (-(1 -xi) *(c)) I (((1 -xi) * (1 + c + d))"2); K_R_1 = (-(1 -xi)* (b)) I (((1 -xi) * (1 +a+ b))"2); K_R_2 = ((1 -xi) * (1 +a)) I (((1 -xi)* (1 +a+ b))"2); K_R_a = (-(1 -xi) * (d))

I (((1 -xi) * (1 + c + d))"2); K_R_b = ((1 - xi) * (1 + c)) I (((1 -xi) * (1 + c + d))"2);

0 ;(, Mass flow co-efficients % Km_1a,3a,Sa- 'a' parameter differentials; Km_1b,3b,Sb- 'b' parameter % differentials; Km_2c,4c,6c - 'c' parameter differentials; Km_2d,4d,6d % 'd' parameter differentials;

Km_1a = ((Kw_6 * K_psi_2) + (Kw_8 * K_theta_2) + (Kw_10 * K_alpha_2));% F_w1 Km_1b = ((Kw_6 * K_psi_3) + (Kw_8 * K_theta_3) + (Kw_10 * K_alpha_3));% F_w2 Km_2c = ((Kw_7 * K_chi_2) + (Kw_9 * K_phi_2) + (Kw_11 * K_beta_2));% F_w3 Km_2d = ((Kw_7 * K_chi_3) + (Kw_9 * K_phi_3) + (Kw_11 * K_beta_3));% F_w4 Km_3a = ((Kf_4 * K_theta_b) + (Kf_S * K_psi_b) + (Kf_6 * K_alpha_b)); % F_f1 Km_3b = ((Kf_4 * K_theta_c) + (Kf_S * K_psi_c) + (Kf_6 * K_alpha_c)); % F_f2 Km_4c = ((Kf_d * K_phi_b) + (Kf_e * K_chi_b) + (Kf_f * K_beta_b));% F_fc Km_4d = ((Kf_d * K_phi_c) + (Kf_e * K_chi_c) + (Kf_f * K_beta_c)); 'Y o F_fd

250

Km_Sa = ((Kco_4 * K_P _1) + (Kco_S * K_Q_1) + (Kco_6 * K_R_1)); · y., H_o1 Km_Sb = ((Kco_4 * K_P _2) + (Kco_S * K_Q_2) + (Kco_6 * K_R_2));% H_o2 Km_6c = ((Kho_4 * K_P _a) + (Kho_S * K_Q_a) + (Kho_6 * K_R_a)); o ;., H_oc Km_6d = ((Kho_4 * K_P _b) + (Kho_S * K_Q_b) + (Kho_6 * K_R_b));% H_od
0

0 / o --- -------------------

/ o -------------------------------------------::-----A matrix --------------

o ;o -----------------------------------------------%Average matrix for j=1:N_f AVE(1,j)=1/N_f; end % Initializing the matrix A with zeros fori = 1:3*(N_f * N_f) for j = 1:3*(N_f * N_f) A(i,j)= 0; end end
'Vo Diagonal matri.x elements inputs

forv = 1:N_f row= ((v-1) * (3* N_f)) + 1; column= ((v-1) * (3* N_f)) + 1; fori = row:3:(3*N_fll'v) for j = i A(i,j)= Kw_1;

j i + 1; A(i,j)= Kw_2; j i + 2; A(i,j)= Kw_3; end end fori= (row +1):3:(3*N_fll'v) for j = i- 1 A(i,j)= Kf_2; j =i; A(i,j)= Kf_1;
end end fori = (row+2):3:(3*N_fll'v) for j = i- 2 A(i,j)= Kf_b;

=

=

j =i; A(i,j)= Kf_a; end end
% Other diagonal terms

k = 1;
for j = column:3:((3* N_fll'v)-3) fori= (row+3):3:(3*N_fll'v) A(i,j)= Kw_S * Kho_1"'(k-1) * Kho_2;% B1*P2*Q2 i = i + 2; A(i,j) = Kf_c * Kho_1"'(k-1) * Kho_2;% B2*P2*Q2

j = j + 2; i = i- 2; A(i,j)= Kw_S * Kho_1"'(k-1) * Kho_3;% B1*P2*R2

i = i+ 2; A(i,j)= Kf_c * Kho_1"'(k-1) * Kho_3;% B2*P2*R2

251

k

= k + 1; =

% reset to original i,j values i i- 2;

j = j- 2;

end

1; row= row+ 3; end end

k

=

% Other terms k 1; foro= 2:N_f row= ((o-1) * (3* N_t)) + 1; column= 1;

=

for i = row:3:(3* N_f*N_t) for j = i- (3* N_f*(o-1)) A(i,j) = Kw_4 * Kco_1"(k-1) * Kco_2;% A1*P1*Q1

i i + 1; A(i,j) = Kf_3 * Kco_1"(k-1) * Kco_2;% A2*P1*Q1

=

j = j + 1; i i- 1; A(i,j) = Kw_4 * Kco_1"(k-1) * Kco_3;% A1*P1*R1

=

i

=i + 1;
= = j- 1;

A(i,j) = Kf_3 * Kco_1"(k-1) * Kco_3;% A2*P1*R1 % reset to original i,j values i i- 1;

j
end end end

k = k + 1;

0 /o -----------------------------------------------'\11, ---------------------- A_theta matrix -----o ; o -----------------------------------------------% 1st column a i=1;j=1;n=1;for n = n:(3*N_f*N_t),B(i,j) = 0 ;i = i + 1;end %Initializing first column ofB with zeros

r N_f- 2; q N_f; for u = O:(N_f-1) row= ((q-1)*(3*N_t)) + (3*N_t); v = 0; fori= (row-2):-3:(3*N_f*(q-1))
foro = (N_f-v): N_f:(N_f*N_f-v)-(u*N_t) s =o; if r >= 1 B(i,1) = (Kw_4 * Kco_1"r * Km_Sa(o)) + B(i,1); %A1P1K_m5a

= =

i + 1; B(i,1) = (Kf_3 * Kco_1"r * Km_Sa(o)) + B(i,1); %A2P1K_m5a i i- 1; end i

= =

if s == ((N_f*N_f-v)-(u*N_t)- N_t) B(i,1) = (Kw_4 * Km_Sa(o)) + B(i,1); %A1K_m5a

i

i + 1; B(i,1) = (Kf_3 * Km_Sa(o)) + B(i,1); %A2K_m5a i i- 1;

= =

252

end if s == ((N_f*N_f-v)-(u*N_t)) B(i,1) = Km_1a(o) + B(i,1); %K_m1a
i = i + 1; B(i,1) = Km_3a(o) + B(i,1); %K_m3a i = i- 1;

end r = r- 1; end r = (N_f- (2+u));
v

=v + 1;

end r = r- 1; q = q- 1; end % 2nd column b i=1;j=2;n=1;for n = n:(3*N_f*N_t),B(i,j) = 0 ;i = i + 1;end %Initializing second column ofB with zeros
r = N_f- 2; q = N_f; for u = O:(N_f-1) row= ((q-1)*(3*N_t)) + (3*N_t); v= 0; fori= (row-2):-3:(3*N_f*(q-1))

foro = (N_f-v): N_f:(N_f*N_f-v)-(u*N_t) s =o; if r >= 1 B(i,2) = (Kw_4 * Kco_1"r * Km_Sb(o)) + B(i,2); %A1P1K_m5b
i = i + 1; B(i,2) = (Kf_3 * Kco_1"r * Km_Sb(o)) + B(i,2); %A2P1K_m5b i = i- 1; end

if s == ((N_f*N_f-v)-(u*N_t) - N_t) B(i,2) = (Kw_4 * Km_Sb(o)) + B(i,2); %A1K_m5b

i =i + 1; B(i,2) = (Kf_3 * Km_Sb(o)) + B(i,2); %A2K_m5b i = i- 1;
end if s == ((N_f*N_f-v)-(u*N_t)) B(i,2) = Km_1b(o) + B(i,2); %K_m1b
i = i + 1; B(i,2) = Km_3b(o) + B(i,2); %K_m3b i = i- 1;

end = r- 1; end r = (N_f- (2+u)); v = v + 1; end r = r- 1; q = q- 1; end
r

% 3rd column c i=1;j=3;n=1;for n = n:(3*N_f*N_t),B(i,j) = 0 ;i = i + 1;end %Initializing third column ofB with zeros
p = 0; q = N_f; for u = 1:N_f row= ((q-1)*(3*N_t)) + (3*N_t);

253

v

r

=N_f- 2;
foro= ((N_f*N_f)-(u*N_f))+l:(N_f*N_f-v)-(p*N_f) s =o; if r >= 1 B(i,3) = (Kw_S * Kho_1"r * Km_6c(o)) + B(i,3); < Y oB1P2K_m6c
i = i + 2; B(i,3) = (Kf_c * Kho_1"r * Km_6c(o)) + B(i,3); %B2P2K_m6c
i

= 0;

fori= (row-2):-3:(3*N_f*(q-1))

=i - 2;

end if s == ((N_f*N_f-v)-(p*N_f)- 1) B(i,3) = (Kw_S * Km_6c(o)) + B(i,3); %B1K_m6c i = i+ 2; B(i,3) = (Kf_c * Km_6c(o)) + B(i,3); o ;.,B2K_m6c

i = i- 2;
end if s == ((N_f*N_f-v)-(p*N_f)) B(i,3) = Km_2c(o) + B(i,3); %K_m2c
i = i + 2; B(i,3) = Km_4c(o) + B(i,3); %K_m4c i = i- 2;

end
r

= r- 1;

end
v

=v + 1;

r = (N_f- (2+v));

= r- 1; = p + 1; q = q -1;
0

end
/ or

p

end % 4th column d i=1;j=4;n=1;for n = n:(3*N_f*N_f),B(i,j) = 0 ;i = i + 1;end %Initializing fourth column ofB with zeros p
0; q = N_f;

=
v

for u = 1:N f row = ((q-1)*(3*N_f)) + (3*N_f);
r

= 0; = N_f- 2;

fori= (row-2):-3:(3*N_f*(q-1)) foro = ((N_f*N_f)-(u*N_f))+1:(N_f*N_f-v)-(p*N_f) s =o; if r >= 1 B(i,4) = (Kw_S * Kho_1"r * Km_6d(o)) + B(i,4); %B1P2K_m6d

i = i + 2; B(i,4) = (Kf_c * Kho_1"r * Km_6d(o)) + B(i,4); %B2P2K_m6d
i

= i- 2;

end if s == ((N_f*N_f-v)-(p*N_f) - 1) B(i,4) = (Kw_S * Km_6d(o)) + B(i,4); < Yc,B1K_m6d
i = i + 2; B(i,4) = (Kf_c * Km_6d(o)) + B(i,4); %B2K_m6d i = i- 2;

254

end if s == ((N_f*N_f-v)-(p*N_Q) B(i,4) = Km_2d(o) + B(i,4); %K_m2d

i = i + 2; B(i,4) = Km_4d(o) + B(i,4); 'Y oK_m4d
i

= i- 2;

end
r

= r- 1;

end
v

= v + 1;

r = (N_f- (2+v)); end % r = r- 1; p = p + 1; q = q- 1; end F = horzcat(B,A);
F = vertcat(zeros(4,((3*N_f*N_f)+4)),F);

o ; o -----------------------------------------------0 /o ---------------------- C matrix -------------o ; o -----------------------------------------------% C_1 matrix -Teo k= N_f- 1; for r = 1:N_f row= 1; column= ((r-1)*(3*N_f)) + 1; for i = row:N_f for j = column C_1(i,j)= Kco_1"k * Kco_2; % P1Q1

j = j + 1; C_1(i,j)= Kco_1"k * Kco_3; %P1R1 j j + 1; C_1(i,j)= 0; j j- 2;
end column = column + 3; end k k- 1; end

= =

=

% C_1theta matrix 1st,2nd,3rd,4th columns a,b,c,d i=1;j=1 ;n=1;for n = n:N_f,D_1(i,j) = 0 ;i = i + 1;end % Initializing i=1;j=2;n=1;for n = n:N_f,D_1(i,j) = 0 ;i = i + 1;end %Initializing i=1;j=3;n=1;for n = n:N_f,D_1(i,j) = 0 ;i = i + 1;end % Initializing i=1;j=4;n=1;for n = n:N_f,D_1(i,j) = 0 ;i = i + 1;end %Initializing
u = 0; v = 1; N_f- 1;

ftrst column of 0_1 with zeros second column of0_1 with zeros third column of0_1 with zeros fourth column of0_1 with zeros

r

=

fori= N_f:-1 :1 foro= ((N_f*N_f)-(v*N_f))+1:(N_f*N_f)-(u*N_f) s =o; if r >= 1 D_1(i,1) = (Kco_1"r * Km_Sa(o)) + D_1(i,1); %P1K_m5a D_1(i,2) = (Kco_1"r * Km_Sb(o)) + D_1(i,2); %P1K_m5b end if s == ((N_f*N_f)-(u*N_f)) 0_1(i,1) = Km_Sa(o) + D_1(i,1); %K_m5a 0_1(i,2) = Km_Sb(o) + D_1(i,2); %K_m5b end = r- 1;

r

255

end r = (N_f- 1);
v
u

= v + 1;

=u + 1;

end C_1 = horzcat(D_1 ,C_1); % C_2 matrix - Tho for r = 1:N_f row= r; column= ((r-1)*(3*N_f)) + 1; k= N_f- 1; fori= row for j = column:3:(3*N_f*r) C_2(i,j)= Kho_1"k * Kho_2; %P2Q2
j = j + 2; C_2(i,j)= Kho_1"k * Kho_3; %P2R2
k = k- 1;

j = j- 2; end end end

% C_2theta matrix 1st,2nd,3rd,4th columns a,b,c,d i=1 ;j=1;n=1;for n = n:N_f,D_2(i,j) = 0 ;i = i + 1;end % Initializing first column of C_2 with zeros i=1;j=2;n=1;for n = n:N_f,D_2(i,j) = 0 ;i = i + 1;end %Initializing second column of C_2 with zeros ;;,Initializing third column of C_2 with zeros i=1;j=3;n=1;for n = n:N_f,D_2(i,j) = 0 ;i = i + 1;end o i=1;j=4;n=1;for n = n:N_f,D_2(i,j) = 0 ;i = i + 1;end %Initializing fourth column of C_2 with zeros
u

v

= 0; = 1; r = N_f- 1;
fori= N_f:-1 :1 foro= ((N_f*N_f)-(v*N_f))+l:(N_f*N_f)-(u*N_f) s =o; if r >= 1 oP2K_m6c D_2(i,3) = (Kho_l"r * Km_6c(o)) + D_2(i,3); 'Y D_2(i,4) = (Kho_1"r * Km_6d(o)) + D_2(i,4); %P2K_m6d end if s == ((N_f*N_f)-(u*N_f)) D_2(i,3) = Km_6c(o) + D_2(i,3); 'Y.·K_m6c 0_2(i,4) = (Kho_1"r * Km_6d(o)) + D_2(i,4); %P2K_m6d
r = r- 1; end r = (N_f- 1); v = v + 1;
u

end

= u + 1;

end C_2 = horzcat(D_2,C_2);
m

= 1;
H(i,j) = C_1(m,j); i i + 1;

for i = 1:2:(2*N_f) for j = 1:((3*N_f*N_f)+4)

=

1-I(i,j) = C_2(m,j); i = i -1; end
m

= m + 1;

end % I-I = vertcat(zeros(4,((3*N_f*N_f)+4)),H);

256

