MODELING AND CONTROL OF SPACECRAFT SYSTEMS WITH COUPLED ORBITAL AND ATTITUDE DYNAMICS

by

Alexander Frias, B.Eng.
Aerospace Engineering Ryerson University, 2010

A thesis presented to Ryerson University in partial fulfillment of the requirements for the degree of

Master of Applied Science

in the program of Aerospace Engineering

Toronto, Ontario, Canada, 2012 c Alexander Frias

Author's Declaration
I hereby declare that I am the sole author of this thesis. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research.

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

iii

Abstract
MODELING AND CONTROL OF SPACECRAFT SYSTEMS WITH COUPLED ORBITAL AND ATTITUDE DYNAMICS Alexander Frias, Master of Applied Science, Aerospace Engineering Ryerson University, Toronto, 2012

Spacecraft formation flying with coupled orbital-attitude dynamics is one of the most intriguing topics in the field of astronautics. Orbital-attitude coupling is induced when a non-symmetrical spacecraft in orbit is disturbed by means of active maneuvering or by external disturbances. Direct contributing factors to the coupled dynamics include the orbital radius, the gravitational parameter and the orbital angular velocity. Disturbance due to coupling is inherently weak in nature (in the order of magnitudes of 10-13 Newtons) for Earth orbit, which majority of spacecraft attitude-orbital control system (AOCS) can easily overcome or can be eliminated by means of system dynamics linearization. For very large spacecraft that have very high moment of inertia, coupled dynamics can impose strong nonlinear disturbance and can affect orbital trajectory. Numerical simulations of the coupled dynamics for a rigid-body single spacecraft system, a dumbbell spacecraft system and a multiple spacecraft formation flying system are conducted for Earth and asteroid 4 Vesta orbits. Simulation results suggest that dumbbell spacecraft systems are the most severely affected by the orbital-attitude coupling due to the connecting tether. Nonlinear coupled orbital-attitude equations of motion are fully developed and are used to formulate a nonlinear controller using feedback linearization. Feedback linearization control method is perfect for this system because the spacecraft's nonlinear coupled dynamics is preserved and not approximated. The controller is validated by numerical simulations as well as implemented in a hardware-in-the-loop experiment using the Ryerson University's Satellite Airbed Formation Experiment. For asteroid-related missions, orbital-attitude coupling can be several magnitudes times larger than the coupling experienced for Earth orbit depending on the properties of the asteroid and thus in turn, can severely affect the performance of the spacecraft control system. v

Acknowledgments

"If I have seen further, it is by standing on the shoulders of giants." - Isaac Newton

I would like to extend thanks to my supervisor and mentor professor Krishna Kumar, whom without his help, I could have never understood the topic, began nor finished this thesis. Dr. Kumar is a respected man in his field with a boundless imagination for innovation and an unyielding persistence to develop his visions. Such feat is not easily achieved for the task is rigorous and required an ample amount dedication and commitment. I realized and learned this from you, sir, that is why my dedication and commitment is stronger now. Thank you for spending your non-office hours to support me when I needed it.

A warm thanks to a great mentor and friend, Mr. Jerry Karpynczyk; an extremely knowledgeable man in true engineering. He has taught me the fundamentals of business etiquette with engineering professionals, handy mechanical standards, engineering processes standards and what engineering is truly about, and from time to time, some very important life lessons. I really enjoyed working with you and your son Mr. John Karpynczyk, along with Mr. Peter Bradley ­ I am not to be a more intelligent and inspired man today without your combined assistance and support.

I would like to thank my lab mates (native creatures of the Space Systems, Dynamics, and Control Group): Dr. Issa Jafer, Mr. Andriy Panarin, Vishal Brahmbhatt, Waqas Manzoor, Arthur Lin, Michael Rososhansky, Daren Lee, Brian Stuurman, Dr. Godard, Dr. Surjit Varma, Dr. Junquan Li, Afshin Rahimi, Sobhan Etemadi, Abir Hussain, Ian Fyffe, and Jesus Rooney. Thanks for the in-door BBQs (we seriously need to go out more, that is the life of the grad students), the useless roadtrips, and the even-more useless countless Youtube c videos you guys have collectively shown me, thanks for the lost hours of my life vii

I will never get back... For all its worth, it led to the completion of my thesis (although, I have yet to see the fundamental correlation)... thanks, I think?... Also, thanks to the slaved undergrads: Ilion, Kody, Shivang and all others I forgot to mention... without your unrivaled dedication to complete minute work is astounding... just kidding (or am I?), nevertheless you are part of our SSDC family. I would also like to acknowledge my long-life friend, mentor, and taekwondo master, Master Kim In Kyung. He's taught me what truly are respect and perseverance. I could never have accomplished the rank of taekwondo master without your unrivaled support. The massive stress and headache this thesis and other projects in the lab have given would have broken me to pieces, I had taekwondo and my master's positive outlook to life to help me get me through the depths of hell of my undergrad-grad career. I am thankful to have such great friends who supported me when I needed it. Thanks for the social gatherings we've shared, I will never forget them (although some embarrassing moments I would rather forget). For the good times, the bad and sad times and un-productive times, I will cherish all of them.

Lastly, I would like to thank my beloved family for believing in me, supporting me all the way, being patient with me, annoying me, stressing me out, and unconditionally loving me. I may not show it as much (though I should), but I love you guys too, even more than you guys will ever know. I would like to thank my parents, my father Alfredo Frias, may his soul rest in peace, dearest greatest-in-the-world mother, Teresita Frias, for everything I am in past, the present, and my future. No words can describe my love and care for you both. It is impossible and beyond comprehension. I have you guys to thank that I have inherited my dedication, perseverance, open-mindedness, believing in people and helping others, and intellect. I honestly and highly doubt I would surpass your parenting skills, you guys did an extremely excellent job raising me and my seven siblings ­ you can be rest-assured that we'll handle it from here, just sit back and relax. A sincere thanks, of course, to my sisters and brothers ­ who used me for anything tech-related... just because I'm an engineer, it doesn't make me your magic eraser for your everyday technical problem, although I front an annoyed face, I am actually glad you guys viii

asked, because it makes me feel useful and acknowledged, for that I am sincerely thankful. I love you guys and ALL of your kids with all my heart and being (Note: I have so many nephews and nieces that I am shaken to my bones for worrying for their safety when they all gather and play around the house; the gifts that I have to buy for birthdays and Christmas - leaves me severely broke, honest to God... it makes me second think about getting kids).

ix

For my whole family and friends...

xi

Table of Contents
Author's Declaration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Abstract . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . List of Tables . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . iii v vii xv

List of Figures . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . xvii Nomenclature . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Abbreviations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 Introduction 1.1 1.2 1.3 1.4 Spacecraft Formation Flying . . . . . . . . . . . . . . . . . . . . . . . . . . Spacecraft Attitude and Orbit Control System . . . . . . . . . . . . . . . . Coupled Dynamics and Control of Spacecraft Formation Flying . . . . . . Motivation & Challenges . . . . . . . . . . . . . . . . . . . . . . . . . . . . xix xxi 1 1 3 6 8 11 11 11 12 15 17 24 26 33 34 35 36 36 38

2 Spacecraft Mathematical Model 2.1 Spacecraft Kinematics and Dynamics . . . . . . . . . . . . . . . . . . . . . 2.1.1 2.1.2 2.1.3 2.2 2.3 2.4 2.5 2.6 Orbital Dynamics . . . . . . . . . . . . . . . . . . . . . . . . . . . . Attitude Dynamics . . . . . . . . . . . . . . . . . . . . . . . . . . . External Disturbances . . . . . . . . . . . . . . . . . . . . . . . . .

Single Spacecraft System . . . . . . . . . . . . . . . . . . . . . . . . . . . . Dumbbell Spacecraft System . . . . . . . . . . . . . . . . . . . . . . . . . . Multiple Spacecraft Formation Flying System . . . . . . . . . . . . . . . . Formation Types . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

3 Nonlinear Control for Spacecraft Systems 3.1 Error Dynamics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.1.1 3.1.2 Single Spacecraft System . . . . . . . . . . . . . . . . . . . . . . . . Dumbbell Spacecraft System . . . . . . . . . . . . . . . . . . . . . . xiii

Table of Contents
3.1.3 3.2 3.3 Multiple Spacecraft Formation Flying System . . . . . . . . . . . . 39 41 42 43 43 43 47 55 55 55 63 63 64 78 79 79 79 80 83 84 84 91 91 92 93 Controller Design . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

4 Numerical Simulations 4.1 Single Spacecraft System (5DOF) . . . . . . . . . . . . . . . . . . . . . . . 4.1.1 4.1.2 4.2 Case Scenario . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Results and Discussion . . . . . . . . . . . . . . . . . . . . . . . . .

Dumbbell Spacecraft System (3DOF) . . . . . . . . . . . . . . . . . . . . . 4.2.1 4.2.2 Case Scenario . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Results and Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

4.3

Multiple Spacecraft Formation Flying System (6DOF) 4.3.1 4.3.2

Case Scenario . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Results and Discussion . . . . . . . . . . . . . . . . . . . . . . . . .

4.4

Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

5 Experiment 5.1 Satellite Airbed Formation Experiment (SAFE) . . . . . . . . . . . . . . . 5.1.1 5.1.2 5.1.3 5.2 5.3 Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Mathematical Model . . . . . . . . . . . . . . . . . . . . . . . . . . Controller Design . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Results and Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

6 Conclusions and Future Work 6.1 6.2 Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Future Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

References

xiv

List of Tables
4.1 4.2 4.3 4.4 4.5 4.6 4.7 4.8 4.9 Earth and Vesta Parameters. . . . . . . . . . . . . . . . . . . . . . . . . . . Spacecraft Parameters. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Initial Conditions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Reference Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Spacecraft Parameters. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Initial Conditions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Reference Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Spacecraft Parameters. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Initial Conditions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44 45 45 46 56 56 57 64 64 65

4.10 Reference Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

xv

List of Figures
1.1 2.1 2.2 2.3 4.1 4.2 4.3 4.4 4.5 4.6 4.7 4.8 4.9 ESA satellites in Earth orbit [ESA, 2012]. . . . . . . . . . . . . . . . . . . Defined spacecraft orbital frame. . . . . . . . . . . . . . . . . . . . . . . . . Dumbbell satellite system connected by a massless tether. . . . . . . . . . 1 13 24 27 44 47 48 48 49 49 50 51 52 52 53 53 54 57 58 58 59 60 61 61 62 66

Schematic of leader-follower system. . . . . . . . . . . . . . . . . . . . . . . Asteroid 4 Vesta [ESA, 2010]. . . . . . . . . . . . . . . . . . . . . . . . . . Earth: Disturbance due to Orbital-attitude Coupling. . . . . . . . . . . . . Earth: Orbital Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . . Earth: Attitude Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . Earth: Orbit Control Input. . . . . . . . . . . . . . . . . . . . . . . . . . . Earth: Attitude Control Input. . . . . . . . . . . . . . . . . . . . . . . . . Earth: State Error. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Vesta: Disturbance due to Orbital-attitude Coupling. . . . . . . . . . . . . Vesta: Orbital Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . .

4.10 Vesta: Attitude Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.11 Vesta: Orbit Control Input. . . . . . . . . . . . . . . . . . . . . . . . . . . 4.12 Vesta: Attitude Control Input. . . . . . . . . . . . . . . . . . . . . . . . . . 4.13 Vesta: State Error. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.14 Earth: Disturbance due to Orbital-attitude Coupling. . . . . . . . . . . . . 4.15 Earth: State Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.16 Earth: Control Inputs. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.17 Earth: State Error. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.18 Vesta: Disturbance due to Orbital-attitude Coupling. . . . . . . . . . . . . 4.19 Vesta: State Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.20 Vesta: Control Inputs. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.21 Vesta: State Error. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.22 Earth: Relative Orbital-attitude Coupling. . . . . . . . . . . . . . . . . . . xvii

List of Figures 4.23 Earth: Relative J2 disturbance. . . . . . . . . . . . . . . . . . . . . . . . . 4.24 Earth: Orbital Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.25 Earth: Relative Position. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.26 Earth: Relative Attitude. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.27 Earth: Relative Velocity. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.28 Earth: Relative Angular Velocity. . . . . . . . . . . . . . . . . . . . . . . . 4.29 Earth: Orbit Control Input. . . . . . . . . . . . . . . . . . . . . . . . . . . 4.30 Earth: Attitude Control Input. . . . . . . . . . . . . . . . . . . . . . . . . 4.31 Earth: Relative Position Error. . . . . . . . . . . . . . . . . . . . . . . . . 4.32 Earth: Relative Attitude Error. . . . . . . . . . . . . . . . . . . . . . . . . 4.33 Vesta: Relative Orbital-attitude Coupling. . . . . . . . . . . . . . . . . . . 4.34 Vesta: Orbit Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.35 Vesta: Relative Position. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.36 Vesta: Relative Attitude. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.37 Vesta: Relative Velocity. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.38 Vesta: Relative Angular Velocity. . . . . . . . . . . . . . . . . . . . . . . . 4.39 Vesta: Orbit Control Input. . . . . . . . . . . . . . . . . . . . . . . . . . . 4.40 Vesta: Attitude Control Input. . . . . . . . . . . . . . . . . . . . . . . . . . 4.41 Vesta: Relative Position Error. . . . . . . . . . . . . . . . . . . . . . . . . . 4.42 Vesta: Relative Attitude Error. . . . . . . . . . . . . . . . . . . . . . . . . 5.1 5.2 5.3 5.4 Test spacecraft developed by SSDC Lab at Ryerson University [1]. . . . . . Flow chart representation of hardware-in-the-loop simulation framework [1]. Reference frames for SAFE platform [1]. . . . . . . . . . . . . . . . . . . . Thruster configuration on the body frame of the SAFE platform. T1 to T4 represent thruster locations [1]. . . . . . . . . . . . . . . . . . . . . . . . . 5.5 5.6 5.7 5.8 5.9 Hardware: State Trajectory. . . . . . . . . . . . . . . . . . . . . . . . . . . Hardware: Control Input. . . . . . . . . . . . . . . . . . . . . . . . . . . . Hardware: State and State Error. . . . . . . . . . . . . . . . . . . . . . . . Hardware: Velocity and Velocity Error. . . . . . . . . . . . . . . . . . . . . Hardware: Disturbance Force. . . . . . . . . . . . . . . . . . . . . . . . . . xviii 82 85 86 87 88 89 66 67 67 68 68 69 70 70 71 71 72 73 74 74 75 75 76 76 77 77 80 81 81

Nomenclature
a A C DC e i I J2 L m Me q R R Re Uxyz U v x y z       µ semi-major axis of the reference orbit acceleration vector directional cosine matrix (Euler angles or quaternion) attitude-dependent orbital coupling disturbing force eccentricity of the reference orbit orbit inclination of leader spacecraft spacecraft moment of inertia or identity matrix second zonal harmonics disturbance or disturbance due to Earth's oblateness dumbbell spacecraft tether length mass of spacecraft mass of the Earth unit quaternion position vector orbital radius radius of the Earth control force in x-, y-, z-direction control torque in pitch-, roll-, yaw-direction velocity vector radial separation between leader and follower spacecraft along-track separation between leader and follower spacecraft cross-track separation between leader and follower spacecraft spacecraft roll angle in-plane yaw libration amplitude spacecraft yaw angle relative formation flying vector second order damping ratio true anomaly geocentric gravitational constant of the Earth xix

List of Figures      oF L  disturbance torque spacecraft pitch angle in-plane formation phase angle in SFF absolute angular velocity argument of the periapsis (orbital element) angular velocity of the orbiting frame, follower spacecraft or leader spacecraft orbit longitude of the ascending node or argument of Aries or right ascension of the ascending node

List of reference frames Fi - XY Z Fo - xyz FL - xyz FF - xyz S - XY S - xy Earth centered inertial reference frame orbital reference frame leader spacecraft body-fixed coordinate frame follower spacecraft defined in leader coordinate frame SAFE platform inertial reference frame SAFE platform body-fixed reference frame

Notational conventions |·| · ( · )0 ) (· (·) [ a× ] absolute value Euclidean norm for vectors, induced norm for matrices ( · ) at t = 0 derivative of ( · ) with respect to time, t derivative of ( · ) with respect to  skew-symmetric matrix for vector a

xx

Abbreviations

ACS AOCS ASMC COTS CW DOF ECI EKF ESA FL GNC HWIL LEO LOS LVLH PD PEM PSD SAFE SFF SSDC TTC

Attitude Control System Attitude and Orbit Control System Adaptive Sliding Mode Control Commercial-off-the-shelf Clohessy-Wiltshire Degrees-of-Freedom Earth Centered Inertial Extended Kalman Filter European Space Agency Feedback Linearization Guidance, Navigation, and Control Hardware-In-the-Loop Low Earth Orbit Line-Of-Sight Local Vertical Local Horizontal Proportional-Derivative Plastic-Encapsulated Microcircuits Position Sensitive Diode Satellite Airbed Formation Experiment Spacecraft Formation Flying Space Systems Dynamics and Control Telemetry, Tracking and Command

xxi

Chapter 1

Introduction

1.1

Spacecraft Formation Flying

Coordination and cooperative control is a new and promising trend that replaces complex single units with several simpler and smaller agents that enables larger operation areas with greater complexity, flexibility, and performance. The new concept makes a way for new and better applications, such as Earth monitoring and its surrounding atmosphere, geodesy studies, deep-space imaging and terrestrial exploration, and in-orbit maintenance of spacecraft or space structures.

Figure 1.1: ESA satellites in Earth orbit [ESA, 2012]. 1

Chapter 1. Introduction Modeling and coordinated control of spacecraft formations has received increased attention and growing interest in future space missions during the last few decades. Modeling and relative navigation are key technologies of the present and of the future for missions such as formation flying, rendezvous with maneuvering target, and as well as capture and removal of orbital debris. Such space missions rely on highly maneuverable spacecraft, in which necessitates the development of a systematic framework for simultaneous control of translation and attitude motion of the spacecraft [2]. Thus, precise modeling of relative position and attitude is a key requirement to the success of a space mission. The first model of relative translation in circular orbits was presented by Clohessy and Wiltshire [3], and later expanded by the addition of nonlinear terms such as arbitrary orbital eccentricity and orbital perturbations in the published works of Wang and Hadaegh in 1996, Yan et al. in 2000, and Pan and Kapila in 2005. State feedback tracking control laws for relative position and attitude were also developed and presented by Wang and Hadaegh in 1996, and Wang et al. in 1999, which proved to result in exponentially stable equilibrium points. A 6 degree-of-freedom (DOF) tracking controller was developed, including an adaptation law to account for nonlinear unpredictable mass and inertia parameters in Pan and Kapila in 2001. The controller was proven using Lyapunov framework and signal-chasing arguments to ensure a global asymptotic convergence of position and attitude errors. Semi-global asymptotic convergence of relative position and attitude errors was also proven in Wong et al. in 2005 for an adaptive output feedback controller. In comparison to the study of 6DOF rigid body dynamics and control in the field of aircraft and underwater vehicles ([4], [5]), the 6DOF rigid body dynamics and control problem for spacecraft has received very little attention.

2

1.2. Spacecraft Attitude and Orbit Control System

1.2

Spacecraft Attitude and Orbit Control System

"Tempus edax rerum - time, devourer of all things." - Ovid, Roman Poet, 43 BC on the notion of reliability. Autonomous on-orbit position maintenance and attitude control of spacecraft is one of the most rapidly-growing innovative fields that can implement current technologies to significantly enhance future space missions. The advancement in this field proportionates to the current technologies available. As technologies become more computationally advance and sophisticated, the limits become unbound in innovation in the field of control. The Attitude and Orbit Control System (AOCS) in a spacecraft is one of the most vital systems as it consists of the combination of sensors, actuators, and control algorithm. Result in critical degradation or failure of the space mission is with utmost certainty, if any of the aforementioned is damaged or become unresponsive. The on-board control electronics process attitude and orbital information of the spacecraft from sensors and based on the programmed algorithms, control signals are generated for actuators to mitigate any attitude and/or orbit errors. Earlier and current spacecraft AOCS generally apply redundant actuators and sensors as well as fault-tolerant control system to achieve required reliability and utilizing complex control algorithms as such in references [6] and [1]; in simpler terms, is not necessarily a disadvantage but it is an inefficient use of payload. These conventional feedback control designs may result in unsatisfactory performance and instability, in the event of unexpected malfunctions in actuators. To prevent fault induced losses and to minimize the potential risks associated with mission failure, new modeling methods and control techniques are needed to be designed in order to cope with actuator faults whilst maintaining the desirable degree of overall stability and performance [7]. Space mission statistics show that the Guidance, Navigation and Control (GNC) subsystems, in comparison to the other spacecraft subsystems, have resulted to be the case in majority of mission critical failures [6]. Critical mission failure is defined as premature loss of the space system or the loss of the ability to perform primary mission tasks during 3

Chapter 1. Introduction operational design life. GNC subsystems play an important role in the success of Spacecraft Formation Flying (SFF) missions and some of its major key components include the onboard translational and attitude control systems. The development of a mathematical system model of the kinematics and dynamics of SFF is an important foundation in developing a control system. Engineered technologies degrade and fail in time. The relationship of how things fail with time is commonly known as reliability engineering. During the period from 1957 to 2007 the space industry grew to about $100+ billion industry. About 6500 spacecraft were launched during this period or about 80 to 100 spacecraft per year. Spacecraft today perform a variety of functions, from national defense and intelligence missions (such as early warning, reconnaissance, etc.), to science missions (like solar system observations, celestial body observations, etc.), and communications (some examples are TV-radio services, telecommunications link, etc.). Modern spacecraft can cost several millions to several hundred millions of dollars from design to launch depending on the size, and as such reliability is one of the most critical attributes of these systems operating in remote or inhospitable environments. Analyzing spacecraft failure behavior on orbit, and identifying their subsystems' actual reliability profiles, not their reliability requirements (how they actually degrade and fail on orbit, not how they should or are expected to), can help spacecraft manufacturers prioritize and hone in on problematic subsystem that would benefit most from reliability improvements [8]. Reference [9] suggested that the cause of the on-orbit failures and anomalies are no random overstress or wear-out, but are perhaps weakness in the design or execution uncovered in the mission. conducted by [10], In a sample of 225 spacecraft launched conducted by [10], the most common cause of spacecraft anomalies is inadequate design, representing nearly 60 percent of all incidents with assignable causes. More recent studies show that failures occur in the following subsystems: power subsystems ([11], [12]), solar array (Brandhorst and Rodiek (2008), and attitude and orbital control (Robertson and Stoneking (2003)). Failure statistics of actual satellites launched between 1990 and 2008 treated with Kaplan-Meier estimator as seen [8] for satellite reliability for each mass category. Satellite reliability drops to about 94 percent after 6 years on orbit. Beyond 12 years, 4

1.2. Spacecraft Attitude and Orbit Control System satellite reliability lies roughly between 90 and 91 percent. The most noticeable steep drop in reliability can be observed during the first year of satellite operation, which is an indicative of infant mortality. After successful satellite launch, satellite reliability of medium size category (500 - 2500 kg) drops to approximately 90 percent after 3 years on orbit. Both small (0 - 500 kg) and large (> 2500 kg) spacecraft exhibit a reliability of 97 percent after 2 years. Beyond 10 years, reliability is 94.7, 96.3 and 88.3 percent for small, medium and large spacecraft, respectively. One of the major issues that deteriorate reliability is the use of commercial off-the-shelf (COTS) parts in the design of satellites, especially in small satellites undergoing low earth orbit. Factors such as narrow temperature range, humidity, plastic-encapsulated microcircuits (PEMs) constitute decrease in reliability of the system especially during their first exposure to the space environment [8]. Similarly, the gyro (gyro/sensor/reaction wheel), thruster (thruster/fuel) and TTC (telemetry, tracking and command) subsystems are the major contributors to spacecraft failures with 20, 13 and 15 percent for gyro, thruster and TTC, respectively over a period of 15 years. Coincidentally, the gyro, thruster and TTC form the basis of the AOCS as shown [8]. In essence, these three subsystems are the major contributors to spacecraft unreliability and major drivers or spacecraft anomalies.

5

Chapter 1. Introduction

1.3

Coupled Dynamics and Control of Spacecraft Formation Flying

In current literature, there are a few publications in coupled control of spacecraft formation flying. Main contributors on the specific field include as such as authors: Pan, Wong, and Kapila on nonlinear coupled dynamics control, Kristiansen, Nicklasson, and Gravdahl on 6DOF integrator control, as well as Alfriend and Yan on the basis of coupled dynamics fundamentals. Works in [13] summarize a comparison between integrator backstepping (a recursive method for stabilization) and passivity-based (a control theory that forces the system to be passive, thus inherently in equilibrium and stable) 6DOF control of spacecraft with coupled dynamics. In [2], vectrix formalism and output feedback control are used to model the translational and attitude dynamics of the leader and follower spacecraft, where the mutual coupling in each spacecraft's translational and attitude motion induced by their gravitational interaction is duly accounted. Global asymptotic convergence of relative translational and attitude position tracking errors are proven by Lyapunov framework. Three nonlinear control solutions for 6DOF spacecraft formation and attitude control was adopted from the Euler-Lagrange system theory were presented. A passivity-based PD+ controller (state feedback control of fully-actuated systems that guarantees global uniform asymptotic stability of the origin), sliding surface controller, and integrator backstepping controller were used. The equilibrium points of the closed-loop systems were proved to be uniformly asymptotically stable. Six DOF relative motion models of spacecraft have attracted many researchers' attention in recent years. This effect is important for the relative motion estimation and control ([14], [15] and [16]), especially when the points to be tracked or estimated are arbitrary feature points on the spacecraft of interest or a celestial body. Sensors for motion estimation may also have bias from the center of mass (c.m.) of spacecraft, which used to be assumed to coincide with the c.m. and therefore brought negative effect to the estimation precision. Thus coupled dynamics model must be considered in high-precision estimation [17]. In reference [13], the coupling term were developed and defined on the basis of state vectors: position, velocity, quaternion orientation and angular velocity. Reference [17] in6

1.3. Coupled Dynamics and Control of Spacecraft Formation Flying vestigated a relative position and attitude estimation approach for satellite formation with coupled relative translational dynamics is derived to represent orbital motion of arbitrary feature points on deputy, and the relative attitude motion is formulated by rotational dynamics for non-gyro satellite. A position sensitive diode (PSD) sensor was used to provide line-of-sight (LOS) vectors from a feature point to beacons fixed on the chief satellite. Extended Kalman Filter (EKF) was used to estimate relative errors. Rigid-body dynamics can be described by translation of and rotation about the center of mass. The ClohessyWiltshire (CW) equations were used to formulate the relative translation motion and variations of model have been developed. Authors such as Tschauner and Lawden derived the CW equations for eccentric reference orbits, Inalhan et al. and Sengupta et al. considered the effects of the reference orbit eccentric on the relative motion and perturbations, and higher order nonlinear effects were considered in [18]. Majority of these publications assumed the spacecraft to be a 3DOF point mass, which ignores the influence of angular motion the rigid body with respect to the celestial bodies or other spacecraft in formation. Simulation result also indicated that coupled dynamics model was the most accurate (by several factors) of all dynamic models investigated [19]. In literature there are a few approach to modeling optimization that has been successfully developed and validated by simulations. In [20], tracking control issues of the leader-follower spacecraft formation are mitigated by using the concept of dual number or dual quaternion (an approach similar to quaternion that encompasses the use of dual numbers). Six-DOF motion of the follower relative to the leader spacecraft are modeled and coupling effect between translational motion and the rotational is accounted for. Reference [20] had developed and proposed numerous control methods such as robust adaptive terminal sliding mode control law, including the adaptive algorithms, Proportional-Derivative (PD)-like controller and Feedback Linearization Regulator ensure the finite time convergence of the relative motion tracking errors despite the presence of model uncertainties and external disturbances.

7

Chapter 1. Introduction

1.4

Motivation & Challenges

The motivation for this thesis comes from the desire to create an efficient spacecraft formation flying testbed with an actuator payload. The complexity of actuators as payload in orbiting spacecraft system present many challenges and finding solutions to these challenges can move the space industry to further develop. There are various spacecraft systems that have actuator payloads, such as the international space station, large telecommunication satellites, and the Hubble space telescope. These systems are subjected to coupled dynamics but are not mitigated in an efficient way. The motivations and challenges addressed in this thesis are presented: [PROB1] Nonlinear Coupled Dynamics. The equations of motion associated with coupled attitude and orbital dynamics are nonlinear in nature. Mathematical model and simulations of the spacecraft control must take into account the nonlinearities. [PROB2] Limited Hardware Complexity. The new trend of smaller low cost satellites means hardware redundancy will become more difficult to implement. Single actuators that are used for both attitude and translation are generally more complex and expensive to implement. Generally, it can be accepted to use different multiple actuators to simulate capabilities of a single actuator for testing purposes. Controllers in the other hand must be designed for single-actuator systems. [PROB3] Model Uncertainties, External Disturbances and Measurement Noise. The environment of space poses challenges in both estimation and control. Without appropriate control schemes, a space vehicle can be easily be driven to an unstable state. Nonlinear coupled dynamics with sensor noise and model uncertainties can cause further complications. [PROB4] Spacecraft Autonomy. The need for spacecraft autonomy has gained utmost interest and will continue to perpetuate with even greater complexity. Autonomous behavior alleviates the need for constant monitoring and man-in-the-loop at every stage of a satellite's life cycle, thus freeing up resources for more imperative tasks. Objectives achieved in this dissertation should contribute towards this goal. 8

1.4. Motivation & Challenges [PROB5] Formation Control for Asteroid Missions. With growing interest space, more and more missions are being designed. Missions like sending human beings to Mars and other planets are long term goals, and to build experience for these future missions, organizations look to study asteroids first. Thus, spacecraft will require a reliable control system. One of the challenges in asteroid missions is the dynamic coupling effect induced by low orbital radius.

9

Chapter 2

Spacecraft Mathematical Model

The development of spacecraft dynamics and kinematics are highlighted in this chapter. Mathematical modeling is essential in this thesis to build the foundation needed in the proceeding chapters and will be directly linked to the numerical simulations of Chapters 3 and 5. The goal of Chapter 2 is to establish the relevant equations required, so that the reader may comprehend the presented materials. This chapter is broken down into the following sections: orbital dynamics, attitude dynamics, external disturbances, single spacecraft system in planar orbit (5DOF), dumbbell spacecraft system (3DOF), multiple spacecraft formation flying (6DOF), and finally, the chapter is concluded with a brief summary.

2.1

Spacecraft Kinematics and Dynamics

The dynamic and kinematic equations of motion of a spacecraft are derived using the Cartesian coordinate system. Formulation of the nonlinear equations of motion of the spacecraft systems is essential in order to facilitate the nonlinear controller to be developed in Chapter 3.

2.1.1

Orbital Dynamics

An Earth Centered Inertial (ECI) frame, denoted by, Fi - XY Z , has its origin located at the center of the Earth with the Z -axis passing through the celestial north pole, the X -axis directed towards the vernal equinox and the Y -axis completes the right-handed triad. Next, a vector, R 
3

, is defined to represent the orbital position of the spacecraft

from the inertial frame to the orbital frame. In Cartesian coordinates, the position R, 11

Chapter 2. Spacecraft Mathematical Model velocity V , and acceleration A of the spacecraft are expressed in the inertial frame as ^+ Y J ^ + ZK ^ R = XI V = A= dR I ^+ Y J ^+ Z K ^ =X dt d2 R ¨I ^+ Y ¨J ^+ Z ¨K ^ =X dt2 (2.1) (2.2) (2.3)

and the equation of motion of the spacecraft in orbit is given as µm(1 + m/Me ) GMe m(1 + m/Me ) ¨ mR = - R = - R R3 R3 (2.4)

where G = 6.673(10-11 ) m3 kg-1 s-2 is the universal gravitational constant and R is the spacecraft orbital radius. Me and m corresponds to the mass of the Earth and spacecraft, respectively with assumption that m Me . The motion of the spacecraft is described in the body-fixed frame which is situated in the local vertical local horizontal (LVLH) orbiting frame, Fo - xyz , that rotates with an angular velocity o that is further described in the next section. Denoted by FB - xyz , the body-fixed frame is positioned at the mass center of the spacecraft; where the x-axis (radial axis) is parallel to the radial vector R, the y -axis (along-track axis) is parallel to the tangent vector of the orbital path and the z -axis (cross-track axis) is defined as ^ = R × V which completes the right-hand convention. We can see the respective reference zk frames used in this thesis: Fi - XY Z and Fo - xyz , FB - xyz in Figure 2.1.

2.1.2

Attitude Dynamics

Euler angles ( - roll,  - pitch,  - yaw, or 1-2-3 sequence) are commonly used as attitude parameters to describe an orientation of a spacecraft in space. The orientation of the spacecraft can be described in orbiting frame using the following fundamental rotation matrices:  1 0 cos() 0  (2.5)  Cx () =  0  sin()  

0 - sin() cos() 12

2.1. Spacecraft Kinematics and Dynamics

Figure 2.1: Defined spacecraft orbital frame.   cos() 0 - sin()   Cy () =  1 0   0  sin() 0 cos()  sin( ) 0    Cz ( ) =  - sin( ) cos( ) 0 . 0 0 1  cos( )

(2.6)

(2.7)

and can be subsequently combine to form the the directional cosine matrix as follows C = C1 ( )C2 ()C3 () = Cz ( )Cy ()Cx () 13 (2.8)

Chapter 2. Spacecraft Mathematical Model or  c()c() s()c() -s()  (2.9)    C= c (  ) s (  ) s (  ) - s (  ) c (  ) s (  ) s (  ) s (  ) + c (  ) c (  ) c (  ) s (  )   c()s()c( ) + s()s( ) s()s()c( ) - c()s( ) c()c( ) where s and c represents the sine and cosine of the given spacecraft angle. Applying the directional cosine matrix, we can express the body-fixed frame unit vectors in terms of orbital unit vectors     ^ ^      i   io   ^ ^ = C j jo . Bo        ^ ^  k ko

(2.10)

Note: the subscript "Bo" indicates orbital to body-fixed frame transformation, where {B = F, L}. The angles , , and  describe the orientation of a body-fixed frame. As for
T convenience, CoB = CBo . The absolute angular velocity of the spacecraft can be defined

by taking the sum of the spacecraft's reference angular velocity (denoted by B ) and the relative angular velocity to the orbiting frame as follows  = B + o or (2.11)

          - sin (  ) 0 1 B     x        B = By =  cos()sin( ) cos( ) 0            Bz cos()cos( ) -sin( ) 0          sinisin (  +  ) + icos (  +  ) p p       (p + ) o = oy = sinicos(p + ) - isin             +  cosi +   oz  p  = d  dt      ox  

(2.12)

where

(2.13)

and its time derivative (2.14)

here the orbital elements are () Longitude of the ascending node or Argument of Aries or Right ascension of the ascending node (RAAN), (i) Inclination of the orbit plane, (p ) Argument of the periapsis, and () True anomaly [21]. 14

2.1. Spacecraft Kinematics and Dynamics Next the orientation of a spacecraft in space is described using Euler parameters (Quaternion). The unit quaternion, q ¯  and a scalar rotation, q4 , as follows     nsin(/2) q =  q ¯=  cos(/2) q4     × q  q I +q  = = 4 q ¯ T q 4 -q
4 T

, consist of a vector, q =

q1 q2 q3

(2.15)

(2.16)

where q4 is the scalar component and q is the vector component of the unit quaternion q ¯.  and n correspond to the respective Euler angle and Euler axis. Equation 2.15 is subjected
2 to the constraint q T q + q4 = 1. The skew-symmetric matrix, q × , is given as follows



0

-q3 0 q1

q2 0

 (2.17)

 q× =   q3 -q2

 -q1  

Then Equation 2.9 can be written in terms of unit quaternion is given by   2 2 1 - 2(q2 + q3 ) 2(q1 q2 + q3 q4 ) 2(q1 q3 - q2 q4 )   2 2  C (q ) =   2(q1 q2 - q3 q4 ) 1 - 2(q1 + q3 ) 2(q2 q3 + q1 q4 )  2 2 ) + q2 2(q1 q3 + q2 q4 ) 2(q2 q3 - q1 q4 ) 1 - 2(q1 and its time derivative  (q ) = - × C (q ). C (2.19)

(2.18)

2.1.3

External Disturbances

There are two types of external disturbances that affect the motion of the spacecraft: (1) Disturbance forces that can displace the spacecraft in orbit and (2) Disturbance torques that affect the spacecraft's attitude motion. Orbital disturbance force can comprise of a variety of effects, such as gravitational perturbation, solar radiation pressure, and third body disturbances. In low orbit, the most dominant disturbance force is caused by the 15

Chapter 2. Spacecraft Mathematical Model shape (oblateness) of the planet or asteroid or zonal harmonic. The most prominent of the zonal harmonic is the second zonal harmomic (J2 ) and it is given by J2 = Iyy - Izz 2 Mp Rp (2.20)

where Iyy and Izz are the planet's or asteroid's moment of inertia along inertia X - Y and Z axes, respectively. Mp and Rp are the mass and the radius of the planet or asteroid, respectively. The J2 affect spacecraft formation flying as it adds considerable drift to spacecraft if remains unmitigated. The preceding equation assumes symmetrical shape in the X - Y inertial axis. Thus, the potential disturbance of the J2 on the orbiting spacecraft can be determined using the following equation DJ2 = -
2 1 J2 Rp Z2 GMP ms 1- ( 2 - 1) Rs 2 Rs Rs

(2.21)

where ms and Rs are the mass and orbital radius of the spacecraft with orbital radius component Z . G is the universal gravitational parameter [21]. Disturbance torques include gravity-gradient torque, aerodynamic, solar pressure, magnetic and cosmic dust that can range from 10-3 to 10-6 Nm for a medium-sized spacecraft. The control system of the spacecraft not only keep the spacecraft in desired trajectory but also mitigate external disturbances such as the ones mentioned previously.

16

2.2. Single Spacecraft System

2.2

Single Spacecraft System

The single spacecraft's orbital and attitude motions are governed by the following equation ¨ µm mR = 3 R + DC (R, C ) R I  +  × I =  and µ × R IR (2.24) R3 where DC is the nonlinear coupling effect due to orbital-attitude dynamics on the  =3 system and R is the orbital radius.  × is the skew-symmetric matrix of  , and  is the gravitational torque acting on the orbiting spacecraft body with inertia tensor, I . The dependence of the orbital motion on the attitude motion is the aspect that researchers are intrigued about. It is also worth noting that, the dependence of attitude motion on the orbital motion is more commonly seen in many studies [22]. Next, we define R = R^ io so that the radial axis coincides the orbiting frame as follows   ^     io  ^ jo . R 0 0     ^  ko (2.22) (2.23)

R

(2.25)

^o . Then we Similarly we define the absolute angular velocity as  = x^ io + y ^ jo + z k can write the inertial translational acceleration as follows ¨ ¨   ×R R = R + 2( × R) +  × ( × R) +  ^o + R ^o - ( 2 +  2 )^ ¨^  yk  z^ =R io + 2 -R jo + R x y ^ jo + x z k y z io or expressed in the orbital frame,   ¨ - 2R - 2R ^  R  y z  io     ¨   ^ R= 2  R +   R +   R j z x y z    o .  ^    + x z R -  ko -2y R  yR  (2.26)

(2.27)

Next, the relationship between the orbital and attitude motion of an orbiting spacecraft with an arbitrary shape and size, with an element mass dm is examined. Its position is 17

Chapter 2. Spacecraft Mathematical Model described by vector  from the spacecraft center of mass, orbiting with radius, Rm . Then the force exerted on the element mass dm due to the gravitational field is given by dF = - µdm Rm 3 Rm
-3/2

µdm 2(R · ) 2 = - 3 (R + ) 1 + + R R2 R2 where Rm = R + .

(2.28)

Applying Binomial expansion for the terms inside the square-bracket the previous equation becomes dF = - 3(R · ) 3 2 15 (R · )2 µdm ( R +  ) 1 - - + + ··· R3 R2 2 R2 2 R4 (2.29)

^o . Assuming R Let R = R^ io and  = x^ io + y^ jo + z k

 and further expanding to

O(1/R4 ) and neglect higher order terms the preceding equation becomes dF = - µdm µdm µdm R + 3 (-1 + 3^ io · ^ io ) - 4 (^ io · ) 3 R R R 3 µdm 2^ 15 µdm ^ +  io - (io · )^ io . 4 2 R 2 R4

(2.30)

Integrating over the total mass of the spacecraft, F =
m

dF = -

µ µm^ ^) x^ ^ dm i + x(^ io · ^ i) + y (^ io · ^ j ) + z (^ io · k i + y^ j + zk o R2 R4 3 µ^ (2.31) + io (x2 + y 2 + z 2 + 2xy + 2yz + 2zx) dm 2 R4 15 µ ^ ^) dm. - io x(^ io · ^ i) + y (^ io · ^ j ) + z (^ io · k 2 R4

Next the following product of inertial terms are introduced Ixx = x2 dm, Iyy = y 2 dm, Izz = z 2 dm (2.32)

Ixy =

xy dm, Iyz =

yz dm, Izx = 18

zx dm.

(2.33)

2.2. Single Spacecraft System Using the above inertial terms, F can be written as follows F =- + µm^ 3µ io + 4 2 R R Iyy + Izz - Ixx 2 ^ ^ ^ c2 11 io + c11 c12 jo + c11 c13 ko

Izz + Ixx - Iyy 2 Ixx + Iyy - Izz + 2

^ ^ ^ c2 21 io + c21 c22 jo + c21 c23 ko ^ ^ ^ c2 31 io + c31 c32 jo + c31 c33 ko

^o +(Ixy c21 + Ixz c31 ) c11^ io + c12^ jo + c13 k ^o +(Ixy c11 + Iyz c31 ) c21^ io + c22^ jo + c23 k ^o +(Ixz c11 + Iyz c21 ) c31^ io + c32^ jo + c33 k + - + where ^ ^ ^ ^ j = c21 = ^ io · ^ j, ck c^ ^ = c31 = io · k i = c11 = io · i, c^ (2.35) 3 µ^ io 2 R4 15 µ ^ io 2 R4 Ixx + Iyy + Izz + 2 Ixy + Iyz + Izx 2 Iyy + Izz - Ixx 2 Izz + Ixx - Iyy 2 c11 + c21 2 2 (2.34)

Ixx + Iyy - Izz 2 c31 + 2(Ixy c11 c21 + Iyz c21 c31 + Izx c11 c31 ) 2

and explicitly using the directional cosine matrix, C, the unit vectors are obtained ^o ^ i = c11^ io + c12^ jo + c13 k ^o ^ j = c21^ io + c22^ jo + c23 k ^ = c31^ ^o . k io + c32^ jo + c33 k Now using the following relations:
2 2 c2 11 + c21 + c31 = 1

(2.36) (2.37) (2.38)

(2.39) (2.40) (2.41)

c11 c21 + c12 c22 + c13 c23 = 0 c21 c31 + c22 c32 + c23 c33 = 0 19

Chapter 2. Spacecraft Mathematical Model c11 c31 + c12 c32 + c13 c33 = 0 c11 c12 + c21 c22 + c31 c32 = 0 (2.42) (2.43)

Expanding Equation 2.34 and substitute Equations 2.22 and 2.27 to the above relations, the orbital equation with integrated attitude-dependent disturbing force (orbital-attitude coupling effect) is obtained µm ¨ mR = - 3 R + DC (R, C ) R and expressed in the orbiting frame, Fo : µm ¨ ^o mR = - 2 ^ io + DC1^ io + DC2 ^ jo + DC3 k R ^o and given as where DC (R, C ) = DC1^ io + DC2 ^ jo + DC3 k 3µ 2 2 -(Ixx + Iyy + Izz ) + 3(Ixx c2 11 + Iyy c21 + Izz c31 ) 2R4 (2.44)

(2.45)

DC1 =

(2.46)

+ 2Ixy (1 - 3c11 c21 ) + 2Iyz (1 - 3c21 c31 ) + 2Izx (1 - 3c11 c31 ) DC2 = 3µ -2Ixx c11 c12 - 2Iyy c21 c22 - 2Izz c31 c32 + 2Ixy (c12 c21 + c11 c21 ) 2R4 3µ -2Ixx c11 c13 - 2Iyy c21 c23 - 2Izz c31 c33 + 2Ixy (c21 c13 + c11 c23 ) 2R4

(2.47)

+ 2Iyz (c31 c22 + c21 c32 ) + 2Izx (c31 c12 + c11 c31 ) DC3 =

(2.48) 0, then (2.49)

+ 2Iyz (c31 c23 + c21 c33 ) + 2Izx (c31 c13 + c11 c33 ) . Using Equations 2.26 and 2.45 and from the definition of Fo , note that y ^o ^o = - µm^ ¨^ ¨^ ¨k io + DC1^ io + DC2 ^ jo + DC3 k mR io + mR jo + mR R2

and further simplifying, the full nonlinear attitude-dependent orbital (translational) equations of motion is given by ¨ -  2 R = - µ + DC1 R oz R2 m DC2  + 2oz R  oz R = m DC2 ox = . moz R 20 (2.50) (2.51) (2.52)

2.2. Single Spacecraft System

Note that Equation 2.52 is an algebraic relationship if rotation in the radial axis is neglected [21][22]. Since both the orbital frame and the body-fixed leader frame coincide the issue of translation motion is trivial. However, with respect to the attitude, it is much more complicated. The rotation set is based on Equation 2.23 and it is known that the inertial angular velocity is  = B + CBo o . From the above equation, the time derivatives of  is  = d  = d B + d (CBo o )  dt dt dt B + C  Bo o + CBoo =  B -  × CBo o + CBoo = Bo and attitude dynamics of the spacecraft, expressed in body-fixed frame is given by I  = -(B + CBo o )× IB (B + CBo o ) + . (2.55) (2.53)

(2.54)

Now, dimensionless inertia parameters are introduced so that the analysis are applicable to any spacecraft system undergoing attitude and translational motion. The spacecraft moment of inertia is defined by introducing the new dimensionless parameters ¯ , given as follows k1 , k2 , k3 and K k1 = (Iyy - Izz )/Ixx , k2 = (Izz - Ixx )/Iyy , k3 = (Ixx - Iyy )/Izz (2.56)

¯ = K

    I /I I /I I /I    xy xx yz xx zx xx  Ixy /Iyy Iyz /Iyy Izx /Iyy Ixy /Izz Iyz /Izz Izx /Izz      

(2.57)

21

Chapter 2. Spacecraft Mathematical Model The attitude motion of the rigid body is given as follows
2 2 Ixx   x - (Iyy - Izz )y z - Ixy (  y - x z ) - Ixz (  z - x y ) - Iyz (y - z ) = x 2 2 ) = y - x Iyy   y - (Izz - Ixx )z x - Ixy (  x - y z ) - Iyz (  z - x y ) - Ixz (z 2 2 ) = z - y Izz   z - (Ixx - Iyy )x y - Ixz (  x - y z ) - Iyz (  y - x z ) - Ixy (x

(2.58) (2.59) (2.60)

where angular velocity components are defined using "3-2-1" Euler angle (, ,  ) sequence and are given by x = -(oz +   )sin +    y = (oz +   )cossin + cos   )coscos - sin z = (oz +  . Next, to define the gravitational torque,   where oz = 
3

(2.61) (2.62) (2.63) , exerted on the single

spacecraft system Euler method is used and integrated with respect to the body mass, dm, of the spacecraft. The exerted gravitational torque is summarized as
2 c c x = -(Iy - Iz )o z 23 33 2 y = -(Iz - Ix )o c c z 33 13 2 c c z = -(Ix - Iy )o z 13 23

(2.64) (2.65) (2.66)

where the orbital rate, oz is dependant on the orbital motion (constant for decoupled systems) and cij are the directional cosine matrix elements. Using Equations 2.56 to 2.66 and re-arranging, the full nonlinear attitude equations is given as
2 2 2 - z ) = -k1 o c c (2.67)   x - k1 y z - K11 (  y - x z ) - K31 (  z - x y ) - K21 (y z 23 33 2 2 2   y - k2 z x - K21 (  x - y z ) - K22 (  z - x y ) - K23 (z - x ) = -k2 o c c (2.68) z 33 13 2 2 2 ) = -k3 o c c . (2.69)   z - k3 x y - K33 (  x - y z ) - K32 (  y - x z ) - K31 (x - y z 13 23

22

2.2. Single Spacecraft System Finally, the full nonlinear orbital-attitude dynamics for single spacecraft system with 6DOF without external disturbances, is presented: ¨ -  2 R = - µ + DC1 R oz R2 m DC2  + 2oz R  oz R = m DC2 ox = moz R (2.70) (2.71) (2.72)

2 2 2   x - k1 y z - K11 (  y - x z ) - K31 (  z - x y ) - K21 (y - z ) = -k1 o c c (2.73) z 23 33 2 2 2   y - k2 z x - K21 (  x - y z ) - K22 (  z - x y ) - K23 (z - x ) = -k2 o c c (2.74) z 33 13 2 2 2   z - k3 x y - K33 (  x - y z ) - K32 (  y - x z ) - K31 (x - y ) = -k3 o c c (2.75) z 13 23

where

DC1 =

3µ 2 2 -(Ixx + Iyy + Izz ) + 3(Ixx c2 11 + Iyy c21 + Izz c31 ) 2R4

(2.76)

+ 2Ixy (1 - 3c11 c21 ) + 2Iyz (1 - 3c21 c31 ) + 2Izx (1 - 3c11 c31 ) DC2 = 3µ -2Ixx c11 c12 - 2Iyy c21 c22 - 2Izz c31 c32 + 2Ixy (c12 c21 + c11 c21 ) 2R4

(2.77)

+ 2Iyz (c31 c22 + c21 c32 ) + 2Izx (c31 c12 + c11 c31 ) DC3 = 3µ -2Ixx c11 c13 - 2Iyy c21 c23 - 2Izz c31 c33 + 2Ixy (c21 c13 + c11 c23 ) 2R4

(2.78)

+ 2Iyz (c31 c23 + c21 c33 ) + 2Izx (c31 c13 + c11 c33 ) .

23

Chapter 2. Spacecraft Mathematical Model

2.3

Dumbbell Spacecraft System

One of the most highly studied form of coupling is the dumbbell spacecraft system. The dumbbell system consist of two spacecraft that are mutually intertwined by a rigid massless tether. The following mathematical model encapsulates the simplest model of a dumbbell system. Although dumbbell system can have 6DOF motion, it is much simpler to study coupling effects using 3DOF (radial motion, R, orbital motion,  and in-plane (pitching) libration,  , in this case, we annotated in-plane libration as  ). Other DOF include outof-plane motion, z , radial (rolling) libration,  and orbital (yawing) libration, . Figure 2.2 outlines the orbital elements described.

Figure 2.2: Dumbbell satellite system connected by a massless tether. Full derivation of the spacecraft dumbbell system using Lagrange's Method can be in found in [21]. The dumbbell system's potential (U ) and kinetic (T ) energies with coupling effect are described by the follow equations U and T : U= µm µme L2 + (1 - 3cos2  ) R 2R3 24 (2.79)

2.3. Dumbbell Spacecraft System 1 2 R2 ) + 1 me L2 ( +  )2 2 +  T = m(R 2 2 where me =
m1 m2 m

(2.80)

and m = m1 + m2 , is the total mass of the system. L, R, , and  cor-

respond to the massless rigid tether, c.m. orbital radius, c.m. orbital anomaly and system in-plane libration about the local vertical pivoting at the mass center S, respectively. Taking counterclockwise as positive  according to the right-hand rule and using the preceding equations, the equation of motion of the system are as follows [21]: ¨ - m 2 R + mR oz µm 3µme L2 - (1 - 3cos2  ) = 0 R2 2R4 ¨) = 0  - me L2 ( m  oz R + 2moz R  oz + 
2 ¨) + 3µme L cossin = 0 me L2 (  oz +  R3

(2.81) (2.82) (2.83)

or ¨ =  2 R - µ + DC1 R oz R2 m  o RR DC2   oz = -2 z + R m ¨ = -k3  2 c13 c23 
oz

(2.84) (2.85) (2.86)

where coupling effect is caused by the attitude libration of the system is given as follows DC1 = 3µme L2 Izz + 3(Izz c2 31 ) 4 2R 3µme L2 Izz c31 c32 . R4 (2.87) (2.88)

DC2 = -

25

Chapter 2. Spacecraft Mathematical Model

2.4

Multiple Spacecraft Formation Flying System

The SFF comprises of a target (leader) spacecraft, a reference object or point in space (that is passive and non-maneuvering) that orbits about a point of interest (in this case the planet Earth) and a chase (follower) controllable spacecraft (that is active and performs maneuvers) moving or stationed in a desired trajectory relative the target. The terms leader and follower will be used henceforth to describe objects or spacecraft. Denoted by FL - xyz , the leader body-fixed frame is positioned at the mass center of the leader spacecraft; where the x-axis (radial axis) is parallel to the radial vector RL , the y -axis (along-track axis) is parallel to the tangent vector of the orbital path and the z -axis (cross-track axis) is  ^ = RL × R defined as z k L which completes the right-hand convention. The follower bodyfixed frame denoted by FF - xyz , is also positioned at mass center of the follower spacecraft as described in 2.3. The orbital and attitude equations for the leader and follower are given as Leader spacecraft equation of motion: µmL ¨ mL RL = - 3 RL + DCL + DL RL IL   L = -(L + CLo o )× IL (L + CLo o ) + L Follower spacecraft equation of motion: µmF ¨ mF RF = - 3 RF + DCF + DF RF IF   F = -(F + CF o o )× IF (F + CF o o ) + F (2.91) (2.92) (2.89) (2.90)

where Me , m, I , R,  ,  , D and DC represents the mass of Earth, spacecraft mass, spacecraft inertia tensor, radial distance, angular velocity, external torque, external disturbance, and attitude-dependent coupling for both leader and follower, respectively. The orbital motion of the multiple spacecraft system can be disturbed by the J2 disturbance caused by the Earth's oblateness, the J2 disturbance for the leader and follower are given by J2L = - 3µJ2 Re 2 2 RL
5

 {1 -    {1 -  {3 -

5ZL 2 } XL RL 2   5ZL 2 } YL  RL 2  5ZL 2 } Z L RL 2

 (2.93)

26

2.4. Multiple Spacecraft Formation Flying System  J2F = - 3µJ2 Re 2    2 RF 5 
ZF 2 }XF {1 - 5 RF 2 2 ZF {1 - 5 } YF RF 2 2 ZF {3 - 5 }ZF RF 2

     (2.94)

where µ is the Earth's gravitational parameter, Re is the radius of the Earth and J2 = 1.0826 × 10-3 Nm is the second zonal gravitational coefficient. Finally, the differential J2 term in the relative dynamics frame can be determined by transforming the difference back from the inertial frame to the orbital frame which is given as J2F L = Coi [J2F - J2L ] [6].

Figure 2.3: Schematic of leader-follower system. Follower-Leader Orbital Kinematics The orbital motion of the follower relative to the leader frame can defined by RF  as follows RF 
3 T 3

, RF = R +  27

RL + x y z

.

(2.95)

Chapter 2. Spacecraft Mathematical Model Applying the single spacecraft system equations of motion developed in Section 2.2 for single spacecraft, the relative orbital and attitude kinematic model can be formulated. From translation dynamics µmL µmF ¨ ¨ mF RF - mL RL = - 3 RF + - 3 RL + DC RF RL then ¨ = f (RF , RL ) + DCF - DCL  mF mL where 1 1 RF - 3 RL . 3 RF RL and using Figure 2.3 the relative inertial acceleration can be defined as f (RF , RL ) = -µ ¨=  ¨xyz + 2(o ×   xyz ) + o × (o × xyz ) +   o × xyz  ¨xyz is defined by where  ¨xyz = x ^o .  ¨^ io + y ¨^ jo + z ¨k Expanding Equation 2.99
2 2 )x + (ox oy -   oz )y + (oz ox +   oy ) z + o  ¨x = x ¨ + 2oy z  - 2oz y  - (o z y 2 2  ¨y = y ¨ + 2oz x  - 2ox z  + (ox oy +   oz )x - (o + o )y + (oz oy -   ox )z z x 2 2  ¨z = z ¨ + 2  ox y  - 2oy x  + (oz ox -   oy )x + (oy oz +   ox )y + (o + o )z. x y

(2.96)

(2.97)

(2.98)

(2.99)

(2.100)

(2.101) (2.102) (2.103)

Taking Equations 2.101 - 2.103 and 2.98, the general relative spacecraft formation flying orbital dynamics is given by
2 2 x ¨ + 2  oy z  - 2oz y  - (o + o )x + (ox oy -   oz )y + (oz ox +   oy )z y z µ µ = - 3 (RL + x) + 2 R R 2 2 y ¨ + 2oz x  - 2ox z  + (ox oy +   oz )x - (o + o )y + (oz oy -   ox )z z x µ = - 3 (y ) R 2 2 z ¨ + 2ox y  - 2oy x  + (oz ox -   oy )x + (oy oz +   ox )y + (o + o )z x y µ = - 3 (z ) R

(2.104)

(2.105)

(2.106)

28

2.4. Multiple Spacecraft Formation Flying System
1/2

where R = (RL + x)2 + y 2 + z 2

.

To compute the coupling kinematics, the differential coupling is treated exactly as the J2 differential disturbance force. It is needed to define the differential coupling acting on the follower with respect to the leader in the orbital frame. Thus, it is required that to first transform the body-fixed coordinates into the orbital frame. DCF (xyz )o = CoF DCF (xyz )F DCL (xyz )o = CoL DCL (xyz )L (2.107) (2.108)

then DCF L = DCF (xyz )o - DCL (xyz )o with orbital frame components DCx , DCy and DCz . Thus, the transformation matrices given in quaternion are defined as qoF = q ¯o qoL = q ¯o and also worth noting that CoF = C (qoF ) CoL = C (qoL ) (2.111) (2.112) q ¯F q ¯L (2.109) (2.110)

for simplicity we compute DC separately for the leader and follower spacecraft as DC = ^o and given by DC1^ io + DC2 ^ jo + DC3 k DC1 = 3µ 2 2 -(Ixx + Iyy + Izz ) + 3(Ixx c2 11 + Iyy c21 + Izz c31 ) 4 2R + 2Ixy (1 - 3c11 c21 ) + 2Iyz (1 - 3c21 c31 ) + 2Izx (1 - 3c11 c31 ) DC2 = 3µ -2Ixx c11 c12 - 2Iyy c21 c22 - 2Izz c31 c32 + 2Ixy (c12 c21 + c11 c21 ) 2R4 + 2Iyz (c31 c22 + c21 c32 ) + 2Izx (c31 c12 + c11 c31 ) DC3 = 3µ -2Ixx c11 c13 - 2Iyy c21 c23 - 2Izz c31 c33 + 2Ixy (c21 c13 + c11 c23 ) 2R4 + 2Iyz (c31 c23 + c21 c33 ) + 2Izx (c31 c13 + c11 c33 ) .

(2.113)

(2.114)

(2.115)

29

Chapter 2. Spacecraft Mathematical Model The differential DCF L term in the relative dynamics frame can be determined by transforming the difference back from the orbital frame to the follower body-fixed frame
-1 o F which is given as DC = CoF DCF L . Finally the full spacecraft formation flying kinematic FL

model with coupled dynamics can be given by Full nonlinear SFF Orbital Equations:
2 2 x ¨ = 2oz y  - 2oy z  + (o + o )x - (ox oy -   oz )y - (oz ox +   oy )z y z µ µ - 3 (RL + x) + 2 + DCx R R 2 2 y ¨ = 2ox z  - 2oz x  - (ox oy +   oz )x + (o + o )y - (oz oy -   ox )z z x µ - 3 (y ) + DCy R 2 2 z ¨ = 2oy x  - 2ox y  - (oz ox -   oy )x - (oy oz +   ox )y + (o + o )z x y µ - 3 (z ) + DCz . R

(2.116)

(2.117)

(2.118)

Follower-Leader Attitude Kinematics The relative quaternion and its time derivative of the follower with respect to leader expressed in follower frame can be described by:
T

q ¯F L = or  

qF L q4

=q ¯F

q ¯L

(2.119)

  × qF L q q ¯ + q4L q ¯F + q ¯F q ¯L  =  4F L  q ¯F L =  q4 F L qF     × q  1 q I + qF L  F L =  F L  =  4 q ¯ F L 2 q 4 -q T
FL

(2.120)

(2.121)

where qF and qL are the quaternion of the follower and leader, respectively. Likewise, the relative angular velocity, F L , of the follower with respect to the leader expressed in the inertial frame is defined as follows
i F L = Cio CoF F - Cio CoF CF L L

(2.122)

30

2.4. Multiple Spacecraft Formation Flying System or in follower frame:
F F L = F - CqF L L

(2.123)

where CqF L is the directional cosine matrix as function of the relative quaternion defined in Subsection (2.1.2). For convenience, Let CqF L = C (qr ) and F L = r . Using the attitude equations in Section (2.2) and Equation 2.123, the time derivative is taken, and then multiply by IF : IF d d d F F r = IF  r = IF F - IF (C (qr )L ) dt dt dt  (qr )L - {IF C (qr ) = {IF   F } - IF C  L} =
× -F IF F

(2.124)

+ F + UF -

× IF r C (qr )L

-1 × -1 -1 - IF C (qr )(-IL L IL L + IL L + IL UL ) .

Thus, the relative attitude dynamics of the follower body-fixed frame relative to the leader body-fixed frame expressed in the follower body-fixed frame is obtained as Full nonlinear SFF Attitude Equations:   × q I + q 1 r  r =   =  r4 r q ¯ T 2 -qr q r4  q r 
F IF  r = - (r + C (qr )L )× IF (r + C (qr )L ) × - IF r C (qr )L -1 × - IF C (qr )IL (-L IL L + L + UL ) + F + UF .

(2.125)

(2.126)

Note: r is a 3 × 1 matrix with components rx , ry , and rz . Thus, the closed-loop relative equation of motion of the spacecraft formation flying system can be presented as:

2 2 x ¨ = 2oz y  - 2oy z  + (o + o )x - (ox oy -   oz )y - (oz ox +   oy )z y z µ µ - 3 (RL + x) + 2 + DCx + Dx + Ux R R 2 2 y ¨ = 2ox z  - 2oz x  - (ox oy +   oz )x + (o + o )y - (oz oy -   ox )z z x µ - 3 (y ) + DCy + Dy + Uy R

(2.127)

(2.128)

31

Chapter 2. Spacecraft Mathematical Model
2 2 )z + o z ¨ = 2oy x  - 2ox y  - (oz ox -   oy )x - (oy oz +   ox )y + (o y x µ - 3 (z ) + DCz + Dz + Uz R

(2.129)

  × 1 q I + qr  r =  r4 r q ¯ T 2 -qr
-1 -1 F ×  r = - IF (r + C (qr )L )× IF (r + C (qr )L ) - IF IF r C (qr )L -1 -1 × - IF IF C (qr )IL (-L IL L + L + UL ) + F + UF

(2.130)

(2.131)

Note: oz and R are the coupling effect factors that affects formation flying, the coupling effect is inherently affected by the orbital rate and can be treated as nonconstant. Since  and R are variable when applying to SFF simulations, the dynamic coupling of the formation can be more readily observed.

32

2.5. Formation Types

2.5

Formation Types

Spacecraft formation flying geometry is defined depending on the chosen frame of reference. In most cases formation geometry is relative to the LVLH frame and use the leader spacecraft as the origin of the formation as seen in Figure 2.3. In centralized formation, a reference object must first be chosen before the formation can be initialized. The following formation geometries will be briefly outlined: circular, projected circular and alongtrack formation. In the circular formation the follower maintains a prescribed distance to the leader spacecraft while freely moving about the leader, whereas the projected circular configuration distance is fixed only in the along/cross-track (y and z ) plane. Finally, alongtrack formation requires the follower to maintain a distance while following the orbital path of the leader spacecraft. 1. Circular Formation: The leader and the follower spacecraft maintain a constant separation from each other in three-dimensional space and the formation is mathematically defined as x2 + y 2 + z 2 = 2 c.      x d      sin (oz t + )  c =  2 cos (oz t + ) yd   2       3 sin (oz t + ) zd

    (2.132)

2. Projected Circular Formation: The leader and the follower spacecraft maintains a fixed relative distance when the formation is projected onto the along-track/crosstrack (y - z ) plane, and is mathematically defined as y 2 + z 2 = 2 pc .       x sin (  t +  ) d o   z      pc   = yd 2 cos (  t +  ) o z    2      zd 2 sin (oz t + )

(2.133)

3. Along Track Formation: The leader and the follower spacecraft maintains a fixed relative distance in the along-track axis defined as      x 1 d      = rat  yd  0       zd 0 33 x = at .     (2.134)

Chapter 2. Spacecraft Mathematical Model Each formation type is defined by a formation radius c , pc and at .  is the in-plane phase angle between the leader and the follower spacecraft [21].

2.6

Summary

Chapter 2 established the mathematical model required to propose control laws to be described in Chapter 3. The fundamental orbital and attitude dynamics, and external disturbances have been formulated in Section 2.1. Section 2.3 described a simple case of spacecraft dumbbell system with three out of six DOF and quantified the coupling terms. Sections 2.2 and 2.4 outlined the orbital and attitude dynamics with coupling effects for single spacecraft (rigid body) and multiple spacecraft formation flying systems. It can observed that the effects of attitude dynamics in the orbital motion are not as apparent as the effects of the orbital dynamics on the attitude motions. Orbital-attitude coupling is severely affected by the orbital radius and true anomaly. It is so minuscule that it is negligible for applications involving Earth orbits or large celestial bodies. However, orbitalattitude coupling becomes an important factor in low radius orbit mission such as asteroid topography or small planetary studies.

34

Chapter 3

Nonlinear Control for Spacecraft Systems

Nonlinear control of spacecraft systems described in Chapter 2 are investigated and developed in this Chapter. Nonlinear controllers are more complex than linear controller, but nonlinear controllers offer insights on spacecraft systems that are inherently nonlinear. The purpose of this chapter is to develop a nonlinear controller for the space systems described in this thesis using Feedback Linearization control theory. The algorithms developed were based on the assumption that the spacecraft applied with these control laws are fully-actuated and maintain the number of actuators greater than or equal to the number of degrees-of-freedom to be controlled. Effects due to dynamic and kinematic coupling are very weak and are neglected when linearized, which can lead to spacecraft failure due to drift or over-actuation that are mainly caused by unmodeled dynamics or uncertainties in the long term. Control of spacecraft system is a necessary component in a space mission success. Without proper control, spacecraft cannot mitigate external disturbances, time-varying uncertainties and forces which, with utmost certainty, lead to mission failure. Although simple linear controllers can be used to control spacecraft with coupled dynamics, it is not recommended if the goal is to examine coupled dynamics. Linear controllers approximate the spacecraft dynamics and the high-order or nonlinear terms are neglected using Jacobian linearization. Feedback linearization is perfect for this system because the spacecraft's nonlinear coupled dynamics is preserved.

35

Chapter 3. Nonlinear Control for Spacecraft Systems

3.1

Error Dynamics

Feedback linearization is a common control approach to nonlinear control design. The method involves algebraically transforming a nonlinear system dynamics into a full or partial linear dynamics and thus, linear control techniques may be applied. Feedback linearization transform the original complex model into equivalent models of simpler form. This approach differs from Jacobian linearization as exact state feedback is achieved in feedback linearization as opposed to approximations of the dynamics. The advantage of this control method is that it can be used for complex nonlinear dynamics such as coupled dynamics. Likewise, the disadvantages of this techniques include requirement of full state measurements and requires the actuators to behave in a nonlinear nature, which can be problematic in system implementation. Feedback linearization has been successfully used in many practical control problems such as control of helicopters, high performance aircraft, industrial robots, and biomedical devices [23].

3.1.1

Single Spacecraft System

In order cancel the system nonlinearities, error dynamics must be first defined. Consider the closed-loop nonlinear equation of motion of the single spacecraft system ¨ = f (X ) + f (D) + U X ¨= R ¨  X x  y  z  oz 
T

(3.1) (3.2)

where the X , D, and U represents the system states, system disturbances with coupling, and system control, respectively. The nonlinear dynamics of single spacecraft system can be presented as   µ 2    R -   oz R2        2  R   o z   -   R   2 2 2 f (X ) = k1 y z + K11 (  y - x z ) + K31 (  z - x y ) + K21 (y - z ) - k1 oz c23 c33       2 2 2   k   + K (   -   ) + K (   -   ) + K (  -  ) - k  c c   2 z x 21 x y z 22 z x y 23 2 33 13 z x o z       k   + K ( 2 2 2  y - x z ) + K31 (x - y ) - k3 oz c13 c23  3 x y 33  x - y z ) + K32 ( (3.3) 36

3.1. Error Dynamics and the disturbances can be written as follows f (D) = DC + D     DC1    DR      m             DC2         D     m      DC = , D= 0 0                 0 0                 0   0   (3.4)

(3.5)

where, DC (function of orbital rate, orbital radius, and orientation) is the nonlinear attitude-dependent coupled dynamics associated with the single spacecraft system and we can model the coupling dynamics as an extension of nonlinear disturbance. DR and D are radial and orbital components of J2 disturbance in a planar orbit without inclination, given as follows DR = CBi J2x D = CBi J2y . (3.6) (3.7)

The closed-loop full nonlinear equation of motion with coupled dynamics for single spacecraft in planar orbit is given by ¨ =  2 R - µ + DC1 + DR + UR (3.8) R oz R2 m  2oz R DC2 + + D + U  (3.9)   oz = - R m 2 2 2   x = k1 y z + K11 (  y - x z ) + K31 (  z - x y ) + K21 (y - z ) - k1 o c c + U (3.10) z 23 33
2 2 2   y = k2 z x + K21 (  x - y z ) + K22 (  z - x y ) + K23 (z - x ) - k2 o c c + U (3.11) z 33 13 2 2 2 - y ) - k3 o c c + U . (3.12)   z = k3 x y + K33 (  x - y z ) + K32 (  y - x z ) + K31 (x z 13 23

Then, the required control at reference trajectory is calculated as ¨ r = f (Xr ) + Ur X (3.13)

subtracting Equations 3.1 and 3.13, the tracking error equation for single spacecraft system simplifies to e ¨ = f (X ) + f (D) - f (Xr ) + U. ¨ -X ¨ r and U = Ur + U . Note: e ¨= X 37 (3.14)

Chapter 3. Nonlinear Control for Spacecraft Systems

3.1.2

Dumbbell Spacecraft System

Similarly for the dumbbell spacecraft system, the closed-loop nonlinear equation of motion is given as ¨ = f (X ) + f (D) + U X ¨= R ¨ ¨  X  oz 
T

(3.15) (3.16)

where the X , D, C and U represents the system states, system disturbances, coupling effects and system control, respectively. The nonlinear dynamics of the spacecraft dumbbell system can be written as follows       
2 - Ro z  µ R2

f (X ) =

oz - 2R R

   

(3.17)

   3µ Me - 2R3 (sin2 + M R2 sin2 )
L2

and the disturbance model is presented as f (D) = DC + D     3µMe L2 2     (1 - 3 cos  )    4   2M R DR   2 3µMe L 2 DC = , D = D (sin  ) 2M R 4             0 0 (3.18)

(3.19)

where DC is the nonlinear attitude-dependent coupled dynamics associated with spacecraft dumbbell system. Thus, we model the coupling dynamics as an extension of nonlinear disturbance and the value of DR and D are given in Equations 3.6 and 3.7. Approximate closed-loop full nonlinear dynamically coupled equation of attitude and orbital motion of spacecraft in planar orbit, adapted from [21]: ¨ = R 2 - µ + 3µ (1 - 3cos2  ) + UR + DR R oz R2 2R4  oz 2R 3µ   oz = - + (sin2  ) + U + D R 2R4 2 ¨ = 3µ (sin2 + Me L sin2 ) + U .  2R3 M R2 The required control at reference trajectory is calculated as ¨ r = f (Xr ) + f (Ur ) X 38 (3.20) (3.21) (3.22)

(3.23)

3.1. Error Dynamics subtracting 5.9 and 5.15, the tracking error equation simplifies to e ¨ = f (X ) + f (D) - f (Xr ) + U. ¨ -X ¨ r and U = Ur + U . Note: e ¨= X (3.24)

3.1.3

Multiple Spacecraft Formation Flying System

Lastly, the closed-loop equation of motion for multiple spacecraft system is presented as ¨ = f (X ) + f (D) + U X ¨= x r  X ¨ y ¨ z ¨ q ¯ r
T

(3.25) (3.26)

where the X , D, and U represents the twenty system states, system disturbances with coupling, and system control, respectively. The nonlinear dynamics of single spacecraft system can be presented as   2 2    oz )y - . . .  + (oy + oz )x - (ox oy -   - 2oy z 2oz y           µ µ     . . . (   +   ) z - ( R + x ) + oz ox oy L 3 2   R R       2 2     2ox z  - 2oz x  - (ox oy +   oz )x + (oz + ox )y - . . .         µ     . . . (   -   ) z - ( y ) oz oy ox 3   R         2oy x  - 2ox y  - (oz ox -   oy )x - (oy oz +   ox )y + . . . (3.27) f (X ) =   µ 2 2   ( z ) . . . (  +  ) z -   3 ox oy    R       ×     q I + q r 4 r   1        r 2   T   - q   r         - 1 - 1 × ×   - I { (  + C ( q )  ) I (  + C ( q )  ) } - I { I  C ( q )  } . . .   r r L F r r L F r L r F F       -1 -1 ×   . . . - IF IF C (qr )IL (-L IL L + L + UL ) where qr and r are 4 × 1 and 3 × 1 matrices, respectively. The disturbance force and torque equations are written as follows f (D) = DC + D 39 (3.28)

Chapter 3. Nonlinear Control for Spacecraft Systems        DCx /m Dx                         D /m D C y    y      DC = DCz /m , D = Dz                 0 0                    0      Ux         U     y     U = Uz         0        U   

(3.29)

(3.30)

where, DC (as a function of orbital rate, orbital radius, and orientation) is the nonlinear attitude-dependent coupled dynamics associated with the SFF and we can model the coupling dynamics as an extension of nonlinear disturbance. The value ofDj for j = x, y, z are calculated by taking the differential J2 in Equations 2.93 and 2.94. U is the control torque required to orient the spacecraft. The approximated closed-loop full nonlinear equation of motion with couple dynamics [24][22][21]:
2 2 x ¨ = 2oz y  - 2oy z  + (o + o )x - (ox oy -   oz )y - (oz ox +   oy )z y z µ µ - 3 (RL + x) + 2 + DCx + Dx + Ux R R 2 2 y ¨ = 2ox z  - 2oz x  - (ox oy +   oz )x + (o + o )y - (oz oy -   ox )z z x µ - 3 (y ) + DCy + Dy + Uy R 2 2 z ¨ = 2oy x  - 2ox y  - (oz ox -   oy )x - (oy oz +   ox )y + (o + o )z x y µ - 3 (z ) + DCz + Dz + Uz R   × 1 q I + qr  r =  r4 q ¯ r T 2 -qr -1 -1 F × C (qr )L  r = - IF (r + C (qr )L )× IF (r + C (qr )L ) - IF IF r

(3.31)

(3.32)

(3.33)

(3.34)

-

-1 IF

-1 × IF C (qr )IL (-L IL L

(3.35)

+ L + UL ) + F + UF . 40

3.2. Controller Design Next, the required control at reference trajectory is calculated as ¨ r = f (Xr ) + Ur X subtracting 3.25 and 3.36, the state error equation simplifies to e ¨ = f (X ) + f (D) - f (Xr ) + U. ¨ -X ¨ r and U = Ur + U . Note: e ¨= X (3.37) (3.36)

3.2

Controller Design

Feedback linearization cancels out the nonlinearities in the nonlinear system dynamics so that the closed-loop dynamic is of a linear form. The goal of the controller is to perform rest-to-rest maneuvers and maintain stability of the spacecraft systems, mathematically this means:
t 

lim X = Xd .

(3.38)

The next step is to design a generic control law to evaluate the tracking errors formulated in the previous section and mitigate disturbing forces (both external disturbances and coupling effects) of the presented spacecraft systems.To control the spacecraft systems, equations 3.14, 3.24, and 3.37 are subject to conform similarly to the desired error response as given by e ¨ + 2 e  + 2e = 0 4  (3.39)

Ts =

(3.40)

¨ -X ¨r , e  -X  r and e = X - Xr are the tracking errors. Ts is the where e ¨=X  =X desired system settling time (within ±2% of the steady-state value) as a function  and  which corresponds to the damping ratio and natural frequency, respectively. Thus, the nonlinear control law can be obtained and takes the form of U = Ur + U where U = -2 e  -  2 e - f (X ) - f (D) + f (Xr ). 41 (3.42) (3.41)

Chapter 3. Nonlinear Control for Spacecraft Systems

3.3

Summary

A generic nonlinear control algorithm for each spacecraft system was developed using feedback linearization control theory. Equations were used from Chapter 2.2, 2.3 and 2.4 to develop the control algorithm for Single, Dumbbell, and Multiple spacecraft systems. In the proceeding chapters, the developed control algorithms are used in numerical simulations to examine the orbital-attitude coupling effects.

42

Chapter 4

Numerical Simulations

This Chapter numerically simulations various test cases for the described systems in Chapter 2. Results and conclusion are outlined in their respective subsections as well as brief overview is given for each case scenarios.

4.1

Single Spacecraft System (5DOF)

Two scenarios for single spacecraft system is simulated to evaluate the control effectiveness under coupling effect. The spacecraft orbits the Earth or the asteroid 4 Vesta (Figure 4.1); it is required maintain desired position and orientation, which parameterize the spacecraft to have 6DOF (three for orbital motion and three for attitude motion). Although the single spacecraft has 6DOF, both cases simulated in this section assume no rotation in radial axis nor the inertial Y-axis and therefore ox = oy = 0. Single spacecraft system with 5DOF is simulated and results are discussed in this proceeding section.

4.1.1

Case Scenario

A rigid-body spacecraft in a planar orbit at an altitude of 500 km above the surface of the Earth (Case 1) and at altitude of 10 km from the surface of the asteroid 4 Vesta (Case 2) with 5 and 10 km of positional error, respectively, shown in Figure 4.3. The spacecraft is assumed to experience J2 disturbance. Additional orbital parameters are outlined in Table 4.5. Feedback linearization method is used to define the control law in order to control the spacecraft and utilizes the equation of motion described in Chapter 2.2, Equations 2.70 through 3.12. Different initial parameters are applied to simulate the controller's effectiveness as well as to observed the effect of orbital-attitude coupling to the spacecraft, 43

Chapter 4. Numerical Simulations please see Table 4.3 for the initial conditions and Table 4.4 for the reference trajectory. The goal of the simulation is to examine the effects of coupling for single spacecraft system undergoing Earth and asteroid orbit.

Figure 4.1: Asteroid 4 Vesta [ESA, 2010].

Table 4.1: Earth and Vesta Parameters. unit Mass Radius Gravitational Parameter M , kg R, km µ, km3 /s2 Earth 4.129 × 1024 6378 398600 Vesta 2.590 × 1020 266.0 17.8659

44

4.1. Single Spacecraft System (5DOF) Table 4.2: Spacecraft Parameters. unit Mass Size M, g V , m3 Ixx , kgm2 Moment of Inertia Iyy , kgm2 Izz , kgm2 Ixy , kgm2 Iyz , kgm2 Izx , kgm2 Value 103 10-3 0.0015 0.0017 0.0020 0.0005 -0.0005 0.0005

Table 4.3: Initial Conditions. CASE 1 unit Orbital Position Radial Rate True Anomaly R, km  , km/s R , rad ox , rad/s Orbital Ang. Velocity oy , rad/s oz , rad/s , rad   , rad/s Attitude and Att. Rates , rad  , rad/s   , rad   , rad/s Earth 6878 + 5 3.2 × 10-3 10-3 0 0 10.45 × 10-4 0.6109 3.2 × 10-2 -0.7854 -3.2 × 10-2 0.7854 13.2 × 10-2 CASE 2 Asteroid Vesta 640 + 10 3.2 × 10-3 10-2 2.1 × 10-4 0 3.1 × 10-4 -1.0472 -6.2 × 10-2 -0.0873 -3.2 × 10-2 0.6109 43.2 × 10-2

45

Chapter 4. Numerical Simulations

Table 4.4: Reference Trajectory. CASE 1 unit Desired Orbital Position Desired Rate ox , rad/s Desired Orbital Ang. Velocity oy , rad/s oz , rad/s , rad   , rad/s Desired Attitude and Rates  , rad   , rad/s 0 0 0 0 Attitude , rad  , rad/s  0 0 11.0 × 10-4 0 0 0 0 0 0 9.22 × 10-4 0 0 0 0 Radial  , km/s R 0 0 R, km Earth 6878 CASE 2 Asteroid Vesta 640

46

4.1. Single Spacecraft System (5DOF)

4.1.2

Results and Discussion

Case 1: Single Spacecraft System around Earth It was expected that the orbital-attitude coupling will be very weak due to the large orbital radius around the Earth. Shown in Fig. 4.2, the coupling effect force peaked at a magnitude of 10-13 N within initial orbital manoeuvre for this particular case. The controller is proven to be effective as the desired trajectory was attained; the desired orbital position and attitude converged to stabilize as in shown in Figures 4.3, and 4.4, respectively. The system response was also expected to stabilize under coupling conditions; the system reached a maximum control effort of the order -4(10-3 ) N and -8(10-3 ) Nm, respectively for position and attitude correction as seen in Figures 4.5 and 4.6. The maximum orbital position and attitude error experienced by the spacecraft was 10-3 km and 2(10-1 ) rad within the desired settling time of 0.1To , where To is the orbital period of the system, shown in Figures 4.7.

7 6 5

x 10

-13

Orbital-Attitude Coupling

DC(R) [N]

4 3 2 1 0 -1 0 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

10 8 6

x 10

-13

DC() [N]

4 2 0 -2 -4

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.2: Earth: Disturbance due to Orbital-attitude Coupling.

47

Chapter 4. Numerical Simulations

Spacecraft Position 6884 6883 6882

R [km]

6881 6880 6879 6878

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

0.7 0.6 0.5

 [rad]

0.4 0.3 0.2 0.1 0

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.3: Earth: Orbital Trajectory.

Spacecraft Attitude 3    2.5

2

1.5

angle [rad]
1 0.5 0 -0.5 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.4: Earth: Attitude Trajectory.

48

4.1. Single Spacecraft System (5DOF)

1 0 -1

x 10

-3

Control Force

U [N]

R

-2 -3 -4 -5

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

2 0 -2

x 10

-5

U [N]

-4 -6 -8 -10 -12

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.5: Earth: Orbit Control Input.

1

x 10

-3

Control Torque U U

0

U

-1

-2

Control Torque [Nm]

-3

-4

-5

-6

-7

-8

-9

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.6: Earth: Attitude Control Input.

49

Position Error 10

 R [km]
5 0 0 x 10
-3

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

1

 [rad]
0 -1 0 0.01 0.02 0.03

0.04

0.05 Orbit Attitude Error

0.06

0.07

0.08

0.09

0.1

4

 [rad]
2 0 0 0.01 0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Chapter 4. Numerical Simulations

0

 [rad]

-0.2 -0.4 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

2

 [rad]

1 0

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.7: Earth: State Error.

50

4.1. Single Spacecraft System (5DOF) Case 2: Single Spacecraft System around Asteroid 4 Vesta The orbit-attitude coupling disturbance in the asteroid 4 Vesta orbit is relatively similar compared to the previous Earth orbit case. The plot of coupling disturbance for 10 percent of the orbital period is shown in Figure 4.8, the force due to coupling peaked at a magnitude of 6(10-13 ) N within 0.01To . The desired trajectory was attained and the desired orbital position and attitude are shown in Figures 4.9, and 4.10, respectively. For this case the system needed a maximum control input of the order (10-3 ) N and 2(10-2 ) Nm, respectively for position and attitude manoeuvre as seen in Figures 4.11 and 4.12. The maximum orbital position and attitude error were within expected bounds within the desired settling time of 0.1To as shown in Figures 4.13.

7 6 5 4

x 10

-13

Orbital-Attitude Coupling

DC1 [N]

3 2 1 0 -1 -2 0 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

3 2 1 0

x 10

-13

DC2 [N]

-1 -2 -3 -4 -5 -6 0 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

Figure 4.8: Vesta: Disturbance due to Orbital-attitude Coupling.

51

Chapter 4. Numerical Simulations

Spacecraft Position 652 650 648

R [km]

646 644 642 640 638

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

1.4 1.2 1

 [rad]

0.8 0.6 0.4 0.2 0

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.9: Vesta: Orbital Trajectory.

Spacecraft Attitude 6    5

4

3

angle [rad]

2

1

0

-1

-2

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.10: Vesta: Attitude Trajectory.

52

4.1. Single Spacecraft System (5DOF)

2 0 -2

x 10

-3

Control Force

U [N]

R

-4 -6 -8 -10

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

1 0 -1

x 10

-3

U [N]

-2 -3 -4 -5 -6

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.11: Vesta: Orbit Control Input.

Control Torque 0.03 U U U 0.02

0.01

Control Torque [Nm]

0

-0.01

-0.02

-0.03

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.12: Vesta: Attitude Control Input.

53

Position Error 20

 R [km]
0 -20 0 0.01 0.02 0.03 0.04 0.05 Orbit

0.06

0.07

0.08

0.09

0.1

2

 [rad]
0 -2 0 0.01 0.02 0.03

0.04

0.05 Orbit Attitude Error

0.06

0.07

0.08

0.09

0.1

10

 [rad]
0 -10 0 0.01 0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Chapter 4. Numerical Simulations

2

 [rad]

0 -2 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

2

 [rad]

0 -2

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.13: Vesta: State Error.

54

4.2. Dumbbell Spacecraft System (3DOF)

4.2

Dumbbell Spacecraft System (3DOF)

This section simulates two single spacecraft systems linked together by a massless rigid tether. This type of formation is known as the dumbbell spacecraft system. In this section we simulate two orbital scenarios for the dumbbell system undergoing the effect of coupling. The coupling effect is examined for this system and discussed in subsequent sections. As shown in Chapter 2.2, a single spacecraft system has 6DOF, but the dumbbell spacecraft system simulations is restricted to 3DOF for simplicity. Only the orbital position and inertial Z-axis libration are examined. The control law developed in Chapter 3.1.2 were implemented and evaluated.

4.2.1

Case Scenario

A dumbbell spacecraft system is simulated in a non-eccentric fixed-planar orbits at an altitude of 500 km above the surface of the Earth (Case 1) and at altitude of 10 km from the surface of the asteroid 4 Vesta (Case 2) show in Figure 4.14. The system was initial placed 10 km and 15 km away from the desired orbital radius for Earth and asteroid, respectively. The initial true anomaly is 0.1(102 ) times larger in the asteroid case compared to the Earth orbit but have the same initial libration rate. The spacecraft is assumed to have steady orbital rate and experiences disturbance from the Earth's oblateness (J2 disturbing force for Case 1 only) and for simplicity, the rotation in radial axis (ox ) and about the inertial Y-axis (oy ) are neglected. The orbital parameters used are outlined in the previous section. Different initial parameters are applied to simulate the controller's effectiveness in this system case as shown in Table 4.6 for the initial conditions and shown in Table 4.7 for the reference trajectory.

4.2.2

Results and Discussion

Case 1: Dumbbell Spacecraft System around Earth For the dumbbell system, the coupling was observed to be larger compared to the coupling disturbance experienced in single spacecraft system. The coupling disturbance experienced by dumbbell system was in the order of magnitude of 10-8 N, as seen in Figure 55

Chapter 4. Numerical Simulations Table 4.5: Spacecraft Parameters. unit Mass Size Tether Length m1 , m2 , g V , m3 L, km Ixx , kgm2 Moment of Inertia Iyy , kgm2 Izz , kgm2 Ixy , kgm2 Iyz , kgm2 Izx , kgm2 Value 103 10-3 10 0.0015 0.0017 0.0020 0.0005 -0.0005 0.0005

Table 4.6: Initial Conditions. CASE 1 unit Orbital Position Radial Rate True Anomaly Orbital Velocity Libration Angle Libration Rate Ang. R, km  , km/s R , rad oz , rad/s  , rad  , rad/s  Earth 6878 + 10 -2.1 × 10-3 2.5 × 10-2 9.35 × 10-4 1.3963 10-3 CASE 2 Asteroid Vesta 640 + 15 1.1 × 10-2 2.5 × 10-2 9.35 × 10-4 -0.6981 10-3

4.14. Although the desired trajectory was attained, the control force required for this manoeuvre was -5(10-3 ) N, -10-3 N, and 10-5 N for UR , U and U , respectively.

56

4.2. Dumbbell Spacecraft System (3DOF) Table 4.7: Reference Trajectory. CASE 1 unit Desired Orbital Position Desired Rate Desired Orbital Ang. Velocity Desired tion Angle Desired tion Rate Libra , rad/s  0 0 Libraoz , rad/s  , rad 11.0 × 10-4 9.22 × 10-4 Radial  , km/s R 0 0 R, km Earth 6878 CASE 2 Asteroid Vesta 640

0

0

1

x 10

-8

Orbital-Attitude Coupling

0.5

DC(R) [N]

0

-0.5

-1

-1.5

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

1 0.9 0.8 0.7

x 10

-12

DC() [N]

0.6 0.5 0.4 0.3 0.2 0.1 0 0 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

Figure 4.14: Earth: Disturbance due to Orbital-attitude Coupling.

57

Chapter 4. Numerical Simulations

Dumbbell System Position 6888 6886

R [km]

6884 6882 6880 6878 0 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

0.8 0.6

 [rad]

0.4 0.2 0

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Dumbbell System Attitude 1.5

1

 [rad]
0.5 0 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.15: Earth: State Trajectory.

4

x 10

-3

Dumbbell System Control UR U

3

U

2

1

0

Control

-1

-2

-3

-4

-5

-6

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.16: Earth: Control Inputs.

58

Dumbbell System Orbital Error

10

8

 R [km]

6

4

2 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

0

0

0.025

0.02

 [rad]

0.015

0.01

 [rad]

4.2. Dumbbell Spacecraft System (3DOF)

59
0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.01 0.02 0.03 0.04 0.05 Orbit 0.06

0.005 0.07 0.08 0.09 0.1

0

0

Dumbbell System Orientation Error

1.5

1

0.5

0

0

0.07

0.08

0.09

0.1

Figure 4.17: Earth: State Error.

Chapter 4. Numerical Simulations Case 2: Dumbbell Spacecraft System around Asteroid 4 Vesta For the asteroid orbit case, the coupling disturbance was observed to be around -1.5(10-9 ) N as can be seen in Figure 4.18. For this particular case, the coupling for Earth was a magnitude stronger, this may be caused by the lesser initial libration angle that can severely affect the coupling. The system required 4(10-3 ) N to maintain its reference orbital position from an initial orbital position of 665 km. The maximum torque applied was -10-3 Nm as shown in Figure 4.20.

-2 -3 -4

x 10

-9

Orbital-Attitude Coupling

DC(R) [N]

-5 -6 -7 -8

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

0 -1 -2

x 10

-12

DC() [N]

-3 -4 -5 -6

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.18: Vesta: Disturbance due to Orbital-attitude Coupling.

60

4.2. Dumbbell Spacecraft System (3DOF)

Dumbbell System Position 655

650

R [km]
645 640 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

0.3 0.25

 [rad]

0.2 0.15 0.1 0.05 0 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

Dumbbell System Attitude 0 -0.2

 [rad]

-0.4 -0.6 -0.8

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.19: Vesta: State Trajectory.

5 0

x 10

-3

Dumbbell System Control

U [N]

R

-5 -10 -15 0 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

2 0 -2 -4

x 10

-4

U [N]

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

6

x 10

-4

U [Nm]

4 2 0 -2 0 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

Figure 4.20: Vesta: Control Inputs.

61

Dumbbell System Orbital Error 15

 R [km]
5 0 0 0.01 0.02 0.03 0.04

10

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

0.4 0.3

 [rad]
0.2 0.1 0

Chapter 4. Numerical Simulations

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06 Dumbbell System Orientation Error

0.07

0.08

0.09

0.1

0 -0.2

 [rad]

-0.4 -0.6 -0.8

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.21: Vesta: State Error.

62

4.3. Multiple Spacecraft Formation Flying System (6DOF)

4.3

Multiple (6DOF)

Spacecraft

Formation

Flying

System

The multiple spacecraft system is simulated to evaluate the control effectiveness under coupling effect. The leader spacecraft orbits Earth and asteroid 4 Vesta and a follower spacecraft is to maintain relative position and orientation, in which characterize the system to have have at least 6DOF (three for position and three for attitude). The effects of coupling are examined and the relative coupling effect between two spacecraft can be observed in the subsequent sections. The only external disturbance included in this simulation is the J2 disturbance. Quaternion was used to describe relative attitude as using Euler angles proved to be difficult and problematic to incorporate due to the singularities that can occur.

4.3.1

Case Scenario

The leader spacecraft is in a non-eccentric fixed-planar orbits at an altitude of 500 km above the surface of the Earth (Case 1) and at altitude of 10 km from the surface of the asteroid 4 Vesta (Case 2). The spacecraft is assumed to have steady orbital rate and experiences disturbance from the Earth's oblateness (J2 disturbing force for Case 1 only) and it is controlled to remain in its prescribed trajectory using its own control system. Additional orbital parameters are outlined in Table 4.8. Information about the leader is assumed to be available to the follower spacecraft, thus using those information to perform the required task. Feedback linearization method is used to define the control law to control the follower spacecraft's control system and utilizes the equation of motion described in 2.4. Different initial conditions are applied to simulate the controller's effectiveness as well as to see the effect of coupling, please see Table 4.9 for the initial conditions and Table 4.10 for the reference trajectory. The goal of the simulation is examine the effects of coupling for spacecraft formation flying in Earth orbit and asteroid orbit, respectively. 63

Chapter 4. Numerical Simulations Table 4.8: Spacecraft Parameters. unit Mass Size M, g V , m3 Ixx , kgm2 Moment of Inertia Iyy , kgm2 Izz , kgm2 Ixy , kgm2 Iyz , kgm2 Izx , kgm2 Leader 103 10-3 0.0015 0.0017 0.0020 0.0005 -0.0005 0.0005 Follower 103 10-3 0.0015 0.0017 0.0020 0.0005 -0.0005 0.0005

Table 4.9: Initial Conditions. CASE 1 unit Orbit Position Radial Rate True Anomaly R, km  , km/s R , rad ox , rad/s Orbital Velocity Ang. oy , rad/s oz , rad/s Rel. Position Rel. Quaternion Rel. Velocity [x, y , z ], km [ q0 , q 1 , q2 , q 3 ] [x , y , z  ], km/s Earth 6878 + 1 0 0 0 0 10.45 × 10-4 [0, 0, 0] [1, 0, 0, 0] [0, 0, 0] CASE 2 Asteroid Vesta 640 + 5 3.2 × 10-3 10-3 2.1 × 10-4 0 3.1 × 10-4 [1, 1, 1] [-0.1653, -0.1662, -0.6446, 0.7278] [0.21, 0.1, 0.002]

4.3.2

Results and Discussion

Case 1: Multiple Spacecraft System around Earth It was expected that the orbital-attitude coupling will be very weak for the multiple 64

4.3. Multiple Spacecraft Formation Flying System (6DOF) Table 4.10: Reference Trajectory. CASE 1 unit Desired Rel. Position Desired Quaternion Desired Rel. Velocity Desired Rel. [rx , ry , rz ], rad/s [0, 0, 0.0011] [0, 0, 0.0011] Rel. [qr0 , qr1 , qr2 , qr3 ] [x , y , z  ], km/s [1, 0, 0, 0] [1, 0, 0, 0] [x, y , z ], km Earth [0.5, 0.5, 0.5] CASE 2 Asteroid Vesta [10, 5, 7.5]

[0, 0, 0]

[0, 0, 0]

Ang. Velocity

spacecraft system due to the large orbital radius around the Earth. The differential coupling effect is shown in Fig. 4.3.2, the force due to coupling reached a maximum of 10-13 N within initial orbital manoeuvre while the disturbing force due to J2 reaches a magnitude of 10-9 N as seen in Figure 4.3.2. The controller is proven to be effective as the desired trajectory was attained; the desired orbital radius, the relative position, and the relative quaternion is convergent to stabilize as in shown in Figures 4.24, 4.25, and 4.26, respectively. The system response was also convergent as expected, both linear and angular velocities stabilized in Figures 4.27 and 4.28, within the desired settling time of 0.1To , where To is the orbital period of the system. The system reached a maximum control force of the order 4(10-4 ) N and -5(10-4 ) Nm, respectively for position and attitude correction as seen in Figures 4.29 and 4.30. The relative formation error and relative attitude are shown in Figures 4.31 and 4.32.

65

Chapter 4. Numerical Simulations CASE 1: Multiple Spacecraft System - Orbital-attitude Coupling
-13

-5.34 -5.341

x 10

SFF Relative Orbital-Attitude Coupling

 DC(x) [N]

-5.342 -5.343 -5.344

0 x 10
-13

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

-5.34 -5.341

 DC(y) [N]

-5.342 -5.343 -5.344

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

1 0.5

 DC(z) [N]

0 -0.5 -1

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.22: Earth: Relative Orbital-attitude Coupling.

4

x 10

-9

SFF Relative J2 Disturbance J2x J2y J
2z

3

2

1

 J [N]

2
0 -1 -2 -3 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.23: Earth: Relative J2 disturbance.

66

4.3. Multiple Spacecraft Formation Flying System (6DOF) CASE 1: Multiple Spacecraft System - State Trajectory
SFF Orbital Radius 6879 R
F

RF 6878.9

6878.8

6878.7

6878.6

R [km]

6878.5

6878.4

6878.3

6878.2

6878.1

6878

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.24: Earth: Orbital Trajectory.

SFF Relative Position 0.5 x y z 0.45

0.4

0.35

0.3

x,y,z [km]

0.25

0.2

0.15

0.1

0.05

0

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.25: Earth: Relative Position.

67

Chapter 4. Numerical Simulations

SFF Relative Quaternion 1.2 qr0 qr1 qr2 1 qr3

0.8

0.6

Quaternion
0.4 0.2 0 -0.2 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.26: Earth: Relative Attitude.

6

x 10

-3

SFF Relative Linear Velocity dx/dt dy/dt dz/dt

5

4

d/dt [km/s]

3

2

1

0

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.27: Earth: Relative Velocity.

68

4 
rx

x 10

-3

SFF Relative Angular Velocity

ry rz

2

0

r [rad/s]

-2

4.3. Multiple Spacecraft Formation Flying System (6DOF)

69
0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

-4

-6

-8

0

Figure 4.28: Earth: Relative Angular Velocity.

Chapter 4. Numerical Simulations CASE 1: Multiple Spacecraft System - Control Input
-4

5

x 10

SFF Relative Tracking Control U U U
x y z

4

3

U [N]

2

1

0

-1

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.29: Earth: Orbit Control Input.

2

x 10

-4

SFF Relative Attitude Control U U U

1

0

-1

U [Nm]

-2

-3

-4

-5

-6

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.30: Earth: Attitude Control Input.

70

4.3. Multiple Spacecraft Formation Flying System (6DOF) CASE 1: Multiple Spacecraft System - State Error
SFF Relative Position Error 0 x y z

-0.05

-0.1

-0.15

-0.2

  [km]

-0.25

-0.3

-0.35

-0.4

-0.45

-0.5

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.31: Earth: Relative Position Error.

SFF Relative Quaternion Error 1.2  qr0  qr1  qr2 1  qr3

0.8

0.6

Quaternion
0.4 0.2 0 -0.2 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.32: Earth: Relative Attitude Error.

71

Chapter 4. Numerical Simulations Case 2: Multiple Spacecraft System around Asteroid 4 Vesta This scenario simulated the coupling effect of spacecraft formation flying orbiting around asteroid 4 Vesta. As expected, the coupling effect and disturbance due gravitational torque was several magnitudes larger than in Earth orbit and reached about -2(10-7 ) N or about 105 times larger in disturbance experienced in Earth orbit. Figure 4.33 plots the coupling disturbance experienced for this particular case. The coupling effect can be more readily seen in asteroid orbits because of the inverse-squared law of orbital radius as well as it relation to the inertial parameters. The nonlinear controller is effective for this particular case as the desired trajectory was still attainable even with coupling disturbance. The desired orbital radius, the relative position, and the relative quaternion is stabilize as in shown in Figures 4.34, 4.35, and 4.36, respectively. CASE 2: Multiple Spacecraft System - Orbital-attitude Coupling

0 -0.5

x 10

-7

SFF Relative Orbital-Attitude Coupling

 DC(x) [N]

-1 -1.5 -2 -2.5 0 x 10
-7

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

0 -0.5

 DC(y) [N]

-1 -1.5 -2 -2.5 0 x 10
-31

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

2 0

 DC(z) [N]

-2 -4 -6 -8 0 0.01 0.02 0.03 0.04 0.05 Orbit 0.06 0.07 0.08 0.09 0.1

Figure 4.33: Vesta: Relative Orbital-attitude Coupling.

72

4.3. Multiple Spacecraft Formation Flying System (6DOF) The system response was convergent as expected, both linear and angular velocities stabilized as seen in Figures 4.37 and 4.38, within the desired settling time of 0.1To , where To is the orbital period of the system. In the asteroid orbit it was expected that an aggressive control will be required to counteract additional disturbing forces. The system controls were in magnitude of -6(10-3 ) N and -5(10-4 ) Nm, respectively for position and attitude, which was several times more larger than the control force needed for Earth orbit. Figures 4.39 and 4.40 depicts the control trajectory. The relative formation error and relative attitude are shown in Figures 4.41 and 4.42. CASE 2: Multiple Spacecraft System - State Trajectory

SFF Orbital Radius 750 RF RF 700

650

600

550

R [km]

500

450

400

350

300

250

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.34: Vesta: Orbit Trajectory.

73

Chapter 4. Numerical Simulations

SFF Relative Position 10 x y z 9

8

7

6

x,y,z [km]
5 4 3 2 1 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.35: Vesta: Relative Position.

SFF Relative Quaternion 1.2 q
r0

qr1 qr2 1 qr3

0.8

0.6

Quaternion
0.4 0.2 0 -0.2 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.36: Vesta: Relative Attitude.

74

4.3. Multiple Spacecraft Formation Flying System (6DOF)

SFF Relative Linear Velocity 0.25 dx/dt dy/dt dz/dt

0.2

0.15

d/dt [km/s]
0.1 0.05 0 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.37: Vesta: Relative Velocity.

4

x 10

-3

SFF Relative Angular Velocity rx ry rz

2

0

 [rad/s]

-2

r
-4 -6 -8 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.38: Vesta: Relative Angular Velocity.

75

Chapter 4. Numerical Simulations CASE 2: Multiple Spacecraft System - Control Input
-3

5

x 10

SFF Relative Tracking Control U U U
x y z

4

3

2

1

U [N]

0

-1

-2

-3

-4

-5

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.39: Vesta: Orbit Control Input.

2

x 10

-4

SFF Relative Attitude Control U U U

1

0

-1

U [Nm]

-2

-3

-4

-5

-6

0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.40: Vesta: Attitude Control Input.

76

4.3. Multiple Spacecraft Formation Flying System (6DOF) CASE 2: Multiple Spacecraft System - State Error
SFF Relative Position Error 0 x y z -1

-2

-3

-4

  [km]
-5 -6 -7 -8 -9 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.41: Vesta: Relative Position Error.

SFF Relative Quaternion Error 1.2  qr0  qr1  qr2 1  qr3

0.8

0.6

Quaternion
0.4 0.2 0 -0.2 0

0.01

0.02

0.03

0.04

0.05 Orbit

0.06

0.07

0.08

0.09

0.1

Figure 4.42: Vesta: Relative Attitude Error.

77

Chapter 4. Numerical Simulations

4.4

Summary

Simulations were conducted on various spacecraft systems for Earth and asteroid 4 Vesta orbit. The coupling in Earth was observed to be very minute and does not considerably affect the spacecraft, thus validates the use of linear controller Earth orbit applications. Coupling was examined and compared for both Earth and asteroid for Single, Dumbbell, Multiple Spacecraft Systems. It is observed that the magnitude of coupling is several magnitudes larger for the dumbbell system compared to the rigid and unattached formation flying systems. This is most likely caused by the nonlinear tether dynamics that intertwines a dumbbell spacecraft system. Depending on the asteroid properties or the orbital parameters, coupling may or may not cause problematic disturbance. The factors that affect coupled dynamics directly include the mass and size of the asteroid, the orbital radius, orbital angular velocity, and moment of inertia properties of the spacecraft system. For very large spacecraft with large moment of inertia orbiting a dense asteroid may impose coupling disturbance that can readily be observed. The system that was severely affected by the coupling effect was the dumbbell spacecraft system as evident by the many research conducted on the subject.

78

Chapter 5

Experiment

This section applies the control law developed in Chapter 3 to hardware experiment. The hardware experiment encapsulates the orbital-attitude coupling by offsetting the applied thrust vectors on the Satellite Airbed Formation Experiment testbed. Feedback linearization was used to define the control law and similar approach was taken to control multiple spacecraft system but significantly simplified by restricting the 6DOF motion to 3DOF (linear 2DOF translation motion in the X- and Y-directions and 1DOF attitude in the Z-direction.

5.1

Satellite Airbed Formation Experiment (SAFE)

The purpose of the SAFE testbed is test developed formation architectures and validating the performance of closed-loop control algorithms similar to the ones developed in Chapter 3.

5.1.1

Description

The SAFE testbed is two dimensional, 3 m by 2 m, glass platform in which floating spacecraft models are placed to simulate the space environment zero-gravity. Each spacecraft simulator is equipped with three air pads to reduce the friction to a micro level. Air is transmitted through porous material of the air pads, under application of pressure where two compressed air tanks feed three air pads via a single regulator, to create an air layer between the glass table and the spacecraft simulator. The physical structure of the SAFE platform comprises of three parts: the frame structure that houses the air supply tanks, the electronics mount that encapsulates the data 79

Chapter 5. Experiment handling & processing, communications and actuators, and the surface LED module that is used to track the position of the test spacecraft model as seen in Figure 5.1. The LED module on-top of the electronics mount is used to provide the closed-loop system position and attitude information, which consists of a high resolution camera system over-looking the test bed above as depicted in Figure 5.2. The vision system first takes continuous images from the camera and based the colored LEDs, it determines which LED belongs to which spacecraft model. Multiple spacecraft models can be simultaneously test as long as different colored LEDs identify the proper spacecraft model.

5.1.2

Mathematical Model

The relative system equations of motion are derived under the assumption that the leader spacecraft is a virtual point located at midpoint of the SAFE glass platform. The follower spacecraft is moving in a relative trajectory about the leader and its motion is described using inertial frame Si - XY , as shown in Figure 5.3. The equations of motion are derived in the body frame S - xy and it is given by ¨xy = (¨  xy ) +  × ( × rxy ) +   × rxy r x^ i+y ¨^ j ) + 2( × r  = k ^ and  ¨k ^, the acceleration is given by and assuming  =  ¨= x y 2 x + y ¨ ^ x 2 y + x ¨ ^ r ¨ - 2 - i+ y ¨ + 2  + j. (5.2) (5.1)

Figure 5.1: Test spacecraft developed by SSDC Lab at Ryerson University [1]. 80

5.1. Satellite Airbed Formation Experiment (SAFE)

Figure 5.2: Flow chart representation of hardware-in-the-loop simulation framework [1].
X

y

x

S



r r

S

Y

Figure 5.3: Reference frames for SAFE platform [1].

Simplifying, we have y 2 x - y ¨ = fx /ms x ¨ - 2 - 81 (5.3)

Chapter 5. Experiment x 2 y + x ¨ = fy /ms y ¨ + 2  - (5.4)

where fx , fy are the control forces, and ms is the mass of the SAFE platform. Given that there are four ducted fan thrusters situated on the each of the sides of the spacecraft system (T1: front side, T2: right side, T3: rear side and T4: left side) as depicted in Figure 5.4.

Figure 5.4: Thruster configuration on the body frame of the SAFE platform. T1 to T4 represent thruster locations [1]. the closed-loop equation of motion is given by y 2 x + DCx + Dx + (U4 T4 - U2 T2 )/ms x ¨ = 2 + x 2 y + DCy + Dx + (U3 T3 - U1 T1 )/ms y ¨ = -2  +
-1 ¨ = - ai x  ¨ - bi y ¨ + D + Is  i = 1, 2, ...n

(5.5) (5.6) (5.7)

where

   y  ¨ Cx DC = = . DC  -x ¨  y

  D 

(5.8)

Here,  is the control torque applied by the reaction wheels in Nm and Is is the moment of inertia of the spacecraft model. Un and Tn represents the respective actuator thrust values and the ON-OFF command signals. Thrust signals Tn is either 1 or 0 and thrust values Un represent the actual thrust magnitude in N. ai and bi are offset distance of the force from the center of mass, measured in meters.

82

5.1. Satellite Airbed Formation Experiment (SAFE)

5.1.3

Controller Design

Nonlinear equation of motion: ¨ = f (X ) + f (D) + U X  X= x y  x  y  
T

(5.9) (5.10)

where the X , D, and U represents the system states, system coupling and disturbances, and system control, respectively. Approximate closed-loop full nonlinear dynamically coupled equation of attitude and orbital motion of spacecraft in planar orbit, adapted from [21]: 2 - 2 y x ¨ - x  = Ux + Dx + DCx 2 - 2 x y ¨ - y  = Uy + Dy + DCy ¨ =  + D    ¨ y   ¨  C= - x   0 We calculate the required control at reference trajectory as ¨ r = f (Xr ) + Ur X subtracting 5.9 and 5.15, the state error equation simplifies to ¨ = f (X ) + f (D) - f (Xr ) + U. X (5.16) (5.15) (5.11) (5.12) (5.13)

(5.14)

In order to control the system, we subject Equation 5.16 to behave similar to the following error response: ¨ + 2 X  +  2 X = 0 X (5.17)

where X ,  and  correspond to system state error, damping ratio and natural frequency, respectively.

83

Chapter 5. Experiment Thus, the nonlinear controller and control law can obtained and takes the form of U = Ur + U where  -  2 X - f (X ) - f (D) + f (Xr ) . U = -2 X Applying actuator and sensor limitations Ux,y = sgn(Ux,ymax ) if error  5 × 10-3 m 0 if error < 5 × 10-3 m . (5.20) (5.19) (5.18)

U =

U if error  5 × 10-1 deg 0 if error < 5 × 10-1 deg

(5.21)

This control law, restricts variable thrusters and thus operate in ON-OFF behaviour with a particular deadband.

5.2

Results and Discussion

System is stable with acceptable errors as seen in its trajectory (Figure 5.5) and state measurements in Figures 5.7 and 5.8. System states converge within 30 seconds with a maximum translation error of 0.15 meter and attitude error of 4 degrees, shown in Figures 5.7 and 5.8. The dynamically induced coupling is shown in Figure 5.9. Coupled controller can be used to control systems with coupled dynamics as evident by precise and smooth trajectory. Further improvements in the performance may be seen with more precise sensors, actuators and more efficient controller. Kalman filters may be used for smoother control.

5.3

Summary

Attitude-dependent orbital coupling was simulated using induced dynamic coupling by offsetting the thrust output. The shown results validates the effectiveness of the control law and control method. Simulation results are within acceptable bounds. Performance can be further improved using quaternion mechanics and sliding mode control design. 84

5.3. Summary

Trajectory 0.6 Numerical Experiment

0.4

0.2

Y-position [m]

0

-0.2

-0.4

-0.6

-0.8 -0.4

-0.3

-0.2

-0.1

0 X-position [m]

0.1

0.2

0.3

0.4

Figure 5.5: Hardware: State Trajectory.

85

Chapter 5. Experiment

Control Force 0.06 0.04 U [rad/s] 0.02 0 -0.02 -0.04 0 50 100 150 200 time [s] 250 300 350 Numerical Experiment Direction 1 0.5 0 -0.5 -1

Wheel Direction: -1(CCW) 1(CW) 0(STOPPED) Numerical Experiment

0

50

100

150 200 time [s] Left(-1), Right(1)

250

300

350

0.03 0.02 U [m/s2] 0.01 0 -0.01 -0.02 -0.03 0 50 100 150 200 time [s] 250 300 350 Numerical Experiment x-thruster

1 0.5 0 -0.5 -1 Numerical Experiment

x

0

50

100

150 200 time [s] Front(1), Rear(-1)

250

300

350

0.03 0.02 U [m/s2] 0.01 0 -0.01 -0.02 -0.03 0 50 100 150 200 time [s] 250 300 350 Numerical Experiment y-thruster

1 0.5 0 -0.5 -1 Numerical Experiment

y

0

50

100

150 200 time [s]

250

300

350

Figure 5.6: Hardware: Control Input.

86

5.3. Summary

State 60 40 20  [deg] 0 -20 -40 -60 0 50 100 150 200 time [s] 250 300 350 -5 0 50 100 Numerical Experiment  [deg] 5

Error Numerical Experiment

0

150 200 time [s]

250

300

350

0.4 0.2 x [m] 0 -0.2 -0.4 Numerical Experiment  x [m]

0.3 0.2 0.1 0 -0.1 0 50 100 150 200 time [s] 250 300 350 -0.2 0 50 100 150 200 time [s] 250 300 350 Numerical Experiment

0.5 Numerical Experiment 0  y [m] y [m] 0.2 0.1 0 -0.1 -0.2 -1 0 50 100 150 200 time [s] 250 300 350 0 50 100 150 200 time [s] 250 300 350 Numerical Experiment

-0.5

Figure 5.7: Hardware: State and State Error.

87

Chapter 5. Experiment

Velocity 0.12 0.11 d /dt [rad/s] 0.1 0.09 0.08 0 50 100 150 200 time [s] 250 300 350 -1 0 50 100 Numerical Experiment  d/dt [rad/s] 1 0.5 0 -0.5

Velocity Error Numerical Experiment

150 200 time [s]

250

300

350

0.06 0.04 v [m/s] 0.02 0 -0.02 -0.04 -0.06 0 50 100 150 200 time [s] 250 300 350 Numerical Experiment  vx [m/s]

0.06 0.04 0.02 0 -0.02 -0.04 0 50 100 150 200 time [s] 250 300 350 Numerical Experiment

x

0.15 0.1 v [m/s] 0.05 0 -0.05 Numerical Experiment  vy [m/s]

0.15 0.1 0.05 0 -0.05 Numerical Experiment

y

0

50

100

150 200 time [s]

250

300

350

0

50

100

150 200 time [s]

250

300

350

Figure 5.8: Hardware: Velocity and Velocity Error.

88

5.3. Summary

Disturbance Profile 4 2 D [deg] 0 -2 -4 Numerical Experiment

0

50

100

150 time [s]

200

250

300

350

0.2 0.1 Dx [m] 0 -0.1 -0.2 Numerical Experiment

0

50

100

150 time [s]

200

250

300

350

0.2 0.1 Dy [m] 0 -0.1 -0.2 Numerical Experiment

0

50

100

150 time [s]

200

250

300

350

Figure 5.9: Hardware: Disturbance Force.

89

Chapter 6

Conclusions and Future Work

6.1

Conclusions

Literature survey on nonlinear control of spacecraft with coupled orbital-attitude dynamics was conducted in Chapter 1. Roughly 50 percent of spacecraft failures are caused by the AOCS such as inaccurate spacecraft mathematical model that can lead to early failures. Study on coupled system dynamics is fairly new topic in field of control system, thus constitutes few publications. Major contributors in nonlinear control of spacecraft with coupled dynamics include: Alfriend, Wong, Pan and Kapila. Several approach have been examined and published, but most lacked the full mathematical model of orbital-attitude dynamics as shown in this thesis. Brief overview of the AOCS, SFF and coupled dynamics was covered as well as the motivation and challenges were defined in Chapter 1. The goal of Chapter 2 was to establish the fundamental equations as well as derive the full nonlinear equations of motion for coupled dynamics. The Coupled equations were presented for Single, Dumbbell, and Multiple (SFF) Spacecraft Systems, in Sections 2.2, 2.3, and 2.4, respectively. Developed equations of motion in Chapter 2 were implemented in Chapter 3 to develop the closed-loop nonlinear equations using Feedback Linearization and a generate a generic control algorithm that is numerically simulated in Chapter 4. For each spacecraft systems, two cases were examined and analyzed. The effects of coupling was discussed for each scenario for all spacecraft systems. The nonlinear control algorithm was used for hardware-in-the-loop experiment involving the Spacecraft Airbed Formation Experiment, a Ryerson University unique testbed to validate control algorithms implemented for spacecraft formation flying. Attitude-dependent coupling was impossible to simulate using the SAFE, thus instead offsetting thruster vectors to induced dynamic coupling effect. 91

Chapter 6. Conclusions and Future Work Simulations on various spacecraft systems in Earth and asteroid 4 Vesta orbit were conducted. Results from simulation suggested that coupling disturbance for rigid and multiple spacecraft systems around Earth orbit were very minute and does not considerably affect the system dynamics, thus it is sufficient to neglect or linearize the system's nonlinearities and apply linear controllers. For missions around asteroids, depending on the spacecraft orbital parameters and properties of the asteroid, coupled dynamics may impose additional nonlinear disturbance, thus it is recommended to verify whether or not coupled dynamics will affect the mission. A precaution should be taken when dealing with tethered spacecraft system around asteroids as the magnitude of coupling is several magnitudes larger compared to the rigid and unattached formation flying systems. The contributing factors that affect coupled dynamics directly include the mass and size of the asteroid, the orbital radius, orbital angular velocity, and moment of inertia properties of the spacecraft system. Finally, coupled dynamics may be neglected for small spacecraft around Earth as the effects are very weak, conversely, for very large spacecraft with large moment of inertia, coupled dynamics is more noticeable and may proved to be more problematic.

6.2

Future Work

Orbital-attitude coupling is an interesting phenomenon to examine further. Future work includes implementing several other control methods such as adaptive sliding mode control or optimize control using adaptive sliding mode observers. Smart control design may be developed to take advantage of orbital-attitude coupling and use it as a source of control input in the design of control systems for underactuated systems. More experiments on the 5DOF case is needed to verify results. A hardware experiment of a system with three attitude and two translational motion can be used to verify 5DOF case.

92

References
[1] D. Lee, "Fault detection and recovery of spacecraft formations and attitude," masters thesis, Ryerson University, April 2011. xviii, 3, 80, 81, 82 [2] H. Pan and V. Kapila, "Adaptive nonlinear control for spacecraft formation flying with coupled translational and attitude dynamics," in 40th IEEE Conference on Decision and Control, pp. 2057­2062, 2001. 2, 6 [3] W. Clohessy and R. Wiltshire, "Terminal guidance systems for satellite rendezvous," American Journal of Astronautical Sciences, vol. 27, no. 9, pp. 653­658, 1960. 2 [4] M. Boskovic and M. Kristic, "Global attitude/position regulation for underwater vehicles," in Proceedings ICCA, pp. 1768­1773, 1999. 2 [5] B. Stevens and F. Lewis, Aircraft Control and Simulation. New York, NY: WileyInterscience, 1992. 2 [6] G. Godard, Fault Tolerant Control of Spacecraft. PhD thesis, Ryerson University, 2010. 3, 27 [7] G. Godard and K. Kumar, "Robust control of underactuated spacecraft formations," in Proceedings of the 15th Canadian Aeronautics and Space Institute ASTRO Conference, vol. 15, (Toronto, ON), pp. 1­6, May 4-6 2010. 3 [8] J. Saleh and J.-F. Castet, Spacecraft Reliability and Multi-State Failures. West Sussex, United Kingdom: John Wiley & Sons, Ltd, 2011. 4, 5 [9] R. Sperber, "Better with age and experience - observed satellite in-orbit anomaly rates," in International Communication Satellite Systems Conference and Exhibits (ICSSC), (San Diego, CA), pp. 1162­1167, February - March 1994. 4 [10] E. Bean and C. Bloomquist, "Reliability data from in-flight spacecraft," in 15th Annual Symposium on Reliability, (Boston, MA), pp. 271­279, January 1968. 4 93

References [11] M. Cho, "Failure mechanisms and protection methods of spacecraft power system," in International Symposium on Electrical Insulating Materials, (Kitakyushu, Japan), June 2005. 4 [12] G. Landis, S. Bailey, and R. Tischler, "Cause of power-related satellite failures," in IEEE 4th World Conference on Photovoltaic Energy Conservation, (Waikaloa, HI), May 2006. 4 [13] R. Kristiansen, P. Nicklasson, and J. Gravdahl, "Spacecraft coordination control in 6dof: Integrator backstepping vs passivity-based control," Acta Astronautica, vol. 44, pp. 2896­2901, 2008. 6 [14] S. Kim, J. Crassidis, Y. Cheng, and M. Adam, "Kalman filter for relative spacecraft attitude and position estimation," Journal of Guidance, Control, and Dynamics, vol. 30, pp. 133­143, 2007. 6 [15] N. Philip and M. Ananthasayanam, "Relative position and attitude estimation and control schemes for the final phase of an autonomous docking mission of spacecraft," Acta Astronautica, vol. 52, pp. 511­522, 2003. 6 [16] S. Gaulocher, "Modeling the coupled translational and rotational relative dynamics for formation flying control," in AIAA Guidance, Navigation, and Control Conference and Exhibits, pp. 2594­2599, 2005. 6 [17] Y. Xing, X. Cao, S. Zhang, H. Guo, and F. Wang, "Relative position and attitude estimation for satelltie formation with coupled translational and rotational dynamics," Acta Astronautica, vol. 67, pp. 55­467, 2010. 6 [18] K. Alfriend, S. Vadali, P. Gurfil, J. How, and L. Breger, Spacecraft Formation Flying: Dynamics, Control and Navigation. Oxford, United Kingdom: ButterworthHeinemann, Elsevier, 2009. 7 [19] S. Segal and P. Gurfil, "Effects of kinematic rotation-translation coupling on relative spacecraft translation dynamics," Journal of Guidance, Control, and Dynamics, vol. 32, pp. 1045­1050, 2009. 7 94

References [20] J.-Y. Wang and H.-Z. Sun, "6-dof robust adaptive terminal sliding mode control for spacecraft formation flying," Acta Astronautica, vol. 73, pp. 76­87, 2012. 7 [21] K. Kumar, Fundamentals of Dynamics and Control of Space Systems. Toronto, ON: Ryerson University, 2007. 14, 16, 21, 24, 25, 34, 38, 40, 83 [22] P. Hughes, Spacecraft Attitude Dynamics. Mineola, NY: Dover Publications Inc., 2004. 17, 21, 40 [23] J. Slotine and W. Li, Applied Nonlinear Control. Upper Saddle River, NJ: PrenticeHall, 1991. 36 [24] H. Wong, Formation Design and Nonlinear Control of Spacecraft Formation Flying. PhD thesis, Polytechnic University, 2006. 40

95


