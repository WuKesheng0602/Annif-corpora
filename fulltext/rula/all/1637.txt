Ryerson University

Digital Commons @ Ryerson
Theses and dissertations

1-1-2008

Inter-Signal Timing Skew Compensation Of Source-Synchronized Parallel Links With Incremental Signaling
An Hu
Ryerson University

Follow this and additional works at: http://digitalcommons.ryerson.ca/dissertations Part of the Electrical and Computer Engineering Commons Recommended Citation
Hu, An, "Inter-Signal Timing Skew Compensation Of Source-Synchronized Parallel Links With Incremental Signaling" (2008). Theses and dissertations. Paper 1116.

This Thesis is brought to you for free and open access by Digital Commons @ Ryerson. It has been accepted for inclusion in Theses and dissertations by an authorized administrator of Digital Commons @ Ryerson. For more information, please contact bcameron@ryerson.ca.

I'._)

'

v v

· -

..... -

-

INTER-SIGNAL TIMING SKEW COMPENSATION OF SOURCE-SYNCHRONIZED PARALLEL LINKS WITH INCREMENTAL SIGNALING

by

AnHu Bachelor of Applied Science, University of Toronto, Toronto, 2005

A thesis presented to Ryerson University in partial fulfillment of the requirements for the degree of Master of Applied Science in the Program of Electrical and Computer Engineer

Toronto, Ontario, Canada, 2008 ©AnHu2008

PROPERTY f RYERSON UNIVERS\1Y LIBRARY

Author's Declaration
I hereby declare that I atn the sole author of this thesis. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research. Signature

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. Signature

11

Abstract
INTER-SIGNAL TIMING SKEW COMPENSATION OF SOURCE-SYNCHRONIZED PARALLEL LINKS WITH INCREMENTAL SIGNALING
© An Hu 2008 Master of Applied Science Electrical and Computer Engineering Ryerson University

This thesis deals with inter-signal timing skew compensation of source-synchronized multiGbytes/s parallel links with both voltage-mode and current-mode incremental signalling sche1nes. To compensate for the inter-signal timing skew of parallel links with voltage-mode incremental signaling, an early/late block that detects the rising and falling edges of the pulses generated by inter-signal ti1ning skews at the far end of channels, and subsequently allocates the optimal sampling point of the sampler of each data bit to maximize the timing 1nargins. Two cascaded delay-locked loops are e1nployed to place the sampling clock to the optimal sampling position of each data bit. To cmnpensate for the inter-signal timing skew of parallel links with current-1node incre1nental signaling, each current-mode receiver maps the direction of its channel current representing the logic state of the incoming data to two voltages of different values. The feedback at the front-end of the receiver minimizes the dependence of the input impedance of the receiver on the channel current so that data dependent i1npedance mismatch is minimized. Intersignal ti1ning skews are compensated by inserting a delay line in each
chann~l.

111

Acknowledgments

I am deeply indebted to Professor Fei Yuan for granting me the honor of being a tnember of his research group and for his enthusiastic support, constant guidance and inspiration throughout the course of this research. I have benefited from his vast technical expertise, insight, and highstandards in research, teaching and publication. My heartfelt gratitude goes to Professor Vadim Geurkov, Professor Lev Kirischian, and Professor Eddie Law of the Departtnent of Electrical and Computer Engineering, Ryerson Unversity, for their participation in the defense committee. I thank all members of the Microelectronic Circuits and Systems Research Group at Ryerson University for technical assistance. My thanks also go to the School of Graduate Studies of Ryerson University for the financial supports.

IV

Contents

1 Introduction
1.1 1.2 1.3 Motivation . Original Contributions Thesis Organization ..

1
1

3

5
6

2 Fundamentals of Source-Synchronized Parallel Links
2.1 Electrical Signaling Schemes for Source-Synchronized Parallel Links 2.1.1 2.1.2 2.1.3 2.1.4 2.1.5 2.2 Single-Ended Signaling Scheme .. Fully-Differential Signaling Scheme Pseudo-Differential Signaling Scheme Incremental Signaling Schemes . . . . Design of Source-Synchronized Parallel Link Interfaces- A Review .

7 7 7
8
9
11

Design Challenges of Source-Synchronized Parallel Links 2.2.1 2.2.2 2.2.3 Voltage Noise . . . . . . . Inter-Signal Timing Skew Design of Deskew Buffers - A Review . . . . . . . . . . . . . .

12 13
17

18 21

2.3

Chapter Summary

3 Inter-Signal Timine Skew Compensation of Source-Synchronized Parallel Links with Voltage-Mode Incremental Signaling
3.1 3.2 Architecture Comparator

22
23 24

v

3.3 Early /Late Block . 3.4 Delay-Locked Loop 3.5 Deskew Block . . . 3.6 Simulation Results 3.7 Chapter Summary
4

26 28 30 34 39

Inter-Signal Timine Skew Compensation of Source-Synchronized Parallel Links with Current-Mode Incremental Signaling 42

4.1

Architecture . . . . . . . . . . . . . .

43
44

4.2 Current-Mode Incremental Signaling 4.3 Current-Mode Transmitter
4.4 Current-Mode Receiver .. 4.4.1 Current-to-Voltage Mapping Swing-Independent Input Impedance Common-Mode Voltage Stabilization Input Impedance Tuning

45 47 47 48 49
51

4.4.2 4.4.3 4.4.4

4.5 Voltage Comparator . . . . . . 4.6 Compensation of Inter-Signal Timing Skew .
4. 7 Simulation Results

53 54 58 62
64 66

4.8 Chapter Summary
5 Conclusions and Future Work Bibliography

vi

List of Tables
2.1 2.2 2.3 2.4 3.1 Logic state of parallel links with the voltage-mode incremental signaling scheme 10 Logic states of current-mode incremental signaling . Parallel link performance . . Deskew buffer performance . Time delay range of VCDL at process corners. 11 12 20 33
38

3. 2 Timing schedule . . . . . . . . . . . . 3.3 4.1 Performance of parallel link interface The minimum and maximum time delays of data delay blocks in nominal process conditions and at process corners. 4.2 . . . . . . .

41

55
60

Performance of the current-mode parallel link interface

vii

List of Figures
2.1 2.2 2.3 2.4 (a) Parallel links with single-ended signaling. (b) Timing diagram. (a) Single-ended signaling. (b) Fully-differential signaling. . Pseudo-differential signaling. . . . . . . . . . . . . . . . . . (a) Parallel links with the voltage-mode incremental signaling scheme. (b) Encoder and decoder. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2.5 (a) Parallel links with the current-mode incremental signaling scheme. (b) Schematic of the current-mode driver (Tx). . . . 2.6 2.7 Schematic of the reviewed parallel link interface (a) Eye diagram with large eye opening. (b) Eye diagram with small eye opening. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2.8 Intersymbol interference. (a) 'Ifansmitted signals. (b) Pulse spreading due to IS I. (c) Actual transmitted signals. . 2.9 'Ifansfer function of RG-55U cables. . 15 16 14 10 13 9

6
8 8

2.10 Data recovery in parallel links. (a) Without inter-signal timing skew. (b) With inter-signal timing skew. . . . . . . . . . . . . . . . . . . . . . . . 18

2.11 Per-pin skew compensation of parallel links with a single-ended signaling scheme. 19 3.1 Parallel links with voltage-mode incremental signaling and per-pin skew compensation. . . . . . . . . . . . . . . . . . . . 3.2 3.3 Comparator output D"[n] for different
Tskew·

23
24

Timing diagram of Early /Late block. . . . .

25

viii

3.4

Schematic of comparator. Transistor sizes: W1 ,2 = 5J-Lm, W 3 _ 6 = 27J-Lm, W1,s = 50J-Lm,
W9,1o

= 5J-Lm,

W 11 , 12

= 10J-Lm, W13 = 40J-Lm. L = 0.13J-Lm for 26

all transistors. Biasing: Iss= 2mA, \lb 1 = 0.8V, \lb2 = 0.6V. . . . . . . . . . 3. 5 (a) Generic archi teet ure of Gil bert cell. (b) Characteristic curve of Vout versus

'Vcont when Vin > 0 and Vin < 0. . . . . . . . .
3.6 Simulated transient response of comparator.
Tskew

27 Left:
Tskew

= 60ps.

Right: 27 27 28

=

310ps. . . . . . . . . . . . . . . . . . . . . . . . .

3.7 3.8 3.9

Simulated waveforms of D"[n] with various signal skews. Schematic of Early /Late block. . . . . . . . . . . . . . .

Timing diagram of control voltages. T1 is the time instant at which the Early /Late block is enabled to detect the rising and falling edges of D"[n]. T2 is the time instant at which DLL1 is enabled, and Vfb[n] starts to align with VE[n]. T3 is the time instant at which DLL2 is enabled where Vfb[n] is aligned with VE[n] and MCLK'[n] starts to align with VM[n]. T4 is the time instant at which MCLK'[n] and VM[n] are aligned and DLL2 is disabled. T5 marks the start of the data transmission phase and the end of the calibration phase. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28

3.10 Simulated waveforms of the voltages of the Early /Late block. Left:

Tskew

= 29 29

60ps. Right:

Tskew

= 310ps. T1 = 1.5ns.

. . .

3.11 (a) Typical DLL architecture. (b) DLL model. 3.12 Schematic of Deskew block. When 'Vc 2 =Logic-O, the output of the MUX is 'Vcal·

Vc 2 =Logic-1, the output of the MUX is from the preceding charge pump. The same holds for Vc3 . Vc 4 is set to Logic1 when VM[n] and MCLK'[n] are
When aligned. Transistor sizes:
W1,2

= 12J-Lm, W 3 = 6J-Lm, W 4 = 4J-Lm, W 5 = 10J-Lm,

W 6 = 4.5J-Lm, W 7 = 5J-Lm, Ws = 2.3J-Lm, W 9 = 2.07J-Lm. L = 0.13J-Lm for all transistors. C1 = C2 = 4pF.

'Vcal = 0.61 V. . . . . . . . . . . . . . . . . . . .

31

ix

3.13 (a) Schematic of PFD. (b) Schematic of charge pump.
Wl,3,5

Transistor sizes:
W9,13

= 2.5/Lm,

W2,4,6

= 111m,

W1,11

= 12.5/Lm,

Ws,12

= 7.5/Lm,

= 3/Lm, 32 32

W10 ,14 = 5/Lm. L = 0.13/Lm for all transistors. 3.14 Dependence of the delay of VCDL on
Vctrll

. . . . . . . . .

at process corners.

3.15 Maximum phase shift. (a) 2Tbit to be subtracted from Vfb[n). (b) 2Tbit to be added to Vfb[n). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.16 Simulated transient response of VL[n), VM[n) and Vfb[n) for various Vctrll[n). Top: Vctrll[n)=O. Middle: Vctrll[n)=Vcal· Bottom: Vctrll[n)=1.2V. . . . . . 3.17 Four-channel parallel link with voltage-mode incremental signaling and perpin skew compensation. L 1 = 0.13m, L 2 = 0.11m, L 3 = 0.1m, L 4 = 0.15m. 34 33

R = 500.
3.18 (a) Schematic of driver. Transistor sizes: W1 = 111m, W2 =211m, W3 = 4/Lm, W4 = 811m, Ws = 16/Lm, W 6 = 32/Lm, W 7 = 64/Lm, W 8 = 128/Lm. L = 0.13/Lm for all transistors. (b) Microstrip line configuration. H 1 = 200/Lm,

35

H2 = 500/Lm, W = 734/Lm,

Er

= 5. . .

35 37

3.19 Timing diagram of the input signals. 3.20 Simulated receiver signals before T 5 . 3.21 Simulated receiver signals after T5 .
. ·

37 38

3.22 Simulation results of deskewing process for MCLK'[1) with respect to D"[1) for 60ps skew. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.23 Simulation results of deskewing process for MCLK'[1) with respect to D"[1) for 31 Ops skew. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40 41 39

3.24 Waveforms of MCLK'[1), MCLK'[2), D"[1), and D"(2) after deskew .. 4.1 Parallel links with current-mode incremental signaling and inter-signal timing skew compensation. . . . . . . . . . . . . . . . . . . . . . . . . . 4.2 4.3 Timing diagram of comparator without inter-signal timing skew. Timing diagram of the incremental signaling scheme when inter-signal timing skews exist. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
X

44 45

46

4.4 4.5

Simplified schematic of current-mode transmitter. . . . . . . . . . . . . . . . Simplified schematic of receiver. Transistor sizes: W1

46

= ll6J-Lm, W2 = 90J-Lm,

W 3,5 = 60J-Lm, W4 ,6 = 90J-Lm, W 7 = 43J-Lm, Ws = 3J-Lm, Wg = 3.5J-Lm, W 10 =
40J-Lm, W11

= 20J-Lm. L = O.l3J-Lm for all transistors. DC biasing: Vc 9 =
47 48 48

0.73V, Vc1 = 0.8V, Vc3 = 0.94V, Vc 2 = 0.45V , Vc4,6 = 0.65V , Vc 11 = 0.6V. .
4.6 4.7 4.8 Simulated waveforms of V£, v8 and the comparator output D'[n] under TT. Simulated frequency response of VL and vs. . . . . . . . . . . . . . . . . . . Top: Simulated receiver input impedance with the feedback amplifier when
iin

= 0, ±2mA. Bottom: Dependence of the receiver input impedance on the
49 50
V£.

input current with and without the feedback amplifier. 4.9 Simplified schematic of receiver with replica biasing. . .

4.10 Simulated waveform of VL and v 8 with replica-biasing. Top: vs. Bottom:

51

4.11 Top: Simulated frequency dependence of the input impedance of receiver. Bottom: Dependence of the input impedance of the receiver on
V'tune

at 1 GHz. 52
V£.

4.12 Simulated waveforms of V£ and v 8 with replica-biasing. Top: v 8 . Bottom: 4.13 Simulated input impedance of the receiver at different process corners.

53 53

4.14 Simplified schematic of voltage comparator. Transistor sizes: W1 ,2 = 25J-Lm,

W3 ,4 = 12.5J-Lm, Ws ,6 = 2.5J-Lm, W7,8 = lOJLm, W9 ,10 = 2J-Lm, W11 = 35J-Lm. L = 0.13J-Lm for all transistors. DC biasing: Vc 11 = 0.45V. . . . . . . . . . .
54

4.15 Inter-signal timing skew compensation scheme. (a) MCLK' and all received training data are delayed by Tmin at t = T 1 where training data are conveyed to all channels. (b) MCLK' is further delayed by one bit time and all delayed training data bits are further delayed to align up with MCLK" . The amount of the time delay of each data bit is determined by respective delay-locked loop. 55

xi

4.16 (a) Simplified schematic of sampling clock delay block. (b) Simplified schematic of data deskew block. Circuit parameters: W1,2 = 12J.Lm, W 3 = 6J.Lm, W4 = 4J.Lm, W5 = 10J.Lm, W6 = 4.5J.Lm, W7 = 5J.Lm, W8 = 2.3J.Lm, W9 = 2.07J.Lm.
L = 0.13J.Lm for all transistors. C=500 fF. Circuit parameters of charge pump:

W1,3,5 = 2.5J.Lm, W2,4,6 = 1J.Lm,

W1,11

= 12.5J.Lm, Ws,12 = 7.5J.Lm, W9,13 = 3J.Lm,

W10 ,14 = 5J.Lm. L = 0.13J.Lm for all transistors. The transmission gate is used to balance the time delay of the inverter inserted in UP signal path. . . . . . 4.17 Timing diagram of Vc1-c3. T1 is the time instant at which MCLK and training data D[k], k=1,2, ... ,N, are conveyed to the channels. T2 marks the start of the deskew process during which D" [k], k=1,2, ... ,N, are phase-aligned with MCLK". T3 marks the end of deskew process and the start of generating the replica of the final deskewing control voltage. T4 marks the onset of the data transmission phase. The total deskew time includes that lock time of the delay locked loops and the control voltage replication time. . . . . . . . . . . . . . 4.18 Simplified schematic of voltage replication circuit. W = 3J.Lm. L = 0.13J.Lm for all transistors. . . . . . . . . . . . . . . . . . . . . . . . . . 4.19 Top : Simulated output voltage of counter. Middle : Simulated output voltage of comparator. Bottom: Simulated voltage of MUX connected to VCDL. . . 4.20 Simplified schematic of 4-channel parallel link with current-mode incremental signaling and inter-signal timing skew compensation . Channel length: Lo=0.1m, £ 1=0.06m, L2=0.14m, L 3 =0.16m, H 1 = 200J.Lm, H 2 = 500J.Lm, 59 58 57 56

W = 734j.Lm, Er=5.
4.21 Design Layout. . .

60 61 62 62

4.22 Simulated waveforms of Iin[O], Iin[1], Iin[2], MCLK', D'[1] and D'[2]. 4.23 Deskew process of D" [1] and D" [2]. . . . . . . . . . . . . . . . . . . 4.24 Simulated waveforms of D" [1]. D" [2], and MCLK" when the deskew process is completed.

62

xii

Abbreviations
ADC- Analog to Digital Converter ASIC- Application-Specified Integrated Circuits BER - Bit Error Rate BSIM- Berkeley Short-Channel IGFET Model CP - Charge Pump CMOS- Complementary Metal-Oxide Semiconductor DFF- D Flip-Flop DRAM - Dynamic Random Access Memory DLL- Delay-Locked Loop FSM - Finite State Machine IC - Integrated Circuit I/0 - Input/Output lSI - Inter-Symbol Interference LVDS- Low-Voltage Differential Signaling PCB- Printed Circuit Board PD- Phase Detector PFD - Phase Frequency Detector PLL - Phase-Locked Loop TG - Transmission Gate TIA - Transimpedance Amplifier TSPC - True Single Phase Clocking VCDL- Voltage-Controlled Delay Line VCO- Voltage-Controlled Oscillators

xiii

Chapter 1 Introduction
1.1 Motivation

The exponential growth of the speed and integration level of digital integrated circuits (ICs) requires the communication bandwidth between ICs to increase accordingly. To maintain a balanced system, the communication input/output (I/0) bandwidth of ICs must scale with the integration level [1). Traditionally, the bus structure has been employed as interconnections between systems. A global bus clock is distributed to all ICs to synchronize the transmission and reception of data. The demand for high I/ 0 bandwidth has led to the use of point-to-point parallel links [2). Compared to the bus paradigm, point-to-point parallel links offer the advantage of flexibility in physical architecture design and superiority in communication bandwidth for inter-chip data communications. Point-to-point parallel links have been widely used in short-distance communication applications such as multiprocessor interconnections, networking and communication switches, and consumer products with extensive multimedia applications [2). Parallel links can adopt different signaling schemes including single-ended, fully-differential, pseudo-differential, and incremental signaling. Parallel links with single-ended signaling, although requiring only one physical conductor per channel, suffer from the worst signal integrity as noise coupled to the channels will directly reduce the timing margins and alter the amplitude of the received data. Parallel links with fully differential signaling offer the best signal integrity, however, at the cost of two physical conductors per channel. Pseudo1

differential signaling is a compromise between performance and hardware cost by sharing a common reference channel among a group of channels. The signal integrity of each channel in the group differs due to the different physical distance between the channel and the common reference channel. Voltage-mode incremental signaling scheme proposed in (3] is an elegant signaling scheme specifically tailored to provide both superior signal integrity and a low hardware cost for parallel links. An N-bit parallel link with this signaling scheme requires only N

+ 1 physical conductors.

Common-mode rejection is achieved by amplifying

the signal difference of physically adjacent conductors with differentially configured receivers. To recover the transmitted data signals, encoders at the transmitter end and decoders at the receiver end are required. A limiting factor of parallel link bandwidth is the inter-signal timing skew that is caused by the misalignment of the data at the receiver. Inter-signal timing skew is due to the mismatches between the electrical length of channels, switching noise, the mismatches of termination impedance, and the device mismatches of transmitters and receivers. Intersignal timing skew reduces the timing margin at the receiver. It was shown in [2](4](5] that inter-signal timing skew of parallel links with single-ended signaling can be compensated effectively using per-pin skew compensation. In this approach, the phase difference between the received master clock and each data bit is measured individually. This phase difference is then used to adjust each of the sampling clock that is a phase-shifted version of the received master clock such that the data bit is sampled at the center of its data eye. The preceding per-pin skew compensation is carried out in a calibration phase, which is performed before data
t~ansmission

takes place. Calibration signals sent

alo~g

the channels with the master

clock MCLK in the calibration phase are square waves. At the receiver end, a master clock is generated using a phase-locked loop (PLL) with the transmitted MCLK as the reference. Inter-signal timing skew leads to a phase difference between the master clock and each data bit. A phase detector is used to quantify this difference and controls a voltage-controlled delay line (VCDL) which adds/subtracts a phase from MCLK such that the master clock aligns with the data. The preceding per-pin skew compensation has been widely adopted in

2

industry to combat pair-to-pair signal skew where skew amount up to one bit time can be compensated [6][7]. This per-pin deskewing approach, however, cannot be used for parallel links with voltage-mode incremental signaling as the logic state of each received data in this case is determined from the signals of both the channel itself and its neighboring channels. Thus, the obj·e~t).Y~ .of .$e. .thesis is to apply the per-pin skew compensation approach to the source-synchronized parallel link interfaces with both voltage-mode and current-mode incremental signaling schemes.

1.2

Original Contributions

This work focused on the design of current-mode transmitter and receiver of parallel link interfaces with incr'e niental signaling scheme and inter-signal timing skew compensation. A new inter-signal timing skew compensation technique for parallel links with voltage-mode incremental signaling was proposed. The proposed technique employs an Early /Late block to detect the rising and falling edges of adjacent undesired pulses due to inter-signal timing skews, and subsequently allocates the optimal sampling point of the samplers to maximize the timing margins with a deskew block. Two delay-locked loops (DLLs) are employed to place the sampling clock of each data eye to its optimal sampling position. The skew compensation range is quantified frorn the delay range of the DLLs. The effectiveness of the proposed, deskewing method was validated using a 1 Gbytes/s parallel link implemented in UMC-0.13p,m 1.2V CMOS technology with four microstrip channels on a FR4 substrate [8] . The research papers related to the voltage-mode incremental signaling parallel link designs are as follow: · · A. Hu and F. Yuan, "Inter-signal timing skew compensation of parallel links with voltage-mode incremental signaling/' IEEE Trans. Circuits and Syst. I - Regular Papers. Accepted for publication in July, 2008. · A. Hu and F. Yuan, "Inter-signal timing skew compensation of parallel links with voltage-mode incremental signaling," Proc. IEEE Int 'l Symp. 3 Circuits and Syst.,

pp.l740-1743, Seattle, May 2008. Also, a new inter-signal timing skew compensation technique for parallel links with current-mode incremental signaling is proposed. New current-mode transmitters and receivers are proposed to minimize the signal-dependent impedance mismatch and the effects of Vvv fluctuations. Both the transmitters and receivers of the parallel links are currentmode configured such that the intrinsic advantages of current-mode signaling are preserved. We show that each receiver maps the direction of its channel current, which represents the logic state of the incoming data, to two voltages of different values. The logic states of the transmitted data are recovered by the voltage comparators. The use of feedback in the front-end of the receiver eliminates the dependence of the receiver input impedance on the direction of the channel current so that signal-dependent impedance mismatch is minimized. The use of replica-biasing techniques minimizes the effect of supply voltage fluctuation on the performance of the front-end. Inter-signal timing skew compensation circuitry has been added to combat signal timing skews. Timing skews are eliminated by inserting a VCDL for each channel whose time delay is determined by the phase difference between the trans1nitted master clock and the output of the recovering comparator. The research papers related to the current-mode incremental signaling parallel link designs are as follow: · A. Hu and F. Yuan, "A new parallel link interface with current-mode incremental signaling and per-pin skew compensation," Analog Integrated Circuits and Signal Processing (MWSCAS/NEWCAS Special Issue). Accepted for publication in July, 2008. · A. Hu and

F. Yuan, "Inter-signal timing skew compensation of parallel links with

current-mode incremental signaling," lET- Circuits, Devices, and Systems. Submitted in May 2008. · A. Hu and F. Yuan, "Current-mode parallel link interface with an incremental signaling scheme and inter-signal timing skew compensation," Proc. IEEE Mid-West Symp. Circuits and Syst., Knoxville, TN. Accepted for publication in May 2008.

4

· A. Hu and F. Yuan, "Parallel links with current-mode incremental signaling and per-pin skew compensation," Microelectronics Journal (MWSCAS/NEWCAS Special Issue). Submitted in April 2008 (Invited). · A. Hu and F. Yuan, "A new parallel link interface with current-mode incremental signaling and per-pin skew compensation," Pro c. IEEE Mid-West Symp. Circuits and Syst., pp.l457-1460, Montreal, August 2007.

1.3

Thesis Organization

This thesis is organized as follows: Chapter 2 presents the typical architecture and different signaling schemes of source-synchronized parallel links, and examines the design challenges of the parallel link interface including voltage noise and inter-signal timing skew. The causes of voltage noise and inter-signal timing skew are examined. Chapter 3 describes the designed inter-signal timing compensation technique for the voltage-mode incremental signaling parallel link interface. The designs of the receiver and the deskew circuitry are described in details. The simulation results of a 2-bit parallel link interface are also presented. Chapter 4 describes the designed current-mode parallel link interface with the incremental signaling scheme and per-pin deskew technique. The designs of transmitter, receiver, voltage comparator, and the deskew circuitry are introduced. The simulation results and the layout of the design are also presented. The thesis conclusion and future work is presented in Chpater

5.

5

Chapter 2 Fundamentals of Source-Synchronized Parallel Links
A generic architecture of parallel link interfaces is shown in Fig. 2.1(a). The inputs consist of the master clock (MCLK) and N-bit parallel input data (D(l] "' D[n]). D[l] "' D[n] are required to be synchronized with MCLK as shown in Fig. 2.1(b). D(l] "' D[n] drive the transmitters (Tx) and send D'[l] "' D'[n] to the channels. The receiver (Rx) recovers D(l] "'D[n] from D'(l] "'D'[n] and provides a matching impedance to the channel. MCLK is recovered with a DLL/PLL and intentionally delayed by 90°, as shown in Fig. 2.l(b). As a result, MCLK' is relocated to the center of the data eye and the timing margins are maximized.
MCLK
0(1]

0(2]

O[n]
Timing Margin for Sampling

(a)

(b)

Figure 2.1: (a) Parallel links with single-ended signaling. (b) Timing diagram.

Another class of parallel link is bidirectional interfaces that offer high bandwidth and more pin savings (4](9]-(12]. In this architecture, two transceivers send and receive data between
6

each other simultaneously. The signals transmitted through the channels are usually multilevel data streams. The transmitted signals at each transceiver are recovered with multiple local reference voltages.

2.1

Electrical Signaling Schemes for Source-Synchronized Parallel Links

The signaling schemes of a parallel link are the encoding and decoding schemes of the transmitted signals D'[1]
rv

D'[n] at the transmitter and the receiver. Single-ended signaling

scheme, fully-differential signaling scheme, pseudo-differential signaling scheme, and incremental signaling scheme have been developed for parallel links [3](13]. In this section, these signaling schemes are briefly examined. A more detailed description is available in [13]. An emphasis is given to the incremental signaling scheme.

2.1.1

Single-Ended Signaling Scheme

A typical structure of the single-ended signaling scheme is shown in Fig. 2.2(a). To transmit N-bit data, N physical conductors are required. The two logic states of D[n] can be easily mapped to two different voltage levels signals, D'[1]
rv

(Vhigh

and Vtow) for D'[n]. To recover the transmitted
VreJ· VreJ

D'[n] are compared with a local reference voltage
Vhigh

is usually set

to the average of

and Vlow in order to ensure 50% duty cycle of the recovered signals
Vref

D[1]

rv

D[n] at the output of the voltage comparator. Since
rv

is provided by the receiver

instead of the channel, noises added to p'[1]

D'[n] cannot be suppressed by the receiver.

2.1.2

Fully-Differential Signaling Scheme

Parallel links with a fully-differential signaling scheme are shown in Fig. 2.2(b). To transmit N-bit data, 2N physical conductors are required. The transmitter maps D[n] to two different voltage levels carried by D'[na] and D'[nb]. When D[n] is logic-0, the voltage level of D'[na] is lower than that of D'[nb] and vice versa. At the receiver end, D(1)
rv

D[n] are recovered

by comparing the voltage difference between D'[na] and D'[nb]. The major advantage of
7

MCLK

MCLK

0[1]

0[1]

0[2]
O[n]

· ·

·

O[n]

(a)

Figure 2.2: (a) Single-ended signaling. (b) Fully-differential signaling.

this signaling scheme is that D[n] is obtained from the difference between D'[na] and D'[nb] thus common-mode noise is effectively suppressed.

2.1.3

Pseudo-Differential Signaling Scheme

The pseudo-differential signaling scheme is derived from the single-ended signaling scheme, as shown in Fig. 2.3. To transmit N-bit data, N+l physical conductors are required. The reference voltage comes from the channel instead of the receiver thus common-mode noise rejection is provided but only to a certain extent as the physical distance between D'[n] and the reference signal varies. The number of the conductors per group is typically limited to four.
MCLK

0'[1] 0[1]
D'[n] · · O[n]

·

Vref

Figure 2.3: Pseudo-differential signaling.

8

2.1.4

Incremental Signaling Schemes

A. Voltage-Mode Incremental Signaling Scheme
The voltage-mode incremental signaling scheme is capable of common-mode noise rejection and requires minimum number of physical ~onductors._ The architecture of parallel link interfaces with the voltage-mode incremental signaling is shown in Fig. 2.4(a) (3]. N-bit

D[l]

rv

D[n] are sent to the encoders and mapped into D'[1]

rv

D'[n + 1]. D'(1]

rv

D'[n + 1]

are conveyed to the channels. To reject the common-mode noise, comparators at the receiverend evaluate the signal difference between adjacent channels (D'[n] and D'[n+ 1]) and output the result

D"[n]

=

D'[n + 1]- D'[n].
rv

(2.1)

To recover the logic state of the transmitted signals D[1]

D[n] from D"[1]

rv

D"[n + 1],

decoders circuitry are required. The voltage-mode incremental signaling scheme employs N+ 1 physical conductors to transmit N-bit of data, and offers the advantage of commonmode noise rejection as the fully-differential signaling scheme does.
0 '[1] 0[1] 0'[2) 0(2] 0'[3] 0'[3) 0'[2] 0[2] 0[2] 0(3) 0 '[1] 0(1] 0[1] 0[2) 0'(3] 0'(3) 0'[1] 0 '(1] 0[1] 0 '(2] 0'(2]

O[n-1] O'[n) O[n] O'(n+1] O'[n+1] O'[n)

O[n-1)

O'[n) O[n] O'[n+1] O(n] D'[n+1]

O[n)

(a)

(b)

Figure 2.4: (a) Parallel links with the voltage-mode incremental signaling scheme. (b) Encoder and decoder.

The implementation of the encoder and decoder proposed in [3] is shown in Fig. 2.4(b ). The encoder is implemented with cascaded XOR2 gates

D'[n + 1] = D'[n] EB D[n].
9

(2.2)

As a result, D'[n] is mapped to either logic-1 or logic-0. A sample scenario of D[n] consist ing of 10 bits along with the corresponding D'[n] and D"[n] is shown in Table 2.1. By using peak detectors for the decoder circuitry, -1 for D"[n] will be corrected to 1.
Table 2.1: Logic state of parallel links with the voltage-mode incremental signaling scheme

n

D[n] D'[n] D"[n]

1 2 3 0 0 1 0 0 0 0 0 -1

4 5 1 1 1 0 1 -1

6 0 1 0

7 1 1 1

8 9 0 1 0 0 0 -1

10 1 1 1

11 0

B. Current-Mode Incremental Signaling Scheme
A current-mode incremental signaling was proposed in [14] . As compared to voltage-mode signaling scheme, current-mode signaling offers the advantages including higher bandwidth and better signal integrity [14]. The architecture and the schematic of the receiver are shown in Fig. 2.5(a) and Fig. 2.5(b ), respectively. Each transmitter Tx converts the input signal

D[n] to a pair of currents D'[na] and D'[nb]. When D[n] is logic-1, Tx supplies J to D'[na]
and sinks J from D'[nb], and vice versa.
0'[1a] 0[1] 0'[1 b] 0'[2a] 0[2] 0'[2a] O'[Ja] O[n] O'[na] 0"[3] · 0"[1]

0"[2]

· ·
(b)

O"[n+1]

(a)

Figure 2.5: (a) Parallel links with the current-mode incremental signaling scheme. (b) Schematic of the current-mode driver (Tx).

As a result, except the first and last channel, the net current D"[n] in each channel depends on the logic states of two adjacent data D[n] and D[n- 1]. The relation is summarized as

10

D"[n]

=

0, if D [n - 1) EB D [n] = 0, -2J, if D[n - 1] = 1 and D[n] = 0, { 2J, if D[n- 1) = 0 and D[n] = 1.

(2.3)

At the receive.r __ep.5f _.tb~*.direction of the current through

Rn

determines the logic state of

D[n]. For any three arbitrary consecutive bits -(i.e. D[n- 1), D[n] and D[n + 1]), eight
possible logic combinations exist. The corresponding values for D"[n] and D"[n the current through

+ 1),

and

Rn are summarized in Table 2.2. Except the first and last scenario, it is

evident that the logic state of D[n] matches the direction of the current through R,. When the three consecutive bits D[n- 1), D[n] and D[n + 1) are either 000 or 111, the current through

Rn is supplied with channel current of D"[n- 2].
Table 2.2: Logic states of current-mode incremental signaling

n D[n- 1] D[n] D[n + 1] D"[n] D"[n + 1]
Current through

Rn

1 2 0 0 0 0 0 1 0 0 0 2J 0 -J

3 0
1 0 2J -2J J

4

0 1 1 2J 0 J

5 1

0 0 -2J 0 -J

6 1 0 1 -2J 2J -J

7 1 1 0 0 -2J J

8 1 1 1 0 0 0

2.1.5

Design of Source-Synchronized Parallel Link Interfaces - A Review

In this section, several published parallel link interface are reviewed. In [15], the author proposed a high-speed parallel link architecture with pseudo-differential signaling, as shown in Fig. 2. 6 (a). The signal from each channel is encoded into 3 different signal levels, and the trans1nitted signals are recovered by comparing the voltage difference between the channels and Vref. In [16], the transmitter of the proposed parallel link interface will supply or

sink currents from the channel based on the logic states of the input signals, as shown in Fig. 2.6(b). At the receiver end, termination resistors convert the current signals into the

11

voltage signals and behave as transimpedance amplifiers (TIAs). The transmitted signals are recovered by comparing the voltage difference between the local reference signal and the transmitted signals. In [17], a four-channel parallel link interface capable of transmitting three data is proposed, as shown in Fig. 2.6( c). The signal level transmitted through each channel depends on two of the ·three transmitted data. ' lb recovered the first and last transmitted data at the receiver end, signals from two of the four channels are used. To recover the second data, signals from all four channels are required. In [18], the proposed architecture is also capable of transmitting three data using four channels, as shown in Fig. 2.6(d). The logic states of three data lead to eight possible combinations. Different logic combinations result four different signals transmitted through the channel where each signal can be either level high, center or low. To recover the transmitted data, the channel signals are compared with each other with voltage comparators. The performance of these designed are summarized in Table 2.3.
Table 2.3: Parallel link performance

Ref. (15] (16] (17] (18]

Total Power N/A 3.3mW 450mW 17.1mW

Technology Data Rate 1.8Gbytes/s 0.25J.Lm 1.1Gbytes/s 0.25J.Lm 4Gbytes/s 0.25J.Lm 4.2Gbytes/s 0.18J.Lm

Total Area 3.1x3.1mm2 N/A

NjA
3xl.3mm2

2.2

Design Challenges of Source-Synchronized Parallel Links

This section describes the nonidealities of the transmitted signals over wireline channels. Signals transmitted through the channels will be affected by the voltage noise and inter-signal timing skew. In section 2.2.1 , the causes and effects of the voltage noises are discussed. In section 2.2.2, the impact of inter-signal timing skews on wireline communications are discussed. Also, the per-pin skew compensation technique designed to combat inter-signal timing skew

12

Tx CLK

Rx

01

01

Data[O]

Data[n-1]

...

02

02

03

03

Vref

On

On

(a)
01 01 01

(b)

01

02

02

02

02

03

03

03

03

(c)

(d)

Figure 2.6: Schematic of the reviewed parallel link interface

is described. In section 2.2.3, several published novel deskew designs are reviewed.

2.2.1

Voltage Noise

Nonidealities in high-speed electrical signaling can be visualized with the eye diagram in Fig. 2.7. The voltage margin refers to the difference between the maximum/minimum signal level and the reference voltage. Sources that can reduce the voltage margins include channel attenuation induced inter-symbol interference (ISI), impedance mismatches, fabrication offsets, and power supply noise [2].

Channel Attenuation and lSI
Channel attenuation induced lSI greatly contributes to the reduced voltage margins. lSI refers to the distortion of the received signal where the distortion is manifested in the tern-

13

(a)

(b)

Figure 2.7: (a) Eye diagram with large eye opening. (b) Eye diagram with small eye opening.

poral spreading and consequent overlap of individual pulses to the degree that the receiver cannot reliably distinguish between the changes of state [19]. For a five-bit signal stream 10110, as illustrated in Fig. 2.8(a), the finite rise and fall times of the transmitted signals lead to the undesired signal spreading such that the pulses overlap with each other, as shown in Fig. 2.8(b). Consequently, the signal levels are reduced at Bit two and Bit three, consequently their voltage margins are reduced as shown in 2.8( c).

lSI is affected by the low-pass and high-pass effects of channels [20]. The low-pass effects
refer to the attenuation of the high-frequency components for the transmitted signals. On the other hand, the output de levels for a long run of consecutive ones or zeros will drift due to the high-pass effects. Another source that contributes to lSI is the channel's series resistance caused by the skin effects [21]. The high-frequency current of a conductor does not flow uniformly throughout the cross area of the conductor. The magnetic field within the conductor forces the current of the conductor to flow only in a shallow band just underneath the surface of the conductor. The redistribution of the current increases the resistance of the conductor. This increase in resistance is called skin effect [8]. Due to the skin effect , the resistance increases at high frequencies because at higher frequencies, the current travels closer to the conductor surface, reducing the area of current flow. The signal attenuation for a RG-55U cable is shown in Fig. 2.9[21). It is evident that the high-frequency components suffer more attenuations than the lower frequency components. To combat wire and parasitic losses, linear equalizers have been adopted (22]-(25] . Linear equalizers are high-pass filters. The magnitude of high-frequency components is amplified to combat the low-pass effect of the channels in order to extend the usable bandwidth of the channels (26]. Another approach is to implement the filter in the digital domain by feeding

14

(b)
1
I

J I

I

(c)
Figure 2.8: Intersymbol interference. (a) Transmitted signals. (b) Pulse spreading due to lSI. (c) Actual transmitted signals.

the input to an analog-to-digital converter (ADC) and postprocessing the ADC output with a high-pass filter [21]. Advanced techniques such as decision feedback equalization, multilevel modulation and adaptive interference cancellation have also been adopted to combat signal attenuation [26].

15

.......... CD
"0

.~

Frequency

Figure 2.9: Transfer function of RG-55U cables.

Impedance Mismatch

Near-channel and far-channel signal reflections also lead to decreased voltage margins. Since the reflection coefficient is given by

(2.4)
where Z L and Zo are the load impedance and the channel characteristic impedance. Thus, the load impedance must match the channel characteristic impedance to minimize the signal reflections.
Offsets

Transistors mismatches in the transmitter and receiver circuitry can induce fixed voltage offsets whose magnitudes are independent of transmission signal swing but rather are determined by the transistor sizes and process parameters. Transmitter mismatches cause the actual output signal swing to deviate from the nominal swing. Receiver mismatches increase the minimum transmit signal swing required for an accurate signal detection. Offset-cancellation

16

techniques commonly used in opamp designs can be applied to reduce mismatch-induced effects [2].

Power Supply Noise
Power supply noise is induced by switching large cur!ents in short ·durations across the parasitic inductance in power distribution network, and is also called ~ noise. Power supply noise is also caused by the large output drivers switching large currents. Techniques such as minimizing the inductance of power distribution networks, employing constant-current drivers, and keeping the total current drawn from the supply constant have been used to reduce power supply noise [2].

2. 2.2

Inter-Signal Timing Skew

The timing margins refer to the available time duration allocated to the receiver for sampling. Data in parallel links are recovered by sampling each received data bit at the center of the data eye such that the timing margins for sampling in both directions are maximized. If all channels have the same electrical length, the optimal position of the sampling clock for each data bit is achieved by phase-shifting the master clock transmitted along with the data by half of the bit time, as shown in Fig. 2.10(a). However, mismatches in the transmitter and receiver circuitry, in the transmitter and receiver clock distributions, and in the interconnect wires (cables, printed-circuit board traces, package traces, and connectors) lead to the different arrival times of the parallel data at the receiver end. This is known as the inter-signal timing skew [2][4][5][27], as illustrated graphically in Fig. 2.10(b ). Inter. .

signal timing skew reduces the timing margins of parallel links and deteriorates the bit error rate. Although timing skews encountered in clock distributions have been studied extensively and various compensation schemes have been proposed [28]- [32], only a few studies on intersignal timing skew of parallel links are available. It was shown in [4] [5] that the effect of the inter-signal timing skew on parallel links with single-ended voltage-mode signaling can be eliminated by using the per-pin skew compensation technique where each received data bit 17

MCLK_j

I

MCLK

0[1]
O[n] Shifted! MCLK

0[1]==x
O[n]

I X
X

I

I
~X

~-

~~-

I iI ~
~~

:·

~:-

I

·:

~L

Shifted MCLK

I

Timing Margin for Sampling

Reduced Timing Margin for Sampling

.

-~- -~

I

I
(b)

X
·

~~ft ~~

! i x= . I i L_

i

(a)

Figure 2.10: Data recovery in parallel links. (a) Without inter-signal timing skew. (b) With

inter-signal timing skew. has its own sampling clock positioned at the center of the data eye. In this approach, the phase difference between the received master clock and each data bit is measured indivi dl~~lly. The phase difference is then used to adjust the position of the sampling clock for each data bit. The readjusted sampling clocks are phase-shifted versions of the received master clock such that the data bit is sampled at the center of its data eye, as shown in Fig. 2.11. Per-pin skew compensation is typically carried out in a calibration phase prior to data transmission. At the receiver end, a master clock is generated using a PLL with MCLK as its reference. Inter-signal timing skew leads to a phase difference between the master clock and each data bit. A phase detector is used to quantify this phase difference and controls a VCDL, which adds or subtracts time delays from MCLK such that MCLK'[n] is shifted to the center of the data eye for D'[n]. Per-pin skew compensation has been widely used in industry to combat inter-signal time skew up to one bit time [6][7].

2.2.3

Design of Deskew Buffers- A Review

The details of several novel deskew architectures are presented in this section. In [4], a single-ended parallel link interface was designed with per-pin deskew capability. The deskew process is performed in the calibration mode where the signal coming from the channel is compared with the receiver clock. DLL is used to generate six differential clocks with 30° spacings. Phase interpolator takes two adjacent clocks, and further divides the phase difference into 15 equal spaced signals where 2° separates two adjacent signals. As a result , 18

MCLK

_

____.

0[1]

· · ·
0[2]

· · ·

Without inter-signal tim ng skew

· · ·

MCLK

_

____.

· · ·

MCLK'[1]

----!

· · ·
· .... · · .. . · .·1 ~

· ·
·

MCLK

MCLK MCLK

MCLK'[n]

.
8

.
8

.
8

.
I

With inter-signal timing skew

Figure 2.11: Per-pin skew compensation of parallel links with a single-ended signaling scheme.

90 different phase incremental steps spanning through the entire period are made available for the deskew purpose. The selection of the signal to be compared with the channel training clock is controlled by a finite state machine (FSM). In [5], the authors proposed a bit-to-bit skew control technique for inter-chip data communications. At the receiver side, the phase difference between adjacent channel signals are compared by a phase comparing circuitry. The phase information between two adjacent signals are represented by CUP and CDN signals. If one signal leads the other, CUP is set to logic one and vice versa. CUP /CDN are sent back to the receiver front-end through a separate channel and are used to control a delay counter that controls a variable delay line. The variable delay line will apply a corresponding timing delay to the transmitted signal un,til the skew between adjacent signals are compensated. Both the transmitted and received signals are sampled with D flip-flops (DFFs). In [27), the authors proposed a technique to deskew a pair of differential printed circuit

19

board (PCB) traces. The timing information of one PCB trace is regarded as the reference, and the deskew circuitry tries to eliminate the phase difference between the other channel and the reference channel. The VCDL is implemented based on the inverter chain. The timing delay can be controlled by tuning the output time constant of each inverting stage. In [33],. the authors proposed a resistance-based distributed deskew technique. The reference clock is sent to a chain of transmission gates (TGs) where the propagation time of each TG results in time-delayed reference clock signals. Each time-delayed signal is selected by digital control signals and compared with the data. A phase detector continuously compares the phase difference between the selected signal and the data until the two signals are in phase. The selected signal is then used to sample the data. In [34], the authors proposed a novel deskew buffer for low-voltage differential signaling (LVDS) application implemented with a skew detector and a programmable delay block. The skew detector cornpares the phase difference between the two channels, and generates either Early, Good or Late signals to account for the three different scenarios where one signal leads, aligns with or lags the other signal. The programmable delay block can apply various timing delay on the input signal by changing the capacitive loading. The power consumption, capable deskew range, technology and the data rate of the above designs are summarized in Table 2.4. Compensation accuracy refers to the timing skew after the compensation.
Table 2.4: Deskew buffer performance

Ref. [4) [5) [27) [33) [34)

Total Power 85.8mW N/A N/A N/A 300mW

Deskew Range 833ps N/A lns 60ps 3ns

TechJ?.ology Data Rate 0.35pm 2.4Gbits/s 0.2pm 5Gbits/s 0.25pm 500Mbits/s O.lOpm 2.4Gbits/s 0.35pm 250Mbits/s

Compensation Accuracy N/A lOOps 12.5ps lOps lOOps

20

2.3

Chapter Summary

In this chapter, the basic architecture and different signaling schemes of source-synchronized parallel links are examined. The nonidealities in the parallel link design, the voltage noise and inter-signal timing skews, are reviewed. Voltage noise are caused by lSI,
h.. · .

impedanc~

mismatches, offsets, and power supply noise. Inter-signal timing skews refer to the misalignment of the data at the receiver, and reduces the sampling margin. To combat inter-signal timing skew, per-pin deskew has been adopted in industry to combat signal skews up to one bit time.

21

Chapter 3

Inter-Signal Timine Skew Compensation of Source-Synchronized Parallel Links with Voltage-Mode Incremental Signaling
In this chapter, the inter-signal timing skew compensation technique for parallel links with voltage-mode incremental signaling is described. The proposed technique employs an Early /Late block to detect the rising and falling edges of adjacent undesired pulses due to inter-signal timing skews, and subsequently allocates the optimal sampling point of the samplers to maximize the timing margins with a deskew block. Two DLLs are employed to place the sampling clock of each data eye to its optimal sampling position. The skew compensation range is quantified from the delay range of the DLLs. In section 4.1, the overall architecture of the parallel link interface is described. In section 4.2, the structure and the simulation results of the receiver is presented. In section 4.3, the design of the Early /Late block is introduced. Section 4.4 provides a brief overview of the delay-locked loop. Section 4.5 presents the design of the inter-signal timing skew compensation circuitry. In section 4.6, the effectiveness of the proposed deskewing method is validated using a 1 Gbytes/s parallel link implemented in UMC-0.13J.Lm 1.2V CMOS technology with four microstrip channels on a FR4 substrate [8]. The chapter is concluded in section 4. 7.

22

3.1

Architecture

The configuration of parallel links with voltage-mode incremental signaling and inter-signal timing skew compensation is shown in Fig. 3.1. Vc1-cs are used to control the Early /Late blocks and Deskew blocks. To transmit N-bit data, N+1 channels are required for data and clock. The operation of the system consists of two phases, namely calibration phase and data transmission phase, which are selected by Vc5 . Inter-signal timing skew compensation is performed in the calibration phase by setting Vc5 to logic-0. Square-wave signals with 50% duty cycle are sent to all channels. Inverter drivers are used at the near end of the channels to ensure the rail-to-rail swing of the transmitted voltage signals. Shunt termination is employed at the far end of the channels .
..nrL Vc5
R

Vc1

Vc2-4

VE[1] VL[1]

Deskew Block MCLK'[1]

VE[2] VL[2] Deskew Block MCLK'[2]

·· · · ·
VE[n] VL[n]

Deskew Block MCLK'[n]

Figure 3.1: Parallel links with voltage-mode incremental signaling and per-pin skew compensation.

Inter-signal timing skew between D'[n] and D'[n + 1] leads to an undesired

T sk ew

portion

in the output of the comparator D"[n], as shown in Fig. 3.2, where Tsk ew is the width of . . margin . IS . re d uced from T bit . ] The tlm1ng D" [n. without s kew to T bit - Tsk ew wit h skew. As 2 2 a result, the optimal sampling location of MCLK'[n) is at the middle of two adjacent Tskew 23

pulses, as shown in Fig. 3.2. To move MCLK'[n] to this new optimal location, the Early /Late block in Fig. 3.1 first generates an early signal VE(n] and an late signal VL(n] from D"[n]. VE[n] is aligned with the rising edge of D"[n] while VL(n] is aligned with the falling edge of

D"[n], as shown in Fig.3.3. The phase difference between VE[n] and VL[n] is

Tbit

+ Tskew·

The Deskew block in Fig. 3.1 uses VE[n] as the reference signal, and adds a phase delay to VL[n] or subtract a phase delay from VL[n] using a DLL until VL[n] is aligned with VE[n] . The mid-way through the phase shift applied to VL[n] marks the location that has an equal distances from two adjacent Tskew pulses. This signal is denoted by VM[n]. Since Tskew varies for different channels, the location of VM[n] varies. MCLK needs to be aligned with VM[n] to create MCLK'[n] for each channel. D"[n] of each channel can be sampled with MCLK'[n] to optimize the timing margins.
Tbit

D'[n] __r---t__r D'[n+1) __r---t__r D"[n]

~

Ts.._

Tskew

Tskew

Tsk-

Tskew

Tsk-

Tskew

D'[n] D'[n+1) D"[n)

MCLK'[n]

---------r--1--(a)T-=0

-H l! !r
----r--i-(b)T-<T...J2

--rr-H---fT
ij

-4 ... -4 ... -4 ...
D'[n)

--fTl---+--r
- ~ ~·
(c)T-=Tt>J2

H

H

1

D'[n] D'[n+1)

--r-n-+f

~~1

D'[n+1]~
D"[n)

i

ij

i I

!

jj

U--

D''[n) ~
MCLK'[n]

MCLK'[n)

MCLK'[n)~

-r---1(d)T..ow>Tt>J2

Figure 3.2: Comparator output D"[n] for different

Tskew·

Fig. 3.3 illustrates two different phase shifts applied to VL[n]. Due to the difference in the delay range of the VCDL caused by process variations and temperature drift, VL[n] could be aligned with any arbitrary rising edge of VE[n]. In Fig. 3.3(a), the rising edge of ·VL[n] aligns with the second rising edge of VE[n] while in Fig. 3.3(b), it aligns with the third rising edge of VE[n]. In both cases, VM[n] falls in the middle between two adjacent pulses of D"[n]. It can be verified that VM[n] will always fall in the middle of two adjacent pulses of D"[n] as long as VL[n] aligns with the N-th rising edge of VE[n].

3.2

Comparator

The implementation of the differential comparators employs Gilbert cell and differential amplifier as shown in Fig. 3.4. The generic architecture of Gilbert cell is shown in Fig. 3.5.
24

O"(n] VE[n]

O"(n] VE[n]

VL[n] VM[n] MCLK'[n]
(a)

VL[n] VM[n] MCLK'[n]
(b)
J.

Figure 3.3: Timing diagram of Early /Late block.

The first differential pair (DPl) consists of transistors Ml, M3 and M6 with the voltage gain
9m3 ,6 Rout · The second differential pair (DP2) is formed by M2, M4 and M5 with the voltage

gain -9m4,5Rout· Vout depends on the gains of both differential pairs

. (3.1)
The biasing current Iss is split between the two differential pairs, and Vcont determines the current allocated for each differential pair. Since 9m is proportional to the biasing current, which is controlled by Vcont, Vin and Vcont together determines the polarity and magnitude of
Vout· Positive "Vcont will make DPl predominant to Vout polarity since the current distribution

is in favor of DPl, and Vin and Vaut will have the same polarity as illustrated by the right-half plane of Fig. 3.5(b). Negative Vcont leads to DP2 receiving more biasing current, and Vin and Vout having the opposite polarity according to the left-half plane in Fig. 3.5(b). The flat portion in Fig. 3.5 stems from the large magnitude of Vcont that turns off Ml or M2 such that the entire Iss is steered to DPl or DP2. Further increasing or decreasing of Vcont will not affect Vout· When Vcont reaches zero, Iss is split equally between DPl and DP2. The
.

.

gain of DPl and DP2 cancels with each other, resulting in Vaut

= 0.

The differential comparator in Fig. 3.4 takes on a slight modification of Fig. 3.5, where
Vin+ is connected to Vcont+ and Vin- is connected to Vcont-. This architecture ensures the

same polarity for Vin and Vcont which always leads to positive Vout, as shown by the upperhalf plane of Fig. 3.5(b). The opposite polarities of D'[n] and D'[n + 1] will always lead to positive Vout· When the signal level of D'[n] equals to that of D'[n + 1], the biasing current is split equally between the two differential pairs. 25

VoVo+

D'[n]

Figure 3.4: Schematic of comparator. Transistor sizes: W1,2 = 5J.Lm, W3-6 = 27J.Lm, W1,s = 50J.Lm, W9,1o = 5J.Lm, Wu,12 = lOJ.Lm, W13 = 40J.Lm. L = O.l3J.Lm for all transistors. Biasing: Iss = 2mA, Vb1 = 0.8V, Vb2 = 0.6V.

The differential amplifier converts the differential signal

Vaut into single-ended D"[n] sig-

nal. Opposite signal polarities for D'[n] and D'[n + 1] lead to positive Vout, which results in logic high for D"[n]. When D'[n] and D'[n + 1] have the same polarity, the common-mode voltage level of Vout forces D"[n] to logic low. This is achieved through sizing transistor and

Iss·
The simulated transient response of the comparator is shown in Fig. 3.6. Two scenarios for
Tskew

at 60ps and 31 Ops are demonstrated. The minimum detectable skew is set by the

sensitivity of the comparator. Simulated waveforms of D"[n] with signal skew from 50 ps to 65 ps with st.ep 5 ps are shown in Fig. 3. 7. When the signal skews is reduced to 50 ps, the amplitude of D"[n] is reduced to less than half of Vnn· The minimum detectable signal skew is estimated to be 55 ps.

3.3

Early /Late Block

The Early /Late block shown in Fig. 3.8 generates VE[n] and VL[n] from D"[n] triggered by

Vc 1 . Fig. 3.10 shows the simulation results of VE(n] and VL[n]. The logic-0 state of Vc 1 sets
26

· · ·

. · ·
+-----+
Vout Vout

Vin>O

M6 Vcont

(a)

(b)

Figure 3.5: (a) Generic architecture of Gilbert cell. (b) Characteristic curve of Vout versus Vcont when Yin > 0 and Yin < 0.

> 1.4 '·

- D"[nj

Eo6
~ 0.2

-;

1

i

>' 1.4
1

-D"[nj

~ 0.2
· . -0 lime(ns) · lime(ns)

£1 0 .6

. -0

Figure 3.6: Simulated transient response of comparator. Left: 310ps.

Tskew

=

60ps. Right:

Tskew

=

~ :l~r------J(\_
-0.2 3
1

_ _

---.~I:5ps---60ps·-·-55ps"""""~
5 6

4
Time (ns)

Figure 3. 7: Simulated waveforms of D"[n] with various signal skews.

VE(n] and VL(n] to logic-0 and logic-1 initially.

Vc 1 is set to logic-1 at T1 , as shown in Fig.

3.9. The first falling edge after the arrival of Vc1 alters the selection of the multiplexers. The two inverters force VE(n] and VL(n] to change their respective logic states upon the arrival of the positive and negative edges of D"[n]. It is evident that VE[n] and VL(n] carry the

27

correct timing information of the rising and falling edges of D"[n].

Vc1 D"[n]

Figure 3.8: Schematic of Early/Late block.

I

Vc1 Vc2 Vc3
v~

_j

_

_,__,
:

--....i~!o-----9

vcs __

~~~------~------~~r--T1 T2
T3

T4 TS

Figure 3.9: Timing diagram of control voltages. Tl is the time instant at which the Early /Late block is enabled to detect the rising and falling edges of D"[n]. T2 is the time instant at which DLLl is enabled, and Vfb[n] starts to align with VE[n]. T3 is the time instant at which DLL2 is enabled where Vfb[n] is aligned with VE[n] and MCLK'[n] starts to align with VM[n]. T4 is the time instant at which MCLK'[n] and VM[n] are aligned and DLL2 is disabled. T5 marks the start of the data transmission phase and the end of the calibration phase.

The DFFs in Fig. 3.8 are implemented using true single phase clocking (TSPC) logic gates to take the advantages of their simple configurations subsequently high speed (35]. Another advantage of using TSPC-based DFFs is that both rising-edge triggered and falling-edge triggered TSPC-DFFs can be triggered by D"[n] without using its complement.

3.4

Delay-Locked Loop

DLLs are widely used in clock generation, serial links, clock de-skew buffers, dynamic randorn access memory (DRAM) interfaces, high-speed microprocessors and application-specified

28

~1 .4

J 02

' f o.:

1 . 8Lrul1uulluU
1 .~
-O"[n]

0 .6 02 -4.' ! - - -J....__-'-------.J.-----1.._

___.__

___;__

____,___

__,

tiLJ::
fo.6
> 02
-4.

~·:

't

1

~ ~ Lfijj:J
2 3
Time(ns)

~
4 5 6 7

8

Figure 3.10: Simulated waveforms of the voltages of the Early /Late block. Left: Right: Tskew = 310ps. T1 = 1.5ns.

Tskew

= 60ps.

integrated circuits (ASICs) (36](37]. DLL can be regarded as a control system which adjusts phase rather than frequency. Therefore, they cannot perform frequency multiplication. DLLs do not suffer from phase-error accumulation and stability is easier to sustain. A generic DLL structure is shown in Fig. 3.ll(a).

Vin

Vout

(a)

<Pin.

{b)
Figure 3.11: (a) Typical DLL architecture. (b) DLL model.

The open-loop response of the DLL can be expressed as
<Pout ( ) _
;r.,.. '±'m

fcpFref K

S

-

S

C

vcdl,

(3.2)

29

where and

Kvcdl

is the gain of the VCDL and

Fref

is the frequency of the input signal.

~in

~out

are the phase of the input and output signals. The closed-loop response can be

expressed as
~out_

~in

-

H(s) 1 + H(s)"

(3.3)

Thus,
1
1+
sC
lcpFrefKvcdl

1
1+
2.__ ' WN

------~--------

(3.4)

where

WN

= lcpFrefKvcdl, and is the loop bandwidth.

3.5

Deskew Block

The Deskew blocks in Fig. 3.1 shift MCLK to the middle point between two adjacent D"[n] pulses for each channel. The schematic of the Deskew block is shown in Fig. 3.12. It consists of two cascaded DLLs. The simplified schematic of the phase-frequency detector (PFD) and that of the charge pump are shown in Fig. 3.13. The charge pump and the current-starved VCDL were used in (38]. The function of DLLl is to align VL[n] with VE[n], as shown in Fig. 3.3, and generate VM[n]. The output of VCDLl, denoted by VM[n], is fed to PFD2 of DLL2. VM[n] taken from the middle of VCDLl will always have an equal phase difference to VL[n] and Vfb[n]. Two pairs of static inverters are inserted before and after VM[n] to sharpen the waveforms. The minimum and maximum phase delays are delivered by VCDL1 when Vctrll[n] is set to 0 and
.
VDD

respectively. The dependence of the delay of VCDL1
.
Tmin, Tmax, Teal,

on Vctrll[n] at process corners is shown in Fig. 3.14. Table 3.1 tabulates

Rangel, and Range2 of VCDLl at process corners, where
and maximum phase delays of VCDLl,
Teal

Tmin

and

Tmax

are the minimum
Vcal, Tmax

is the phase delay when Vctrll[n] is set to and Range2 is the difference between

Rangel is the difference between
and
Teal·

Teal

and

Tmin,

It should be noted that current-starve VCDLs implemented in TSMC-O.l8J.Lm

CMOS in (38] has a cycle-to-cycle jitter of 10.42 ps. Similar VCDLs were used in (36][37][39] with measured cycle-to-cycle jitter 8 ps, 14 ps, and less than 25 ps, respectively. These 30

observations reveal that the minimum deskew range or the sensitivity of the deskew network is set by the sensitivity of the comparators, which was shown to be 50 ps earlier, rather than the jitter of the VCDLs.

Vfb[n]

MCLK'[n]

Figure 3.12: Schematic of Deskew block. When Vc2=Logic-O, the output of the MUX is Vcat · When Vc2=Logic-l, the output of the MUX is from the preceding charge pump. The same holds for Vc3. Vc4 is set to Logicl when VM[n] and MCLK'(n] are aligned. Transistor sizes: W1,2 = l2JLm, W3 = 6JLm, W4 = 4JLm, W5 = lOJLm, W6 = 4.5JLm, W7 = 5J.Lm, Ws = 2.3JLm, Wg = 2.07 JLm. L = O.l3JLm for all transistors. C1 = C2 = 4pF. Vcat = 0.61 V.

Vc 2 is set to logic-0 initially to force Vctrll[n] equal to Vcat· By setting Vctrll[n] to Vcaz,
the phase delay of VCDLl can be added to or subtracted from
31
Teal

and the maximum delay

Qt---.--o
Down

R

Qt---.--o
Up

(a)

(b)

Figure 3. 3: (a) Schematic of PFD. (b) Schematic of charge pump. Transistor sizes: W1,3,5 = 2.5J.Lm, W2,4,6 = lJ.Lm, W1,11 = 12.5J.Lm, Ws,12 = 7.5J.Lm, W9,13 = 3J.Lm, W10,14 = 5J.Lm. L = O.l3J.Lm for all transistors. 30
27
33r---.---,---,,---,,,---,-,--,---~r==================~

1-TT-- -SS ·-·-SF ..... FS ~FFr

24
U>21 c ;: 18 ~ 15
6

~12:1~~~~;-~--~-=--=-~--:·~--~-~~-~~.~~~~··=:~:;::::~~·:·~~~:;:_~~;:._·~4·.-_·~~~~~~~+-+-+-~1 gf-- ___________ _

0

3

~r~~
0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9
Vctrl1 ,2[n] (V)

o

1.1

1.2

Figure 3.14: Dependence of the delay of VCDL on

Vctrll

at process corners.

ranges in both directions given by Rangel and Range2 can be obtained. When Vc 2 is set to logic-1 at T2 , as shown in Fig. 3.9, the charge pump will start to take control of Vctrll[n] and DLLl will align Vfb[n] with VE[n]. The maximum delay range of VCDLl is set to be
2Tbit in both directions, as illustrated in Fig. 3.15 where Vfb[n] needs to be adjusted by 2Tbit

in order to align with VE[n]. The delay ranges are set by the number of the delay stages. From Table 3.1, both Rangel and Range2 exceed 2 ns at all process corners. The location of VM[n] with different Vctrll[n] is shown in Fig. 3.16. The phase difference

32

Table 3.1: Time delay range of VCDL at process corners.

Corner
Tmin Teal Tmax

ss

(ns]
7.345 18.73 26.76 11.385 8.03 0.324

Rangel Range2
Stage Delay

FS (ns] 5.661 10.48 13.52 4.819 3.04 0.131

TT
(ns] 5.603 9.9 13.61 4.297 3.71 0.133

SF (ns] 5.619 9.338 13.58 3.719 4.242 0.133

FF (ns] 4.529 6.545 8.587 2.016 2.042 0.068

li>

VL[n] Vfb[n] VE[n] (a) VL[n] Vfb[n] VE[n] (b)

·~

.

.. .....

Figure 3.15: Maximum phase shift. (a) 2Tbit to be subtracted from Vfb[n]. (b) 2Tbit to be added

to Vfb[n]. between Vfb(n] and VL(n] is 5.603 ns, 9.9 ns, and 13.61 ns, as shown in Table 3.1 when Vctrll(n] is set to 0,

Ycaz,

and Vnn, respectively. It is evident that the phase difference

between VL(n] and VM(n], and that between VM(n] and Vfb(n] are identical. Since VM(n] is generated from VE(n] and VL(n], periodic D"(n] in Fig. 3.2 is available only in the calibration phase where tr.aining data are sent to all channels. When random· data are transferred through the channels in the data transmission phase, D"[n], VE(n], VL(n] and VM[n] will all be affected. Therefore, the location of VM[n] needs to be preserved before the start of the data transmission phase. DLL2 of each channel will shift its MCLK until it is aligned with VM(n]. Vctrl2[n] is pre-set to
Teal·

Ycaz

and MCLK is initially shifted by

Yc 3 to logic-1 at T3, as shown in Fig. 3.9, the phase adjustment of MCLK is triggered where Yc4 is still set to logic-0 and the charge pump is connected to PFD2. When
By setting 33

1.8.---,-----,-----,------,-,----r-------,----,=========ii,,

~ ~
~
0

1.4 1
0~

.I------------~-----___.:===========~ :
I
I

l-VM[n]-- ·VL(n] ·-·- Vfb[n]L

1

~ 02 ; I r----~-.a..----1·;--·-·-·-·-·-·..! -0.2 l _ __ _ ! __ _L __ _J__ ____l _ _

_ _ l __

_ . L_ _....L__

_ . . L _ _ _ L __

__t

~

1.8~
1.4

I

I

I

> 0.2~ -0.2 r------'-------'··---·-·-·-·-·-·-·-·-·-·-·-·.: _ ! __ _J__
L _ __

j· 0~~
0

· -----.-- ······ -.- ------...-~=========1

1-VM[n] --·VL[n) ·-·-Vfb[n]

·

:If

_ _ j_ _

_....L_ __ t _ __

_ . L_ _....L__

_ _ L _ _ _ L __

__J

1.8.----.-----.-----.------.-----r-------,----;r=========;J.I

>
~

;- 1.4 1
0.6 ~ 0.2

· ----.---------.------ ··· ----~====:::::====~ I I
I I

-VM[n]-- ·VL[n] ·-·· Vfb[n) 1
I

-0·

2

o

1-------'-·---------·i···-·-·····;·-·-·-·-·-·-·-·-·-·-·-···-!
2 4 6 8 10
Time (ns)

: :

:
I

12

14

16

18

20

Figure 3.16·: Simulated transient response of VL[n], VM[n] and Vfb[n] for various Vctrll[n]. Top: Vctrll[n]=O. Middle: Vctrll[n]=Vcat· Bottom: Vctrll[n]=l.2V.

MCLK'(n] aligns with VM(n], V';;4 is set to logic-1 at T4 . The inputs to the charge pump are forced to the ground. Vctrl2(n] will remain unchanged thereafter. As a result, the phase delay applied to MCLK in the calibration phase is carried over to the data transmission phase where MCLK'(n] is no longer affected by VM(n].

3.6

Simulation Results

To assess the performance of the proposed inter-signal timing skew compensation technique, a 2-bit four-channel parallel link with voltage-mode incremental signaling has been designed in UMC-0.13J-Lm 1.2V CMOS technology, and the schematic is shown in Fig. 3.17. The inputs consist of two data bits D[1] and D[2] and the master clock MCLK. The schematic of the driver (Tx) is shown in Fig. 3.18(a). The channels are modeled with microstrip lines on a FR4 substrate, and the channel configuration is shown in Fig. 3.18(b). Intersignal timing skews are introduced by varying the length of the microstrip lines. Since the signal propagation velocity v equals to v =

}E;

where c is the speed of light [8], the signal

propagation delay TD through the channel can be estimated as

34

Tv= Ln,
v

(3.5)
Ll-4

where Ln refers to the channel length. Tv values for

are calculated to be 0.969ns,

0.820ns, 0. 745ns and 1.118ns respectively. Therefore, the skews between £ 2 and L 3 is 75ps, and 373ps between L 3 and £4 while the measured values are 60ps and 310ps. The parallel link was analyzed using SpectreRF from Cadence Design Systems with BSIM3V3 device models.
Vc5 l1
R

Vc1

L2 Vc2-4

L3

VE[1] VL[1] Deskew Block MCLK'[1]

L4

VE[2] VL[2]

Deskew Block MCLK'[2]

Figure 3.17: Four-channel parallel link with voltage-mode incremental signaling and per-pin skew compensation. £1 = 0.13m, £2 = O.llm, £3 = O.lm, £4 = 0.15m. R =50ft

w

~I

H2

+

Reference Plane

(a)

(b)

Figure 3.18: (a) Schematic of driver. · Transistor sizes: W1 = lJLm, W2 = 2JLm, W3 = 4f.Lm, w4 = 8jLm, Ws = l6f.Lm, w6 = 32jLm, w7 = 64jLm, Ws = 128f.Lm. L = O.l3jLm for all transistors. (b) Microstrip line configuration. H1 = 200f.Lm, H2 = 500f.Lm, W = 734f.Lm, tr = 5.

35

The timing diagram of the input signals (D(1), D(2), MCLK and the training clocks) is shown in Fig. 3.19. Before T5 , the system operates in the calibration phase where

Yc5 is set

to logic-0. Thaining data are sent to the channels. Since the length of channel three is shorter than that of channels two and four, D'(2] leads D'(1] and D'(3]. The dashed signals represent the phase aligned signals where no signal skews exist. The signal skews lead to the spikes in D"(1] and D"[2] represented as the gray areas. The simulated waveforms of the far-end signals before T5 are shown in Fig. 3.20. After T5 , the system operates in the data transmission mode, and D[1] and D[2] are sent to the channels instead of training clock signals where both D[1] and D[2] are in phase with MCLK. The frequencies of MCLK and D[1] are 500MHz (1ns Tbit) and 250MHz for D[2]. The received D'[2] represents D[1], and D'[3] represents the XOR result of D(1] and D[2]. When signals skews are not presented, D'[2] and D'[3] are out of phase by one bit time. Inter-signal timing skews has added additional phase delay to D'[3]. D"(2] results from the signal difference between D'[2] and D'[3], and signals skews have created undesired spikes and dips marked by the gray areas. The deskewed MCLK'(1] and MCLK'[2] fall in the middle between two adjacent spikes in the calibration phase. In the data transmission phase, MCLK'[1] is shifted to approximately the center of the data eye of D"[1]. MCLK'[2] is shifted to avoid sampling the spikes and the dips. The simulated waveforms of the received signals when the system operates in the data transmission mode are shown in Fig. 3.21. The spikes at 141ns, 145ns and 149ns, and the dips at 143ns 147ns are due to inter-signal timing skews. As the VCDL delay range varies at process corners, T1 _ 5 in Fig. 3.9 are selected actime of the DLL with the values shown in Table cordingly based on the required locking . . 3.2. The deskew process of MCLK'[1] with respect to D"[1] is shown in Fig. 3.22. The Early /Late block is triggered by Vc 1 at 3.5ns, and VE[n] and VL[n] are continuously supplied to the downstream Deskew block. Both Vctrl1[1] and Vctr2[1] are initially set to 0.61 V. DLL1 is turned on at 15ns by setting

Ycat or

Yc2 to logic-1, and Vfb[1] gradually aligns with

VE[n]. At 65ns, Vc 3 is set to logic-1 to start up DLL2, and MCLK'[1] gradually aligns with

36

MCLK Training Clock

0[1]

0[2]
0'[1]

0'[2] 0'[3]
0"[1]
MCLK'[1] ·

0 "121
MCLK'[2]

11111111111~ 1111 IL
TS

Figure 3.19: Timing diagram of the input signals .

.. -- _,

I I I I I

-o.2~w

21
Time (ns)

23

24

25

Figure 3.20: Simulated receiver signals before Ts.

VM(l) generated by DLLl. T4

=

115ns marks the time instance where the charge pump is

disconnected from the PFD. Vctr12(1) is held constant thereafter. Similar deskew process of MCLK'(2) with respect to D"(2) is shown in Fig. 3.23. It is evident that both MCLK'(l) and

37

1 . 8r-----,I--..,------,--,-----"T--..,.----~r=========]l

~ 1.4~~"·--·-·,

I

OJ

> 0.2
-0.2

0

o.a

1

~

:-.:~..-,,..

~

\

\

\\

... ~

:

:

~ !
~ 1
· ·.:.

/\.·"'.;{~ ..-.···,
:
I

·

. '·
:
I

\
· ..._

:
f.

'

1-0'[1] --- 0'[2] ·-·- 0'[3) l· 1 ~1ft*,, __ \ f ·,./'·._·.-:~~-"\·-·,
I

' :
: ;

·1
..

:
I

'

' \
I

! \
~
l

~

:_
,__ I

:-=

..

·-· ..

..

..
1

... .

· ... .

t]!1'-------L..._ U~U~U~UL---1-------JU J::l~l"----fij [j tLJ ifj'"---------l[j
-0.~40
141 142 143 144 145 146 147 148 149
lime (ns)

150

Figure 3.21: Simulated receiver signals after Ts. Table 3.2: Timing schedule

Corner

ss
FS TT SF FF

Tl 3.5 ns 3.5 ns 3.5 ns 3.5 ns 3.5 ns

T2 35 ns 25 ns 15 ns 15 ns 15 ns

T3 200 ns 75 ns 65 ns 65 ns 100 ns

T4 400 ns 125 ns 115 ns 115 ns 200 ns

Ts 410 ns 135 ns 125 ns 125 ns 210 ns

MCLK'[2] fall approximately in the middle of two adjacent Tskew· After T 5 , MCLK'[1] and MCLK'[2] are used to sample D"[1] and D"[2] respectively where the relocated l\!ICLK'[1] and MCLK'[2] have optimized the timing margins, as shown in Fig. 3.24. The rising and falling edges of MCLK'[1] and MCLK'[2] sample 10101010... and 11001100 ... which corresponds to the transmitted D[1] and D[2] signals. Table 3.3 summarizes the performance of this parallel link. The power consumption is for the calibration phase. In the data transmission phase, the switching frequencies of D[1] and D[2] will be less than that of MCLK thus the power consumption is expected to be less.

38

0 64

~ 0.61-----,. ·
10.56

f

~

:
Time (ns)

l-vctrl1[1]ll

~-----::':25:-------5.LO_ _ _ ____l75 _____ 1.. J. . O_ O _ _ ____J125 0 · 52o

-

g

1.8 1.5 C. 1.2 - - --- --,.. ~ 0.9 19 0.6 0.3 0 -0.30

-,...- ,... - r- - r-

..,....~~: r:: ':
I I I I I I I I I I I I

~

f"'"

,.. ,.. ,.. ,.. ,..
~ ~

1-V~;£1] · · ·Vfb{1)f
~

~

,.. ,...
....

L

I-

.....
10

~

I ... -... - 1::::: !..0~
-· 1,;.1.

I

I

I

I

1

I

'"'

...
40

I-

20
Time (ns)

30

50

~0.61

.9 0.6 g 0.59
1.8 1.5 C. 1.2 ~ 0.9 19 0.6 0.3 0

062~ '
10 20
I

' ' '
30 40 50 60

(
70 80
Time (ns)

' : '
90 100
I

l-vctrl2!1ll
120 130 140 150

0.580

110

-VM[1] ···MCLK'[1]
,,..H·:rr~~:r
: : : : : : :

r"'

~

~

~

~

r"

r"

~
~

I

I

I

I

I

g

I
I

I
I

1
I

I
I

I
:

1 1
I

I

I
I

~

~

I

I: I !L&.I I
I I

..... .....

I..

I..

.....

-0.365

75

85

95
Time (ns)

105

115

125

# .. - · · · - - - - - - - - - ,

I

I
I I

97
Time (ns)

98

99

100

Figure 3.22: Simulation results of deskewing process for MCLK'(l] with respect to D"(l] for 60ps
skew.

3. 7

Chapter Summary

An inter-signal timing skew compensation technique for parallel links with voltage-mode incremental signaling has been proposed and its implementation details have been presented. Skew compensation is performed in the calibration phase where identical training data are sent to both the data and clock channels. Inter-signal timing skew compensation is attained

by phase-shifting the master clock transmitted in a dedicated clock channel that are in

39

~~:~~
-

\:
_
_j_25 _ _ __
I

'
_ 5__,_0_ _ _ _ _ 7'--5Time (ns)

1-v~1121l
--1-'-0-0_ _ _ ____. 125
I

0 ·5oL___ __

1.8 1.5 2::- 1.2 ~------ r-. r~ 0.9 !9 0.6 ~ 0.3 ... 0 -0.30

,...

r-·~-~~~:~·~~M;~~~
I
I

~
I
I

~

~

I
I

I
I

I
I

I
I

I
I I

I
I

I
I

"'"' '""
~

r-

1-VE[2] · · · Vfb[2] f ,.. ,...
r-

.... ....

L

... ... ...
10

: : : ~ I : I I : ~-~-~-~-~-~~~

::::

I::::::
:

I :

...

...

... ... ...
40

~

'-

'-

20
Time (ns)

30

50

~:o::t
~ 1.2 ~ 0.9 :
I

:

:

\~..____,: l-vctrl2J2Jl
_1...... 25 _ __ ____, 150
Time (ns)

2L__5_ __ 0 ·59oL______

____J50l__ _ ___, 75 _- - - 1-'-0-0_ __

~ :~
0

VM[2EMC@]
:

!9 0.6 ~ 0.3 :

-0.36L__ 5 _ _ _____J7L_5_ __

____.1 85 - -------'95 ____ 1 _.._ 05 _
Time (ns)

___ 1 _,_ 15 ---~ 125

Time (ns)

Figure 3.23: Simulation results of deskewing process for MCLK'[l) with respect to D" [l] for 310ps skew.

parallel with data channels by an amount that is determ-ined by the inter-signal timing-skew of adjacent channels. The proposed deskew technique employs Early /Late blocks to detect the rising and falling edges of the output of comparators whose inputs are the voltages of t he adjacent channels at the far end. The D-flipflops of the Early /Late blocks are implemented using TSPC logic to take the advantage of its simple configuration, subsequently a high operation speed and no-need for inverting triggering signals. Two cascade delay-locked

loops are employed to place the sampling clock of each channel to the optimal sampling

40

1.8r---,--,---,--,----,--,----,--l-r======::::::;,

~ 1.41-r~---t
~

g, 0~ . r

,... _ ...--~.....
: ·

~- _----""""
!
·-- -'----·__,
1

l-0"[1] ---MCLK'(1]

:

~

1

:

> -0.2 0.2

:
L _ __

_ L __ _L _ __

__j__ _ _l___~--L--_L__ _t _ _ l_

~

___L__

__.l

~ 1.4 -- -·
Q.)

1

I

.:m 0.6

0>

> 0.2

0

-0.~40

r----143 144 145
Time (ns)

149

150

Figure 3.24: Waveforms of MCLK'(l], MCLK'(2], D"(l], and D"(2] after deskew.
Table 3.3: Performance of parallel link interface

Technology Data rate Comparator transistor area Early /Late block transistor area Deskew block transistor area Comparator power consumption Early /Late block power consumption Deskew block power consumption

UMC-0.13J.Lm 1.2V 1 Gbytes/s 318 x 0.13J.Lm 2 117x0.13J.Lm2 4272 x 0.13J.Lm 2 4.253 mW 0.682 mW 17.212 mW

position of each data bit such that the timing margins are maximized. The upper bound of the deskew range is set by the time delay of the delay-locked loops whereas the lower bound of the deskew range is set by the sensitivity of the comparators. The simulation results of a 1 Gbytes/s 4-channel parallel link with microstrip channels on a FR4 substrate have demonstrated that the proposed deskewing method is capable of compensating for up to ± 1 ns inter-signal timing skew.

41

Chapter 4 Inter-Signal Timine Skew Compensation of Source-Synchronized Parallel Links with Current-Mode Incremental Signaling
In this chapter, a new inter-signal timing skew compensation technique for parallel links with current-mode incremental signaling is proposed. New current-mode transmitters and receivers are proposed to minimize the signal-dependent impedance mismatch and the effects of
VDD

fluctuations, and provide tunable matching input impedance. Both the transmitters

and receivers of the parallel links are current-mode configured such that the intrinsic advantages of current-mode signaling are preserved. We show that each receiver maps the direction of its channel current, which represents the logic state of the incoming data, to two voltages of different values. The logic states of the transmitted data are recovered by the voltage. comparators. The use of feedback in the front-end of the receiver eliminates the . dependence of the receiver input impedance on the direction of the channel current so that signal-dependent impedance mismatch is minimized. The use of replica-biasing techniques minimizes the effect of supply voltage fluctuation on the performance of the front-end . Intersignal timing skew compensation circuitry has been added to combat signal timing skews. The timing skews are eliminated by inserting a VCD L for each channel whose time delay is determined by the phase difference between the transmitted master clock and the output of

42

the recovering comparator. Section 5.1 introduces the overall architecture of the parallel link interface. Section 5.2 describes the current-mode incremental signaling scheme. Section 5.3, 5.4, and 5.5 present the design of the transmitter, receiver, and the voltage comparator. Section 5.6 introduces the inter-signal timing skew compensation circuitry. Section 5.7 presents the simulation results of a 2-bit sample parallel link interface. The chapter is concluded in section 5.8.

4.1

Architecture

The architecture of parallel links with inter-signal timing skew compensation and currentmode incremental signaling is shown in Fig. 4.1. The inputs of the parallel link consist
.

~

I

of N-bit parallel data D[1]

rv

D[n] and a master clock MCLK. The system can operate

in either the transmission mode or the deskew mode. Logic-1 and logic-0 of the control signal Vc 3 are used to select either the transmission mode in which data and clock are transferred through the channels, or the deskew mode in which identical square-wave training signals are sent to both the clock channel and the data channels. The deskew operation is required before data transmission takes place, and is typically performed in a calibration phase where the time delay of each Deskew block is determined and carried over into the data transmission phase. The current-mode driver Tx converts the incoming parallel data into channel currents such that a one-to-one mapping between the logic state of the incoming data and the direction of the channel current exists. The receiver Rx converts the received channel current into a pair of voltage signals v 5 and v L that have different amplitudes of swings, and provides a tunable matching impedance to the channel so as to minimize signal reflection at the interface between the channel and the receiver. The voltage comparator amplifies the signal difference between vL[n] and v5[n

+ 1]

to rail-to-rail, and recovers the

logic states of the transmitted data. The inter-signal timing skew is compensated by delaylocked loop (DLL) based deskewing blocks that add or subtract an appropriate amount of time delay to D'[1]
rv

D'[n] such that D"[1]

rv

D"[n] are all phase aligned with MCLK". As

a result, all N-bit data can be sampled with a global sampling clock MCLK".
43

MCLK

0[1]

0[2]

O[n]

Figure 4.1: Parallel links with current-mode incremental signaling and inter-signal timing skew compensation.

4.2

Current-Mode Incremental Signaling

A one-to-one mapping exists between the logic state of the input data D[n] and the direction of the corresponding channel current iin[n]. D[n] supplies or sinks a 2 rnA current from the channel through the current-mode transmitter Tx, as shown in Fig. 4.4. The magnitude of the channel current is set to 2 rnA to comply with the LVDS standards [40] [41). The receiver Rx shown in Fig. 4.5 converts iin[n] into two different signals v8 [n] and vL[n], as shown in Fig. 4.2. The _swings of vL[n] is larger than that of vs[n]. To reco~er D[n], vL[n] and vs[n

+ 1] are sent to the non-inverting and inverting inputs of the downstream voltage

comparator, as shown in Fig. 4.14. It can be easily verified that D'[n] corresponds to the signal difference between vL[n] and v8 [n + 1), and the logic state of D'[n] corresponds to the logic state of D[n]. When inter-signal timing skews exist between D(1)
rv

D[3], as shown in Fig. 4.3, the

phase difference between D [1] and D [2] is carried over into the phase difference between

44

Vs[11_____
o(1]

____Il___fl_J

0[2]

Vs~:[1illlf t> ____Il___fl_J 0'[1] __jL_______J.% y ~ hl-, ~ t> ___jL_j _ Vs[3yj LU

% ~

r··-1_ _ r··-1_ _ r··-+

0'(2]

0[3] ____Il___fl_J

% ----.

VL(JlJli

Figure 4.2: Timing d[agram of comparator without inter-signal timing skew.

v£(1] and v8 (2]. Similarly, the phase difference between D(2] and D(3] is carried over to
the phase difference between V£(2] and v 8 [3]. The voltage comparators compare the signal difference between V£(1] and v8 (2], and that between V£(2] and vs[3], and recover D'(1] and

D'(2]. It is evident that the phase difference between D(1] and D(2] corresponds to the
phase difference between D'(1] and D'(2] while the logic states of the recovered signals D'(1) and D'(2] are not distorted. An advantage of the proposed incremental signaling scheme is that inter-signal timing skews only lead to timing skews between the recovered signals

D'(1]- D'[n] and do not affect their logic state. Consequently, the design of the downstream
deskew circuitry can be greatly simplified.

4.3

Current-Mode Transmitter

The schematic of the current-mode transmitter Tx is shown in Fig. 4.4(a) where the logic state of D[n] determines if the transmitter supplies the current to or sinks the current from the channel. If D[n] is Logic-1, 4.4(b). The transmitter supplies
iin

M2

is off. Therefore,

iD 2 , iD 3

= 0, as shown in Fig.

[n] to the channel via M 1 and the magnitude of iin [n] is

determined by the biasing voltage

Vb and the size of M1 . If D[n] is Logic-0, as shown in Fig.
45

0[1]

~

ih

LJ

11

LJ

r-

» u--v~L~[1~l--.
Vs[2] .....·

!

VL[2J

!!r···l I r·---1 I r--···
.J
L.

D[3J__f1__ju-

BVsi3i···-

;_l

-~

L.

-~

Figure 4.3: Timing diagram of the incremental signaling scheme when inter-signal timing skews exist.

4.4(c), M 1 _3 are all turned on and iv 1 +iin[n]

= iv 2 . The width of M 2 ,3 is made larger than

the width of M 1 such that the transmitter sinks iin[n] from the channel. As the current is supplied to the channel, the drain voltage of M 1 increases and vice versa. The magnitude of the swing depends on the characteristic impedance of the channel and the magnitude of

iin [n]. Vb is set such that M 1 remains in the saturation region regardless of the swing at the
drain of M 1 . As a result, the current drained by M 1 from Vvv is relatively constant. The effect of switching noise due to D[n] switching is minimized.

Vb~
lin[n]
+--

D[n]~

lin[nl

(a)

(b)

(c)

Figure 4.4: Simplified schematic of current-mode transmitter.

46

4.4

Current-Mode Receiver

The schematic of the receiver is shown in Fig. 4.5. The receiver Rx performs the following tasks : (1) converts the received channel current
~
:· . :

iin

into a pair of voltage signals
I . ..... -.

vs

and

VL

with different magnitudes, and (2) provides a tunable matching impedance to the channel
I

to minimize signal reflection at the interface between the channel and the receiver.

Figure 4.5: Simplified schematic of receiver. Transistor sizes: W1 = 116/-Lm, W2 = 90/-Lm, W 3,5 = 60/-Lm, W4,6 = 90/-Lm, W1 = 43/-Lm, Ws = 3!-Lm, Wg = 3.5/-Lm, W10 = 40/-Lm, Wn = 201-Lm. L = 0.131-Lm for all transistors. DC biasing: Vc 9 = 0.73V, Vc1 = 0.8V, Vc3 = 0.94V, Vc2 = 0.45V, Vc4,6 = 0.65V, Vcu = 0.6V.

4.4.1
When
iin

Current-to-Voltage Mapping
flows into the receiver, the drain voltages of M 2 and M 7 increase thus in 1 increases.

Consequently, in 3 and in 5 decrease since in 1 + in 3 + iv 5 = in 7 and in 7 is approximately constant. As a result, the voltage levels of
Vs

and

VL

will rise. When

iin

flows out of the

receiver, the voltages at the drain of M 2 and M 7 will decrease. The currents of M 3 ,4 and
M 5,6 will increase thus the voltage levels of
.
vs

and

VL

will decrease. The common-source
.

amplifier formed by M 10 ,11 takes the drain voltage of M7 as the input, and controls the gate voltage of M 5 . As a result, the swings of
V£

is amplified and becomes much larger than
Vs

that of Vs such that the voltage difference between

and

vL

can be easily picked up by the

downstream voltage comparator. Fig. 4.6 plots the simulated waveforms of V£ and v 8 . The difference between
V£

and

vs

is approximately 0.2V.
iin

The dominant poles of the signal path from
V£,

to vs and

V£

are at the outputs vs and

and the frequency response is shown in Fig. 4. 7. The bandwidth of the receiver exceeds

47

1 . 3r-----~---------r----,----~----,----;=======;J

-VL(n]

---V5 [n+1]

0.3'------___l___ _ _ 1.3 1.1 ( $'0.9 -;;- 0.7

____l. _ _ _ _ _..__ _ __

___.__

_ _ _ _.___ _ _ ____J

~0.3 0.1 -0.10

~0.5

'

r
J
I

\
~
3 Time (ns)

(

'
\.
5

1-D'[n]
-

w

I

~

I
4

2

6

Figure 4.6: Simulated.waveforms of VL, vs and the comparator output D'[n] under TT.

1 GHz.

~4 r--r-+-r+++H+--+~-+~~H--~~~~H+~~ -r-+-r+++~

...,
10
9

~2r--~+-~++H+--+~-+~~H--~~~~H+~-~+ ''~++~

~

'~

i-······· ........... . ..................... ·········· ........... ··
6

········ .... -~ \1(.~··

0 ~-~~~~~~~~~~~~-~~~~~~-~-'---~~~

10

10

7

Frequency (Hz)

10

8

10

10

Figure 4. 7: Simulated frequency response of V£ and vs.

4.4.2

Swing-Independent Input Impedance

The feedback amplifier M 8 ,9 minimizes the variation of the input impedance of the receiver due to the change of the direction of its input current. The source-follower configuration consisting of Ms ,9 ensures that va 1 tracks vin closely. When iin changes from flowing into the receiver to flowing out of the receiver, vn 2 drops and va 1 drops by the same amount ideally. As a result, the change in the gate-source voltage of M 1 is relatively small, and 9ml is approximately constant. Consequently, the input impedance of the receiver given by

R~--1n

(1- J3)9ml

(4.1)

48

at low frequencies remains unchanged where fJ is the voltage gain of the source follower M 8,9 · A side effect of the feedback amplifier M 8,9 is the increase of the input impedance since fJ < 1. The increase in the input impedance can be offset by increasing the width of
M1,2·

Fig. 4.8( top) plots the input impedance··ortlie receiver with the feedback amplifier when the input current of the receiver is 0 and ±2 rnA. Fig. 4.8(bottom) compares the dependence of the receiver input impedance on the input current with and without the feedback amplifier.
It is evident that the input impedance of the receiver is reduced from over 80

n without the

feedback amplifier to 60

n with the feedback

amplifier when the input current flows away

from the receiver. The effect of the feedback amplifier on the input impedance is relatively small when current flows into the receiver.
70
~

11-No Input Current ..... -2mA Input Current -2mA Input Current
I
!

ro

c

60

]i 50
en
Q)

I
I

0:::

:; 40 a. c

I

I I
I

I

i

I
! I I

I I

I
j

30 6 10

I
Frequency (Hz)

I

c '--' 80 ·· ··
~
~
70

90,-----,------,-,----,------,-,----,,-.================~

··················
·············
'

-With Feedback Amplifier ··· ·Without Feedback Amplifier

~50
E

]i 60~40r-

-----·-··-···~··~··~··~···~------~~wm~~~~~~~__j
.................................. .. -1

3_~

-1.5

-0.5

Input Current (rnA)

0

0.5

1.5

2

Figure 4.8: Top: Simulated .receiver input impedance with the feedback amplifier 'Yhen iin = 0, ±2mA. Bottom: Dependence of the receiver input impedance on the input current with and without the feedback amplifier.

4.4.3

Common-Mode Voltage Stabilization

Since the difference between V£ and Vs will be sensed by the downstream voltage comparator and the output of the comparator represents the logic state of the received data, it becomes

49

PROPERTY OF RYERSON UNIVERSJTY UBRARV

critical to ensure that the voltage difference between

V£

and

Vs

is not affected by Vvv fluc-

tuation. Replica biasing is a well-known technique to suppress common-mode disturbances (42](43]. This technique is employed to stabilize
vs

and

V£.

The simplified schematic of the

receiver with replica-biasing is shown in Fig. 4.9.

Ve4

Figure 4.9: Simplified schematic of receiver with replica biasing.

VvD fluctuations directly affect Vcs 2 ,4 ,6 , 11 . As a result, the biasing currents in these four

branches are altered. The drain voltages of M 2 ,4 ,6 , 11 will change accordingly. The variation of VDv, denoted as the voltage gain of
vdd,

is amplified by M4 ,6 which behave as common-gate amplifiers with

Vs L -' Vdd

~

9m4

'

6(ro4 6llro3 s).
' '

(4.2)

The width of transistors M 1,_ 11 , is only 10% of the width of M1 _ 11 thus the extra silicon area of the replica-biasing circuitry is insignificant. The feedback amplifiers A1 _ 4 are implemented with single-ended output differential pair, and the total area of A1 _ 4 is approximately 30%
50

of the total area of M 1 _ 11 . The feedback amplifiers A2 ,3 establish a negative feedback loop such that

Vs,L
vdd..

ro..J

1

-~ A2,3 ~

(4.3)

As a result, the changes in v 8 and waveforms of v 8 and
V£

V£

due to Vvv fluctuations are greatly reduced. The

with replica-biasing for Vvv at 1.1 V, 1.2 V and 1.3 V are shown
V£

in Fig. 4.10. The range of vs and

variations due to Vvv fluctuations is controlled within

±100mV. Also, the variations of V£ are larger than that of Vs since the gate voltage of M 5 is controlled by the feedback amplifier M 10, 11 instead of fixed biasing voltage .
··· V
00

=1 .1V - V

00

=1 .2V .·.·.v

00

=1.3V

0.3'--------__.___

__

_____J_ _ __ _ __l___

_ ____L_ __

_

___,___

_ __ J

1.5r--------------r---1.3
~1.1

- - - r - - - -, - -- - - - - - ; = = = = = = = = = = = = i l ... v =1 .1V - V =1 .2V .·.·.v =1.3V
00 00 00

·----------2
3 Time (ns)

4

5

6

Figure 4.10: Simulated waveform of VL and vs with replica-biasing. Top: vs. Bottom:

V£ .

4.4.4

Input Impedance Tuning

The advantage of the active impedance matching is that the input impedance can be continuously tuned by the external voltage
vtune vtune.

As

vtune

varies, the drain voltage of M2 tracks
VG2',

closely. An increase of vtune will result in a decrease in

which increases the biasing

current in the first branch. vas 1' is forced to increase in order to accommodate the excess current. As a result, gm1 increases and the input impedance drops. Similarly, the decreasing of
vtune

will lead to the increase of the input impedance. The tunability of the input

51

impedance of the receiver by varying Vtune is shown in Fig. 4.11 where approximately ±150 input impedance variations are achieved when Vtune is changed from 0.7V to 1.1V.
I+Vtune =0.7V-Vtune =0.8V-Vtune =0.9V....,Vtune =1.0V.._Vtu ne =1.1V

r-

r-

Frequency (Hz)

g

-80.-----.-----~-----.------.-----.-----~-----,-----.

~
UJ

~ 70 c

60

a::

·~50

5 40
£38~----~----~----~------~----~----~----~-----OJ ,

.7

0.75

0.8

0.85

0.9 VTune (V)

0.95

1.05

1.1

Figure 4.11: Top: Simulated frequency dependence of the input impedance of receiver. Bottom: Dependence of the input impedance of the receiver on lltune at 1 GHz.

When Vtune varies, it will also affect Vs and V£. As the current in the first branch increases, the currents in rise to decrease currents in
vs vs

and

V£

branches will decrease. Without amplifiers A2 ,3 ,4 ,
vs, V£

vs

and

V£

will

iD4, 6 .
V£

Amplifiers A2,3 ,4 are employed to stabilize branches decrease,
Vs

and

vc 5 .

As the and

and

iD 4 ,6

decrease through the increasing of

vc 4 ,6

vice versa. The waveforms of biasing are shown in Fig. 4.12.

and

V£

when Vtune=O. 7 V, 0.9 V and 1.1 V with replica

The simulated input impedance at process corners FF (fast nMOS/fast pMOS), FS (fast nMOS/slow pMOS), SF (slow nMOS/fast pMOS), SS (slow nMOS/slow pMOS) and TT is shown in Fig. 4.13. Vtune has been adjusted for each of the process corner to ensure that the input irnpedance is approximately 50 0. Vtune values for SS, SF, FS, FF and TT were 1.2 V, 0.865 V, 0.865 V, 0.7 V and 0.9 V respectively. Fig. 4.13 demonstrates that the proposed receiver is capable of providing a 500 matching impedance at the process corners.

52

1 . 5 r - - - - - - - . -- - - , - - - - - - r - - - - ; = = = = = = = = = = = = = = j ] 1---VTune=O.?V -VTune=o.gv .·.·.VTune= 1·1V

1.3

0.31.__---~----..l.._

_ _ ___j__ _ _ _- ' - - - - - - - - - l_ _ _ ___J
··· VTune=O.?V -VTune=0.9V ··.· .VTune=1.1V

1.3

1.5~

~1.1
~0.91

r-----------

~ O.?f0.5
0 · 3o~---...-.L--:------:-2----_L.3_ _ _ _---':4-----=----~6

lime (ns)

Figure 4.12: Simulated waveforms of V£ and vs with replica-biasing. Top: vs. Bottom:
55

V£.

-FF···FS····SF ····· SS-TT

I
I

"l
I
I

........ -~·········..

I I I
!

. ~ ~-=.. .................

~ ··....
""'

I

I
i

1\ ...s
I

~··.

35 6 10

10 Frequency (Hz)

8

I I

-~

I

Figure 4.13: Simulated input impedance of the receiver at different process corners.

4.5

Voltage Comparator

The schematic of the voltage comparator used for LVDS in (41][44] is shown in Fig. 4.14. This voltage comparator has several advantages including good CMRR, higher bandwidth and a low insensitivity to Vvv fluctuation. From Fig. 4.6, the common-mode voltage level of
v 8 and V£ varies from 0.6 V to 0.9 V. As a result, the input of the comparator is implemented

with NMOS instead of PMOS to accommodate the common-mode input voltage.

53

Figure 4.14: Simplified schematic of voltage comparator. Transistor sizes: W1,2 = 25/lm, W3,4 = 12.5/lm, W5,6 = 2.5/lm, W 7 ,8 = 1011m, W9,10 = 211m, Wn ~ 35/lm. L = 0.13/lm for all transistors. DC biasing: Van= 0.45V.

4.6

Compensation of Inter-Sign~~ Timing Skew

The inter-signal timing skew compensation scheme is depicted in Fig.4.15. To phase-align D'[1], D'[2], ... , D'[N] with the global sampling clock MCLK", clock-like training data are sent to the channels by the transmitters. MCLK' and D'[k], k=1,2, ... ,N are delayed by Tmin, the minimum time delay of the data delay blocks when the control voltages of these blocks are set to 0, as shown in Fig.4.15(a). MCLK' is then further delayed by one bit time
Tb

(1

ns for 1 Gbytes/s data rate) to generate MCLK", as shown in Fig.4.15(b). This guarantees that MCLK" will be the most lagging signal as compared with D'[k], k=1,2, ... ,N such that D'[k], k=1,2, ... ,N, can be phase-aligned with MCLK" by delaying them using delay-locked loops. To do so, MCLK" is used as the global reference of the data delay blocks shown in Fig.4.16(b). Phase alignment is completed when D" [1], D" [2], ... , D" [N] are phase-aligned . with MCLK". The maximum time delay that the data delay blocks are required to provide in order to phase-align MCLK" and D" [k], k=1,2, ... ,N, is two bit times. The voltage-controlled delay line of the data deskew blocks provides the minimum time delay of
Vctrl
Tmin

when

Vctrl

= · 0. The maximum delay
Tmax

Tmax

of the delay lines occurs when

=

VDD·

The difference between

and

Tmin

is the maximum variable time delay
T min

that the data delay blocks can provide. Clearly guarantee phase alignment.
Tmax

T max -

>

2Tb

is required in order to

and

Tmin

in the nominal process conditions and at process

54

(a)

(bl

Figure 4.15: Inter-signal timing skew compensation scheme. (a) MCLK' and all received training data are delayed by T min at t = T1 where training data are conveyed to all channels. (b) MCLK' is further delayed by one bit time and all delayed training data bits are further delayed to align up with MCLK". The amount of the time delay of each data bit is determined by respective delay-locked loop.

corners are tabulated in Table 4.1. It is evident that

T max -

T min

of the data delay blocks

exceeds 2 ns at all process corners, guaranting the data delay blocks will delay the incoming data by at least 2 bit times (2 ns). The clock delay block consists of two sections, namely Part I and Part II. Part I of the clock delay block delays MCLK' by
Tmin

(2.82 ns in the

nominal process conditions) and Part II of the clock delay block further delays MCLK' by one bit time.
Table 4.1: The minimum and maximum time delays of data delay blocks in nominal process conditions and at process corners.

Time delay Tmin (ns) Tmax (ns) Tmax- Tmin (ns)

SS 3.67 13.21 9.54

FS 2.83 6.87 . 4.04

TT SF 2.82 2.81 6.87 6.85 4.05 4.04

FF 2.27 4.29 2.02

The timing diagrams of the control voltages Vc 1 -c3 are shown in Fig.4.17. At t = T1 ,

Vc 1 = 1 is set. Parallel data D(1], D(2), ... , D(N] are disconnected from the channels. 50%
duty-cycle training data are applied to both the data channels and the clock channel. 0 is set and the minimum delay
Tmin

'Vctrl =

is applied to D'(1], D'(2], ... ,D'(N]. At t = 55

T2,

Vc2 = 1 is

(a)

(b)
Figure 4.16: (a) Simplified schematic of sampling clock delay block. (b) Simplified schematic of data deskew block. Circuit parameters: W1,2 = 12pm, W 3 = 6pm, W4 = 4pm, W5 = lOpm, W 6 = 4.5P.-m, W7 = 5pm, Ws = 2.3pm, Wg = 2.07pm. L = 0.13pm. for all transistors. C=500 fF. Circuit parameters of charge pump : WI,3,5 = 2.5pm, W2,4,6 = lpm, W7,11 = 12.5pm, Ws,12 = 7.5pm, W9,13 = 3pm, WIO,I4 = 5pm. L = 0.13pm for all transistors. The transmission gate is used to balance the time delay of the inverter inserted in UP signal path.

set.

"Vctrl

is routed to the charge pump and the deskew process starts. The deskew process

continues until t = T3 at which D" [1], D" (2], ... ,D" [N) are all phase-aligned with MCLK". At t = T3 , Vc 3 = 1 is set and the voltage replication block is enabled. The function of this block is to copy the obtained optimal control voltage
56
"Vctrl

of each channel and hold it in the

following data transmission phase. As shown Fig.4.18, at t

= T3 , the counter of the voltage
= 0 when t5:_T3 , the

replication block starts. The driving clock of the counter is MCLK". The voltage across the resistor

Vr increases in a piecewise constant fashion. Because Vr
Vctrl

output of the comparator is 0 and the MUX selects downstream voltage-eontwHed delay line. When of the comparator flips and the MUX routes

as its output, which controls the
'\~trl,

Vr reaches

i.e.

Vr

= Vctrl, the output

Vr to the downstream VCDL. The counter is Vr
= Vctrl will remain unchanged

disabled and its output remains unchanged, ensuring that

during data transmission. The power consumption of the voltage replication circuit can be lowered by increasing the resistance of R. As an example, assume voltage-replication circuit is used, and R have 32/xR
=
Vctrl =

0.6V and a 5-digit

=

lOkO. At the maximum current 25 I= 32/, we

0.6V from which we have f';::;32J.LA. The power consumption in this case is

P = IVnn = 2.4J.LW. The control voltage replication time is determined by the value of the
control voltage
Vctrl,

the voltage incremental step RI, and the time delay of the comparator

and multiplexer. The larger the value of Vctrl, the longer the voltage replication time.

I ...
Vc1
Vc2

I

Sefid training data &elocl(

Deskewing

...
'

I..
I

R·pll<a=-11 voltage
generation
.

..,I..

. .. . Data transmlss 10n

-

Vc3

I

I l I I

I

i
T1
T2

I

I
T4

I I

T3

Figure· 4.17: Timing diagram of Vcl-c3· T1 is the time instant at which MCLK and training data D[k], k=1,2, ... ,N, are conveyed to the channels. T2 marks the start of the deskew process during which D" [k], k=1,2, ... ,N, are phase-aligned with MCLK". T3 marks the end of deskew process and the start of generating the replica of the final deskewing control voltage. T4 marks the onset of the data transmission phase. The total deskew time includes that lock time of the delay locked loops and the control voltage replication time.

57

To
VCDL

Figure 4.18: Simplified schematic of voltage replication circuit. W = 3Jlm. L = O.l3f.Lm for all transistors.

4. 7

Simulation Results

To validate the effectiveness of the proposed timing skew compensation technique, a 2-bit parallel link consisting of 3 channels as shown in Fig.4.20 is implemented in UMC-0.13/Lm 1.2 V CMOS technology. The channels are modeled as micros-trip lines on a FR4 substrate. No mutual coupling between the channels is considered. Inter-signal timing skews are introduced by varying the length of the channels. The data rate is 1 Gbytes/s. The parallel link

is analyzed using SpectreRF from Cadence Design Systems with BSIM3V3 device models. The layout of the design is shown in Fig. 4.21. The waveforms of the input currents at the receiver end of the channel and those of MCLK', D'[1] and D'[2] are shown in Fig.4.22. The timing skew between MCLK' and D'[1],

58

1.2 0.9

~
CD

Eo.6 g 0.3 0 1.8 1.5

~1.2
CD

Eo.9 go.6 0.3 0 1.8 1.5r~1.21I I I I

19'

~09r-

g 0.610.3r00
I I I

3

6

9

12

Time (ns)

15

18

21

24

27

30

Figure 4.19: Top : Simulated output voltage of counter. Middle : Simulated output voltage of comparator. Bottom : Simulated voltage of MUX connected to VCDL.

and that between MCLK' and D'[2] are approximately 300 ps. It is observed that the timing skew between Iin[O], Iin[1], and Iin[2] are the same as those between MCLK', D'[1] and D'[2]. The deskew processes of D'(1] and D'(2] are shown in Fig.4.23. T2 and T3 are set to 10 ns and 60 ns, respectively. When t < T1 , Vc 1 = 1 is set. Clock-like training data are conveyed to all channels. The control voltages of the voltage-controlled delay lines are set to zero. MCLK and d3:ta bits are all delayed by Tmin· At t = T1 , Vc 2 = 1 is s.et. D" [1] and D" [2] start to align with MCLK" gradually. This process ends at t = T3 at which D" [1] and D" [2] are perfectly aligned with MCLK". At t
=

T3 , Vc3

=

1 is set and the obtained optimal control

voltages of the two voltage-controlled delay lines are copied and held indefinitely by the voltage replication circuits. The waveforms of MCLK", D" [1], and D" [2] after the deskew process is completed are shown in Fig.4.24. The performance summary of the design is shown in Table 4.2. The power consumption

59

LO

L1

Deskew
>---t--t Block

0"[1]

L2

Deskew

J1..I1...

L3

> - - - - - t Block

Vc1-2

Figure 4.20: Simplified schematic of 4-channel parallel link with current-mode incremental signaling and inter-signal timing skew compensation. Channel length: Lo=O.lm, L1 =0.06m, L2=0.14m, L3=0.l6m, H1 = 200J.Lm, H2 = 500J.Lm, W = 734J.Lm, fr=5.

is measured in the calibration phase only. In the data transmission phase, the switching frequencies of D[1) and D[2) will be smaller than that of MCLK thus the power consumption is expected to be lower.
Table 4.2: Performance of the current-mode parallel link interface

Technology UMC-0.131-lm 1.2V Data rate 1 Gbytes/s Input current ±2mA Output voltage swing 1.2 V peak-to-peak Deskew range 1 ns Driver area 254 JLm x 0.13 1-lm Receiver area 651!-lm x 0.13 JLm Comparator area 139 1-lm x 0.13 JLm MCLK Delay area 647 1-lm x 0.13 1-lm Deskew Block area 495 1-lm x 0.13 1-lm Power Consumption 19.22 mW

60

.:s!.
(.)

0

al

:;:
Q)

.:s!.
(/)

Q)

0

ro

0

'-

0 ()

ro E

'-

0.

~

2

'-

, (/)

.=

E c ro

Figure 4.21: Design Layout.

61

Figure 4.22: Simulated waveforms of Iin[O], Iin[1], Iin[2], MCLK', D'[1] and D'[2] .

> 1.4

1.8

~lt,L_
4

___L__:_' · ...:.....t_:..._: ..__:_ . ...]__··:...._·__:·_!·

~·
·'

-0"[1]···MCLK"·····Vctrl[1]

_··_:_·_J·L__··_··_·L·_·_·_·· ..!..._.

_··__L·. :. . ··_·_·_L·_·__::_·.:.J·_·_··_·_j·L·_·_·_· ··L·_··_·

__J .

i

> 1.8 1.4
0 "

1 ::: 0.6 0 02

>

:::::;·· . .
·'

r : l : :l r ··. ······
t

u· ~ :1::
1 · · · 1

-0"[2]···MCLK"·····Vc!r!{2]

~

. ~... . ............................................... - ··· ·.::: 25 30 35 40 45 50 55 60 65
Time (ns)

·

f

I

·10

5

10

15

20

Figure 4.23: Deskew process of D" [1] and D" [2].

Figure 4.24: Simulated waveforms of D" (1). D" [2), and MCLK" when the deskew process is completed.

4.8

Chapter Summary

A new inter-signal timing skew compensation technique and its CMOS implementation for current-mode parallel links with incremental signaling has been proposed. It is shown that

62

the logic state of each incoming data is represented by the direction of the output current of the corresponding current-mode driver. The current-mode receiver maps each received channel current to two voltages of different values and recovers the logic state using voltage comparators. The feedback introduced in the front-end of the receiver eliminates the common drawback of &lJrrent-mode receivers that the input impedance of current-mode receivers varies with the direction of the received channel currents, minimizing signal reflection at the interface of the channel and the receiver. Simulation results at process corners have also demonstrated that the proposed receiver can provide

son input impedance over a large

frequency range at all process corners. Inter-signal timing skews are compensated using DLLs so that data are aligned with the received master clock and only one master sampling clock is needeif to sample all parallel data bits. Implemented in UMC-0.13j.tm CMOS and analyzed using SpectreRF from Cadence Design Systems with BSIM3V3 device models, the simulation results of the 1 Gbytes/s 4-channel parallel link with microstrip channels on a FR4 substrate have demonstrated that the proposed deskew method is capable of compensating for up to 1 ns inter-signal timing skew.

63

Chapter

~5

Conclusions and Future Work
Source-synchronized parallel links have the advantage of higher data bandwidth. A number of signaling schemes including single-ended, fully-differential, pseudo-differential and incremental are available. The advantages of the incremental signaling scheme over other signaling schemes include the low number of physical conductors and the capability to reject common-mode noise. A limiting factor of parallel link bandwidth is inter-signal timing skew. Inter-signal timing skew is caused by the mismatch between the electrical lengths of channels. To combat inter-signal timing skew, per-pin deskewing has been used in industry. In this approach, the sampling clock of each channel is phase-adjusted individually such that the sampling clock is shifted to the center of the data eye. In this thesis, inter-signal timing skew compensation techniques for voltage-mode and current-mode incremental signaling schemes have been proposed and validated. The deskewing circuitry for parallel link with voltage-mode incremental signaling employs an Early/Late block to detect the rising and falling edges of adjacent pulses generated at the output of the comparator whose inputs are the voltages of adjacent channels, and subsequently to allocate the optimal sampling point. Two delay-locked loops are employed to place the sampling clock to the optimal position. Also, a new current-mode parallel link interface with an incremental signaling scheme and inter-signal timing skew has been presented. The current-mode driver supplies or sinks a current from the channel according to the logic state of the input data. The current-mode receiver converts the channel current into two signals Vs and VL

64

whose swings are largely different. In addition, it provides proper termination impedance. Vs and VL are then fed to a differential voltage comparator to recover the data. Inter-signal timing skews are compensated with DLLs where data signals are forced to align with the sampling clock. To assess the effectiveness of the two designs, several parallel links consisting of the aforementioned building blocks have been implemented in UMC 0:13J.Lm, 1.2V CMOS technology and analyzed using SpectreRF from Cadence Design Systems with BSIM3.3V device models. The effectiveness of the proposed inter-signal timing skew compensation has been validated. The followings can be carried out by future researchers to improve the quality of the designs presented in this thesis: · For the current-mode parallel link interface, the input impedance variation is controlled within ±Ion, which is still around ±%20 variation with respect to the nominal value. As a result , a rnore effective solution to stablize the input impedance is to be developed. · The channel models used in the simulation results do not consider cross-talk, the mutual inductance and the mutual capacitance between adjacent channels. More realistic channel models can be used to verify the robustness of the designs. · Digital delay-locked loop as opposed to the analog approach can be carried out as the digital approach eliminates the requirement of the loop filter capacitor. Also, new current-mode and voltage-mode incremental signaling schemes, and alternative intersignal timing deskew compensation techniques can be developed.

65

Bibliography
[1] S. Sidiropoulos, High performance inter-chip signaling, Ph.D dissertation, Stanford University, 2002. [2] E. Yeung, Design of high-performance and low-cost parallel links, Ph.D dissertation, Stanford University, 2002. [3] A. Carusone, K. Farzan, and D. A. Johns, "Differential signaling with a reduced number of signal paths," IEEE Trans. Circuits and Syst. II - Analog and Digital Signal
Processing, Vol. 48, No. 3, pp. 294-300, March 2001.

[4] E. Yeung, and M. Horowitz, "A 2.4 Gb/s/pin simultaneous bidirectional parallel link with per-pin skew compensation," IEEE J. Solid-State Circuits, Vol. 35, No. 11, pp. 1619-1628, Nov. 2002. [5] T. Sato, Y. Nishio, T. Sugano, and Y. Nakagome, "A 5-GByte/s data-transfer scheme with bit-to-bit skew control for synchronous DRAM," IEEE J. Solid-State Circuits, Vol. 34, No. 5, pp. 653-660, May 1999. [6] National semiconductor channel link design guide, National Semiconductor Corp., Santa Clara, CA, June 2006.

[7] Rambus XDR technology summary, Rambus Inc., Delaware, CA, 2005.
[8] H. Johnson, and M. Graham, High-speed signal propagation - advanced black magic, Upper Saddle River, N.J. : Prentice-Hall, 2002.

66

[9] R. Mooney, C. Dike, and S. Borkar, "A 900 Mb/s bidirectional signaling scheme," IEEE
J. Solid-State Circuits, Vol. 30, No. 12, pp. 1538-1542, Dec. 1995.

[10] B. Casper, A. Martin, J. E. Jaussi, J. Kennedy, and R. Mooney, "An 8-Gb/s simultaneous bidirectional link with on-die waveform capture," IEEE J. Solid-State Circuits, Vol. 38, No. 12, pp. 2111- 2120, Dec. 2003. [11] Y. Fujimura, T. Takahashi, S. Toyoshima, K. Nagashma, J. Baba, and T. Matsumoto, "1.2Gbps/pin simultaneous bidirectional transceiver logic with bit deskew technique,"
Proc. Symp. on VLSl Circuits, Digest of Technical Papers, pp. 58-59, 2002.

[12] Y. Kim, S. Shin, and S. Kang, "A 4-Gb/s/pin current mode 4-level

simult~~eous

bidi-

rectional I/0 with current mismatch calibration," Proc. IEEE Int'l Symp. Circuits and
Syst., pp. 1007-1010, Greece, 2006.

(13] T. Wang, A low-voltage CMOS current-mode incremental signaling scheme for highspeed parallel links, MASc Thesis, Department of Electrical and Computer Engineer,

Ryerson University, 2006. (14] T. Wang, and F. Yuan, "A new current-mode incremental sSignaling scheme with applications to Gb/s parallel links," IEEE Trans. Circuits and Syst. I- Regular Papers, Vol. 54, No. 2, pp. 255-267, Feb. 2007. (15] J. Sim, and W. Namgoong, "Multilevel differential encoding with precentering for highspeed parallel link transceiver," IEEE J. Solid-State Circuits, Vol. 40, No. 8, pp. 16881694, Aug. 2005. (16] F. Hatori, S. Kousai, and Y. Unekawa, "Shared data line technique for doubling the data transfer rate per pin of differential interfaces," Proc. IEEE Int'l Solid-State Circuits
Conf., pp. 501-504 , San Francisco, Apr. 2001.

(17] S. Choi, H. Lee, and H. Park, "A three-data differential signaling over four conductors

67

with pre-emphasis and equalization: A CMOS current-mode implementation," IEEE J.

Solid-State Circuits, Vol. 41, No. 3, pp. 633-641, Mar. 2006.
(18] S. Zogopoulos, and W. Namgoong, "A low power 4.2 Gb/s/pin parallel link using threelevel differential encoding," Proc. Symp. on VLSI Circuits, Digest of Technical Papers, pp. 77-78, 2006. [19] H. Kim, F. Bien, Y. Hur, S. Chandramouli, J. Cha, E. Gebara, and J. Laskar, "A 0.25J-Lm BiCMOS feed foward equalizer using active delay line for backplane communication,"

Proc. IEEE Int'l Symp. Circuits and Syst., pp. 193- 196, New Orleans, 2007.
(20] B. Razavi, Design of integrated circuits for optical communications, McGraw-Hill, 2001. [21] C. Yang, and S. Sidiropoulos, "High-speed electrical signaling: overview and limitations," IEEE Micro, Vol. 18, No. 15, pp. 12-24, Jan. 1998. [22] P. Sun, and M. Hayat, "A Linear equalizer for high-speed APD-based integrate-anddump receivers," IEEE Communications Letters, Vol. 9, No. 12, pp. 1073-1075, Dec. 2005. (23] R. Schober, W. Gerstacker, and J. Huber, "Adaptive linear equalization combined with noncoherent detection for MDPSK signals," IEEE Trans. Communications, Vol. 48, No. 5, pp. 733-738, May. 2000. [24] X. Ma, and W. Zhang, "Performance analysis for MIMO systems with lattice-reduction aided linear equalization," IEEE Trans. Communications, Vol. 56, No. 2, pp. 309-318, Feb. 2008. [25] R. Schober, W. Gerstacker, and J. Huber, "Adaptive linear equalization combined with noncoherent detection for MDPSK signals," IEEE Trans. Communications, Vol. 48, No. 5, pp. 733-738, May 2000. [26) W. Ellersick, Data converters for high speed CMOS links, Ph.D dissertation, Stanford University, 2001. 68

[27] A. Atrash, and B. Butka, "A technique to de-skew differential PCB traces," Proc. Int'l
Symp. Circuits Syst., Vol. 2, pp. 565-568, Vancouver, 2004

[28] J. Rabaey, Digital Integrated Circuits: A Design Perspective, Pearson Education, New Jersey, 2nd edition, 2003. [29] S. Liu, J . Lee, and H. Tsao, "Low-power clock-deskew buffer for high-speed digital circuits," IEEE J. Solid-State Circuits, Vol. 34, No. 4, pp. 554-558, Apr. 1999. [30] C. Yang and S. Liu, "A one-wire approach for skew-compensating clock distribution based on bidirectional techniques," IEEE J. Solid-State Circuits, Vol. 36, No. 2, pp. 266-272, Feb. 2001. [31] G. Dehng, J. Hsu, C. Yang, and S. Liu, "Clock-deskew buffer using a SAR-controlled delay-locked loop," IEEE J. Solid-State Circuits, Vol. 35, No. 8, pp. 1128-1136, Aug. 2000. [32] C. Dike, N. Kurd, P. Patra, and J. Barkatuhh, "A design for digital, dynamic clock deskew," in Proc. Symp. VLSI Circuits, Digest of Technical Papers, pp. 21- 24, Jun. 2003. [33] L. Wang, "An energy-efficient skew compensation technique for high-speed skewsensitive signaling," Proc. IEEE Int'l Symp. Circuits and Syst., Vol. 2, pp. 1658-1661, Kobe, Japan, 2005. [34] G. Torralba, V. Angelovr V. Gonzlez, V. Lindenstruth, and E. Sanchis, "A VLSI for deskewing and fault tolerance in LVDS links," IEEE Trans. Nuclear Science, Vol. 53, No. 3, pp. 801 - 809, Jun. 2006. [35] N. Weste, and D. Harris, CMOS VLSI design: A circuits and dystems perspective, 3rd ed., Boston : Pearson Education, 2005

69

(36] C. Chuang, and S. Liu, "A 0.5-5-GHz wide-range multiphase DLL with a calibrated charge pump," IEEE Trans. Circuits and Syst. II- Express Briefs, Vol. 54, No. 11, pp. 939-943, Nov. 2007. [37] R. Yang, and S. Liu, "A 2.5 GHz all-digital delay-locked loop in 0.13 J-Lm CMOS technology," IEEE J. Solid-State Circuits, Vol. 42, No. 11, pp. 2338-2347, Feb. 2001. (38] R. Weng, T. Su, C. Liu, and Y. Kuo, "A CMOS delay-locked loop based frequency mmultiplier for wide-range operation," Proc. IEEE Conf Electron Devices and SolidState Circuits, pp. 419-422, Dec. 2005.

f39l J. Kwak, C. Kwon, K. Kim, S. Lee, and J. Kih, "Low cost high performance registercontrolled digital DLL for 1 Gbps x 32 DDR SDRAM," Proc. Symp. VLSI Circuits,
Digest Technical Papers, pp. 283-284, 2003.

(40] LVDS Owner's Manual, National Semiconductor, National Semiconductor Corporation, Santa Clara, CA, 2004. (41] C. Chen, J. Wang, and T. Sun, "A novel mini-LVDS receiver in 0.35-J-Lm CMOS," Proc.
IEEE Int 'l SOC Conf, pp. 65-68, Sept. 2006.

(42] G. Palmisano, and R. Salerno, "A replica biasing for constant-gain CMOS open-loop amplifiers," Proc. Int'l Symp. Circuits Syst., Vol. 2, pp. 363-366, Monterey, CA, June. 1998. (43] M. Sanduleanu, and J. Frambach, "1GHz tuning range, low phase noise, LC oscillator with replica biasing common-mode control and quadrature outputs," Proc. European
Solid-State Circuits Conf, pp. 506-509, Sept. 2001.

(44] A. Boni, A. Pierazzi, and D. Vecchi, "LVDS I/0 interface for Gb/s-per-Pin operation in
0.35-J-Lm CMOS," IEEE J. Solid-State Circuits, Vol. 36, No. 4, pp. 706-711, Apr. 2001.

70


