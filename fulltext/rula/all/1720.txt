Ryerson University

Digital Commons @ Ryerson
Theses and dissertations

1-1-2008

CMOS Digital Pixel Sensors With In-Pixel AnalogTo-Digital Conversion
Yong Chen
Ryerson University

Follow this and additional works at: http://digitalcommons.ryerson.ca/dissertations Part of the Electronic Devices and Semiconductor Manufacturing Commons Recommended Citation
Chen, Yong, "CMOS Digital Pixel Sensors With In-Pixel Analog-To-Digital Conversion" (2008). Theses and dissertations. Paper 1080.

This Thesis is brought to you for free and open access by Digital Commons @ Ryerson. It has been accepted for inclusion in Theses and dissertations by an authorized administrator of Digital Commons @ Ryerson. For more information, please contact bcameron@ryerson.ca.

CMOS DIGITAL PIXEL SENSORS WITH IN-PIXEL ANALOG-TO-DIGITAL CONVERSION
by

Yong Chen Bachelor of Engineering, Hangzhou, P. R. China, July 1997

A thesis presented to Ryerson University in partial fulfillment of the requirement for the degree of Master of Applied Science in the Program of Electrical and Computer Engineering. Toronto, Ontario, Canada, 2008

© Yong Chen, 2008

PROPERTY OF RYERSON UNIVEtlSITV LIBRARY

Author's Declaration
I hereby declare that I am the sole author of this thesis. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research.

Signature

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part , at the request of other institutions or individuals for the purpose of scholarly research.

Signature

11

Instructions on Borrowers
Ryerson University requires the signatures of all persons using or photocopying this thesis. Please sign below, and give address and date.

Name

Signature

Address

Date

111

CMOS DIGITAL PIXEL SENSORS WITH IN-PIXEL ANALOG-TO-DIGITAL CONVERSION, Master of Applied Science, 2008, Yong Chen, Electrical and Computer
Engineering, Ryerson University.

Abstract
This thesiss deals with the designing of CNIOS image sensors with in-pixel analog-to-digital conversion. A 2-stage memory write schen1e for Pulse-Width-Modulation digital pixel sensors is proposed. It utilizes the characteristics of Gray-code counters and partitions a single data write operation into two separated write operations such that the size of the in-pixel memory can be significantly reduced. A Pulse-Frequency-Niodulation image sensor with in-pixel preamplification is also presented. By employing an an1plifier before the comparator in the pixel, the proposed Pulse-Frequency-Modulation pixel significantly reduces the integration time without sacrificing the dynamic range. Finally, a Pulse-Frequency-Modulation Digital Pixel Sensor with an in-pixel variable reference voltage is proposed. As compared with

conventional Pulse-Frequency-Modulation pixels, the proposed architecture irnproves the dynamic range by adaptively adjusting the reference voltage in the pixel. All proposed

digital pixel sensors are designed in TSNIC-O.l8f-lm 6-Metal 1-Poly 1.8 V CiviOS technology and analyzed using Spectre from Cadence Design Systems with BSINI3V3 device models. The effectiveness of the proposed digital pixel sensors is validated using simulation.

lV

Acknowledgments
First I would like to thank my advisor, Professor Fei Yuan for granting 1ne the honor of being a member of his research group and for his enthusiastic support , constant guidance and inspiration throughout the course of this research. I have benefited frorn his vast technical expertise, insight, and his high-standards in research, teaching and publication. I also would like to thank n1y co-supervisor, Professor Gul N. Khan for his supporting and technical advice during these two years research. My heartfelt gratitude goes to Professor Vadin1 Geurkov and Professor Lev Kirischian fr01n the Depart1nent of Electrical and Computer Engineering of Ryerson Unversity, for their participation in the defense committee. I thank all the members, Tao Wang, Jiwang Li, Jun Zhang, Dominic Diclen1ente, Adrian Tang, An Hu , and Kathie Li, of the Microelectronic Circuits and Systen1s Research Group at Ryerson University for numerous technical discusssions. My thanks also go to the School of Graduate Studies of Ryerson University for the financial support through my studies. Finally, I would like to dedicate thesis to rny wife, Shuqin, for her love and endless support throughout my studies and research.

v

Contents

1 Introduction

1

1.1

Background

1 4 4 5
6

1.2 1\!Iotivation . 1.3
Contributions

1.4 Thesis Organization .
2

CMOS Pixel Sensors

2.1 2.2

Fundamentals of Photoelectric Effect Photodetectors ..

6
9 9 9

2.2.1 2.2.2 2.2.3 2.2.4
I

Photodiodes Photogates Pinned Photodiodes Performance Paran1eters of Photodetectors

10 11 11
11

I

2.3

Architectures of CMOS Pixel Sensors

2.3.1 2.3.2 2.3.3 2.4 2.5
3

Passive Pixel Sensors (PPSs) . Active Pixel Sensors (APSs) Digital Pixel Sensors (DPSs) .

12 13 14 15
16
· 0 · · · · 0 · · 0 · · · 0 ·

Perforn1ance Para1neters of CMOS Pixel Sensors . Sum1nary
· · 0 · · · · 0 · 0 · · 0 · 0 0 0 0 · 0 0 ·

CMOS Digital Pixel Sensors with In-pixel ADC

3.1

Fundamentals of ADC

0

·

0

0

·

0

0

· · · ·

0

· · ·

16

Vl

3.1.1 3.1.2 3.2

Performance Parameters of ADC Architectures of ADC . . . . . . .

16 19 20 20 22 23 25 29

Architectures of Digital Pixel Sensors with In-pixel ADC 3.2.1 3.2.2 3.2.3 3.2.4 Digital Pixel Sensors with Successive Approximation ADC Digital Pixel Sensors with L:-L). ADC . . . . . . . . . . . . Digital Pixel Sensors with Pulse-Width-J\!Iodulation ADC . Digital Pixel Sensors with Pulse-Frequency-Modulation (PFM) ADC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

3.3

Summary

4

2-Stage Memory Write Scheme for Pulse-Width-Modulation Digital Pixel Sensors
4.1 4.2 Resolution of Pulse-Width-Modulation Digital Pixel Sensors . . . . . . . . . Pulse-Width-Modulation Digitial Pixel Sensors with 2-stage Memory Write Scheme . . . . . 4.3 4.4 4.5 Implementation Sin1ulation Results Summary . . . . . 31 33 37 40

30
30

5 Pulse-Frequency-Modulation Digital Pixel Sensors with In-pixel Amplification
5.1 5.2 Pulse-Frequency-Modulation Digital Pixel Sensors with In-pixel Amplification Implementation . . . . . . . . . . 5.2.1 5.2.2 5.2.3 5.3 5.4 Amplifier and Comparator Counter Register

41
42 44 44 45

46 46
53

Simulation Results and Discussion . Summary ............. .

6 Wide Dynamic Range Pulse-Frequency-Modulation Digital Image Sensors with In-pixel Variable Reference Voltage
Vll

54

6.1

Pulse-Frequency-Niodulation Digital Pixel Sensors with In-pixel Variable Reference Voltage . 56 58 59 67
68

6.2 6.3 6.4
7

Implementation Simulation Results Summary . . . . .

Conclusions and Future Work
7.1 7.2 Conclusions Future Work.

68 69
70 71

A List of Publications

Bibliography

1ll

Vlll

List of Tables
3.1 4.1 4.2 4.3 5.1 3-bit quantization in Gray code. . . . . . . . . . . . . . . . . . . . . . Transistor width of PWNI digital pixel sensors (memory is not listed). Transistor size of dynamic memory. Performance comparison. . . . . . . Transistor width of PFJVI digital pixel with in-pixel amplification (counter is not listed). . . . . . . . . . . . . 5.2 5.3 6.1 6.2 Transistor width of D flip-flop .. Bias conditions at process corners .. 45 47 51 22 36 37 40

Transistor width of PFNI digital pixel sensors with a variable voltage reference. 59 Bias conditions at process corners.. . . . . . . . . . . . . . . . . . . . . . . . 64

IX

List of Figures
1.1 1.2 2.1 Architecture of interline transfer CCDs (12]. . . . . . . . Architecture of CMOS APS sensors with a global ADC .. Photoelectric effect: an electron-hole generation by absorption a photon with energy Eph > E 9 . 2.2 2.3 2.4 2.5 2.6 2. 7 2.8 2.9 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9
.

2

3

7

A reverse biased p/n junction diode under illurnination. Types of photodiodes. Structure of photogates. Architecture of pinned photodiodes. Schematic of passive pixel sensors .. Schematic of active pixel sensors. Operation of active pixel sensors. Schematic of digital pixel sensors. Offset error and gain error of 2-bit ADC. Block diagram of I.:-6 converters. . . . . Diagran1 of Nyquist-rate n1ultichannel bit-serial in-pixel ADC (31]. Pixel schematic of synchronous I.:-6 in-pixel ADC (33]. . . . . . Schernatic of DPS with an asynchronous I.:-6 in-pixel ADC (20]. PWM digital pixel sensor with aN-bit internal memory. Voltage waveform of PWM DPSs . . . . . . . . . . . . . . Configuration of PFM DPSs with a constant reference voltage. Timing diagram of PFM DPSs with a constant reference voltage.
X

8
9 9 10 11 12 13 14 17 20 21 22 23 24 24 26 26

' Ill

3.10 Schematic of DPS proposed in (34]. 3.11 Schematic of DPS proposed in [3] .. 4.1 4.2 4.3 First 4 cycles of 12-bit Gray-coded counter. . Configuration of PWM digital pixel with a 2-stage memory write scheme. Timing diagram of the proposed 12-bit PWM DPS array with a 2-stage memory write scheme. n is the number of colun1ns of the array. . . . 4.4 4.5 4.6 4.7 5.1 5.2 Schematic of PWNI digital pixel sensors (menwry is not shown). Schematic of dynamic memory. Sin1ulation results. . . . . . . .

28 28 32 34

35 36 37 38 39 42

Layout of the proposed PWM digital pixel sensors (Pixel size : 9p,m x 9p,m). PFM digital pixel sensors with in-pixel amplification and a N-bit counter. Simplified schematic of digital pixel sensors with in-pixel amplification (counter is not shown). . . . . . .

44 45 46 47

5.3 5.4 5.5 5.6

Schematic of 10-bit LFSR. Schematic of modified 10-bit LFSR as a counter for PWM pixel. Schematic of D flip-flop. . . . . . . . . . . . . . . . . . . . . . .

Sin1ulated waveform of voltages of DPSs with and without in-pixel amplification. Figures (a) , (b) and (c) show the signal of PFM with in-pixel amplification. Figures (d) and (e) show the signals of PFNI without in-pixel 48 49

amplification. . . . . . . . . . . . . . . . . . . . . . . . 5.7 5.8 Waveform of proposed DPS with 10 nA photo current. Dynamic ranges of proposed PFM DPS and that of conventional PFM DPS for 250 p,s integration time. 5.9 Dynarnic range of proposed PFM DPS for 250 p,s integration time at process corners. . .................... .

50

51 52 55

5.10 Layout of PFl'vi pixel with in-pixel amplification. 6.1 Diagram of J\IIRSS ADC architecture [27] ..

Xl

6.2 6.3

PFNI digital pixel with in-pixel variable reference voltage. . . . . . . . . . . . Timing diagram of the proposed PFM DPS with in-pixel variable reference voltage. . . . . . . . . . . . . . . . . . . . .

57

57 58

6.4 6.5

Simplified schematic of proposed PFNI DPS. Simulation results with 1 pA photodiode current. Figures (a) and (b) show the signals of PFNI with a variable reference voltage. Figure (c) shows the signals of PFNI with a constant reference voltage. . . . . . . . . . . . . . . .

60

6.6

Simulation results with a 2J-LA photodiode current. Figures (a) and (b) show the signals of PFM with variable reference voltage; Figure (c) shows the signals of PFM with constant reference voltage. . . . . . . . . . . . . . . . . . . . . 61

6.7

Photodiode charging current and voltage.

Vpd

of PFM DPS with constant reference 62

6.8

Photodiode charging current and voltage.

Vpd

of PFM DPS with variable reference 62

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

6.9

Dynamic ranges of proposed PFNI DPS and conventional PFNI DPS with 60
J-LS integration time. . . . . . . . . . . . . . . . . . . . . . .

63 64 65 66 67

6.10 PFM DPS with a 10 nA photo current at process corners. 6.11 In-pixel reference voltage generator at process corners. 6.12 Layout of the PFM pixel with a variable reference generator. 6.13 Post-Layout Simulation results with a 2p,A photo diode current.
1 11 1

Xll

Abbreviations
ADC-Analog-to-Digital Conversion/ Converters AER-Address-Event Reorientation APS-Active Pixel Sensors BOIVI-Bill of Material BSIIVI3V3-Berkeley Short-channel IGFET Model Version 3.3 CCD-Charge-Coupled Devices CDS-Correlated Double San1pling CMOS-Con1plementary IVIetal-Oxide Semiconductors DAC-Digi tal-to-Analog Conversion/ Converters DNL-Differential Nonlinearity DPS-Digital Pixel Sensors DR-Dynamic Range DRAIVI-Dynamic Random Access Memory ENOB-Effective Nun1ber of Bits FD-Floating Diffusion FPN-Fixed-Pattern Noise FSR-Full-scale range HDTV-High-defini tion television INL-Integral Nonlinearity LFSR-Linear-Feedback-Shifting-Register LSB-Least Significant Bit MCBS-Multichannel Bit-Serial MI1VI-Metal-Insulator-Metal
Xlll

MSBMUX-

Most Significant Bit Multiplexer

NU Q-N onuniform time-domain Quantization PFlVI-Pulse-Frequency-l\!Iod ulation PG-Photogates PPD-Pinned Photodiodes PPS-Passive Pixel Sensors PWM-Pulse-Width-Modulation QE-Quantum Efficiency RAlVI-Randon1 Access Mernory RMRE--Row Men1ory Read Enable RRRE-Row Register Read Enable SNR-Signal-to-Noise Ratio SRAlVI-Static Random Access Memory TG-Transmission Gates TSMC-Taiwan Semiconductor Manufacturing Company XNOR-Exclusive NOR gates

1 111.

XIV

Chapter 1 Introduction
1.1 Background

Image sensors are devices that transform optical images to electric signals. Today image sensors can be found in various electronic products, such as mobile phones, digital still cameras, and camcorders. New application opportunities are also merged in automobile, security /surveillance, and medical systen1s. There are two major categories of image sensors: Charge-coupled devices (CCDs) and CMOS image sensors. Both sensors utilize the same mechanism, called the photoelectric effect that transforrns light into electric charge within a photodetector. A higher level of intensity of light implies a larger amount of charge generated in the device. The main

difference between CCD and CMOS sensors is the way they process the generated charge. CCD sensors work like analog shift registers that transport the charge through sequential CCD cells controlled by a clock signal, as shown in Fig.1.1. In the last stage, charge is converted to a voltage signal by a charge amplifier for further processing. Because of this charge transfer mechanism, CCDs do not introduce temporal noise or pixel to pixel variations due to device mismatches, known as fixed-pattern noise (FPN) [12]. Today CCD sensors are still widely used in systen1s that require high quality i1nages, e.g. HDTV. However CCDs have several disadvantages:

(1) Process incompatibility: CCDs are fabricated in specialized technologies solely
optin1ized for i1naging and charge transfer, which means that all required control functions
1

have to be implemented into another chip such that the bill of material (BOM) cost of the systems is increased consequently. (2) Low speed: Because of the serial charge readout , the speed of CCD sensors is low, which is unfavor for high-speed applications. (3) High power consumption: CCDs requires high-speed, high-voltage clocks to improve the charge transfer efficiency, which increases power consumption.

Charge Transfer

Charge Amplifier

CCD

Photodetector

Figure 1.1: Architecture of interline transfer CCDs [12]. Modern C:tviOS image sensors were not popular until the mid 1980's when C.tviOS active pixel sensors (APSs) were introduced by VLSI Vision Ltd. and NASA's Jet Propulsion Laboratory [9]. Before the appearance of APSs, the firs generation of CMOS ilnage sensors is passive pixel sensors (PPSs). However PPS devices have poor performance as compared with CCDs, which lirnited their applications. APSs overcmne the shortcornings of PPSs by adding an an1plification stage in every pixel, which significantly improves the signal-to-noise ratio (SNR). Meanwhile because APSs are built with CMOS technologies, most of control and

2

signal processing functions including analog-to-digital conversion (ADC) can be integrated into the same chip, resulting in a significant cost reduction. Fig.l.2 is the architecture of conventional Cl\!IOS image sensors with a global A/D converter.

~

I

~

I
~

I

~

I

-

Cl)

"'0
0
() Cl)

l

I
~

l
~

~·

I

I

~

0
~
0

I
~

'

I
~

I

~
I

APS in-pixel circuit

I
~

I
~

I
~

Column Readout
I
I
1

I

ADC

Photodector

Figure 1.2: Architecture of CMOS APS sensors with a global ADC. With the scale of CMOS image sensors increases, the conventional configuration of Fig.l.2 shows its limitations. First, the conversion speed of the ADC must be sufficiently high in order to meet timing requirements, which increases design challenges. Secondly, the analog output of the APS pixels is more vulnerable to noise and crosstalk, because heavy parasitics exist on the column lines [11]. In recent years, the idea of rnigrating A/D conversion into column level has become popular. In [29], a Cl\!IOS image sensor with 8.3 mega pixels was reported. In this design, the column-parallel gain a1nplifier and ADC are employed. 3

As CMOS technologies advance, the possibility of integrating an ADC into each pixel is becon1ing feasible. The first pixel with an in-pixel ADC, called digital pixel sensors (DPSs) , was first reported in [10]. The massively parallel conversion provides the potential for high frame rate imaging applications, while digital data is read out in a manner similar to a random access memory (RAM) , which offers noise immunity. However DPSs face the following challenges: (1) Large pixel size/low fill-factor: Since a large portion of the pixel is reserved for ADC and memory, the area for photodetectors is limited, which decreases the performance. (2) Low resolution: Because of the physical constraint on the pixel size, a limited size of memory can be realized in the pixel, resulting in low resolution. (3) Low dynamic range: The switching noise of in-pixel digital circuits may contribute significant noise to their vulnerable analog blocks, resulting in a reduced dynamic range.

1.2

Motivation

The proceeding discussion above leads to the motivation of this thesis: exploring the possibility to improve the performance of digital pixel sensors by increasing the fill-factor , enhancing the resolution, and improving the dynamic range.

1.3

Contributions

This thesis proposes three new CMOS in1age sensors with in-pixel analog-to-digital conversion: (1) Pulse-Width-Niodulation (PWM) digital pixel sensors with 2-stage memory write scheme. The DPS provides the highest resolution with the minimum pixel size. (2) Pulse-Frequency-Modulation (PFNI) digital pixel sensors with in-pixel amplification. The DPS improves the dynamic range by 20 dB as compared with other PFNI pixels. (3) PFNI digital pixel sensors with in-pixel variable reference voltage. The DPS improves the dynamic range by 70 dB compared with conventional PFM pixels.

4

These DPSs have been imple1nented in TSTviC-0.18p,m 1.8 V CMOS technology and analyzed using Cadence Spectre with BSIM3v3 device models, and their performance has been validated using simulation.

1.4

Thesis Organization

The thesis is organized as the followings: Chapter 2 reviews the background of CMOS image sensors including photoelectric effect, photodetection devices, and three CMOS pixels architectures. Chapter 3 provides the background of analog-to-digital conversion. The literature review of digital pixel architectures is presented. The features of different DPSs are also discussed. Chapter 4 proposes a new 2-stage memory write scheme for Pulse-Width-Modulation digital pixel sensors. The proposed scheme and implementation are presented in detail. The effectiveness of the proposed DPS is validated using simulation. Chapter 5 describes a new Pulse-Frequency-Tviodulation (PFM) CMOS image sensor with in-pixel pre-amplification stage. The performance of the proposal PFM DPS is compared with that of the conventional PFM DPS. Chapter 6 details new PFM DPS with an in-pixel variable reference voltage generator to increase the dynamic range of the pixel. The implementation and simulation results are demonstrated. Chapter 7 concludes the thesis and provides the direction for future research.

5

Chapter 2 CMOS Pixel Sensors
The imaging quality of CMOS image sensors is largely dominated by the performance of photodetection devices. This chapter reviews the background of CiviOS image sensors. Section 2.1 presents photoelectric effect in semiconductor. Section 2.2 discusses three popular photodetection devices including photodiodes, photogates and pinned photodiodes. The performance of these photodetectors are also investigated here. Section 2.3 describes three different generations of CiviOS pixel architectures. In Section 2.4, the performance parameters of CMOS image senors are presented. The chapter is sun1n1arized in Section 2.5.

2.1

Fundamentals of Photoelectric Effect

Photon absorption is a fundamental process that is exploited to convert optical energy

into electrical energy. Energy of a photon can be expressed as
1111,, ,

(2.1) where h is Plank's constant, c0 is the speed of light in vacuum, and .\ 0 is the wavelength. When a photon with energy greater than the semiconductor band-gap (E9 ) is incident on the semiconductor, an electron-hole (e-h) pair is generated by absorbing the photon energy and exciting the electron from valence band to conduction band as shown in Fig.2.1. The photon absorption is represented by the wavelength dependant absorption coefficient a(.\)

[8].
6

ee

::t ~

~

~"

Ec Eg

,
oh

Ev

Figure 2.1: Photoelectric effect: an electron-hole generation by absorption a photon with energy Eph > E9 . For an indirect band-gap material, such as silicon, the minimum energy gap between the valence band and the conduction band exists at different crystal momentums. The electronhole pairs are generated with the change in bands as well as the change in n1omentum. There is another opposite mechanisn1 called as recombination, which brings the seiniconductor back to thermal equilibrium condition , by combining electrons and holes, and releasing energy [28]. In order to prevent the recon1bination when illun1ination, the generated e-h pairs must be separated and collected by some collection contacts. For silicon, a reverse biased p/n junction diode is used for the e-h pairs generation and collection. With the built-in electrical field in the p/n junction, as shown in Fig.2.2 , the e-h pairs are separated after generation, and collected by the cathode and the anode of the diode respectively. By increasing the reverse bias voltage, the depletion region of the p/n junction is increased, so is the electrical field, which rnakes the drifting of holes and electrons more easily. These currents are the drift component of the total photo current. The e-h pairs generated in the diffusion regions ( Ln, Lp) are diffusing to the depletion, which forms the diffusion current of the photo current. For e-h pairs generated outside these two regions, most of them will be recombined and do not contribute to the photo current. Once the photo current is generated, there are two ways to measure the current. One is directly measuring the current, called as current-mode photodetectors. The other way is to integrate the current over a capacitor for a predetermined tin1e period and read the changed potential after then. This type of image sensors is known as voltage-n1ode sensors.

7

£,, ~~~~~~~~~~~~~~~

·II

p
I I I

9 9 9
~

9 9 9
Xp

L ..

..

I .Ill(

1:: I
Xn

inl
I I

1----1

W

·t

I

-1~1
I I I I I 1

1

Ln

1

I I I I I 1 I

Electrical field

e

drift

diffusion

Figure 2.2: A reverse biased p/n junction diode under illumination.

8

2.2
2.2.1

Photodetectors
Photodiodes

Reverse biased p/n junction photodiodes are the most popular photodectors for CMOS image senors. Fig.2.3 shows three possible photodiode structures that can be implernented using p-substrate process: n+ /p-substrate photodiode, n-well/p-substrate photodiode, and p+/n-well photodiode. Among them, the n+/p-substrate is widely used because of the outstanding spectral response and the simple layout. However this photodiode is vulnerable to crosstalk and noise due to the leak current through the substrate [4].

(a) n+/p-subtrate photodiode

(b) n-well/p-subtrate photodiode

(c) p+/n-well photodiode

Figure 2.3: Types of photodiodes.

2.2.2

Photogates

The structure of photogates is presented in Fig.2.4. Similar to CCDs, the photogate has four operation stages: reset, signal integration, signal charge transfer, and signal readout [21, 22].

p-substrate

Figure 2.4: Structure of photogates.

9

Before integration, the photogate is reset by activating the transmission gate (TG). During integration, the generated charge is accumulated in the potential well under the photogate (PG). For readout , the floating diffusion (FD) is first reset and read out, then the charge is completely transferred via the TG to the FD. The difference of two voltages is proportional to the photon flux. Because the sensing node and integration node are separated, the photogate enables true correlated double sampling (CDS), which can suppress 1/ f noise and FPN. The dark current contributed by the surface defect is also reduced. The spectral response of the photogate is decreased due to the low transparency of the polysilicon gate.

2.2.3

Pinned Photodiodes

Pinned photodiodes (PPDs) improve the sensitivity and reduce the dark current by integrating p+/n/p-substrate diode instead. The architecture of pinned photodiodes is shown in Fig.2.5. As compared with photogates, the advantage of PPDs is the separation of the charge collection region away from the silicon surface into the bulk through the top p+ layer, resulting in a great reduction of dark current [19, 13]. Currently pinned photodiodes can be found in multi-megapixel image sensors [24].

111,,,,.

n

p-substrate

Figure 2.5: Architecture of pinned photodiodes.

10

2.2.4

Performance Parameters of Photodetectors

There are two important parameters to measure the performance of photodetectors.

Quantum Efficiency (QE): QE defines the incident photon flux that contributes to
the photo current in a photodetector with a specific wavelength. This parameter is strongly related to the photodetector layout geon1etry and n1anufacturing process such as doping concentrations.

Dark Current: Dark current is the current in the photodetector without any illumination. It affects the noise floor of pixels and determines image sensors performance under low illumination. The dark current depends on several factors: device temperature, number of silicon defects near the electric field, and electrical-field strength. The leakage current of CMOS transistors will also make a contribution to the dark current.

2.3
2.3.1

Architectures of CMOS Pixel Sensors
Passive Pixel Sensors (PPSs)

PPSs, shown in Fig.2.6, have only one transistor as a switch to transfer the charge to a column-based charge integration an1plifier. PPSs can achieve a high fill factor, however, with high readout noise and a slow operation speed. This is because the large parasitic capacitance on the column line appears on the photodiode once the switch is on.

~EL

PD

Column

Figure 2.6: Schematic of passive pixel sensors.

11

2.3.2

Active Pixel Sensors (APSs)

APSs are the most popular pixel architectures for CMOS image sensors. Presented in Fig.2.7, APS pixels include a reset transistor (N/1 ), a source follower (M2 ), and a row select transistor (Nh) . The role of the source follower is to decouple the photodiode frorn all other pixels that are connected to the same column line.

RESETq
Vpct

PD

Vout

Column

Figure 2. 7: Schematic of active pixel sensors. In Fig.2.8, the operation of the APSs is illustrated: Initially, the photodiode is charged to
Vdd

by enabling the reset transistor M 1 . This is called as the reset phase. By disabling

M 1 , the pixel enters the integration phase. The voltage at the cathode of the photodiode
is dropping because of the illumination. After a predefined tirne period (TI) , the voltage is read out by enabling the transistor M 3 as the first value for CDS. At T2 , the reset transistor
M 1 is switched on to recharge the photodiode again. The resetting voltage of the photodiode

is also read out at T3 as the second value for CDS. The pixel starts another integration by opening M 3 and M 1 respectively. The level of the illun1ination is obtained by perfonning the CDS operation. CDS technique can eliminate the FPN noise of APSs. Cmnpared with PPSs, the fill factor of APSs is lower. By sharing the readout circuit within the adjacent pixel cells, the fill factor can be improved. The n1ost recent design is average 1.5 transistors per pixel, which is comparable to the fill factor of PPSs [15].

12

Resetting Phase [ntegration Phase RESET

Resetting
rha~e

[ntegration Phase !+-------······-···....
....__

___________________ _
..........................

SEL

"'-------··············

V out

-----------------------------------------

T1T2 T3

Figure 2.8: Operation of active pixel sensors. Both PPSs and APSs have two disadvantages:

(1) The output signal from the pixel is in the analog domain.
(2) The pixel is accessed and processed through a row scan mode. With the increasing scale of the image sensors, this readout mode requires high-speed parallel readout circuits and analog-to-digital converters (ADCs) to rneet the timing requirements.

2.3.3

Digital Pixel Sensors (DPSs)

DPSs resolve these two issues by irnplementing an ADC in every pixel, as shown in Fig.2.9. The ADC translates the light signal into a digital value at the immediate point of capture, thus minimizing signal degradation and cross-talk in the array and allowing for greater noise reduction methods [23]. Compared with PPSs and APSs, DPSs require n1ore transistors integrated, lowering the fill factor and increasing the pixel size. Only simple ADC architectures can be implemented. The detailed of in-pixel ADC architectures will be discussed in Chapter 3.

13

PO

Column Figure 2.9: Schen1atic of digital pixel sensors.

2.4

Performance Parameters of CMOS Pixel Sensors

Fixed Pattern Noise (FPN): FPN is caused by the transistors variations during fabrication. FPN can be eliminated by CDS as mentioned before.

Fill Factor: Fill factor is the ratio of the photo sensing area over the whole pixel cell
area. Low fill factor will introduce distortion in the final image. For DPSs, high fill factor is a challenge, as more transistors are required for the in-pixel A/D conversion and digital memory.

Dynamic Range: Dynamic range of CMOS image sensors is defined as

DR=
where
Imin Imax

20log( 1m~x),
lmm Imin

(2.2) is the rninirnurn photo current.

is the maxirnurn detectable photo current and

is mainly set by the dark current and other leakage currents.

Resolution: Resolution is the bit-width of ADC output. High resolution is strongly
preferred for high-definition imaging applications. For CCD devices, there are already 14-bit ADCs available in 1narket [2], while APSs can provide 10/12-bit resolution [26, 27).

Frame Rate: Frame rate is normally referred to how many pictures can be taken within
one second. In some aerospace or military applications, a high-speed image sensor is required.

14

2.5

Summary

In this chapter, the photodetectors and CMOS pixel architectures have been investigated in detail. The performance parameters of photodetectors and C.fviOS pixel sensors have been also presented. In the next chapter, the detailed architectures of C.fviOS digital pixel sensors will be reviewed.

15

Chapter 3 CMOS Digital Pixel Sensors -with In-pixel ADC
This chapter reviews the architectures of different digital pixel sensors reported in literature. The introduction of analog-to-digital converters is presented in Section 3.1. Section 3.2 intensively investigates the architectures of digital pixel sensors. The principles of Pulse-Width-Niodulation and Pulse-Frequency-Modulation are also illustrated. Section 3.3 summaries the chapter.

3.1
3.1.1

Fundamentals of ADC
Performance Parameters of ADC

An ADC converts input analog signal (Vin) into digital signals (D[N -1 : 0]) by comparing it with a reference voltage 'Vr-eJ· Normally the conversion is done with a sampling clock. The smallest difference of Vin that can be resolved by the ADC is called as Least Significant Bit (LSB) defined as [14]

LSB

=

~·ef

2N '

(3.1)

where N is the number of output digital bits. Full-scale range (FSR) refers to the maximum input amplitude that can be represented by the digital outputs. The relationship between the FSR and the LSB can be expressed as

16

FSR

=

2NLSB.

(3.2)

LSB and FSR only give information about the input signal range. There are a number of other parameters that quantity the performance of ADCs.

(1) Resolution: The resolution of an ADC is defined as the number of distinct analog
levels corresponding to the different digital outputs. Usually the resolution is given in the number of output digital bits, N. (2) Quantization Noise: Quantization noise is the inherent uncertainty in digitizing an analog value with a finite resolution A/D converter [1]. It is calculated as

Qn =Yin- vdig ,

(3.3)

where vdig=D[N- 1: OJ

X

LSB=D[~Nl:O]

X Vref·

(3) Offset Error and Gain Error: Offset error and gain error are den1onstrated in Fig.3.1. The slopes of an ideal ADC transfer characteristic and an actual ADC are presented in dot lines. The offset error (Fig.3.1 (a)) is defined as the difference between the value of the first code transition of an actual ADC and the ideal value. The offset error is a constant value covering the whole conversion range. As shown in Fig.3.1 (b) , the gain error is represented as the difference between the slopes of the actual ADC and the ideal one.
D
I
/ / / / / /
//
/

, Ideal
/ /

" //

Actual

D
/ /
/

, Ideal /"' " Actual
/ /

~
/

,.A4-

gam error

.

....
/

0
/

/
/ / / / /

/

/

/ / / /

0

01
/ /
/ /

/

/
/

.,.'
/ /
/

/

01

offset error

0u

I

Vtn

,

~

1/ 4

l/2

3/4

4/4

OOI"'"'___,...___I..... /4 ___ 1 ..... /2--3--' /'-4--4...... / 4-----. (b) gain error

~ ::f

(a) offset error

Figure 3.1: Offset error and gain error of 2-bit ADC .

17

(4) Differential Nonlinearity (DNL) and Integral Nonlinearity (INL): DNL of an ADC is defined as

DN L

=

Dcode - 1LSB,

(3.4)

where Dcode is the step width between two adjacent digital codes of the actual converter. The definition of INL is the maximum difference between the actual transfer characteristic and the ideal one. (5) Dynamic Range: Dynamic range is specified as the ratio of the FSR over the LSB, and often represented in decibels

FSR DR = 20log( LS B) = 20log(2N) = 6.02N.

(3.5)

(6) Signal-to-Noise Ratio (SNR) and Effective Number of Bits (ENOB): SNR
is given as the ratio of the FSR over the rms value of the quantization noise. The rms value of the quantization noise can be obtained by taking the root mean square of the quantization noise

[1]
LSB rms = - - =
JI2

FSR
2NJI2

.

(3.6)

SNR can be expressed in decibels

SN Rmax = 20log(

FSR/(2.;2) JI2 ) = 6.02N + 1.76. FSR/(2N 12)

(3.7)

The ENOB of the ADC is derived from

ENOB
where SN Rreal is the SNR of the ADC.

=

SN Rreat- 1.76
6.02 '

(3.8)

18

3.1.2

Architectures of ADC

ADCs can be classified into two categories based on the sampling rate. The first category is called as Nyquist ADCs, as the input signal is sampled at the Nyquist rate, fr=2F, where F is the bandwidth of the signal and fr is the sampling rate. However in practice, the Nyquist converters operate at 1.5 to 10 times of Nyquist rate to reduce the difficulty in realizing anti-aliasing and reconstruction filters [14]. The n1ain architectures of Nyquist ADC are:

(1) Flash ADCs: Flash ADCs have the highest speed among all types of ADCs, because
the conversion is performed simultaneously with a group of comparators and resistors [5]. However the high area and power cost limit the application of Flash ADCs. (2) Pipelined ADCs: Pipelined ADCs reduce the number of comparators by transforming the parallel conversion into a serial way. Similar to pipeline technology in digital signal processing, this type of ADC is suitable for high-speed applications. A special care must be taken when designing the first several stages, as the error of these stages will propagate through the converter and result in a large error at the end of conversion [14]. (3) Successive Approximation ADCs: Successive approximation ADCs perfonn the conversion as a binary search through all possible quantization levels, which are generated from a DAC (digital-to-analog converter). The si1nplicity of the architecture allows for high speed and high resolution applications with a low area cost. The accuracy mainly depends on the DAC. (4) Integrating ADCs: Integrating ADCs convert the analog input into the digital domain by integrating the signal during a given time and correlating the time with a digital counter. One advantage of the architecture is the simple configuration of circuit. There are two types of integrating ADCs, single-slope architecture and double-slope architecture. The later improves the performance by integrating the signal twice in one conversion period such that noise will be cancelled out. The other type of ADCs samples the signal at a rate 1nuch higher than the signal bandwidth. They are called as oversampling converters or
~-b.
~-b.

converters. Shown in Fig.3.2, a

converter consists of two major blcoks: a 19

~-b.

modulator and a decimator. The mod-

u(t)

,+
~

.. H(z)

..

-f...

..

~
Digital Filter

~

!
Down Sampling

"'

DAC
L-~

Modulator

Dectmator
~-~

Figure 3.2: Block diagram of

converters.

ulator performs A/D conversion by sampling and quantizing the band-limited signal as well as pushing the quantization error out of the band, while the decimator performs low-pass filtering and down-sampling in the digital domain. The low-pass filtering eliminates all the out-band noise whereas the latter reduces the output rate down to the Nyquist frequency with an output bit width, appropriate to the overall ADC resolution. The drawback converters is that the signal bandwidth is limited by the sampling rate.
of~-~

3.2

Architectures of Digital Pixel Sensors with In-pixel ADC

As mentioned in the previous chapter, the fill factor constraint precludes the use of ADC architectures that can be realized in DPSs. The reported in-pixel architectures are reviewed in this section.

3.2.1

Digital Pixel Sensors with Successive Approximation ADC

The Nyquist-rate multichannel bit-serial (MCBS) proposed by Yang et al. [31] is an extension of successive approximation ADC. The block diagrmn is shown in Fig.3.3(a). The signal S is the output from a photodetection device, while the RAMP and BITX signals are generated by a global DAC and a digital control circuit, respectively.

20

s
0

I RAMP

7/8
BJTX

5/8
D

Q

digital out

input!

0 ------------------·------·-

3/8
G

l/8
0 0

T

BITX

0

0 0

I I

0

(a) Comparator/ latch pair

(b) RAMP and BITX generation for LSB

Figure 3.3: Diagram of Nyquist-rate multichannel bit-serial in-pixel ADC [31]. A 3-bit Gray code is presented in Table.3.1 for illustration. The Gray code is chosen to take the advantage of its low switching activity. In Fig.3.3(b) , the waveforms of RAMP and BITX are presented for the LSB of the codeword. RAMP increases through the quantized values of the whole ADC input range, while the BITX signal indicates the code of that particular range. For instance, for input1 ranging between 3/8 and 5/8, the comparator flips when the RAMP signal is 5/8 at which BITX is logic 0. The latch will store the value of BITX and prevent further write-in. After RAMP completes the whole range, the value of the latch will be read out as the LSB value. Then RANIP and BITX are reset for the next bit comparison. In order to i1nprove the fill factor, sharing the c01nparator and latch within adjacent pixels are applied [31, 32]. In general, for a N-bit of resolution , a total of 2N - 1 con1parisons are needed for one pixel to generate the final digital output. This decreases the speed of image sensors.

21

Table 3.1: 3-bit quantization in Gray code. Codeword Analog Input Range _(_Sl 000 0-1/8 001 1/8-1/4 011 1/4-3/8 010 3/8-1/2 110 1/2-5/8 111 5/8-3/4 101 3/4-7/8 100 7/8-1

3.2.2

Digital Pixel Sensors with
E-~

~-~

ADC

The in-pixel

ADCs proposed by Fowler et al. [10] and Yang et al. [33] are based
E-~

on a synchronous first-order

modulator architecture. The schematic of the Sigma-Delta

ADC in [33] is shown in Fig.3.4. The major components of the pixel include a clocked comparator and a 1-bit feedback DAC irnplemented as an analog shift register. By sharing the ADC with four photodetectors, the fill factor is irnproved by 30%. The dynamic range of the image sensor is 83 dB.

PDI

~1-bltA_D_C~----ql
PD2
+----+--<11

r·········································-·-·--··--------------····

Column

---------------------------------------------------·-----------------

PD4

Figure 3.4: Pixel schematic of synchronous

E-~

in-pixel ADC [33].

22

In [20}, lVIcllrath proposed another

E-~

in-pixel ADC architecture with an asynchronous

self-reset oscillation approach, as shown in Fig.3.5. Compared with [10 , 33] , this design integrates a continuous differential comparator instead of the clocked one. Other major blocks of the pixel include a bistable half-latch to reset the photodiode and a regenerative circuit that disables the bistable latch and restarts the integration once the photodiode is fully charged. The dynamic range of this design is 104 dB.

Figure 3.5: Schen1atic of DPS with an asynchronous

E-~

in-pixel ADC [20]. pixels must be decoded

Unlike other in-pixel ADCs, the bit streams generated by

E-~

through a decimator outside the imager array to produce the final digital value. Due to the pixel size constraint , no design with high-order literature.
E-~

Inoclulator has been reported in

3.2.3

Digital Pixel Sensors with Pulse-Width-Modulation ADC

The Single-slope integrating A/D conversion technique is also applied in in-pixel ADC designs. These DPSs are called Pulse-Width-Modulation (PWlVI) DPSs [17, 16] . The basic configuration of PWM pixels with aN-bit internal memory is shown in Fig.3.6. The operation of the PWM DPSs consists of two modes : reset mode and sensing mode. In the reset phase, the resent pMOS transistor is activated and the junction capacitor photodiode PD is charged to
VDD Cpd

of the

approximately. The comparator output

Vcomp

is set to logic

1. In the following sensing phase, the reset plVIOS transistor is OFF and the voltage across

23

the photodiode Vpd starts to drop due to the current of the photodiode. The photodiode current is set by the level of the illun1ination. In the n1ean time, a global counter outside the pixel is also activated. When of the comparator
Ycamp

y;,d reaches the reference voltage Vref

set by users, the output

changes to logic 0 and the content of the global counter outside the

pixel is written into the in-pixel memory. The intensity of the illun1ination is represented by the content of the in-pixel memory, as shown graphically in Fig.3. 7. At here, the in-pixel memory can be implemented as SRAM, DRAM or registers, depending on the applications requirement.

1"--------------f
I I

I I

Cp d....i.... :
I I I

PD

N-bit memory

~

Data bus [O:N-1]
Figure 3.6: PWNI digital pixel sensor with a N-bit internal memory.

Ypd

Low illumination

Voo
Yref

: :

Global counter output

i ~J~. ~
Integration time

:

: : : 7 : : 6 : ~

Figure 3.7: Voltage waveform of PWM DPSs.
24

The integration tin1e, denoted by

Tpd,

can be obtained fron1
_ (VDD - VreJ )Cpd

T,

pd-

I pd +Id

'
Id

(3.9) is the dark current and

where

Ipd

is the average discharge current of the photodiode,
Cpd

other leakage currents in the pixel, and

is the total capacitance at the cathode of the

photodiode. If we assume that the time step of the counter is internal memory of the pixel at t
= Tpd,

T. tep, the value stored in the
5

denoted by

Npixel,

is obtained from (3.10)

Npixel =

Tpd Tstep

= (VDD - Vref )Cpd.
(fpd

+

fd)Tstep

The average photo current obtained from (3.10).

Ipd,

which represents the level of illumination, can therefore be

The sensor of [17) integrates a 8-bit dynamic memory cell in every pixel, resulting in 9.4p,m x 9.4p,m pixel size with a 15% fill factor. With 352 x 288 array size, it can operate at 10,000 frames/second.
It is shown in (3.9) that the relationship between the photo current and the integration

time is nonlinear. In order to compensate for the nonlinear effect, [16] proposed a nonuniform time-domain quantization (NUQ) schen1e to automatically adjust the time step of the counter,
Tstep·

The results den1onstrated that the image sensor could achieve over 100 dB

with a 8-bit in-pixel memory.

3.2.4

Digital Pixel Sensors with Pulse-Frequency-Modulation (PFM) ADC

PFM is also a time d01nain encoding scheme, similar as PWM. It has been widely used in [34, 3, 7, 30]. The configuration of conventional PFM DPSs with a N-bit in-pixel counter is shown in Fig.3.8. In the reset phase, the voltage across the photodiode PD, denoted by Vpd, is charged to
Vdd

approxin1ately when the reset pMOS transistor is ON. The output of the comparator is

set to Logic-1. The reset pNIOS transistor is then switched off and rnar·king the on-set of the sensing phase.
Vpd

starts to drop due to the conduction of the photodiode. The photodiode 25

r----------------------1
>----411--~

Cpct

......

l

N-bit counter

PD -

Figure 3.8: Configuration of PFNI DPSs with a constant reference voltage. current
Ipd

is set by the level of illumination. When
V comp

Vpd

reaches the reference voltage

Vr· e f ,

the output of the comparator

will switch fron1 Logic-1 to Logic-0 , forcing the in-

pixel counter to increment. It also will turn on the reset pMOS transistor and recharge the photodiode to
Vdd·

Because

Vpd

> Vre f , the cornparator output is set to Logic 1, switching off

the pMOS transistor. The sensing process repeats. The level of illun1ination is represented by the the content of the in-pixel counter, i.e. the number of times that the output of the comparator flips (frequency modulation) for a given integration time timing diagram of the PFM DPSs with a constant reference voltage.
Tint·

Fig.3.9 shows the

~~---+--~--~--~··-P--+-

~-----+------+----··----+-

~1~------------T_in_t__________~~l
(a) High level of illumination

t

~1~------------T_in_t__________~~l
(b) Low level of illumination

t

Figure 3.9: Timing diagram of PFM DPSs with a constant reference voltage.

26

The pulse width at the con1parator output of the PFM DPSs can be obtained from

r,.
pd

= ( Vdd -

I pd + I d

Vre.f) Cpd

'
Ipd Tpd

(3.11) and
Id

where

Cpd

is the total capacitance at the cathode of the photodiode,

are the

current of the photo diode and the dark current of the photodiode, and

is the discharge

tin1e, i.e. the time duration from the start of the discharge to the time instant at which
Vpd

= Vref·

In one integration tin1e

Tint,

the number of the pulses at the output of the

comparator is contained from

(3.12) The average current of the photo diode, denoted by
Ipd,

can therefore be obtained from (3.12).

Cpd lpd = ( Vdd- Vref )-r:-Npixez- Id. int

(3.13)

It is seen from (3.13) that the average photo current of the photodiode is directly proportional

to the nun1ber of the pulses at the output of the comparator (frequency modulation). The higher the reference voltage, the lower the average photo current. Also, the longer the

integration time, the lower the average photo current of the photodiode. The first in-pixel PFM image sensor was proposed by Yang in 1994 [34), and illustrated in Fig.3.10. The pixel structure is very sirnple, with a photodiode, a reset nMOS, and a four-stage inverter chain as a con1parator to provide enough delay for resetting the photodiode. Initially, the photodiode is reset to ground. Incident light generates a photo current and causes the voltage at the photodiode node to increase. When the voltage reaches the threshold of the first inverter, the output of the inverter chain flips after certain delay and the photodiode is reset. The pulses are counted by an off-chip counter. The measured pulse frequency ranges from 1Hz with no light to 1 MHz under high illumination, and thus around 120 dB dynamic range was achieved. Fig.3.11 shows the DPS proposed in [3]. The ADC is also a chain of inverters. The photodiode resetting mechanism is different from [34], as the reset current is adjustable with
27

PO

Vpd

Figure 3.10: Schernatic of DPS proposed in (34]. the value of the eighth bit of the counter.

1-bit ADC
8-bit counter Do--- D1

Vpd

PD

Figure 3.11: Schematic of DPS proposed in [3]. The authors of [7] designed an address-event reorientation (AER) digital pixel sensor, which mimics the processes of biological vision. In each pixel, a spike generator circuit is implen1ented instead of the comparator and in-pixel men1ory of the PFl\II architecture. The pixel outputs a spike to arbitration circuit once the photodiode voltage reaches the threshold voltage, after then the arbitrator sends the address information out of the pixel array. However one issue encountered in the AER-based imagers is the ternporal jitter due to event collision, which decreases the SNR.

28

3.3

Summary

This chapter has reviewed the main ADC architectures first. The in-pixel ADC architectures of CMOS digital pixel sensors have been discussed, particularly the PWM and PFM ADCs. In the following three chapters, three improved Pulse-Width-Niodulation and Pulse-Frequency-Modulation DPSs will be presented in detail.

29

Chapter 4 2-Stage Men1ory Write Schen1e for Pulse-Width-Modulation Digital Pixel Sensors
The principle of Pulse-Width-l\!Iodulation has been discussed in the last chapter. This chapter presents an in1proved PWl\II architecture with high resolution. Section 4.1 discusses the relationship between dynamic range and resolution. Section 4.2 presents the proposed 2-stage memory write scheme for PWM DPSs. In Section 6.2, the implementation is detailed. The Sections 4.4 presents the simulation results for the new architecture. Section 4.5 concludes this chapter.

4.1

Resolution of Pulse-Width-Modulation Digital Pixel Sensors

In Chapter 3, the mechanism of PWM was discussed. The relationship between the resolution and the in-pixel memory size will be investigated at here. The dynamic range of PWM ADC is defined as [16]

DR=
where The
T max

20log(TTm~x )'
m~n

(4.1) is the minin1um integration time.

is the maximum integration time and

Tmin

Tstep

of the counter is determined from

30

T

_ Tmax- Tmin
step -

2N

'

(4.2)

where N is the number of the bits of the in-pixel memory. Eqs.(4.1) and (4.2) show that for a given dynamic range, the larger the number of bits of the in-pixel memory, the smaller step
Tstep

and the higher the resolution of the pixel.

Conventional PWM digital pixels suffer from the drawback of a low resolution. This is because the constraint of fill factor sets the limitation. To increase the resolution of the pixel, the number of data bits of the in-pixel must be increased. This will increase the pixel size or equivalently lower the fill factor if the pixel size is fixed. Secondly, because the number of the data bits of the in-pixel memory is the same as that of the global counter, the silicon area for routing the interconnects for these data bits is large. The data communication between the pixel and the global counter is also high. Due to these two constraints, most reported PWM digital pixels use only a 8-bit in-pixel men1ory [17, 16].

4.2

Pulse-Width-Modulation Digitial Pixel Sensors with 2-stage Memory Write Scheme

In this section, a novel 2-stage memory write scheme is proposed to lower the number of the bits of the in-pixel memory and reduce the silicon area needed for routing data lines from the global counter to pixels without sacrificing the resolution of the pixel. To evaluate the efficiency of the proposed schen1e, a 64 x 64 prototype image sensor with a 12-bit resolution is implemented. We first introduce the concept of Cycle. A cycle c01nposes of sixteen continuous states in Gray codes to take the advantage of their low switching activities. Fig.4.1 tabulates the first 64 states of a 12-bit Gray code counter. These states are grouped in 4 cycles. If we neglect the lower four bits of each state, the difference among these four cycles only exists in the upper eight bits. It switches only once every 16 states at the end of each cycle. This observation indicates that a write operation from the global counter to the in-pixel memory can be split into two separate write operations : one to write the lower 4 bits and the other 31

to write the upper 8 bits. As an example, consider two pixels denoted by PD1 and PD2. The value of the pixels PD1 and PD2 are 11111100_0000 and 11111100_0100, respectively. Both of them belong to Cycle 2. When the content of the global counter reaches 11111100_0000, PD1 stores the lower 4 bits 0000 of the counter. The counter continues to count while the upper 8 bits of the counter remain unchanged. When the counter reaches 11111100_0100, the voltage of the pixel PD2 drops below its reference voltage. The output of its comparator activates the in-pixel memory and stores its lower four bits of the current content of the counter 0100. Both pixels do not have to record the upper eight bits until the end of Cycle 2 at which the upper eight bits of the counter becorne 11111100.
C:ycle 0 111111111111 111111111110 111 111 1111 00 111111111101 1111 111 11 00 1 111111111000 111111111010 111111111011 111111110011 111111110010 1111 11110000 111111110001 111111110101 111111110100 111111110110 111111110111 Ci:cle 1 111I 11 I 00 111 111111100110 11111 1100 100 111111100101 111111 I 0000 1 111111100000 11 11 1 11 000 10 111111100011 111111101011 111111101010 111111101000 111111101001 111111101101 111111101100 111111101110 111111101111 Cycle 2 111111001111 111111001110 11111100 1100 111111 00 11 0 1 111111001001 111111001000 111111001010 111111 00 10 11 111111 0000 11 111 11 10000 10 111111000000 1I 111 100000 1 111111000101 111111000100 111111 000 11 0 1I 11 11000 111 Cycle 3 111111010111 111111010110 111111010100 111111010101 111111010001 111111010000 111111010010 1 11 1110 100 11 111111011011 111111011010 111111 0 11 000 1 111110 11 00 1 111111011101 1 111110 111 00 111111011110 111111011111

Figure 4.1: First 4 cycles of 12-bit Gray-coded counter. The proceeding analysis demonstrates the data write operation of individual pixel can be perforn1ed in two separate steps: · Once the comparator flips, the lower 4 bits of the global counter are written into the 4-bit in-pixel n1ernory imrnediately.

32

· The upper 8 bits of each pixel can be moved out of the pixel array and updated at the end of the cycle. In order to record the cycle number, we introduce one more rnemory cell called cycle

register in each pixel, which samples the cornparator output (Vcomp) at the end of each cycle.
If its value is set to logic 1 for the first time, the cycle number will be written into the
corresponding out-pixel memory, and the main controller will forbid further writing access before the current frarne is finished. As a result, only a 5-bit n1emory is required to be integrated in the pixel for a 12-bit resolution, resulting in a large reduction in the pixel size and a significant improvement in the fill factor. Because the value of the cycle register is updated once every cycle, it must be scanned out before the new cycle number is generated. The timing requirement for scanning the cycle register out of the pixel array sets the design tin1ing constraint. For a W x H pixel array with a N-bit resolution, if we integrate i-bit in-pixel memory, one cycle period can be obtained from
(4.3)

The average scan out time for the cycle register is derived
T _
scan -

Tcycle

min(W, H)

2i min(W,H).
Tstep X

( 4.4)

The use of min(W, H) indicates that the scan-out chain can be implemented in either column level or row level based on which one has the minimum number of cells. The 2-Stage memory write scheme must find a balance between the number of the bits of the in-pixel memory and the average scan time such that the speed for scanning the cycle register is not too high.

4.3

Implementation

The proposed PWM image sensor was designed in TSMC-0.18fLm 1.8V CMOS technology. The pixel array was designed at the transistor level while the control logic including the global counter was designed in Verilog frorn Cadence Design Systerns.

33

The configuration of the PWM DPS with the proposed 2-stage memory write sche1ne is shown in Fig.4.2. In Fig.4.2, the cycle register RO is connected to a column-based Pixel

Ready signal. RO is implemented as a high-level sensitive latch to minimize the number of
transistors inside the pixel. The 4-bit in-pixel memory is responsible for storing the lower four bits of the global counter Data Bus[0:3].
RMRE [n] Rst

Pixel cell

4-bit

l
RO

L.-~-....

pj .-+ pj

0

L __ _____r-~--~~

memory

0

to ~

4
Ma

!..;.)

~-----tD

EN Q R

.---Pixel ready

Cycle clock

RRRE [n]

T

Figure 4.2: Configuration of PWM digital pixel with a 2-stage mernory write schen1e. Its timing diagram given in Fig.4.3. In Fig.4.3, we assume that the pixel reaches its reference voltage at time instant
Tpd

at which

Vcomp

switches from LOW to HIGH. In the

mean time, the memory JVIEM[0:3] stores Data Bus[0:3]. The content of RO will not be latched until the time instant
Tcycle

at which Cycle Clock is at its falling edge, while the cycle

number also changes. The global signal Cycle Clock is at the end of each cycle so that the latch RO will sample
Vcomp

once every cycle. Eq.(4.4) can be modified to
T
scan

= Tstep X

2i H

Tcclk

,

(4.5)

where

Tcclk

is the pulse width of Cycle Clock and we assume that H :::; W. After Cycle Clock

is LOW, a colu1nn-level signal Row Register Read Enable {RRRE) enables the readout of RO

34

Rst

I
I I

I

Vpd Vref

I I I

I

------------------------------------------ -----r-- ---------------------I

I I

I
I

I
I I I

I
I

Vcomp Data Bus[ll :4] Data Bus[3:0] MEM[3:0] ____.___ c_y_c_l_eo ______
1111

I I
I I

~-----------------------*~----C~y~c_l_e_l_
1~0

II II

Cycle Clock

~

RO RRRE[O]

n
· ·

RRRE[n]

n
·

RRRE[M]

·rr

Pixel Ready Tpd Tcycle

n

Figure 4.3: Timing diagran1 of the proposed 12-bit PWM DPS array with a 2-stage memory write scheme. n is the number of columns of the array.

35

that asserts Pixel Ready during every cycle. Once the main controller detects Pixel Ready, the control logic will write the cycle number into the out-pixel memory and forbid further writing access. The W columns of RRRE should not be overlapped so that bus hazards on

Pixel Ready can be eliminated. After the sensing n1ode is finished, the lower 4-bit memory of
each pixel will be scanned out with Row Memory Read Enable signal (RMRE) and combined with the cycle number in the out-pixel rnemory to yields
Tpd·

The schematic of the reset transistor and the comparator is shown in Fig.4.4, while the width of the transistors is tabulated in Table.4.1. The channel length of all transistors length was O.l811m except that of the reset transistor Mr, which was 0.5/Lm. The reference voltage,
Vref

is set to 1.5V, while

Ybiasl

is set to 0.4V such that transistors Mb1 and Nh2 are biased

in the sub-threshold region to reduce the power consurnption of the pixel.
Vdd

Figure 4.4: Schematic of PWM digital pixel sensors (men1ory is not shown).

Table 4.1: Transistor width of PWM digital pixel sensors (memory is not listed). Transistor Width (urn) M,. 0.5 0.5 M1 0.5 M2 0.5 M3 0.5 M4 1.5 Ms 0.5 M6 0.5 M1 1.5 Mb1 0.5 Mb2

36

The 4-bit in-pixel men1ory and cycle register RO are implemented using the 3T dynan1ic memory cells proposed in [17] to increase the fill factor , as shown in Fig.4.5. The transistors size is shown in Table.4.2. The size of !V/2 is chosen such that no refresh mechanism needed during operation.

Figure 4.5: Schematic of dynamic memory.

Table 4.2: Transistor size of dynamic memory. Transistor Width (JLm) Length (JLm) 0.25 0.18 M1 1 1 M2 0.25 0.18 M3 To assess the performance of the proposed 2-stage write scheme, an ideal current source is used to model the photo current of the pixel. The target dynamic range is from 100 nA to 1 pA, corresponding to 100 ns to 1 ms of the integration time. The ti1ne step
Tstep

of the

counter is obtained using (4.2) and is set to 1 J.LS. To simplify the design, the pulse width of the cycle clock
Tcclk

is set to

T s tep·

The cycle time

T cycl e

and the average scan out time

T scan

are obtained fron1 (4.3) and (4.5). The pulse width of RRRE is set to 200 ns.

4.4

Simulation Results

An ideal current source of 300 pA is used to model the photo current of the pixel. The design is analyzed using Spectre with BSIM3V3 device models and Verilog-XL co-simulation from Cadence Design Systems. Fig.4.6 plots the waveform of the critical nodes of the pixel.

37

'0

2 15 20 25 30 35 40

~~

0 0 a.2

10

>0
UJ ~

§I 0

0

10

15

20

25

30

35

40

C'i'2 ~, 0 0
I

10

15

20

25

30

35

40

~:~
~

0 0

:
5

[
10 15

:
20

:
25

:
30

:
35

j
40

Hl 0 n
~

0 0

:
10

[

:
15

:
20

:
25

:
30

:
35

I
40

!:~ 0

H
0
0 2

t

~

0 0

o:o 0 t5 [
5 10

:
15

:
20 25 30

:
35

I
40

:

0

:
10

15

:o

20

0

:
25

:
30

0

:
35

~

40

~~
0 " 0 ~ 2 Q) 0 10 15 20 25 30 35 40

a::, ~0
[

10

15

20

25

30

35

40

H
0

~

:
10

:
15

~

20 Time[us]

~

j
30 35 40

25

Figure 4.6: Simulation results.

38

The comparator flips at 11.79 p,s and the internal memory stores the low 4 bits 0011 from the counter. RO switches at Cycle 1 (15.5p,s) representing the upper 8-bit 11111110. The combination of the cycle number and the internal me1nory yields the final result 111111100011. The layout of the proposed pixel is shown in Fig.4.7. The fill factor is 20%. Table.4.3 corn pares the resolution, fill factor, and size of the proposed pixel and those of cited work.

~ , ,:JI!i E:iJ~:i j , '~,~il!11; :~: ~~l~~~}~!j"~ ~Lt ~_-:~_.:,. :_'-~",~.;-:~·>~: ·::.:..;~l~--~- :~- 'h<l>~l
..
::~~>::~: ~. :.-~·

Figure 4. 7: Layout of the proposed PWM digital pixel sensors (Pixel size : 9p,m x 9p,m).

39

Design This work

[17] [16]
[30]

Table 4.3: Performance comparison. Resolution Technology Pixel Size 12-bit 0.18p,m 9p,m x 9p,n1 8-bit 0.18p,m 9.4p,n1 x 9.4p,n1 8-bit 0.35p,m 45p,m x 45p,m 10-bit 0.18p,m 23p,m x 23p,n1

Fill-factor 20% 15% 25% 25%

4.5

Summary

In this chapter, the relationship between resolution and dynamic range of CMOS PulseWidth-Modulation digital pixel sensors has been discussed first. A 2-stage memory write scheme has been presented to improve the resolution of PWNI DPSs. The architecture and design of a new 12-bit Pulse-Width-Niodulation digital pixel sensor with the proposed 2-stage memory write scheme have been presented. The proposed DPS offer an improved fill factor to 20% by only integrating 5-bit men1ory totally in the pixel to achieve 12-bit resolution. The removal of a large portion of the n1emory significantly reduces the silicon area of the pixel and data traffic between the pixel and the global counter. Implemented in TSMC-0.18p,m 1.8 V CMOS technology, the effectiveness of the proposed DPS is validated by sirnulation.

40

Chapter 5 Pulse-Frequency-Modulation Digital Pixel Sensors w-ith In-pixel An1plification
From the circuit perspective, Pulse-Width-Modulation and Pulse-Frequency-Modulation share some commons. Both architectures require an in-pixel con1parator to determine the time instance at which the voltage across the photodiode drops below a user-defined reference voltage. A number of memorable cells are integrated in both types of pixels. However differences still exist. PWM DPSs use the output of the in-pixel comparator as a write enable signal to write the value of a global counter located outside the pixel array into in-pixel internal memories. The content of the in-pixel memories is then read in the read phase. The performance of PW.NI DPSs is affected by the following factors : · A high speed clock is needed to drive the global counter. · The time delay from the output of the global counter to each pixel will introduce an error on the final value of the in-pixel memories. · The number of the bits of the global counter. When a large number of bits are used, the silicon area for routing these data lines from the global counter to each pixel will be costly. · The load of the global counter is large as its output will be written into all in-pixel 41

n1emories. PFM DPSs avoid these difficulties by replacing the global counter of PWM DPSs with in-pixel counters that are controlled by the output of the in-pixel comparators. The in-pixel counter of each DPSs pixel increases its value each time the voltage of respective the photodiode drops below the reference voltage (30]. The level of illumination is represented by the number of times the output of the comparator flips for a given integration time. A main drawback of PFM DPSs is that when illumination is low, the integration time has to be set long enough in order to have a good resolution. In (26], an adaptive high-gain column-level amplifier is employed to an1plify the low signal before analog-to-digital conversion. This approach, however, does not have in-pixel ADC. This chapter proposes new PFIVI DPSs with in-pixel amplification to in1prove the resolution of PFM DPSs in the low illumination condition without an over-long integration time. Section 5.1 describes the proposed PFM scheme with in-pixel amplification. Section 5.2 details the circuit implementation. Simulation results of PFIVI DPS with in-pixel amplification is presented in Section 5.3. The chapter is concluded in Section 5.4.

5.1

Pulse-Frequency-Modulation Digital Pixel Sensors with In-pixel Amplification

·----------............:......O:..=..-..t

Cpdl

Vcomp . >-___.--~N-bit

Counter

PD-

Figure 5.1: PFIVI digital pixel sensors with in-pixel an1plification and aN-bit counter. The configuration of the proposed PFM digital pixel sensor with in-pixel amplification

42

is shown in Fig.5.1. Assume that the junction capacitor of the photodiode is charged to and the output of the amplifier Vin is set to Va initially. During the sensing phase,

Vdd

(5.1)
where Av is the voltage gain of the amplifier. The pulse width at the comparator output is obtained from

Td=-----P (Jpd + fd)Av '
where

I

(Va -

v:e f )Cpd

(5.2)

v:ef

is the reference voltage. If we set

(5.3)
T~d

can be expressed as

(5.4)
It can be seen from (5.4) that the pulse width of the PFM DPSs with in-pixel amplification
1 A
v

is

that of the corresponding PFM DPS without in-pixel amplification. If the two PFM

digital pixel sensors have the same number of pulses at the output of the comparator, i.e.

1

Npixel

=

Npixel

=

Tint T. = pd

Tfnt T1 ' pd

(

5.5)

then the new integration time Tfnt of the DPS with in-pixel a1nplification is obtained from

Tint =

1

Tint T~d r,
pd

Tint A .
v

(5.6)

The integration time of the DPS with in-pixel amplification pixel is only

A

1
v

that of the

corresponding DPS without in-pixel amplification. Therefore the dynamic range is improved.

43

5.2
5.2.1

Implementation
Amplifier and Comparator

The schernatic of the proposed PF1VI DPS with in-pixel arnplification is shown in Fig.5.2. In Table.5.1 , the transistors width is presented. The lengths of transistors are set to 0.18f-Lm , except Lr

= O.Sf-Lm.

The photodiode is a n+ /p-substrate diode with dimensions 13 f-Lm x

11 p,m. The amplification stage consists of Ma, Mb, and Me. Ma is a source follower to shift the voltage of the photodiode Vpd down by one threshold voltage approximately. Nh is a comn1on-gate amplifier with Me the current source load and voltage gain

(5.7)
where 9rn,b is the transconductance of Mb , r o,b and r o, c are the output impedance of Mb and Me, respectively. In our design, the gain of the amplification stage is set to 20 dB the pulse width of the output of the comparator of the 1 DPS with in-pixel an1plification is - times of that without in-pixel amplification. Following 10 the amplifier is a conventional PMOS two-stage con1parator. The inverter drives the in-pixel counter and the reset transistor Mr. approximately. For the same
~ V,

Vcomp

Figure 5.2: Simplified schematic of digital pixel sensors with in-pixel amplification (counter is not shown).

44

Table 5.1: Transistor width of PFIVI digital pixel with in-pixel amplification (counter is not listed). Transistor Width (J-Lm) 0.5 Mr 2 Nfa 4 Mb 0.8 Me 2 M1 2 M2 1 M3 1 M4 2 M5 1 M6 2 M1 2 Mb1 4 Mb2

5.2.2

Counter

An area-efficient counter is strongly desired because it has a direct in1pact on the fill factor and pixel size. Illustrated in Fig.5.3, the Linear-Feedback-Shifting-Register (LFSR) can be used as a counter, which only requires 10 registers and a two inputs exclusive NOR (XNOR) gate. The simple connections in Fig.5.3 also indicate that the layout can be very compact. The other benefit of adopting LFSR as a counter is that the content of the registers can be read out by shifting them to the highest register (Q 9 ), therefore additional readout circuit is not required. The n1ain drawback of LFSR is that it does not increase its value in a binary sequence or Gray code, therefore a digital decoder is required off the pixel array.

Figure 5.3: Schematic of 10-bit LFSR. In Fig.5.4, two more MUXs are inserted for modes switching. The input signal SEL is

45

the mode switching signal. If SEL is high, the counter is in the counting mode. If SEL is low, the vaule of LFSR is read out. EXTCLK is the clock signal in the data readout mode, and SERIALIN is the data input port to reset the counter during the readout phase.

PIXELC LK A EXT C LK

lll--4----------------_..___. . ___.. __. . ____,

MUX

Figure 5.4: Schematic of modified 10-bit LFSR as a counter for PWM pixel.

5.2.3

Register

Compared with other D flip-flops architectures, a single-clock 6 transistors dynamic D flip-flop requires the minimun1 number of transistors. A drawback of the dynamic D flip-flop is its need for a refresh n1echanism to prevent data loss when the illumination is low and there is no clock activities for a long time. In [30], the authors added a refresh circuit to prevent the counters from losing their bit values. However in that design , the counter will increase with every refresh pulse, which decreases the dynamic range. A modified dynamic D flip-flop shown in Fig.5.5 is used in this design. With a weak transistor M 7 (small channel width), the charge loss of the second latch is reduced. The transistors width is tabulated in Table.5.2.

5.3

Simulation Results and Discussion

For the purpose of comparison, the PFM DPS proposed in [30] is also implemented with a two-stage nMOS comparator. The dimension of the photodiode and reset transistor are set to be the same in order to have a fair comparison. Both DPSs are implemented in TSMC0.18~-Lm

1.8 V CMOS technology and analyzed using Spectre frmn Cadence Design Systems

46

Q

Figure 5.5: Schen1atic of D flip-flop. Table 5.2: Transistor width of D flip-flop. Transistor Width (t-tn1) 1 M1 1 M2 0.5 M3 0.5 M4 1 Ms 0.5 M6 0.25 M1 with BSIM3V3 device models. Ideal current sources are used to model the current of the photodiodes. Fig.5.6 plots that the voltages of two PFM pixels with a 10 pA photo current and 700
f-LS integration time. The bias voltages are Vbias=1.3 V, Vbp=0.34 V, and Vbn=0.55 V. The

reference voltage of the pixel sensor without in-pixel a1nplification is set to 1.6 V. VreJ of the pixel with in-pixel amplification is 0.2 V and Va is 1.0 V. As can be seen from the figure that the output voltage of the comparator Ycarnp of the pixel with in-pixel amplification has 10 pulses with pulse width 69.5 f-LS. The pixel without in-pixel an1plification has only 3 pulses with pulse width 222.5 f-LS. The integration time of the pixel with in-pixel an1plification is 3.2 times shorter. The voltage gain of the amplification stage is 22 dB approximately.

47

~ ":
1.6L__ _ __ j __ _ _
____~

(~
_ _ _ _--L.__ _ ___j_ _ _ _ _...J..___ _ _--L.._ _ __ _ . . J

0

I 00

200

300

400

500

600

700

~:
0 I 00 200 300 400 500 600

(~
700

~jI
0

I : I :I I : I :I I: I : I
I00 200 300
Time [us]

400

500

600

700

~

(o)

>
>

~-g_

1.7

(d)

I

I

I

1.5 f-

-

~
>u
~
1 f0.5 0
I I I
I I

- (e)

0

100

200

300

400

500

600

700

Time [us]

Figure 5.6: Simulated waveform of voltages of DPSs with and without in-pixel amplification. Figures (a), (b) and (c) show the signal of PFM with in-pixel amplification. Figures (d) and (e) show the signals of PFM without in-pixel amplification.

48

The whole pixel with 10-bit LFSR is also verified through simulation. Fig.5.7 is a part of simulation results with 10 nA photo current.

~

}·1.6~

2

~
0.1 0.2 0.3

~= >- 0
u
UJ

lu
0

0

0.4

0.5

:J

0.6

0.7

0.8

E
:n

0.9

E

r--1
I

:
0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9

..J ..J

~

0::

><

&~I

~I0 n
0

:
0.1

n:
0.2

0

:
0.3

n

:
0.4

n

rn
0.5

n: n
0.6 0.6

: n
0.7 0.7

~
0.9 0.9

nI

0.8

I
0.1 0.1

II

:
0.3 0.4 0.5 0.8

n
0.6 0.7 0.8

0.2

a~I
0 ~I
&0

:
0.2

0

OJ

0.4

0.5

:I

0.9

:
0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.1 0.2 0.3 0.4 0.5 0.6 0.7

:
0.8 0.8

1:
0.9

0 2 0 2 00 0 2
'<t

0.9

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

:so
0 2 CJO 0 r-- 2 CJO 0 00 2 CJO 0 o- 2 CJO 0
>.()

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

Time [us]

Figure 5. 7: Waveform of proposed DPS with 10 nA photo current. The dynan1ic range of two PFJVI DPSs are con1pared in Fig.6.9 with the integration time set to 250 J..LS. The dynamic range of the proposed PFM DPS is approximately 100 dB whereas that of the conventional PFM DPS is only 80 dB. The upper bound of the dynamic range of the two DPSs is approximately the same. This is because at high illumination, the voltage gain of the an1plification gain decreases.

49

PROPERTY OF RYERSON UNIVERS ITY liBRARY

10 ~------~--------~--------~--------~------~

6

Conventional PFM DPS

PFM DPS with pre-amplification

10 ~------~--------~--------~--------~--------~

1

10°

10

1

10

2

10

3

10

4

10

5

Photo current [pA]
Figure 5.8: Dynamic ranges of proposed PFM DPS and that of conventional PFM DPS for 250 f..LS integration time.

50

Corner analysis is also performed to evaluate the performance of the proposed PFM DPS. Fig.5.9 shows the dynamic range of the proposed DPS at process corners. The bias voltages

Vbn and Vbp are adjusted to ensure that the dynamic range remains nearly unchanged. The
bias conditions are presented in Table.5.3. This observation reveals that by a proper change of the biasing conditions, the effect of process variation can be n1inimized.

I 0 1 L_____.____._-L......J.---'--'-w..l..._---'--......____.._----'--'-....I....L..LL__-----'----'-----'---'---'-'-J...J...l_-__.__......____.._--'---'--'--'--'-L__------'------'-----'---'--L...J.....L.J..J 1 2 3 5 to" 10 10 t0 to· 10

Photo currcnt[pA J

Figure 5.9: Dynamic range of proposed PFM DPS for 250 f..LS integration time at process corners.

Table 5.3: Bias conditions at process corners. Codition VJ,.,(V) Vhn (V) 0.34 0.55 TT 0.52 0.45 FF 0.37 0.45 FS 0.32 0.64 SF 0.23 0.55 ss

51

The layout of the PFM digital pixel sensor with in-pixel amplification is shown in Fig.6.12. The size of the pixel is 25 J.Lm x 23 J.Ln1 with the fill factor of 25% , which is comparable to the pixel reported in [30).

Figure 5.10: Layout of PFNI pixel with in-pixel amplification.

52

5.4

Summary

The characteristics of Pulse-vVidth-Modulation and Pulse-Frequency-Modulation have been discussed first. New pulse-frequency-n1odulation (PFM) digital pixel sensors (DPSs) with in-pixel amplification has been proposed to expand the dynamic range of the sensor at the low illumination. It has been shown that the proposed PFM DPS offer the attractive characteristics of a reduced integration time when the level of illumination is low with the fill factor cornparable to that of PFM DPS without in-pixel amplification. Simulation results of PFl\!I DPS implemented in TSMC-O.l8J.Lm 1.8 V Cl\IIOS technology have shown that the dynamic range of the DPS with in-pixel amplification is 20 dB larger than that without in-pixel amplification.

53

Chapter 6 Wide Dynamic Range Pulse-Frequency-Modulation Digital Image Sensors w-ith In-pixel Variable Reference Voltage
A main drawback of timing domain encoding pixels such as PFM and PWM, is that the integration time has to be set long enough so that the counter can capture low-illumination. Techniques to improve the conversion speed is emerged in recent years. For image sensors with column-level A/D converters, global ran1p-up reference voltage generators were applied

[25, 27). The block diagram of multiple-ramp single-slope (MRSS) ADC architecture in [27) is presented in Fig.6.1. The A/D conversion is performed by n1eans of a number of
comparisons between a dynamic reference signal and the analog input voltage. Measurements demonstrated that the conversion speed of an MRSS ADC is 3.3 times that of a single-slope ADC [27]. In [18], Law et al. introduced a global ramp-up reference voltage generator for PWNI pixels. By integrating a 4-level reference voltage scheme, the integration time is reduced by 70%. Directly applying this approach to PFM pixels, however, requires the distribution of this global rarnp-up reference voltage to all pixel cells, increasing silicon cost and the con1plexity of routing. This chapter presents new PFlVI DPSs with an in-pixel variable reference voltage gener-

54

·- -- ·------------ ----.
m :
I

:·----------------: :··---------------:
:
'

V i nl

Y in~

:
I ·

; :
· ·

:
I
0

:
·

multiple ramp

-···T·-·-·····r·r·-·-r··--·-···--n-··r·-·r-··-· ······r-·------

Digital out

Figure 6.1: Diagram of MRSS ADC architecture [27]. ator to increase the resolution of the pixel, especially when the level of illumination is low. As compared with the PFM DPS proposed in [30] and PWM DPS with global variable references proposed in [18], the proposed PFM DPS offer the following attractive characteristics

· The integration tin1e can be significantly reduced by ramping up the reference voltage when the level of illumination is low. · No global ramp-up reference voltage generator is needed. The con1plexity of routing and silicon consumption are greatly reduced. · The additional hardware cost of imple1nenting the proposed PFM DPS is only a capacitor and two static inverters. The fill factor of the proposed PFM DPS is thus comparable to that of the PFM DPS proposed in [30] , however, with a significantly improved dynamic range. The chapter is organized as follows : Section 6.1 describes the proposed PFM DPS. Section 6.2 details the pixel-level implementation. The perfonnance of the proposed PFM pixel is compared with that of the conventional PFNI pixel. The dynamic range and integration
55

time of the proposed PFJVI DPS and those of conventional PFJVI DPS are also compared in the section. Section 6.4 concludes the chapter.

6.1

Pulse-Frequency-Modulation Digital Pixel Sensors with In-pixel Variable Reference Voltage

For PFM DPS with a constant reference voltage, the relationship between the average photo current of the photodiode, and the number of the pulses at the output of the comparator is presented in (3.10) as
Tint (Ipd Id)~nt Npix el = - = Tpd (Vdd- Vref )Cpd.

+

(6.1)
Yref,

It is seen from (3.9) and (6.1) that the larger the reference voltage
pulse width
Tpd,

the smaller the

the higher the number of the pulses

Npixel·

Note that the reference voltage

must be set to a value lower than the supply voltage. The reference voltage can not be set too high. This is because in high illumination conditions, a high reference voltage will result in reset pulse width that is comparable to the photodiode discharging time, introducing a nonlinear effect [30]. Also, in low illumination conditions, a low reference voltage will result in an over-long discharge time of the photodiode, reducing the dynamic range of the DPS. It becomes evident that a variable reference is desirable as it offers the advantages of a small discharge time in low illurnination conditions and reduced nonlinear effect in high illun1ination conditions. The configuration of the proposed PFM DPS with in-pixel variable reference generator is shown in Fig.6.2. As cmnpared with the conventional PFM DPS shown in Fig.3.8, the proposed PFM DPS employ a reference capacitor
Cref

to generate a ramping reference

voltage. To see how this irnage sensor works, assurne that the output of the co1nparator is Logic-0. The reset pMOS transistor is ON and the junction capacitor of the photodiode is charged to
Vdd·

The inverter in the reference voltage path forces

Mb

to turn on to reset

Cre f·

The output of the comparator switches to Logic-1 and the reset plVIOS transistor switches off.
Vpd

starts to drop due to illumination. The reference capacitor
56

Cref

is charged due to

the turn-on of Nla. As a result , VreJ arises. When

Vpd

= Vref , the output of the comparator

switches to Logic-0. This process repeats. The timing diagram of this process is shown graphically in Fig.6.3.

Cref

Figure 6.2: PFM digital pixel with in-pixel variable reference voltage.

,
II
I I

,
I
I I
1 I
I I

,
I
I I
1 I
I I

, vpd
I I
I
I I
1 I
I I

I

I

I

I

I I
I I

I

I I I I II

: 11 : I

1

1

1

I

1 1

:II
II

:
I I II

:
I I

y

ref

II

II

II

I

·I
(a) High level of illumination (b) Low level of illumination

Figure 6.3: Timing diagram of the proposed PFJ\II DPS with in-pixel variable reference voltage.

57

It becomes evident that the in-pixel ran1ping reference voltage will increase the number

of pulses at the output of the comparator for a given integration time, specially at low illumination. This increases the dynamic range of the pixel cell. Also note that by varying the value of the reference capacitance C,.e f, the dynamic range of the pixel cell can be changed. This offers the progran1mability of the dynamic range of the proposed DPS.

6.2

Implementation

The schematic of the proposed PFM DPS is shown in Fig.6.4 where the in-pixel counter is ornitted for clarity. The transistors width is presented in Table.6.1. The length of transistors is set to O.l8J.Lm, except L,. = 0.8J.Lm.

Ycomp

Cref

I
Figure 6.4: Simplified schematic of proposed PFM DPS. The photodiode is i1nplemented using n+ /p-substrate with its dimension lOJ.Lm x lOJ.Lm. For the purpose of comparison, the PFM DPS proposed in [30] is also implemented with the same transistor/ diode dimensions. Both DPSs are implemented in TSMC-O.l8J.Lm 1.8V CNIOS technology and analyzed using Spectre simulator from Cadence Design Systen1s with

58

Table 6.1: Transistor width of PFM digital pixel sensors with a variable voltage reference. Transistor Width (tJ,m) 0.5 Mr 2.5 M1 2.5 M2 1.25 lV£3 1.25 M4 5 Ms 1 M6 2 M7 2.5 Mbl 2.5 Mb2 0.5 Ma 0.5 Mb BSil\!I3V3 device models. The supply voltage is set to 1.2 V, while the reference voltage of the conventional PFM DPS is set to 1.18 V. The bias voltage Vb is set to 0.4 V such that transistors Mb 1 and

Mb 2 are biased in the subthreshold region to save the power. The capacitor is selected
as 50 fF, considering the pixel size constraint . The photo currents are modeled as an ideal current source. The 10-bit LFSR in Chapter 5 is used here as the counter and the transistors dimensions are not modified.

6.3

Simulation Results

Fig.6.5 shows the simulation results of the two PFM DPSs with a low photo current , 1 pA. Because the capacitor Cref is charged to Vdd, 1.2 V. The comparator of the PFM DPS with a variable reference voltage outputs 4 pulses while the PFM DPS with VreJ = 1.18V only generates 1 pulse in the given tirne period of 200 JLS. The pulse width of the proposed PFM DPS is 50.57 JLS whereas that of the PFM DPS with VreJ = 1.18 Vis 159.2 JLS.

59

1.5

y~
~ >'"@.

>'&. 0.5

0

I
0 20 40 60

I I I I I I

V , variable ref.
pd

r~ !
I
80 100 120

I

.,---I I I I I I I I

I

I I I

vrcf' variable ref.

(a)

140

160

180

200

1.5

I

~

8

a. E

> 0.5

v
0 20 40 60 80

V
comp

, variable ref.

(b)

0

100
Time [us)

120

140

160

180

200

1.5 . - - - r - - - - . - - - - - , - - - - - - - , - - - - - , - - - - - - , - - - - - - . - - - r - - - r - - - - ,

0.5

--~
Vpd with v,. t I . 18V

- - - - - - - -

,J:"c--::_:-:_:-_~_._.,_---J

I I
I I
I I

v comp With v,cr=I.I8V

.

~I
I
I
I

I I

(c)

I I I I

OL---L--~L--~--~--~--~--~---L---L--~

0

20

40

60

80

100 Time [us]

120

140

160

180

200

Figure 6.5: Simulation results with 1 pA photodiode current. Figures (a) and (b) show the signals of PFM with a variable reference voltage. Figure (c) shows the signals of PFM with a constant reference voltage.

60

Fig.6.6 plots the voltages of two PFM DPSs when the diode photo current is 2 p,A. As can be seen that the output of the comparator when Vref
= Vpd
Vcump

of the proposed PFM DPS toggles

whereas that of the PFl\!I DPS with the 1.18 V reference voltage is locked

at Logic-0 after the first switch.

~

!! >_

I

(a)

>8. 0.5:

10

1.5.-----.-----.------.---,------,-----,------,

~

J

(b)

0.5

V

cnmp

, variable ref.

Time [nsJ

1.4r-----.--------.-------.---.------r--------.-----,

1.2 - - - - - -

~

0.8
(c)

>~
;""&. 0.6
0.4

0.2

0~--~-~~----~------~----~----~----~

0

10

20

30

40

50

60

70

Time[ns]

Figure 6.6: Simulation results with a 2ttA photodiode current. Figures (a) and (b) show the signals of PFl\!I with variable reference voltage; Figure (c) shows the signals of PFM with constant reference voltage.

61

The charging current or reset current of the two PFNI DPSs are compared in Figs.6.7 and 6.8.

1

vp d

II

1

\, '/(_,,________ ~'
__,,,
I I I I I I

'

,---------------------------

/

I
I I II

1

o~--~~~--~----~--~--~--~o

0

I0

20

30 Time[ns]

40

50

60

70

Figure 6. 7: Photodiode charging current and voltage.

Vpd

of PFM DPS with constant reference

15

1.5

Vpd

12

I I I I
I I

I I

'

-----

I
I I I I

I

-- _(_

I

I I

I I

I
I I

-----

1.2
I I

I I

~

9

I I I
I I I

I I

0.9

I

~
I I I I
I I

~ 6 ~

I I I
I

I I

>'0.6

I

~)'

I

I
I I I

I
I I

I
I I

I I

I I I

I
I

I I
I I I

0 0

10

~ ~ ~
I I I

OJ

20

30

40

50

60

0 70

Time[ns]

Figure 6.8: Photodiode charging current and

Vpd

of PFNI DPS with variable reference voltage. is charged to 1.15 V, the
Vpd

For the PFM DPS with 1.18V reference voltage, when

Vpd

photo current becomes comparable to the charging current, preventing
Vpd,

to rise further.

however, is still lower than the reference voltage 1.18 V. As a result, the DPS can not

respond to the change of illun1ination. For the PFNI DPS with a variable reference voltage,

62

Ypd will drop to 0.1 V, given the delay time to switch the transistor Mr on and charge the
photodiode. As a result , the initial charging current of the photodiode will be larger as compared with that of the PFM DPS with 1.18 V reference voltage. The comparator can switch to Logic-1 when
Vpd

> Vr·ef, and the pixel enters the sensing phase again.

The dynamic ranges of two PFM DPSs are compared in Fig.6.9 where the integration time is set to 60
5

JiB.

10 .---------.--------,,--------.---------.--------~

104
PFM DPS with Vrer=1.18 V
..c
Q) rJl

s

rJl

..0 103 ·~
3
~

/
PFM DPS with variable V

/
ref

10

2

10 ~------~~------~--------~--------~--------~
10-:! 10° 10
2

1

10

4

10

6

10 8

Current [pA]

Figure 6.9: Dynamic ranges of proposed PFM DPS and conventional PFI\II DPS with 60 JLS integration tin1e. The dynamic range of the proposed PFM DPS is approximately 150 dB whereas that of the conventional PFM DPS is only 77 dB . The maximum detectable photo current of the proposed PFM DPS is 2 JLA whereas that of the conventional PFM DPS is only 700 nA. These results are obtained with the minimum photo current of both DPSs set to 100 fA. It is observed that the conventional PFM DPS fails to produce output pulses when the photo current is less than 10 pA. The proposed PFM DPS , however , continues to produce output pulses when the photo current reaches 100 fA. The response of the proposed DPS becomes flat at both high and low levels of illurnination. The forn1er is due to the small photo current

63

whereas the latter due to the reset delay. Fig.6.10 presents the comparator output
Vcornp

of the PFM DPS with a 10 nA photo

current at process corners. The bias voltage Vb is adjusted to ensure that the pulse width remains nearly same. The bias conditions are presented in Table.6.2. The reset phase of FS mode is longer than other conditions, because of the weaker reset pMOS Mr.

~!:;t._______,_\. . ___.___{-----'--:-~'-'<--J____.______:----'--:lf ____-------'l
0 50 I00 150 200

250

~i :;t'----_______._.\
0

1------'-------:- - - - ' - - :

-------L.L-11--------'------:
150

50

100

---L..l.-\1_______Jl
200

250

Time [ns)

Figure 6.10: PFM DPS with a 10 nA photo current at process corners.

Table 6.2: Bias conditions at process corners .. Condition Vn (V) 0.4 TT 0.35 FF 0.5 SF 0.5 0.24 FS

ss

64

Fig.6.11 is the reference voltage generator with an ideal charging enable signal at process corners. The maximum timing difference is below 0.85 ns, which is acceptable.

1.5i.==:::c::;---,.------,-----,---,,------,--,-----,----.,.--~

--FF
- - -TT

· ···· · · FS ·- ·-·SF

ss

.~·:·/~.·····'
.1 I ··· I I .··
,· I .··

,· " .. ·· ,,. , , .·.··

, · "~,;· ~ .~······'

, .--:.:.-... ~·
'

,,,

...

'

0.5

.'/ ..:' _II :'
I I :·

-"~:·

·''·:

·I :

,·,_:

, ·1 .:

0

0

0.5

1.5

2.5 Time [ns)

3.5

4

4.5

Figure 6.11: In-pixel reference voltage generator at process corners.

65

The complete layout of the proposed PFNI pixel is shown in Fig.6.12. The pixel size as 25 JLm x 23 JLm, with a fill factor of 20%, which is comparable to the pixel reported in [30]. The capacitor is realized using a MINI capacitor. Various layout techniques are used to reduce digital-analog coupling and crosstalk.

Figure 6.12: Layout of the PFM pixel with a variable reference generator.

66

Fig.6.13 is the post-layout simulation results with a 2f..LA photo diode current. The pulse width difference between the schematic simulation (Fig.6.6) and the post-layout simulation is Ins, demonstrating the layout is working properly.

~
>~

>-g_ 0.5

10

20

30

50

60

70

~0.
E

>8

0.5

10

20

30 Time [ns]

50

60

70

Figure 6.13: Post-Layout Simulation results with a 2f..LA photo diode current.

6.4

Summary

PFM DPSs with an in-pixel variable reference voltage generator have been proposed to increase the resolution of the pixel, especially when the level of illumination is low. It has been shown that the proposed PFM DPSs offer the attractive characteristics of a reduced integration time when the level of illumination is low, reduced complexity of routing and silicon cost, and fill factor comparable to that of conventional PFM DPSs, however, with a significantly in1proved dynarnic range. The proposed digital image sensor has been imple1nented in TSMC-O.l8f..Lm 1.8V CMOS technology and validated using Spectre with BSIM3V3 device models. Simulation results have demonstrated that the PFM digital pixel has a dynamic range of 150 dB when integration time is set to 60p,s, approxin1ately 70 dB more than the conventional PFM digital pixel sensors. 67

Chapter 7 Conclusions and Future Work
7.1 Conclusions

Since the inception, Cl\IIOS image sensors have won the domain positions in low-end consumer optical products and are challenging CCDs in high resolution 1narkets including digital still cameras and medical imaging applications. With the development of CMOS technologies, the architectures of CMOS image sensors are also evolved fro1n analog passive pixels to pixels with in-pixel A/D conversion. DPSs have several deficiencies, such as a low fill factor /large pixel size, a finite resolution, and a low dynmnic range. In this thesis, CMOS image sensors with in-pixel A/D conversion have been reviewed. PWM and PFM schemes have been analyzed in detailed. One new PWM scheme and two improved PFM architectures have been presented. 2-Stage Memory Write Scheme for PWM Digital Pixel Sensors has been proposed to improve the resolution and the fill factor. The scheme utilizes the characteristics of Gray code counter and partitions a single data write operation into two separated operations such that a portion of pixel embedded memory can be moved out of the pixel to increase the fill factor and reduce the silicon area of the pixel. A prototype with the scheme achieves 12-bit resolution with an improved fill factor. The effectiveness of the proposed DPS is validated with simulation. New PFM CMOS irnage sensors with in-pixel arnplification have been also proposed. By inserting an amplifier before the con1parator, the PFl\11 DPSs reduce the integration time

68

while in1proving the dynamic range. Simulation results have demonstrated that the dynamic range of the proposed PFM digital pixel is 20 dB larger than that of corresponding PFM DPS without in-pixel amplification. Finally PFM DPSs with an in-pixel variable reference voltage generator have been presented. This architecture increases the resolution of the pixel, especially when the level of illumination is low. The proposed PFM DPSs offer the attractive characteristics of a reduced integration time when the level of illumination is low, the reduced complexity of routing and silicon cost, and a fill factor compared to that of conventional PFM DPS, however, with a significantly improved dynamic range. Simulation results demonstrate that the PFM digital pixel has a dynamic range of 150 dB when integration tin1e is set to 60 J.LS, approximately 70 dB more than that of the conventional PFM digital pixel sensors.

7.2

Future Work

Although these three new proposals improve the DPSs performance from different perspectives, there are still some works to do in future. · Fabricating these designs are strong desired. In this thesis, the photodetection devices are simulated with the diodes models provided by TSMC, which are not specified for CMOS image sensors designs. Accurate devices models and fabrication will evaluate the design more throughout. · FPN reduction is critical for CMOS DPSs. Compared with conventional CMOS in1age sensors, DPSs suffer larger FPN due to the variation of the in-pixel comparators. New architectures should be proposed to reduce this noise into an acceptable level.

69

Appendix A List of Publications
· Y. Chen, F. Yuan and G. Khan, "A 2-Stage J\!Iemory Write Scheme for Cl\!IOS PulseWidth-1\!Iodulation Digital Pixel Sensors," Proc. of IEEE Mid- West Symp. Circuits
and Systems, pp. 125-128, Knoxville, TN, Aug. 2008.

· Y. Chen, F. Yuan and G. Khan, "A New Wide Dynan1ic Range CMOS Pulse-Frequency1\!Iodulation Digital Image Sensor with In-pixel Variable Reference Voltage," Proc. of
IEEE Mid- W est Symp. Circuits and Systems, pp. 129-132, Knoxville, TN, Aug. 2008.

· Y. Chen, F. Yuan and G. Khan, "A Wide Dynamic Range CMOS Image Sensor with Pulse-Frequency-Modulation and In-pixel Amplification," Microelectronic Journal. Submitted in June 2008.

· Y. Chen, F. Yuan and G. Khan, "A Wide Dynamic Range CMOS Digital Image Sensor with Pulse-Frequency-Modulation and in-Pixel Variable Reference Voltage," Analog
Integrated Circuits and Signal Processing. Submitted in August 2008.

70

Bibliography
[1] P. Allen and D. Holberg, CMOS Analog Circuit Design, Oxford Univeristy Press, 2002.

[2] Analog Devices Inc., AD9979 14-Bit, CCD Signal Processor with Precision Timing
Core, 2007.

[3] F. Andoh, H. Shimamoto, and Y. Fujita, "A digital pixel image sensor for real-time readout," IEEE Trans. on Electron Devices, Vol. 47, No. 11, pp. 2123-2127, Nov. 2000. [4] P. Aubert, H. Oguey, and R. Vuilleumier, "Monolithic optical position encoder with on-chip photodiodes," IEEE J. of Solid-State Circuits, Vol. 23, No. 2, pp. 465-473, Apr.
1988. [5] R. J. Baker, CMOS Circuit Design, Layout, and Simulation, Wiley-IEEE Press, 2008.

[6] M. Bigas, E. Cabruja, J. Forest, and J. Salvi, "Review of CMOS image sensors," Microelectronics Journal, Vol. 37, No. 5, pp. 433-451, May 2006.

[7] E. Culurciello, R. Etienne-Cummings, and K. Boahen, "A Biomorphic digital image sensor," IEEE J. of Solid-State Circuits, Vol. 38, No. 2, pp. 281-294, Feb. 2003. [8] T. Danov, I. Shcherback, and 0. Yadid-Pecht, "Ring-shaped n+ /p-well photodiode: study of responsivity enhancen1ent," Proc. of IEEE Int' Conf. on Electronics, Circuits
and Systems, pp. 306-309, Tel-Aviv, Israel, Dec. 2004.

[9] E. Fossum, "CMOS image sensors: Electronic camera-on-a-chip," IEEE Trans. on Electron Devices, Vol. 44, No. 10, pp. 1689-1698, Oct. 1997.

71

(10) B. Fowler, A. Gamal, and D. Yang, "A CMOS area image sensor with pixel-level A/D

conversion," Proc. of IEEE Int ' Solid-State Circuits Conf. , pp. 226-227, San Francisco, CA , Feb. 1994.
[11) A. Gamal, "Trends in CMOS Image Sensor Technology and Design," IEEE IEDM

Technical Digest, pp. 805-808 , San Francisco, CA , Dec. 2002.
(12] A. Gamal and H. Eltoukhy, "CMOS image sensors," IEEE Circuits & Devices Magzine ,

Vol. 21 , No. 3, pp. 6-20, May-June 2005.
(13) I. Inoue , "Low dark current pinned photo-diode for CMOS image sensor ," Proc. of IEEE

Workshop on Charge-Coupled Devices and Advanced Image S ensors, pp. 25 , Nagano,

Japan, Jun. 1999.
(14) D. Johns and K. Martin, Analog Integrated Circuit Design, John Wiley and Sons Inc. , 1996. [15) M. Kasano, Y. Inaba, M. Niori, S. Kasuga, T. Murata, and T. Yamaguchi, "A 2.0J.lm pixel pitch MOS image sensor with 1.5 transistor /pixel and an amorphous Si color

filter ," IEEE Trans. on Electron Devices, Vol. 53, No. 4, pp. 611-617, Apr. 2006.
(16) A. Kitchen, A. Bern1ak, and A. Bouzerdoum, "A digital pixel sensor array with pro-

gramnlable dynamic range, " IEEE Trans. on Electron Devices, Vol. 52 , No. 12, pp.
2891-2600 , Dec. 2005. [17) S. Kleinfelder, S. Lim, and A. Gamal, "A 10000 frames/s C:NIOS digital pixel sensor, "

IEEE J. of Solid-State Circuits, Vol. 36, No. 12, pp. 2049-2059 , Dec. 2001.
(18) M. Law and A. Bermak, "A CMOS i1nage sensor using variable reference time domain

encoding," Proc. of IEEE Symposium on Circuits and Systems, pp. 2399-2402 , New Orleans, LA, May 2007.

72

[19] T. Lule, S. Benthien, H. Keller, F. Mutze, P. Rieve, K. Seibel, M. Sommer, and M. Bohm, "Sensitivity of cmos based imagers and scaling perspectives," IEEE Trans. on
Electron D evices, Vol. 47, No. 11 , pp. 2110-2122, Nov. 2000.

[20] L. Nicllrath, "A low-power low-noise ultra wide-dynamic-range CMOS imager with pixel-level A/D conversion," IEEE J. of Solid-State Circuits, Vol. 36, No. 5, pp. 846-853, May. 2001. [21] S. Mendis, S. Kemeny, and E. Fossum, "A 128x128 CMOS active pixel image sensor for highly integrated imaging systems," IEEE IEDM Tecnical Digest, pp. 583-586, Washington D.C. Dec. 1993. [22] S. Niendis, S. Kemeny, R. Gee, B. Pain, Q. Kim, and E. Fossum, "CMOS active pixel image sensors for highly integrated imaging systems ," IEEE J. of Solid-State Circuits, Vol. 32, No. 2, pp. 187-197, Feb. 1997. [23] Pixin1 Inc. , http:/ jwww.pixim.con1jproducts-and-technology/technology [24] H. Rhodes, G. Agranov, C. Hong, U. Boettiger, R. Ma.uritzson, J. Ladd, I. Karasev, J. McKee, E. Jenkins, W. Quinlin, I. Patrick, J. Li, X. Fan, R. Pa.nica.cci, S. Smith, C. Mouli , and J. Bruce, "CMOS Imager Technology Shrinks and Image Performance,"
Proc. of IEEE Workshop on Microelectronics and Electron Devices, pp. 7-18 , Boise, ID ,

Apr. 2004. [25] M. Sasaki, M. Mase, S. Kawahito, and Y. Tadokoro, "A wide-dynan1ic-range CMOS image sensor based on multiple short exposure-time readout with multiple-resolution colun1n-parallel ADC ," IEEE S ensors J., Vol. 7, No. 1, pp. 151-158, Jan. 2007. [26] M. Sa.kakibara., S. Kawahito, D. Ha.ndoko, N. Nakamura., H. Sa.toh, M. Higashi , K, Mabuchi, and H. Sumi, "A high-sensitivity CNIOS i1nage sensor with gain-adaptive column amplifiers," IEEE J. of Solid-State Circuits, Vol. 40, No. 5, pp. 1147-1156, Niay. 2005.

73

[27] M. Snoeij, A. Theuwissen, K. IVIakinwa and J. Huijsing, "Multiple-ran1p colu1nn-parallel ADC architectures for CIVIOS image sensor," IEEE J. of Solid-State Circuits, Vol. 42, No. 12, pp. 2968-2977, Dec. 2007. [28] S. Sze, Semiconductor Devices: Physics and Technology, John Wiley and Sons Inc., 2002. [29] I. Takayanagi, M. Shirakawa, K. Mitani, IVI. Sugawara, S. Iversen, J. Moholt, J. Nakamura, and E. Fossum, "A 1.25-inch 60-fran1esjs 8.3-M-pixel digital-output CIVIOS in1age sensor," IEEE J. of Solid-State Circuits, Vol. 40, No. 11, pp. 2305-2314, Nov. 2005. [30] X. Wang, W. Wang, and R. Hornsey, "A high dynamic range CMOS irnage sensor with inpixel light-to-frequency conversion," IEEE Trans. on Electron Devices, Vol. 53, No. 12, pp. 2988-2992, Dec. 2006. [31] D. Yang, B. Fowler, and A. Gamal, "A Nyquist-rate pixel-level ADC for CMOS i1nage senor," IEEE J. of Solid-State Circuits, Vol. 34, No. 3, pp. 348-356, Mar. 1999. [32] D. Yang, A. Gamal, B. Fowler, and H. Tian, "A 640x512 CMOS image sensor with ultrawide dynamic range floating-point pixel-level ADC," IEEE J. of Solid-State Circuits, Vol. 34, No. 12, pp. 1821-1834, Dec. 1999. [33] D. Yang, B. Fowler, and A. Gatnal, "A 128x 128 pixel CMOS area image sensor with multiplexed pixel level A/D conversion," Proc. of IEEE Custom Integrated Circuits
Conf., pp. 303-306, San Diego, CA, May 1996.

[34] W. Yang, "A wide-dynamic range, low-power photosensor array", Proc. of IEEE Int'
Solid-State Circuits Conf., pp. 230-231, San Francisco, CA, Feb. 1994.

74


