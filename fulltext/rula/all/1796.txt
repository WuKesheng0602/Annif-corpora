MODELLING AND CONTROL OF AUTOMATED POLISHING/DEBURRING PROCESS

by
Liang Liao Master of Science in Control Engineering Lakehead University Thunder Bay, Ontario, Canada, 2004

A thesis presented to Ryerson University in partial fulfillment of the requirement for the degree of Doctorate of Philosophy in the Program of Aerospace Engineering

Toronto, Ontario, Canada, 2008

© Liang Liao, 2008

AUTHOR'S DECLARATION

I hereby declare that I am the sole author of this thesis.

I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research. Liang Liao

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

II

INSTRUCTIONS ON BORROWERS

Ryerson University requires the signatures of all persons using or photocopying this thesis. Please sign below, and give address and date.

Name

Signature

Address

Date

Ill

ABSTRACT

MODELLING AND CONTROL OF AUTOMATED POLISHING/DEBURRING PROCESS A THESIS OF THE DEGREE OF DOCTORATE OF PHILOSOPHY, 2008
by Liang Liao Department of Aerospace Engineering, Ryerson University

In this thesis, a new approach is presented for the modelling and control of an automated polishing/deburring process that utilizes a dual-purpose compliant toolhead mounted on a parrallel tripod robot. This toolhead has a pneumatic spindle that can be extended and retracted by three pneumatic actuators to provide tool compliance. By integrating a pressure sensor and a linear encoder, this toolhead can be used for polishing and de burring.

For the polishing open-loop control, the desired tool pressure is pre-planned based on the given part geometry. To improve control performance, a closed-loop controller is applied for pressure tracking through pressure sensing. For the deburring control, another closedloop controller is applied to regulate the tool length through tool extension sensing. The two control methods have been tested and implemented on a polishing/deburring robot, and the experiment results demonstrate the effectiveness of the presented methods.
-

IV

To further improve the control performance, an adaptive controller is developed to deal with the uncertainties in the compliant tool. This control method combines the adaptive control theory with the constant stress theory of the contact model. A recursive least squares (RLS) estimator is developed to estimate the pneumatic plant model, and then a minimum-degree pole placement method (MDPP) is applied to design a self-tuning controller. Afterwards, the simulation and experiment results of the proposed controller are presented and discussed.

Finally, a nonlinear model of the pneumatic plant is developed. The nonlinear controller developed by using feedback linearization method is applied on the nonlinear pneumatic system of the compliant toolhead. The simulation is carried out to test the effectiveness of the pressure tracking for the polishing process.

IV

ACKNOWLEDGMENTS

I would like to express my gratitude to those who gave me the possibility to complete this thesis.

I am deeply grateful to my supervisors Dr. Jeff Xi of Ryerson University and Dr. Kefu
Liu of Lakehead University for support, guidance and encouragement throughout this thesis. I want to thank them for their critical reading of the thesis draft and all the technical documents I have written during the course of this work. I have benefited immensely from their comments, remarks, suggestions, and their broad knowledge on the various related disciplines

Special mention must go to Professor Ghasempoor, Aerospace Engineering Department technician Mr. Primoz Cresnik and Mr. Hamid Ghaemi who have supported me in the experiment for this research.

Thanks are also extended to my colleagues Mr. John Sun, Mr. Brain Pets, Mr. Haibin Jia, Mr. Richard Mohamed, and Mr. Daniel Finistauri.

vi

TABLE OF CONTENTS
AUTHOR'S DECLARATION ...................... ......... .. ... ............................ .... ii ABSTRACT ............. ......................... .......................... ..... . ....... ....... ...... iv ACKNOWLEDGEMENTS ............... ...... ... ....................................... ........ vi TABLE OF CONTENTS .................. .......................................... ............. vii LIST OF FIGURES .................................................................................. x LIST OF TABLES ................................................................................. xiv NOMENCLATURE ............................................................ ..................... XV CHAPTER 1
1.1 1.2 1.3

INTRODUCTION ................................................................................. 1

Background ofPolishing and Deburring Process and Problem Statement ......... 1 Objectives of the Thesis Research ...................................................................... 5 Outline of the ·T hesis .................................................. ......................................... 6

CHAPTER 2
2.1 2.1.1 2.1.2 2.2 2.3 2.3.1 2.3.2

LITERATURE REVIEW .................................................................... 8

Force Control ...................................................................................................... 8 Rigid Force Control ............................................................ ........................ 9 Compliant Force Control .......................................................................... 10 Contact Modelling ............................................................................................ 12 Pneumatic System Modelling and Control ....................................................... 13 Pneumatic System Modelling ................................................................... 14 Pneumatic System Control. .................... ...... ............................................. 15

CHAPTER 3
3.1 3.2

SYSTEM MODELLING .................................................................... 18

Description of the Tripod-Based Polishing/deburring Robotic Machine ......... 18 Contact Modelling for a Fixed Polishing Stone ................................................ 25

Vll

3.3 3.4 3.5 3.6 3.7

Friction Torque Modelling ................................................................................ 32 Tool Spindle Rotational Speed Modelling ........................................................ 35 Polishing System Modelling ............................................................................. 40 Deburring System Modelling ............................................................................ 45 Summary ........................................................................................................... 48

CHAPTER 4
4.1 4.2 4.3 4.3.1 4.3.2 4.3.3 4.4

CLOSED-LOOP CONTROL .............................. .... .......................... 49

Valve Based Closed-Loop Pressure Control for Polishing Process ... .. ............. 50 Tool Based Closed-Loop Pressure Control for Deburring Process .................. 52 Experiment for Polishing and Deburring Processes ......................................... 53 Experiment for Polishing Control with Constant Contact Force .............. 53 Experiment for Polishing Control with Constant Contact Stress .............. 58 Experiment for Deburring Control.. .......................................................... 63 Summary ........................................................................................................... 66

CHAPTER 5
5.1 5.1.1 5.1.2 5.1.3 5.2 5.3 5.4

ADAPTIVE CONTROL FOR POLISHING PROCESS ................ 70

Adaptive Controller Design .............................................................................. 71 On-line Parameter Estimation ................................................................... 72 Pole Placement Design for the Controller ................................................ 77 Integral Action .......................................................................................... 81 Simulation ........................................................ ............................ ....... .............. 85 Experiment of Polishing Process ...................................................................... 89 Summary ........................................................................................................... 97

CHAPTER 6
6.1

NONLINEAR CONTROL FOR POLISHING PROCESS ............ 99

Derivation of the Nonlinear Pneumatic Plant Model.. .................................... 100

viii

6.2 6.3 6.4

Model Verification .. ....................................................... ........ ......................... 110 Feedback Linearization ................................................................................... 113 Summary ......................................................................................................... 118

CHAPTER 7
7.1 7.2 7.3

CONCULSION ................................................................................. 120

Conclusions ..................................................................................................... 120 Main Research Contributions ......................................................................... 123 Future Work .................................................................................................... 125

Bibliography .................................................................................................................. 126 Appendix A: Path Planning and Parameter Planning .............................................. 131
A.1. Path Planning ...................................................................................................... 131 A.l.1. Generate the Path from the known Mould CAD .......................................... 131 A.l.2. Generate the Path by Measuring the Part ..................................................... 136 A.2. Parameter Planning ............................................................................................. 138

Appendix B: Feedback Linearization Matlab Code .................................................. 142

IX

LIST OF FIGURES
Figure 1.1 Manual polishing [5] ......................................................................................... 3 Figure 1.2 Manual de burring [6] ......................................................................................... 4 Figure 3.1 Polishing/deburring robotics system ............................................................... 19 Figure 3.2 Tool compliances ............................................................................................. 20 Figure 3.3 CAD model of the compliant tool head assembly ............................................ 21 Figure 3.4 Prototype of the compliant toolhead ................................................................ 22 Figure 3.5 Control system of the toolhead ........................................................................ 23 Figure 3.6 Schematics of the toolhead control system ..................................................... 25 Figure 3.7 Contact between two disks .............................................................................. 26 Figure 3.8 Diagram of an elliptic contact area ................................................ .................. 33 Figure 3.9 Spindle speed vs. spindle torque .... ................................................................. 40 Figure 3.10 Block diagram illustrating the dynamic interaction ...................................... 41 Figure 3.11 Spindle speed vs. varied part geometry ......................................................... 44 Figure 3.12 Axial compliance modelling for the tool ....................................................... 46 Figure 4.1 Closed-loop pressure control block diagram ................................................... 51 Figure 4.2 Closed-loop tool length control block diagram ............................................... 52 Figure 4.3 Doorstop .......................................................................................................... 54 Figure 4.4 Minimum radii ................................................................................................. 55 Figure 4.5 Planned pressure .............................................................................................. 55 Figure 4.6 Part profile before and after polishing ............................................................. 56 Figure 4. 7 Polished area of the part .................................................................................. 57 Figure 4.8 Minimum radii of the part ............................................................................... 59

X

Figure 4.9 Planned cylinder pressure ................................................................................ 59 Figure 4.10 Pressure trajectory tracking ........................................................................... 60 Figure 4.11 Pressure tracking error ................................................................................... 61 Figure 4.12 Part profile before and after polishing ....................................... .................... 61 Figure 4.13 Polished area of the part ................................................................................ 62 Figure 4.14 Deburring experiment system ........................................................................ 64 Figure 4.15 Experimental result of deburring control: (a) the time history of the tool length; (b) the time history of control signal to the pneumatic valve ....................... 65 Figure 4.16 Part profile before and after deburring .......................................................... 66 Figure 4.17 Surface finishes produced by common manufacturing processes ................. 68 Figure 5.1 Block diagram of a self-tuning regulator. ........................................................ 71 Figure 5.2 Valve output pressure response ....................................................................... 73 Figure 5.3 A general linear controller with two degrees of freedom ................................ 77 Figure 5.4 Simulink model for self tuning regulator ........................................................ 87 Figure 5.5 Output vs. reference input ................................................................ ............... 88 Figure 5.6 Estimated parameters ....................................................................................... 88 Figure 5.7 The errors of the estimated parameters ............................. .............................. 89 Figure 5.8 Minimum radii of the part ............................................................................... 90 Figure 5.9 Planned cylinder pressure ................................................................................ 90 Figure 5.10 Pressure tracking test for a sine wave ............................................................ 92 Figure 5.11 Estimated parameters ..................................................................................... 92 Figure 5.12 Pressure trajectory tracking ........................................................................... 93 Figure 5.13 Estimated parameters ..................................................................................... 94

XI

Figure 5.I4 Pressure tracking error .............. .... ..................................... ............... ............. 94 Figure 5.15 Part profile before and after polishing ........................................................... 95 Figure 5.I6 Polished area of the part ................................................................................ 96 Figure 6.1 Cylinder pressure vs. time when the input is increased ................................. I 05 Figure 6.2 Cylinder pressure vs. time when the input is decreased ................................ 105 Figure 6.3 dPc/dt vs. Pc ................................................................................................... I 07 Figure 6.4 Linear regression approximation and residuals ............................................. 107 Figure 6.5 Pcc(u) vs. u .............. ....................................... ... ............................................. I1 0 Figure 6.6 Simulink model for model verification ... ...................................................... 1II Figure 6. 7 Comparison of measured response and simulated response when the input is stepped up for the fi II ing process ...................................... ...................................... I 12 Figure 6.8 Comparison of measured response and simulated response when the input is stepped down for the discharging process .............................................................. II2 Figure 6.9 Simulink model for feedback linearization ................................................... 116 Figure 6.1 0 Pressure tracking control for a sine wave: a= I 0 ......................................... 117 Figure 6.11 Pressure tracking control for a sine wave: a=20 ......................................... 117 Figure A-1 CAD model of the mold ............................................................. I32 Figure A-2 P-CAM software interface .................................................... . .... 132 Figure A-3 Tool selection in P-CAM .......................................................... 133 Figure A-4 Surface roughness prediction in P-CAM ........................................ 133 Figure A-5 Re-sampling ............... . ........................... . ...................... . ....... 134 Figure A-6 Flow chart of re-sampling points determination .. . .............................. 136 Figure A-7 Door stop .................................................................... . ......... 136

XII

Figure A-8 Screen snapshot of interface for edge probing ................................... 137 Figure A-9 Workpiece profile .............. ...................................................... 139

XIII

LIST OF TABLES
Table 4.1 Roughness measurement at different areas of the part ..................................... 57 Table 4.2 G-Code with planned pressure parameter ......................................................... 58 Table 4.3 Roughness measurement at different areas of the part ..................................... 63 Table 4.4 Comparison of the polishing results ................................................................. 63 Table 4.5 Profile variance and mean value before and after de burring ............................ 66 Table 5.1 Polishing G-Code with planned pressure parameter ......................................... 9I Table 5.2 Roughness measurement at different areas of the part ..................................... 96 Table 5.3 Comparison of the polishing results ................................................................. 97 Table 6.1 Slope, norm of residuals and square of the correlations at different inputs .... I 08 Table 6.2 Critical pressure at different inputs ................................................................. I 09 Table 6.3 Coefficients of the critical pressure equation ................................................. 109 Table 6.4 Root mean square at different inputs .............................................................. 113 Table 6.5 Root mean square of the tracking errors with different a ............................... 117 Table A-1 Tool parameters ....................................................................... 139 Table A-2 Part parameters ........................................................................ 139 Table A-3 Contact model parameters ........................................................... 140 Table A-4 G-Code without planned pressure parameter. .................................... 141 Table A-5 G-Code with planned pressure parameter. ........................................ 141

XIV

NOMENCLATURE
A contact surface area cross-sectional area of the pneumatic cy Iinders cross-sectional area inlet port of the polishing tool

a
b

semi-major axis of an ellipse semi-minor axis of an ellipse damping of the spring inside the cylinder equivalent damping tool's diameter

c

d()

infinitesimal quantity angle between x-axis and segment Young's modulus of elasticity for polishing tool Young's modulus of elasticity for the part

e

E(.)

complete elliptic integral of the second kind the reaction force between the tool and the part or contact force force exerted by pneumatic cylinders friction force between the tool and the part spring return force

F

Gp

the transfer function pertaining to the electro-pneumatic valve the transfer function pertaining to the flow valve hardness of the part the moment of inertia of the pneumatic tool head ratio of semi-minor to semi-major axis

Gq
HB

I

k

XV

K
K(.)
K(t)

spring stiffness complete elliptic integral of the first kind estimator gain mass of the tool assembly the mass of air in the pneumatic cylinder chamber number of grains inside contact areas covariance matrix pressure in pneumatic cylinders filtered cylinder pressure critical pressure in pneumatic cylinders change in cylinder pressure mean contact stress or average contact stress output pressure of the following model maximum contact stress desired planned pressure pressure or contact stress at a particular segment on the contact surface the supply pressure the exhaust pressure curvature as a function of the part height, z volumetric flow rate average roughness maximum radius of the contact surface ideal air constant

M
m

N
P(t)

Pe
PJ

Pee 11Pe
Pm
P me

P0 Ppe Pseg Ps
Px
Q(z)

q
Ra

R
Re

XVI

R1 R '1
R2

minimum radius of curvature of the polishing tool maximum radius of curvature of the polishing tool minimum radius of curvature of part maximum radius of curvature of part the resistance of the fluid flow within the pneumatic spindle radius of contact surface radius of the grain the resultant torque Maximum spindle torque friction torque time air flow velocity change in cylinder volume voltage input variable for the electro-pneumatic valve voltage input variable for the flow valve disturbance the volume of the cylinder chambers equivalent input power input to the polishing tool power output from the polishing tool Cartesian x-axis coordinate Cartesian y-axis coordinate

R '2
RJ
r
rg

TR
Tmax
TJ
t

V
/).. Vc
Vp

Vq
v
Vc

Vu

Win

Wout

x

y

XVII

z
z

distance or depth from the contact surface area; this depth being along the z-axis represents the variation of stress at different x andy values; also the displacement along z-axis desired tool length

Greek Symbols

a

positive constant forgetting factor mechanical efficiency

1t

pi
the coefficient of kinetic friction principal stress on the contact surface Poisson's ratios for the toolhead Poisson's ratios for the part the angle between the corresponding planes of the principal curvature (i.e. between R '1 and R '2, or between R1 and R2) angular or rotational speed free running angular or rotational speed angular or rotational acceleration variance

XVIII

CHAPTER 1 INTRODUCTION
This chapter provides a background on automatic control of polishing and deburring process and the statement of the problem. Subsequently, the objectives of the thesis are given, along with the thesis outline. These supply the reader with a description of the organizational layout of the thesis.

1.1 Background of Polishing and Deburring Process and Problem Statement
Polishing and deburring are final finishing processes in manufacturing area widely used in many industries including the aerospace and automotive sectors in order to obtain a smoother finish in manufactured parts such as dies and molds.

Polishing is a process that uses abrasives to smooth the part surface without affecting its geometry. Generally, the polishing process first involves removing scratches, machining marks, pits, and other defects before finally obtaining the desired surface finish. Moreover, polishing to improve the finishing of objects is performed for aesthetic as well as for functional reasons. Polishing makes the outward appearance of objects more appealing by improving their surface finishing. The polishing of mold cavities is critical to improving the quality of the appearance of plastic products as well as to reducing the required mold release force. Functionally speaking, surface finishing of the blades affects the operation efficiency of turbines and propellers. For lens products to meet their

functional specifications, stringent surface-finishing ts required for the corresponding molds.

Deburring is a process that is dedicated to remove the burrs formed on the edges of the machined surfaces. These burrs are formed due to the plastic deformation of the metallic layer near the edges. Machine parts which need to be assembled together must be cleaned from these burrs. This process is essential to ensure safer and proper handling of these parts, facilitate the insertion process during assembly, and allow for a good fit and proper functioning of the assembled machine. All metal parts that are cast, punched, broached, or machined require finishing of the edges to remove burrs and break sharp corners.

Manual polishing/deburring is one conventional method. The parts are taken from the machines and polished or deburred generally using hand tools and grinders. Figure I.I shows an example of manual polishing and Figure 1.2 shows an example of manual deburring. According to Saito [I], the typical distribution of manufacturing time for a mold is approximately II% for design, 52% for machining, and 37% for finishing of the mold cavity's surface. Other studies such as the one done by Huissoon et al. state that 37% is a lower bound and that in fact 37%-50% of mold manufacturing is spent on finishing operations [2]. Annual deburring costs alone are currently estimated at $3.9 billion nationwide [3]. These costs include time required to finish a part at the bench, the cost of thorough inspection, possible subsequent rework, and sometimes rejection of the component. In a recent assessment of critical Pratt & Whitney needs in technology development, it was revealed that the problem of deburring and finishing ranked second

2

in a list of 46 manufacturing problems [4] . From the above description, in the manufacturing industry, it would require a considerable amount of finishing time and may lead to a backlog in production.

Figure 1.1 Manual polishing [5]

3

Figure 1.2 Manual deburring [6]

However, manual operation is very labor intensive, highly skill dependent, expensive, error-prone, inconsistent in quality, and Hazardous in working environment due to abrasive dust. Increasingly in manufacturing industries a push towards automated polishing/deburring is occurring.

Successful implementation of an automated polishing/deburring system requires in-depth studies of polishing/deburring process, thereby introducing science into these

traditionally art-based manufacturing processes. Limited research has been carried out to investigate prospective methods for the design and implementation of automated polishing/deburring systems [7]-[ I 0]. The automated machines proposed in the literature are either based on robots [7] or computer-numerical control (CNC) machine tools [11 ][12]. Benefits of automating the polishing/deburring process include increasing

4

productivity and eliminating the need for highly skilled labor to manually polish and debur parts. Further benefit of automated polishing/deburring includes a more consistent quality on finished parts [13].

Up to now, the common practice in the automated polishing/deburring process is to maintain a constant force applied from the tool to the part throughout operation. However, this is in fact not practically true. As shown in [ 14] it is the contact stress that determines the quality of the polished part, not the force exerted on the tool. For example, in the polishing process, when the part's surface geometry varies, the constant tool force will generate a high contact stress under a small contact area (i.e. high curvature surface), leading to over-polish, or a small contact stress under a large contact area (i.e. low curvature surface), leading to under-polish. Similarly in the deburring process, if the burr is large, the contact stress is low. Then the contact force needs to be increased in order to remove the burr. If the burr is small, the contact stress is large. The contact force needs to be decreased to avoid over-cut. Therefore, the real challenge in the automated polishing/deburring is how to control the polishing/deburring force effectively under the constant contact stress condition when the part geometry varies. This is a new control problem that has not been studied before, and in this research the study on this new problem will be presented.

1.2 Objectives of the Thesis Research
The objectives of this research include:

5

1. To model the automatic polishing/deburring process using a tripod parallel robot and a dual-purpose compliant toolhead. 2. To develop a closed-loop control method that can maintain a constant contact stress and a constant spindle speed for the polishing process. 3. To develop a closed-loop method that can maintain a constant tool length for the deburring process. 4. To develop an adaptive controller that can deal with parameter uncertainty for the polishing system. 5. To develop a nonlinear plant model and a feedback linearization controller for the pneumatic system of the toolhead for the polishing process.

1.3 Outline of the Thesis
This thesis consists of 7 chapters. The related literature is reviewed in Chapter 2.

In Chapter 3 a new polishing/deburring robotic machine with a dual purpose compliant tool system developed at Ryerson University is presented. The polishing system modelling is developed based on the macro contact modelling, friction torque modelling, and tool spindle rotational speed modelling. The deburring process modelling is developed based on the micro contact modelling.

In Chapter 4 two control strategies are developed to implement polishing closed-loop control and deburring closed-loop control respectively by using the dual purpose compliant tool. For the polishing control, the tool pressure is pre-planned based on the

6

given part geometry, and a valve based closed-loop PID controller is applied for pressure tracking through the pressure sensing. For the deburring control, tool based closed-loop PID controller is applied to regulate the tool length through tool extension sensing. The experiments are carried out to test the effectiveness of the control for polishing process and deburring process.

In Chapter 5 the adaptive control strategy for the polishing process is developed. The adaptive controller consists of an on-line parameter estimator and a self tuning controller. The filtered signal from both the input and the output of the plant are used for the modified on-line parameter estimator, and the controller is designed by using poleplacement method. An integrator is developed for the controller to eliminate the disturbance. Simulation and experiments are carried out to test the effectiveness of the adaptive control for polishing process.

In Chapter 6 a method introduced in [15] is used to develop the nonlinear model of the pneumatic plant system. This method is the combination of theoretic analysis and empirical measurement of the pneumatic plant parameters. The nonlinear controller is developed for the polishing process using feedback linearization method. A simulation is carried out to test this nonlinear controller.

The thesis is completed by the conclusions presented in Chapter 7. The main contributions of this research are summarized and the recommendations for future study are described in this chapter.

7

CHAPTER 2 LITERATURE REVIEW
In this chapter, the literature related to the modelling and the automatic control of polishing/deburring process is reviewed. The literature will be reviewed in three areas: force control, contact modelling, and pneumatic system modelling and control.

2.1 Force Control
As mentioned before, the existing automated polishing/deburring systems are based on CNC machine tools or robots [16]. CNC machines are attractive and have been adopted in the past due to their high stiffness, simplicity, and accuracy. However, CNC machines are expensive and have a limited number of axes and range of motion; this restriction confines the CNC machine only to certain applications. The articulated robot arm, in contrast, has more axes of motion, allowing for larger work volumes at cost less than that of CNC machines; this comes, consequently, at the loss of stiffness and accuracy. A compromise must be met between the limited motion of the CNC machine and the lack of accuracy and stiffness of the robotic based polishing/deburring. This is where the various methods of force control have their roles, and are presented as follows. Within each classification, the force control methods for polishing/deburring processes can be broadly categorized as rigid force control and compliant force control.

8

2.1.1

Rigid Force Control

In the rigid force control, the rigid tool does not employ extra devices for tool force
generation. Instead the force exerted from the tool to the part is controlled through pushing the tool directly against the part. The interaction between the tool and the part is considered rigid. The force from the tool is generated from the axis actuators of the machine that are also used to simultaneously move the tool. It can be immediately noticed the combination of position and force hybrid control. This problem has been studied extensively in the robotics field. A number of control approaches have been developed by many researchers such as Khatid [17], Raibert and Craig [18], and Yoshikawa [19], and they may be broadly classified into · · hybrid control with end-effector force sensing; hybrid control with axis force sensing.

Hybrid control with end-effector sensing denotes that the force is sensed from the endeffector directly. The extension of the hybrid control approach from Raibert and Craig [18] was proposed in [20], where the full manipulator dynamiCs was taken into consideration, and a hand-made force sensor was attached to the tip of the robot to measure the force exerted on the tip. Jeon In [21] developed a control method for hybrid force and position control of robot manipulators. In their application the deburring tool was mounted on the wrist force sensor which is used to measure the force and the moment in x, y, z directions in the end-effector coordinates. The advantage of this type of sensors is that the force can be measured directly and accurately. However the system dynamics need to be considered and the measured force needs to be converted to joint torque. This makes the system more complicated and the system response is slow.

9

Hybrid control with axis force sensing is to measure the joint force or the torque. In this case, the command joint toques are computed based on the system dynamics, from which the joint torque feedback control is implemented. The various methods based on this scheme are achieved [22]-[25]. The advantages of joint torque sensing method are that it avoids the computational difficulties and provides fast response for the force control. The disadvantages are that the force applied on the tip cannot be measured directly and may not be very accurate, and the joint torque sensors require a change in the mechanical structure of the joints.

It is concluded that the advantage of rigid force control is that it does not use extra
devices for tool force generation. The disadvantage is the coupling between the force and the motion, as well as the long delay in force generation from the actuators to the top tip. This leads to the compliant force control as an alternative method.

2.1.2 Compliant Force Control
The compliant force control method uses a separate force device to generate the tool force independent of the motion actuators that are solely reserved for motion control. Therefore, the force control is decoupled from the motion control. Since the force device is directly mounted onto the tool, the delay in the force generation is substantially reduced. The tool compliance also allows for a certain degree of misalignment between the tool and the part. In practice, the tool compliance can be implemented either passively or actively.

10

Passive compliant tools are made without actuators only by employing various passive mechanisms, such as springs. Rasmussen et al. [26] designed a tool that it relies on compliance in the tool itself to maintain a nominal contact force. The contact force applied on the part during the process is actually the compliance force from the tool. Barratt et al. [27] addressed the problem of misalignment in their research when using a passive compliant tool mounted on the wrist of an industrial robot. They were able to maintain contact with the part surface within an angular range of± 8 degrees and a ± 10 mm range of normal translation movement. The advantage of the passive compliant force control is that it can be set with high stiffness to achieve fast response rate, and the device is relatively cheap. The disadvantage is that the passive compliance cannot be actively regulated, especially when the part geometry varies significantly, therefore, will cause over or under cut during the polishing/deburring process.

An active compliant tool can actively adjust the tool compliance through utilization of actuators. Guvenc et al. [28] developed a closed-loop active force control scheme which is used to continually sense the output and regulate the polishing force exerted on the part. There are also several compliant tools on the market. A TI Industrial Automation [29] has developed two basic types of compliant tools, namely, radial-compliant (RC) tools, and

axial-compliant (AC) tools. In general, the RC tool is of passive compliance, while the
AC tool is of active compliance that is realized by using a pneumatic actuator to actively adjust the tool compliance in the axial direction. The other two companies, PushCorp Inc. [30] and Robotic Accessories Leader [31] also provide the compliance tools, similar to ATI's AC tool.

11

2.2 Contact Modelling
Williams et al. [32] defined the contact between the tool and the part surface, during the polishing process, is an extreme case of the general abrasive wear that occurs on relatively soft metal surface abraded by relatively hard sharp abrasive particles. This is known as abrasive friction. Contact modelling is concerned about the interaction between the tool and the part including the size of the contact area, the contact stress and the friction force. There are two levels of modelling: · · micro contact modelling; macro contact modelling.

Micro contact modelling is concerned about the micro depth of cut of the contact grains. With the known contact force on the grains and the hardness of the part, the micro depth of cut of a single grain can be determined. Xi et al. [33] developed an average method or a search method to determine the micro depth of cut of multiple grains. A method is presented for predicting the surface roughness based on the micro depth of cut and contact grains. An elastic-plastic micro contact model for contact between two nominally flat surfaces was presented by Zhao et al. [34]. The relations ofthe mean contact pressure and contact area of the asperity to its contact interference in the elastoplastic regime of deformation are respectively modeled by logarithmic and fourth-order polynomial functions. Jeng et al. [35] proposed a Chemical Mechanical Polishing (CMP) material removal rate model based on a micro-contact model which considers the effects of the abrasive particles located between the polishing interfaces. The down force applied on the part was carried both by the deformation of the polishing pad asperities and by the penetration of the abrasive particles.

12

The macro contact modelling is mainly dealt with the contact area between the toolhead and the part, modeled as two-body contact based on Hertzian contact model [14]. The contact is assumed elastic, and the size of the contact region is small compared to the principal radii of curvature of the bodies at the contact [36]. Greenwood [3 7] gives three approximate methods to calculate the Hertzian contact pressure/stress and contact area. The virtual spring element based on the Hertz theory is also presented by Yeh et al. [38] to recapitulate the fixture contact conditions in the finite element modelling. Possible contributing factors to contact conditions, such as material properties, surface finish, hardness and the contact area between the part and fixture device, were investigated in the estimation of the virtual spring constant. Li [39] developed an elastic contact model which is capable of predicting the normal and tangential (frictional) forces, and the deformed contact geometry at each part-fixture contact due to external loading (i.e., polishing force).

2.3 Pneumatic System Modelling and Control
In this research, control of the contact force for the polishing/deburring process is achieved indirectly by regulation of pressure in the actuating pneumatic air cylinder. Therefore, the methods for pneumatic system modelling and control are also reviewed as follows.

13

2.3.1 Pneumatic System Modelling
For any control system, a good model of the system dynamic is needed to evaluate performance and design a good controller. In this research, the control system is actuated by a pneumatic actuator. Pneumatic actuators exhibit highly nonlinear characteristics due to air compressibility, friction and valve nonlinearity (40]. Many researchers have investigated pneumatic servo systems due to their potential as a low-cost, clean, high power-to-weight ratio actuator.

The earliest study on the mathematical modelling of pneumatic servo control systems was made by Shear in [41]. He derived a set of nonlinear differential equations based on the energy conservation law, flow continuity equation, ideal air state equation, mass flow rate through orifice, and Newton's second law of motion. Most subsequent researchers used this model for pneumatic control system dynamic analysis and controller design.

A nonlinear system model for pneumatic cylinder was derived based on the standard orifice theory by Wang et al. [42]. The pneumatic cylinder actuators were modeled as a cascade connection of two nonlinear subsystems affined in the control input. In this model, the effect of residual volume associated with connecting pipes and mechanical structure and the uneven distribution of friction force were taken into account.

Instead of developing the nonlinear mathematic model, system identification is another way to determine the pneumatic system model by expressing it as a Iin ear mathematic model. Shih et al. [43] use the least square method to identify the pneumatic plant system.

14

The system is assumed as a time-invariant second, third, fourth-order model. The values of the parameters of different orders in the system can be obtained by the recursive least squares method.

Three nonlinear approaches to modelling the nonlinear pneumatic servo drive were presented by Refaat et al. [44]. They are: ( 1) the multi input-single output (MISO) approach; (2) piecewise linearization; and (3) Adaptive Neuro-Fuzzy Inference System (ANFIS). All these modelling approaches are conceptually simple, and do not need to investigate the physics of the process under consideration. Thus, they are general-purpose nonlinear system identification techniques.

In [45], the pneumatic circuit of a constant force device was modeled as a prerequisite to the evaluation for robot-assisted material removal process. Pneumatic model parameters were identified experimentally using iterative maximum likelihood estimation. The method used by Guvenc et al. in [45] for modelling and numerical model parameter determination was general in nature and could be applied to other pneumatic systems after some modifications.

2.3.2 Pneumatic System Control
A number of control methods have been applied to improve the control performance of pneumatic servo systems. Wang et al. [46] proposed a modified proportional, integral and derivative (PID) control strategy for servo-pneumatic actuator systems, but the acceleration feedback signal required in this control strategy was difficult to obtain in

15

practice.

To improve the performance of servo-pneumatic actuator systems, one possible solution is to employ the advanced nonlinear control strategies developed in recent years [47][48]. A study of a gain-scheduling method for controlling the motion of pneumatic actuators was published by Pu et al.[49]. This scheduling scheme was based on a simplified plant model without the use of any prior knowledge, such as the dynamic behavior of the pressure build-up in the actuator chambers. A gain-scheduled controller was designed by Repperger et al. [50] for regulating the response of a large-scale pneumatic muscle actuator device, which has inherently nonlinear dynamics. The gain-scheduled controller was linearized about the operating points where the dynamic range of the system was intended for operational use.

However, in pneumatic servo systems, it is difficult to achieve the satisfactory control performance by using PID or optimal control methods because of changes in load mass, friction and air compressibility, which cause noticeable parameter variations of the plant. The accurate pneumatic plant model is difficult to obtain. Therefore, an adaptive control system in which the controller can be adjusted based on the identification results of the plant has been introduced to improve the control performance of pneumatic servo systems [51 ][52]. An adaptive control system is usually constructed by discretizing the continuous-time plant using a zero order hold [53]. An adaptive pole-placement control is well known as an effective method for such a non-minimum phase plant. An improved design scheme of the adaptive pole placement control for the pneumatic servo system

16

with additive external forces was proved by Tanaka et al. [54].

To enhance the controller performance for the pneumatic system, a hybrid adaptive neuro-fuzzy model reference method was proposed by Kaitwanidvilai [55]. An adaptive neuro-fuzzy model reference controller (ANFMRC) and a hybrid ANDMEC were applied to control the contact force in a pneumatic system.

17

CHAPTER 3 SYSTEM MODELLING
It is often true that a good system model is the fundamental for understanding the system, and designing a good controller. In this chapter, a new Tripod-based polishing/deburring robotic machine developed at Ryerson University is presented. Contact modelling is then presented to establish the relationship between the contact stress and the contact force; friction modelling is presented to establish the relationship between the friction torque and the contact area. Based on the marco contact model , the model for the polishing system is developed. Based on the micro contact model, the model for the deburring system is developed.

3.1 Description of the Tripod-Ba· sed Polishing/deburring Robotic Machine
The tripod-based polishing/deburring robotic machine consists of two subsystems. The first subsystem is a five-axis robotic machine for tool/part motion control which has been developed at Ryerson University as shown in Figure 3.1. The tripod parallel robot is mounted on the upper linear motion system of a gantry and the toolhead is mounted on the moving platform of the tripod robot. The tripod robot can rotate the tool about two horizontal directions and translate it in the vertical direction. The part is placed on the lower linear motion system of the same gantry. By separating this two-axis gantry system, the top axis is used solely for the tool, while the bottom one is used only for the part. Therefore, the two axes are independent to each other in terms of design, assembly, and

18

repair. The combination of the three axis tripod robot with a two axis gantry forms a fiveaxis machine that offers a large workspace as well as a good dexterity.

ressure

Tripod robot

Part

Too

Figure 3.1 Polishing/deburring robotics system

The second subsystem of the polishing/deburring machine is the compliant tool. Because the compliant toolhead presented in this thesis can be used for both polishing and deburring process, it is called a dual-purpose compliant toolhead . By combining the planned pressure in the toolhead and the planned path of the robot motion system as described in Appendix A, the augmented G-Code is obtained. The compliant force generated from the tool to the part at different locations of the part is synchronized with the motion of the robot system. Here, the concept of the compliant force is briefly reviewed. Figure 3.2 illustrates the compliance arrangement applied during

polishing/deburring processes. The compliance in the tool normal direction is axial

19

compliance, and that in the tool tangential direction is the radial compliance. Since the tool spindle is pressed on the part surface in the normal direction as it rotates, the stiffness in the normal direction should be much less than in the tangential direction. The main function of the axial compliance is to adjust the polishing/deburring force to accommodate the varying geometry of the part surface/edge profile. Therefore, the axial compliance of the tool is designed as active. The radial compliance, on the other hand, is passive, and is small compared with the axial compliance, therefore is ignored here.

Axial compliance Radial compliance

Figure 3.2 Tool compliances

Figure 3.3 shows the design of the compliant toolhead that is attached to the moving platform of the tripod robot. This is an active axial-compliant force device made of three pneumatic cylinders that are evenly distributed and constrained to move only in the axial direction of the tool axis. The same source of air pressure is supplied to all the three pneumatic cylinders, so their extension and retraction are synchronized and identical. This design allows the pneumatic tool spindle to be held in the centre of robot's moving platform. The tool spindle is guided axially by a linear bushing. One end of the cylinder is attached to the fixed mount by using three set screws; the other end of the cylinder is attached to the moving mount. When the pneumatic cylinder is actuated and extends and

20

retracts, the connecting link of the pneumatic cylinder will move the moving mount up and down in order to move the tool spindle up and down, thereby supplying the axial compliant force to the tool. Different shapes of polishing/deburring tools are available for different part geometries. Tool change can be done through opening and closing the chuck of the tool spindle. Figure 3.4 shows the prototype of the toolhead.

~ ~ Tool spindle

Robot moving platform

pneumatic cylinders Linear bushing Moving mount et screw

Figure 3.3 CAD model of the compliant toolhead assembly

From the introduction of the entire tripod-based polihing/deburring robotic system, it can be concluded that the entire system is a decoupled system, because the tripod robot is

21

used only to provide the feeding motion of the tool relative to the part, while the compliant toolhead is used to provide the tool force independently.

Fixed mount Moving
mount-------~~

Tool spindle

Figure 3.4 Prototype of the compliant toolhead

An in-house toolhead control system has been developed as shown in Figure 3.5 to drive the robotic polishing/deburring system. The spindle speed control is carried out via a flow valve (CPE18-M1H-3GL-1/4 from Festo). The pressure control of the tool is carried out by a pneumatic proportional valve. A proportional pressure control valve (MPPE-3-1141-6-01 OB from Festo) was first used for the pressure control. However, from the initial experimental test, the response frequency was shown to be only about 5 Hz. This response frequency is too slow for the required pressure tracking control. Therefore, a proportional directional control valve (MPYE-5-1 /4-01 08 from Festo) with the response frequency 100 Hz is chosen for this system. This valve is effective to perform the

22

pressure tracking control in the three spring return pneumatic cylinders (EZH-1.5x6.5-l 0 from Festo) that provide the compliant force in the tool axial direction. For polishing application, only pressure control is required. As explained later in this chapter, since the part geometry is known, the tool pressure can be planned beforehand. For deburring application, however, the geometries of the burrs are usually unknown and often appear at random locations and in random shapes. To address this problem, a linear encoder is added to the compliant toolhead to measure the extension of the tool length. The burr height can be determined by the relative value of the tool length to a nominal value. Based on this measurement online, a control strategy can be designed to remove the burr.
It should be noted that in the current deburring practice, a rigid tool is usually used and

the tool runs a risk of being broken due to lack of compliance.

Spindle Control

vl
I

I

Flow Control

Pressure Parameter Planning

Proportional Control

Figure 3.5 Control system of the toolhead

23

Figure 3.6 shows the schematics for the dual-purpose compliant toolhead control system. The entire system is controlled via a MC8-DSP-ISA board from the Precision MicroDynamics Inc. with a sampling frequency of I 000 Hz. The minimum pressure needed to actuate the toolhead would be less than 1.5 bars. Therefore the supplied air pressure for the directional control valve is set as 3 bars. The proportional directional control valve has three working conditions: fully filling, fully discharging, and partially filling/partially charging. For the polishing and deburring control in this study, the cylinder pressure needs to be maintained at a certain level, therefore only the partially filling/partially discharging condition is applied. From the measurement of the pressure inside the pneumatic cylinder vs. time, when the valve input is between 4.3 volts and 5.9 volts, the pressure inside the cylinder cannot reach either the supply pressure or the atmosphere pressure. This phenomenon indicates that the valve is working at the partially filling/partially discharging condition in this range. When the input voltage is 5.9 volts, the air pressure inside the cylinder reaches the atmosphere, and when the input voltage is 4.3 volts, the air pressure inside the cylinder reaches the supply pressure. For the simplification, the control input signal Vp is scaled in this research. 5.9 volts is scaled to 0 volt and 4.3 volts is scaled to 1.6 volt. The input voltages between the 5.9 volts and 4.3 volts are scaled correspondingly to the range between 0 volt and 1.6 volts. For example, 5.8 volts is scaled to 0.1 volt and 4.4 volts is scaled to 1.5 volts. Therefore when the scaled input voltage is increased from 0 volt to 1.6 volts, the valve is working at partially filling condition, when the scaled input voltage is decreased from 1.6 volts to 0 volts, the valve is working at partially discharging condition. The control signal Vp for the pressure valve is generated through a D/A channel on the DSP board. For closed-loop control, the

24

measured cylinder pressure data Pc or the measured tool length data z are fed back into the DSP board through an AID channel and an encoder channel for polishing or deburring control, respectively. The control signal Vq for the flow valve is generated through a digital I/0 channel on the DSP board.

Connected to the moving Mount for the ---.,f--+-f-+-~--J.4--I-I,--..t+-----, Comp Iiance Tool
z ____
Vp
_.....:-:~-~

~q,
1

Control command for the flow valve
i ;'.:'i
1 , .· 11
, 1

Control command for the

.-=--;
I

-~---;~, ~,

. : ~:

Exhausf

. Supply Compressed Atr

pressure valve

Compute; I

Figure 3.6 Schematics of the toolhead control system

3.2 Contact Modelling for a Fixed Polishing Stone
Recalling from the introduction, it is the contact stress, not the polishing force that determines the polishing quality. Contact modelling is concerned with the contact interaction between the tool and the part, including the size of the contact area, the contact stress and the friction force. There are two levels of modelling, micro contact

modelling and macro contact modelling, as described in the literature review.

In this research, the macro contact model developed from the previous research [14] is

25

adopted for polishing control. Contact stress is the main concern in this section. Contact stress refers to the pressure (stress) arising from two bodies subjected to compressive loading by forcing them together. With the relationship between the contact stress and the force exerted on the tool from the contact modelling, the constant contact stress condition can be maintained by adjusting the force exerted on the tool.

Figure 3.7 shows a contact model of two semicircular disks pressed together. Each disk has a maximum and a minimum principal radius represented by R 1 and R '1 for disk 1, and

R2 and R '2 for disk 2; disk I being above while disk 2 rests below.

1; --·
1 .

j
'

Applied Force F

\I

I

',\

\

F 'i

.. l

I

>

Figure 3.7 Contact between two disks

As both disks are of an elastic material, the contact results in elastic deformation. Initially a point contact occurs at the instant when the tool and the part touch. As the applied force

26

increases, the point contact becomes surface contact, and the contact area will continue to increase with the increasing force. The applied force or the contact force F is perpendicular to the contact surface plane. Such a contact stress is known as Hertzian contact stress. Hertzian contact stress refers to the localized stresses that develop as two curved surfaces come in contact and deform slightly under the imposed loads. This amount of deformation is dependent on the elasticity of the material in contact, i.e., its modulus of elasticity. It gives the contact stress as a function of the normal contact force, the radii of curvature of both bodies and the modulus of elasticity of both bodies. With this introduction of contact stress, disk 1 could be replaced by the polishing tool, while interpreting disk 2 as the part. In what follows, the derivation of the contact stress model will be described.

In general, the contact area is formed elliptic [56].

The maximum pressure, i.e. the

principal stress, occurs at the centre of the elliptic contact area and lies on the surface of contact. The principal stress on the contact surface is given as follows [56]:

(3.1)

where .O"zz is the compressive principal stress (indicated by the negative sign), and

M=

2k ' k' 2 E(k')

n=

(3.2)

27

The variable

k=!!_
a

(3.3),

where a and b are the semi-major and semi-minor axis of the ellipse of contact, respectively, hence k < 1, thus define

k'=~
and
7r l 2

E(k')

=

J~I-k' sin
2

2

()

d()

(3.4)

0

is a complete elliptic integral of the second kind,

7r l 2

K (k ') =

f o ~1-k' sin

d()

----;:===== 2 2

()

(3.5)

is a complete elliptic integral of the first kind. In Equation (3.2) A and 8 are positive constants that depend upon the principal radii of curvature of the surfaces at the point of contact shown as follows:

28

A=

_!_(-I + _I + _I_ + _I_)
4 R1

R2

R 11

R2
1

4

__ I )+(-I __ 1 [(_I Rl R R2 R
1 1

2 _

)]

I

2

(_I __ 1)(-I __ I )sin 2 t/J 4 Rl R R2 R
1 1

I

2

B=

_!_(_1 +_I +_I_+ _I_)
4 R1

R2

R 11

R2
1

+_!4_ [(-1 __ I )+(-I __ I Rl R R2 R
1 1

2
)]

_

I

2

(_I __ I )(-I __ 1)sin2 t/J 4 Rl R R2 R
1 1

I

2

In addition to the above equations the following also holds [56]

B

A

=-------

(II k 2 )E(k 1)-K(k 1)

K (k

1 ) -

E (k

1 )

(3.6)

1

b=

3

3kE(k 2tr

)

(F~)

(3.7)

Equation (3.6) is used to determine the value of k, and therefore k is a function of the ratio of B to A. As the ratio of B to A increases, the value of k decreases. Moreover, since both Band A are a function of the radii of curvature, k is ultimately a function of the radii of curvature as well. Based upon the determination of k, the semi-minor axis b can be obtained by applying Equation (3.7). With k and b determined, the semi-major axis a can now be calculated if desired.

29

The polishing tool is chosen depending on the shape of the part. If the part surface is concave, a ball shape polishing tool needs to be selected. The part radii of the curvature are negative. If the part surface is flat, a flat polishing tool can be chosen. The contact stress between the tool and the part is always constant when the contact force is constant. If the part surface is convex as selected in this research, the polishing tool can be chosen as a flat polishing tool, i.e. the polishing head is cylindrical with its axis of rotation normal to the part's surface. Therefore, the radii of the curvature R 1 and R1 ' are taken to be infinite. The angle between the corresponding radii of curvature is taken as zero ( ¢ = 0). Since the focus here is on the stress at the contact surface, Z = 0 and correspondingly from Equation (3.2) it can be solved that n
=

k. For this situation the absolute value of

maximum contact stress Po can be obtained from Equation (3.1) as follows:

Po=

b
E(k')/1

(3.8)

Substituting R1. R '1. R2. R '2 and ¢ into A and B, the ratio B to A now becomes:

(3.9)

Since R '2 is the maximum radius of curvature on the part while R2 is the minimum radius of curvature, the ratio of B to A is always greater than unity. One may also infer that as

30

the ratio of maximum radius to minimum radius of curvature increases, the contact region will become more eccentric.

Furthermore, due to the stress being Hertzian and the contact area being elliptic, the stress also follows an elliptic distribution. Johnson [57] showed this distribution as a function of Cartesian coordinates x and y, where the coordinate frame's origin is concentric to the ellipse origin shown as

(3.10)

where Pseg is the pressure at a particular segment on the contact surface. The maximum stress occurs at the centre of the ellipse while the stress is zero at the perimeter. Equation (3.1 0) stems from the equation of an ellipsoid:

(3.11)

Here, the maximum contact stress is equivalent to c (i.e. c = Po), while z represents the variation of stress at different x andy values (i.e. z
=

Pseg(x, y)). Substituting these values

into Equation (3.11) and rearranging to solve for Pseg(x, y) gives Equation (3.1 0).

Moreover, the mean stress across the elliptic contact area can be obtained by dividing the volume of the semi-ellipsoid by its elliptic area [56], these yields

31

(3.12)

The user specified contact stress is considered as the mean contact stress. Substituting Equations (3.8) and (3.7) into Equation (3.12), the stress at the contact surface is expressed as

(3.13)

After further manipulation the applied force exerted on the tool or the applied contact force F between the tool and the part is obtained as follows

F = 9Jr £2 (k')f:/ pm 3
4k

(3.14)

Therefore Equation (3.14) shows the relationship between the contact stress and the contact force.

3.3 Friction Torque Modelling
In addition to the tool pressure, the tool spindle speed is another important factor for polishing quality. Intuitively, constant tool spindle speed ensures better performance of

32

the polishing process. The tool spindle speed is affected by the friction torque. The friction torque is caused by the frictional force between the tool and the part's surface opposing the tool's rotational motion. The friction torque can be expressed as

(3.15)

where Ff =JlkF is the friction force, Jlk is the coefficient of the kinetic friction, F is the contact force between the tool and the part, and it is normal to the contact surface.

The friction torque is derived considering the Hertzian elliptic region as shown in Figure 3.8 , where r is the radius of contact surface, e is the angle between semi-major axis a and the segment dA. The contact area is formed when the toolhead is in contact with a part.

I .

· .

dA
,

· de · r.de

a

...

----- ----·- --Figure 3.8 Diagram of an elliptic contact area

In general the infinitesimal torque at the segment shown in Figure 3.8 is given as

(3.16)

33

where dF=

Pseg

dA, substituting dF into Equation (3.16) yields

(3.17)
and

dA =rdrde

(3.18)

Substituting Equation (3.18) into Equation (3.17) yields the following equation:

Since the focus of friction torque modelling is not on the pressure at particular locations within the elliptic contact area, but on the pressure over the entire elliptic contact area, the pressure at the infinitesimal segment, contact area. Therefore
Pseg Pseg,

is taken to be the same throughout the

can be replaced with the average or mean contact pressure

from Equation (3.12) and yields

(3.19)

Integrating both sides of Equation (3.19) yields

(3.20)

34

where for the elliptic region, R is the maximum radius at a particular angle e. R is a function of the angle between the semi-major axis and the direction of the radius, and it is expressed through the equation:

(3.21)

Substituting Equation (3.21) into Equation (3.20) yields

p

2ff
2

Tf =

Jlk

m

3

J(a cos e + b sin e)
0

2

2

2

312

1 3 3 de=- rk 11 P :r(a + b ) m 3

(3.22)

Substituting Pm from Equation (3.13) into Equation (3.22), and a further manipulation yields

(3.23)

Equations (3.22) and (3.23) provide the friction torque as a function of the mean contact stress Pm and the contact force F, respectively.

3.4 Tool Spindle Rotational Speed Modelling
Investigating the effects of friction torque on the tool spindle speed is critical in achieving

35

the goal of maintaining a constant speed throughout the polishing/deburring process. From [14] the relation between the tool spindle rotational speed and its torque is developed and is described here.

The power input of the pneumatic tool spindle can be considered as

w;n = ~V

(3.24)

where Win is the power input to the pneumatic tool spindle, Fq is the force applied inside the pneumatic cylinder and Vis the velocity of the air inside the pneumatic cylinder. In the case of the pneumatic tool spindle, the force is a product of pressure multiplied by the cross-sectional area of the intake port to the spindle. One can write the above power equation as follows:

(3.25)

where Ps is the supply pressure, Px is the exhaust pressure, and Ax is the cross-sectional area of the intake port to the spindle. The exhaust pressure is the output pressure from the spindle. As well, the volumetric flow rate, q is the product of the cross-sectional area Ax and the velocity of the air

V. which is q=AxV, hence

(3.26)

36

The power input is equal to the pressure drop across the spindle times the volumetric flow rate through the spindle. The resistance of the fluid flow is defined as

Rl = (~v -PJI q

(3.2 7)

Rearranging equation (3.27) to obtain the pressure drop (Ps-Px) , and then substituting the pressure drop into equation (3 .26) yields

(3.28)

Now consider the power output of the tool , it can be given as

(3.29)

where TR is the resultant torque or output torque of the pneumatic spindle. Due to the loss of mechanical efficiency, the power output will be less than the power input as shown below

(3.30)

where 17 is the mechanical efficiency, and is less than 1. Combining Equations (3.28), (3.29) and (3.30) and solving for TR yields

37

TR-

7JR q2
f
OJ

(3.31)

Furthermore, the pneumatic spindle dynamics can be derived as below. From Euler's laws, summing the moments about the rotating axis of the tool spindle, i.e. the z-axis, it leads to the following:

(3.32)

where I denotes the moment of inertia of the toolhead, and dJ denotes the angular acceleration of the spindle. Substituting TR from Equation (3.31) and T 1 from Equation (3.23) into Equation (3.32) yields

(3.33)

Also note that when the spindle is running at a constant speed, dJ is zero, the output torque TR in Equation (3.32) is equivalent to the friction torque T 1 given in Equation (3.23). Therefore Equation (3.33) can be rewritten as

38

(3.34)

The tool spindle does not produce torque at the free running speed, while it exerts a maximum torque when the spindle stalls. The tool spindle speed can be expressed as a function of resultant torque or output torque TR by using the following equation [58]:

OJ=OJo (1 - - )

TR

~nax

(3.35)

where

OJ

is the spindle speed and expressed as a function of output torque TR, Tmax is the
OJo

maximum spindle output torque, and

is the free running speed of the spindle when

there is no load. Figure 3.9 shows a speed-torque relation. It can be assumed that the spindle rotates at oJ 2 under flow rate q 1, i.e. on the lower line. As can be seen in Equation (3.23), when geometry changes, under the constant force condition, the friction torque will change from T11 to Tf2, and the associative output torque will change from TR 1 to TR2· Therefore, from Equation (3.34), the spindle speed is reduced to
OJ 1·

Thus the spindle tool

speed is affected by the variation of the friction torque due to the variation of the part geometry. If the spindle speed is required to remain at the original speed
OJ 2 ,

the flow rate

must be changed from q1 to q2, i.e. from the lower line to the upper line. As a result, the spindle speed can be put back from
0J1

to

0J2.

39

~

------+---,
I I I I I

I I

I I

I I I I I

Spindle Speed

Figure 3.9 Spindle speed vs. spindle torque

3.5 Polishing System Modelling
Figure 3.10 is a block diagram showing the dynamic interaction in the polishing control system. There are two control inputs, _ one for the pressure control and the other for the flow control. There are two outputs, one being contact stress between the tool and the part, and the other being tool spindle speed. The input voltage Vp is supplied to actuate the pneumatic proportional directional control valve to provide the tool pressure. The tool pressure causes the pistons of the cylinders to extend, moving the polishing tool downward in contact with the part's surface. This actuation applies a polishing force on the part. Simultaneously, the input voltage Vq is supplied to actuate the flow valve to provide a flow rate. The volumetric flow entering the pneumatic spindle provides a power output, and these complementary actions enable a pneumatic torque. Finally, based on the tool/part interaction, a contact stress and a spindle speed are obtained.

40

~Voltage
I (Vp) I I I I I I

----------------------_ _ Pressure Force
Electrical Pneumatic Valve
(Pc}

~----------------~

Pneumatic Cylinder

(F)

I I I I I I
I

Contact Stress (Pm)
··-

-

__.

1 Voltage I (Vq)__
I I
~

Volumetric Flow Electrical Flow Valve
(q)

Tool Spindle

Torque (TR)

Tool /Part Interaction

' - - - - - - - - - - ' Spindle Speed

(co)

-----------------------

'----------------

Figure 3.10 Block diagram illustrating the dynamic interaction

The relation between the contact stress Pm and the applied force F due to the tool/part interaction is expressed in Equation (3.14). The relation between the spindle speed ro and the output torque TR due to the tool/part interaction is expressed in Equation (3.31) Adjustment of the cylinder pressure by changing Vp permits variation in the contact stress

Pm, but this will also affect the spindle speed due to the tool/part interaction as described
in the last section. Therefore, if a constant spindle speed is required, the flow rate must also be adjusted.

In the block diagram from Figure 3.10 the relation between the cylinder pressure Pc and the input voltage Vp is given as [14]

(3.36)

where Gp is the transfer function of the pneumatic valve relating the input voltage and the cylinder pressure. Because the spring that exists inside the pneumatic cylinder causes the

41

spring return force, the relation between the cylinder pressure Pc and the applied contact force F is given as

(3.37)

where Ac is the cross section area of the piston inside the pneumatic cylinder, f is the spring return force of the pneumatic cylinder which can be obtained through stiffness measurement. The friction force inside the cylinder is relatively small compared with the applied force and the spring return force and is ignored here. Substituting Equation (3.36) into equation (3.37) and solving F yields

(3.38)

The relation between the applied contact force F and the contact stress Pm is given in Equation (3.14). Substituting Equation (3.38) into Equation (3.14) yields the solution of Pm in terms of the control command Vp shown as

p =
m

31

_4_k_( G-=-P_V.:....._PA_c_-_1_)

9Jr £ 2 (k ')/)/

(3.39)

The next step is to determine the relationship between the output torque and the control input command Vq. The relation between the input voltage Vq and the flow rate q is given as [14]

42

(3.40)

where Gq is the transfer function relating the input voltage to the flow rate. Substituting Equation (3.40) into Equation (3.31) yields

1JRrG:~2 TR = _..:;_ · ---'---'-OJ

(3.41)

In summary, there are two control goals, namely constant contact stress control and constant spindle speed control. The entire control system can be expressed in the following matrix

(3.42)

This is a decoup1ed nonlinear control system, corresponding to the left-hand side of Figure 3.1 0. The right-hand side of Figure 3.10 is the tool/part interaction. Under the condition of a constant contact stress Pm, for a given part geometry, the applied contact force F can be determined using Equation (3.14), which can be directly related to the cylinder pressure Pc through Equation (3.37). The goal of the pressure control is to keep actual Pc as close to planned Ppc as possible. In other words, this is the problem of

43

pressure tracking control. Under the condition of constant spindle speed w, for a given part geometry, the flow rate q can be determined through Equation (3.34). Therefore the output torque TR can be obtained from Equation (3 .31 ).

Figure 3.11 shows the change in the spindle rotational speed with variation in the part geometry under the constant input Vq. The part is the doorstop shown in Appendix A and the parameters of the geometry for this simulation are taken from the pressure planning in Appendix A. It shows that the spindle rotational speed varies when the Vp is adjusted according to the part geometry to maintain the constant contact stress. Since our focus is on pressure control, an on/off control valve is used for the flow control in our current tool spindle control. A constant spindle speed control will be considered in the future work.

4400 4200

~ .f. 4000 "i Ql
~

"E ·a (I)

~

3800 3600

3400

2

3

4

7

a

lime [s]

Figure 3.11 Spindle speed vs. varied part geometry

44

3.6 Deburring System Modelling
As discussed in the preceding sections, only the Het1zian contact tnodelling was considered, which is static, and the dynamics of the tool system was not included. These modelling methods are only effective for small deviations in the part geometry, in which the dynamics is negligible. When the part geometry deviates significantly, such as burrs, the dynamics of the tool must be taken into account. In this section, a dynamic model of the tool system is presented based on the axial compliant tool model, as shown in Figure 3.12. In the tool system, the tool is pressed against the part by three single acting pneumatic cylinders that have a return spring in the axial direction denoted by z. The dynamic model of the tool can be expressed as

Mi+Ci+ Kz

=up

-F

(3.43)

where At is the tool mass, C and K are the damping and stiffness of the spring inside the cylinder, respectively, up is the input to the control system and up = Fe = PcAc, F is the reaction force fron1 the part or the contact force between the part and the tool.

45

Moving Platform

K

z

Cylinder

M

Tool

Contact Model

y

Figure 3.12 Axial compliance modelling for the tool

The contact forc.e F was given in Equation (3.14), which is a nonlinear equation based on the macro contact model between the· tool and the part. Using the micro cutting model, this force can be expressed as a linear equation, thereby simplifying the dynamic model. The micro depth of cut considering the multiple grains of a polishing/deburring tool can be expressed as [33]:

(3.44)

where HB is the hardness ofthe part (N/mm the number of grains inside the contact area.

2 ). rg

is the radius of the grain (mm), and 1Vis

46

Assuming that the part is cut by h for each rotation, then the velocity at which the tool cuts into the part is equal to the tool rotational speed (!)multiplied by has

(3.45)

where the tool rotational speed ro is expressed in terms of rps (revolutions per second). From Equation (3.45), the contact force can be expressed linearly propOttional to the tool axial cutting velocity as

(3.46)

where Ce is given as

(3.47)
OJ

Substituting Equation (3.46) into Equation (3.43) yields a linearized dynamic model of the tool system

(3.48)

47

3.7 Summary
A new tripod based polishing/deburring robotic machine with a dual-pupose compliant toolhead system was developed that decoupled the motion control from the tool force control. The macro contact model is adopted for the polishing system modelling, which includes the contact stress modelling, friction force modelling, and spindle rational speed modelling. The relationship between the contact stress and the cylinder pressure, and the relationship between the spindle speed and the flow rate were obtained from contact modelling. The contact model described in this chapter was verified by an open-loop controller which was proposed in [14], and the experiment results showed that the constant force polishing changed the geometry of a curved part, while the constant stress polishing did not. In this thesis, we aim at developing a closed-loop control for polishing/deburring process. For the polishing process, based on the marco contact model, the cylinder pressure is pre-planned according to the variation of the geometry of the part, the closed-loop controllers will be developed to fullfill the pressure tracking control objectives in Chapter 4 and 5. For the duburring process, based on the micro contact model, the dynamics of the compliant tool system was developed. Since the focus in this thesis is the automatic control for polishing process, deburring function is just an extra function for the dual-purpose compliant tool, therefore the controller developed based on this deburring system model will be discussed in the future. In Chapter 4, a closed-loop PID controller is developed to regulate the tool length by tuning PID gains from experiment.

48

CHAPTER 4 CLOSED-LOOP CONTROL
Open-loop control was implemented first [14] for the polishing control. Open-loop control includes two plannings: path planning and parameter planning which are described in Appendix A. In the open-loop control system, the output pressure is not fed back for comparison with the input. Thus each reference input corresponds to a fixed operating condition. As a result the accuracy of the system depends on calibration. Furthermore, in the presence of disturbances, an open-loop control system will not perform the desired task. In the practical system of open-loop control [ 14 ], since there are no tracking for the output pressure, the valve response shows that the output pressure has steady state errors. The steady state error could be caused by the disturbance of the system due to the volume variation of the cylinder or the calibration errors of the system if the spool inside the pneumatic valve is worn out after the heavy duty operation. Therefore it is necessary to develop the closed-loop control strategy to track the pressure inside the pneumatic cylinder for the polishing/deburring process.

An advantage of the closed-loop control system is the fact that the use of feedback makes the system response relatively insensitive to external disturbances and internal variations in system parameters. It is thus possible to use relatively inaccurate and inexpensive components to obtain the accurate control of a plant, whereas doing so is impossible in the case of open-loop control. In this chapter, the closed-loop controller is applied for both polishing control and deburring control by using the dual purpose compliant tool. PID controller is a simple but effective controller widely used in the industry area. For

49

the polishing control, the constant force is applied from the tool to the part first for the polishing process test, and then the tool pressure is pre-planned based on the given part geometry. A valve based closed-loop PID controller is applied for pressure tracking in order to maintain the constant contact stress between the tool and the part for the polishing process. The experimental results such as the part profile and surface roughness are obtained by using a 2-D laser profile scanner (Cobra 20 from Optical Gaging Products Inc.). The resolution of the profile scanner is 10 micrometers in the z-direction, the same direction as the height of the part; the dynamic resolution is 1.0 micrometers. The experimental results are compared and discussed. Since the dual-purpose complaint toolhead also has the function of deburring, therefore for the deburring control, a tool based closed-loop PID controller is applied to regulate the tool length through tool extension sensing.

4.1 Valve Based Closed-Loop Pressure Control for Polishing Process
For the polishing application, the key is to maintain the constant contact stress by adjusting the cylinder pressure Pc. Therefore the cylinder pressure is pre-computed based on the part geometry. Thus, the polishing control can be treated as the problem of pressure trajectory tracking control inside the pneumatic cylinder. A PID controller is applied to achieve this control goal. The pressure sensor (PENV -A-PS/0-K from Festo) is placed in the position as close to the cylinder as possible and is used to measure the cylinder pressure. The control block diagram for the pressure tracking is shown in Figure 4.1. The output pressure in the pneumatic cylinders is fedback to compare with the

50

desired planned cylinder pressure Ppc· The error ts converted to the change of input voltage Vp by using the PID controller.

(Vp)
r----- ----,

(Pm)

PID Controller

Voltage Input u

Electrical Pneumatic Valve

f--.,--~

(Pc) ,--------, ( F ) ,-------------, Contact Pressure Force Stress Pneumatic Tool/Part Cylinder Interaction

Figure 4.1 Closed-loop pressure control block diagram

The transfer function for PID control is

(4.1)

where

E p(S) = Ppc(S) -

~. ( S)

(4.2)

Kpp,

Kpi,

and

Kpd

are the proportional gain, integration gain and derivative gain,

respectively.

51

4.2 Tool Based Closed-Loop Pressure Control for Deburring Process
In this section, a deburring control method is presented by usmg the dual-purpose compliant toolhead. Conventionally, the objective of deburring control is to maintain a constant deburring force. Since the dual-purpose compliant toolhead can measure the tool length extension, the control objective in this case can be treated to maintain a constant tool length of the toolhead while traveling along the part geometry. In this way, when the tool meets the burr, the toolhead will be pushed upward, and the linear encoder can sense the change of the tool length. If the burrs are large, the de burring force can be increased to remove burrs quickly. If the burrs are small, the deburring force can be reduced to avoid over cut.

Figure 4.2 shows the block diagram for the closed-loop tool length control for the deburring process. A linear encoder is used to measure the tool length in the real time. The measured tool length signal is compared with the desired tool length. The control effort is generated based on the tool length error by applying a tuned PID controller.

(zd}

(Vp) Voltage.---- - - . (Pc) .---- - - - , Input u Electrical Pressure PID f---~ Pneumatic t - - - - --.! Pneumatic Controller Valve Cylinder

(F)

(z)

Force

Tool/Part Interaction

Tool Length

Figure 4.2 Closed-loop tool length control block diagram

52

The transfer function for PID control is

(4.3)

where
(4.4)

Kzp, Kz;, and Kzd are the proportional gain, integration gain and derivative gain,
respectively.

4.3 Experiment for Polishing and Deburring Processes
In this section, the experiments were carried out to verify the proposed control strategies for polishing and deburring processes by using the dual-purpose compliant toolhead. The experimental results are discussed.

4.3.1 Experiment for Polishing Control with Constant Contact Force
In this subsection, a constant force is applied from the tool to the part to test the polishing results. These results will be compared with the polishing results by applying the constant contact stress theory. A doorstop as shown in Figure 4.3 is used to test the polishing process. The task of the experiment is to polish the edge of the doorstop which has no CAD model. Therefore the polishing path is unknown. The edge of the doorstop is probed point by point using a touch probe and the path of the edge is generated as

53

described in the Appendix A. Figure 4.4 shows the minimum radii at different location of the part. Figure 4.9 shows the planned pressure
Ppc

at different location of the part which

are calculated from Equations (3 .14) and (3 .3 7) if apply the constant contact stress theory.

It can be seen from these two figures that the bigger the radii, the larger the planned
pressure needed for the polishing process. For the test of the polishing by applying a constant applied force, the pressure is chosen to be 2.3 bars, which is approximately in the middle between the highest pressure 2.92 bars and the lowest pressure 1.74 bars as shown in Figure 4.9. In this way, a constant force is generated from the pneumatic cylinders and applied from the tool to the part. The higher contact stress is generated in the middle of the polishing area while the lower contact stress is generated at both end of the polishing area.

Polishing along this edge

Figure 4.3 Doorstop

54

31.-~ \ ~--~--~--~--~--~--~--~~

30

29
28

E 27
~ 26
E

I

~

25
24

23

\
6 8

22

~J
10 12 14 16

I
18 20 22

Part length- y[mm]]

Figure 4.4 Minimum radii
3

2.8
(ij
..0

\

-0

0..
Q)

2.6

::::;
(f) (f) Q)

2.4

c._
Q)

"0

c: c: ro Ci. Q;

2.2

\\
8

.!:

"0

2

u

>.
1.8

~

/

I

I I
20 22

~--~

/.//
18

1.6

4

6

10 14 16 12 Y axis ofthe part- y[mmj

Figure 4.5 Planned pressure

The part profile is measured by using a 2-D laser profile scanner (Cobra 2D from Optical Gaging Products Inc.) before and after polishing as shown in Figure 4.6.

55

3.----.----~-----.----.-----.-----.----.

2.5

2 ......

!1.5
~
en ...

~!
-~(~~ ...... .:....... Profi)e. after.p. o Jsh1ng ..... .:..... :-~·.. -~· ... .. . .
//: : with :constant force :

:

.

Orinjnal profile :

.

;

0.5

<~............. .. -~

:

.

~ .. .... .. ....~·>\~

''·,·-:--""-.~

0

... .... .. .......... .. .. . ·. ..... .. .

-0.5 .________._______._______.______,_____ 0 2 4 6 8 10 Length- y [mm]

_ J __ _ _ _..J,..__ _____l

12

14

Figure 4.6 Part profile before and after polishing

It can be seen from this figure that more materials are removed in the middle of the arc
due to the over-polishing which is caused by the higher contact stress, while less materials are removed at both end oftbe arc due to under-polishing which is caused by the lower contact stress. The variance of the profile error between the original profile and the polished profile shown in Figure 4.6 is calculated as a 2 = 0.0036.

Figure 4.7 shows the part after.polishing. The roughness is measured at different areas by using a 2-D laser profile scanner before and after polishing and the measured results are shown in Table 4.1. The roughness improvement rate can be expressed as

R -R
u
P X

100%

(4.5)

Ru

56

where Rp is the mean roughness of the polished area and Ru is the mean roughness of the unpolished area. From Table 4.3, Rp and Ru can be calculated as

Ru=(O.O 1322+0.0 1232+0.0 1086)/3=0.0 121 mm

Rp=(0.00283+0.00366+0.00422)/3=0.0036 mm

Therefore the roughness improvement rate can be calculated as

Ru- Rp X 100% = 0.0121-0.0036 X 1OO% = ?0. 2 S%
Ru 0.0121

(4.6)

Table 4.1 Roughness measurement at different areas of the part Measured Area (1) (2) (3) Roughness before polishing Ru(mm) 0.01322 0.01232 0.01086 Roughness after polishing R0 (mm) 0.00283 0.00366 0.00422

Figure 4.7 Polished area of the part

57

It is also noted that the roughness of these 3 measured polished areas are not consistent

and the variance is 4.891 Oe-007. In this measurement, the increment index of the sensor is chosen as 0.05, maximum exposure of the sensor is set as 0.00976 seconds.

4.3.2 Experiment for Polishing Control with Constant Contact Stress
A doorstop is used as an example to test the polishing control with the constant contact stress theory. As described in Appendix A, the augmented G-Code with the planned pressure parameters is generated as shown in Table 4.2. This augmented G-Code is used here for the polishing control.

Table 4.2 G-Code with planned pressure parameter NOS M03 NllO GOl N120 GOI Nl30 GOI Nl40 GOI Nl50 GOI Nl60 GOI Nl70 GOI N180 GOI N190 GOl N200 GOI N645 M05

X2.813 X2.817 X2.821 X2.825 X2.829 X2.833 X2.837 X2.841 X2.845 X2.849

Yl8.677 Y17.01.0 Y15.343 . Yl3.677 Y12.010 Yl 0.343 Y8.677 Y7.01 0 Y5.343 Y3.677

Z-7.544 Z-6.940 Z-6.500 Z-6.209 Z-6.050 Z-6.0 I 0 Z-6.075 Z-6.230 Z-6.469 Z-6.808

A-22.2 80.0 A-17.3 80.1 A-12.7 80.1 A-8.5 80.2 A-4 .5 80.2 A-0.8 80.2 A2.9 80.2 A6.7 80.2 Al0.6 80.1 Al4.7 80.1

P1.59 P1.69 Pl.84 P2.00 P2.15 P2.24 P2.26 P2.19 P2.06 P1.92

Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O

Figure 4.8 shows the minimum radii at different location of the part. Figure 4.9 shows the planned cylinder pressure
Ppc

at different location of the edge of the doorstop which are

calculated from Equations (3.14) and (3.37). It can be seen from these two figures that the bigger the radii , the larger the planned cylinder pressure needed for the polishing process.

58

25

0::

'g

23

:::::=:

s

E ::I E

22

21

20~--~--~--~--~---L---L---L--~--~

20

18

16

14

12 10 8 Part length-y [mmJ

6

4

2

Figure 4.8 Minimum radii of the part

2.3 r---r---.----,,------,------,,-------,-~-~---2.2 ;.[ 2.1
0..
u

~

ct
-o
~

(f) Q)

~

2
1.9
1.8

c

~

0..

Q;

u

:§ >-

1.7
1.6

1.5 .____. _ _ _ . _ _ _ _ _ . j . _ _ _ _ J_ __ _ J_ __ _ J_ 16 14 12 20 18 10 8 Y axis of the part-y [mm]

___J_

___J_

___J

6

2

Figure 4.9 Planned cylinder pressure

Figure 4.10 shows the experimental results of the cylinder pressure tracking control for the polishing process. From the time at 69 seconds, the toolhead started being in contact with the part. It ended at the time of 89 seconds and the tool left contact with the part.

59

Figure 4.11 shows the pressure tracking error between the time at 69 seconds and 89 seconds. It can be seen that the measured cylinder pressure follows the planned cylinder pressure by using the PID controller. From the experiment, the tuning rule such as Ziegler-Nichols rules can not be applied to this system directly, because the high friction exits inside the cylinder and the toolhead. Therefore the P gain was tuned first when the step response of the system is marginal stable; then I gained was increased gradually until the system is marginal stable; the last step for tuning is to increase the D gain gradually until the system is marginal stable. The P gain, I gain and D gain of the controller were tuned experimentally to be 0.9, 0.9 and 0.1 respectively.

--Desired Pressure ---Measured Pressure
2

l

!\

\.

e

~ 1.5

:;
(/) (/) Q)

Q)

0::

0
-0.5 '----...J....__ ___,___ __L..__ ____j__ ____.JL.___
0

__J

20

40

60
Time (s)

80

100

120

Figure 4.10 Pressure trajectory tracking

The part profile is measured by using a 2-D laser profile scanner before and after polishing as shown in Figure 4.16.

60

0.2 r----,-------.-----,----~-------, 0.15 0.1

-0 .1 -0 .15 -0.2 .___ _ _....___ _ __,___ _ ___..__ _ ___.__ _ ___, 65 70 75 80 85 90 Time (s)

Figure 4.11 Pressure tracking error

3~--~-~~-~--~--~--~--~

2.5 ... ..... .. ... .

2 ... .. ··· ···.·

I
N

1.5 .. .. ... ..

1

w. /: . : . . . . . . ... .
Profile ~fter polishing with constarit contact stress

......... /,.....;.::::.-: /,;_/./,.... :

,~~~~~~ ..

Ofignal profil~

>~"::--.-

. . .. .. ... . _

"-,~:

·

~~<

0.5

,//

:

.l

............... .. ..

.. .·. .. ...... ....

':~,
\

0
-0 .5 1..---'-------Ji.___
___._ ___.__ __,__ ___.__ ___, 14 6 10 12 8 Length- y [mm]

0

2

4

Figure 4.12 Part profile before and after polishing

61

It can be seen from this figure that materials are removed uniformly along the arc. The variance of the profile error between the original profile and the polished profile is

rr 2 = 0.0016.

Figure 4.13 shows the part after polishing. The roughness is measured before and after polishing at different areas by using a 2-D laser profile scanner and the measured results are shown in Table 4.3. By comparing the roughness results before and after polishing, it can be clearly seen that the part surface roughness is improved significantly after the polishing control strategy is applied . From Table 4.3 Ru and Rp can be calculated as

Ru=(O.O 1042+0.00918+0.0 1245)/3=0.0 107 mm
Rp=(0.00325+0.00284+0 .00242)/3=0.0028 mm

Therefore the roughness improvement rate can be calculated as

Ru- Rp X 1OO% = 0.0107-0.0028 X 1OO% = 73 .83 % Ru 0.0107

(4. 7)

Figure 4.13 Polished area of the part

62

Table 4.3 Roughness measurement at different areas of the part Measured Area (1) (2) (3) Roughness before polishing Ru(mm) 0.01042 0.00918 0.01245 Roughness after polishing Rv(mm) 0.00325 0.00284 0.00242

It is also noted that the roughness of these 3 measured polished areas are approximately equal to each other and the roughness variance is 1. 7223e-007. As shown in Table 4.4, compared with the results by applying the constant contact force, the roughness variance is reduced from 4.891 Oe-007 to 1.7223e-007, which indicates the smoother part surface is achieved by applying the constant contact stress; the profile error variance was reduced from 0.0036 to 0.0016, which indicates that the part geometry is maintained closer to the original one. In this measurement, the increment index of the sensor is chosen as 0.05, maximum exposure of the sensor is set as 0.00976 seconds.

Table 4.4 Comparison of the polishing results Polishing with constant applied force 0.0036 4.8910e-007 Polishing with constant contact stress 0.0016 1. 7223e-007

Profile error variance Roughness variance

4.3.3 Experiment for Deburring Control
As shown in Figure 4.14, an aluminum plate is mounted on the x axis of the gantry and is used for the test of deburring control. The objective of this deburring control is to remove the burrs of the top edge, and achieve a smoother flat profile of the top edge. The P gain,

I gain and D gain of the controller are tuned experimentally by using the same method as

63

described in the last section, and they were 0.9, I and 0.06, respectively. The desired tool length is set to be 4.5 mm. During the deburring process, the objective is to maintain the tool length at 4.5 mm. Figure 4.15 shows the experimental result of the de burring control.
It can be seen that during the deburring process, the tool encounters burrs when moving

along the top edge of the part, for example at approximately 58 seconds. The tool is pushed upward by the burrs and the tool length is changed. Change in the tool length is measured by the linear encoder, and then the control effort generated from the PlD controller pushes the tool back to remove the burrs. When there are no burrs on the top of the part edge, the PID controller maintains the tool length at the desired length, so as to avoid the over-cut.

Linear encoder

Part

Figure 4.14 Deburring experiment system

64

5

E"
.s::.
~

..§.
o, 4.5
c

- - T ool Length Setp oint

g
I-

4

0

10

20

30

40

50 Time [s ]

60

70

80

90

~ 0 .8

::;

g- 0.6

.,_.j

~ 0.4 .E
~ 0.2
0 0 10 20 30 40 50 Time [s] 60 70 80 90

Figure 4.15 Experimental result of deburring control: (a) the time history of the tool length; (b) the time history of control signal to the pneumatic valve

The part profile was measured by using a 2-D laser profile scanner before and after the first and second deburring. The idea was to see any changes in the part profile after deburring was done. The resolution of the profile scanner is 10 micrometers in the zdirection, the same direction as the height of the part. Figure 4.16 shows the part profile scanned before and after deburring. It can be clearly seen that the burrs were effectively removed by applying the proposed closed-loop tool length control method. At the locations without burrs, the part geometry is maintained as non over-cut, due to the regulation of the tool length. Variance of the profile and mean value of the profile are obtained to evaluate the deburring results as shown in Table 4.5. The smaller value of the profile variance indicates the smoother part surface.

65

--orign al · · ·first deburing - --- second deburing

04
0 5

10

15

20

25

30

35

40

45

50

Part length - y [mm]

Figure 4.16 Part profile before and after deburring

Table 4.5 Profile variance and mean value before and after deburring Original profile First deburring Second deburring Profile variance 0.0414 .0.0302 0.0209 Profile mean (mm) 0.8437 0.7648 0.7337

4.4 Summary
In this chapter, the PID contro-l for both polishing process and deburring process are
implemented on the dual-purpose compliant tool. For the polishing control, a constant force is applied from the tool to the part to test the polishing process, and then a PID controller is applied for pressure tracking through pressure sensing. The experiment results are compared and show that this PID control scheme for the pressure tracking can effectively control the tool pressure to follow the planned tool pressure. Under the

66

constant contact stress condition, profile error variance has proven that the part geometry is maintained after polishing. The surface roughness variance in the polished area has proven the uniform polishing along the part geometry with varying curvatures by applying the constant contact stress theory.

Also it is noted that the measured roughness after polishing is approximately 3 Jlm, and it is greater than the desired polishing results as shown in Figure 4.17, which is ranged from

0.4 pm to 0.1 pm. This result is generated depending on the selection of the polishing
tool. A polishing stone is used in this experiment as a polishing tool. During the polishing process, the polishing stone is pressed under certain pressure against the part. Though the pressure is applied to the entire polishing stone, it is only concentrated on the grains that are in contact with the part. The surface roughness of the polished part could be considered as an imprint created by the polishing stone rubbed against the part. The part surface roughness after polishing depends on the number of grains in the contact area between the tool and the part [33]. Therefore, if a finer polishing stone is chosen as the polishing tool, the number of grains in the contact area is increased; the surface roughness after polishing can be reduced.

67

Ra

flnl

50

25

12. 5

ti.J

3.:.!

1.6

.8

.4 Iii

.2

.1

.OS

.025

.01:.!

Ra ,.in 2000

I 000

METAL CUTTING sawinu planing. shapin9 drillinu millinu boring, turninu
broachin9
reamin~J

..............................

----------------

500

250

125

6:!

J2

.5

ABRASlVE
~Jrinding

barrel finishing honing electro-polishing electrolytic 9rind.ing polishing lapping superfinishing
CASTING sand castin~J penn mold casting investment castin~J die castin~J .F ORMING hot rolling forging extruding cold rolling, drawing roller burnishing

...................
,

_________

.............. ................ ----·-~

................. .....................

OTHER flame cutting chemical milling electron beam cutting laser cutting EDM
Ha1m1

Ra

~dn

common less frequent

Figure 4.17 Surface finishes produced by common manufacturing processes

-

so

25

12.5
.'.iOO

6.3

3.2

1.6

.8
32

.· 1

.2

.1

.05

.025

.012 .5

2000 1000

250

125

63

16

4

For the deburring control, another PID controller is applied to maintain the desired tool length through tool extension sensing. The experiment results show that this control scheme can effectively control the tool length with or without the occurrence of burrs. The part profile measurement and the profile variance have proven the uniform deburring along the part geometry with varying burr geometry.

68

However, for the pneumatic system, it is difficult to obtain the plant model. Then analytical approach to the design of a PID controller is impossible to achieve without the
~nown

plant model. The experimental approaches to the manual tuning of PID controllers

were used to determine the PID gains in this chapter. This method is time consuming and the PID gains need to be tuned again when the condition of the pneumatic system changes, i.e., the supply pressure of the valve is varied.

69

CHAPTER 5 ADAPTIVE CONTROL FOR POLISHING
PROCESS
In the previous Chapter, the PID controller was implemented for the pressure tracking control. However, it is time consuming for the PID gains tuning. Furthermore, in pneumatic servo systems, it is difficult to accomplish the satisfactory control performance by using PID or optimal control methods because of changes in load mass, friction and air compressibility, which cause noticeable parameter variations of the plant. Therefore, an adaptive control system in which the controller can be adjusted based on the real time identification results of the pneumatic plant can be developed to improve the control performance and efficiency of pneumatic servo systems.

In this chapter, an adaptive controller is developed for tracking the cylinder pressure in order to maintain the constant contact stress for the polishing process. This is a new polishing control method, which combines the adaptive control and the constant contact stress theory of the contact model. The dual purpose compliant tool is used to implement the proposed polishing control.

A recursive least squares (RLS) estimator is developed to

estimate the pneumatic plant model. A minimum-degree pole placement method (MDPP) is applied to design a self-tuning controller. The simulation and experiment results are presented and discussed.

70

5.1 Adaptive Controller Design
As mentioned before, the goal of control for the polishing process is to maintain the constant contact stress between the tool and the part by controlling the pressure of the pneumatic cylinder through the electrical pneumatic valve. The valve pressure model Gp is complicated and unknown. ft is also variable when the filling process is switched to the discharging process in the pneumatic cylinder. Adaptive control method is applied here to solve the parameter uncertainty problems. Figure 5.1 shows a block diagram of a process with a self-tuning regulator. The input voltage u of the electrical pneumatic valve and output pressure Pc inside the cylinder are filtered by the same filter H1 The filtered signals are sent to the parameter estimator. The recursive least squares (RLS) estimator is developed to estimate the system model in the real time. The controller is designed by using the pole placement method and the online estimated model parameters. The output pressure Pc needs to follow the trajectory of the planned pressure Ppc by applying this controller.

Self-tuning Regulator

Process Parameters

Pole placement controller design Controller Parameters
Reference (Ppc ) _

Output Controller Input
(u)

Process B(q)IA (q)

(!:_J_________-1-__.

Figure 5.1 Block diagram of a self-tuning regulator

71

5.1.1 On-line Parameter Estimation
On-line determination of plant parameters is a key element in adaptive control [59]. In this section the real time RLS parameter estimation is introduced. It is useful to view parameter estimation in the broader context of system identification. The key elements of system identifications are selections of model structure, experiment design, parameter estimation, and validation. Selections of model structure and parameterization are fundamental issues. Simple transfer function models will be used in this chapter. The identification is simplified significantly if the models are linear.

The prior information of the pneumatic plant such as the order of the pneumatic plant needs to be determined. Therefore the model structure can be decided before the parameter estimation. By doing this, the step response of the pneumatic system is carried out first and the order of the system is determined by analyzing the step response. Figure 5.2 shows the time response of the valve output pressure. It is shown in this figure that at the time of 10 seconds, the nominal input is changed from 0 volt to 1.2 volt to fill the air in the cylinder. At the time of 20 seconds, the nominal input is changed from 1.2 volt to 0 volt to discharge the air in the cylinder. The model of filling process and discharging process is slightly different. It means that the parameters of the pneumatic system are various at different processes. From observing the step response of the output pressure of the pneumatic valve, the overshoot of the response in either filling or discharging processes does not exist or at least is not obvious. It shows the characteristics of the first order system, therefore the valve pressure model or the pneumatic plant model can be approximated as a first order system.

72

2.5

r-------,-----,----..------r-------,

.[ 1.5

.0 '5 0 ~ . ------' 5 '------....11 0 -. ------1.1 5_ _ _2J ......._____ _--J S'5

Figure 5.2 Valve output pressure response

Hence let the system plant be described by the model

A(q)~. (t) =

B(q)u(t)+v(t)

(5.1)

where q is the forward shift operator, u(t) is the input of the system, Pc(t) is the output pressure of the pneumatic valve or the pressure inside the pneumatic cylinder, v(t) is the disturbance and can be generated from the volume variation of the pneumatic cylinder.
A(q) and B(q) are the polynomials

A(q)=q+aP B(q) = bP

(5.2)

73

where ap and bp are the plant parameters. The presence of the disturbance v(t) will, of course, create difficulties in the adaptive control system. It will be taken into consideration later in this chapter. Output pressure Pc(t) is filtered to reduce the white noise in the system. For the purpose of using the RLS estimation method for the parameter estimation, the input u(t) needs to be filtered as well. Assuming that the data filter is introduced as the transfer function Hfi thus applying this filter to Equation (5.1) and neglecting disturbance v(t) yields

A(q)P_r(t) = B(q)u.r(t)

(5.3)

where

Pr(t) = H.r(q)~. (t) u.r(t) = H.r(q)u(t)

Equation (5.3) can be written as the difference equation represented as

P1 (t) = -aPP_r(t -I)+ bpuf(t -1)

By introducing the parameter vector

(5.4)

74

and the regression vector

ql (t - 1) = [- Pr (t - 1)

uf (t -1)

J

(5.5)

The system model can be formally written as the regression model

(5.6)

Therefore parameter estimation can be obtained by applying the RLS method as below [59]

B(t) K (t)

= B(t -1) + K(t)(Pr(t) -q/.(t)B(t -1)) = P(t)qJ(t) =
P(t -1 )(fJ(t)(A,J + qJr (t)P(t -1 )qJ(t)r
1

(5.7)

P(t) = (1- K(t)qJr (t))P(t -1) I ..1

where

denotes the estimated system parameters, P(t) is the covanance matrix, K(t) is the estimated gain, and f.v is the forgetting factor.

75

Exponential forgetting works well only if the process is properly excited all the time. There are problems with exponential forgetting when the excitation is poor. For example when there are no excitations at all, that is, qJ=O. Substituting qJ into Equation (5.7) yields

B(t) = B(t -1)

"

"

1 P(t) =A P(t-1)

(5.8)

The equation for the estimate

e is thus unstable with all eigenvalues equal to

1, and the

equation for the P-matrix is unstable with all eigenvalues equal to ]/},. , In this case the estimate will thus remain constant, and the P-matrix will grow exponentially if A-<1. Since the estimator gain is P(t)qJ(t), the gain of the estimator K(t) will also grow exponentially, if qJ is different from 0. This means that the estimates may change very drastically. This phenomenon is called estimator windup in analogy with integrator windup.

One possibility to avoid windup in the estimator is to update the estimate and the covariance only when there is excitation. The algorithms obtained are called algorithms with conditional updating. The estimate is updated only if it satisfies the following condition [59]

q;(tf' P(t)q;(t) > 2(1- A)

(5.9)

76

The selection of the condition for updating is critical. If the criterion is too stringent, the estimates will be poor because updating is done too infrequently. If the criterion is too liberal , we get covariance windup.

5.1.2 Pole Placement Design for the Controller
The idea of the pole placement method is to determine a controller that gives the desired closed-loop poles. In addition, it is required that the system follows command signals in a specified manner. A general linear controller can be described by [59]

Ru(t) = TPpc (t)- S~. (t)

(5.10)

where R, S, and Tare polynomials. This control law represents a negative feedback with the transfer operator -SIR and a feedforward with the transfer operator TIR. A block diagram of the closed-loop system is shown in Figure 5.3.

Reference

Controll er
u

(PpJ · - - --

l

Process

B(q)IA(q)

I

Figure 5.3 A general linear controller with two degrees of freedom

Elimination of u between Equations (5.3) and (5.1 0) gives the following equations for the closed-loop system:

77

BT Ppc(t) AR+BS AT U f (t) = ppc(f) · AR+BS P1 (t) ·

=

(5.11)

The closed-loop characteristic polynomial function is thus

AR+BS =Ape

(5.12)

Equation (5.12) is also called Diophantine equation [59]. The key idea of the controller design is to specify the desired closed-up characteristic polynomial Ape· To do this, the response from the command signal Ppc to the output Pmc is required being described by the dynamics

AmPmc(f)= BmPpc(f) where

(5.13)

= q+a Bm(q) = bm
A111 (q)

111

(5.14)

To achieve the desired input-output response the following condition must hold BT Bm

-=-

(5.15)

78

This model-following condition indicates that the response of the closed-loop system to command signals is as specified by the model (5.13). Whether model-following can be achieved depends on the following model, the pneumatic plant system and the command signal. If it is possible to make the error equal to zero for all command signals, the perfect model-following is achieved.

The denominator Ape is the closed-loop characteristic polynomial. To carry out the design, Equation (5.15) implies that there are cancellations of factors of BT and Ape. Therefore the polynomial B is factored as

(5.16)

Where B+ = 1, B- =B=bp. It is chosen that B+ can be canceled; then it must be a factor of

Ape too. Furthermore, it follows from Equation (5.15) that Am must also be a factor of Ape·
Thus the closed-loop characteristic polynomial has the form

(5.17)

whereAo is considered as the observer polynomial [59]. Since B+ is a factor of Band Ape,
it follows from Equation (5.12) that B+ divides R. Hence

R = R'B+

= R'

(5.18)

79

and then Equation (5.12) is reduced to

(5.19)

For the controller, it is natural to choose a solution in which the controller has the lowest possible degree. In the discrete-time case it is also reasonable to require that there be no extra delay in the controller. This implies that R, Sand T should have the same degrees. Since the process is of first order, the minimum-degree solution has polynomials R, Sand Tare at most degA-1 order [59]. Thus R, Sand Tare of zero order and can be represented as r 1, s 1 and
t1

respectively. Furthermore, the degree of the left side of Equation (5.12) is

degA + degR = 2degA - 1

(5.20)

The degree ofthe right side of Equation (5.12) is

degApc = degAo + degAm + degB+

(5.21)

where de gAm = degA, deg B + = degB. Combining Equation (5.20) and Equation (5.21) and solving for degAo yields

de gAo = degA - degB- 1

=

0

80

Therefore Ao can be represented as ao. Substituting A, B- and Am into Equation (5.19) yields

(5.22)

Furthermore, equating coefficients of terms q and q in Equation(5.22) on both sides gives

0

S = s = _a_ma_o_-_a....:.... P _IJ
I

(5.23)

b

p

Then substituting Equations (5.16) and (5.17) into Equation (5.15) yields

(5.24)

Substituting R, S, and T into Equation (5.1 0), and choosing a0 = 1, the controller could be obtained.

5.1.3 Integral Action
As mentioned earlier in this chapter, the pole placement procedure can be modified to take disturbances into account [59]. Assume that the disturbances v(t) is generated from the dynamical system

81

(5.25)

where e 1 is discrete-time white noise. A step disturbance is, for example, generated in discrete-time systems by

(5.26)

Substituting Equation (5.25) and Equation (5.1 0) into Equation (5.1) yields

BT BR ppc(t) = AR + BS ppc(t) + Ad(AR + BS) e1(t) AT BS u(t) = P (t) e1(t) AR + BS pc Ad(AR + BS)

(5.27)

The closed-loop characteristic equation thus contains the disturbance dynamics as a factor. This characteristic equation has roots on the stability boundary or in the unstable region. It follows from Equation (5.27) that to maintain a finite output in case of these disturbances, Ad must be a factor of R so that it can be canceled, this would make Ppc finite, but the controller input u may be infinite. This is, of course, necessary to compensate for an infinite disturbance.

It was mentioned before that the Diophantine equation is a key element of pole placement
design. This equation could have many solutions. If the polynomials R and solutions of the equation 82
0

s0

are

AR 0 +BS 0 = A pc

0

(5.28)

where
Ror. -I

S0

- I -

s

(5.29)

Then it follows that the polynomials RandS are given by

R=XR +YB S =XS 0 -YA

0

(5.30)

That satisfies the equation

AR+BS = XA~c

(5.31)

If a controller R0 and

81 that gives the

characteristic polynomial A~c has been obtained,

we can thus obtain a controller with characteristic polynomial XA~c by using Equation (5.30). Suppose that a controller R and could be obtained in which
0

81 has

been designed and that a new controller

(5.32)

83

where X is a stable polynomial that represents the additional closed-loop poles. Thus Ad in Equation (5.27) can be canceled. This implies that a model for the disturbance dynamics is built into the controller.

In the special case in which the disturbance is a constant, that is, Ad

=

q-1, to obtain a

controller with integral action, the order of the closed-loop system is increased by introducing an extra closed-loop pole

X(q)

= q +x0

(5.33)

where x 0 can be chosen to be 0 for the simplicity, then Equation (5.32) becomes

(5.34)

Letting q

=

1, and solving for yo yields

(5.35)

Now substituting X and Y into Equations (5.30) yields

84

R = (q -l)a0

S = (sl- Yo)q- apyo

(5.36)

Finally, the controller is obtained by substituting Equation (5.36) into Equation (5.1 0) and replacing the plant parameters with the estimated plant parameters as

5.2 Simulation
In this section, simulation is carried out to test the proposed adaptive control method. The valve pressure model can be assumed to be a first order system according to the pressure response from Figure 5.2 as

G =-2p s + 1.5

(5.38)

Converting Equation (5.38) from the continuous time domain to the discrete time domain with the sampling time of 0.01 seconds yields

(5.39)

85

where ap = -0.9851, and bp = 0.0199. The following model from Equation (5.14) is chosen as

1 Gm=--0.3s+1

(5.40)

Converting Equation (5.40) from the continuous time domain to the discrete time domain with the sampling time of 0.01 seconds yields

-~ Gmdq+am

(5.41)

where am

=

-0.9802, and bm

=

0.0198.

The Simulink model for the self-tuning regulator is developed as shown in Figure 5.4. The "RLS" block is built based on Equation (5.7) for parameter estimation. The "Plant" block is built based on Equation (5.39) to simulate the plant process such as the valve pressure model. Inside the "Plant" block, the white noise is added to the output y(t) to simulate the real system. The low pass filter with the cut off frequency at 10 Hz is applied to both the input and the output of the plant. The "Control system" block is built based on Equation (5.37). For the design calculation, it can be seen from Equation (5.35) that the value of the parameter bp needs be chosen as a non-zero value. In this simulation the

86

initial estimates were chosen to be ap(O)

= 0, bp(O) = 0.001. The P-matrix

is initialized as

a diagonal matrix with P(J,1)=P(2,2) =100 and "A is chosen to be 1.

y(t) l--...,.._--~ y(t )

Control system Plant

RLS

Scope

Figure 5.4 Simulink model for self tuning regulator

Figure 5.5 shows the process output and the reference input signal in simulation of the process with the self tuner when the reference signal is a square wave. Figure 5.6 shows the estimated parameters of the plant. It can be seen that the output pressure of the plant converges to the model output after an initial transient and the estimated parameters approximately converge to the plant parameters which are ap
=

-0.9851 and bp = 0.0199.

Figure 5.7 shows the errors of the estimated parameters. It is noted that our control objective is to track the pressure trajectory. Since the plant output from this simulation follows the
st~p

change of the reference input, therefore if the planned pressure varies

slowly, the adaptive controller should work better under the relatively simple condition.

87

Figure 5.5 Output vs. reference input

0.2 ,..--,----.---,---.---,-----,--,..--,----.----,

0_ \.,_ ....,........................................
I I
-0.2

l I -0.4 I I I I -0.6 I I I -0.8 Jl I I

-1 ' - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

0

5

10

15

20

25
Time [s]

30

35

40

45

50

Figure 5.6 Estimated parameters

88

0.02 ffi-.---r----.----,----.---r-----r-;::::::::::::!:::::=::::!:::::::::;-1 0.015 ~1 0.01

I

~ ---- error of a I
--·-·- error of b

i
I

!I

0.0051
0

'

iI
~

-0.005

-0.01

-0 . 015w~--~------""-~-~---- - - - - - - - - - - - - - - - - -

l .

-0.02 ' - - - - - 1 - - - - 1 - - . . . l . . . . - _ J . . . . . . _ _ _ _ L_ 0 5 10 15 20 25
Time (s]

__!.__...J...__.J...____L_

___J

30

35

40

45

50

Figure 5.7 The errors of the estimated parameters

5.3 Experiment of Polishing Process
A doorstop again is used to test the proposed adaptive control for polishing process. The edge of the doorstop is probed point by point using a touch probe and the path of the edge is generated as described in Appendix A.

Figure 5.8 shows the minimum radii of the part calculated from Equation (A.3). The maximum radii of the part are assumed to be 1000 mm. From the known radii, the variable k, E(k) and L1 can be determined. Hence the planned cylinder pressure Pc can be calculated by using Equation (3.37). Figure 5.9 shows the calculated planned cylinder pressure Pc at different location of the edge of the doorstop. It can be seen from these two figures that the bigger the radii, the larger the planned cylinder pressure needed for the polishing process.

89

24

23

'E
~ 22
E

21

20

19~~--~--~----L---~---L--~----~--~

22

20

18

16

14

12

10

8

6

Part length· y[mm]J

Figure 5.8 Minimum radii ofthe part

2.2 2.1
(ij
..0

-0

a...

2 1.9 1.8 1.7 1.6

::;
(/) (/)

Q)

-c Q) c: c: ro Q.; -c

a.

Q)

c..
.!:
>,

<..>

22

20

18

16

14

12

10

8

Y axis of the part - y[mmJ

Figure 5.9 Planned cylinder pressure

Table 5.1 is the part augmented G-eode containing path planning data and calculated cylinder pressure data Ppc for polishing the edge of the part.'

90

Table 5.1 Polishing G-Code with planned pressure parameter N105 M03 N280 G01 N290 GOl N300 G01 N310 G01 N320 G01 N330 G01 N340 G01 N350 G01 N360 G01 N370 G01 N380 GOI N390 GOI N400 G01 N410 G01 N420 GOl N430 GOl N645 M05 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 X-6.990 Y22.001 Z-5.932 Y21.001 Z-5.595 Y20.002 Z-5.31 0 Y19.002 Z-5.064 Y18.003 Z-4.861 Y17.003 Z-4.710 Y16.004 Z-4.617 Y15.004 Z-4.577 Y14.005 Z-4.580 Y13.006 Z-4.620 Y12.006 Z-4.696 Y11.007 Z-4.81 0 Y10.007 Z-4.964 Y9.008 Z-5.161 Y8.008 Z-5.400 Y7.009 Z-5.686 A-20.8 BO.O A-17.9 BO.O A-14.9 BO.O A-12.3 BO.O A-10.0 BO.O A-7.0 8-0.0 A-4.9 8-0.0 A-3.5 B-0.0 A0.8 B-0.0 A4.4 8-0.0 A6.9 8-0.0 A9.0 8-0.0 A12.0 80.0 A16.8 80.0 A18.7 80.0 A20.7 BO.O Pl.55 Pl.58 P1.63 P1.70 P1.77 P1.85 Pl.93 P1.99 P2.04 P2.08 P2.09 P2.09 P2.07 P2.04 P2.00 P1.96 Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O FLO Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O

As mentioned before, the objective of automatic control for polishing process is to track the trajectory of the cylinder pressure Pc in order to maintain the constant contact stress Before the polishing, a pressure trajectory tracking control is carried out first to test the tracking performance. The planned pressure is chosen to be a sine wave with the frequency 0.2 Hz as shown in Figure 5.10 to mimic the planned pressure. The forgetting factor A in Equation (5. 7) is chosen to be 0.999 after a few tests. In the first 4 seconds the whole system is excited by giving large amplitude of the reference inputs for the RLS estimation. When the estimated parameters converged to some constant values as shown Figure 5.11, the measured pressure follows the planned pressure trajectory as shown in Figure 5.1 0. It is noted that there is an approximately 0.3 second time delay between the measured pressure and the planned pressure. The time delay occurred due to the computational delay of the system and the following model described in Equation (5.40). For the real time polishing process, the planned pressure trajectory can be shifted to the

91

left side about 0.3 seconds to compensate the time delay. In this way, the planned pressure is synchronized with the motion of the tripod robot.

3.5
--Planned pressure

3 2.5 2

Measured pressure ............. Filterd pressure

.£..

ro

:; 1.5
(/) (/) Q)

Q)

0::

-0 .5 '----------1---------L------__J 15 0 5 10
Time [s]

Figure 5.10 Pressure tracking test for a sine wave

1.5~------~------~------~

~ ~

~----------------------

----

-0.5

-1~~~~----------------------------------~
-1.5 L..,__ _ _ _ _ _.....L__ _ _ _ _ ____L_ _ _ _ _ __ _ j 15 0 5 10
Time [s]

Figure 5.11 Estimated parameters

92

Figure 5.12 shows the experimental results of the cylinder pressure tracking for the polishing control. At the beginning of the process, the system was excited for the RLS estimation. From the time of about 5.7 seconds, the toolhead started being in contact with the part when the polishing operation began. The process ended at the time of 10 seconds and the toolhead left contact with the part. It can be seen that the developed adaptive controller ensures the output cylinder pressure to follow the planned cylinder pressure. And the time delay is approximately 0.3 second. Figure 5.13 shows the estimated parameters. After the excitation of the signal, the system parameters approximately converge to constant values and vary very slowly when the pressure is varied from discharging state to filling state at the time of about 9.4 seconds. Figure 5.14 shows the pressure tracking error between the measured output pressure and the planned pressure before it was shifted to the left side at 0.3 second.

3.5 ,--.-----r---r----r;=:=::::!::==:~====~

3 2.5

--Planned pressure - ·- · Measured pressure -·- - · Filtered pressure

(ij
~
Ul Ul

2

~ 1.5

Q)

0::

.Q

1..~....0_ _....l.1 2 _ ___.14 5 oL___ __L2_ __..J4'-----L6_ _....J8_ _ _

Time [s]

Figure 5.12 Pressure trajectory tracking

93

1.5 ,. .1 .,--..----,.----,------r---.---D.----, ,.
I

I

b

1~

~.
\....
~---,

I
0.5

I

0

i
I

~

I

\

:.

'·

\_;'---------------------

-0 .5

-1 ~V'---~----. 0

2

4

6

8

10

12

14

Figure 5.13 Estimated parameters

0.2 . . . - - - - - . - - - - - - r - - - - - - - r - - - - - . - - - - - - r - - - - - - ,
0.15

-0.15

-0.2 5L---..L6_ __....~.7_ ______j8L___ _9.L.____ _1..L0_ ____~11
Time [s]

Figure 5.14 Pressure tracking error

94

The oscillation in Figure 5.14 shows the characteristic of a period frequency. It might be caused by the nature frequency of the system. However, the tracking error amplitude is very small and can be ignored.

The part profile is measured by using a 2-D laser profile scanner before and after polishing as shown in Figure 5.15 .

Original Profile
3~--~----~--~----~--~----~--~

2.5

2

i'~ ~~~- ~~ :r:os /~ .... . . .......... . ·"
0
Length- y [mm]

Figure 5.15 Part profile before and after polishing

It can be seen from this figure that materials are removed more uniformly along the arc compared with the results when a constant applied force was used in the last chapter. The variance of the error between the original profile and the polished profile is ()
2

= 0.0015.

Figure 5.16 shows the part after polishing. The roughness is measured at different areas before and after polishing by using a 2-D laser profile scanner and the measured results

95

are shown in Table 5 .2. Comparing the results of the roughness at these areas, it can be clearly seen that the part surface roughness is improved after the adaptive control strategy is conducted.

Figure 5.16 Polished area of the part

Table 5.2 Roughness measurement at different areas of the part Measured Area (1) (2) (3) Roughness before polishing Ru(mm) 0.01924 0.01044 0.01079 Roughness after polishing Rv(mm) 0.00195 0.00198 0.00207

From Table 5.2, Ru and Rp can be calculated as

Ru=(0.01924+0.01044+0.01079)/3=0.0135 mm Rp=(O.OO 195+0.00 198+0.00207)13=0. 002 mm

Therefore the roughness improvement rate can be calculated as

Ru -Rp xlOO%= 0.0135-0.002x100%=85.19%
Ru

0.0135

(5.42)

96

It is also noted that the roughness of these 3 measured polished areas are approximately
equal to each other. The roughness variance is 3.9000e-009. It is concluded that the part surface was polished uniformly by applying the constant contact stress theory when the part geometry varies. In this measurement, the increment index of the sensor of the scanner is chosen as 0.01, maximum exposure of the sensor is set as 0.00976 seconds.

Table 5.3 shows the polishing results by applying the constant contact force, constant contact stress with PID control and constant contact stress with adaptive control. The smaller value of profile error variance indicates that the part geometry is maintained closer to the original one. The smaller value of roughness variance indicates the polishing consistency of the part surface.

Table 5.3 Comparison of the polishing results Polishing with constant applied force 0.0036 4.891 Oe-007 Polishing with constant contact stress (PID control) 0.0016 1. 7223e-007 Polishing with constant contact stress (adaptive control) 0.0015 3. 9000e-009

Profile error variance Roughness variance

5.4 Summary
In this chapter an adaptive control algorithm has been developed to achieve the constant contact stress. The controller requires only limited prior system information such as the order of the system. The recursive least squares method has been used to identify the system parameters online. The minimum-degree pole placement method has been applied to design this self-tuning controller. The developed controller has been tested both by

97

simulation and experiment. The experimental results have shown that the proposed selftuning controller can effectively track the planned cylinder pressure that is based on the constant contact stress model. The delay in the output pressure is caused by the following model and can be compensated by shifting the reference input. Unlike the PID control method which is used in Chapter 4, if the supply pressure is changed or the spool inside the valve is worn out, the PID gains need to be tuned again and will consume considerable amount of time again, the adaptive controller is more efficient, and can be applied to the pressure tracking control directly once the following model is decided, because the adaptive controller is developed based on the estimated plant parameters online. It can be concluded from Table 5.3, by applying the adaptive control with the constant contact stress theory, better performance was achieved by verifying the profile error variance and roughness variance.

98

CHAPTER 6 NONLINEAR CONTROL FOR POLISHING
PROCESS
It should be pointed out that the use of an adaptive control method will not replace good

knowledge of a plant model, which is still needed for designing a good controller. A disadvantage of adaptive control is that it is limited to nonlinear systems in which the uncertain parameters appear approximately linearly. Another disadvantage is that it is sensitive to unmodeled dynamics and disturbances in the system [60]. Virtually all physical systems are nonlinear in nature, therefore if the accurate nonlinear system model can be obtained, the better performance can be achieved.

In this chapter, a systematic method to obtain nonlinear pneumatic plant model is studied. The pneumatic model here is referred to the pneumatic valve model, with input u and output pressure Pc. This method can provide an effective mathematical model for system controller design and for nonlinearity compensation. Instead of developing the model only from theoretical analysis or only from system identification, the combination of empirical curve fitting and theoretical analysis was applied [15]. The pressure change rate characteristic of the pneumatic valve is analyzed in detail. A nonlinear controller by using feedback linearization method is also developed. The simulation is carried out to test the nonlinear controller.

99

6.1 Derivation of the Nonlinear Pneumatic Plant Model
The nonlinear mathematical model of the pneumatic plant can be derived using the following physical laws. First the idea air law can be expressed according to [ 15] as

(6.1)

where

Vc

is the volume of the air (m

3

),

m is the mass of the air (kg) ,

Rc

is the ideal air

constant, (28 7J/Kg.K) , Ts is the absolute temperature (K).

The energy conservation law can be expressed according to [ 15] as

!!_(mE)= h dm + dQ -P dvc dt ·C dt dt C dt

(6.2)

where E is the internal energy of unit mass(J/kg), he is the enthalpy of the air that moves in or out of the system (J/kg) and Q is the heat added to the system. It is assumed that there is no heat transfer during the running time, i.e. the process is adiabatic. Therefore
dQ/dt=O. Equation (6.2) can be rewritten as

!!_(mE)= h dm- P dvc dt c dt c dt

(6.3)

where

100

(6.4)

(6.5)

where Cv is constant-volume specific heat; and Cp is constant-pressure specific heat.

Ts=Tsy for the filling (dm/dt > 0) and Tsy is the temperature of the supplied air. Ts=Tc for
the discharging process (dm/dt < 0) and Tc is the temperature of the air inside the cylinder. Substituting Equations (6.4) and (6.5) into Equation (6.3) yields

!!_(
dt

m

C T)- C pv T dm- p dvc . dt dt
l'C C

(6.6)

Solving Tc from Equation (6.1) yields

(6.7)

The left side of Equation (6.6) is obtained as

(6.8)

Substituting Equation (6.8) into Equation (6.6) yields

101

(6.9)

After further manipulation, Equation (6.9) can be written as

(6.10)

Because Cp=Cv+Rc and C/Cv=Kc, Equation (6.10) can be written as

(6.11)

where Kc = 1.4 is the air constant. In this system, the cylinder attached to the toolhead which is used to generate the compliant force is a flat pneumatic cylinder. Volume inside the cylinder is very small. The variation of the air volume inside the cylinder is small compare with the total air volume including the air volume inside the connecting tube and can be ignored. Therefore dv/dt=O. Equation (6.11) then can be expressed as

m=

v . c P K c RT c c s

(6.12)

102

Equation (6.12) indicates that pressure change rate is proportional to the mass flow rate. The mass flow rate of air through the valve orifice can be assumed to be

(6.13)

where u is the input of the proportional directional valve, Pd is the downstream pressure

(Nim ) and Pu is the upstream pressure(Nim2). For the filling process in the cylinder, if
the effect of the pneumatic circuit is ignored, in Equation (6.13), the upstream pressure

2

Pu=Ps, where Psis the supply pressure to the valve; the downstream pressure Pd=Pc. for
the discharging process, Pu=Pc and Pd=P0 , where Po is the atmospheric pressure. In this system, Ps and Po are constant. Therefore Equation (6.13) can be simplified as

m= f(u , PJ

(6.14)

Since the pressure change rate is proportional to the mass flow rate as indicated in Equation (6.12), the dynamic model of the pneumatic valve can be given as

~=f(u,PJ

(6.15)

The next step is to determine the expression of Equation (6.15) by using the measured data. However it is very difficult to measure the pressure change rate directly. Therefore the pressure change rate can be obtained from the measurement of pressure vs. time

103

curves. Different inputs are sent to the valve and outputs are recorded. To reduce the influence of the measurement noise, a smoothing filter should be applied to the original data. Moving average was used for this purpose. The smoothing filter calculation formula is shown as

~mooth(i) =(~. (i-n)+··· ~. (i -1) + ~. (i) + ~. (i + 1) + · · · ~(i + n)) /(2n

+ 1)

(6.16)

It can be decided from the test that the smoothed curves can reflect the trend of the
original measurement very well when n= 11. Therefore
Psmooth

is considered as the

measured result here. As discussed in Chapter 3 that only partially filling/partially discharging condition is applied. Figure 6.1 shows the pressure vs. time curves for different valve input u, when u is increased from 0 volt to partially fill the air in the cylinder. Figure 6.2 shows the pressure vs. time curves for different valve input u, when

u is decreased from 1.6 volt to partially discharge the air in the cylinder

From the observation of Figure 6.1 and Figure 6.2, it can be seen that this system can be approximated as a first order system when the input voltage is less than 1.4 volt. Only when the input is greater than 1.4 volt, the characteristic of the system is changed drastically from a first order system to a high order system and the nonlinearity is obvious in the pneumatic system which can not be ignored.

104

3

=

2.5

15 0 E (I) 0...

~ .c.

ro

2

1.5

0 3v 0.5 0.2v 0.1v 10.5 11 11 .5 12 12.5 Time [s] 13 13.5 14 14.5 15

Figure 6.1 Cylinder pressure vs. time when the input is increased

3.5 1.6v 3 1.5v 2.5

~

1.4v 1.3v

~
~

ro

2

0 0 E
0...

(I)

1.5

0.5 0.1v
0~----~----~----~----~----~----~----~

10

10.5

11

11 .5 12 Time [s]

12.5

13

13.5

Figure 6.2 Cylinder pressure vs. time when the input is decreased

105

Next step is to find out the expression of the cylinder pressure change rate when the input is between 0 volt and 1.4 volt. The central difference method shown as below can be used to calculate ~

p
c

=

[~· moolh(i + 1)-~·moolh(i + 1)]
2/j.t

(6.17)

wherei1t=O.Ols is the sampling time.

Figure 6.3 shows the relation between ~ and Pc with different input u either increased from 0 volt or decreased from 1.6 volt to a constant value in the range between 0.1 volt and 1.4 volt. It means that the pneumatic valve is either filling or discharging. For example, above the zero line shows the relation between ~ and Pc in the partially filling process. The initial input is 0 volt, and is switched to 0.1 volt, 0.8 volt, etc., up to 1.4 volt. On the contrary, below the zero line shows the relation between ~ and Pc in the partially discharging process. The initial input is I .6 volt, and is switched to 0.1 volt, 0.8 volt, etc., up to 1.4 volt again. From the observation of Figure 6.3, the relationship between ~. and

Pc is approximately linear when the working pressure is between 0.5 bar and 2. 7 bars and
when the input range is between 0 volt and 1.3 volt. When the input is 1.4 volt, the relationship between ~ and P c shows somewhat non Iinearity. Therefore when the input voltage is ranged between 0 volt and 1.3 volt, and when the working pressure is between the 0.5 bar and 2.7 bars, the relationship can be approximated as a linear equation.

106

5
4

Partially filling

3
2

!u

1
0 t--...,W::H+-.J:.!.l!Jtl
:Htr--t--1-'f Mt-----~.----tl=:::l---ir----1

-1

-2
-3 -4
0

0.5

1.5

2

2.5

3

3.5

Pc [bar]

Figure 6.3 dP cldt vs. Pc
0.1 v
0 .4

v

~ :~I~~--~:
0
0 0.5 1.5 2

2.5

I ~ :~I ~~ I
0
3 0 0.5 1.5 2 2.5 3

Residuals

Residuals

-1~--~----~----~----~----~--~

1

~rP.: ...~_-::':.: ......~. ··· -u.. . . · ·· · :: ....
."# · · · · ·

.

· ·

-c

0...

~0

0

0

0.5

1.5

2

25

3

-1

0

05

1.5 1.3 v

2

2.5

3

0.8 v

~ :~1 ~~ l ~ :~1
0 0.5 1.5 2 2.5 3

0

0

0.5

1.5

2

2.5

l
3

Residuals

Residuals

~
0...

0

0

-c

-c

0...

~0

0

-1

0

0.5

1.5

2

2.5

3

-1 0.5

·t.· ..... : .... :;:~~ ... ........ . .... ... ·... ...·.· . : .. . ...... ..

-

+.

~·

·

~

~

1.5

2

2.5

3

Pc [bar]

Pc [bar]

Figure 6.4 Linear regression approximation and residuals
107

As shown in Figure 6.4, the straight lines are the trendlines which are obtained from linear regression algorithm at different input voltage. The residues measure the vertical distances between the (observed) data points and the trendline and are shown respectively at different inputs. Table 6.1 shows the slope of the trend line, the norm of residuals and the square of the correlation coefficient at different inputs. The correlation coefficient, R, gives a measure of the reliability of the linear relationship. A value of R

= 1 indicates an

exact linear relationship. Values of R close to 1 indicate excellent linear reliability. If the correlation coefficient is relatively far away from 1, the predictions based on the linear relationship will be less reliable.

Table 6.1 Slope, norm of residuals and square of the correlations at different inputs 0.1 v Slope Norm of residuals -1.8016 4.8693 0.9411 0.4 v -1.5783 4.43 0.9269 0.8 v -1.6054 5.0525 0.8983 1.3 v -1.9078 5.9809 0.9025

R2

The average value of the slopes at different inputs is -I. 7233 which can be used to approximate the linear relationship between ~ and Pc.

The equation shown below can be used to describe the system according to [15].

(6.18)

where c 1 is 1.7233, Pcc(u) is the critical pressure corresponding to ~ =0 and is a function of u. For a given u, Pcc(u) equals to the steady state value of Pc(t). The values of Pcc(u)

108

can be estimated from Figure 6.1 and Figure 6.2 when the system is working at the steady state. And the estimated Pec(u) at the different inputs from 0 volt to 1.5 volt at the intervals of 0.1 volt at filling, discharging conditions are shown in Table 6.2

Table 6.2 Critical pressure at different inputs Input (v) Filling Pcc (bar) Discharging P cc (bar) Average P cc (bar) Input (v) Filling P cc (bar) Discharging P cc (bar) Average P cc (bar) 0 0 0 0 0.8 1.64 1.577 1.6085 0.1 0.31 0.39 0.35 0.9 1.82 1.72 1.77 0.2 0.61 0.63 0.63 0.3 0.87 0.82 0.84 0.4 1.005 0.985 0.995 1.2 2.325 2.26 2.2925 0.5 1.165 1.14 1.1525 1.3 2.51 2.45 2.48 0.6 1.37 1.285 1.3275 1.4 2.834 2.755 2.7945 0.7 1.492 1.435 1.4635 1.5 3.05 2.97 3.01

1.1 1.0 1.97 2.145 1.918 2.074 1.944 2.1095

It can be seen from Table 6.2, the critical pressure is slightly different when the system is
working at partially filling and partially discharging processes respectively. This phenomenon happens due to the static friction inside the valve. The average critical pressure Pee are calculated as shown in Table 6.2 to approximate the critical pressure of the system.

By using the Matlab command polyfit, the curve fitting function of Pee(u) is obtained as

(6.19)

where the coefficients are shown as in Table 6.3

Table 6.3 Coefficients of the critical pressure equation

bo
1.0121 -2.3053 3.1833 0.0359

109

Circles in Figure 6.5 show the estimated value Pcc(u) at the different input u when the system is working at the partially filling condition, stars show the estimated value Pcc(u) at the different input u when the system is working at the partially discharging condition, and the solid line shows the best fit curve for the average Pcc(u).

3.5 r------.---------;:::=======;:----,
0 Fillin g Disc harging · · · · · · · ·
~J i-''

- - Curve fitt ing

3
2. 5

·· · · · · · ·· ·· · · · · · ·

+

;;.-/

A~

.. ·. .. ... .. ................. '-· ....... '.''
~ -~

/

.. .

~ 1: .·. ·.·.·: :.·: :.··: : :.·.·:.·:···;;~~~/~~-- . . ·. ·.·:.·: :.·:.·:.· ·.
1 ...... ............ .. K.- .. :.................. ... ....... ;

.

-~/

A

:

0 . 5 7~

dl

.. .. . . . . . ... . . ...······· ············ ·· · ··· /
:

r· ·.

:
.

0
0

.
0.5 1
1.5

u [v]

Figure 6.5 Pcc(u) vs. u

Substituting Pcc(u) into Equation (6.18) yields the model of the nonlinear pneumatic plant

(6.20)

6.2 Model Verification
Equation (6.20) represents the mathematical model of the pneumatic plant. In this section, the simulation results of the mathematical model are obtained from the Simulink model

110

shown as in Figure 6.6. These results are compared with the measured results to verify the accuracy of the mathematical model. A step input is generated for the " input" block. The "Pneumatic Plant Model" block is built based on Equation (6.19)

P(u} O(P) =3 Pneumatic Plant Model

Gain1 Scope1

Figure 6.6 Simulink model for model verification

The step response results from this Simulink model are generated and compared with step response results measured from the real system. Figure 6.7 shows three step responses of the simulation and the real time system. The initial value of the input is 0 volt and at the time of I 0 seconds it switches to 0.4 volt, 0.8 volt and 1.2 volt respectively. Figure 6.8 shows the reverse step responses of the simulation and the real system. The initial value of the input is 1.6 volt and at the time of I 0 seconds it switches to 0.4 volt, 0.8 volt and 1.2 volt respectively. It can be seen from the results of both figures , the measured step response results are very close to the simulation results with small errors. The root mean square values of the measured results and the simulation results are shown in Table 6.4. Therefore, the real pneumatic plant can be approximated by this mathematical model.

Ill

2 . 5.---~--~----~--~----~--~----.---~---.

2

..c

ro

-; 1.5

:;
(J) (J) Q)

a_

0.5

Solid line : mea sured va lue Dased line : simulation value

o~--~--~----~--~----~---L----L---~--~

10

11

12

13

14 15 Time [s]

16

17

18

19

Figure 6.7 Comparison of measured response and simulated response when the input is stepped up for the filling process

3.5 ,....------.----~-----.-----.-----,-------,-----r-----.--------,

3

Solid line :measured value Dased line : simulation value

:e.
:::s
(J)

lij 2.5
~

---------------------2

1.2 v

~ a_
Q)

"U

~ 1.5

!:

0.5 ~----'------'-------''-----~----'---___._____......___ 11 12 13 10 14 15 16 17 Time [s)

_.L__

___J

18

19

Figure 6.8 Comparison of measured response and simulated response when the input is stepped down for the discharging process

112

Table 6.4 Root mean square at different inputs Filling process Discharging process 0.4 v 0.0263 0.0243 0.8 v 0.0461 0.0510 1.2 v 0.0480 0.0480

In Chapter 5 the pneumatic plant model was assumed as a first order system from Figure 5.2 and can be represented as

~=-s -u

b

(6.21)

s+a. \.
where as and bs are the system parameters. Equation (6.21) can be expressed in the time domain as

(6.22)

In the nonlinear Equation (6.20), as is replaced by

CJ ,

which is the same. bsu is replaced

by the nonlinear term (b 3u3 + b2u2 +b 1u+ bo) which is the critical pressure. The critical pressure is varied at different input u and the relation is nonlinear. Therefore the nonlinear model could be a more accurate model to represent the system at the certain range.

6.3 Feedback Linearization
Feedback linearization is an approach to nonlinear control design that has attracted a great deal of research interests in recent years. The central idea of the approach is to algebraically transform a nonlinear dynamics into a linear one, so that linear control techniques can be applied. This differs entirely from conventional linearization (i.e., Taylor series method) in that feedback linearization is achieved by exact state

113

transformations and feedback, rather by linear approximations of the dynamics. The nonlinear controller which is developed by using the feedback linearization method is described as follows.

In Equation (6.20) it is chosen that

(6.23)

with as

Vu

being an "equivalent input" to be specified, thus Equation (6.20) can be rewritten

~·

=Vu

(6.24)

Therefore the nonlinearity of the system is canceled by applying this "equivalent input"
Vu.

Choosing Vu as

vu
where

=-a~

(6.25)

~ =~-Ppc

(6.26)

is the error between the measured pressure and the desired planned pressure. a is a strictly positive constant. The large value of a will reduce the delay in the output, but increase the sensitivity of the system. Substituting Vu into Equation (6.24) yields 114

(6.27)

Equation (6.27) implies that when the time goes to infinity, the system is running at steady state, thus ~ =0, and the error~ will converge to zero as well. It means the system is stable by applying this controller and the output pressure Pc can be controlled effectively to follow the desired planned pressure Ppc· Based on Equation (6.20), the control input u can be solved in terms ofvu and Pc as

(6.28)

The Matlab code in the Appendix B is used to solve u from the third order nonlinear Equation (6.20) and this equation has one real root and a pair of complex conjugate roots. Therefore the actual nonlinear control law can be represented by the real root as shown

1 u = - -{[36b1b2 b3c1 +I 08b~cJ~ + 108b~vu -1 08b~c b 6b3c1
2
2 2

1 0 - Sbgc, + 12.J3(4c~b13 b3 2 11 2

c~b1 bi +27b~c~~ +54b~c1 ~vu +27b~v,; -54b~c 1 ~b0 -4c~~.bi -54b~ vuc,b0 4vub~c 1 + 4c 1 b0 b~ + 27b~c~b~ + 18b1 b2 b3 c~ ~. + 18b1b2b3c1vu -18b1b2 b3c 1 b0 )
2
2

b3 ]c1 }

2 113

b3 {[36b1b2b3c1 + 108b~c 1 ~ + l08b~ vu -108b~c 1 b0 -Sbgc, + 12.J3(4c1 b1 b3 -c~b 1 bi
2 3
2

3

(3b1b3 - b2 )c1

2

_

.J!L
3b3

+27b~c~~2 +54b~ c 1 ~.Vu +27biv~~ -54b~c~~.b0 -4c 1 ~.b~ -54b~vuc 1 b0 -4v"bgc, 113 12 2 2 +4c1 b0 bg + 27bic~b~ + 18b,b 2 b3 c~ ~· + 18b1b2b3c1v,, -18b1b2b3c1 b0 )' b3 ]c~}

115

Substituting Vu from Equation (6.25) into the above equation, the controller u is obtained.

A Simulink model is built up as shown in Figure 6.9 to test this nonlinear control law. The "Pneumatic Model" is built up based on the nonlinear Equation (6.20), the controller is built up based on Equation (6.28). The reference input is a sine wave which is generated from the signal generator to mimic the planned pressure for polishing control, the frequency is 0.1 Hz and amplitude is 1 bar.

Controller

Pneumatic Model

Figure 6.9 Simulink model for feedback linearization

Figure 6.1 0 and Figure 6.11 show the simulation results with different positive constant o. respectively. It can be seen from this figure that the control for pressure tracking for the polishing process is performed very effectively by using feedback linearization method. The tracking error is reduced by increasing the positive constant o., the root mean square of the tracking errors with different o. is shown in Table 6.5.

116

2
(15

.0

--; 1.5

::;
(J) (J) Q)

0..
-o .S
Qj

1 0.5 0

1 I

1/

/

-..

,,,
· ,,~

--Output pressure ······ ····· ···· Planned pre ssure

' ~·.:-._

·::;...
~\..

'·"· \
~

~

u

>..

./
7
8
9

0

2

3

4

5
Time [s[

6

10

n;
~

e 0.5
Qj
c:
C)

~

0\__
0
2

.=
(15

u

-0 .5

3

4

5
Time [s[

6

7

8

9

10

Figure 6.10 Pressure tracking control for a sine wave: a= 10

2
.-tl".. /

(15

i

.0

_.,;"
15

~
(i;

~

/l

/'

//

~....,
.

--Output pres sure - - - Planned pressure
./ '

u

~ 0.5 >,

0

0

2

3

4

5 Time [s)

""'
6
6

/'
7

'-....._
8
9
10

..0

"'
0

0.5 0

(i;
~

~

1\
7

~ ~

-0.5

0

2

3

4

5 Time [s]

8

9

10

Figure 6.11 Pressure tracking control for a sine wave: a=20

Table 6.5 Root mean square of the tracking errors with different a

a=10
RMS 0.0897

a=20
0.0606

117

6.4 Summary
Linear control is a mature subject with a variety of powerful methods and long history of successful industrial application. However linear control methods rely on the key assumption of small range operation for the linear model. Nonlinear controller, on the other hand, may handle the nonlinearities in large range operation directly. Good nonlinear control designs maybe simpler and more intuitive than their linear counterparts. Thus the nonlinear control analysis and design can significantly enhance the ability of the practical control problems effectively.

In this chapter, the nonlinear plant model of the pneumatic system was developed based on the combination of physical analysis and experiment data fitting. A systematic and practical method was developed to determine dynamic model of the pneumatic plant. The effectiveness of the nonlinear plant model was verified by the comparison of the simulated and experimental open-loop step response. The nonlinear controller developed by using feedback linearization method was presented. The simulation was carried out to prove the effectiveness of the pressure tracking control by using this nonlinear control law. For the polishing process, this control method can be applied to track the planned cylinder pressure in order to maintain the constant contact stress between the tool and the part, therefore to obtained the desired polishing quality and consistent surface roughness.

However, there are also a number of important limitations for the feedback linearization methods. The nonlinear model needs to be developed accurately, so that nonlinearity can

118

be canceled properly. The sensitivity to modelling errors may be particularly severe when the linearizing transformation is poorly conditioned.

119

CHAPTER 7 CONCULSION
7.1 Conclusions
From studies of modelling and control of the polishing/deburring processes, the following conclusions were obtained:

·

The Robotic polishing/deburring system consists of the Tripod parallel robot system and the dual-purpose compliant tool system was developed. The motion control and the force control of this robotic machine system were decoupled. The model for the polishing system was developed based on the macro contact model. The model for the deubrring system was developed based on the micro contact model.

·

In Chapter 4, the closed-loop PID control for both the polishing process and deburring process were implemented using the dual-purpose compliant tool. For the polishing control, a PID controller was applied for pressure tracking through pressure sensing in order to keep the constant contact stress between the tool and the part. The polishing results are improved when compared with the results by applying constant contact force. The part geometry was maintained closer to the original geometry and the surface roughness was more consistent. Unlike the open-loop control for the polishing process proposed in [14], where the valve response shows that the output pressure has steady state errors, the use of feedback in the closed-loop control system makes the system response relatively insensitive to external disturbances and internal

120

variations in system parameters. The experiment results are compared with the results under the constant applied force condition. It shows that this PID closed-loop control scheme can effectively control the tool pressure to follow the planned tool pressure under the constant contact stress condition. The surface roughness measurement in the polished area has shown the uniform polishing along the part geometry with varying curvatures. In the mean time part geometry was maintained. For the deburring control , another PID controller was applied to maintain the desired tool length through tool extension sensing in this dual-purpose compliant tool. The experiment results show that this control scheme can effectively control the tool length with or without the occurrence of burrs. The part profile measurement and the profile variances have shown the uniform deburring along the part geometry with varying burr geometry. Generally speaking, PID control is the conventional and simple way. However, without the known plant model, the tuning for the PID controller is time consuming. Whenever the certain condition changes, i.e. in this research, the air supply pressure of the pneumatic control valve changes, the PID gains need to be tuned again.

·

The real pneumatic plant model is very complicated and difficult to achieve. To achieve the better performance in the polishing control, in Chapter 5 an adaptive control algorithm combined with the constant contact theory was implemented for the polishing process. The pneumatic plant model was identified online by using the RLS
~ethod. The minimum-degree pole placement method has been applied to design this

self-tuning controller by using the online estimated pneumatic model. The developed

121

adaptive controller has been tested both by simulation and experiment. The experimental results have shown that the self-tuning controller can effectively track the planned cylinder pressure that is based on the constant contact stress model. Comparison of the roughness of the original surface and that of the polished surface has indicated that the polishing operation has resulted in a satisfactory and consistent surface finishing quality.

·

The better understanding a plant model, the better the controller design and the better control performance can be performed. The behavior of a nonlinear system sometimes could not be described as a linear function accurately. In Chapter 6, the nonlinear plant model of the pneumatic system was developed based on the combination of physical analysis and experiment data curve fitting. The validity of the nonlinear plant model was verified by the comparison of the simulated and experimental open-loop step response; The nonlinear controller was developed by using the feedback linearization method. The simulation was carried out to verify the effectiveness of the pressure tracking control by using this nonlinear control law. It is concluded from the simulation results that the positive constant a plays an important role to trade off the response delay and system sensitiveness. The nonlinearity of the system was canceled by using the feedback linearization method. However the feedback linearization has some limitations: the full state has to be measured and the sensitivity to modelling errors may be particularly severe when the linearizing transformation is poorly conditioned.

122

7.2 Main Research Contributions
Up to now, the common practice in the automated polishing/deburring process is to maintain a constant force applied from the tool to the part throughout operation. However, from our previous research [ 14] it is the contact stress that determines the quality of the polished part, not the force exerted on the tool. In the polishing process, when the part's surface geometry varies, the constant tool force will generate a high contact stress under a small contact area (i.e. high curvature surface), leading to over polished, or a small contact stress under a large contact area (i.e. low curvature surface), leading to under polished. Similarly in the de burring process, if the burr is large, the contact stress is low. Then the contact force needs to be increased in order to remove the burr. If the burr is small, the contact stress is large. Then the contact force needs to be decreased to avoid over-cut. Therefore, the real challenge in the automated polishing/deburring is how to control the polishing/deburring force effectively under the constant contact stress condition when the part geometry varies. This is a new control problem that has not been studied before. This research is dedicated to this type of control and the main contributions are listed as follows:

·

A new dual purpose compliant tool developed for the automatic control for both polishing and deburring process is the main contribution here. To implement the dual purpose function, a linear encoder and a pressure sensor were integrated into the active complaint tool system. For the control of polishing process, the control objective is to track the pre-planned cylinder pressure in order to maintain the constant contact stress between the tool and the part when the part geometry varies.

123

The pressure tracking control is implemented by using the feedback signal from the pressure sensor, which is used to measure the pressure inside the cylinder. For deburring control, the feedback signal is the tool length which is measured by using the linear encoder. The control objective is to maintain the desired tool length in order to cut the burrs and avoid over cut when there are no burrs on the part.

·

The PID controller was developed to implement two control goals: polishing control and deburring control. The experimental results have proven the effectiveness for the control of polishing/deburring process.

·

Another polishing control method is also presented. The main contribution here is to combine the adaptive control theory and the constant stress theory of the contact model to improve the efficiency of the control system. The system order was determined by analyzing the step response of the system. The RLS method was used to estimate the parameters of the plant with filtered inputs and outputs. The integrator was designed to suppress the disturbance of the system. The simulation and experimental results have proven the effectiveness of the adaptive control algorithm.

·

A nonlinear model is built up based on the combination of physical analysis and experiment data fitting. The nonlinear controller was developed based on this nonlinear model by using the feedback linearization method to track the planned cylinder pressure in order to maintain the constant contact stress between the tool and the part for the polishing process.

124

7.3 Future Work
The focus of this research is the pressure control for polishing and deburring. A closedloop controller for the tool spindle speed control could be developed in the future to maintain the constant spindle speed.

In Chapter 6, the method of building the nonlinear pneumatic model was proposed. The nonlinear model can be linearized by using the Taylor series method in the future. The linearized model needs to be verified and the optimized operating points needs to be determined. Based on this linearized model, the effective controller such as sliding controller can be developed for tracking the pre-planned pressure inside the cylinder. The sliding-mode control provides the advantages including robustness, computation speed, disturbance rejection, and insensitivity to parameter variations. The trade-off between modelling inaccuracy and performance of the control system needs to be considered.

The nonlinear control law was also developed in Chapter 6 and was tested by simulation. The further experiment by applying this nonlinear controller will be carried out in the future to test the effectiveness of the nonlinear controller. A more delicate nonlinear control law can be developed to deal with the disturbance, friction force inside the pneumatic valve. Although the nonlinear model is close to the real plant model, there are still errors in the step response. The robustness of the control system needs to be improved by take these problems into consideration.

125

Bibliography
[1] [2] Saito, K., "Finishing and Polishing of Free Form Surface", Bulletin of Janan

[3]

[4]

[5] [6] [7]

Society of Precision Engineering, Vol. 18, No. 2, pp. 104-109, 1984. Huissoon, J. P., Ismail, F., Jafari, A. and Bedi, S., "Automated Polishing of Die Steel Surfaces", International Journal ofAdvanced Manufacturing Technology, Vol 19, No. 4, pp. 285-290, 2002. Stouffer, K. A., Russel, R., Jr., Archacki, R., Engel, T., Dansereau, R., and Grot, A., "Advanced Deburring and Chamfering System (ADACS): Final Report", NIST Technical Report NISTIR 5915, 1997. Pagilla, P. R., and Yu, 8., "Robotic Surface Finishing Processes: Modelling, Control and Experiments", Journal of Dynamic Systems, Measurement, and Control, Vol. 123, No. 93, pp. 93-102, 2001. http://www.stevesplating.com/polishing.htm http://www.the-gnat.com/build%20angle%20brackets.htm Tam, H., Lui, 0. C. and Mok, A. C.K., "Robotic Polishing of Free-Form Surfaces
Using Scanning Paths", Journal of Materials Processing Technology, 95, pp. 191200, 1999.

[8]

Einav, 0., "Large Work Envelope Fully-automated Aircraft Panel Polishing Cell,"

Proceeding of the International Robotics & Vision Automation Conference, Detroit, Michigan, May 9-11, 1995.
[9] Sasaki, T., Miyoshi, T. and Saito, K., "Knowledge Acquisition and Automation of Polishing Operation for Injection Mold", Journal of the Japan Society of Precision

Engineering, Vol. 25, No. 3, September, 1991.
[10] Kawata, K., Sawada, Y. and Yamashita, M., "A New Method of Teaching and Path Generation for Automatic Die and Mold Polishing System", Japan/ USA Symposium

on Flexible Automation, Vol. 2 (ASME 1992). [11] Baptista, R., Simoes, J.F.A., "Three and Five Axes Milling of Sculptured Surfaces," Journal ofMaterials Processing Technology, Vol. 103, pp. 398-403, 2000. [12] Walker, D.O., Beaucamp, A.T.H., Brooks, D., Freeman, R., King, A., McCavana, G., Morton, R., Simms, J., "Novel CNC Polishing Process for Control of Form and Texture on Aspheric Surfaces," Proceedings of SPIE - The International Society for Optical Engineering, Vol. 4767, pp. 99-105,2002.

126

[13] Huang, H., Gong, Z.M., Chen, X.Q., Zhou, L., "SMART Robotic System for 3D Profile Turbine Vane Airfoil Repair," International Journal of Advanced

Manufacturing Technology, Vol. 21, pp. 275-283, 2003.
[14] Roswell, A., Xi, F. and Liu, G., "Modelling and Analysis of Contact Stress for Automated Polishing", International Journal of Machine Tools& Manufacturing, Vol.46, No. 3-4, pp. 424-435 , 2006. [ 15] Ning, S. , "Theoretical and Experimental Study of Pneumatic Servo Motion Control Systems", Ph.D. thesis, 2004 [16] Proctor, F. M. and Murphy, K. N., "Advanced Deburring System Technology,"

ASME Winter Annual Meeting, PED 38, San Francisco, CA, (December 10 - 15,
1989). Published by ASME as PED-Vol. 38, Mechanics of Deburring and Surface Finishing Processes. [17] Khatib, 0., "A Unified Approach for Motion and Force Control of Robot Manipulators: The Operational Space Formulation", IEEE J. Robotics Automation, Vol. RA-3, No. 1, pp. 43-53, 1987. [18] Railbert, M. H. and Craig, J. J., "Hybrid Position/Force Control of Manipulators",

ASME. Journal of Dynamic. System, measurement Control, Vol. 103, No. 2, pp.
126-133. 1981. [19] Yoshikawa, T., "Dynamic Hybrid Position/Force Control of Robot ManipulatorsDescription of Hand Constraints and Calculations of Joint Driving Force", IEEE

Journal of Robotics Automation, Vol. RA-3, No.5, pp. 386-39 1987.
[20] Yoshikawa, T., Sugie, T. and Tanaka, M., "Dynamic Hybrid Position/Force Control of Robot Manipulators-Controller Design and Experiment", IEEE Journal of

Robotics and Automation, Vol. 4, No. 6, pp. 699-705, Nov., 1988.
[21] Jeon, D., "Learning Hybrid Force and Position Control of Robot Manipulators",

IEEE Transactions on Robotics and Automation, Vol. 9, No. 4, pp. 423-431, Aug,
1993. [22] Wu, C. and Paul, R., "Manipulator Compliance Based on Joint Torque Control",

Proceedings of the Nineteenth IEEE Conference on Decision and Control,
Albuquerque, NM, Vol. 1, Dec. pp. 88-94, 1980. [23] Pfeffer, L. E., Katib, 0. and Haku, J., "Joint Torque Sensory Feedback in the Control of a PUMA Manipulator'', IEEE Translations on. Robotic. Automation, Vol. 5, No.4, Aug, pp. 418-425, 1989. [24] An, C. H. and Hollerbach, J. M., "Dynamic Stability Issues in Force Control of Manipulators", Proceedings of IEEE International Conference on Robotics and

Automation, pp. 890-896, 1987.

127

[25] Furusho, J., Nagao H., Sano, A. and Naruse, M., "Vibration Control of Robot Arm Using Joint Torque Feedback," Transactions of the Japan Society of Mechanical [26]

[27]

[28]

[29] [30] [31] [32]

[33]

[34]

[35]

[36]

Engineers, Vol. C-56, No. 528, pp. 119-126 (in Japanese ), 1990. Rasmussen, B. and Derby, S., "Design and Evaluation of Robotic End-effectors for an Automated Die Finishing System", Proceedings Symposium on Computer-Aided Design and Manufacture of Dies and Molds (ASME Winter Annual Meeting), Vol. 32,pp.61-74, 1988. Barratt, A. J., Dissanayake, M. W. M. G., Furukawa, T. and Rye, D. C., "Automated Polishing of an Unknown Three-dimensional Surface", Robotics & Computer Integrated Manufacturing Vol.12, No. 3 pp. 261-270, 1996. Guvenc, L. and Srinivasan, K., "An Overview of Robot-assisted Die and Mold Polishing with Emphasis on Process Modelling", Journal of Manufacturing Systems, Vol. 16, No. 1, pp. 48-58, 1997. ATI Industrial Automation, http://www.ati-ia.com/index.aspx PushCorp, Inc., http://www.pushcorp.com RAD, The Robotic Accessories Leader, http://www.rad-ra.com/index.htm Williams, J. A. and Xie, Y., "The Prediction of Friction and Wear when a Soft Surface Slides against a Harder Rough Surface", Wear, Vol. 196, No. 1-2, pp. 2134, 1996. Xi, F. and Zhou, D., "Modelling Surface Roughness in the Stone Polishing Process", International Journal of Machine Tools & Manufacture, Vol. 45, No. 4-5, pp. 365-372,2005. Zhao, Y. W., Maietta, D. M., and Chang, L. "An Asperity Microcontact Model Incorporating the Transition From Elastic Deformation to Fully Plastic Flow", Journal ofTribology, Vol. 122, No. l, pp. 86-93, 2000. Jeng, Y. R. and Huang, P. Y., "A Material Removal Rate Model Considering Interfacial Micro-Contact Wear Behavior for Chemical Mechanical Polishing", Journal ofTribology, Vol. 127, No. 1, pp. 190-197, 2005. Zhang, L., Tam, H. Y., Yuan, C-M, Y-P Chen, Y-P, and Zhou, Z-D, "An Investigation of Material Removal in Polishing with Fixed Abrasives," Proceedings of the I MECHE Part B Journal of Engineering Manufacture, Vol. 216, pp. 103112, 2002.

[37] Greenwood J.A., "Analysis of elliptic Hertzian contacts," Tribology International, Vol. 30, No.3, pp. 235-237, 1997. [38] Yeh, J. H., and Liu, F. W., "Contact Condition Modelling for Machining Fixture Setup Processes", International Journal of Machine Tools & Manufacture, Vol. 39, No. 5, pp. 787-803, 1999.

128

[39] Li, B. and Melkote, S. N ., "An Elastic Contact Model for the Prediction of Workpiece-Fixture Contact Forces in Clamping," Transactions of the ASME,

Journal of Manufacturing Science & Engineering, Vol. 121, No. 3, pp. 485-493,
1999. [40] Moore, P. R., Pu, J., and Harrison, R., "Progression of Servo Pneumatics towards Advanced Applications", 5th Bath International Fluid Power Workshop on Circuit,

Component and System Design, pp. 347-365, 1993.
[41] Shearer, J. L., "Study of Pneumatic Processes in the Continuous Control of Motion with Compressed Air" (I, II), Transactions of ASME, pp. 233-249, Feb, 1956. [42] Wang, J., Wang, D.J.D., Moore, P.R. and Pu, J., "Modelling Study, Analysis and Robust Servo Control of Pneumatic Cylinder Actuator Systems", lEE Proceedings:

Control Theory and Applications, Vol. 148, No. 1, pp.35-42, 2001. [43] Shih, M. C., and Tseng, S. I., "Identification and Position Control of a Servo Pneumatic Cylinder", Control Engineering Practice, Vol. 3. No. 9. pp 1285-1290,
1995. [44] Refaat, S. and Nahavandi, S., "Nonlinear Identification of Pneumatic Servo-Drive",

International Journal of Modelling and Simulation, Vol. 26, No. 1, pp. 11-16, 2006
[45] Guvenc, L. and Srinivasan, K., "Modelling and Parameter Identification of a Pneumatic Constant Force Device",

Turkish Journal of Engineering &

Environmental Sciences, Vol. 24, No. 6, pp. 383-399, 2000.
[46] Wang, J., Pu, J. and Moore, P. R., "A Practical Control Strategy for ServoPneumatic Systems", Control Engineering Practice, Vol. 7, No. 12, Dec, pp. 14831488, 1999. [47] Tang, J., and Walker, G., "Variable structure control of a pneumatic actuator",

Transactions of the ASME, Journal of Dynamic Systems, Measurement and Control,
Vol. 117, pp. 88-92, 1995. [48] Wang, J., Pu, J., Moore, P. R., and Zhang, Z., "Modelling study and servo control of air motor systems", International Journal of Control, Vol. 71 No.3, pp. 459-476, 1998. [49] Pu, L., Moore, P. R., Harrison R. and Weston, R. H., "A Study of Gain-Scheduling Method for Controlling the Motion of Pneumatic Servos", Proceedings of the Sixth

Bath International Fluid Power Workshop, University of Bath, UK, pp. 193-208,
I 993. [50] Repperger, D. W ., "Controller Design Involving Gain Scheduling for a Large Scale Pneumatic Muscle Actuator", IEEE Conference on Control Applications -

Proceedings, Vol. I, pp. 285-290, 1999.

129

[51] Noritsugu, T., Wada, T. and Yanosaka, M., "Adaptive Control of a Pneumatic Servo System", Transaction on Society of Instrument and Control Engineers, Vol. 24, pp. 1187-1194, 1988. [52] Tanaka, K., Shimizu, A. and Sakata, K., "Adaptive Pole-Placement Control for Pneumatic Servo Systems with Constant Disturbances," Transaction on Society of

Instrument and Control Engineers, Vol. 30, pp. 1069-1076, 1994. [53] Astrom, K. J., Hagander, P. and Sternby, J., "Zeros of Sampled Systems", Automatica, Vol. 20, No. 1, pp.31-38, 1984. [54] Tanaka, K., Yamada, Y., Shimizu, A. and Shibata, S., "Multi-Rate Adaptive PolePlacement Control for Pneumatic Servo System with Additive External Forces", International Workshop on Advanced Motion Control, AMC, Vol. I, pp. 213-218, 1996. [55] Kaitwanidvilai, K., "Force Control in a Pneumatic System Using Hybrid Adaptive Neuro-Fuzzy Model Reference Control", Mechatronics, Vol. 15, No. 1, February,
pp. 23-41' 2005. [56] Boresi, A. P., Schmidt, R. J., and Sidebottom, 0. M., Advanced Mechanics of [57] [58]

[59] [60]

[61] [62]

Materials, 51h Ed., John Wiley & Sons, Inc., 1993. Johnson, K. L., Contact Mechanics, Cambridge University Press, 1985. Lin, J. H., Radwin, R. G., Fronczak, F. J. and Richard, T. G., "Forces Associated with Pneumatic Screwdriver Operation: Statics and Dynamics", Ergonomics, Vol. 46 No. 12. pp. 1161-1177,2003. Astrom, K. and Wittenmark, B., Adaptive Control, ih Ed., Addison-Wesley Publishing Company, 1995. Lee, W. S., Anderson, B. D. 0., Kosut, R. L., and Marreels, I. M. Y., "A New Approach to Adaptive Robust Control", International Journal of Adaptive Signal Process, Vol. 7, pp. 183-211, 1993. Altintas, Y., "Manufacturing Automation", Cambridge University Press, 2000. Yang, Z., Xi, F. and Wu, B.,"A Shape Adaptive Motion Control System with Application to Robotic Polishing", Robotics and Computer-Integrated Manufacturing, Vol. 21, No. 4-5, pp. 355-367, 2005.

130

Appendix A: Path Planning and Parameter Planning
Automatic control for Robotic polishing/deburring includes two planning: path planning and parameter planning. In this chapter the path planning and parameter planning will be described respectively.

A.1. Path Planning
The motion control of robots requires path planning which can plan the trajectory for a machine to follow the geometry of a part. Path planning consists of task space trajectory planning and joint space trajectory planning. The task space denotes the location of the polishing tool, and the joint space denotes the space in which the joint variable is defined. The task space trajectory planning is to generate a set of location points for the toolhead. The joint space trajectory planning is to transform the location points from the task space to the joint space by inverse kinematics. In this research, there are two methods to generate path, the first one is to generate the path from the known mold CAD, and the second one is to generate the path by measuring if the mold CAD is not known.

A.1.1. Generate the Path from the known Mould CAD
A mould with the known CAD model is displayed in Solidwork as shown in Figure A-1. It is used as an example to describe the path generation from the mould CAD. The area inside the circle is selected as the polishing area and is going to be used for path

131

generation. For this given CAD model, the tool trajectory can be generated by the tool path planner (P-CAM, in-house software developed by Ryerson) and the polished area is zoomed in P-CAM as shown in Figure A-2.

Polishi part

Figure A-1 CAD model of the mould

Figure A-2 P-CAM software interface

132

After selelcting a tool, as shown in Figure A-3, the P-CAM package will generate a set of polishing/deburring toolpath according to the shape and size of the chosen tool. After defining the polishing parameters including spindle speed, and feed rate, P-CAM can simulate and predicte the surface roughness of the polished area for a given number of polishing strokes, as showin in Figure A-4. A polishing stroke is one back-and-forth polishing movement along a given path. If the final surface roughness is specified instead, P-CAM can determine the required number of polishing strokes and feed rate.

In Figure A-5, the circle points represent the location points for the control commands which are generated from P-CAM software. In the polishing process, only the control points are on the part surface, whereas toolhead move along a straight line between every two control points on the part surface. To smoothen the generated tool trajectory, the discrete control points of each drive at varying interpolation periods must be re-sampled at the servo loop frequency [61 ]. Note that the re-sampling is done after the trajectory is generated by the interpolation stage presented in the followings.

Figure A-3 Tool selection in P-CAM

133

Figure A-4 Surface roughness prediction in P-CAM

4.:5 ,---.-----,----.---;::::::!=:====:::I====~
0 Location points Resampling points - - P a r t profile

4

+

? E
¥ .... ..c
·o:;
~
Q.
C)

3 .:5

..c

3

2.:5

·8

·6

·4
part length x(mm)

·2

0

2

Figure A-5 Resampling

134

The part profile can be reconstructed based on these control points. From the given location points which are obtained , from CAD model, the part profile function can be obtained from polynomial method as

(A. I)

After the part profile is reconstructed as the solid line shown in Figure A-5, the next step is to re-sample at the control loop frequency and to determine the re-sampling control points. The numerical method is adopted. In the even speed stage, the toolhead moves at a constant speed. The distance
(Xnext, Ynext) d

between every two re-sampling points,

(Xnow, Ynow)

and

can be written as

a

t2

= ( Xnow- Xnext)

2

+ ( Ynow-Ynext)

2

(A.2)

and should be the same. Starting from the initial point, suppose now the tool reaches
Ynow)

(Xn 0 w,

and the toolhead is expected to travel by distance

dstep

and reach

(Xnext, Ynext).

The

given tolerance of the numerical method is assumed to be tor. By iterating the following procedure as shown in Figure A-6 the position of next location point can be determined. Therefore the re-sampling points can be determined shown as the star points in Figure A-

5.

135

Xnext

= Xnow + Xstep

Ynext = f(Xn exJ

d now =

~ (X

now -

X nexl

2
)

+ (y now

-

Y nexl )

2

no

no

Accept the point Figure A-6 Flow chart of re-sampling points determination

A.1.2. Generate the Path by Measuring the Part
When the mould CAD is not available, the path needs to be generated by using the probing method. A doorstop as shown in Figure A-7 is used to describe path generation by using this method. For example, the task of the experiment is to polish or debur the top edge of the doorstop which has no CAD model. Therefore the path is unknown. The edge of the doorstop is probed point by point based on the iterative spectra comparison method by using a built-in house polishing software developed in [62]. Figure A-8 shows the main interface of the edge probing from the polishing software. Part (a) shows the configuration of the edge probing, such as probe direction, starting and ending points and the parameters of the iterative probing. Part (b) shows the digitized data set of one curve. Part (c) shows all the digitized data set of the edge.

136

Polishing along this section of edge

Figure A-7 Door stop

·11 .07 13.40 ·37.50 -37.5o ·37.50 8.61 3.80 ·0.98 ·10.10 ·9.93 ·10.73 ·12.64

H Edges i"l Ed9e1 ·3 l .. ( ·37.49 . 22.98. ·13.36) i ( ·37.49 . 18.22 . ·11 .07) ' ( ·37.49.13.40 .·10.10) ' ( ·37.50. 8.61 . ·9.93) ·. (·37.50 . 3.80 .·10.73)

IWfpiM·@M@@II

s~menbr

(a)

(b)

(c)

Figure A-8 Screen snapshot of interface for edge probing

After the edge measurement, the digitized points are interpolated by B-Spline as described in [62] and the G-eode can be generated from this polishing software. The profile in Figure A-9 represents a measured edge of the part.

137

Part Edge Profile

0

-5 .

0

5 10 15 Part length- y [mm]

20

25

30

Figure A-9 Workpiece profile To smoothen the generated tool trajectory, the discrete control points of each drive at varying interpolation periods must be re-sampled by using the re-sampling method as described in section A.l.l.

A.2. Parameter Planning
After the G-eode is generated either from the P-CAM software or the in house polishing software by using the probing method as described in the last section, the parameter planning can be conducted in order to augment the G-eode. The parameter planning consists of pressure planning Pc using Equations (3.14) and (3.37), and flow rate planning

q using Equation (3.34), which are obtained from inverse plant equations offline. The
purpose of parameter planning is to maintain the constant contact stress Pm and constant spindle speed w. Since our focus in this research is on pressure control, an on/off control

138

valve is used for the flow control in our current toolhead control. A constant spindle speed control will be considered in the future work.

Again the door stop in Figure A-7 is used as an example for pressure planning. Table A-1 , Table A-2 and Table A-3 list the parameters of the tool , part, and dynamical model , respectively. The part material is copper.

Table A-1 Tool parameters

Description
Tool diameter Maximum radius of curvature Minimum radius of curvature Poisson ' s ratio Young's modulus of elasticity

Symbol

Value [units]
5 [mm] Infinity Infinity 0.15 38000 [N/mm 2]

dr
R '1 R1
U!

E1

Table A-2 Part parameters

Description Maximum radius of curvature Minimum radius of curvature Poisson ' s ratio Young's modulus of elasticity

Symbol R '2
R2
U2

Value [unitsl Various values are used
1000 [mm] 0.30 207000 [N/mm 2 ]

E2

139

Table A-3 Contact model parameters

Description Mechanical efficiency of the polishing tool Mean value of the contact stress Resistance of the fluid flow in the pneumatic spindle Cross-sectional area of the three pneumatic cylinders Spring return force

Symbol
Jlk

Value[unitsj
0.2 34 [N/mm 2] 2 [N.s/mm 5]

Pm
RJ

Ac

3.0536e-5 [m 2] 4.7609 [N]

f

Table A-4 is the part of G-eode containing path planning data for polishing the edge of the part. These data are used to calculate the instantaneous radius of curvature of the part for each xyz coordinate, therefore the planned cylinder pressure Pc through Equations (3.14) and (3.37). The equation for radius of curvature is given as [11]

~ = Q(z)

I

(A.3)

where

and the equation

140

z = f(y)
=

0.000008y 4 + 0.000413y 3 + 0.00746ly 2 + 0.055942y + 2.981064

is determined by using the polynomial curve fitting method by using the data z and x obtained from Table .

Table A-4 G-Code without planned pressure parameter NIOO NllO Nl20 N130 Nl40 Nl50 N160 N170 Nl80 N190 GOI GOl GOI GOl GOl GOI G01 G01 G01 G01 X2.813 X2.817 X2.821 X2.825 X2.829 X2.833 X2.837 X2.841 X2.845 X2.849 Yl8.677 Y17.010 Yl5.343 Y13.677 Y12.010 Y10.343 Y8.677 Y7 .010 Y5.343 Y3.677 Z-7.544 Z-6.940 Z-6.500 Z-6.209 Z-6.050 Z-6.01 0 Z-6.075 Z-6.230 Z-6.469 Z-6.808 F 1.000 PO.OO F 1.000 PO.OO F 1.000 PO.OO F 1.000 PO.OO F 1.000 PO.OO F 1.000 PO.OO F 1.000 PO.OO F 1.000 PO.OO F 1.000 PO.OO F 1.000 PO.OO

Table A-5 is the part of augmented G-eode containing path planning data and calculated planned cylinder pressure data Pc for polishing the edge of the part.

Table A-5 G-Code with planned pressure parameter NOS Nil 0 Nl20 Nl30 Nl40 Nl50 N160 Nl70 N180 N190 N200 N645 M03 GOI G01 GOI GOI G01 GOl G01 G01 GOI GOl M05

X2.813 X2.817 X2.821 X2.825 X2.829 X2.833 X2.837 X2.841 X2.845 X2.849

Y18.677 Yl7.010 Y15.343 Yl3.677 Y12.010 Yl0.343 Y8.677 Y7.010 Y5.343 Y3.677

Z-7.544 Z-6.940 Z-6.500 Z-6.209 Z-6.050 Z-6.010 Z-6.075 Z-6.230 Z-6.469 Z-6.808

A-22 .2 80.0 A-17.3 80.1 A-12.7 80.1 A-8.5 B0.2 A-4.5 80.2 A-0.8 80.2 A2.9 B0.2 A6.7 80.2 Al0.6 BO.l A14.7 BO.l

P1.59 P1.69 P1.84 P2.00 P2.15 P2.24 P2.26 P2.19 P2.06 P1.92

Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O Fl.O

141

Appendix 8: Feedback Linearization Matlab Code
Solution for the 3rd order polynomial function

syms u v bO b 1 b2 b3 c 1 eq 1='b3 *u""3+b2 *u""2+b 1*u+bO-c 1*Pc=v'; result=solve(eq 1,u)

142

CURRICULUM VITAE Name Education Liang Liao Wuhan University of Technology Wuhan, Hubei, China 1991-1995 B. E. (Industrial Automation) Lakehead University Thunder Bay, Ontario, Canada 2001-2004 M.Sc. Eng. (Control Engineering) Ryerson University Toronto, Ontario, Canada 2004-2008 Ph.D (Aerospace Engineering) Experience Research Assistant Ryerson University 2004-2008 Ontario Graduate Scholarship Science and Technology 2006-2008

Awards

Publications Liao, L. and Xi, F., "A Linearized Model for Control of Automated Polishing Process",

Proceedings of the 2005 IEEE Conference on Control Applications, Toronto, Canada
August, 2005. Xi, F., Liao, L., Mohamed, R. and Liu, K., "A Tripod-based Polishing/Deburring Machine", Smart Devices and Machines for Advanced Manufacturing, edited by Wang, L. and Xi, F., publisher Springer, pp. 137-165,2008. Liao, L., and Xi, F., "Control of Automated Polishing Process Using Optimal Piecewise Shape Linearization" Proceedings of 2nd International CIRP HPC Conference, Vancouver, 2006. Liao, L., Xi, F., and Liu, K., "Modelling and Control of Automated Polishing/deburring Process Using a Dual-Purpose Compliant Toolhead", International Journal of Machine

Tools and Manufacture, in press, available online 30 April 2008.
Liao, L., Xi, F., and Liu, K., "Adaptive Control of Pressure Tracking for Polishing Process", Journal of Manufacturing Science and Engineering, ASME, under review.

143

