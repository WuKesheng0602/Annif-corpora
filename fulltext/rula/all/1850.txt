Ryerson University

Digital Commons @ Ryerson
Theses and dissertations

1-1-2009

Intelligent Condition Monitoring Models For Rotating
Kamyar Rashidi
Ryerson University

Follow this and additional works at: http://digitalcommons.ryerson.ca/dissertations Part of the Mechanical Engineering Commons Recommended Citation
Rashidi, Kamyar, "Intelligent Condition Monitoring Models For Rotating" (2009). Theses and dissertations. Paper 1214.

This Thesis is brought to you for free and open access by Digital Commons @ Ryerson. It has been accepted for inclusion in Theses and dissertations by an authorized administrator of Digital Commons @ Ryerson. For more information, please contact bcameron@ryerson.ca.

INTELLIGENT CONDITION MONITORING MODELS FOR ROTATING MACHINERY

I

By Kamyar Rashidi B. Eng, Khajeh Nasir Toosi University of Technology, Tehran, Iran, 2006

A thesis Presented to Ryerson University

In partial fulfillment of the Requirements for the degree of Master of Applied Science in the Program of Mechanical Engineering

Toronto, Ontario, Canada, 2009
Е Kamyar Rashidi 2009

AUTHOR'S DECLARATION

I hereby declare that I am the sole author of this thesis or dissertation. I authorize Ryerson University to lend this thesis or dissertation to other institutions or individuals for the purpose of scholarly research.

I further authorize Ryerson University to reproduce this thesis or dissertation by photocopying/or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

11

Borrower

Ryerson University requires the signatures of all persons using or photocopying this thesis. Please sign below, and give address and date.

/

111

Intelligent Condition Monitoring Models for Rotating Machinery Systems
Kamyar Rashidi, Master of Applied Science, 2009 Mechanical and Industrial Engineering, Ryerson University

ABSTRACT

Condition-based maintenance (CBM) is a maintenance strategy that reduces equipment downtime, production loss, and maintenance cost based on the changes in machine condition (e.g., changes in vibration, power usage, operating performance, temperatures, noise levels, chemical composition, and debris content). A newly developed condition monitoring model (CMM) is developed based on Bayesian decision theory, which takes vibration signals from a rotating machine and classifies them to either the normal or abnormal state. A conditional risk function is defined, which is calculated based on a loss table and the posterior probabilities. Using the conditional .risk function, the machine condition can be classified to either the normal or abnormal condition. The developed model can efficiently avoid unnecessary maintenance and take timely actions through analyzing the received vibration signals from the machine. However, the vibration signals sometimes may not be sensed, transmitted, or received precisely due to unexpected situations. Therefore, a fuzzy Bayesian model for condition monitoring of a system is proposed. A program is coded in visual basic to run the models. Illustrative examples are demonstrated to present the application of both models.

lV

ACKNOWLEDGEMENTS

I would like to thank Dr. K. Jenab, my research supervisor, for his outstanding supervision. His unconditional support, guidance and constructive criticism throughout my research study have been invaluable. I would like to thank Dr. Greg Kawall, Director of Mechanical Engineering Graduate program, all the faculty members, technical officers and administrative staff members for their kind support during my study at Ryerson University. I am also thankful to my family for their never-ending unconditional love and support in all my efforts. Deepest appreciation to my parents, who supported me to finish my studies successfully. Finally, I am grateful to God for the countless blessings I have received.

v

TABLE OF CONTENTS
ии Author ' s D ecIaratи 100 ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии 11

Abstract ......................................................................................................................................... iv Acknowledgements ....................................................................................................................... v Table of Contents ......................................................................................................................... vi List of Figures ............................................................................................................................. viii List of Tables ................................................................................................................................ ix Nomenclature ................................................................................................................................ x Chapter 1 ...................................................................................................................................... 1

Introduction ................................................................................................................................. 1 1.1 1.2 1.3 Background ................................................................................................................... 1 The bathtub curve ......................................................................................................... 2 Different types of maintenance ..................................................................................... 5 Corrective maintenance ......................................................................................... 5 Preventive maintenance ......................................................................................... 6 Condition-Based maintenance ............................................................................... 6

1.3.1 1.3.2 1.3.3

Chapter 2 .................................................................................................................................... 12

Literature review ....................................................................................................................... 12 2.1 2.2 Introduction ................................................................................................................ 12 Feature extraction Literature Review ......................................................................... 14 Partial discharges (PD) Literature review ........................................................... 14 Acoustic emission (AE) Literature review .......................................................... 14 spectrometric oil analysis (SOA) Literature review ............................................ 15 Vibration analysis Literature review ................................................................... 15

2.2.1 2.2.2 2.2.3 2.2.4 2.3

Model literature review ...................................................., ......................................... 17

Chapter 3 .....................................................................................................................................21

CBM based on Bayesian Decision Theory ............................................................................... 21 3.1 Introduction to Pattern Recognition ........................................................................... 21 Machine Perception ............................................................................................. 21
VI

3.1.1

3.2

Different stages of a Pattern Recognition System ...................................................... 21 Sensing and pre-processing ................................................................................. 22 Feature selection and extraction .......................................................................... 22 Classification ....................................................................................................... 23 Decision Making: ................................................................................................ 28

3.2.1 3.2.2 3.2.3 3.2.4 3.3 3.4

Illustrative example .................................................................................................... 29 Results and discussion ................................................................................................ 37

Chapter 4 .................................................................................................................................... 38 CBM based on Fuzzy Bayesian Decision ................................................................................. 38 4.1 4.2 4.3 4.4 4.5 4.6 4.7 Introduction ................................................................................................................ 38 The basic concept of fuzzy set and Condition Monitoring ......................................... 38 Fuzzy random variables for monitoring signals ......................................................... 41 Condition monitoring mechanism .............................................................................. 42 Fuzzy Bayesian condition monitoring model ............................................................. 42 Illustrative example .................................................................................................... 45 Results and discussion ................................................................................................ 49

I

Chapter 5 .................................................................................................................................... 51 Comparative analysis and conclusions ...................................................................................... 51 5.1 5.2 Introduction ................................................................................................................ 51 Comparative analysis .................................................................................................. 51 Corrective Maintenance ...................................................................................... 53 Preventive Maintenance ...................................................................................... 54 Condition-Based Maintenance ............................................................................ 55 The proposed Condition-Based maintenance ...................................................... 57 Results ................................................................................................................. 59

5.2.1 5.2.2 5.2.3 5.2.4 5.2.5 5.3 5.4

Conclusion .................................................................................................................. 61 Future work ................................................................................................................. 63

References .................................................................................................................................... 64 Appendix 1. Program Codes ...................................................................................................... 70

vii

LIST OF FIGURES
Figure 1-1 : A typical bathtub curve ................................................................................................ 2 Figure 1-2: Early infant mortality failures ...................................................................................... 3 Figure 1-3: Constant (random) failures ........................................................................................... 4 Figure 1-4: Wear-out failures .......................................................................................................... 5 Figure 1-5: Key elements of CBM (Heng et al., 2009) .................................................................. 8 Figure 2-1 : Features used in the literature for condition monitoring of rotating machinery ........ 16 Figure 3-1: Different stages of a pattern recognition system ....................................................... 22 Figure 3-2: Input and outputs of the proposed classifier .............................................................. 23 Figure 3-3: The interface of the program ...................................................................................... 30 Figure 3-4: Distribution of the normal class ................................................................................. 31 Figure 3-5: Distribution of the abnormal class ............................................................................. 32 Figure 3-6: Summary of training data ........................................................................................... 33 Figure 3-7: Classification of new vibration signals ...................................................................... 3 5 Figure 3-8: Number of abnormal frequencies in the last 100 frequencies .................................... 36 Figure 3-9: Number of abnormal frequencies in the last 100 frequencies .................................... 36 Figure 3-10: Consecutive abnormal frequencies .......................................................................... 37 Figure 4-1: Exponential membership function for vibration signals of a rotary shaft .................. 40 Figure 4-2: The interface of the program for Fuzzy Bayesian ...................................................... 45 Figure 4-3: The Fuzzy Bayesian frame in the program ................................................................ 46 Figure 4-4: Normalized membership function of the abnormal class ........................................... 46 Figure 4-5: Percentage of abnormal frequencies in the last 100 frequencies ............................... 48 Figure 4-6: Combination of the first and second criteria .............................................................. 49 Figure 5-1: Maintenance actions taken based on CM policy ........................................................ 54 Figure 5-2: Maintenance actions taken based on PM policy ........................................................ 55 Figure 5-3: Maintenance actions taken based on traditional CBM ............................................... 56 Figure 5-4: Maintenance actions taken based on the proposed CBM .......................................... 58 Figure 5-5: Total cost breakdown for all maintenance policies .................................................... 61 Figure 5-6: Categorized abnormal conditions ............................................................................... 63

viii

LIST OF TABLES

Table 2-1: motor faults using statistical data of IEEE and EPRI (Singh and AI Kazzaz, 2003) .. 13 Table 3-1: A hypothetical loss table ............................................................................................. 27 Table 3-2: Loss table ..................................................................................................................... 34 Table 4-1 : Membership function of vibration signal for a rotary shaft ........................................ 40 Table 4-2: Loss table ..................................................................................................................... 47 Table 5-l: Cost breakdown of maintenance policies .................................................................... 52 Table 5-2: Parametric total cost of each method in interval t ...................................................... 59 Table 5-3: Cost associated with each maintenance method in a period (Cij) .............................. 60 Table 5-4: Total cost of each method in interval t
.......................................................................

60

lX

NOMENCLATURE

v

Vibration signal Fuzzy vibration signal Different classes (i= 1 to n) Class "Normal"

Wz

Class "Abnormal" Action "i" Action "Continue" Action "Stop" Mean Mean of class "Normal" Mean of class "Abnormal" Standard deviation Standard deviation of class "Normal" Standard deviation of class "Abnormal"

PCwa p(vlwa p(vlwa P(wdv) P(wdv)

Prior probability of class "i" Class-conditional probability density of v given the true state of nature is
wi

Fuzzy class-conditional probability density of v given the true state of nature is wi Posterior probability of class i given feature v is observed Fuzzy posterior probability of class i given feature v is observed Loss function Loss incurred from taking action ai given the true state of nature is Wj

'I'
\jf(adwj)

X

R
R(adv)

Risk Conditional risk of taking action ai given vibration v is measured Characteristic function Membership function Subset Fuzzy subset

-<
Vo

Fuzzy sense Safe level of normal vibration Normal threshold for a signal Parameter of exponential distribution The signal distribution function of v Corrective maintenance Preventive maintenance Condition-based maintenance Decreasing failure rate Increasing failure rate Remaining useful life Condition monitoring model Failed-dangerous Failed-safe Artificial intelligence Artificial neural networks

T
A.
F(v)

CM PM CBM DFR IFR

RUL
CMM FD FS

AI ANN

Xl

CHAPTER 1
INTRODUCTION

1.1

BACKGROUND

In recent years, developed industrial systems have needed reliable machining systems. Today's industry uses many complex types of machines such as rotating machines. These machines should be well maintained in order to increase their availability and safety. Machine failure can have consequences such as production loss and safety problems because of unplanned production interruption (Yang et al., 2005). When a failure is noticed, the machine should be shut down immediately in order to prevent ruinous consequences. In this situation, time and money will be lost because the maintenance must be performed at inconvenient times (Li et al., 2000). The maintenance cost of the domestic plants in the United States was about $600 billion in 1981, and this figure doubled within 20 years (Heng et al., 2009). Over $300 billion is spent on plant maintenance and operations by U.S. industry each year, and it is estimated that approximately 80% of this amount is to correct the chronic failure of machines, systems, and people (Latino, 1999). In 1970, a British Ministry of Technology Working Party report estimated that the cost of maintenance in the United Kingdom (UK) was approximately Б3000 million annually (Kelly, 1978). Annually, the cost of maintaining a military jet aircraft is around $1.6 million. The cost of maintenance activities is approximately 11% of the total operating cost for an aircraft (Kumar, 1999). Therefore, an effective maintenance system is required to minimise the loss due to stoppage of production and machine breakdown cost, and to maximize the reliability, availability and safety of the machinery.

1

1.2

THE BATHTUB CURVE
The change in the probability of the failure of a component over time is defined as the

hazard rate, which is an important function in reliability engineering. The hazard rate is denoted by h(t), and it usually exhibits a bathtub shape for components. Therefore, it is referred to as a bathtub curve. This curve may be different for various types of components. A typical bathtub curve is shown in Figure 1-1.

Burn-in failure

Chance failure

Wear-out failure time

Time
Figure 1-1: A typical bathtub curve

In general, this curve consists of three regions: burn-in failure, chance failure, and wear-out failure time.

2

Burn-in early failure
This region includes the potential failures that may take place due to the defects in design, manufacturing, construction, handling, or installation. This region exhibits a Decreasing Failure Rate (DFR). This period is unwanted because a great number of failures may happen. These failures are called "early infant mortality failures". The curve for this kind of failure is shown in Figure 1-2.

Time Figure 1-2: Early infant mortality failures

Chance failure This region of a bathtub curve, which is also called the useful life region, includes the random failures that may occur during the useful life of a component. This region has a relatively constant failure rate. This does not mean that the failure rate is zero; it indicates that the failure rate is low, and it does not change significantly over time. It is wanted for the bottom of the
3

bathtub curve in this region to be as low as possible. Figure 1-3 shows the curve for this type of failure over time.

Time

Figure 1-3: Constant (random) failures

Wear-out
This region includes the failures which may result from excessive wear in the component. In this region, the component weakens due to factors such as accumulated fatigue, and it is more vulnerable. Therefore, this region has an Increasing Failure Rate (IFR). The wear-out failures increase when the component becomes old. Figure 1-4 shows the curve for this type of failure.

4

Time
Figure 1-4: Wear-out failures

1.3

DIFFERENT TYPES OF MAINTENANCE

In general, maintenance means the actions that are performed in order to keep machines in state, in which the machines can perform their pre-defined functions. The objectives of maintenance strategies are to keep the machinery up and running, and to increase the Remaining Useful Life (RUL) of the machinery. These strategies can generally be classified to Corrective Maintenance (CM), Preventive Maintenance (PM), and Condition-Based Maintenance (CBM).

1.3.1

CORRECTIVE MAINTENANCE

CM, also called breakdown maintenance (Mahalungkar and Ingram, 2004; Heng et al., 2009) is the first generation of maintenance strategy (Mourbay, 2000) which aims at rectifying the failure root causes resulting in the system breakdown. In other words, actions are taken to

5

maintain the machinery only when it fails and requires repair or replacement. CM is used for simple machines that only need basic lubrication, cleanup, and servicing (Mahalungkar and Ingram, 2004).

1.3.2 PREVENTIVE MAINTENANCE
Due to the complexity of the machinery and downtime cost, PM was introduced in the 1950s (Heng et al., 2009). It is also called time-based maintenance (Stephan and Laird, 2003) or scheduled maintenance (Mahalungkar and Ingram, 2004). PM is performed to keep machines working. Therefore, the equipment is routinely inspected and serviced in order to prevent potential breakdowns from occurring. In other words, the machine should be shut down at scheduled intervals for maintenance/service regardless of the machine's health status. In order to have an effective PM, the maintenance interval should be determined optimally (Heng et al., 2009). In PM, most of the maintenance is unnecessary. Moreover, it is labour intensive, and there is no guarantee that the equipment will continue to work even if the maintenance actions are taken according to the routine schedule.

1.3.3

CONDITION-BASED MAINTENANCE

Because of the cost and safety issues associated with CM and PM, CBM is being considered for many industrial systems. In this type of maintenance, the machinery health condition is monitored to detect any abnormality, and maintenance actions are only taken when required. Generally, mechanical components generate an abnormal transient signal in case of the occurrence of any fault condition (Wu and Hsu, 2009). Faults and continuing degradation developments affect the technical condition of the machinery (Wetzer et al., 2000). It is reported

6

that 99% of mechanical breakdowns follow some evident indicators (Bloch and Geitner, 1997). These signal indicators can be used to identify the fault in the machinery. CBM is based on condition monitoring of the equipment and is a more efficient approach when compared to traditional patterns of maintenance and inspection (Hardman et al., 2001; Hess and Fila, 2002). This is because the maintenance, service or replacement decisions are based on the actual condition and health of the components.

CBM OBJECTIVES
The CBM objectives can be summarized as follows: (Ciarapica and Giacchetta, 2006) To prevent harmful failures; To increase the safety of the machinery; To maximize the availability of the components; To decrease the maintenance cost of the equipment; To recognize potential failures in their early stage; To have an efficient inventory system, ordering only what is required, and only when needed; To detect damages in advance in order to prevent severe breakdown of the machines; and To document the health of the equipment.

REQUIREMENTS OF CBM As mentioned before, CBM has many advantages over the other maintenance strategies; however, it requires that: (Wetzer et al., 2000)
7

The mechanisms of component failure, and their criticality are known; Appropriate indicators should be defined for the status of breakdown and degradation; Suitable diagnostic tools are needed to compute these indicators; and Some assessment tools are required to analyze the computations and evaluate the condition of the components in order to make maintenance decisions.

KEYELEMENTSOFCBM
In a typical CBM model, useful data and information regarding the current condition and state of a machine are obtained. Then, the data should be processed by a model for the purpose of making decisions for maintenance actions. Three essential components of a successful CBM are shown in Figure 1-5.

Figure 1-5: Key elements ofCBM (Heng et al., 2009)

Data Acquisition:
The main objective of CBM is to minimize maintenance costs by performing timely maintenance and replacement actions. Therefore, the condition of the components should be assessed accurately, and the health information of the machine should be collected and stored for

8

further analysis. This can be done by employing advance monitoring technology based on sensing devices mounted on the machine to collect the useful information. The information includes vibration, acceleration, temperature, pressure, and oil debris that can be measured and transmitted by sensors. Although the advanced technology in sensing devices helps CBM in different environments such as high temperature, high humidity, flammable locations, and areas
with electromagnetic interference, sensing and transmitting information remains as a challenge

forCBM.

Data Processing:
In this step, useful information for condition monitoring, which is called "features", should be extracted from the collected data. This is one of the most important steps of the CBM that is critical for the success of the diagnostic process (Yang et al., 2005). The selected feature( s) should provide precise information about the machine status. In addition, the features( s) should be able to reflect whether the component is working properly or not.
Decision Making:

In this step, maintenance actions are recommended through diagnosis and/or prognosis:
a) Diagnosis: This contains the detectionиand classification of failures. Using sophisticated

data acquisition and sensing technology, it aims at identifying the actual failures of a system. There exist three diagnostic techniques which can be used for CBM: (Wetzer et al., 2000) o
Online monitoring: This is used to monitor appropriate features constantly to provide

a timely warning.

9

0

Online diagnosis: This technique offers in service diagnosis, which can be at regular intervals (maintenance) or when potential failure is expected (intensive care).

o

Off-line diagnosis: This method is mostly used for costly components in order to find out the reason, location, and required maintenance/service action in case of observing a fault or degradation in the system.

b) Prognosis: This determines how likely it is for a failure to take place, and also how soon it will happen. In other words, prognosis means to apply predictive maintenance methods in order to evaluate the trends of machine condition against recognized engineering limits (Qiu et al., 2003). The objective of prognostics is to identify, analyze, and correct problems before the failure actually occurs. Also, more advanced prognostic methods exist, which examine performance degradation of the machinery for the purpose of predicting and preventing the faults, and failures. There are three essential steps required for prognostics as follows: (Qiu et al., 2003) o The capability to detect the failure at its early stage;

o To measure the performance of the equipment constantly; and o To assess the RUL with a confidence interval, and to estimate the possible failure modes of the equipment. Prognostics have many advantages including minimizing such problems as machine downtime, excessive spares inventory, maintenance costs, and unsafe circumstances (Heng et al., 2009). In general, prognostic methods can be categorized into model based and data driven approaches (Lei et al., 2007). The model based approaches need prior knowledge such as physical model or domain expert experiences about the system failure condition. In contrast, the

10

data driven approaches do not require previous data about the system to be monitored. As a result, they are more effective and practical. Also, the data driven approaches are based on statistical techniques and the machine learning concepts from the theory of pattern recognition (Lei et al., 2007).
THESIS OBJECTIVE

The objective is to develop an intelligent condition monitoring model for rotating machinery to perform timely maintenance action on the machine with minimum cost.

11

CHAPTER 2
LITERATURE REVIEW
2.1 INTRODUCTION

Diagnosis and prognosis of machinery systems include two important steps of the CBM. Rotating machinery can be seen in many mechanical systems. In order to increase availability, reliability, and safety of the machinery systems, and to reduce maintenance cost, an effective maintenance system should be employed. Considering all components of rotating machinery, rolling element bearings play a vital role in the proper operation of the machinery (Qiu et al., 2003). Bearing failure is one of the foremost causes of failure in rotating machinery (Al-Raheem et al., 2009; Qiu et al., 2003; Li et al., 2000; Qiu et al., 2002; Yang et al., 2005). Although bearings are cheap components, they are critical to most machinery because bearing failure results in the failure of the whole machine. For example, if a bearing fails in a machine in a plant, it can interrupt the production line. Moreover, it results in unscheduled downtime and production losses. It can also damage the machinery, which leads to unplanned maintenance and high replacement costs (Janjarasjitt et al., 2008). In addition, a bearing failure can be dangerous in some situations like helicopters and automatic processing machines (Li et al., 2000). Rolling element bearings are used in many mechanical systems such as gearboxes, transmission systems, internal combustion engines, turbines, generators, and induction motors. In 2003, Singh and Al Kazzaz studied motor faults using statistical data of IEEE and EPRI. As shown in Table 2-1, bearings are the most common elements, which may fail in induction motors.

12

Table 2-1: motor faults using statistical data ofIEEE and EPRI (Singh and AI Kazzaz, 2003)

Bearing faults ((X.)

Stator faults

ex.)

Rotor faults

ex.)

()thers

ex,)

IEEE EPRI

42
40

28
38

8

22

10

12

In some cases such as military aircraft, bearings transmit high loads and operate in severe conditions such as high temperature; they also spin иat high speeds. Consequently, they become high-wear components, which are critical to the safe operation of the aircraft. For instance, bearings in the Joint Strike Fighter lift fan drive system must be able to undergo high loads and accelerations, high temperature (150░C), and pitch velocities up to 25,000 ft/min. Moreover, bearings in the engine hot path must endure a temperature of 300░C (Draney, 2007). It is also expected that future engines work at high temperatures to improve efficiency (increased fuel efficiency and decreased emissions through TBCs, 2003). Therefore, bearings become more vulnerable and their criticality increases for the safe operation of the engine. Bearing failures in the turbine engines will result in damage to both the bearing itself and the engine. It has been established that turbine engine bearing failures are the most common cause of class-A failures, which may lead to the loss of aircraft or more than 1M$ damage (Wade, 2005). According to the above examples, monitoring the condition of rolling element bearings and estimating their remaining life is an essential component of optimal condition based maintenance in terms of productivity and cost. Because of the probabilistic nature of rolling element bearings operation, estimating their RUL is challenging. Also, in practice, it is not 13

feasible to remove all bearing failures. In order to minimize the consequences of bearing failure, condition monitoring techniques are employed.

2.2

FEATURE EXTRACTION LITERATURE REVIEW

Feature extraction is an essential step for a successful diagnosis and prognosis procedure. Many papers in the literature have discussed various features to be used in condition monitoring of rotating machinery. As Desforges et al. stated in 2000, measured parameters such as temperature, pressure, flow rate, or vibration patterns can generally be used for diagnostic purposes. According to Li et al., 2000, features such as temperature, wear debris, oil content, vibration, and acoustic emission can be measured to monitor the condition of rotating machines.

2.2.1

PARTIAL DISCHARGES (PD) LITERATURE REVIEW

Partial discharges (PD) are discussed as a feature to detect failures in generators and motors (Zhu et al., 2002; Stephan and Laird, 2003; Flubacher and Strehl, 2008). The stator insulation system of the generators and motors is usually degraded due to electrical, mechanical, thermal, and environmental stresses. The stator winding insulation should be monitored constantly because its deterioration is a key factor of high voltage generators and motors. Partial discharges (PD) reflect the wear in the stator insulation system (Zhu et al., 2002). Thus, they can effectively be used as a feature to monitor the deterioration of stator insulations.

2.2.2

ACOUSTIC EMISSION (AE) LITERATURE REVIEW
Mba and Rao, 2006 and Menon et al., 2000 used acoustic emissions (AE) as a feature for

monitoring the condition of rotating equipment. Generally, structural alternation in/on a solid

14

material under thermal or mechanical stress will release strain energy. This can generate some transient elastic waves, which are called AE (Tan et al., 2007). In rotating machinery, AE are described as elastic waves produced by the interaction of two media in relative motion. There are some sources of AE in rotary machinery such as impacting, cyclic fatigue, friction, turbulence, material loss, cavitation, and leakage (Tan et al., 2007).

2.2.3

SPECTROMETRIC OIL ANALYSIS (SOA) LITERATURE REVIEW
As discussed in (Anderson et al., 1999), spectrometric oil analysis (SOA) has been used

for wear analysis of machinery. It is also an established tool for diagnosing the failures in mechanical components (Pusey, 2007). In general, oil-wetted components impart tiny solid particles of metal on the lubricating oil. Therefore, a specific amount of metal particles in the oil is normal. However, any increase in this value is considered abnormal and should be detected in order to prevent failures and significant life reduction of the components. The idea behind the SOA is that the wear particles in the oil can provide some information about the source of the wear and machine condition. In other words, wear particles in an oil sample can be identified and quantified for the purpose of condition assessment of the machinery. Spectrometers can normally detect the wear particles between 5J.!m to lOJ.!m in an oil sample (Tan et al., 2007).

2.2.4

VIBRATION ANALYSIS LITERATURE REVIEW

Among the different features in use, vibration is currently the most common. Most of the papers in the literature have used vibration signals for condition monitoring of rotating machinery. Figure 2-1 shows the percentage of papers that have used the vibration feature for condition monitoring of rotating machinery.

15

Figure 2-1: Features used in the literature for condition monitoring of rotating machinery

Vibration monitoring has also been probed comprehensively in many engtneenng maintenance papers (Koo and Kim, 2000; McFadden and Toozhy, 2000; Jardine et al., 1999). A wide range of problems in rotating machinery such as imbalance, mechanical looseness, misalignment, gear defects, and motor problems can be identified using vibration analysis (Mahalungkar and Ingram, 2004). Moreover, it has been widely used for many bearing condition monitoring techniques to avoid sudden bearing breakdown (McFadden and Smith, 1984). As a result, vibration measurement can be used in order to predict the failure lifetime of a bearing (Qiu et al., 2003). Also, the application of vibration analysis for gear fault diagnosis is well recognized in industry (Gadd and Mitchell, 1984; Cameron and Stuckey, 1994). In addition, the vibration signal is more effective than the current signals for condition monitoring and fault diagnosis for induction motors (Han et al., 2007). As mentioned above, in a lot of cases, vibration is an outstanding tool for machinery health diagnosis (Suyi and Shuqing, 2006). The 16

use of vibration signals is considered effective because the signals carry dynamic information on the health state of the machine (Lin and Qu 2000). As a result, vibration is considered a unique and applicable feature for condition monitoring of rotating machinery, and has received considerable attention because of economic benefits we get from its effectiveness (Zhan et al., 2003). In this work, we have also used this feature in the CBM model.

2.3

MODEL LITERATURE REVIEW
Generally, there are three basic approaches used for the purpose of condition monitoring

for fault diagnosis (Desforges et al., 2000), which are as follows:

a) Case-based reasoning
This approach employs a list of rules, which are usually provided by a human expert. These rules can be used for fault diagnosis. In other words, the rules can be applied on measured data to determine the status of a system. This method is applicable to simple systems, but it cannot be used in complex systems. In addition, the reliability of this method is low due to human error.

b) Model-based diagnosis
In this method, the physical attributes of a system or process are associated with some mathematical parameters in a model. In the defined model, there are some inputs, which are data measured from a specific system, machinery, or process. When the measured data change, the mathematical parameters associated with the physical attributes of the system change too. This change in the parameters of the model can be used as an evidence for the diagnosis of faults. This approach can theoretically be used for condition monitoring of the machinery; however, it is

17

very difficult to model real complex systems in practice. Therefore, this approach is not being used in practice.

c) Non-parametric modeling
Non-parametric modeling approaches have some inputs and outputs. In condition monitoring, the input of these approaches would be the measured data from the machinery, and the output would be the state of the machine. There are some non-parametric approaches discussed in the literature, which are used for condition monitoring and fault diagnosis. The intelligent diagnosis approaches have been broadly used for condition monitoring of rotating machinery too. The most widely used model in vibration analysis is the class of parametric methods that models a random process with an autoregressive moving average (ARMA), an AR, or a moving average (MA) type model (Kay and Marple, 1981). Al-Bedoor proposed a mathematical model for blades condition monitoring using shaft torsional vibration signals. Regressive analytical models are used for diagnosis and prognosis of bearings (Alfredson and Mathew 1985; Bailie and Mathew, 1996; Zhang and Ganeson, 1997). However, these models do not have analytical formation and physical logic. In 1997, Cempel et al. performed prognostics by using Weibull and Frechet symptom models; however, these models are developed based on some assumptions such as linearity and proportional relationships. The major disadvantages of parametric spectrum analysis methods are related to choose the followings (Dronet al., 2001): The model for representing the vibration signal; The algorithm for the parameters of the model; and The model order selection criterion, for example the number of parameters of the model.

18

Recently, Artificial Intelligence (AI) techniques such as expert systems, artificial neural networks (ANNs), and fuzzy-logic systems have been widely used for condition monitoring and fault diagnosis of the machinery. In 1998, Mechefske developed a fuzzy-logic inference for fault diagnosis in a machinery system. In 2006, Wang and Hu Used fuzzy-logic inference for fault diagnosis of a pump. Among all AI techniques, artificial neural networks are the most popular because they can efficiently find out similarities among large sets of data (Han et al., 2007). ANN s are simulated based on the human brain, which is able to making decisions with complex information. It is proved that neural networks are able to recognize patterns, and, therefore, they are applied for fault diagnosis (Yang et al., 2002). Different types of neural networks are discussed in the literature for the purpose of machinery fault diagnosis. These methods include back propagation for feed forward networks (BPFF) (Wang and Lei, 1998), radial basis function networks (RBF) (Lowes and Shippen, 1997), self organised maps (SOM) (Tanaka, 1995), and recurrent neural network (RNN) (Parlos et al., 1999). ANNs are able to represent non-linear models without knowledge of the actual structure of the system. Many industrial processes are modeled by Neural Networks (Bishop, 1995). ANNs are used for automated detection of failures in machinery (Alguimdigue et al., 1993; Li et al., 2006; Samanta and Al-Balushi, 2003; Samanta et al., 2006; Saxena and Saad, 2007; Schetinin and Schult, 2006; Su and Chung, 2007; Tao et al., 2006; Yang et al., 2003). ANNs are also employed for condition monitoring of rotating machinery (Rafiee et al., 2007; Maccormirck and Nandi, 1997). Neural networks are used for the fault diagnosis in rolling element bearings (Paya et al., 1997). In 2003, Samanta and Al-Baushi used ANN s for the diagnosis of rolling element fault based on time-domain features. The same year, Kowalski and Orlowska-kowalska used ANNs for the fault diagnosis of induction motors.

19

Although ANNs are well-known for pattern recognition problems, they are not able to effectively reveal the possibility of uncertain diagnosis problems. Also, when the input of the first layer of the network has the same values for different states, the neural network will never converge (Bishop, 1995). In order to increase the efficiency of the fault diagnosis, the partiallylinearized neural network (PLNN) is introduced in Mitoma et al., 2008. However, it is difficult to find out whether the outputs of the network are reliable. In practice, errors such as noisy data, the complexity of the system, and the number of training data can result in some errors in the output of the network (Desforges et al., 2000).

20

CHAPTER 3
CBM BASED ON BAYESIAN DECISION THEORY

3.1

INTRODUCTION TO PATTERN RECOGNITION

We all use pattern recognition in our daily life. Activities such as recognizing someone' s face, reading handwritten letters, and understanding spoken words are some examples of pattern recognition. In these processes, the raw data are obtained, and an action is taken based on the category of the pattern. Pattern recognition is essential for our life, and we have developed complicated neural and cognitive systems for such tasks over the past tens of millions of years.

3.1.1

MACHINE PERCEPTION

Because of the fact that pattern recognition is widely used by people, we seek to design, develop, and make machines that can recognize patterns. For instance, automated speech recognition, fingerprint identification, and optical character recognition are used for various purposes all around the world. Therefore, it is very important to have reliable and precise machine-based pattern recognition. In order to build such systems, a deep knowledge of pattern recognition systems in the natural world, especially involving humans, can be used.

3.2

DIFFERENT STAGES OF A PATTERN RECOGNITION SYSTEM

Pattern recognition systems are mainly composed of the stages shown in Figure 3-1:

21

System
Sensing and Pre-processing

Feature selection and extraction

Classification

Decision

Figure 3-1: Different stages of a pattern recognition system

3.2.1

SENSING AND PRE-PROCESSING

This is the first step of a pattern recognition system. It is also called the "data acquisition" stage, in which useful data are collected from the machine. Some sensors are installed on the key components of the machinery in order to measure different features such as vibration, temperature, oil debris, and acoustic emission. Therefore, X is defined as a random variable with n components, each of which represents a feature. For the problem of rotary equipment, it can be defined as X= {vibration (x1 ), shaft/bearing speed (x 2 ), temperature (x3 ), oil debris (x4 ), ... , where
xi
Xn}

(i= 1,... ,n) is a statistical value of each feature.

3.2.2

FEATURE SELECTION AND EXTRACTION

Out of all measured features, one or more should be selected for condition monitoring. In other words, the process of selecting parts of the signal which are unique for the classes is called feature extraction. The selected feature( s) should be able to provide precise information 22

regarding the health and condition of the machine. As mentioned in Chapter 2, the vibration signal of rotating equipment is used as a feature in this work.

3.2.3

CLASSIFICATION

In the classification stage, the feature values can be transferred from the equipment to the condition monitoring program by installing sensors on the rotary equipment. This information is not useful without process and interpretation. The objective of this stage is to define a model to interpret the feature values so that the information can be used for making decisions regarding maintenance of the rotating equipment. In other words, vibration values provided by the sensors should be used as the input of the model, and the model will classify the value into either the "normal" or "abnormal" class (Figure 3-2). The method used for classification in this work is Bayesian decision theory.

Feature (vibration)

---.j

Classifier

Class w 1 (Normal) : Class w 2 (Abnormal)

Figure 3-2: Input and outputs of the proposed classifier

BAYESIAN DECISION THEORY

Bayesian decision theory is a fundamental statistical approach to the problem of pattern recognition (Duda et al., 2001 ). The basic assumption in this theory is that the decision problem is defined in probabilistic expressions and all of the relevant probabilities are known. The first step is to define the states of nature (wi)и Later, prior probabilities of each class should be calculated, which are expressed by P(wa. These prior probabilities are our prior knowledge

23

from the previous working hours of the equipment to get each class. The next step is to calculate class-conditional density probabilities. In order to do this, we define x to be a continuous random variable whose distribution follows from the state of nature. It is denoted by conditional probability p(vlwa which is the probability density of vibration signal, v, given that the current state of nature is wi. After the calculation of all relevant probabilities, Bayes' formula can be used for the problem of classification, which is:

(3-1)
Where: in case of n classes (3-2)

States of nature
As explained before, each vibration frequency should be classified in one of the two possible classes: the vibration frequency is either normal or abnormal. We assume w denotes the states of nature, with w= w1 for normal and w= w2 for abnormal vibrations. These states of nature are unpredictable and therefore should be defined probabilistically.

Prior Probabilities
The next step is to determine the prior probabilities of all states of nature, which are denoted by P( w1 ) and P( w2 ) for class normal and abnormal, respectively. They reflect our prior knowledge of ?-ow likely we are to get each class based on the history of the problem. In this work, we have divided prior probabilities into two categories:

a) Static Prior Probabilities (SPP): In this type, it is assumed that prior probabilities do not
change over time and are constant. They can be calculated based on the previous records of the equipment. For instance, prior probabilities for equipment which 90% of the time does work properly, and 10% of the time does not work would be: P(Normal)=0.9 and 24

P(Abnormal)= 0.1. But, these probabilities change as the equipment works in practice. Therefore, the second type of prior probabilities seems more practical.

b) Dynamic prior probabilities (DPP): DPP change over time based on the equipment
condition that may lead to more precise classifications. For example, when the new equipment starts working, P(Normal) is usually very high and P(Abnormal) is very low. However, when time passes and the equipment works more, the prior probability of class "Normal" usually decreases until maintenance or service is performed on the equipment. Hence, in order to make an accurate decision, prior probabilities should be changed over time based on the condition of the equipment.
Class-Conditional Probabilities

In the Bayesian formula, the distributions and the parameters of class-conditional probability densities should be estimated. This can be done by using a set of training data collected from previous working hours of the equipment for all states of nature. The classconditional probability densities are shown by p(vlw 1 ) and p(vlw 2 ) for normal and abnormal conditions, respectively. In order to estimate the distribution of the data, several methods such as the goodness of fit test can be used and, consequently, the parameters of the distributions can be estimated as well. Therefore, p(vlwa for i=1 to 2 can be calculated for the Bayesian formula.
Posterior Probabilities

When feature v is measured, using Bayes' formula, prior probability can be converted to posterior probability, which is the probability of the state of nature being wi given that feature v is observed (Duda et al., 2001 ). Once posterior probabilities of all classes have been calculated for observed feature v, classification can be performed and the true state of nature will be the one with the highest posterior probability. So the decision rule would be:

25

Decide W1 if P(wtlv)> P(w 2 lv) Decide w2 if P(w 2 lv)> P(w 1 lv) Because of the fact that there are two classes and one feature in this problem, the Bayesian formula will be:
p (N orma ll v ) -

_ p(viNormal)P(Normal)
p(v) p(viAbnormal)P(Abnormal) p(v)

(3-3) (3-4)

P(Ab norma ll v ) =

Where
p(v) = p(viNormal)P(Normal)

+ p(viAbnormal)P(Abnormal)

(3-5)

- \P(Normal) is prior probability of class "Normal" P(Abnormal) is prior probability of class "Abnormal" p(viNormal) is class-conditional probability density of class "Normal" p(viAbnormal) is class-conditional probability density of class "Abnormal" P(Normallv) is posterior probability of class "Normal" P(Abnormallv) is posterior probability of class "Abnormal"

After calculating relevant probabilities, the simplest rule to classify two classes is: Decide w 1 if P(w 1 lv)> P(w 2 lv), otherwise decide w 2 (Duda et al., 2001). This is not always the best decision because not all errors are equally costly. To obtain a precise result, a loss function should be defined in order to combine the posterior probability of each class with the loss incurred from each class. By using the loss function, it can be defined how costly each action is so that we can convert the probability determination into a decision. This is used when some classification errors are more costly than others. We define action a 1 as letting the equipment continue working and action a 2 as stopping the equipment from working. It is not costly if we let the equipment work when it is in a normal condition and stop it when it is

26

in an abnormal condition. As a result, 'l'(a1 lw 1 )= 'l'(a 2 lw 2 )=0. However, two faults may be taking place: Failed-dangerous (FD) and Failed-safe (FS), which are costly (Inoue et al., 1982). In the FD case, CMM does not warn that the equipment is working in an abnormal condition ("Real Abnormal, Predicted Normal"). In the FS case, CMM raises an alarm for an abnormal condition while the equipment is working properly ("Real Normal, Predicted Abnormal"). Thus, the cost associated with FD faults is more than that of FS faults because an FD is likely to lead to serious accidents while an FS usually causes unnecessary maintenance. Table 3-1 is an example of a hypothetical loss table in which the cost of an FD fault is ten times more than the cost of an FS.

Table 3-1: A hypothetical loss table
Condition Decision Continue ( a 1 ) Normal ( m 1) Abnormal ( m2 )
$ 15000

$0
$ 1500

$0

In this situation, the conditional risk while choosing action ai is:

R(adv) = LJ= 1 \fl (adwi)P(wj)
Therefore, we have:
R(Continuelv)

(i=1 to 2)

(3-6)

= \fl(ContinueiNormal)P(Normallv) + \fl(ContinueiAbnormal)P(Abnormallv)
(3-7)

R(Stoplv)

= \fl(StopiNormal)P(Normallv) + \fl(StopiAbnormal)P(Abnormallv)

(3-8)

As discussed before: 27

R

$(Continue! Normal)

=0

and 1V(StopiAbnormal)

=0

(3-9)

Consequently,
R(Continuelv) R(Stoplv)

= 1V(ContinueiAbnormal)P(Abnormallv)

(3-10) (3-11)

= tV(StopiNormal)P(Normallv)

So far, conditional risks of categorizing measured feature v to normal and abnormal classes are determined. The classifier uses these values to determine whether the observed vibration frequency is normal or abnormal.

3.2.4

DECISION MAKING:

The decision rule In this case would be to select the class which minimizes the conditional risk: Decide "Normal" ifR(Continuel v) < R(Stopl v) Decide "Abnormal" ifR(Stopl v) < R(Continuel v) Based on the output of the classifier, we can classify each frequency as either normal or abnormal. Therefore, some criteria should be defined to determine whether the whole equipment is working properly or not. Two criteria which are considered in this work are:
First criterion

This criterion is based on the number of abnormal frequencies in the last 100. This value can be interpreted as the percentage of abnormal frequencies in a period of time. Therefore, if at time t, the number of abnormal vibration signals in the last 100 becomes more than a threshold value, the machine is considered to be working in an abnormal condition. As a result, it should be stopped from working for maintenance.

28

Second criterion

This criterion is based on the number of consecutive abnormal frequencies. For instance, five or more consecutive abnormal vibration frequencies can be considered dangerous. In other words, the system warns if five or more abnormal vibration signals are observed at specific time

t. Consequently, the equipment should be inspected, and maintenance actions should be taken
accordingly.

3.3

ILLUSTRATIVE EXAMPLE

Using the intelligence based condition monitoring model, our objective is to determine whether the rotating equipment is in normal or abnormal condition based on its vibration signals. A program using Visual Basic (VB) was coded to show this example. Figure 3-3 depicts the interface of the program.

29

,. Data Summary
File

~

Fsis526s
Standard Deviation : f4'8.7BOB242 и

Mean:

rs49~'3'7"444"'

Standard Deviation: 1 150.405os2

Normal Continue Stop

Abnormal
$ 115000

$I o

$I o

1

Prior probability:

of abnormal frequencies in the last 100 ........................................................................................................................................................................................................................................................................................., 100

90

.!j
ii
~
l6

80
70

a.

J
1
z
0

60
50

40
30

20
10

0

10

Figure 3-3: The interface of the program

There are three text files which are attached to the program: - Training_normal.txt which includes 250 training vibration data for the "Normal" class -Training_abnormal. txt which includes 250 training vibration data for the "Abnormal" class - Data. txt which includes input vibration data to be classified
30

The first step in performing the classification is to train the classifier. The training section itself includes two parts: _ The distribution of the training data for both "Normal" and "Abnormal" classes should be determined; and - The parameters of the distributions for both classes should be estimated. The BESTFIT software was used in order to determine the distribution of each class. It uses a goodness-of-fit test ranked by the Chi-square test to fit a distribution to the data. The output of the software is shown in Figures 3-4 and 3-5.

Figure 3-4: Distribution of the normal class
31

vaa- in Thounnds
5 и ~~=:1111111111111111111111:=~ 5 и~ 0 %==~ ~~==~ ~~
0.4020 0.8968

Figure 3-5: Distribution of the abnormal class

It can be concluded that the data set for the normal class follows a normal distribution with mean=197.55 and standard deviation=48.78. Also, the abnormal training data set follows a normal distribution with mean=649.37 and standard deviation=150.41. Figure 3-6 presents the output of the program for the first batch of normal and abnormal frequencies during the training phase.

32

Mean: Standard Deviation :

197.55268 8.7808242

Mean : Standard Deviation:

Figure 3-6: Summary of training data

Having the parameters of the distributions, the program computes the class-conditional probabilities based on Equations (3-12) and (3-13).

P(viNormal)

= v2Tt<rl ~ exp [-~(x~1 ) ] Zo1
2

(3-12)

Where ~ 1 =197.55268, a 1 =48.7808242 (3-13) Where: ~ 2 =649.37444, a 2 =150.405082 After calculating the class-conditional probabilities, prior probabilities of each class should be entered into the program. Prior probability of "Normal" and "Abnormal" classes reflects our prior knowledge of how likely we are to see the machine in normal or abnormal condition respectively. There are two textboxes available for entering the prior probabilities in the program. Prior probabilities have been considered constant in this example with the values of P(Normal)=0.9 and P(Abnormal)=0.1. This means that, based on the history of the machine, 90% of the time it is working properly, and 10% of the time it is in abnormal condition. After determining class-conditional probabilities and prior probabilities of each class, using equations (3-3) and (3-4), posterior probabilities can be calculated. The next step is to fill out the loss table. It is considered in this example that the loss incurred by letting the equipment continue working when it is in an abnormal condition is 10 times more than the loss incurred by 33

stopping

the

equipment

while

working

properly

(i.e.,

tfJ(ContinueiAbnormal)

lO*tfJ(StopjNormal)) as shown in Figure 3-7. Therefore, using Equations (3-14) and (3-15), the conditional risk loss values for both decisions (i.e., Continue, Stop) can be calculated based on a received signal from the equipment.

Table 3-2: Loss table
Normal Continue Stop Abnormal

$I o $I 15oo

$ 15000

$I o

R(Continuelv) = 15000

*

1 [- 1 (x-1..1. 2 )2] *0.1 --exp 2 2
-exp[--(x-1..1.1 .ffna 1 2a 1 2 1 1

2 .fina

a

2

F]*o.9+ -exp[--(x-1..1.2 ) 2 ]*0.1 .fina2 2a2 2

1

1

(3-14)

R(Stoplv) = 1500

*

1 .ffna 1 1 2 -exp[--(x-1..1. 1) .final 2a1 2

1 [- 1 2 ( x-1..1. 1 )2] *0.9 --exp 2
a 1

]*0.9+ -exp[--(x-1..1.2 ) 2 ]*0.1 .fina2 2a2 2

1

1

(3-15)

Where: 111 =197.55268, a 1 =48.7808242 and 112 =649.37444, a 2 =150.405082 After reading each vibration frequency ,v, from the sensor installed on the equipment, v is classified to the class with the minimum risk as follows. IfR(Continuel v) < R(Stopl v), vis classified as "Normal" IfR(Stopl v) < R(Continuel v), vis classified as "Abnormal" In this example, the classification process is shown in a frame, which is shown in Figure 3-7.

34

Frequencies
и 151.12-:-'N.;;;~r-- ~ и 112.22 : Normal 121.76 : Normal 133.15 : Normal 171.13 : Normal 189.74 : Normal 291 .58 : Normal 37.24 : Normal 38.09 : Normal 42.41 : Normal 151.12 112.22 121.76 133.15 171 .13 189.74
1

Abnorm~qu~s (Hz) i
I 1

Read ...., , 1

I' 419.97 ~&~
408.25 599.6

:.______:,:____

!
1

i

1 --------------------Prior probability:j"'"'"'"'"6:1-ии"''""'"
L.... иииииииииииииииииииии ....

J

Figure 3-7: Classification of new vibration signals

By clicking on "Read signals" button, the program reads the vibration values, which should be classified. These values are shown in the left side of Figure 3-7. Then, the model classifies each vibration value to the class with minimal conditional risk. After the classification process, the classified vibration signal is added to either "Normal Frequencies (Hz)" or "Abnormal Frequencies (Hz)" list. These two lists are also shown in Figure 3-7. After classifying each vibration signal, decisions regarding maintenance can be made based on two criteria as follows: 1) The number of abnormal frequencies in the last 100 received signals: It is assumed that if this value exceeds 20 abnormal frequencies, the equipment is in an abnormal condition and should be stopped for maintenance. As depicted in Figure 3-8, the number of abnormal frequencies in the last 100 is less than 20 until t=70 hours. Based on the first criteria, it can be concluded that the machine is in normal condition until t=70 hours. However, after this time, the number of abnormal vibration signals in the last 100 has exceeded the threshold. This means that the machine is working under an abnormal condition after t=70 hours of operation and the curve has become continuous. According to the first criterion, the machine should be stopped for maintenance, service, or replacement.

35

100 90
. ~ 80
G)

~

~
E 0

~

70 60 50 40 30 20 10
o~..--..,.1 o.----""20.----30,....--4..-:o-----.5::;:;0-----;:6~0---=;7...-o""l'C8~o....,.,9o..--"""'1 o,........,o1=1o..--::1=2o~13;.,..,lO:;---o1..,.40;--:;15;;;:;o~16Mo--..17mo---:;;:18""o--:;;=19.,-02"""~m;:;-o""""'2""1o~2"""20;;---:=2:vd3o

"jij

.D
10

c

0
G)

il
z
~

t (hrs)

Figure 3-8: Number of abnormal frequencies in the last 100 frequencies

2) The number of consecutive abnormal frequencies: If this number is equal to or more than five, the condition of the equipment is considered unsafe. Therefore, it has to be stopped for maintenance. Figure 3-9 shows the output of the program for this criterion. In this example, five consecutive abnormal vibration signals are observed until t=30 hours. At this time, the number of abnormal vibration signals in the last 100 is less than 20; therefore, the machine is in normal condition based on the first criterion. However, according to the second criterion, the machine should be stopped from working at this time for maintenance. The five consecutive abnormal vibration signals are shown in Figure 3-10.
Number of abnormal frequencies in the last 100 иииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии иииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии:

100 90

и~
"jij

~ 70 ~

ii
E

80

60

j

50 40 30 20 -- - ------.-,-,::;.;,-.;:;..-.-.-;;;.-.-.;.;.;.-.-.;;i..-и-и 10

10

0
G) .D

z

~

.......... -

t (hrs)

0;--"""20.-----;v;-30-4"'0--,5=;;0----;6v;l0---..7~o"~~80...-n90...---.,.1 0~01"1jll"""""""': 011"'1:120r;---;1i"il30.,..--.1"40:;---o1r!r50;--:;16r<n0~17=;;=;0--:r;180v;--:;;:19"'0--ov20ii'l10-2""1no""""'2""2"0""""'2:;::;}30 0,L--...,1

Figure 3-9: Number of abnormal frequencies in the last 100 frequencies
36

305.04 386.82 119.84 121.14

Normal Abnormal Normal Normal

384.1 8 : Abnormal 384.58: Abnormal 356.82 : Abnormal 389.97 : Abnormal 408.25: Abnormal 1 152.24 : Normal

Figure 3-10: Consecutive abnormal frequencies

3.4

RESULTS AND DISCUSSION

Applying the decision policies, the program finds the time of maintenance at minimum cost. The threshold policy may help to detect the problem in a certain time interval. However, the consecutive policy can detect the assignable causes regardless of the overall equipment condition. As shown in Figure 3-9, the number of abnormal frequencies in the last 100 frequencies is less than 20 until t=70 hours. Therefore, it may be concluded that the equipment is working properly. However, there exists a point around t=30 hours, at which the equipment works under abnormal condition resulting in damage to the equipment in the long run. This case, resulting from assignable causes., can be detected by the consecutive policy. In both cases, the equipment should be stopped from working for maintenance.

37

CHAPTER 4
CBM BASED ON FUZZY BAYESIAN DECISION
4.1 INTRODUCTION

This chapter aims at developing a fuzzy Bayesian condition monitoring model based on an exponential distribution for the signals that sometimes may not be sensed, transmitted, or received precisely due to unexpected situations. It is assumed the fuzzy signals are fuzzy random variables with fuzzy prior distribution. Using the fuzzy signals, the dynamic risk of operation will be determined resulting in minimum cost and optimum service time. The remainder of this chapter is organized as follows. The next section is devoted to the basic concept of fuzzy set. In section 4.3, the notations and the assumptions concerning the fuzzy random variables are mentioned. In section 4.5, the fuzzy Bayesian monitoring model is discussed.

4.2

THE BASIC CONCEPT OF FUZZY SET AND CONDITION MONITORING

Generally, 1n condition monitoring systems, the signals (i.e., mechanical signals, electrical signals, climatic signals), cannot be considered as precise inputs for making a maintenance decision. For example, the vibration of a shaft in a rotary machine cannot be measured in an exact way because of fluctuation of the machine parameters and sensor failure due to unexpected situations. Therefore, the appropriate way to specify the vibration level is to say that the vibration level falls around a certain range. Let X be a universal set and N be a subset of X. We can define a characteristic function XN :X ~{0,1} with respect to N by 1 XN(v)= { 0

if v EN if v~N

(4-1)

38

The concept of a characteristic function can be extended to a membership function

Pit :X ~[0,1] for a fuzzy subset

N of X

The value of

fl R (v)

can be interpreted as the

membership degree of a signal in the set number

N. Let v be a signal received from a sensor. The fuzzy

v corresponding
flR

to v can be interpreted as "around normal level." The graph of the (v) is bell-shaped and
flR

membership function

(v) = 1 when vis close to normal level.

In condition monitoring, the signal should be classified as belonging to either the normal or the abnormal fuzzy class after measuring feature v (vibration). Therefore, two states of the classes can be defined: m 1 =normal and m2 =abnormal. In order to classify the observed signals, a pattern recognition system is used (Duda et al., 2001 ), which is composed of four sections that are shown in Figure 3-1. As mentioned in Chapter 3, the input of the pattern recognition system is a signal and the output is the class. It is assumed that the signal is classified as belonging to the normal class if v -< T where T is the normal threshold for the signal, "-<" is a fuzzy sense, and v0 is the safe level of normal vibration. In this case, the exponential membership function can be expressed by

flJJ

(v) = 1- e--t(T-v) 0

!
1

if V-< V 0 if v0 -< v-< T for A> 0 if v>-T

(4-2)

Using Equation (4-1), Figure 4-1 shows the membership function in Table 4-1 for vibration signals received from a rotary shaft. It is assumed that: The normal vibration threshold = 400 Hz Lambda= 0.001

v 0 = 340Hz

39

Table 4-1: Membership/unction of vibration signal for a rotary shaft

v
335 340 350 355 360 365 370 375 380 385 390 395 399 400

J.iR(v)
1 0.058235466 0.048770575 0.044002518 0.039210561 0.034394584 0.029554466 0.024690088 0.019801327 0.01488806 0.009950166 0.004987521 0.0009995 0

Normalized J.i R (v)
1 1 0.84 0.76 0.67 0.59 0.51 0.42 0.34 0.26 0.17 0.09 0.02 0

1

--r-и------------------....._....------------------------------------------------------------------ -------------------------------------------------------------- -----------------------------

~9

~8
0.7

--------------------------------------- ---------------------------

"0

";3

.~

Q)

~3

------------------------------------------ ----------------------------------------------

~

Д

~2 ~-----------------------------------------0

~1 t------------------------------------------- ----------------------1--r----~---r-и-r-и........-,--и.....,..---...,......---,Vibration (Hz)

Figure 4-1: Exponential membership function for vibration signals of a rotary shaft

40

If F(v) is the signal distribution function of v and llR(v) is the equipment condition status
( coi :Normal, Abnormal) membership function, the fuzzy probability of the normal class can be

defined as Equation (4-3).
00

P(v I co1 ) = P(v-< T) = flR(v).dF(v)
0
,.__,
,.__, ,.__,

J

(4-3)

Similarly,

for

fuzzy

signals

vi,v2, .... ,vn

with

corresponding

membership

ways as Equations (4-4) and (4-5).

flR(q, V2 , ииии , vn) =min {JLR(v1 ), J.1R(v2 ), иииии ,J.1R(vn)}
Or
n

(4-4)

flR(q,v2, .... ,vn) = IlflR (vi)
i=l

(4-5)

Although there are different rules for combining membership functions, Equations (4-4) and (4-5) present rules that are suitable for classifying features and making decisions. In this study, we introduce the notation of fuzzy random variables for the monitoring signal (i.e., vibration) and also consider the fuzzy parameters.

4.3

FUZZY RANDOM VARIABLES FOR MONITORING SIGNALS

Let
OJ1 )

v , signal, be a real number and N be a fuzzy subset of R. We denote normal class (
E

by Na(v) = {v: flR(v):::; a} the a-level set of N fora if there exists a

(0,1]. N is called a normal fuzzy

set

v

such that flR ( v) = 1. Also, it is a convex fuzzy set if

41

4.4

CONDITION MONITORING MECHANISM

By installing sensors, the vibration signals can be transferred from the equipment to the condition monitoring system, which processes and interprets the signals. The condition monitoring system classifies the received signals as belonging to either the 'Normal' or the 'Abnormal' class used for making a maintenance decision as discussed in Chapter 3. However, there exist some sensor errors and unexpected situations that result in not obtaining precise information from the equipment. As a result, a fu zzy classifi er that uses Bayesian decision theory is developed. Also, a membership function used in Bayesian decision theory is developed based on exponential distribution described in Equation (4-2) for the equipment condition associated with exponentially distributed signals.

4.5

FUZZY BAYESIAN CONDITION MONITORING MODEL

As mentioned in Chapter 3, Bayesian decision theory is a fundamental approach for the pattern recognition problem. The approach aims at making decisions based upon probabilistic expressions and pre-defined class probabilities. After determining the classes denoted by OJ; , the prior probabilities, p( OJ; ) , can be estimated based on historic data. Consider a fuzzy random variable, and the fuzzy subset

v, with membership function,

JiR(v)

N for normal condition of the equipment. These prior probabilities can be

used for computing the fuzzy posterior probability as given in Equation (4-6).

'""'(O)i I v ) = p(v I mJp(mJ . p p(v)
Using Equation (4-6), the normal condition class (i.e., i= 1) can be written as Equation (4-7).

(4-6)

42

p

-em I v) = p(v-< T)p(mi)
I

p(v)

(4-7)

Using Equation (4-3), we get Equation (4-8).
00

p(m1 ).J f.JR(v).dF(v)

p(mi I v) =

_2 _ _....::.._o_oo_ _ __

(4-8)

Lp(mJ.f f.JR(v).dF(v)
i=l 0

Considering the exponential membership function for the normal class and exponential vibration distribution, Equation (4-9) can be obtained.
p(m1

).J f.JR(v) .
o

00

.Ane-;.,.v dv

PC ml I v) =
P( aJI

).J f.J N(
0

oo

V ) ..Ane -J.,.v dv

+ p( m2

).J f.JA ( ).A
V
0

00

(4-9)
e -A.av dv

0

Similarly, p(m2 I v) can be calculated, which is shown in Equation (4-10).
00

p(m 2 ).J pA(v).A0 e-A.av dv

'PC m2 I v) =
p(m1

).J j.J
0

oo

o
N (v) ..Ane-A.nv dv + p(m 2

).J j.JA (v).A
0

00

(4-1 0)
0

e-A.av dv

Similar to the Bayesian decision theory, a decision rule can be defined here, which is: Decide m 1 if p( m 1 I v) 2::

p(m2 I v) , otherwise decide m2

However, this may not be the best decision because the classification errors may be associated with different costs. Thus, to reach a better decision, a loss function, 'Ц , is proposed to combine the posterior probability of each class with associated cost. Therefore, the "continue operation" and "stop operation" options are denoted by a 1 and a 2 , respectively, for the equipment, and are incorporated in the loss function. There is no cost associated with either

43

continuing the operation with the normal condition class, or stopping the operation with the abnormal condition class. Therefore, \}'(a1 I m1 )

= \}J(a2 I a.>2 ) = 0.

Now, the conditional risk of each class can be defined as Equation (4-11 ).
2

R(a 1 I v) = L\}J(a 1 I mJp(mi I v) Vj
i=l

(4-11)

Where { a 1 , a 2 }={Continue, Stop} and { m1 , m2 }={Normal, Abnormal} Thus, we have:

R(Continue I v) =\}'(Continue I Normal)p(Normall v) + \}' (Continue I Abnormal) p( Abnormal I v)
And

(4-12)

R(Stop I v) =\}'(Stop I Normal)p(Normall v) + \}'(Stop I Abnormal)p(Abnormall v)

(4-13)

Because \}' ( a 1 I a.>1 ) = 0 and \}' ( a 2 I m2 ) = 0 , Equations (4-12) and (4-13) can be simplified as follows:

R(Continue I v) =\}'(Continue I Abnormal)p(Abnormall v) R(Stop I v) =\}'(Stop I Normal)p(Normall v)

(4-14) (4-15)

Having the expected values of the loss function for all cases, it is possible to define the decision rule in a more efficient way that minimizes the conditional risk: Decide m1 if R(m1 I v) :S R(m2 I v) Decide m2 if R(m2 I v)< R(m1 I v) Using this decision rule, each vibration signal can be categorized as belonging to either the normal or abnormal class. After classifying the vibration signals, using the same criteria as mentioned in Chapter 4, decisions can be made for maintenance, service, or replacement.

44

4.6

ILLUSTRATIVE EXAMPLE

Using the fuzzy Bayesian CMM, the objective is to determine whether rotating equipment is in normal or abnormal condition based on its vibration signals. A program coded in Visual Basic is developed to run the model. Figure 4-2 shows the interface of the program.

FUe
...
,

ouonogo

1 Lamda= jo.001 и

~

v<

f34o

'"''"'"u"""'

0

if

v< [34o

M(Normal)= 1иexp(иL~da(T иvll if('340 <v<

rroo

exp(иLamda(T

иv))

if if

1340<v<

rroo

0
Loss -~uи~

if

v>f40o

1

v>f45o

Normal Continue Stop
"New "'"''iY<>O ou~~

Abnormal
$ j 15000

$1 0
!

$ 1 1500

$j

0

,----m-.------и--m--и-и-и--и----и--и. w-------и----..--w....-...-... и-ии ,

Nonnal Frequencies (Hz)иииииииииииииииии и Abnonnal Frequencies (Hz)
229.93 181.4 171 .56 214.42 263.7 _205.83
jjj: il'F

1353.or-------и-uии~ . .:. . и и.и .и .ии.ии. 563.24 '\ 585.45 767.69 1640.63 711 .82

Read signals

I

---~H<~.-.J
~

...

~~~

.1

sec

Prior probabilrty:!

0.9

Prior probabili1y:j

0.1

Number of abnormal frequencies in the last 100 ..........................................................................................................................................................................................................................................................................................................................................,

100 90

и~ 80
'"l6

-=
15
E
10

Q)

~

70
60 50

..c

1::

0
..c E
G)

40 30 20 10 0~Ф1o.-~2o--=~--=4o.-5~10~6~o~n~~-,oo~-~~--,o~J0-..11~0-..12~o~13~o~14~0~1~5no~1~60~1~7o~1~Bo,.1~9o~2woo~2~10~2~20~230
t (hrs)

z

::I

Figure 4-2: The interface of the program for Fuzzy Bayesian

45

There is a frame in the program in which the vibration threshold for both classes can be entered. This frame is shown in Figure 4-3.

-

"''"')'"'"''"''
Lamda=

D

r-

"UIIII ... I

,- "\Lito~""~'

1

if v<

[340

0

if v<

(340
0

lo .001 . и

M(Normal)= 1-exp(иLamda(T иv)) ifi'34Q'<v< 0 if v>

rroo

M(Abnormal)= exp(иLamda(T -v )) if [34o<v< 1 if v> f4QO

J4o(i'

Figure 4-3: The Fuzzy Bayesian frame in the program

The program determines the membership function of frequencies for each class (normal/abnormal) by using Equation (4-2). Assuming the normal vibration threshold, lambda, and v 0 values are 400, 0.001, and 340 respectively, Figures 4-1 and 4-4 depict the normalized membership function of the normal and abnormal class respectively.

~

1

0

Д

Q9

.&
~

J
'"0

0.8
Q7

+------------------------------------------!
~-----------------------------------------

- - -- - - ---l r---------------------------------------------l r-------------------------------------------

1

en

]~ 1
9 ..Д
~

u

~

0.6
QS

o

~

o.4
Q3 Q2

I +-----------------------------------------------------------------~---------------------------------------

~---------------------------------------I I
1

-~----------------------------------------~--------------------------------------

-~

---------------------------

1

~

t-------------------------------------- ------------------------------------------------------

Ql

0 -и~...,....,....,....,.. . . . . . . . . ....,...........~~,_..,....,....,.....,........ ___r,.ии-rиииииии-rиииии..,-ииииии-rиииииииииy-ииии-,.ииииииии-rииииии-..,и---ии-.,.иииии;и-и-r-и-,

Vibration (Hz)

Figure 4-4: Normalized membership function of the abnormal class

46

There are two text files that restore normal and abnormal frequencies. The program first reads these data and calculates the parameters of both distributions (i.e., 2n, 2a ). Then, it calculates the class-conditional probability densities of both the normal and abnormal class, which are shown in Equations (4-16) and (4-17).

(4-16) (4-17) Constant prior probabilities (i.e., P(Normal)=0.9 and P(Abnormal)=0.1) were chosen, and the assumption was made that the loss of letting the equipment continue working when it is in an abnormal condition is 10 times more than the loss of stopping the equipment while working properly (i.e., \fJ(ContinueiAbnormal)=10*\fJ(StopiNormal)) as shown in Table 4-2. Therefore, using Equations (4-14) and (4-15), the conditional risk values for both decisions (i.e., Continue, Stop) can be calculated based on a received signal from the equipment.

Table 4-2: Loss table
Normal Continue Abnormal

Stop

$I o $! 1500
o.tJLA(v) Aae-A-av

$ i 15ooo

$I

o

R(Continuelv) = 15000

*--------------

(4-18)

o.9JLR(v) Ane-A-nv +O.tJLA(v) Aae-A-av flR(v)

o.9

Ane-A-nv

R(Stoplv) = 1500

*-------------

(4-19)

o.9JLR(v) Ane-A-nv +o.tJLA(v) Aae-A-av
47

Based on the defined decision rule, after reading each vibration frequency ,v, from the sensor installed on the equipment, the signal is classified as belonging to the class with minimum conditional risk as follows: IfR(Continuelv) < R(Stoplv), vis classified as "Normal" IfR(Stoplv) < R(Continuelv), vis classified as "Abnormal" (4-20) (4-21)

By classifying each signal, decisions regarding maintenance can be made based on two criteria as follows: 1) The number of abnormal frequencies in the last 100 received signals:

It is assumed that if this value exceeds 20 abnormal frequencies, the equipment is in an
abnormal condition and should be stopped for maintenance. As depicted in Figure 4-5, the equipment is working under abnormal condition after t=82 hours of operation. Furthermore, there is a possibility that the equipment is working under an abnormal condition even if the number of abnormal frequencies does not exceed 20, as shown in Figure 4-6 at t=30 hours.
of abnormal frequencies in the last 100 ..........................................................................................................................................................................................................................................................................................................................................................,

100
90

-~
~
~

ii &

80

70
60

j 50
40 30 ~ 20 ----------------------------------~;~~~~-~~-~--~-~-~-~--~--~--~--~--~--~--~--~--~--~--~--~--~ --~--~ --~ --~ --~--~ --~ --~ --~ --~ - ~--~- ~- ~--~-~ --~ -- ~--~0
ftl

E

~

iii

10

................... . ~ииииииииииииииииииии .... ,..

o~,~o~2~0~3o~~40~5~o~~~~7o~a~o~so~,~oo~,~w~,2~o~,~~~,~4o-=,5~o~,~so~,~7o-=,a~o~,~so~2=oo~2,~0~2~~~230

t (hrs)

Figure 4-5: Percentage of abnormal frequencies in the last 100 frequencies

48

2) The number of consecutive abnormal frequencies:
It is assumed that if this number is equal to or more than five, the condition of the

equipment is considered abnormal. Therefore, the machine should be stopped for maintenance. As depicted in Figure 4-6, five consecutive vibration signals between t=26 hours to t=30 hours are classified as abnormal. Therefore, according to the second criterion, the machine should be inspected to detect any potential failure in advance.
of abnormal frequencies in the last 100 ............................................................................................................................................................................................................................................................................................................................................................,

100
90

и~ c:
d)

80

~

5- 70
60 50 40

iij

E

]
00

0

~ 30 z 20 --------- -- -- ------------- .. ------........, , "
10 ............... .

v

.. ....................

-,.-;.~~

.................. ------ ...... ---- .. -.. ----- -- ------ .. -------- - --- .. ---- --- --- -- -- -- --- ----------t (hrsj

oи'----=1 o,...--,20~--;:3"""'0____,.,4o,....--=so,...---,s=o--:;7"""'o---:::cao,......-=so~,=oo,..---,..,11=o---=,2=-o__,,=30:---::-1....,..,.40,.........,...,15=o---::-;16=-o---=1=1o,.,....--,.1=ao~1s=o---==2o=-o---:2=1o:----:2=20~230

Figure 4-6: Combination of the first and second criteria

4.7

RESULTS AND DISCUSSION

Applying the decision policies, the program determines the time of maintenance at minimum cost. The threshold policy may help detect the problem in a certain time interval. However, the consecutive policy can detect the assignable causes regardless of the overall equipment condition. As shown in Figure 4-6, the number of abnormal frequencies in the last 100 frequencies is less than 20 until t=82 hours. Therefore, we may conclude that the equipment is working properly. However, there exists a point around t=30 hours where the equipment is 49

working under an abnormal condition resulting in damage to the equipment in a long run. This case resulting from assignable causes can be detected by the consecutive policy. In both cases, the equipment should be scheduled for maintenance.

50

CHAPTER 5
COMPARATIVE ANALYSIS AND CONCLUSIONS
5.1 INTRODUCTION

In this chapter, a comparative analysis is carried out to show the efficiency of the proposed maintenance monitoring models in the maintenance strategy. Considering vibration as a monitoring feature, the efficiency of CM, PM, and traditional CBM are compared to that of the newly developed CBM model denoted by "CBM*".

5.2

COMPARATIVE ANALYSIS

The effectiveness of the maintenance management depends on maintenance strategy, work order system, material control, job planning, job scheduling, backlog control, equipment records, priority system, and performance measurement. To evaluate the performance of the existing strategies and CBM*, their maintenance costs are studied. Generally, the maintenance cost function includes three elements as follows:
Loss ofrevenue (production)

Due to scheduled and unscheduled maintenance activities, the production line output will be decreased that results in loss of revenue. This loss can be calculated by multiplication of three parameters (downtime, delta production rate, selling price).
Cost of labour (man-hour)

The labour cost is a major part of maintenance cost which is a function of total number of maintenance man-hours and the labour rate per hour.
Cost of material
51

It is composed of the cost of keeping materials, the cost of procurement and manufacturing, the cost associated with invested capital, and reduction/increase in stock item value. To formulate the maintenance cost, the coefficient of each maintenance strategy is denoted by Cij where i is the index of the maintenance strategies (i.e., i=l for CM, i=2 for PM, i=3 for CBM, and i=4 for CBM*), and j is the index of the cost types (e. g. j= 1 for loss of revenue, j=2 for labour cost, and j=3 for material cost). Therefore, the maintenance cost function can be expressed by

'LJ=

1 CijXij

'Vi. Accordingly, table 5-l depicts the cost breakdown of maintenance

cost for the maintenance strategies.

Table 5-1: Cost breakdown of maintenance policies

To simplify the maintenance cost function, it is assumed that:

и и и

X11 = Xz1 = X31 =X41 X12 = Xzz = X32 =X42 X13 = Xz3 = X33 =X43

52

So, the cost of maintenance strategy (i) would be

'LJ=

1

CiiXi

'Vi.

Using a vibration signal

simulator for a fixed time interval "t", the costs associated with all maintenance strategies are calculated.

5.2.1

CORRECTIVE MAINTENANCE

CM strategy aims at maintaining the machine upon breakdown. As shown in Figure 5-l, the machine starts with a normal vibration threshold. At some points, there are some vibration signals which are classified as abnormal signals. These signals are shown by small circles on the graph. Although a number of abnormal vibration signals are observed during the operation of the machine, no maintenance actions are performed. As result, the vibration increases by further operation time of the machine that leads to machine breakdown. I n another words, in CM strategies, the machine has been exposed to abnormal vibrations during its operation, which leads to the failure of the machine because of fatigue. The maintenance cost is high due to the sudden failure of the machine. Based on Table 5-l, the CM cost function is
(5-1)

As shown in Figure 5-l, there are two CMs performed in the time interval "t". Therefore, the total cost of CM can be obtained, which is shown in Equation (5-2). (5-2)

53

Time
Component fails Component fails

Figure 5-l: Maintenance actions taken based on CMpolicy

5.2.2

PREVENTIVE MAINTENANCE

In PM, the machine is routinely inspected and serviced to prevent potential breakdowns. To optimise the maintenance cost and the machine service time, the inspection and service intervals should be determined optimally as shown in Figure 5-2. As a result, maintenance actions are performed in advance in order to avoid failures and reduce wear out. Although this strategy is more effective than CM, it has some disadvantages such as unnecessary maintenance activities at some points. Also, the excessive maintenance actions taken in this strategy may cause wear to the machine in long term. All above, PM cannot guarantee that the component will continue to work even after the planned maintenance. According to Table 5-l, the PM maintenance cost is:

54

(5-3) As shown in Figure 5-2, there are three PM services performed in the time interval "'t" .The cost associated with this strategy is expressed by Equation (5-4). (5-4)

If the component had not been inspected at scheduled intervals, it would have failed at these points

и~

0

~

>

~

Time
Inspection interval Inspection interval Inspection interval

t

t'

t"

Figure 5-2: Maintenance actions taken based on PM policy

5.2.3

CONDITION-BASED MAINTENANCE

The CBM strategy is based on the condition monitoring of the machine. Using sensing devices, the machine is monitored to detect any abnormality, and it is inspected if an unusual condition observed. CBM is an effective type of maintenance because sudden breakdowns are avoided. Also, the maintenance action is performed only when it is necessary. This prevents excessive maintenance. CBM uses pattern recognition techniques to assess the condition of the 55

machinery. In other words, if the feature being monitored starts to follow an abnormal pattern, the machine will be stopped for inspection/service. Figure 5-3 shows the vibration of the rotating machine has started to exceed the threshold value at times t,t', and t" that are considered for inspection and service points. According to table 5-l, each time the machine is stopped in CBM, the maintenance cost is expressed by (5-5) As depicted in Figure 5-3, three maintenance activities are performed in interval "'t". Therefore, the associated cost with this strategy is (5-6)
Abnormal vibration pattern (The vibration value exceeds the threshold)

Time

t

t'

t"

Figure 5-3: Maintenance actions taken based on traditional CBM

56

5.2.4

THE PROPOSED CONDITION-BASED MAINTENANCE

In this section, the efficiencies of the CBM* model and the traditional CBM are evaluated. As discussed in the Chapters 3 and 4, the newly developed models have two decision criteria defined for maintenance of the rotating machinery. The decision policies are:

Policy 1 - The number of abnormal vibration signals in the last 100 vibration signals:
The machine should be stopped for inspection if the number of abnormal vibration signals in the last 100 becomes more than predefined threshold value. This threshold defined by performing accelerated line time testing is assumed to be equal to 20 in the discussed example. Figure 5-4 shows that at time t, 20 abnormal vibration signals are observed. Therefore, the machine should be checked, and maintenance actions should be taken if required. In this strategy, the machine is inspected upon the observation of a specific number of abnormal vibration signals. Consequently, the component is inspected before being exposed to high vibrations. As a result, the CBM* is a more effective approach because it avoid unnecessary maintenance over the traditional CBM.

Policy 2- The number of consecutive abnormal frequencies:
In this policy, the machine is inspected if a specific number of consecutive abnormal signals are observed. In the illustrative examples, this threshold is equal to five. As depicted in Figure 5-4, at timet', five consecutive abnormal vibration signals are observed.

57

5 consecutive abnonnal vibration signals are observed (second policy)
20 abnonnal vibration signals are observed in this period (first policy)

Time
t

t'

Figure 5-4: Maintenance actions taken based on the proposed CBM

These repeated abnormal signals are harmful because they cause fatigue in the machine components. Therefore, they have to be avoided, and the components should be checked for maintenance or replacement at times t and t'. The CBM* based on this decision criterion detects the consecutive abnormal vibration signals, whose further existence will harm the health of the components. Using the first and second policies at the same time may reduce the number of abnormal vibrations during the operation of the rotating machinery by timely inspection. Applying the second policy helps in improving the efficiency of CBM* over that of the traditional CBM. Based on table 5-l, the cost associated with each inspection in the CBM* is expressed as follows:
(5-7)

58

As depicted in Figure 5-4, two inspections are observed in the interval "'t". Therefore, the overall cost of inspection/maintenance is:
(5-8)

5.2.5

RESULTS

Table 5-2 presents the maintenance cost functions (Equations (5-2), (5-4), (5-6), and (58) for all maintenance strategies. In order to compare the total cost of the strategies in the interval
't,

the coefficients of all potential costs (Cij) are estimated. Table 5-3 shows the cost associated

with each maintenance strategy for one period. To obtain the total cost of each maintenance strategy, the estimated cost for one period should be multiplied by the number of periods in interval
't.

Table 5-4 shows the breakdown of the total cost associated with each maintenance

strategy in interval 't.

Table 5-2: Parametric total cost of each method in interval T

GM
PM

59

Table 5-3: Cost associated with each maintenance method in a period (Cij)

$600 $200 $200 $200

$1000 $500 $700 $700

$1000 $600 $300 $300

Table 5-4: Total cost of each method in interval T

Material

Total

$1,200 $600 $600 $400

$2,000 $1,500 $2,100 $1,400

$2,000 $1,800 $900 $600

$5,200 $3,900 $3,600 $2,400

Using Table 5-4, the chart of different costs of each maintenance method can be drawn, which is shown in Figure 5-5.

60

$6,000 $5,000 $4,000 $3,000 $2,000 $1,000 $0 CM PM CBM CBM*

iiiil Material

cost

M~

Labour cost

ta Loss of revenue due to

stoppage

Figure 5-5: Total cost breakdown for all maintenance policies

According to Figure 5-5, it can be concluded that the total cost of PM, CBM, and CBM* are 75%, 69.23%, and 46.15% of that of CM, respectively. Also, the total cost of the proposed maintenance model (CBM*) is 53.85%, 38.47%, and 33.33% less than the total cost of CM, PM, and CBM, respectively.

5.3

CONCLUSION

Traditional methods of maintenance such as CM and PM have some disadvantages. CM leads to increased costs while the failed machine is down, and PM results in unnecessary and costly periodic maintenance. Also, PM may cause extra wear on the equipment because of untimely action. In order to prevent additional maintenance costs and also maintain the equipment effectively, a CBM which deeply depends on CMM is proposed. The CMM model

61

has been developed which uses vibration signals of the machine to find out whether the equipment is in a normal or an abnormal condition. Decision criteria have been defined to determine the maintenance time based on the output of the model coded in Visual Basic. This program helps efficiently to avoid unnecessary maintenance and take timely actions through analyzing the received vibration signals from the equipment, based on Bayesian decision theory. Because of the fact that the signals sometimes may not be sensed, transmitted, or received precisely due to unexpected situations, we applied fuzzy Bayesian decision theory in CMM. The developed fuzzy intelligent CMM model uses vibration signals of the equipment in order to find out whether the equipment is in a normal or an abnormal condition. The same decision criteria as the previous model have been defined and coded in Visual Basic to determine the maintenance time. This program uses Bayesian decision theory and fuzzy logic to analyze the vibration of the machinery, which helps to determine the maintenance time based on pre-defined decision criteria. The application of Bayesian decision theory and fuzzy logic results in managing the signals that sometimes may not be sensed, transmitted, or received precisely due to unexpected situations. As discussed in the comparative analysis section, the proposed model is able to identify the abnormal vibration signals, which are hazardous to the remaining life of the component. Also, the defined decision criteria determine the optimal inspection time in order to prevent further abnormal vibrations. Finally, the proposed CBM model is less costly when compared to other maintenance strategies in a fixed time interval.

62

5.4

FUTURE WORK

For future work, one can use the "possibility" instead of "prior probability" of each class in the Bayes formula. In addition, in this work, the vibration is classified into two categories, which are the normal and abnormal classes. Therefore, it can be determined whether the machine is in either "normal" or "abnormal" condition based on the output of the condition monitoring model. It does not determine what kind of failure has occurred if the machine is not working properly. However, the abnormal class itself can be separated into several categories, each of which is assigned to a specific fault (i.e., imbalance, mechanical looseness, misalignment, gear defects). Then, the prior probability and class-conditional probability density of each class can be determined using a training data set for each fault condition. In this situation, the classifier will be able to classify the vibration signals into more categories (Figure 5-6), therefore leading to a more precise classification. Decision criteria should also be defined for maintenance strategies. The discussed classification expedites the diagnostic process by determining the specific failure that has happened in the system. Finally, one can develop a fuzzy Bayesian condition monitoring Model based on other distributions (e.g., Weibull, Rayleigh) and perform comparative analysis of the results. Normal Abnormal - imbalance Feature (vibration) Classifier Abnormal - looseness Abnormal - misalignment Abnormal - gear defects

Figure 5-6: Categorized abnormal conditions

63

REFERENCES
[1] Al-Bedoor B. 0., Aedwesi S., and Al-Nassar Y., "Methodology and theory blades condition monitoring using shaft torsional vibration signals", Journal of Quality in Maintenance Engineering, 2006, Vol. 12, No.3, pp. 275-293. [2] Al-Raheem K. F., et al., "Rolling element bearing faults diagnosis based on auto correlation of optimized: wavelet de-noising technique", International Journal of Advanced manufacturing Technology, 2009, Vol. 40. pp. 393-402. [3] Alfredson R. J., Mathew J., "Time domain methods for monitoring the condition of rolling element bearings", The Institute of Engineers Australia, Mechanical Engineering Transactions, 1985, Vol. 10, pp. 102-107. [4] Alguimdigue I. E., Loskiewizc-Buczak A., and Uhric R. E., "Monitoring and diagnosis of rolling element bearings using artifial neural networks", IEEE Transactions on Industrial Electronics, 1993, Vol. 40, pp. 209-216. [5] Anderson D. P., Lukas M., and Yurko R. J., "Recent improvements in oil analysis spectrometers, Proceedings of the International Conference on Condition Monitoring, Swansea, UK, 1999, pp. 359-402. [6] Bailie D. C., Mathew J., "A comparison of auto-regressive modeling techniques for fault damage of rolling element bearings", Mechanical System and Signal Processing, 1996, Vol. 10, pp. 1-17. [7] Bishop M. C., "Neural Networks for Pattern Recognition", Oxford University Press, 1995. [8] Bloch H. P., Geitner F. K., "Machinery failure analysis and trouble shooting", 1997, Gult Professional Publishing. [9] Cameron B. G., Stuckey M. J., "A review of transmission vibration monitoring at Westland Helicopter Ltd.", Proceedings of the 2dh European Rotorcraft Forum, paper 116, 1994, pp. 16/1-116116. [10] Ciarapica F. E., Giacchetta G., "Managing the condition-based maintenance of a combined cycle power plant: An approach using software computing techniques", Elsevier- Journal ofLoss Prevention in the Process Industries", 2006, Vol. 19, pp. 316-3 25. [11] Cempel C., Natke H. G., and Tabaszewski M., "A passive diagnostic experiment with ergodic properties", Mechanical Systems and Signal Processing, 1997, Vol. 11, pp. 107117. [12] Desforges M. J., Jacob, P. J., and Ball A. D., "Fault detection in rotating machinery using kernel-based probability density estimation", International Journal of Systems Science, 2000, Vol. 31, No. 11, pp. 1411-1426.

64

[13] Draney R. K., "High temperature sensor for bearing health monitoring", IEEE, 2007, pp. 17. [14] Dron J.P., et al., "High-resolution methods in vibratory analysis: application to ball bearing monitoring and production machine", International Journal of Solids and Structures, 2001, Vol. 38, pp. 4293-4313. [15] Duda R. 0., Hart P. E., and Stork D. G., "Pattern Classification", 2001, 2nd Edition, WileyInterscience. [16] Flubacher ., Strehl T., "Online PD monitoring of power transformers and rotating machines", IEEE, 2008, pp. 340-342. [17] Gadd P., Mitchell P. J., "Condition monitoring of helicopter gearboxes using automatic vibration analysis techniques", AGARD CP 369, Gears and power transmission system for helicopter turboprops, 1984, Vol. 29, pp. 1-10. [18] Han T, Yang B., and Yin Z., "Feature-based fault diagnosis system of induction motors using vibration signal", Journal of Quality in Maintenance Engineering, 2007, Vol. 13, No. 2, pp. 163-175. [19] Hardman W., Hess A., and Blunt D., "A USN development strategy and demonstration results for propulsion and mechanical systems diagnostics, prognostics, and health management", Proceedings ofIEEE Aerospace Conference, 2001. [20] Heng A., et al., "Rotating machinery prognostics: state of the art, challenges and opportunities", Elsevier -Mechanical Systems and Signal Processing, 2009, Vol. 23, pp. 724-739. [21] Hess A., Fila A., "Prognostics, from the feed to reality - from the fleet users and PHM systems designer/developers perspectives", Proceedings of IEEE Aerospace Conference, 2002. [22] "Increased fuel efficiency and decreased emissions through TBCs", General Electric Global Research Status Report, National Institute of Standards and technology Advanced Technology Program, 2003. [23] Jardine A.K.S., Joseph T., and Banjevic D., "Optimizing condition-based maintenance decisions for equipment subject to vibration monitoring", Journal of Quality in Maintenance Engineering, 1999, Vol. 5, No.3, pp. 192-202. [24] Janjarasjitt S., Ocak H., and Loparo K.A., "Bearing condition monitoring diagnosis and prognosis using applied nonlinear dynamical analysis of machine vibration signal", Elsevier- Journal ofSound and Vibration, 2008, Vol. 317, pp. 112-126. [25] Kay S. M., Marple S. L., "Spectrum analysis-a modem perspective", Proceedings of the IEEE, 1981, Vol. 69, pp. 1380-1419. [26] Kelly A., "Management of Industrial Maintenance", Newnes-Butterworths, London,1978.

65

[27] Koo I. S., Kim W. W., "The development of reactor coolant pump vibration monitoring and a diagnostic system in the nuclear power plant", !SA Transactions, 2000, Vol. 39, pp. 309316. [28] Kowalski C. T., Orlowska-kowalska T., "Neural networks application for induction motor fault diagnosis", Mathematics and Computers in Simulation, 2003, Vol. 63, pp. 435-448. [29] Kumar, U.D., "New trends in aircraft reliability and maintenance measures", Journal of Quality in Maintenance Engineering, 1999, Vol. 5, No. 44, pp. 287-295. [30] Latino C.J., "Hidden Treasure: Eliminating Chronic Failures Can Cut Maintenance Costs up to 60%", Report, Reliability Center, Hopewell, Virginia, 1999. [31] Lei Z., et al. "A genetic training algorithm of wavelet neural networks for fault prognostics in condition based maintenance", The 81h International Conference on Electronic Measurement and instruments, 2007, pp. 584-589. [32] Li R. Q., Chen J., and Wu X., "Fault diagnosis of rotating machinery using knowledgebased fuzzy neural network", Applied Mathematics and Mechanics - English Edition, 2006, Vol. 27, No. 1, pp. 99-108. [33] Li Y., Kurfess T. R., and Liang S. Y., "Stochastic prognostics for rolling element bearings", Mechanical Systems and Signal Processing, 2000, Vol. 14, No.5, pp. 747-762. [34] Lin J., Qu L., "feature extraction based on Morlet wavelet and its application for mechanical fault diagnosis", Journal ofSound and Vibration, 2000, Vol. 234, No. 1, pp. 135-148. [35] Lowes S., Shippen J. M., "A diagnostic system for industrial fans", Measurement and Control, 1997, Vol. 30, No. 1, pp. 9-13. [36] Maccormirck A. C., Nandi A. K., "Classification of rotating machine condition monitoring using artificial neural networks", Proceedings ofInstitution Mechanical Engineering, 1997, Vol. 11, No. 6, pp. 439-450. [37] Mahalungkar S., Ingram M., "Online and manual (offline) vibration monitoring of equipment for reliability centered maintenance", IEEE, 2004, pp. 245-261. [38] Mba D., Rao R. B. K. N., "Development of acoustic emission technology for condition monitoring and diagnosis of rotating machines: bearings, pumps, gearboxes, engines, and rotating structures", The Shock and Vibration Digest, 2006, Vol. 38., No. 1, pp. 3-16. [39] McFadden P. D., Smith J. D., "Vibration monitoring of rolling element bearings by high frequency resonance technique- a review", Tribol Int, 1984, Vol. 17, pp. 3-10. [40] McFadden P. D., Toozhy M. M., "Application of synchronous averaging to vibration monitoring of rolling element bearings", Mechanical Systems and Signal Processing, 2000, Vol. 14, No.6, pp. 891-906.

66

[41] Menon S., et al., "Wavelet-based acoustic emission detection method with adaptive thresholding", Sensory Phenomena and Measurement Instrumentation, 2000, Vol. 3986, pp. 71-77. [42] Mitoma T., Wang H., and Chen P., "Faults diagnosis and condition surveillance for plant rotating machinery using partially-linearized neural network", Elsevier - Computers and Industrial Engineering, 2008, Vol. 55, pp. 783-794. [43] Mourbay J., "Reliability Centered Maintenance", May 2000, 2nd Edition, Industrial Press, Inc. [44] Parlos A. G., Menon S. K., and Atiya A. F., "Adaptive state estimation using dynamic recurrent neural networks", International Joint Conference on Neural networks, TX, 1999, pp. 3361-3364. [45] Paya B. A., Esat I. 1., and Badi M.N.M., "Artificial neural network based fault diagnostics of rotating machinery using wavelet transforms as a pre-processor", Mechanical Systems and Signal Processing, 1997, Vol. 11, No.5, pp. 751-765. [46] Pusey H.C., "Turbomachinery condition monitoring and failure prognosis", Sound and Vibration, 2007, Vol. 41, No.3, pp. 10-15. [47] Qiu H., et al., "Robust performance degradation assessment methods for enhanced rolling element bearing prognostics", Elsevier - A danced Engineering Informatics, 2003, Vol. 17, pp. 127-140. [48] Qiu J., et al., "Damage mechanics approach for bearing lifetime prognostics", Mechanical Systems and Signal Processing, 2002, Vol. 16, No.5, pp. 817-829. [49] Rafiee J., et al., "Intelligent condition monitoring of a gearbox using artificial neural network", Mechanical Systems and Signal Processing, 2007, Vol. 21, pp. 1746-1754. [50] Rao, J. S., Zubair, M., and Rao C., "Condition monitoring of power plants through the internet", Integrated manufacturing Systems, 2003, Vol. 14, No.6, pp. 508-517. [51] Samanta B., Al-Balushi K. R., "Artificial neural network based fault diagnostics of rolling element bearings using time-domain features", Mechanical Systems and Signal Processing, 2003, Vol. 17, pp. 317-328. [52] Samanta B., Al-Balushi K. R., and Al-Araimi S. A., "Artifial neural networks and genetic algorithm for bearing fault detection", Soft Computing, 2006, Vol. 10, No.3, pp. 264-271. [53] Saxena A., Saad A., "Evolving and artifial neural network classifier for condition monitoring of rotating mechanical systems", Applied Soft Computing, 2007, Vol. 7, No. 1 , pp. 441-454. [54] Schetinin V., Schult J., "Learning polynomial networks for classification of clinical electro encephalograms", Soft Computing, 2006, Vol. 10, No.4, pp. 397-403.

67

[55] Singh G. K., AI Kazzaz S. A. S., "Induction machine drive condition monitoring and diagnostic research: a survey", Electric Power Systems Research, 2003, Vol. 64, pp. 145158. [56] Stephan C. E., Laird T., "Condition based maintenance on turbo generators: what makes it real?", 2003, pp. 895-899. [57] Su H., Chung K. T., "Induction machine condition monitoring using neural network modelling", IEEE Transactions on Industrial Electronics, 2007, Vol. 54, No. 1, pp. 241249. [58] Suyi L., Shuqing W., "Machine health monitoring and prognostication via vibration information", Proceedings of the Sixth Internationl Conference on Intelligent Systems Design and Applications, 2006. [59] Tan C. K., Irving P., and Mba D., "A comparative experimental study on the diagnostic and prognostic capabilities of acoustics emission, vibration and spectrometric oil analysis for spur gears", Elsevier- Mechanical Systems and Signal Processing, 2007, Vol. 21, pp. 208233. [60] Tao M., Li Y., and Fang J., "Study on vaccum system fault diagnosis based on fuzzy neural network", Dynamics of Continuous Discrete and Impulsive Systems - Series B Applications and Algorithms, 2006, Vol. 13, Part1 Suppl. S, pp. 292-296. [61] Tanaka, M., "Application ofKohonen's self-organizing network to the diagnosis system for rotating machinery", IEEE International Conference on Systems Man and Cybernetics, 1995,pp.4039-4044. [62] Wade R. A., "A need-focused approach to air force engine health management research", 2005, IEEE Aerospace Conference Proceedings, Big Sky, Montana, 2005. [63] Wang J., Hu H., "Vibration-based fault diagnosis of pump using fuzzy technique", Measurement, 2006, Vol. 39, pp. 176-185. [64] Wang K., Lei B., "Genetic algorithms for constructing feed forward multiple layered neural network in a centrifugal pump condition monitoring", Intelligent Engineering Systems through Artificial neural Networks, 1998, Vol. 8, pp. 303-310. [65] Wetzer J. M., et al., "Diagnostic-space and condition assessment techniques for condition based maintenance", Conference on Electrical Insulation and Dielectric Phenomena, 2000, pp. 47-51. [66] Wu J. D., Hsu C. C., "Fault gear identification using vibration signal with discrete wavelet transform technique and fuzzy-logic inference", Elsevier - Expert Systems with Applications, 2009, Vol. 36, pp. 3785-3794. [67] Wu J. D., Liu C. H., "Investigation of engine faults diagnosis using discrete wavelet transform and neural network", Elsevier- Expert Systems with Applications, 2008, Vol. 35, pp. 1200-1213. 68

[68] Yang D. M., Stronach A. F., and MaConnell P., "The application of advanced signal processing techniques to induction motor bearing condition diagnosis", Meccanica, 2003, Vol. 38, No.2, pp. 297-308. [69] Yang H., Mathew J., and Ma L., "Fault diagnosis of rolling element bearings using basis pursuit", Elsevier - Mechanical Systems and Signal Processing, 2005, Vol. 19, pp. 341356. [70] Yang H., Mathew J., and Ma L., "Intelligent diagnosis of rotating machinery faults: a review", Proceedings of the 3rd Asia-Pacific Conference on System Integrity and Maintenance, Brisbane, Australia, 2002, pp. 385-392. [71] Zhan Y., Maids V., and Jardine A. K. S., "Adaptive model for vibration monitoring of rotating machinery subject to random deterioration", Journal of Quality in maintenance Engineering, 2003, Vol. 9, No. 4, pp. 351-375. [72] Zhang S., Ganeson R., "Multivariate trend analysis using networks for intelligent diagnostics of rotating machinery", ASME Transactions Journal of Engineering for Gas Turbines and Power, 1997, Vol. 119, pp. 378-384. [73] Zhu H., Green V., and Huynh D., "Lifetime extension experience on rotating machine insulation using on-line PD testing", Conference Record of the 2002 IEEE International Symposium on Electrical Insulation, pp. 561-564.

69

APPENDIX 1. PROGRAM CODES
MODULE 1: Publici, j, counter, st, pause, ab, no, kj, n, fuzzy As Integer Public a(l To 1000) As Double Public b(1 To 1000) As String Public b1(1 To 250) As Double Public b2(1 To 250) As Double Public b11(1 To 250) As Double Public b22(1 To 250) As Double Public mean 1, mean2 As Double Public std 1, std2 As Double Public s 1, s2 As Double Public x,p1, p2, cp1, cp2, pp1, pp2, 111, 112, 121, 122, np1, np2, y1, y2 As Double Public pre_x1, pre_y1, pre_x2, pre_y2 As Double Public lambda, mn, rna, T As Double FORM 1: Private Sub Command1_Click() i= i+1 a(i) = Textl.Text b(i) = Combol.Text Text1.Text = "" Combol.Text = "" End Sub Private Sub Command2 Click() Form1.Visible =False Form5.Visible =True End Sub Private Sub Command3 Click() j= 1 k=1 Fori= 1 To 100 Ifb(i) ="Normal" Then b1G) = a(i) j =j +1 End If Ifb(i) ="Abnormal" Then b2(k) = a(i) 70

k=k+1 Endlf Next i Form2.Visible =True Fori = 1 To j - 1 Form2.Listl.Addltem b1(i) Nexti Fori= 1 To k- 1 Form2.List2.Addltem b2(i) Nexti s1 = 0 Fori= 1 To j - 1 s1 = s1 + b1(i) Next i mean1 = s1 I G- 1) Form2.Text1.Text = mean1 s1 = 0 Fori = 1 To j - 1 s1 = s1 + (((1 I G- 2)) * ((b1(i)- mean1) "2))) Next i std1 = Sqr(s1) Form2.Text2.Text = std1 s2 = 0 For i = 1 To k - 1 s2 = s2 + b2(i) Next i mean2 = s2 I (k - 1) Form2.Text3.Text = mean2 s2 =0 For i = 1 To k - 1 s2 = s2 + (((1 I (k- 2)) * ((b2(i) - mean2) "2))) Next i std2 = Sqr(s2) Form2.Text4.Text = std2 'p 1 = G- 1) I (G- 1) + (k - 1))' 'p2 = (k- 1) I (G - 1) + (k- 1))' p1 = Form2.Text5.Text p2 = Form2.Text6.Text Open "c:\data.txt" For Input As #2 Form2.Picture1.DrawStyle = 2
71

Form2.Picture1.ForeColor = RGB(9999, 0, 0) Form2.Picture1.Line (0, 80)-(1 00, 80) Form2.Picture 1.Line (0, 20)-(1 00, 20) Form2.Timer1.Enabled =False Forml.Visible =False Const PI= 3.14159265358979 End Sub FORM2: Private Sub Command1_Click() j=O k=O kj = 0 ab=O no=O Form2.List1.Clear Form2.List2. Clear Form2.Picturel.DrawStyle = 0 Form2.Picture1.DrawWidth = 3 st = 0 Timer1.Enabled =True End Sub Private Sub Command2_Click() pause = pause + 1 If pause Mod 2 = 0 Then Form2.Timer1.Enabled =True Form2.Command2.Caption = "pause" Else Form2.Timer1.Enabled =False Form2.Command2.Caption ="Continue ... " End If End Sub Private Sub exit_Click() Unload Me End Sub Private Sub Form_Load() Form2.Text7.Text = (Form2.VScrolll.Value) I 1000 End Sub Private Sub fuzz_ Click() fuzzy= 1 72

Form2.Frame7.Visible =False Form2.Frame12.Visible =True End Sub Private Sub normal_Click() fuzzy= 0 Form2.Frame7.Visible =True Form2.Frame12.Visible =False End Sub Private Sub Text7_Change() VScrolll.Value = (Text7.Text) * 1000 End Sub Private Sub Timer1_Timer() st = st + 1 If st = 200 Then Form2.Timer1.Enabled =False End If Input #3, x Const PI= 3.14159265358979 Const e = 2.718281828 p1 = Form2.Text5.Text p2 = Form2.Text6.Text If fuzzy = 1 Then lambda= Text20.Text T = Text14.Text Ifx < Text12.Text Then mn= 1 ma=O End If Ifx > Text13.Text And x < Text14.Text Then mn = 1 - e 1\ (-lambda* (T- x)) rna= e 1\ (-lambda* (T- x)) End If Ifx > Text15.Text Then mn=O rna= 1 End If cp1 = mn *lambda* e 1\ (-lambda* x) cp2 =rna* lambda* e 1\ (-lambda* x) End If If fuzzy = 0 Then 73

cpl = (1 I ((Sqr(2 *PI))* stdl)) * (e A(-0.5 * ((x- meanl) A2) I (stdlA 2))) cp2 = (1 I ((Sqr(2 *PI))* std2)) * (e 1\ (-0.5 * ((x- mean2) "2) I (std2 1\ 2))) End If ppl = (cpl * pl) I (cpl * pl + cp2 * p2) pp2 = (cp2 * p2) I (cpl * pl + cp2 * p2) Ill= Form2.Text8.Text 112 = Form2.Text9.Text 121 = Form2.TextlO.Text 122 = Form2.Textll.Text r 1 = Ill * pp 1 + 112 * pp2 r2 = 121 * pp 1 + 122 * pp2 Ifr2 > rl Then kj = kj + 1 no= no+ 1 a(kj) = x b(kj) = "Normal" bll(no) = x f= Str(bll(no)) +" :Normal" 'Form2.List3.ForeColor = RGB(O, 9999, 0)' Form2.List3.Additem f Else kj = kj + 1 ab = ab + 1 a(kj) = x b(kj) ="Abnormal" b22(ab) = x f= Str(b22(ab)) +":Abnormal" 'Form2.List3.ForeColor = RGB(9999, 0, 0)' Form2.List3.Additem f End If f= "" If kj >= 100 Then j=O k=O For n = (kj- 99) To kj If b(n) = "Normal" Then j =j +1 Else k=k+l
74

End If Nextn np1 = j I kj np2 = kl kj Ifnp2 >= 0.2 Then Picture1 .ForeColor = RGB(9999, 0, 0) End If If np2 <= 0.2 Then Picture1.ForeColor = RGB(O, 9999, 0) If 108 < st And st < 111 Then Picture1.ForeColor = RGB(9999, 0, 0) End If End If counter = counter + 1 y1 = 100- (np2 * 100) If counter = 1 Then Picture 1.PSet (counter, y 1) pre_x 1 = counter pre_y1 = y1 Else Picturel.Line (pre_x1, pre_y1)-(counter, y1) pre_x1 =counter pre_y1 = y1 End If End If If pp 1 > pp2 Then Form2.List1.Addltem x Else Form2.List2.Additem x End If End Sub Private Sub VScroll1_Change() Form2.Timerl.Interval = VScrolll.Value Form2 ~Text7.Text = (Form2.VScrolll.Value) I 1000 End Sub
FORMS: Private Sub Command1_Click() Form5.Visible =False fuzzy= 1

75

message= MsgBox("Training Data have been read successfully. Press OK to separate classes ... ", 1 + vbinformation, "Database Message") If message = 1 Then Form2.Timerl.Enabled =False Open "c:\training_normal.txt" For Input As #1 Fori= 1 To 250 Input #1, b1(i) Print b1(i) Next i Close #1 Open "c:\training_abnormal.txt" For Input As #2 Fori= 1 To 250 Input #2, b2(i) Print b2(i) Next i Close #2 j = 250 k=250 Form2.Visible =True Fori= 1 To j Form2.Listl.Additem b1(i) Next i Fori= 1 To k F orm2.List2.Additem b2(i) Next i s1 = 0 Fori= 1 To j s1 = s1 + b1(i) Next i mean1 = s1 I G) Form2.Text1.Text = mean1 s1 = 0 Fori= 1 To j s1 = sl + (((1 I G- 1)) * ((b1(i)- mean1) 1\ 2))) Nexti std1 = Sqr(s1) Form2.Text2.Text = std1 s2 = 0 Fori= 1 To k s2 = s2 + b2(i) 76

Next i mean2 = s2 I (k) Form2.Text3.Text = mean2 s2 = 0 Fori= 1 To k s2 = s2 + (((1 I (k- 1)) * ((b2(i)- mean2) 1\ 2))) Next i std2 = Sqr(s2) Form2.Text4.Text = std2 'p1 =G) I (G)+ (k))' 'p2 = (k) I (G) + (k))' p1 = Form2.Text5.Text p2 = Form2.Text6.Text Open "c:\data.txt" For Input As #3 Form2.Picturel.DrawStyle = 2 Form2.Picturel.ForeColor = RGB(9999, 0, 0) Form2.Picture1.Line (0, 80)-(100, 80) 'Form2.Picture1.Line (0, 20)-(1 00, 20)' Else Form5.Visible =True Endlf End Sub Private Sub Command2_Click() Forml.Visible =True Form5.Visible =False 'Form2.Visible =True' 'Form2.Frame7.Visible =False' 'Form2.Frame12.Visible =True' End Sub Private Sub exit_Click() Unload Me End Sub Private Sub Form_Load() pause= 0 End Sub

77

