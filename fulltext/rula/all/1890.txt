Ryerson University

Digital Commons @ Ryerson
Theses and dissertations

1-1-2008

Performance Study Of WiMAX As Backhaul For Broadband Internet Service
Zahid Iqbal
Ryerson University

Follow this and additional works at: http://digitalcommons.ryerson.ca/dissertations Part of the Electrical and Computer Engineering Commons Recommended Citation
Iqbal, Zahid, "Performance Study Of WiMAX As Backhaul For Broadband Internet Service" (2008). Theses and dissertations. Paper 1121.

This Thesis is brought to you for free and open access by Digital Commons @ Ryerson. It has been accepted for inclusion in Theses and dissertations by an authorized administrator of Digital Commons @ Ryerson. For more information, please contact bcameron@ryerson.ca.

Performance Study of WiMAX as ~ ·1'f ~" Backhaul for Broadband Internet Service f ,-o

By

Zahid Iqbal

A project presented to Ryerson University in partial fulfillment of the requirements for the degree of ·

Master of Enginee.r ing
in the department of Electrical and Computer Engineering

Toronto, Ontario, Canada, ·2008

© Zahid Iqbal 2008
1. '
.J('

RYERSON UrHVEBSlTY LIBRARY

Author's Declaration
I hereby declare that I am the sole author of this project report. I authorize Ryerson University to lend this project report to other institutions or individuals for the purpose of scholarly research.

Zahid Iqbal

I further authorize Ryerson University to reproduce this project report by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

Zahid Iqbal

11

Borrow List
Ryerson University requires the signatures of all persons using or photocopying this project report.

Please sign below, and give address and date.

111

Acknowledgement
I would like to thank my advisor Dr. Muhammad Jaseemuddin for his continued guidance and support throughout my Masters program. He has been a great mentor, and an excellent role model in research.

I am thankful to my wife for her continued support, understanding and encouragement during my Masters program. Also, I am thankful to my parents for their prayers and blessings. Lastly, I am indebt to my daughters for their patience.

IV

Abstract
IEEE 802.16/WiMAX wireless technology is designed to provide broadband wireless access (BWA). WiMAX PMP is envisioned to provide last-mile Internet access as well as backhaul for SOHO (Small office small home) environments. IEEE 802.11 WLAN is widely suggested for the last-mile network segment. In this project, a simulation study is done with four major goals in mind: (i) to gather expertise on and evaluate OPNET Modeler 14.5 wireless suite simulation tools for further use, (ii) to gather measurements of two important QoS characteristics of end-to-end delay & jitter in WiMAX backhaul and WLAN last-mile network, (iii) to determine a model specifying which WiMAX scheduling service is best suited for VoiP and Interactive video conferencing for supporting a WiMAX backhaul network, and (iv) to determine any issues impeding QoS performance when traffic traverses the two wireless networks. We concluded from extensive simulation that WiMAX UGS scheduling service is best suited for variable bit rate (VBR) VoiP traffic and rtPS is the scheduling service of choice for constant bit rate (CBR) video conferencing traffic in the hybrid wireless SOHO network.

v

Table of Contents
1

INTRODUCTION ............................................................................................................................... 1 IEEE STANDARD 802.16/ WIRELESSMANTM ............................................................................. 3
2.1 2.2 2.3 2.4
PHY LAYER OF IEEE 802.16 ....................................................................................................... 4 MAC LAYER OF IEEE 802.16 ....................................................................................................... 5 BANDWIDTH REQUEST MECHANISM IN 802.16: PMP MODE ........................................... ............. 6 QoS IN IEEE 802.16 ................... ............................................................................................... 11

2

2.4.1
2.5

Scheduling Services .. ... ....... .......................................... .......... ...... .................... ........... ......... 11
APPLICATIONS OF IEEE 802.16 .................................................................................................. 13

3
3.1 3.2 3.3

IEEE STANDARD 802.11/ WLAN ................................................................................................. 15
PHYSICAL LAYER OF IEEE 802.11 ............................................................................................. 16 WLAN MAC LAYER .... ........... ............ ................................. ..................................................... 16 DISTRIBUTED COORDINATION FUNCTIONS (DCF) .................................................. .................... 17

3.3.1 3.3.2
3.4 3.5

Basic DCFCSMAICA ................................................................... ... ... .................................. 17 RTSICTS Access Scheme .... ...................................... ........ ..................................................... 18
POINT COORDINATION FUNCTION (PCF) .... ................ ........ ........................................................ 19 QoS LIMITATIONS OF IEEE 802.11 MAC ....... ......... .................... ........ ...................................... 20

3.5.1 3.5.2
3.6

DCF QoS issues .................. .... .... ... ..... ... .......... ... .... .......... .. ... ... .... ... .. .. ....... .. .. .... ...... ........... . 21 PCF QoS Issues ..... ....... ............ ..... .... ... ...... ..... .............. .. .......... ... ... ... ............. ..... .. ... .... .... ... 21
WLAN MAC ENHANCEMENTS FOR QoS: IEEE 802.11 E .................................. ......................... 22

3.6.1
3.7

EDCA: Contention-Based Part ofHCF....................................... .. ............... ........... ..... .. ...... 22
APPLICATIONS OF IEEE 802.11 .................................................................................................. 25

4
4.1 4.2

SIMULATION USING OPNET MODELER 14.5 WIRELESS SUITE ...................................... 26
SELECTION OF NETWORK SIMULATOR ....................................................................................... 26 OPNET MODELER 14.5 WIRELESS SUITE .................................................................................. 27

4.2.1 4.2.2 4.2.3
4.3

OPNET Modeler Architecture .. ............... .............. ..................................... ... ....... .. ... ........... 28 OPNET WiMAX Suite .............. .......... ..... ............... ..... ..... ......... ................ ...... ........ ... .... .... ... 30 OPNET Wireless LAN Suite .......... .. ........... .................. ......................................................... 30
SELECTED OPNET MODELS FOR SIMULATION ...................................... ..................................... 31

4.3.1 4.3.2
4.4 4.5

wimax_ bs_ ethernet4_slip4_router_ adv ............................................ ............... ..................... 31 wimax_ ss_ ethernet_slip_wlan_router_adv .... ............ ... ................................ .... .................... 33
SIMULATION NETWORK TOPOLOGY ............................... ............................................................ 34 SIMULATION PARAMETERS ........................... ............................. ................................................. 36

4.5.1 4.5.2

WiMAX Parameters ............................................... ........ ....... ........ ...... ........... ....................... 36 WiFi Parameters ................... ............ ............................................... ..................................... 38
VI

4.5.3
4.6 4.7

Traffic Models for Simulation ............................................................................................... 39
SIMULATION ENVIRONMENT ...................................................................................................... 43 LEGENDS FOR SIMULATION RESULTS ......................................................................................... 44

5
5.1

ANALYSIS OF SIMULATION MODELS AND RESULTS ........................................................ 45
SIMULATION MODEL

A .............................................................................................................. 46

5.1.1 5.1.2
5.2

Simulation Parameters ......................................................................................................... 46 Results and Analysis ............................................................................................................. 46
SIMULATION MODEL

8 ............................................................................................................... 50

5.2.1 5.2.2
5.3

Simulation Parameters ......................................................................................................... 51 Results and Analysis ............................................................................................................. 51
SIMULATION MODEL

c ............................................................................................................... 55

5.3.1 5.3.2
5.4

Simulation Parameters ......................................................................................................... 55 Results and Analysis ............................................................................................................. 56
SIMULATION MODEL

0 .............................................................................................................. 59

5.4.1 5.4.2
5.5

Simulation Parameters .................................. .. ..................................................................... 59 Results and Analysis ..................................................................... .. ...................................... 60
SIMULATION MODEL E ...............................................................................................................

63

5.5.1 5.5.2
5.6

Simulation Parameters ........................ .......... ....................................................................... 64 Results and Analysis .................................................................... ......................................... 64
SIMULATION MODEL

F ··············································································································· 67

5. 6.1 5.6.2
6

Simulation Parameters ......................................................................................................... 67 Results and Analysis ............................................................................................................. 67

CONCLUSIONS AND FUTURE WORK ...................................................................................... 70

REFERENCES ........................................................................................................................................... 73

Vll

List of Figures
FIGURE 1: IEEE 802.16 REFERENCE MODEL (ADAPTED FROM [ 18]) ..................................... .... ...................... 3 FIGURE 2: FRAME STRUCTURE WITH FDD & TOO (ADAPTED FROM [ 19]) .............................................. ........ 8 FIGURE 3: TDMA/TDO TRANSMISSION MODE IN IEEE 802.16 PMP (ADAPTED FROM [2]) ........................... 9 FIGURE 4: IEEE 802.16 QOS FUNCTIONS WITHIN THE BS AND SSS (ADAPTED FROM [ 19] ) .......................... 11 FIGURE 5: IEEE 802.11 REFERENCE MODEL (ADAPTED FROM [14]) ............................................................. 16 FIGURE 6: BASIC DCF CSMA/CA (ADAPTED FROM [ 13]) ............................................................................ 18 FIGURE 7: RTS/CTS ACCESS SCHEME (ADAPTED FROM [13]) ...................................................................... 19 FIGURE 8: PCF & DCF CYCLES (ADAPTED FROM [13]) ................................................................................ 20 FIGURE

9: MAPPINGS BETWEEN UP AND AC (ADAPTED FROM [13]) ............................................................. 23

FIGURE 10: EDCA AT A STA (ADAPTED FROM [13]) .................................................................................... 24 FIGURE 11: OPNET MODELER ARCHITECTURE (ADAPTED FROM [21]) ..................... ................................... 29 FIGURE 12: OPNET MODELER NODE DOMAIN (ADAPTED FROM [22]) ................ ......................................... 29 FIGURE 13: OPNETNODE MODEL FOR WIMAX BASE STATION ........................................................ .......... 32 FIGURE 14: WIMAX BS SCHEDULER AND MAP GENERATION IN OPNET (ADAPTED FROM [23]) ............... 33 FIGURE 15: OPNET NODE MODEL FOR WI MAX SUBSCRIBER STAT ION AND WLAN ROUTER .................... 34 FIGURE 16: WIMAX PMP BACKHAUL NETWORK TOPOLOGY ...................................................................... 35 FIGURE 17: LEGEND DESCRIPTION FOR SIMULATION RESULTS ..................................................................... 44 FIGURE 18: UL & DL VOIP DELAY FOR 3 LOAD CATEGORIES OF MODEL A ....................................... .... ..... 47 FIGURE 19: UL & DL VOIP JITTER FOR 3 LOAD CATEGORIES OF MODEL A .......................... ....................... 48 FIGURE 20: UL & DL VIDEO CONFERENCING DELAY FOR 3 LOAD CATEGORIES OF MODEL A ................. .... 49 FIGURE 21: UL & DL VIDEO CONFERENCING JITTER FOR 3 LOAD CATEGORIES OF MODEL A ...................... 50 FIGURE 22: UL & DL VOIP DELAY FOR 3 LOAD CATEGORIES OF MODEL B ................................................. 52 FIGURE 23: UL & DL VoiP JITTER FOR 3 LOAD CATEGORIES OF MODEL B ... .............................................. 53 FIGURE 24: UL & DL VIDEO CONFERENCING DELAY FOR 3 LOAD CATEGORIES OF MODEL B ..................... 54 FIGURE 25: UL & DL VIDEO CONFERENCING JITTER FOR 3 LOAD CATEGORIES OF MODEL B ............ ........ .. 55 FIGURE 26: UL & DL VOIP DELAY FOR 3 LOAD CATEGORIES OF MODEL C ................................................. 56 FIGURE 27: UL & DL VOIP JITTER FOR 3 LOAD CATEGORIES OF MODEL C .................................... ............. 57 FIGURE 28: UL & DL VIDEO CONFERENCING DELAY FOR 3 LOAD CATEGORIES OF MODEL C .... ................. 58 FIGURE 29: UL & DL VIDEO CONFERENCING JITTER FOR 3 LOAD CATEGORIES OF MODEL C ............... ...... 59 FIGURE 30: UL & DL VOIP DELAY FOR 3 LOAD CATEGORIES OF MODEL 0 ................................................ 60 FIGURE 31: UL & DL VoiP JITTER FOR 3 LOAD CATEGORIES OF MODEL D ..... .................. .......................... 61 FIGURE 32: UL & DL VIDEO CONFERENCING DELAY FOR 3 LOAD CATEGORIES OF MODEL D ..................... 62 FIGURE 33: UL & DL VIDEO CONFERENCING JITTER FOR 3 LOAD CATEGORIES OF MODEL 0 ...................... 63 FIGURE 34: UL & DL VIDEO CONFERENCING DELAY FOR 3 LOAD CATEGORIES OF MODELE ..................... 65 FIGURE 35: UL & DL VIDEO CONFERENCING JITTER FOR 3 LOAD CATEGORIES OF MODELE ...................... 66

Vlll

FIGURE 36: UL & DL VIDEO CONFERENCING DELAY FOR 3 LOAD CATEGORIES OF MODEL F ..................... 68 FIGURE 37: UL & DL VIDEO CONFERENCING JITTER FOR 3 LOAD CATEGORIES OF MODEL F ...................... 69

List of Tables
TABLE 1: WIMAX PHYSICAL pARAMETERS .................................................................................................. 36 TABLE 2: WIFI PHYSICAL & ACCESS CATEGORY PARAMETERS .................................................................... 38 TABLE 3: FTP TRAFFIC MODEL PARAMETERS .............................................................................................. 40 TABLE 4: HTTP TRAFFIC MODEL .................................................................................................................. 40 TABLE 5: VOIP TRAFFIC MODEL (G.729A) ................................................................................................... 41 TABLE 6: VIDEO CONFERENCING TRAFFIC MODEL (MPEG-4) ..................................................................... 42 TABLE 7: SIMULATION ENVIRONMENT PARAMETERS .................................................................................... 43 TABLE 8: TRAFFIC LOAD SCENARIOS FOR SIMULATION MODELS .................................................................. 44 TABLE 9: END TO END DELAY & JITTER RECOMMENDATIONS (ADAPTED FROM [ 6]) .................................... 45 TABLE 10: WIMAX & WIFI QoS PARAMETERS FOR MODEL A .................................................................... 46 TABLE 11: WIMAX & WIFI QoS PARAMETERS FOR MODEL B .................................................................... 51 TABLE 12: WIMAX & WIFI QoS PARAMETERS FOR MODEL C .................................................................... 56 TABLE 13: WI MAX & WIFI QoS PARAMETERS FOR MODEL D .................................................................... 60 TABLE 14: WIMAX & WIFI QOS PARAMETER FOR MODELE ...................................................................... 64 TABLE 15: WI MAX & WIFI SIMULATION PARAMETERS FOR MODEL F ........................................................ 67

lX

Glossary
3GPP AIFS AMC AP ARQ CA CF-End CFP CF-Poll CP CSMA 3G Partnership Project Arbitration Inter Frame Space (802.11 e) Adaptive Modulation and Coding Access Point Automatic Repeat Request Collision Avoidance Contention Free - End Contention Free Period Contention Free - Poll Contention Period Carrier Sense Multiple Access Contention Window Contention Window Maximum Contention Window Minimum Distributed Coordination Function Distributed Coordination Function Downlink Data Over Cable Service Interface Specification Digital Subscriber Line

cw
CWmax CWmin DCF DCF DL DOCS IS DSL

X

EDCF ErtPS FDD FFT HARQ HC HCF LOS MAC MAN MSDU NAV NLOS nrtPS OFDM OFDMA PCF PHYmode PIFS QAM

Enhanced DCF (802.11 e) Extended Real-Time Polling Service Frequency Division Duplex Fast Fourier Transform Hybrid Automatic Repeat Request Hybrid Coordinator (802.11e) Hybrid Coordination Function (802.11 e) Line of Sight Media Access Control Metropolitan Area Network MAC Service Data Unit Network Allocation Vector Non Line-of-Sight Non-Real-Time Polling Service Orthogonal Frequency Division Multiplex Orthogonal Frequency Division Multiple Access Point Coordination Function Physical Layer mode, coding and modulation scheme PCF Inter Frame Space Quadrature Amplitude Modulation

XI

QoS QPSK RTG rtPS SIPS

Quality of Service Quadrature Phase Shift Keying Receive/transmit Transition Gap Real-Time Polling Service Short Inter Frame Space Subscriber Station Target Beacon Transmission Time Traffic Category (802.11 e) Time Division Duplex Transmit/receive Transition Gap Transmission Opportunity (802.11e) Unsolicited Grant Service Uplink Voice over Internet Protocol Wireless Fidelity Worldwide Interoperability for Microwave Access Wireless Local Area Network

ss
TBTT TC TDD TTG TXOP UGS UL VoiP WiFi WiMAX WLAN

xu

1 Introduction
In today's communication networks, wireless technologies offer a viable alternate for both backhaul networks as well as last-mile access networks. Wireless metropolitan area networks (Wireless MAN) based on IEEE 802.16 offers not just the last-mile access but also wireless backhaul. In markets, where last-mile copper plant or cable plant have issues and limitations, IEEE 802.16 offers a viable high speed data access both for Internet as well as for corporate Intranet. It is expected that WiMAX would provide a high speed data backhaul for SOHO as well as Campus LAN environment with geographically scattered sites with last-mile access built over WiFi based routers [25]. Wireless local area network (WLAN) is one of the most deployed wireless networks in the world and is highly likely to play a major role in multimedia home network and next generation wireless communications [8]. IEEE 802.11 WLAN offers simplicity, flexibility and cost effectiveness for user mobility. It has proven itself to provide ubiquitous communications and computing facilities in offices, hospitals, airports, and restaurants etc. User traffic trends are now demanding high-speed video, audio and voice applications. Unlike traditional TCP/IP services, these multimedia applications require strict Quality of service (QoS). QoS support in wireless networks is more challenging than wired network. This is because the characteristics of wireless links are highly variable and unpredictable, both on time-dependent basis and a location-dependent basis [ 19]. QoS in wireless

networks is handled by MAC layer. IEEE 802.11 e WLAN standard promises QoS by providing four access categories and eight traffic streams at MAC layer. IEEE 802.16 MAC defines five scheduling services in order to meet the QoS requirements of multimedia applications. These services are: unsolicited grant service (UGS), extended real-time polling service (ertPS), real-time polling service (rtPS), non-real-time polling service (nrtPS) and best effort (BE). This project was inspired and started to simulate a wireless network with QoS support for multimedia applications serving SOHO and campus LAN enviroillllents with geographically scattered sites. Data traffic traverses through two wireless networks: IEEE 802.11e & IEEE 802.16. User terminals connect to WLAN access points (AP) (providing
1

last-mile access). WLAN AP is connected to IEEE 802.16 PMP network to be used as backhaul network. IEEE 802.16 standard is one of the most promising solutions for broadband access not just limited to backhaul for broadband Internet but cellular backhaul, public safety services and private networks [19]. It is envisioned that WiMAX would offer an alternative for DSL/Cable based broadband services for areas with no existing broadband services (rural areas, developing countries). Existing mobile operators are less likely to adopt WiMAX and more likely to continue along the path of 3G evolution for higher data rate capabilities [5]. IEEE 802.11 WLAN can be considered as a wireless version of Ethernet. WiFi Alliance estimates the current WiFi users to be over half a billion [15]. WLAN is being used in mobile phones, gaming devices, printers, cameras, TVs, audio players, and other consumer electronics devices. In this project report, we present an extensive simulation based study to determine best combination of WiMAX scheduling service for multimedia applications in the hybrid wireless SOHO network where WiMAX network is used as backhaul for broadband Internet service and WLAN is used for the last-mile access. Chapter 2 of this report introduces IEEE 802.16 and discusses in details QoS mechanisms employed to support multimedia application in wireless backhaul network. Chapter 3 provides background information on IEEE 802.11 WLAN, describes QoS issues, and discusses in details the IEEE 802.11 e with QoS support. Chapter 4 introduces OPNET Modeler Wireless Suite in general and its support of IEEE 802.16 & IEEE 802.11 e networks in particular. Also, chapter 4 describes in details how WiMAX backhaul network and last-mile WLAN are built in OPNET and lists required OPNET component. This chapter also details traffic models and simulation parameters. In Chapter 5, not only all simulation models details are provided but also thorough analysis of results is presented. Sixth chapter concludes this report with some discussion of future work.

2

2 IEEE Standard 802.16 I WirelessMANTM
Success of IEEE 802.11 wireless LAN (WLAN) led to the attempts to use it for broadband wireless access (BWA). When the WLAN technologies were examined

closely, it was evident that the overall design and feature set was not well suited for outdoor BWA applications [2]. To address this issue, the IEEE 802 committee set up a working group in 1999 to develop a new standard for BWA applications, IEEE 802.16. IEEE Standard 802.16-2001 was completed in October 2001 and published on 8 April 2002, it defines the WirelessMANTM air interface specification for wireless metropolitan area networks (MAN) [4]. The original IEEE 802.16 standard was issued for 10-66 GHz band for line of sight (LOS) based point-to-multipoint BWA systems.

CS SAP
Service-specific convergence sublayer (CS)

MAC SAP MAC common part sub layer {MAC CPS)
Security sublayer

PHY SAP
:I:

>-

a.

Physical layer

(PHY)

Figure 1: IEEE 802.16 Reference Model (Adapted from [18])

Later, 802.16a was issued as an amendment to the standard, to include NLOS applications in the 2GHz-11 GHz band, using orthogonal frequency division multiplexing (OFDM)-based physical layer. Further revisions resulted in a new standard in 2004, called IEEE 802.16-2004, which replaced all prior versions [5]. In December 2005, the IEEE group completed and approved IFEEE 802.16e-2005 as an amendment to the IEEE 802.16-2004 standard that added mobility support [5]. IEEE 802.16 family of standards
3

provides physical layer (PHY) and Medium Access Control (MAC) radio specification for combined Fixed and Mobile operation. The specifications are limited to the air interface between a client device and a base station (BS). IEEE 802.16 standard defines PHY and MAC air link primitives (between a client device and a BS) for functions required for a mobile broadband wireless access system such as network discovery/selection, network entry and exit, QoS signaling and management, security, mobility (handover management), power management modes (Active/Sleep/Idle states) [17]. Network architecture is not a part of scope of IEEE 802.16 standard. WiMAX forum is a non-profit industry forum to specify complementary end-to-end interoperable network architecture using IEEE 802.16 PHY and MAC standard. Fixed WiMAX specifications are based on IEEE 802.16-2004 and Mobile WiMAX is based on IEEE 802.16e-2005. In this report, terms of IEEE 802.16 and WiMAX are used interchangeably.

2.1 PHY Layer of IEEE 802.16
IEEE 802.16 standards offers multiple physical layer choices: (1) single-carrier-based physical layer known as WirelessMAN-SCa (2) OFDM-based physical layer called WirelessMAN-OFDM (3) OFDMA-based physical layer known as Wireless-OFDMA. In fact, one could say that IEEE 802.16 is a collection of standards, not one single interoperable standard [5]. OFDM-based physical layer offers good resistance to multipath while providing a NLOS operation. OFDMA-based physical layer allows provisioning of different subsets of OFDM tones. Also, it offers the exploitation of frequency diversity and multi-user diversity to improve system capacity [5]. OFDMA allows for the data rate to scale easily with available channel bandwidth by scaling FFT (Fast Fourier Transform) size. Physical layer is capable of supporting very high peak data rates up to 75 Mbps using a 20 MHz spectrum [5]. Adaptive modulation and forward error correction (FEC) coding schemes (AMC) allows the schemes to be changed on per user and per frame basis depending upon the channel conditions. Adaptation algorithm of AMC selects highest modulation and coding scheme that can be supported by signal-to-noise and interference ratio at the receiver, thus, providing highest possible data rate on a link in each direction. For connection reliability,
4

automatic retransmission requests (ARQ) is supported at link layer. ARQ calls for packets to be acknowledged by the receiver otherwise assumed lost and retransmissions would occur. Hybrid-ARQ is optionally supported and provides a hybrid between FEC and ARQ [5]. Physical layer of IEEE 802.16 supports both time division duplexing (TDD) and frequency division duplexing (FDD) as well as half-duplex FDD (for low cost deployments). TDD is more prevalent because of its ability to (1) provide flexibility to choose uplink and downlink data rate ratio (2) ·exploit channel reciprocity (3) be implemented in non-paired spectrum (4) offer a less complex transceiver design [5].

2.2 MAC layer of IEEE 802.16
MAC layer of IEEE 802.16 is connection-oriented and handles all data communications (transport and control) in the context of unidirectional connections. Salient functions of MAC layer are (1) Segment or concatenate the service data units (SDUs) received from higher layers into the MAC PDU (protocol data units) (2) Choose a burst profile and power level for MAC PDU transmission (3) Handle retransmission of erroneous MAC PDUs in ARQ mode (4) provision QoS control and priority handling of MAC PDUs belonging to different data and signaling bearers (5) Schedule MAC PDUs over the PHY resources (6) Handle mobility management for higher layers (7) Provide security and key management (8) Provide power-saving mode and idle-mode operation.

As shown in Figure 1, MAC layer consists of three distinct components: service-specific convergence sublayer (CS), common-part sublayer security sublayer. CS is an interface between MAC and higher layer and can be considered as adaptation layer. CS layer allows multiplexing various types of network traffic into MAC layer such Ethernet, IP & ATM. MAC-SDUs are delivered by higher layers to CS layer. Due to connection oriented nature of IEEE 802.16 MAC, unidirectional logical connections are formed between base station (BS) and subscriber station (SS). These connections are identified by connection identifiers (CID). It is important to note that CIDs for Uplink (UL) and downlink (DL) are unique. CS maps higher-layer addresses (for example IP addresses) of MAC SDUs

5

onto the identity of PHY and MAC connections to be used for transmission [5]. This is done by relating each CID to corresponding higher layer addresses. It is quite likely that SDUs belonging to a specific destination address might be carried over different connections, depending on their QoS requirements, in which case the CS determines the appropriate CID, based on not only the destination address but also various other factors, such as service flow ID (SFID) and source address [5].

Functions of MAC common-part sublayer are (1) Perform fragmentation and concatenation of SDUs into MAC PDUs (2) Transmission of MAC PDUs (3) QoS control (4) ARQ (5) Scheduling (6) Bandwidth allocation (7) Modulation & Code rate selection. MAC security layer performs encryption and authorization between BS and SS. MAC PDUs are sent to scheduler, which schedules the MAC PDU over the PHY resources available. The scheduler checks the service flow ID and the CID of the MAC PDU to determine its QoS requirements. Based on the QoS requirements of the MAC PDUs belonging to different CIDs and service flow IDs, the scheduler determines the optimum PHY resource allocation for all the MAC PDUs, on a frame-by-frame basis [5].

2.3 Bandwidth Request Mechanism in 802.16: PMP Mode
IEEE 802.16 MAC is connection-oriented with QoS support. It allows bandwidth reservation and provides resource scheduling/admission control mechanisms. A connection must be established to BS, before an upper layer application can start communications. For every connection, BS assigns a unique connection CID. Connection establishment is required even for applications which are inherently connectionless [2]. Connection establishment for an application ensures all the required network parameters are met. These include a mechanism to request bandwidth, QoS association, traffic parameters, transporting and routing data etc. In the downlink, all QoS related decisions are taken by the BS on a per connection basis. For the uplink, aSS sends the request to BS for resource allocation. IEEE 802.16 standard specifies two modes to share the wireless medium: point-tomultipoint (PMP) & Mesh (optional). In PMP mode, within a sector, BS serves a set of

6

SSs in a broadcast manner, with all SSs receiving the same transmission from the BS. And transmissions from SSs to BS are centrally coordinated by the BS. SSs receive all the broadcast from BS but only process MAC PDUs that are addresses to itself or intended for all SSs. In mesh mode, transmission happens among SSs and traffic can be routed through other SSs. Distributed coordination is employed in mesh mode. The PMP operational mode fits a typical fixed BWA scenario, where multiple service subscribers are served by one centralized service provider so that they can access external networks such as Internet [19]. IEEE 802.16 supports both frequency-division duplexing (FDD) and time-division duplexing (TDD) transmission modes. In each case, both uplink and downlink frames are separated in time/frequency domain. In TDD, a MAC frame consists of subframes: Uplink & Downlink. A downlink subframe is followed by an uplink subframe. This provides an opportunity to SS to receive necessary information about uplink channel access from the downlink. Figure 2 shows the frame structure for FDD and TDD modes.

In PMP mode, all transmissions between BS and SS are coordinated by BS. For TDMA/TDD transmission mode, a downlink subframe is used for traffic from BS toSS. And uplink subframe is used for traffic from SS to BS. As shown in Figure 3, downlink and uplink subframes are separated by a small transition gap. This allows the SS to switch from reception to transmission and vice versa. Tx/Rx gap (TTG) is a transition gap between downlink and following uplink subframe. Similarly, Rx/Tx gap (RTG) is a transition gap between uplink and following downlink (in next MAC frame). Downlink subframes carry map messages for bandwidth allocation. Uplink MAP (UL-MAP) provides bandwidth allocation for uplink and downlink MAP (DL-MAP) has bandwidth allocation information for downlink. Moreover, the lengths of uplink and downlink subframes are determined dynamically by the BS and are broadcasted to the SSs through UL-MAP and DL-MAP messages at the beginning of each frame [2]. As a result, each SS knows time and duration for which to transmit or receive. Though generally, downlink traffic is more than uplink traffic according to Internet traffic patterns. But bandwidth allocation can be changed dynamically to match the application requirements.

7

· .,.__ _ _ _ _ _ _ _ Downlink SlJbfran1e - - - - - - - - - - - - . . . . .

,-------------------------------------------------,: :
~::::::::::::~---------------:
I 11

f
_ _ _ _ _ __ _ . __ _ _ _ __ _ j ... ,

DIUC n

FDD

,,, ,,,
lit

I

I

SS#1 '·

ss #2
1
:

,... ,

:::

1

L., ...... .

-------l

SS#n

.---------------------------

: :·------ ----1

~----------------------------------------------

..,.___ _ _ _ _ _ _ _ Uplink s u b f r a m e - - - - - - - -..... Time

,,.----------------,
::·------, I

,------------------------------.
I
I

TDD

frequency ...,.___ _ _ _ Downlink subframe

~:~=================================1======~--------J ...-------. II DL-MAP
-----~~oo

"·

···I o1Jcn II

55#1

..
I

SS#21 ... 1

sst I
1!1
Ul-MAP

.....-uplink

subfram~

. Figure 2: Frame Structure with FDD & TDD (Adapted from [19]) There are several ways a SS can send a bandwidth request for uplink to BS. These include unicast polling, contention-based request or unsolicited bandwidth. Unicast offers determinism, contention-based schemes are responsive and unsolicited bandwidth provides efficiency [4]. In order to request bandwidth, SS transmits bandwidth request messages (BW-REQ) to BS. Uplink subframe contains the transmission opportunities to be used by SS to request bandwidth. BW-REQ slot in uplink subframe is used for this purpose by SS to indicate to BS that it needs the bandwidth in the uplink direction. The BS controls both the number of transmission opportunities for BW-REQ and data packet transmission through the ULMAP message [2] .

8

Time allocation for SSs in the u link

RTG

Management messages Downlink subtrame

Figure 3: TDMAffDD Transmission Mode in IEEE 802.16 PMP (Adapted from [2])

Bandwidth requests by SS can be sent using a stand-alone bandwidth request MAC PDU.
It can also be piggybacked on generic MAC PDU using grant management subheader. It

is important to note that resource requests are always made in terms of bytes of information [5]. Which SS is allowed to send its bandwidth request is determined by either contention-based random access or contention-free polling.

Contention-Free Polling: Polling refers to the process whereby dedicated or shared UL
resources are provided to the SS to make a bandwidth request [5]. If a SS is polled individually, poll is called unicast. SS with active UGS connections are not polled and these SS can request bandwidth using bandwidth request PDU or piggybacking on generic MAC PDUs. If a polled SS does not have an additional bandwidth requirement, it must send a dummy MAC PDU during the poll.

Contention-Based Random Access: If sufficient bandwidth is not available to poll the
SS individually, than multicast or broadcast polling is used [5]. Only SSs which require bandwidth, responds to multicast/broadcast poll. In order to avoid collision, a truncated binary exponential backoff (BEB) scheme without carrier sensing is used for contention resolution [2]. There is no acknowledgement for the bandwidth allocation from BS. ASS would look for UL MAP in the next downlink subframe. Bandwidth might not be 9

allocated to aSS due to (1) BS did not receive request due to irrecoverable PHY errors or collision of a contention-based reservation (2) SS did not see the grant due to irrecoverable PHY errors (3) BS did not have enough free bandwidth to allocate (4) GPSS type SS (discussed later) allocated its granted bandwidth for another connection. In random access, a SS needs to enter into contention resolution phase before sending a bandwidth request over a multicast/broadcast poll. SS does so by selecting a uniformly distributed random number between 0 and BACKOFF WINDOW. SS would wait for this period before sending its bandwidth request. BACKOFF WINDOW is the maximum number of transmission opportunities a SS can wait before sending the pending bandwidth request. If it does not receive a bandwidth allocation due to any of the reasons mentioned above, within a time window specified by the T16 timer, the SS assumes that its bandwidth request message was lost. In this case, SS increases its backoff window by a factor of 2 as long as it is less than the maximum backoff window and repeats the process. If bandwidth is still not allocated after a maximum number of retries, the MAC PDU is discarded. The maximum number of retries for the bandwidth request is a tunable parameter and can be adjusted by either the service provider or the equipment manufacturer, as needed [5].

IEEE 802.16 MAC supports two types of SS based on how a SS can accept bandwidth grants: grant per SS (GPSS) & grant per connection (GPC). Both classes of SSs request bandwidth per connection to allow the BS uplink scheduling algorithm to properly consider QoS when allocating bandwidth [4]. For GPC class of SS, bandwidth is granted explicitly to a connection, and the SS uses the grant only for that connection. For GPSS type of SS, SSs are granted bandwidth aggregated into a single grant to the SS itself. GPSS SS are required to have more intelligent processing of its QoS handling. Typically, it would grant the bandwidth to connection that requested but it's not necessary. If the QoS situation at the SS has changed since the last request, the SS has the option of sending the higher QoS data along with a request to replace this bandwidth stolen from a lower QoS connection [4]. The two classes of SS allow a trade-off between simplicity and efficiency.

10

2.4 QoS in IEEE 802.16
IEEE 802.16 MAC provides the QoS to the MAC PDUs. QoS requirements for each MAC PDU belonging to different service flows are met as reliably as possible given the loading conditions of the system [5]. Figure 4 shows the functional entities for QoS support in BS and SS logically residing in MAC layer. At BS, downlink has packet queues. These queues have service data units to be transmitted to SSs. Downlink scheduler selects SDUs for transmission on PHY resources based on QoS parameters and status of the queue. Uplink scheduler residing in SS performs the same functions.
Downlink SDUs Uplink SDUs

~ Q)
:J

~

:g
0 a..

~
QoS

:g
0

a..

., c:
~

-£
·~

.!:
:::;)

~

a.

parameters Uplink grants

·= ~
0
0

~

Uplink frame Physical layer

Uplink grant

Figure 4: IEEE 802.16 QoS functions within the BS and SSs (Adapted from [19] )
In order to estimate the residual backlog of uplink connections, BS uses bandwidth requests sent by SSs. By comparing the requested and allocated bandwidth, BS estimated this backlog. For each uplink, this backlog is represented virtually at BS and as a result of this estimation; uplink scheduler of BS allocates future uplink grants keeping in view the QoS requirement for that uplink and virtual status of queue. Bandwidth grant mechanism has already been discussed in details in the section above.

2.4.1

Scheduling Services

A scheduling service is used by MAC layer to deliver and handle SDUs and MAC PDUs with different QoS requirements. It uniquely determines the mechanism used to allocate 11

UL and DL transmission opportunities for the PDUs. Specifications for the scheduling algorithm to be used at BS and SS are not part of the scope of IEEE 802.16. These are left open for vendor implementation. However, standard defines required scheduling services to meet QoS requirements of diverse applications. These scheduling services are: Unsolicited grant service (UGS), real-time polling service (rtPS), non-real-time polling service (nrtPS), best effort (BE) and extended real-time polling service (ErtPS). BS scheduler uses a priority queuing in this order: (1) UGS/ertPS, (2) rtPS/nrtPS, (3) BE.

1) Unsolicited Grant Service (UGS): This service is designed to support real-time
service flows (with strict delay requirements) that generate fixed size data packets on a periodic basis like Tl/E1 and VoiP (without silence suppression). It provides fixed size grants on a real-time periodic basis and does not require SS to explicitly request bandwidth. BS grants the uplink resources irrespective of current estimation of backlog. After a connection is admitted by BS, no more request/grant signaling is required. The grant size is computed by the BS based on the minimum reserved traffic rate, which is defined as the minimum amount of data transported on the connection when averaged over time [19]. SS may request bandwidth during the UL allocation but only for nonUGS connections [5].

2) Real-time Polling Service (rtPS): This servtce is designed to support real-time
applications (with less stringent delay requirements) that generate variable size data packets at periodic intervals such as Moving Pictures Expert Group (MPEG) video and VoiP with silence suppression. As size of packets is not fixed, SSs are required to notify BS of their bandwidth requirements. BS periodically grants unicast polling opportunities for the SSs. Frequency of these polling are such that Delay requirements are met. Polling introduces overhead but provides more efficient service for variable size data traffic. Key parameter for this service is minimum reserve traffic rate. Modified deficit round robin (MDRR) scheduling can be used this service.

3) Extended Real-time Polling Service (ertPS): Introduced in IEEE 802.16e, this
scheduling service offers the efficiency of both UGS and rtPS. The BS provides unsolicited grants but these are not fixed in size (as in UGS). The BS may provide periodic UL allocations that may be used for requesting the bandwidth as well as for data

12

transfer [ 16]. By default, size of allocations corresponds to current value of Maximum Sustained Traffic Rate at the connection [ 16]. The ertPS is best suited for VoiP traffic with activity detection.
4) Non-Real-Time Polling Service: This service is very similar to rtPS except that SS

can also use contention-based polling the uplink to request bandwidth. Unicast polling is done but the average duration between two such opportunities is in order of seconds and is large when compared to rtPS. nrtPS can request minimum reserve traffic as one of its QoS parameters. It is suitable for applications with no specific delay requirements such as
ftp.

5) Best Effort (BE): This service provides very little QoS support and only suitable for

application with no strict QoS requirements. Resources are granted only when not required by any other scheduling service. SS is only allowed to request bandwidth using contention-based polling. It is suitable for applications such as web browsing.

2.5 Applications of IEEE 802.16
IEEE 802.16 standard is one of the most promising solutions for broadband access [19].
It offers a wide variety of wireless environment including high speed Internet access,

WiFi hotspot backhaul, cellular backhaul, public safety services and private networks [19]. Though, initial deployments are more geared towards offering last mile high speed Internet access but it is envisioned that IEEE 802.16 would offer an alternative for DSL/Cable based broadband services. Case for DSL/Cable alternative is stronger for areas with no existing broadband services (rural areas, developing countries). Further more it is cost-effective when compare to expensive leased-line based services. Broadband services portfolio is not limited to Internet access only, rather it covers multimedia applications, such as real-time audio and video streaming, multimedia conferencing, interactive gaming and VoiP services. Due to its QoS and mobility support, IEEE 802.16 offers a good alternative/addition for broadband service providers looking to add wireless and mobility to their quadruple-play service portfolio. Existing mobile operators are less likely to adopt WiMAX and more likely to continue along the path of 3G evolution for higher data rate capabilities [5]. There may be scenarios, however, in

13

which traditional mobile operators may deploy WiMAX as an overlay solution to provide even higher data rates in targeted urban centers or metro zones [5]. IEEE 802.16 can be used by service provider to offer differentiated personal broadband services, such as mobile entertainment. The flexible channel bandwidths and multiple levels of QoS support may allow WiMAX to be used by service providers for differentiated highbandwidth and low-Delay entertainment applications [5]. Other differentiated services include streaming audio services delivered to MP3 players and video services delivered to portable media players and IP TV.

14

3 IEEE Standard 802.11 I WLAN
IEEE 802.11 defines a wireless local area network (WLAN) standard which is a shared medium communication network. WLAN is one of the most deployed wireless networks in the world and is highly likely to play a major role in multimedia home network and next generation wireless communications [8]. WiFi is a trade name adopted by non-profit industry alliance (WiFi Alliance) in order to promote and certify wireless devices that implement the universal IEEE 802.11 specifications. In this report, terms of IEEE 802.11e, WLAN and WiFi are used interchangeably. WLAN can be configured into two modes: Ad hoc & Infrastructure. In ad hoc mode, WLAN stations can communicate directly with other WLAN stations. In infrastructure mode, an access point (AP) is required which acts as central point forming a distribution system (DS) and each WLAN station would communicate to other WLAN nodes through the AP. In close correspondence to the layers of the ISO/IEC basic reference model of Open Systems Interconnection (OSI) [14], IEEE 802.11 WLAN standard defines the PHY and MAC layers including all required sub layers. IEEE 802.11 uses standard 802 logical link control (LLC) protocol which provides transparent interface to upper layers irrespective of mobility status of a wireless station. Figure 5 shows the IEEE 802.11 protocol stack. 802.11 MAC sub-layer support two medium access coordination functions: Distributed Coordination Function (DCF) & Point Coordination Function (PCF). Implementation of DCF is mandatory which provide asynchronous transmission. PCF is optional and it provides synchronous transmission. DCF can be used in both ad-hoc as well as infrastructure mode. But PCF due to its centralized polling requirements can only be used in infrastructure mode. DCF does not provide any traffic differentiation and can only provide best-effort service. PCF was designed to support time-bounded multimedia services. Loose specification of PCF left many issues and poor QoS performance [13][12]. IEEE 802.11e (ratified in 2005) is a MAC sub-layer standard providing a enhanced QoS performance for WLAN by means of new coordination function known as Hybrid Coordination Function (HCF).

15

802.1 X

Data Link

MAC_SAP

L A y

~
Phys ical

MAC Sublayer
PHY SAP

PLCP Sublayer
PMO_SAP

L A y E R

PMD Sublayer

... .... ..
~

MAC Sublayer Management Entity

I

RSNAKey Management

I

MLME_SAP

MLME-PLME_SAP

Station Management Entity
PLME_SAP

PHY Sublayer Management Entity

Figure 5: IEEE 802.11 Reference Model (Adapted from [14])

3.1 Physical Layer of IEEE 802.11
IEEE 802.11 standard defines optimized PHY and MAC for wireless communications. Original IEEE802.11 standard defines data rates up to 2 Mbps at 2.4 GHz industrial, scientific and medical (ISM) band [8]. WLAN standards use one of two physical layers: OFDM & HR/DSSS. 802.11 b and 802.11g operates in the same frequency band of 2.4 GHz ISM and as result 802.11g (ratified in June 2003) offers backward compatibility. Standard 802.11a offers same data rates as 802.11g but operates in unlicensed radio spectrum (5.15-5.35 & 5.725-5.825 GHz) which is rarely used in contrast to 2.4 GHz band used by variety of home appliances (microwave ovens, cordless phones, garage door opener etc) [ 12].

3.2 WLAN MAC Layer
WLAN MAC service enables LLC entity of each wireless station (STA) to exchange MAC service data units (MSDU). MAC utilizes the PHY-level services to transport an MSDU to MAC of peer STA. These are asynchronous MSDU transports which are performed on a connectionless basis. By default, MSDU transport is on a best-effort basis and differs in 802.11e MAC [14]. 802.11 MAC sub-layer defined two medium access

16

coordination functions: DCF & PCF. Both of these functions are discussed in details in the following section.

3.3 Distributed Coordination Functions (DCF)
DCF is contention-based access mechanism providing asynchronous transmission. DCF is a distributed medium access scheme based on carrier sense multiple access with collision avoidance (CSMA/CA) protocol [13]. STA in CSMA/CA mode, would sense the medium before attempting to transmit any traffic. Carrier sensing is done either by PHY carrier sensing at the radio interface or virtual carrier sensing at PHY MAC layer. PHY carrier sensing involves the analysis of all detected radio signals and channel activity detection by comparing relative signal strength of other STAs. In a basic service set (BSS) (a group of STAs coordinated by DCF/PCF), STA can inform other STAs within the BSS about the channel reservation for its transmission. This mechanism is known as virtual carrier sensing. STA can send the channel reservation information by setting a duration field in MAC header of data frame or in RequestToSend (RTS) & ClearToSend (CTS) control frames [13]. On receiving this information, other STAs within a BSS would update their network allocation vector (NAV).

3.3.1

Basic DCF CSMA/CA

When a packet is queued at an empty queue and channel is sensed to be idle for an interval of time longer than a Distributed InterFrame Space (DIPS), the source STA would transmit the packet immediately. During the transmission time of this packet, other STAs would defer their transmission by adjusting their NAV s. Once the NAVs time is over, then backoffprocess starts for other STAs within the same BSS.

Backoff Process: Backoff process is started by STA by computing a random time
interval, called Backoff time. Backoff Time is calculated as follows.
Backoff time = Random [0, CW]

* slot time

Where random number is pseudorandom integer drawn from uniform distribution over
[0, CW] [8] , {CWmin < CW < CWmax} and slot time depends on the PHY layer type.

Once a STA calculates the backoff time, it starts a backoff timer. If medium is not idle/other STA is transmitting, this timer is not changed. Each time the medium becomes 17

idle, the STA waits for a Distributed InterFrame Space (DIFS) time before an attempt to transmit. If transmission is not successful (no ACK received as shown in Figure 6), than station schedules a retransmission and has to contend. When channel becomes idle and stays idle for DIFS time, backoff timer is continuously decreased till it expires. As soon as the backoff timer expires, the STA is authorized to access the medium. After each unsuccessful transmission attempt, the CW is doubled until a predefined maximum value
CWmax is reached. This helps to reduce the probability of collision. And a successful

transmission would result in reset of the CW to a fixed minimum value CWmin. Values of
CWmin and CWmax are fixed for a given PHY [8].
I

I

~'
I I I I I I

:~DJFS I
I

Tirne ____..,..

Data
I

Source (T x)

I
I
I

SIFS ~:

I

*
I

Destinati on
(Rx )
Other

·
Contention Wind ow

--:.{ DIFS
I

NAV

Defer acces

= NAY +DJFS

Backoff

Figure 6: Basic DCF CSMA/CA (Adapted from [13]) 3.3.2 RTS/CTS Access Scheme

For a given sender & receiver STA pair, hidden terminals are other STAs that the receiver can hear but that cannot be detected by the sender. So collision happens at the receiver and transmission is lost. Ready to Send/Clear to Send (RTS/CTS) scheme is used to avoid this hidden terminal issue. The source sends a short RTS frame (20 bytes) before each data frame transmission, and the receiver replies with a CTS frame ( 14 bytes) if it is ready to receive [13]. After the reception of CTS frame by source, it starts the transmission. While, all other STAs hearing an RTS/CTS exchange, would update their NAVs, and will not start transmissions before the updated NAV timers expire as shown
18

in Figure 7. Since a collision of a short RTS or CTS frame is less severe than a collision of data frame (up to 2346 bytes), the RTS/CTS scheme improves the performance of basic DCF scheme considerably in many cases [13]. For smaller data frames, RTS/CTS overheads are considerable.
DlFS :
~

I I
I

rI

~I

I

I

Source
(Tx)

I

~ RTS I

I
!

lr

SIFS .... ,

----Time

t-D-ata-

Dest ination
(Rx)

Other

~----~------------------~ NAY (RTS)

I

~I

DIFS

~

I

NAY (CTS)

I

I
NAV (data)

I I

Defer access

j ~ ackoff

Figure 7: RTS/CTS Access Scheme (Adapted from [13])

3.4 Point Coordination Function (PCF)
In PCF, AP acts as a point coordinator (PC) employing a centralized polling. For a BSS in PCF mode, the channel access time is divided into periodic intervals called beacon intervals as depicted in Figure 8. A beacon interval consists of contention-free period (CFP) and a contention period (CP). For CFP, the PC keeps a list of registered STAs to be polled as per list. A polled STA is allowed to transmit. STA is only allowed to transmit for a maximum length of frame which is controlled by PC. As a result, a PC knows the required CFP duration known as CFP_max_duration. Target beacon transmission time (TBTT) is the time required to generate a beacon frames. A PC broadcasts its next TBTT to all STAs within a BSS. PC only waits for PCF InterFrame Space (PIFS) to start its beacon. PIFS is shorter than DIFS which ensures that no DCF STA can interrupt the PCF mode of operation. This happens as beacon interval

broadcasted by PC would set NAV s of all other STAs to CFP_max_duration time, or the

19

remaining duration of CFP in case of delayed beacon. During the CP, the DCF is used, and the beacon interval allows at least one DCF data frame to be transmitted.

TBTT

Beacon Interval
Contenti on-Free Peri od

TBTT

Dx

=Fram.:s sc m hy =Frame:\ se nt hy
pol led sta ti o n ~

Poi lll Coordin ator

Ux

C FP_i\lax_ l>uratl on

Figure 8: PCF & DCF Cycles (Adapted from [13])

During a CFP as shown in Figure 8, piggybacking is used to deliver ACK/data to the polled STA. During CFP-Poll, data is piggybacked to STA or if ACK is pending for last successful transmission. PC or polled STA always wait for a SIFS interval before transmission with one exception. That is if the polled STA does not respond the PC within a PIFS period, the PC will poll the following STA. Silent STAs are removed from the polling list after several periods and may be polled again at the beginning of the next CFP [13] . As mentioned above, PC controls the CFP interval and it can cancel it at any time by transmitting a CF-End packet, then all the STAs in the BSS would reset their NAVs. Any further communication would happen during CP. Normally, PCF uses a round-robin scheduler to poll each STA sequentially in the order of polling list, but priority-based polling mechanisms can also be used if different QoS levels are requested by different STAs [13].

3.5 QoS Limitations of IEEE 802.11 MAC
Some of the MAC layer functions include controlling channel access, maintaining QoS and security. Wireless links have very specific characteristics such as high loss rate, bursts of frame loss, packet re-ordering, large packet delay and jitter. QoS of a network

20

can be classified as Parameterized QoS or Prioritized QoS. Parameterized QoS is defined in terms to quantitative values (data rate, delay & jitter). Prioritized QoS is defined in terms of relative delivery priority which means that QoS parameters (data rate, delay & jitter) may vary without need to reserve required resources [13].

3.5.1

DCF QoS Issues

As mentioned above, DCF only supports best-effort service without any QoS guarantee. Time-bounded services such VoiP, audio & video conferencing require strict QoS. But in DCF all STAs have to content for the channel access and there is no differentiation made for high priority STA or high priority traffic flow to/from a STA.

3.5.2

PCF QoS Issues

Though PCF was meant to support QoS but it has the following issues resulting in a poor QoS performance.

Central Polling: It is difficult for the PC to manage polling of large number of
interactive streams without harming the applications using DCF contention [12]. PCF experiences substantial delay at low load; stations must always wait for polling, even in an otherwise idle system [12].

Transmission Time: It is difficult to control the transmission time of a polled STA. This
is due to two reasons. First, a STA can send a frame of size 0 to 2346 bytes. This variable frame length brings the variation in transmission time. Second, transmission time may also vary due to varying channel conditions of a STA. Unpredictability of transmission time makes it difficult for the AP to provide guaranteed QoS for other STAs in the polling list.

Cooperation between CP & CFP Modes: At TBTT, PC schedules the beacon for CFP
interval. This beacon is to be transmitted once medium is idle for a time longer than PIFS time interval. Depending upon the channel status, beacon might be delayed and this delay is unpredictable. This delay would result into deferring the transmission of time-bounded frames requiring QoS.

21

3.6 WLAN MAC Enhancements for QoS: IEEE 802.11e
Approved in 2005, IEEE 802.11 e provides a QoS enhancement for IEEE 802.11 standard. QoS improvements are offered by two access methods in new MAC layer function known as Hybrid Coordination Function (HCF). HCF consists of two parts: First is contention-based channel access method known as Enhanced Distributed Channel Access (EDCA) and second is with a polling-based HCF-controlled Channel Access (HCCA). EDCA operate concurrently with a HCCA [11]. In 802.11e, QoS enabled AP and STA are known as QoS-enhanced AP (QAP) and QoS-enhanced STAs (QSTAs) respectively.

HCF defines a new concept of transmission opportunity (TXOP). TXOP is a time duration during which a QSTA is allowed to transmit a burst of data frames. This solves unpredictable transmission time problem in PCF as discussed above. Depending upon how a TXOP obtained by a QSTA, it is referred as EDCA-TXOP or HCCA-TXOP.
TXOP is limited to value of TXOPLimit in order to control delay. QAP determines this

limit. For an allocated TXOP, a QSTA can transmit multiple frames. TXOP provide timebased fairness between QSTAs, which can help remedy the performance anomaly of the legacy MAC (DCF/PCF) when different STAs operate at different data rates, and slow STAs may starve fast ones [11]. The QAP allocates an uplink HCCA-TXOP to a QSTA by sending a QoS poll frame to it, while no specific control frame is required for a downlink HCCA-TXOP [11].

3.6.1

EDCA: Contention-Based Part of HCF

EDCA enhanced the DCF to provide a prioritized QoS. MAC layer assigns a User Priority (UP) value to each packet received from higher layers. At the MAC layer, EDCA introduces four different first-in first-out (FIFO) queues, called access categories (ACs) [11]. Each UP value is mapped to an AC according to a table shown in Figure 9.

22

UP, User Priority
( San~~;~

as 80 2. 1D) 2
0

802.1 D Des ignation Not defi ned Best Effort (BE)
Excellent Effort (EE) Controlled Load (CL ) V l (Video <I OOms latency and j iuer) VO (V ideo <IOms Jatencv and jiner) Network Control (NC)

802.1 1e A C
( A ccess Catccorv)

0
()

0

4 5
6

7

2 2 3 3

Best Effort Bt~s t Effo rt Best Effort V ideo Probe Video Video Voke Voice

Figure 9: Mappings between UP and AC (Adapted from [13])

Depending upon the QoS requirement of an application, it can be directed to use appropriate AC. 802.11 e introduced two main methods to support service differentiation: Variation in Arbitrary IFS (AIFS) or Backofftime of an AC. Each AC behaves as a single DCF contending entity with its own contention parameters
(CWmin [AC}, CWmax [AC], AIFS [AC] and TXOPLimit [AC}), which are announced by

the QAP periodically in beacon frames [ 11]. Smaller values of these parameters would mean a shorter channel access delay for that particular AC. A high priority AC requires a short channel access delay. EDCA introduces a new type of InterFrame Spacing (IFS) known as arbitrary IFS (AIFS) which is similar to DIFS in DCF. Each AIFS is an IFS interval with arbitrary length as follows:
AIFS [AC} = SIFS + AIFSN [AC]
x

slot time

Where AIFSN [AC} is called the arbitration IFS number [11]. After sensing the medium idle for a time interval of AIFS [AC}, each AC calculates its own random backoff time
(CWmin [AC]
~

backoff time 2: CWmax [AC}) [11]. Variations in values of these

parameters would control the priority to access the medium. So, a low priority AC would have long waiting time or smaller AIFS means high priority. At a QSTA, backoff times of different ACs are generated randomly and may expire simultaneously. This causes an internal collision and virtual scheduler of QSTA allows high priority AC to transmit frames. Whereas other colliding ACs will enter a backoff process and double the CW size just like an external collision [13]. The default values of AIFSN [AC], CWmin [AC],
23

CWmax [AC} and TXOPLimit [AC] are announced by the QAP in beacon frames, and the

802.11e standard also allows the QAP to adapt these parameters dynamically depending on network conditions [ 13].

802. I I e: up to 8 User Prioritie s (U Ps) per QSTA

I

J~
8 lJPs nwpping to 4 Access Categories (ACs)

~

{7

~

I'

,1 t

I

ACOU
J~
backotT (A IFSNO)
(C\Vm i nO) (C\Vm axO)

ACIU
backoff {AIFSN I)
(C\Vmin 1) (C \V max l )

U AC2
~~

UAC.l
"J~
back orr (A IFSN3)
(CWm inJ) (C\VnJaxJ)

"/

backoff (AIFSN2)
(C\Vmin2) (C\Vmax2 )

I

~1 ~~ scheduler (resolves virtual co lli sions by granting TXOP to hi ghest priority) ~~
~~

~
transmis sion altenlpl
Figure 10: EDCA at a STA (Adapted from [13])

II

I

An AC in QSTA sends a QoS request to QAP containing a traffic specification (TSPEC) of its application/flow, a QAP would decide to accept or reject the request. If QAP accepts the request, it calculates the amount of time per second for admitted traffic to access the medium known as medium time. Than the QAP informs the QSTA about the derived medium_time. A QSTA is required to maintain two local variables:
admitted_time & used_time. QSTA updates its admitted_time variable to the received medium_time. Local variable of used_time is used to record how long the QSTA has

accessed the medium. The used_time is updated after each transmission attempt, successful or not. If used_time is larger than admitted_time, the corresponding AC is not allowed to transmit any data frames until used_time is reset [11]. For any further channel access, QSTA has to send a new request to QAP. Once a QSTA has gained an EDCA24

TXOP, it can burst by sending multiple frames as long as the total access time does not exceed the TXOPLimit announced by QAP [13]. This EDCA bursting is terminated if collision occurs.

3. 7 Applications of IEEE 802.11
IEEE 802.11 WLAN is one of the most deployed wireless technologies all over the world and is likely to play a major role in next-generation wireless communications networks [13]. WLAN can be considered as a wireless version of Ethernet. WLAN provides a ubiquitous communication and computing environment in campuses, factories, offices, airport etc. WiFi Alliance estimates the current WiFi users to be over half a billion [15]. WLAN is not limited to data-centric connectivity for laptop computers anymore but supports a wide range of devices and applications. WLAN is being used in mobile phones, gaming devices, printers, cameras, TV s, audio players, and other consumer electronics devices. WiFi Alliance predicts that more than 500 million Wi-Fi enabled handsets would be sold by 2012 [15], making it a technology of choice carrying VoiP traffic.

25

4 Simulation Using OPNET Modeler 14.5 Wireless Suite
We are interested in exploring the opportunity that presents itself about hybrid wireless network environments. In hybrid wireless network environments, a user device using WiFi connects to the WLAN AP. Traditionally, WLAN AP traffic is backhauled using DSL/Cable broadband Internet. WiMAX/IEEE 802.16 offers a viable backhaul alternative to ·carry traffic from WLAN AP. To the best of our knowledge, there is no study available about the QoS performance of two wireless networks (hybrid of WLAN and WiMAX). Therefore, a simulation study is done with the following major goals in mind: 1) To gather expertise on and evaluate OPNET Modeler 14.5 wireless suite simulation tools for further use. 2) To gather measurements of two important QoS characteristics of end-to-end jitter & delay in WiMAX backhaul and WLAN last-mile network. 3) To investigate which network architecture and configuration provides WiMAX scheduling service that is best suited for VoiP and Interactive video conferencing to support a WiMAX backhaul network. 4) To determine any issues impeding QoS performance when traffic traverses through two wireless networks.

4.1 Selection of Network Simulator
Simulation is an essential tool to study the performance of any communication network. For this study, OPNET Modeler 14.5 Wireless Suite was chosen as the simulation tool. This section briefly describes pros and cons of the other available network simulator, the Network Simulator 2, ns-2 [26]. There are two available IEEE 802.16 modules for ns-2 implemented by: (1) National Institute of Standards and Technology (NIST), USA [27], and (2) the Networks and Distributed Systems Laboratory (NDSL), Chang Gung University, Taiwan [28]. These modules are in early stages of their development and do not implement all standardized features of the IEEE 802.16 [29]. The NIST implementation supports, among other 26

features, OFDM physical layer with configurable modulation, TDD, PMP topology, mobility, fragmentation and reassembly of frames but it does not implement MAC QoS support, namely, service flows and QoS scheduling [30]. The NDSL 802.16 simulation module implemented TDD duplexing mode, PMP topology, packet fragmentation and IP address based service flow mapping. Although this module implemented the five service flow types specified in the IEEE 802.16 standard, the request/grant mechanism defined for bandwidth management is not compliant to the MAC layer specification [30]. Moreover, users cannot configure QoS requirements, such as maximum delay and minimum bandwidth, for the high priority service flows [30]. As major focus of this study is WiMAX QoS performance, available WiMAX modules of ns-2 do not offer a suitable choice as a simulator tool. OPNET Modeler 14.5 Wireless offers required WiMAX features whose details are provided in the following sections.

4.2 OPNET Modeler 14.5 Wireless Suite
Optimized Network Engineering Tools (OPNET) Modeler is one of the industry's leading network simulators. The engine of the OPNET Modeler is a finite state machine model offering discrete event, analytical and hybrid simulation capabilities. OPNET provides a global environment to model, simulate and evaluate performances for a variety of wired and wireless communication networks and distributed systems. The OPNET environment includes graphical tools for scenarios and models conception, scenarios simulation, data collection and data analysis. OPNET Modeler provides more than 150 protocols models and also offers a range of vendor specific node models [21]. OPNET has contributed to industry consortiums including MPLS, DOCSIS, WiMAX, 3GPP LTE and 3GPP UMTS. OPNET is being used by more than a thousands universities with academic users ranging well above 25000 [21] .

OPNET wireless suite offers simulation for all wireless characteristics which are seamlessly integrated with higher layer protocol models. These capabilities include: RF propagation, Path loss with terrain diffraction, Fading, Atmospheric attenuation, Interference and jamming, Transmitter/receiver characteristics, Node mobility including

27

handover and Interconnection with wired transport networks. Supported wireless protocols are Cellular, satellite, MANET, Wi-Fi, WiMAX, 3GPP LTE, UMTS etc.

4.2.1

OPNET Modeler Architecture

OPENT modeler has multi-level hierarchical architecture which consists of Network, Node and Process (Also referred as OPNET domains). For each domain, OPNET offers its respective editor: Project Editor, Node Editor and Process Editor as shown in Figure 11. Network domain consists of nodes, links and subnet models. Node model/domain includes processors, queues, and transceivers as depicted in Figure 12. Processors are fully programmable via their process model. Queues also buffer and manage data packets. Transceivers are node interfaces between modules such as packet streams & statistic wires [22]. Process domain/model consists of state transition diagrams, blocks of C code, OPNET Kernel Procedures (KPs), state variables and temporary variables. A process is an instance of a process model which can dynamically create child processes and respond to interrupts. OPNET simulation produces three kinds of output: Vectors (time-value pairs plotted vs. time), Scalars (values dependent upon parametric input) and animations (packet flows, node movements etc).

28

Open Model Source Code

Figure 11: OPNET Modeler Architecture (Adapted from [21])

Figure 12: OPNET Modeler Node Domain (Adapted from [22])

29

4.2.2

OPNET WiMAX Suite

The WiMAX model suite of OPNET supports the simulation of IEEE 802.16-2004 (Air Interface for Fixed Broadband Wireless Access Systems) and IEEE 802.16e-2005 (Air Interface for Fixed and Mobile Broadband Wireless Access Systems). It also supports the architecture recommended by WiMAX forum including Network architecture and reference points (WiMAX Forum NWG) and WiMAX End-to-End Network Systems Architecture. Implemented features of OPNET WiMAX model are (1) MSDU packing and fragmentation, (2) Scheduling services including UGS, ertPS, rtPS, nrtPS, BE with BS scheduler for uplink and downlink, (3) Automatic Retransmission Request (ARQ) on per connection basis for rtPS, nrtPS and BE connections and ability to enable ARQ for individual service flows at subscriber station nodes, (4) Hybrid Automatic

Retransmission Request (HARQ), (5) CDMA based bandwidth requests, (6) Piggyback bandwidth requests, (7) Grant consolidation per Basic CID, (8) MAP generation, (9) IP convergence sub-layer, (10) Service flow configuration and mapping of traffic to service flows, (11) Mobility and handover, (12) Adaptive Modulation and Coding (AMC), and (13) Physical layer supports TDD, OFDMA and scalable orthogonal frequency-division multiple access (SOFDMA) with FFT of 128, 512, 1024, 2048 [23]. OPNET has the following three categories of node models with WiMAX functionalities: Base Station (BS), Subscriber Station (SS) and WiMAX configuration Object. BS is fixed node with single sector and three-sector WiMAX interfaces. BS node models also support SLIP interfaces (for WAN links), Ethernet and WLAN interfaces. All ofBS node models support routing functions. SS node models support both fixed and mobile SS. SS with routing functionality support have Ethernet, SLIP and WLAN interfaces as well. 4.2.3 OPNET Wireless LAN Suite

OPNET WLAN suite implementation 1s based on IEEE 802.11 standard with amendments of 802.11a, 802.11b and 802.11g. OPNET supports the FHSS, IR, DSSS, OFDM and Extended Rate PHY-OFDM physical layer standards. Supported data rates vary from 1Mbps to 54 Mbps. Also, IEEE 802.11 e is implemented providing the MAC enhancement for QoS. Both Ad-hoc and infrastructure modes are supported. At the MAC layer, OPNET WLAN suite model implements DCF, PCF and HCF/EDCA. For 30

prioritized contention-based access, four access categories are supported: Voice, Video, Best Effort and background. TXOP frame bursting is supported as well. Reliable data transmission is supported via RTS-CTS exchange. Packet fragmentation and roaming is also implemented into the model. The model supports normal ACK, Block-ACK, and noACK MAC-level acknowledgement mechanisms configurable separately for each traffic category. Interoperability is another key feature of model which allows coexistence of 11 g-capable and non-11 g-capable STAs and Coexistence of 11 e-capable and non-11 ecapable STAs with roaming capability [24].

4.3 Selected OPNET Models for Simulation
This section provides brief overview of OPNET models used for the project simulations.
4.3.1 wimax_bs_ethernet4_slip4_router_adv

Figure 13 shows the architecture of a WiMAX base station at node level with full stack of IP, UDP, TCP, routing and application layers along with WiMAX specific MAC and physical layers. The "wimax_mac_module" has a root process "wimax_ mac.pr. m" which provides main data plane control functions. Based on the nature of the WiMAX node (BS or SS), it spawns a child process. The "wimax_ bs_ control.pr. m" handles the control functions for BS and "wimax_ss_control.pr.m" handles the control functions for SS. Higher layer packets arriving at the MAC layer are classified by the MAC according to the classifier attributes. Those packets that do not match with any definition go to default BE queue. Packets are en-queued into connections. Then classified connections are multiplexed and BW requirements are updated and sent to the control plane. Similar process is reversed for the packet arriving from lower layers. Once grant arrives from the control plane to the data plane, MAC PDUs are formed, if required bandwidth request is sent and finally MAC PDUs are transmitted.

31

ppp_rx_7_0

mot>lip)P
,

' I j 1 I l'

~
wlmax. _ant_s_o

I· ' i .

Figure 13: OPNET Node Model for WiMAX Base Station

WiMAX Scheduler implementation in OPNET: There are two schedulers in BS one for uplink and one for downlink. BS Scheduler determines the order of grants to rtPS, nrtPS and BE, while UGS grants simply bypass scheduler order. For BE service,
32

1

192.16864.0/ 24

802 .H5PMPLink

Figure 16: WiMAX PMP Backhaul Network Topology

User terminals are equipped with WiFi radios with 802.11e support thus acting as QSTAs. These terminals are used to generate traffic into the network. These QSTAs are connected to a WLAN Gateway Router. The WLAN gateway router has WiFi as well as WiMAX radios and it can route traffic between hybrid wireless interfaces at IP layer. In order to carry traffic between QSTA and servers/nodes in wired network, a fully functional IP routing scheme is required. Due to simplicity and robustness, static IP routing was chosen. Every gateway router and WiMAX BS has been provisioned with required static routes to enable bi-directional IP traffic. Five Ethernet gateway routers are also part of the network. User terminals are connected to Ethernet gateway routers using Fast Ethernet interface. Ethernet user terminals have been configured with the same traffic profile as configured for WLAN terminals. Four Ethernet gateway routers have fixed number of Ethernet terminals attached with them. A number of Ethernet terminals are selected to ensure that each Ethernet gateway router injects traffic to fully utilize its allocated WiMAX resources. Fifth Ethernet gateway router has variable number (1 -8) of Ethernet terminals connected. Network serves SOHO customers with three different types of services: Interactive video conferencing, VoiP and data. SOHO customers can have multiple sessions for each
35

service. Network is provisioned to allow each SOHO customer to multiplex four traffic sessions of each service type. WiMAX resources are configured accordingly. To simulate a real world scenario, every single simulation run carries ftp, http, VoiP and interactive video session simultaneously (defined using OPNET traffic profile). Each type of traffic is served by a specified QoS category in WLAN and WiMAX network to guarantee end to end QoS. In order to study the impact of load on each WiMAX scheduling service, the number of sessions are increased to 4 (provisioned load), 6 (1.5 times the provisioned load) and 8 (2 times the provisioned load). In order to vary number of sessions, number of user terminals (WLAN or Ethernet) is increased as there is only one session per end user terminal.

4.5 Simulation Parameters
This section provides details of different simulation parameters used for the project simulation.
4.5.1 WiMAX Parameters

Following are the physical layer parameters used for this simulation. These parameter values were fixed for all simulation scenarios and sequences. Focus of this study is on the QoS which is a function of MAC layer. So, ideal channel conditions are assumed for all gateway routers (WiMAX SS within WiMAX context). Also, mobility is not modeled and modulation scheme is fixed at 64-QAM 3/4 for all gateway routers.
Table 1: WiMAX Physical Parameters Value Profile Bandwidth Base Frequency Frame Duration

OFDMA 20MHz
5 GHz 5 m sec

36

Symbol Duration No of Sub carriers Duplex No of Sectors Mobility UL/DL Boundary

102.86 micro sec 2048 TDD Single No Fixed (15.783/58.752 Mbps) 106 micro sec 60 micro sec Null Sub-carriers Left= 100 Null Sub-carriers Right= 183 Data Sub-carriers= 1120 No of Sub-channels= 70 Usage Mode= PUSC

TTG RTG
Frequency Division: UL Zone

Frequency Division: DL Zone

Null Sub-carriers Left= 184 Null Sub-carriers Right= 183 Data Sub-carriers= 1440 No of Sub-channels= 60 Usage Mode= PUSC

Uplink Service Flow Buffer

64 Kbytes

Downlink Service Flow Buffer 64 Kbytes

37

4.5.2

WiFi Parameters

Following table lists the physical layer parameters as well as QoS parameters used for this simulation. These parameter values were fixed for all simulation scenarios and sequences.

Table 2: WiFi Physical & Access Category Parameters Value Profile Data Rate Short Retry Limit Long Retry Limit AP Beacon Interval
802.11g 54 Mbps 7 4 0.02 sec

Details

Max Receive Lifetime 0.5 sec Buffer Size Roaming Access Category Voice
CWmin CWmax
AIFSN (PHY CWmin + 1)/4 -1 (PHY CWmin + 1)/2 -1 2 (PHY CWmin + 1)/2 -1 256000 bits Disabled

Video

CWmin CWmax
AIFSN

PHYCWmin
2

38

Best Effort

CWmin CWmax

PHYCWmin PHYCWmax

AIFSN

3

4.5.3

Traffic Models for Simulation

Traffic models are a vital part of a system simulation and should reflect the real-world scenario. Traffic model represents a specific user behavior or interaction, or in other word, application traffic is generated mainly through a user interaction with a device [6]. One of the goals of any simulation is to implement the traffic model in order to evaluate application performance from the user perspective in detail. Industry consortium such as 3GPP and WiMAX forum has defined the application traffic models to be used for system evaluation. The 3GPP, 3GPP2 and WiMAX forum documents describe models for Web, FTP, and near real time video applications. These models can be used to evaluate application specific performance as well as a scheduling mechanism for the application QoS in the MAC layer [6]. As IP level traffic is generated according to the upper layer protocols, the generated ULand DL traffic is correlated [6]. WiMAX System Evaluation Methodology [6] provides detailed application models which are used as reference for this simulation. For the purpose of this simulation, application traffic of ftp, http, VoiP and interactive video conferencing was generated according to specifications provided in [6].
FTP Traffic Model

The FTP application session consists of a sequence of file transfers, separated by reading times. The FTP uses TCP protocol. Main parameters of an ftp session are: S =file size and Dpc =reading time. Reading time is defined to be the time between two consecutive file downloads. Table 3 defines the parameter used for this simulation according to [6].

39

Table 3: FTP Traffic Model Parameters Attribute Command Mix [Get/Total] Value
75%

Inter-Request Time/Reading Time (Dpc) (Sec) exponential ( 180) Type of Service File Size (Bytes)
Best Effort (0) Lognormal (2000000, 521284)

HTTP Traffic Model
HTTP traffic model is one of the most complex models. HTTP traffic studies show that that the large majority of page responses consist of relatively small objects. The distribution of page sizes is infrequent but very large page objects constitute a significant proportion of overall transmitted bytes. A web page has a number of web objects: embedded images, style sheets and executable java applets or plug-ins. Reading time in HTTP is defined to be the time between accessing two pages. Table 4 provides the parameters of HTTP traffic model used for this simulation.

Table 4: HTTP Traffic Model Attribute http Spec Type of Service Page Properties Page Request Size (Bytes) Main Object Size (Bytes) SM Value
Ver 1.1 Best Effort (0) Large image Constant= 350 Truncated Lognormal (52390,

40

2459267281) No of Objects per page (Nd) Pages per Server/Number of Pages per Session Page Inter-arrival time I Reading time (Sec) VoiP Traffic Model Bandwidth requirements of VoiP call depends upon the encoding schemes for voice (i.e., 0.711, 0.722, 0.722.1, 0.723.1, 0.728, 0.729, AMR). If transport protocol · (RTP/IP/UDP) is included, a VoiP call needs between 5 Kbps and 64 Kbps of bidirectional bandwidth [6]. In [6], specifications are provided for the Adaptive Multi Rate (AMR) codec which is the most important encoder and the newest encoder for existing OSM networks. It is also adopted as a mandatory speech codec speech processing function in UMTS [6]. But OPNET does not support AMR codec, so 0.729A codec is selected and its parameters are shown in Table 5 . Table 5: VoiP Traffic Model (G. 729A) Attribute Encoder Voice frame per packet Type of Service Value 0. 729 A (Silence Suppressed) 1 Interactive Voice (6) 802.11e =voice (3) Incoming/Outgoing Silence Length Compression Delay Decompression Delay Conversation Environment Exponential (0.65) sec .02 sec .02 sec Landline phone in quiet room Pareto (51.1, 2) Lognorrnal(17,484) Exponential (30)

41

Protocol Incoming/outgoing Talk Spurt Length Average Call Holding Time (Sec)

UDP Exponential (0.352) sec Exponential (21 0) sec

Without any RTP/IPIUDP compression, required bi-directional bandwidth for VoiP call is 32 kbps.

Interactive Video Conferencing Traffic Model
A typical video conference requires sustainable send/receive throughput in the range of 32 Kbps to 1 Mbps. A typical business-quality videoconference runs at 384 Kbps and can deliver TV -quality video at 25 to 30 frames per second [6]. H.264 is the next-generation video compression technology in the MPEG-4 standard, and it can match the best possible MPEG-2 quality at up to half the data rate. H.264 is likely to be used in applications such as Video Conferencing, Video Streaming, Mobile devices, TeleMedicine etc. Current 3G mobiles use a derivate ofMPEG-4 [6]. OPNET simulates the MPEG4 traffic for a interactive video conferencing session. As specified in [6], a typical video conferencing session would require 384 kbps of bidirectional bandwidth at minimum. Bi-directional bandwidth allocation is required due to unicast nature of interactive video conferencing traffic. The MPEG-4 parameters are modified in OPNET to generate a constant bit rate (CBR) traffic stream of 384 kbps as listed in Table 6.

Table 6: Video Conferencing Traffic Model (MPEG-4) Attribute Session Duration Protocol Type of Service Value
240 sec UDP Interactive Multimedia (5)

42

802.11 e =video (2)

Traffic Mix Resolution

All Discrete 10 frames/sec

Frame Size (Bytes) 320 X 240 pixels Bandwidth Compression Rate
384 Kbps 16

4.6 Simulation Environment
Following table lists the general simulation environment parameters.

Table 7: Simulation Environment Parameters Attribute Simulation Time Channel Conditions Cell Application Model Traffic Profile VoiP Calls Value
10 min Same for all Gateway routers Single (WLAN/WiMAX) Same for all simulation sets Same for all Terminals (WLAN & Ethernet) Max 3 calls, Random

Video Conferencing Session Single, Duration = 240 sec Ftp Sessions Http Session Simulation Runs
Max 5 sessions, Random On going for full simulation run 5 for each simulation sequence/scenario

43

4.7 Legends for Simulation Results
In chapter 5, simulation models and their results would be presented with detailed discussion. Figure 17 describes the nomenclature of legend to be used to present the simulation results.
Traffic Type Vo/P I Vdo VoiP =Voice over IP Vdo =Interactive Video Conferencing Load Scenario

4 16 18
4 = 4 active WLAN stations 6 = 6 active WLAN stations ~ 8 acti1 WLAN stations

AvgDelayVoipDL6e

QoS Statistics AvgDelay I AvgJitter AvgDe lay =Average Delay AvgJitter =Average Jitter

7

) Lin~ Lctl~
UL 1 DL
UL =Uplink DL = Downlink

Simulation Set
AIBICIDIEIF

Figure 17: Legend Description for Simulation Results
In order to measure the QoS performance of the simulated network, three load categories are defined. For each load category, a simulation is performed by adding more WLAN stations as shown in Table 8. Resources in WiMAX backhaul networks are allocated to support 4 active W ALN stations with each running VoiP, interactive video conferencing, ftp and http session running simultaneously.

Table 8: Traffic Load Scenarios for Simulation Models Load Category
1
2

No of Active WLAN Stations
4

Full Load 50 % overloaded 100 % overloaded

6
8

3

44

5 Analysis of Simulation Models and Results
We designed four service models for the target SOHO environment and created four corresponding simulation scenarios to evaluate the performance. We used delay and jitter (delay variation) as observed by the end nodes at the IP layer. Delay and jitter were measured end to end (E2E) at source and destination nodes. These two metrics are defined as follows.
Delay: It is defined to be the time taken for the packet to reach its destination, in seconds.

Measured as the difference between the time a packet arrives at its destination and the creation time of the packet. This statistic is collected separately for each source, destination pair. Only unicast packets generated explicitly are considered for this statistic.
Jitter: Variation in the time taken for a packet to reach its destination. This is computed

as:

.V [(instantaneous delay - average delay) 2]. This statistic is collected separately for

each source, destination pair. Only unicast packets generated explicitly are considered for this statistic. Table 9 lists the recommended values defined by WiMAX forum. In all simulation models, the QoS performance of a WiMAX scheduling service is compared with these recommended values of delay and jitter. As evident from Table 9, VoiP & video conferencing applications are delay and jitter sensitive. Though simulated hybrid wireless network carry ftp and http traffic simultaneously but this study focuses only on VoiP & video conferencing due to their QoS sensitive nature.
Table 9: End to End Delay & Jitter Recommendations (Adapted from [6]) Application VoiP Video Conferencing Web Browsing Content Download Bandwidth Delay Jitter

4-384 Kbps 4-384 Kbps 10 kbps to 2 Mbps
> 2 Mbps

< 150 msec < 150 msec
NIA

<50 msec <50 msec N/A N/A

N/A

45

5.1 Simulation Model A
The purpose of this simulation model is to study the QoS performance of WiMAX scheduling service of UGS and rtPS. In this model, UGS carry VoiP traffic which is variable bit rate (VBR) traffic whereas rtPS is used to carry interactive video traffic which is CBR in nature.

5.1.1

Simulation Parameters

Following table lists the WiMAX and WiFi parameters used for this model. It also lists the network resources reserved for each application.

Table 10: WiMAX & WiFi QoS Parameters for Model A No Service Scheduling Reserved Class
1 2
3

Max Delay

WLAN Access Category

Type
UGS rtPS Best Effort

Bandwidth
128 kbps (32 x 4) 1536 kbps (384 x 4) 1.5 Mbps 20 msec 40 msec 250 msec

Gold Silver BE

Voice (3) Video (2) Best Effort (0)

5.1.2

Results and Analysis

Results and analysis for this simulation model is reported per WiMAX scheduling service for each application.

UGS for VoiP

46

E2E DelayforVoiP: A (UGS)

0.9

0.8
~ AvgOelayVoipOL4 A

0.7

..... .. --+-- AvgDelayVoipDLEA . .... .. .. .. ..... ..... ........ . --+-- AvgDelayVoipDLB A
--e- AvgDelayVoipUL4A

0.6

~ AvgOelayVoipUL.EA

"0 0

---.a.-- AvgDelayVoipULB A

0.5

·:·· · ·· · · · · · · · ···· · · · · · · · · · · : · ··· ··· ··· ·········· ·

0.4

0

···· ·

0

·· ····· ·

·

·

··

~

·

·· ·

·

·

·

··· ·

·

······ ·

·· ·

· · · · :· · ·

··· ·

······

·

·

·· ·

·· ·

·

·

·· ·

~.

·

·

·

·

0

·

·········· ·

··

··· ·

0.3

0.2

0.1

0 o~+-------,=oo---------2~oo--------~3o_o

_________ 4o~o---------5~oo--------~6oo

Delay (mSec)

Figure 18: UL & DL VoiP Delay for 3 Load Categories of Model A

Figure 18 shows the probability of average uplink and downlink delays offered by UGS for VoiP application. The graph shows that UL and DL delays follow very closely for each load scenario. As load increases, delay offered by system also increases [25]. Network offers most stable delay performance when it carries 4 VoiP sessions. When no of sessions is increased from 4 to 6 (network overload is 50%), network offers a delay within the 150 msec bound with approximately 95% probability. When network is overloaded 100% running 8 VoiP sessions, system performance degrades significantly. Probability of offered delay by network within 150 msec bound is now down to approximately 77%.

47

E2E Jitter for VoiP: A (UGS)

0.9
-e-- AvgJitterVoipDL4 A

0.8

- - - AvgJitterVoipDLE A

--+--- AvgJitterVoipDL8A

0.7

.. -e--AvgJitterVoipUL4A .
~ AvgJitterVoipULEA

0.6

· · · ---&--AvgJitterVoipULBA ·

LL.

0 0

0.5

0.4

..... ... ... ... .. ........ .. ........ .. ..... ... .... ... ... ... .... ... .... ... ... ....... ... ... .

:

:

:

:

;

0.3

0.2

· ···· <·· ···· ··· ··· ···· ·:· ·····

0.1

0~~~~------L------L----~~-----L----~------~----~----~

0

50

100

150

200

250

300

350

400

450

Jitter (mSec)

Figure 19: UL & DL VoiP Jitter for 3 Load Categories of Model A
As shown in Figure 19, Jitter increases as the number of VoiP sessions are increased. Similar observations are reported by [ 19]. When compared against the 50 msec bound of jitter, system offers most stable performance at full load (4 VoiP sessions). When network is 50% overloaded, probability of network offering jitter within 50 msec bound drops to approximately 70 %. When network is 100 % overloaded, the jitter almost always exceeds 50 msec bound. The performance of UGS can be summarized as follows. UGS grants uplink resources regardless of backlog estimation without any need by SS to request bandwidth. Once a UGS connection is admitted, no further request/grant signaling is exchanged and packets are transmitted with minimum delay [25]. Comparing the jitter and delay performance of UGS for VoiP traffic, UGS performs best for no overload condition. The network can be 50% overloaded with 30% probability of performance degradation. But when the system is 100 % overloaded, system performance is unstable due to high jitter offered by the system.
48

rtPS for Video Conferencing Traffic Delay performance statistics for video conferencing when carried over rtPS are presented in Figure 20. As evident from the graphs, rtPS offers very stable delay performance. When network is fully loaded, delay is within the 150 msec bound. Same is true when network is 50 % overloaded. But when network carries twice the provisioned load, the uplink delay increases to around 300 msec, which is well above the 150 msec bound. Also, the uplink delay is higher than the downlink delay. This can be explained as follows. An rtPS connection is required to notify BS about its required bandwidth, to which, BS allocates bandwidth in the next uplink frame. Hence, the bandwidth request cycle contributes additional time in the uplink delay. Also, the time between the arrival of an rtPS SDU and the transmission of the corresponding bandwidth request does not depend on the number of video sessions but on polling interval [ 19]. Hence, average delay is almost constant and only increases when system is 100 % overloaded.
E2E Delay for Video Conferencing: A (rtPS)

0.9

--&-- AvgDelayVdoDL4 A

__.,_ AvgDelayVdoDL6A

-+-- AvgDelayVdoDLBA
0.8

--a- AvgDelayVdoUL4A
__._ AvgDelayVdoUL6A .. .. --...-AvgDelayVdoULBA .

0.6
IL

0

c

0.5

0.3

0.2

0.1

0 o~--~----5~o------~~1oLo

_________1~5o--~----~2o~o--------~2=5o~-------=3oo
Delay (mSec)

Figure 20: UL & DL Video Conferencing Delay for 3 Load Categories of Model A

49

PROPERTY OF

RYERSON·UNIVERSITY LIBRARY

Figure 21 shows the jitter performance of rtPS for video traffic. As explained above, the ability of rtPS service to offer a stable delay to CBR video traffic enables rtPS to offer a jitter well within the 50 msec bound even when the network is 100 % loaded. By analyzing the jitter and delay performance of rtPS & UGS in Model A, it can be concluded that UGS service provides a good performance for VBR VoiP traffic and it can sustain the performance even when network is overloaded by 50 %. Similarly, rtPS offers a good QoS for CBR interactive video conferencing traffic when the load is increased by 50% above the provisioned limit. Both services are unable to maintain the QoS when network load is doubled.
E2E Jitter for Video Conferencing : A (rtPS)

0.9
~AvgJitterVdoDL4A

0.8

·· ~AvgJitterVdoDLEA

---+- AvgJitteNdoDLBA
0.7 -a-AvgJitterVdoUL4A ........ . ..... ... . ... ... .
~ AvgJitterVdoULE A

... --&--AvgJitteNdoULBA

IL

0 0

0.5
...... ...... ..:· .. ..... ........ .. .... ~ .... ... ..... ... ... .... ~ .... ..... ... ... .. .....:· .. .. .

0.4

0.3

0.2

0.1

20

60

80

140

Jitter (mSec)

Figure 21: UL & DL Video Conferencing Jitter for 3 Load Categories of Model A

5.2 Simulation Model B
The purpose of this simulation model is to study the QoS performance of WiMAX scheduling service of UGS and rtPS. In this model, rtPS carries VoiP traffic which is

50

variable bit rate (VBR) traffic. The UGS is used to carry interactive video traffic which is CBR in nature.

5.2.1

Simulation Parameters

Following table lists the WiMAX and WiFi parameters used for this model. It also lists the network resources reserved for each application.

Table 11: WiMAX & WiFi QoS Parameters for Model B No Service Scheduling Reserved Class
1
2

Max Delay

WLAN Category

Access

Type
rtPS UGS Best Effort

Bandwidth
128 kbps (32 x 4) 1536 kbps (384 x 4) 1.5 Mbps 20 msec 40 msec 250 msec

Gold Silver BE

Voice (3) Video (2) Best Effort (0)

3
5.2.2

Results and Analysis

Results and analysis for this simulation model is reported per WiMAX scheduling service for each application.

rtPS for VoiP Traffic

51

E2E Delay for VoiP: B (rtPS)

~ Avg0elayVoipDL4

8 :

- - - - AvgDelayVoipDL68 . -+--AvgDelayVoipDLB8 . .

- e - AvgDelayVoipUL4 8
:
~ AvgDelayVoipUL6

:

8

0.3
0.2

0.1

Delay (mSec)

Figure 22: UL & DL VoiP Delay for 3 Load Categories of Model B Figure 22 shows the delay performance of rtPS when carrying VoiP traffic. The rtPS offers a very high uplink delay where even when network carries load up to its provisioned capacity. Higher delay experienced by VoiP traffic can be explained as follows. An rtPS connection has to send a request for bandwidth to BS which maintains virtual uplink queues to estimate the required resource allocation for the uplink service flows/connections. The BS calculates the virtual backlog for the uplink. Thus, the difference between the virtual backlog computed by the BS and the real backlog buffered at the respective SS connection queue in the VoiP case is higher. This results in inadequate resource allocation for uplink producing higher delay and jitter in the uplink direction. Excessive jitter is reported in Figure 23. In [19], author had reported similar findings that rtPS offers higher delay and Jitter for VBR traffic.

52

E2E Jitter for VoiP: B (rtPS)
..
:;

~ AvgJitterVoipDL4

8

0.9

. . . . . . . . . . . . . . . . . ------- AvgJitterVoipDL£

8

--+-- AvgJitterVoipOLB 8

0.8

· --e-- AvgJitterVoipUL48
~ AvgJitterVoipUL6
· ·· 0 · · · · 0 . ·· · · · ____.__

8

AvgJitterVoipULB A

0.6
IL

··<·· ··:··-:··

c
0

0.5

0.4

0.3

. . .. . .. . 0.. : .. .. . 0:0..

. : " 0: .. : 0

.;.j .i 0; 0...... 0.. : : l: :
:: : :

.

0.2

... . . - ~ ·

.

~.

0.1

... ., ..

.. ... .·. . . .. ,.

··:· ··:··-··: : l
. '

o~--~~~~~~L---~~~~~~L-~~~~~~~L---~--~~~wuu

10°

10

1

10

2

Jitter (mSec}

Figure 23: UL & DL VoiP Jitter for 3 Load Categories of Model B

Figure 23 shows that jitter decreases when the load on the system increases. This can be explained as follows. When the system is fully loaded, the BS almost always issues an uplink grant immediately after receiving a bandwidth request. For the next packet of the application, the SS has to wait until the next unicast poll from the BS before it can request bandwidth. But when the network is overloaded, a new packet is already queued up before even the BS issues a grant to serve a previous packet. So, SSs can piggyback the bandwidth request for the next packet when its sends out earlier packet. Thus, the SS can anticipate the unicast poll from the BS to request more bandwidth [19] .
UGS for Video Conferencing Traffic

53

E2E Delay for Video Conferencing: B (UGS)

0.9

0.8

. . . ---e-- AvgDelayVdoDL48
---;j-

... .

Avg0elayVdoDL.68

0.7

··· ··· ···· ·· ···· · · · · ·········

---+-- AvgDelayVdoDlB8

-a-- AvgDelayVdoUL48
~ AvgDelayVdoUL.6

8 8 .. .

--AvgDelayVdoUlB

c
0

lL.

0.5

····· ······· · ········

0.4

0.3

0.2

0.1

150

200
Delay (mSec)

250

300

350

Figure 24: UL & DL Video Conferencing Delay for 3 Load Categories of Model B Figure 24 shows the downlink and uplink delay when UGS service is used to carry video conferencing traffic. As depicted in the graph, both uplink and downlink delays are above the 150 msec bound. Though, delay is above the limit, but it is important to note that the delay performance is very stable and consistent as expected of UGS service. Figure 25 contains the jitter graph, which shows that the network jitter is within 50 msec bound for overloading condition up to 100%. But for full load, the probability of having a 50 msec jitter is approximately 85%. Also it shows more variation as compared to other loading conditions. Based on the findings in model B, it can be concluded that given the model B parameters, rtPS service is not suitable to carry VoiP traffic. Similarly, based on model B parameter, UGS though offer a good jitter performance but delay is above the 150 msec bound. Use ofUGS for video conferencing is further investigated in model E.

54

E2E Jitter for Video Conferencing: B (UGS)

0.9

0.8

. . . . . ---e-- AvgJitterVdoDL48
----- AvgJitterVdoOL.£8
--+-- AvgJitterVdoOLB8

0.7

-a-- AvgJitterVdoUL48
~ AvgJitterVdoUL.£

8

0.6
IL

· · · ---.ar- AvgJitterVdoULB

8

···········

c
0

0.5

0.4

0.3

.....

0.2

0.1

Jitter (mSec)

Figure 25: UL & DL Video Conferencing Jitter for 3 Load Categories of Model B

5.3 Simulation Model C
The purpose of this simulation model is to study the QoS performance of WiMAX scheduling service of ertPS and rtPS. In this model, rtPS carries VoiP traffic which is variable bit rate (VBR) traffic. ertPS is used to carry interactive video traffic which is CBR in nature 5.3.1 Simulation Parameters

Following table lists the WiMAX and WiFi parameters used for this model. It also lists the network resources reserved for each application.

55

Table 12: WiMAX & WiFi QoS Parameters for Model C No Service Scheduling Reserved Class
1
2

Max Delay

WLAN Access Category

Type
rtPS ertPS Best Effort

Bandwidth
128 kbps (32 x 4) 1536 kbps (384 x 4) 1.5 Mbps 20 msec 40 msec 250 msec

Gold Silver BE

Voice (3) Video (2) Best Effort (0)

3
5.3.2

Results and Analysis

Results and analysis for this simulation model is reported per WiMAX scheduling service for each application.

rtPS for VoiP Traffic
E2E Delay for VoiP: C (rtPS)
. : . . :0

: - e - AvgDelayYoipDL4c
· · · ·: ____.__ AvgDelayYoipDLEc : : :

; -+-- AvgOelayYoipDlBc :

· · .; -a-- AvgDelayYoipUL4c : :
: __.,.__ AvgDelayYoipULEc ;

0.2

0.1

Delay (mSec)

Figure 26: UL & DL VoiP Delay for 3 Load Categories of Model C

56

Figure 26 and Figure 27 shows the delay and jitter exhibit the same behavior as already discussed in details in Model B. This would lead to same conclusion already drawn in Model B.
E2E Jitter for VoiP: C (rtPS)

-e-- AvgJitterVoipDL4c
- - AvgJitterVoipDL.6c
-+-- AvgJitterVoipDLBc

-a-- AvgJitterVoipUL4c
~ AvgJitterVoipUL.6c

0.6
IL

u

0

0.5

0.4

0.3

0.2

0.1

0

10·1

10

4

Jitter (mSec)

Figure 27: UL & DL VoiP Jitter for 3 Load Categories of Model C ertPS for Video Conferencing Traffic

Delay values are reported in Figure 28 and exhibit the similar pattern as reported when video traffic is carried over UGS. This can be explained as follows. In ertPS, BS provides unsolicited grants which are not fixed in size. An ertPS service flow continues using its current transmission rate until there is change in traffic at the SS level. SS is allowed to make additional bandwidth request. As interactive video traffic is CBR, so there no change in traffic and ertPS in this case would be using unsolicited grants till there is traffic on the connection. So, that's why its delay response closely resembles with UGS. Figure 29 provides a snapshot of the jitter offered by ertPS service. Both uplink and downlink jitter response for each load scenario, follow the same pattern. Jitter is below 50 msec bound for 6 and 8 traffic session scenarios (50% & 100% overloading). Traffic
57

experiences jitter within 50 msec bound with 90% probability for full load scenario (4 video sessions). This behavior is also very similar to UGS jitter response. As mentioned above, due to CBR nature of video traffic ertPS jitter closely follows the UGS response. Simulation results for this model show that given the parameters of the model, both rtPS and ertPS do not meet the criteria of delay and jitter bounds.
E2E Delay for Video Conferencing: C {ertPS)

r-------,

. ..... .. . .... .. ... ... .. . . . .... .

- - & - AvgDelayVdoDL4c

.. ---- AvgDelayVdoDL..6c ........ ..... ... ... .. . --+-- AvgDelayVdoDLBc

--a- AvgDelayVdoUL4c
~ AvgDelayVdoUL..6c
--A--

AvgDelayVdoULBc

0 0

IL

0.5 ........ ... .. ... ... ····· · ······· ·

0.4

0.3

······· ···· ···· ·· ·· ······ ····· ·· ·

0.2

0.1 ...... . ................ .. ...... ... . .

250 Delay (mSec)

350

Figure 28: UL & DL Video Conferencing Delay for 3 Load Categories of Model C

58

E2E Jitter for Video Conferencing: C (ertPS)

0.9
--&--- AvgJitterVdoDL4c

0.8

··········· ·:··· ····· ··· ··· ··· ········-:-··

------ AvgJitterVdoDL6c · · · · · · · · · · · · · · ·

-+-- AvgJitterVdoDLBc
0.7
-e-AvgJitterVdoUL4c .. ... . .. . ..... .
~ AvgJitterVdoUL6c

0.6
lL

--.e.--AvgJitterVdoULBc ......... . .... .

c
0

0.5

············· ·· ·········:··················· ··· ····:·· ····· ······· ........ . .. .. .......... ...... .... .. . . . ...;.. .. ........ ....... ... ....: .... . .... ... ..... .. .. .....: ··· ···· ···· ·· ··· ······ ··

0~~~--~~--------~----------~--------~--------~--------~

0

20

40

60

80

100

120

Jitter (mSec)

Figure 29: UL & DL Video Conferencing Jitter For 3 Load Categories of Model C

5.4 Simulation Model D
The purpose of this simulation model is to study the QoS performance of WiMAX scheduling service of ertPS and rtPS. In this model, ertPS carries VoiP traffic which is variable bit rate (VBR) traffic. The rtPS is used to carry interactive video traffic which is CBR in nature 5.4.1 Simulation Parameters

Following table lists the WiMAX and WiFi parameters used for this model. It also lists the network resources reserved for each application.

59

Table 13: WiMAX & WiFi QoS Parameters for Model D No Service Class
1

Scheduling Reserved Type
ertPS rtPS Best Effort

Max Delay

WLAN Access Category

Bandwidth
128 kbps (32 x 4) 1536 kbps (384 x 4) 1.5 Mbps 20 msec 40 msec 250 msec

Gold Silver BE

Voice (3) Video (2) Best Effort (0)

2
3

5.4.2

Results and Analysis

Results and analysis for this simulation model is reported per WiMAX scheduling service for each application.

ertPS for VoiP Traffic
E2E Delay for VoiP : D (ertPS)

0.9
---e-- AvgOelayVoipDL4 0

0.8

·

·

·· · :······

·

··

·

·· ·

··

0

· ·

~.

---.-- AvgDelayVoipDL60
---+- AvgDelayVoipDLB
0

0.7

---a-- AvgDelayVoipUL4 0
---Go--l!r-

AvgDelayVoipUL60 AvgDelayVoipULB 0

0.6

.....
0 0

0.5

0.4

0.3

0.2

0.1

0 o~----~100~----~20_0_____3~00------4~00------5~00 ______ 600L-_____ 70L0----~800L---~900

Delay (mSec)

Figure 30: UL & DL VoiP Delay for 3 Load Categories of Model D

60

Figure 30 reports the delay response of ertPS service while carrying VoiP traffic. Though this response resembles to delay performance offered by UGS for similar traffic, but a close examination shows a different response when network is 100% overloaded. ertPS offers less stable delay performance than UGS with probability of offering a delay of 150 msec to be approximately 60%. And UGS provides the desired response with 75-80% probability. Figure 31 reports the jitter for this model. For full load scenario, jitter. is within 50 msec bound and for 50% overloaded scenario, it is within 50 msec with 70% probability. When network is 100% overloaded, jitter is above 50 msec. In [25], it is reported that VBR traffic under high load scenarios faces more delay in ertPS than UGS. These results show the similar findings. This can be explained as follows. When there are a large number of voice connections, the bandwidth updating in the ertPS service may not well track the change in traffic and delay is relatively high in these cases [25].
E2E Jitter for VoiP: D (ertPS)

0.9

"" ' "" ' " """ '" '''' ;.:..; " · :.:..:_· · .:...:...:...:..:...:...:...:..:...:...:...:.:...:.:: · ··~ ·oo..:..:.. oo .:...:..:, oo· · ·· · · oo· · · · ·oo

~AvgJitteNoipOL4

0

0.8

----.-- AvgJitterVo ipOL60
---+-- AvgJitterVoipOLB0

0.7

-a-- AvgJitterVoipUL4 0
~ AvgJitterVoipUL6

0 0

---e.-- AvgJitterVoipULB

0.6
IL

0

c

0.5

0.4

... .

. . . .. .... .

0.3

... . ...... .. .. ..... .

·· ··· ··· ·· ······ ·· ··· · ······· ···· ······· ·:····· ·· ········ ·· · ··· ·· ·· ..... ........... ........ ..· ... ..... ...... . ... . .... . .

0.2

0.1

100

200

300

400

500

600

Jitter (mSec)
I

Figure 31: UL & DL VoiP Jitter for 3 Load Categories of Model D

61

Video Conferencing Traffic over rtPS
E2E Delay for Video Conferencing: D (rtPS)

~ AvgDelayVdoDL4

0.9

0

---..--- AvgDelayVdoDLE 0
--+-- AvgDelayVdoDL8 0

0.8

-e-- AvgDelayVdoUL4
~ AvgDelayVdoULE

0

· ·

0

0.7

· ·· ·

--~r-AvgDelayVdoUL8

0

··

0.6
u. 0 0.5 0

..... ......... .

0.4

0.3

0.2

0.1

0~--~--~------~-------+~--+---~--------~------~------~

0

50

1DO

150

200

250

300

350

Delay (mSec)

Figure 32: UL & DL Video Conferencing Delay for 3 Load Categories of Model D Figure 32 reports the delay performance for rtPS while carrying video conferencing traffic. These results show that rtPS can experience a delay within 150 msec bound when network is fully loaded. But when the network is 50% overloaded, the uplink delay is above 150 msec bound. Same are the results when network is 100% overloaded. In model A, Figure 20 shows a different results for 50% overload scenario though in this case rtPS is carrying video conferencing traffic. This happens because in model A, VoiP traffic is carried by UGS which has fixed bandwidth grants. Even when network is overloaded, UGS grant size would not change. But in model D, VoiP traffic is being carried by ertPS which allows SS to make additional bandwidth request if traffic increase. So as network load increases, both rtPS and ertPS service flows would be requesting additional bandwidth. As ertPS is a high priority over rtPS, ertPS would be able to get additional bandwidth leaving limited resources for rtPS to request in uplink. Same trend is reported

62

for jitter performance in Figure 33, where jitter is slightly better when compared with model A. Analysis of model D shows that given the parameters of model D, both rtPS and ertPS can carry video conferencing and VoiP traffic respectively under full load conditions. Both services fail to guarantee delay and jitter for 100% overload scenario. Using ertPS for VoiP though enable network to deliver acceptable performance for 50% overload scenario but it forces the rtPS to degrade. When model A and D are compared, still model A offers a better performance as it can handle both VoiP and interactive video under 50% overload scenario.
E2E Jitter for Video Conferencing: D (rtPS)

0.9
~ AvgJitterVdoOL4

0

0.8

...... ............ ..... ..... .. .. .. .... -+-- AvgJitterVdoDL.£0 ... ... . .. .... . . . .. . . . --+-- AvgJitterVdoDLB0

0.7

- a - AvgJitterVdoUL4 0
--(>--

AvgJitterVdoUL.£ 0 · AvgJitterVdoULB0

---£r-

0.6

IL

c
0

0.5

·· ···· ······ ········ ··:···· ······· ······ ····· · .······· ········· ···· ··:· · ·· ..... ..... . ... .

0.4

0.3

0.2

0.1

20

40

60

80

100

120

140

Jitter (mSec)

Figure 33: UL & DL Video Conferencing Jitter for 3 Load Categories of Model D

5.5 Simulation Model E
Simulation model E is designed to investigate further the issue of excessive delay offered by UGS service for video traffic. Stable but high delay in model B motivates us to investigate the issue further by varying video sessions at more granular level, increasing

63

the allocated bandwidth, and varying the WLAN buffer and SS service flow uplink/downlink buffer size. During the validation testing, no significant changes in delay and jitter were observed within the WLAN segment of the network. Validation tests showed the improvement for both uplink and downlink when SS service flow uplink/downlink buffer size is decreased in WiMAX backhaul network segment. Based on validation test results, this model was constructed to simulate the network with decreased buffer size. 5.5.1 Simulation Parameters

Following table reports only additional parameters while the values of the remaining parameters are the same as reported in Table 11. Table 14: WiMAX & WiFi QoS Parameter for Model E Value SS Service Flows (U GS) Downlink Buffer SS Service Flows (UGS) Uplink Buffer 32 Kbytes 32 Kbytes

5.5.2

Results and Analysis

This model is primarily designed to investigate delay and jitter for video conferencing traffic when carried over UGS, so only related results are reported. UGS for Video Conferencing Traffic

64

E2E Delay for Video Conferencing: E (UGS)

. --e-- AvgDelayVdoDL4E

--.-- AvgDelayVdoDL..6E
---+-- AvgF elayVdoDLBE

--a- AvgDelayVdoUL4E .
~ AvgDelayVdoUL..6E

:- ---.-- AvgDelayVdoULBE

lL

0 0

0.5

0.4

0.3

0.2

0.1

80

100

120

140

160

180

200

Delay (mSec)

Figure 34: UL & DL Video Conferencing Delay for 3 Load Categories of Model E Figure 34 shows the delay performance of UGS when SS service flow uplink/downlink buffer is decreased to 32 Kbytes. Delay performance is generally improved, and when the network carries load up to its provisioned capacity both uplink and downlink delays are within 150 msec bound. For 50% overload scenario, downlink is above 150 msec for only 6.7% of the packets. An uplink delay is above 150 msec bound for 3.4% packets. For 100% overload scenario, uplink/downlink delay values are above 150 msec by 13.4% and 23.4% packets respectively. Comparing these results with Model B in Figure 24, uplink delay is always lower than downlink delay in model E. In model B, for 100% overload scenario, the network shows more uplink delay than downlink delay.

65

E2E Jitter for Video Conferencing: E (UGS)

0.9

.,

.

~ AvgJitterVdoDL4E

0.8

... .[ ... .. . .... ...... . ------+-- AvgJitterVdoDL£E ........ .. .. . . ---+-- AvgJitterVdoDLBE

- e - AvgJitterVdoUL4E
0.7
~ AvgJitterVdoUL£E
----&---

AvgJitterVdoULBE

0.6

IL

0 0

0.5

0.3

............. .

0.2

0.1

.. ...... . ..... . .. .. .

0~~--~~~~--~~------~------~--------~------~------~

0

10

20

30

40

50

60

70

Jitter (mSec)

Figure 35: UL & DL Video Conferencing Jitter for 3 Load Categories of ModelE
The jitter graph in Figure 35 reports the jitter is within the 50 msec bound. Jitter improves when the network is overloaded with the best jitter for uplink/downlink under 100% overload situation. In model B, similar pattern has emerged but the jitter is not stable with 15% probability of offering jitter above 50 msec under full load condition. Analysis of model E shows that UGS service can be used for CBR video conferencing traffic with SS service flow buffer size adjustment which improves both jitter and delay performance of the system bringing it within acceptable bounds. But when these results are compared with model A, rtPS service turns out to be a better candidate to handle CBR video conferencing traffic. This is mainly because rtPS offers better jitter and delay and also does not require the reservation of resources as required by UGS. Moreover, selection of optimal buffer size for UGS while satisfying not only jitter and delay but also packet loss and throughput would be required.

66

5.6 Simulation Model F
Simulation model F is designed to investigate further the issue of excessive delay offered by ertPS service for video traffic. Stable but high delay in model C motivated us to investigate the issue by varying video sessions at more granular level, increasing the allocated bandwidth and varying the WLAN buffer and SS service flow uplink/downlink buffer size. During the validation testing, no significant changes in delay and jitter were observed within the WLAN segment of the network. Validation tests showed the improvement for both uplink and downlink when SS service flow uplink/downlink buffer size is decreased in WiMAX backhaul network segment. Based on validation test results, this model was constructed to simulate the WiMAX backhaul network with decreased buffer size
5.6.1 Simulation Parameters

Following table reports only additional parameters while remaining parameters are the same as reported in Table 12.
Table 15: WiMAX & WiFi Simulation Parameters for Model F Value SS Service Flows (ertPS) Downlink Buffer SS Service Flows (ertPS) Uplink Buffer

32 Kbytes 32 Kbytes

5.6.2

Results and Analysis

This model is primarily designed to investigate the delay and jitter for video conferencing traffic when carried over ertPS, so only relevant results are reported.

67

E2E Delay for Video Conferencing: F (ertPS)

0.9 .... . .... .. ... . .
~ AvgOelayVdoDL4F

- - Avg0elayVdoDL.6F
-+-- AvgOelayVdoDlBF
.. · · · · · · · · · . .. . . . . . . . . . - - $ - -

--e-- Avg0elayVdoUL4F AvgDelayVdoUL.fiF ..

- - a - AvgDelayVdoUlBF

u

c

LL.

0.5

0.3

0.1

OL-+---~----~------~-4~-L------L------L~--~~----~----~

90

100

110

120

130

140

150

160

170

180

Delay (mSec)

Figure 36: UL & DL Video Conferencing Delay for 3 Load Categories of Model F

Figure 36 shows the delay performance of ertPS with modified buffer size. Under full load, uplink delay is within 150 msec bound but downlink is above 150 msec by 5% margin. In overload scenarios, delay is above 150 msec bound. For full load scenario, downlink delay is higher than uplink. For 50% overloading, uplink delay is higher than downlink and same is true for 100% overloading. When compared with model C, using default buffer size of 64 Kbytes, under 50% overload scenario, downlink delay is higher than uplink delay. Jitter stats reported in Figure 37 show that for all the scenarios, jitter performance is within the 50 msec bound. When this is compared to model C jitter performance, model E (decreased buffer size) offers a better jitter to interactive video traffic. Analysis of model F shows that ertPS service can be used for CBR video conferencing traffic with SS service flow buffer size adjustment which improves both jitter and delay performance of system bringing it within acceptable bounds. But when these results are compared with model A, rtPS service turns out to be a better candidate to handle CBR

68

video conferencing traffic. This is mainly because rtPS offers better jitter and delay and also does not require the reservation of resources as required by ertPS. Selection of optimal buffer size for ertPS while satisfying not only jitter and delay but also packet loss and throughput would be a required.
E2E Jitter for Video Conferencing: F (ertPS}

0.8

0.7

0.6
I.L

c
0

0.5

. . . . . ----e-- AvgJitterVdoDL4F
-+-- AvgJitterVdoDLEF

0.4

.. .. .. ... ..... . -+--AvgJitterVdoDLBF
~ AvgJitterVdoUL4E

---oe-- AvgJitterVdoULEF

0.3
- + - AvgJitterVdoULBF

0.2

0.1

Jitter (mSec)

Figure 37: UL & DL Video Conferencing Jitter for 3 Load Categories of Model F

69

6 Conclusions and Future Work
In this project efforts are made to find the best possible combination of WiMAX scheduling service(s) to provide backhaul for broadband Internet service in SOHO environment with required QoS for multimedia applications. Traffic in simulated network model traverses WLAN (last-mile) and WiMAX (backhaul). The delay and jitter are used to measure the QoS performance of WLAN and WiMAX networks. Both network segments carry QoS sensitive multimedia applications with additional ftp and http traffic to provide the best effort load. Network service models are designed to support QoS for two types of multimedia applications: VoiP (VBR traffic) & Interactive video conferencing (CBR traffic). QoS mechanisms studied in this project are · EDCA in last-mile IEEE 802.11 e WLAN supporting Access Categories of Video (2), Voice (3) & Best Effort (0) · UGS, rtPS, ertPS & Best Effort scheduling serv1ce 1n backhaul WiMAX network As best effort traffic is not delay and jitter sensitive, detailed analysis for Best Effort category is not provided. In WLAN, three access categories were same for all simulation models but in WiMAX different scheduling services were chosen for different simulation models. It has been observed based on simulation results that: · To carry VoiP traffic, UGS scheduling service is the best possible choice. UGS provides sustained delay and jitter performance even under 50% overloaded conditions. · To carry VoiP traffic, ertPS is the second best alternate to UGS but UGS exhibit better performance in overloaded scenarios without any additional resources. Also, ertPS would request additional bandwidth to handle overload condition thus putting additional load on sector resources but offering no better performance than UGS. · For video conferencing traffic, rtPS is the scheduling service of the choice as it delivers both jitter & delay within the bounds for up to 50% overloaded scenario.
70

· For video conferencing traffic, UGS is the second choice but it requires a careful selection of SS uplink/downlink service flow buffer size. Following limitations I issues have been observed during the simulation: · OPNET Modeler 14.5 provides measurements of delay and jitter between two IP nodes but throughput can't be measured. This would be very helpful for QoS performance studies when IP traffic traverses across hybrid networks. · In TDD mode ofWiMAX, OPNET does not support variable UL/DL boundary (default asymmetric UL/DL). As QoS sensitive applications are generally symmetric in nature, variation in UL/DL boundaries might be good option to study providing better resource utilization. · OPNET provides scalar and vector result data in csv format for further analysis but parsing utility does not parse data for IP node pairs. This leaves only the option of using GUI result browser to select individual IP nodes for data collection which is very tedious and lengthy process. · OPNET result browser does not facilitate the printing of graphical data in grayscale with proper markers. So, external applications are required for this purpose. The following list summarizes the key issues to be considered by researchers: · To investigate excessive uplink delay offered by rtPS service while carrying VBR VoiP traffic . .; To determine optimal buffer size for SS uplink/downlink service flows if UGS is to be used for CBR video conferencing traffic.
· It is better to write a parsing program in C/C+ to extract required data from .csv

result file which is very large in size (150 MBytes approx. per simulation run) rather than using GUI result browser. The contributions can be summarized as follows: · Analyzed and found best possible WiMAX service for VBR and CBR multimedia applications providing acceptable QoS.

71

· Found limitations in OPNET simulator, which will help researchers in future. This simulation study can be further extended by using parameterized QoS (using HCCA) in last-mile WLAN. Also, when variable UL/DL resources allocation in TDD mode of WiMAX PMP is supported in OPNET, a study can be performed by allocating more resources for UL to support symmetric multimedia applications.

72

References
[1] Daqing Gu and Jinyun Zhang, "QoS Enhancement in IEEE 802.11 Wireless Local Area
Networks", IEEE Communications Magazine, Volume 41, Issue 6, June 2003, pp. 120-

124 [2] Qiang Ni, Vinel, et al, "Investigation of Bandwidth Request Mechanisms under Pointto-Multipoint Mode of WiMAX Networks", IEEE Communications Magazine, Volume

45, Issue 5, May 2007, pp. 132- 138 [3] Xiaofeng Bai, Shami A, et al, "Robust QoS Control for Single Carrier PMP Mode
IEEE 802.16 Systems", IEEE Mobile Computing Transactions, Volume 7, Issue 4,

April2008, pp. 416-429 [4] Eklund C, Marks R. B, et al, "IEEE standard 802.16: a technical overview of the
Wireless MANTM air interface for broadband wireless access", IEEE Communications

Magazine, Volume 40, Issue 6, June 2002, pp. 98 - 107 [5] Jeffrey G. Andrews, Arunabha Ghosh, et al, "Fundamentals of WiMAX: Understanding
Broadband Wireless Networking", Publisher: Prentice Hall (February 27, 2007), ISBNI 0: 0-13-222552-2

[6] "Wi.MAXTM System Evaluation Methodology v2.1 ", http://www.wimaxforum.org, last accessed 06-August-2008 [7] Gozalvez D, Monserrat J. F, et al, "Policy-based channel access mechanism selection
for QoS provision in IEEE 802.11e", IEEE Vehicular Technology Magazine, Volume

2, Issue 3, Sept. 2007, pp. 29- 34 [8] Daqing Gu, Jinyun Zhang, "QoS enhancement in IEEE 802.11 wireless local area
networks", IEEE Communications Magazine, Volume 41, Issue 6, June 2003 pp. 120-

124 [9] Deyun Gao, Jianfei Cai, et al, "Admission control in IEEE 802.11 e wireless LANs ", IEEE Network, Volume 19, Issue 4, July-Aug. 2005, pp. 6- 13

73

[10] Ramos N., Panigrahi D., et al, "Quality of service provisioning in 802.11e networks: challenges, approaches, and future directions", IEEE Network, Volume 19, Issue 4, July-Aug. 2005, pp. 14- 20 [11] Qiang Ni, "Performance analysis and enhancements for IEEE 802.11 e wireless networks", IEEE Network, Volume 19, Issue 4, July-Aug. 2005, pp. 21-27 [12] Hua Zhu, Ming Li, et al, "A survey of quality of service in IEEE 802.11 networks", IEEE Wireless Communications, Volume 11, Issue 4, Aug. 2004, pp. 6- 14 [13] Qiang Ni, et al, ''A Survey of QoS Enhancement for IEEE 802.11 Wireless LAN", Journal of Wireless Communications and Mobile Computing, Wiley. 2004: Volume 4, Issue 5, pp.547-566 [ 14] IEEE Std 802.11 TM-2007 (Revision of IEEE Std 802.11-1999), " IEEE Standard for Information Technology - Telecommunications and information exchange between systems - Local and metropolitan area networks - Specific requirements, Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY)

Specifications", Approved March 8, 2007 [15] "Wi-Fi CERTIFIEDTM Voice-Personal: Delivering the Best End-User Experience for Voice over Wi-Fi ", http://www.wi-fi.org, last accessed 01-September-2008 [16] IEEE Std 802.16eTM-2005 and IEEE Std 802.16TM-2004/Corl-2005 (Amendment and Corrigendum to IEEE Std 802.16-2004) - Part 16: Air Interface for Fixed Broadband Wireless Access Systems-Physical and Medium Access Control Layers for Combined Fixed and Mobile Operation in Licensed Bands. February 28, 2006 [17] Iyer P, Natarajan N, et al, "All-IP network architecture for mobile WiMAX", IEEE Mobile WiMAX Symposium March 25-29 2007, pp. 54- 59 [ 18] Bo Li, Yang Qin, et al, "A Survey on Mobile WiMAX" , IEEE Communications Magazine, Volume 45, Issue 12, December 2007, pp. 70-75 [19] Cicconetti C, Lenzini L, et al, "Quality of service support in IEEE 802.16 networks", IEEE Network, Volume 20, Issue 2, March-April 2006, pp. 50- 55

74

[20] Cicconetti C, Erta A, et al, "Performance Evaluation of the IEEE 802.16 MAC for QoS Support", IEEE Transactions on Mobile Computing, Volume 6, Issue 1, Jan. 2007, pp. 26-38 [21] "Overview of OPNET Solutions for Network R&D: Solution Overviews",

http://www.opnet.com, last accessed 0 1-0ctober-2008 [22] "Introduction to using OPNET Modeler", http://www.opnet.com, last accessed 010ctober-2008 [23] "Understanding WiMAX Model Internals and Interfaces", http://www.opnet.com, last accessed 0 1-0ctober-2008 [24] "Understanding Wireless LAN Model Internals and Interfaces",

http://www.opnet.com, last accessed 0 1-0ctober-2008 [25] Dongmei Zhao, Xuemin Shen, "Performance of Packet Voice Transmission using

IEEE 802.16 Protocol", IEEE Wireless Communications, Volume 14, Issue 1, Feb. 2007, pp. 44- 51 [26] The Network Simulator-ns-2, http://www.isi.edu/nsnam/ns/, last accessed 10-April2008 [27] NIST Seamless and Secure Mobility, http://www.antd.nist.gov/seamlessandsecure/, last accessed 12-April-2008 [28] NDSL WiMAX Module for ns2 Simulator, http://ndsl.csie.cgu.edu.tw/wimax_ns2.php, last accessed 12-April-2008 [29] Thomas Bohnert, Jakub Jakubiak, et al, "On Evaluating a WiMAX Access Network for Isolated Research and Data Networks Using NS-2 ", Proceedings of the 7th International Conference on Next Generation Teletraffic and Wired/Wireless Advanced Networking, Publisher: Springer-Verlag Berlin Heidelberg (September, 2007), ISBN 978-3-540-74832-8 [30] Freitag J, da Fonseca Nelson, "WiMAX Module for the ns-2 Simulator", IEEE 18th International Symposium on Personal, Indoor and Mobile Radio Communications 2007, September 3-7, 2007, pp. 1 - 6

75

