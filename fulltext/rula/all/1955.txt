N U M ERICA L M O D ELIN G O F FAT EM BOLISM SYNDROME FO R A KNEE REPLA CEM EN T OPERA TIO N

By Omar Al-Amin Gaber, B.Eng Ryerson University, 2005

A thesis presented to Ryerson University

in partial fulfillment o f the requirements for the degree of Master of Applied Science In the program of Mechanical Engineering

Toronto, Ontario, Canada, 2005 Omar A. Gaber 2005 ©

PROPERTY OF RYERSen tMVKMGITY LIBRARY

UMI Number: EC53019

All rights re s e rv e d INFORMATION TO USERS

The quality of this reproduction is d ep en d en t upon the quality of the copy subm itted. Broken or indistinct print, colored or poor quality illustrations and photographs, print bleed-through, substandard margins, and im proper alignm ent can adversely affect reproduction. In the unlikely event that the author did not sen d a com plete m anuscript and there a re m issing p ag es, th e s e will be noted. Also, if unauthorized copyright material had to be rem oved, a note will indicate the deletion.

UMÏ
UMI Microform EC53019 Copyright 2008 by ProQ uest LLC All rights reserved. This microform edition is protected ag ain st unauthorized copying under Title 17, United S ta te s C ode. P roQ uest LLC 789 E ast E isenhow er Parkw ay P.O. Box 1346 Ann Arbor, Ml 48106-1346

AUTHOR'S DECLARATION

I hereby declare that I am the sole author of this thesis

I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose o f scholarly research.

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. _____

1 1

BORROWER'S PAGE

Ryerson University requires the signatures o f all persons using or photocopying this thesis. Please sign below and give the address and date.

ui

ABSTRACT

Numerical Modeling of Fat Embolism syndrome for a Knee Replacement Operation

Master of Applied Science, Mechanical Engineering, 2005, Omar A. Gaber

School of Graduate Studies, Ryerson University

Knee replacement operations usually involve reaming the intramedullary canal o f the femur bone and the insertion of an intramedullary device (e.g., nail or stem). The effect of reaming velocity on the pressure distribution within the bone was investigated numerically by solving the full three-dimensional momentum, equations together with the continuity equation, using the finite element technique. Viscosity was also varied to obtain a pressure envelope. It was found that all the experimental data follow the same trends as the envelopes predicted by the finite element model. It was clear that an

increase in either the insertion reaming rate or the viscosity resulted in an increase in pressure in the intramedullary canal. Furthermore, the effect of hammering an The permeability was varied in order to

intramedullary nail/stem was also studied.

establish a pressure envelope. It was found that all experimental data follow the same trend obtained by the numerical model.

IV

AKNOWLEDGEMENTS I would like to extend my thanks and appreciation to Professor. Ziad Saghir for his watchful eyes and guiding hands. Without his guidance and suggestions the The help o f my two co

completion o f this thesis would not have been possible.

supervisors Dr. Marcello Papini and Dr. Kamran Behdinan from Ryerson University and Dr. Paul Zalzal from Mt. Sinai Hospital and Dr. Justin De Beers from Henderson Hospital was also invaluable. I would also like to acknowledge my father Mr. Al-Amin Gaber, m y mother Ghazala Qureshey, my grandmother Anwer Begum, my uncles Taha Qureshey, Muddaser Qureshey and Kiffah Qureshey, my siblings, Amani Gaber, Hani Gaber and Dina Gaber for their moral support and their enthusiasm for the completion o f this thesis. I also would like to acknowledge the useful suggestions of my colleagues, and now good friends, Daniel Dobqanski, Paul Saadetian, Clair Y an, Azar Hojabr and Jon Bahen. Last but not least, I would like to thank my good friend Kashif Rashid for his immense help.

TABLE OF CONTENTS AUTHOR'S DECLARATION................................................................................................ü ABSTRACT............................................................................................................................. iv AKNOWLEDGEMENTS........................................................................................................ v TABLE OF CONTENTS........................................................................................................ vi LIST OF FIGURES................................................................................................................ vii LIST OF TABLES...................................................................................................................ix NOMENCLATURE..................................................................................................................x CHAPTER 1: INTRODUCTION............................................................................................ 1 1.1 Literature review:............................................................................................................1 1.2 Model Description.......................................................................................................... 6 CHAPTER 2: GOVERNING EQUATIONS AND NUMERICAL SOLUTIONS.............9 2.1 Momentum Equations.................................................................................................... 9 2.2 Continuity Equation..................................................................................................... 10 2.3 Dimension Analysis..................................................................................................... 10 2.4 Dimensionless Momentum Equations......................................................................... 11 2.5 Dimensionless Continuity Equation............................................................................ 11 2.6 Boundary Conditions.................................................................................................... 11 2.7 Solution Technique...................................................................................................... 12 2.8 Finite Element Method................................................................................................. 14 2.9 Mesh Sensitivity............................................................................................................15 CHAPTER 3: COMPARISON WITH EXPERIMENTAL RESULTS OBTAINED FROM LITERATURE............................................................................................................17 3.1 Introduction................................................................................................................... 17 3.2 Results and Discussions............................................................................................... 18 Case 1: Insertion with 9 mm Reamer ............................................................................ 18 Case 2: Insertion with 10 mm Reamer ..........................................................................21 3.3 Conclusions...................................................................................................................23 4.1 Model Description........................................................................................................ 25 4.2 Experiments...................................................................................................................28 4.3 Discussion.....................................................................................................................30 CHAPTER 5: PERMEABILITY STUDIES AND APPROXIMATIONS........................ 38 5.1 Introduction...................................................................................................................38 5.2 Darcy's Law ..................................................................................................................38 5.3 Limitations of Darcy's L aw ...................................................................................... 3 9 5.4 Forchheimer's Equation (Quadratic Drag)................................................................. 3 9 5.5 Brinkman's Equation........ .......................................................................................... 40 5.6 Test Cases in FIDAP Using Both Approximations................................................... 41 5.7 Conclusion:....................................................................................................................46 CHAPTER 6 : FUTURE WORK.......................................................................................... '4 7 APPENDIX A ......................................................................................................................... 51 APPENDIX B ........................................................................................................................ ..

VI

LIST OF FIGURES Figure 1: Numerical model of the femur as well as the femur profile [26].......................... 6 Figure 2: Hexahedral elements mapped in Gambit............................................................... 15 Figure 3: Percentage error for the average pressure values within the compact Bone vs. the number of axial nodes................................................................................................ 16 Figure 4; Pressure distribution vs. the 9-mm reamer position for different reamer insertion rates for an assumed viscosity of 0.22 Pa. s ....................................................19 Figure 5: Pressure distribution vs. the 9-mm reamer position for varying marrow viscosities, for an insertion rate of 2.58 cm/s................................................................ 2 0 Figure 6 : Pressure distribution at the compact bone-medullar interface while the 9 mm reamer advances in time for a viscosity of 0.22 Pa.s and insertion rate of 2.58 cm/s
21

Figure 7: Pressure distribution for the 10-mm reamer for varying Albumin viscosities for an insertion rate of 2.58 cm/s.......................................................................................... 22 Figure 8 : Pressure distribution at the compact bone-medullary interface while the..........23 Figure 9: Experimental and numerical model of the cylinder [28]..................................... 25 Figure 10: Experimental and numerical displacement profiles [28]................................... 26 Figure 11 : Numerical velocity profile. [28]...........................................................................27 Figure 12: Experimental apparatus set-up [29]......................................................................30 Figure 13: Experimental and numerical maximum pressure values [29]............................31 Figure 14: Acceleration of the Implant vs. T im e.................................................................. 32 Figure 15: Pressure vs. location along the centre axis of the cylinder while implant is accelerating........................................................................................................................ 33 Figure 16: Pressure vs. location along the centre axis of the cylinder while implant is decelerating....................................................................................................................... 34 Figure 17: Pressure vs. time at transducer two for a range of permeability........................35 Figure 18: Pressure vs. time at transducer three for a range of permeability..................... 35 Figure 19: Pressure vs. time at transducer four for a range of permeability...................... 36 Figure 20: Maximum pressure using different permeability vs. transducer num ber 37 Figure 21 : The transition from the Darcy regime to the Forchheimer regime in a unidirectional flow through an isothermal saturated porous medium [30]................40 Figure 22: Error in simulation vs. time for each transducer location using the Darcy and the Forchheimer approximations.................................................................................... 42 Figure 23: Speed contours at t = 0.005 s using the Darcy and Forchheimer approximations. Minimum contour is displayed with AZ = 3.75 x 10"^m / 5 ......... 43 Figure 24: Speed contours at t = 0.05 s using the Darcy and Forchheimer approximations. Minimum contour is displayed with AZ = 2.41x10 ' ^/ »/ s ..........................................43 Figure 25: Speed contours at t = 0.10 s using the Darcy and Forchheimer approximations. Minimum contour is displayed with AZ = 4 . 2 5 s ..........................................44 Figure 26: Pressure contours at t - 0.005 s using the Darcy and Forchheimer approximations.Minimum contour is displayed with AP = 57 mmHg .................... 45 Figure 27: Pressure contours at t = 0.05 s using the Darcy and Forchheimer approximations.Minimum contour is displayed with AP = 410 m m H g .................. 45

Vll

Figure 28: Pressure contours at t = 0.10 s using the Darcy and Forchheimer approximations. Minimum contour is displayed with AP = 2 m m H g ..................... 46

Vlll

LIST OF TABLES Table 1: Physical properties o f different sections o f the fem ur............................................. 7 Table 2: Physical properties o f the materials used in the experiment................................. 29 Table 3: Experimental and numerical comparison o f pressure results at each transducer. ............................................................................................................................................. 31

IX

NOMENCLATURE

The definition o f symbols will be done in alphabetical order:

a c
Cf Cp

Darcy coefficient Inertia coefficient Friction coefficient Specific heat [J/kg.K] Darcy number Body force [N]

Da

g k L P P Pr r R Re t u Ur Ur ue Ue U z Uz U o
V

Gravitational force [m/s^] Thermal conductivity [W/mK] Reference length (diameter) [m] Pressure[Pa] Dimensionless pressure Prandtl number (ratio of momentum and thermal diffusivities) Radial direction (Radial System) [m] Dimensionless radial direction (Radial System) [m] Reynolds number (ratio of inertia to viscous forces) Time [s] Velocity in the x direction [m/s] Velocity in the r direction (Radial System) [m/s] Dimensionless velocity in the r direction (Radial System) Velocity in the
6

direction (Radial System)

Dimensionless velocity in the 0 direction (Radial System) Velocity in the z direction (Radial System) [m/s] Dimensionless velocity in the z direction (Radial System) Reference velocity in axial direction [m/s] Velocity in the y direction (Cartesian System) [m/s] Velocity in the z direction (Cartesian System) [m/s] Dimensionless velocity in the x direction (Cartesian System)

w

u

X

V ; Dimensionless velocity in the y direction (Cartesian System) W : Dimensionless velocity z direction (Cartesian System) z Z
Z

: Axial direction [m] : Dimensionless axial direction (Radial System) : Speed which is equivalent to Vu^+v^+w^ [m/s]

Greek symbols

Ç 0

: Velocity convergence tolerance : Angular Direction : Permeability in the x direction [m^]

Ky : Permeability in the y direction [m^] : Permeability in the z direction [m^] : Permeability in the r direction [m^] Kg : Permeability in the 0 direction [m^] p p p : Viscosity [Pa.s] : Effective viscosity [Pa.s] : Density [kg/m^]

(p : Porosity T ; Dimensionless time

XI

CHAPTER 1: INTRODUCTION

1.1 Literature review: Fat Embolus Syndrome (FES) is related to the extrusion of the marrow into the venous system due to the increase o f intramedullary pressure from reaming the intramedullary canal, or the insertion of an intramedullary device. It develops in 0.5-2 % of all patients with long bone fractures and has been associated with high morbidity and mortality [1]. It is commonly accepted that there are three main factors contributing to the increased intramedullary pressure and embolisation of fat and marrow contents when performing orthopaedic procedures which breach the intramedullary canal: (i) the presence of a fracture, (ii) the speed of reamer penetration, and (iii) the design o f the reamer [2 ]. As mentioned above, FES may be associated with reaming of, or insertion o f any device into, the intramedullary canal. For example, intramedullary nailing is a commonly accepted method of femoral fracture fixation that has enjoyed considerable success. A possible complication, however, is the risk of bone marrow fat embolism caused by the increased intramedullary pressure during both the reaming of the intramedullary canal, and the actual insertion of the intramedullary device into the canal. Another example is total knee replacement surgery, in which an intramedullary rod is often temporarily inserted in the femoral and/or tibial canal to act as a guide for making the required bone cuts to align and accommodate the prosthesis. In total hip replacement surgery, insertion o f the stemmed femoral component into the proximal femoral canal usually requires prior reaming of the canal.

The contents of the intramedullary canal mainly consist of a highly viscous medullary fat permeated by numerous arterial and venous blood vessels. When the

reamer or the hip implant is inserted, the volume of the canal decreases and, as a result, the intramedullary contents may exit the bone. While reaming the canal to prepare for device insertion, the longitudinal flutes of the reamers quickly get filled by bone debris, transforming the reamer into a hydraulic pump. This results in a high intramedullary pressure. A number of suggestions have been made in an attempt to reduce this intramedullary pressure, such as avoiding reaming altogether, the design of reamers with deeper flutes, or the use of an irrigation suction technique. O f these suggestions, only the last has been tested and proven [3]. According to some investigators, when the intramedullary pressure greatly exceeds the value o f the mean blood pressure (25 mmHg), fat ejection is inevitable [3]. Others claim that the level above which fat ejection occurs is at 800-1000 mmHg [2]. It has also heen shown that if the reaming temperature exceeds 44.6 °C, cell enzymes are damaged and the bone healing process is negatively influenced [2 ]. To better understand the effects of pressure in the intramedullary cannel many experiments have been performed. Tronzo et al. [4] concluded that marrow embolisation was related to the pressure in the femoral canal. This conclusion was drawn from the fact that during the insertion of a cemented prosthesis into the femur, the pressure increased to over 300 mmHg. This showed that FES could be a direct cause of total knee arthroplasty and total hip arthroplasty procedures. T. Inadome et al. [5] found that the mean pressure during the insertion o f a cemented stem was 3190.6 mmHg but, when the implant was inserted without cement.

the pressure was only 125.8 mmHg. This means that certain measures should be taken during the insertion of the stem. Many attempts have been made to reduce the pressure built up within the bone. It has been shown that a venting hole in the cortex has the ability to reduce the intramedullary pressure in the femoral canal [6 ]. The venting hole has been proven to be impractical in clinical trials. This is due to the fact that bone debris and fatty marrow block the hole preventing pressure release [7]. Research on venting holes led to the development of the bone-vacuum cemented technique. This technique has greatly

reduced the intramedullary pressure during a total hip arthroplasty. The most optimal procedure for the total knee arthroplasty was studied by M.D. Ries et al. [8 ]. His studies showed that slow insertion and use of a fluted rod (rather than a round one) would greatly reduce the intramedullary pressure in the femoral canal. This was due to the fact that marrow was able to travel along the channels of the rod. The transport of viscous fluid through porous media is a problem that has a wide range of applications in many engineering disciplines. D. R. Graham et al. [9] have investigated the effect of a non-zero inertial force on a steady flow in porous media and the resulting flow characteristics arising from the changes in both the strength o f the inertial terms and the geometry of the medium. This was done by solving the steady state Navier Stokes equations using the Garerkin finite element method to determine the velocity fields for a simple two-dimensional model of porous media. It was demonstrated that inertial effects lead to anisotropy in the effective permeability, with the direction of minimum resistance dependent on the solid volume fraction.

Singh and Mohanty [10] have developed a model to simulate a two-phase flow in three dimensional porous media. The boundary conditions were set according to the pressure fields within the porous medium that were solved by applying mass conservation at each node o f the model. The model showed that high flow rates, relative to

permeability, assume a linear dependence on saturation. Bemsdorf et al. [11] used a three dimensional numerical model using the tomography technique in order to study the origins of pressure drop in porous media flow. It is shown that the elongation and the contraction o f fluid elements are important factors for the pressure loss in porous media. It is also shown that a significant error is incurred if shear forces are only taken into account. Baca et al. [12] have devised a new finite element method to solve variably saturated porous media. This method is now known as the mixed transform finite

element method. This method uses an iterative finite element algorithm that was devised from the Newton-Galerkin weak statement. This method has shown superiority when solving for flow in a broad range of soil moisture regimes. The finite element method was also used by Sun et al. when an explicit finite element method for numerically solving a dual phase, immiscible, incompressible flow in a porous medium in two space dimensions was analyzed. A mixed element method was used to approximate the velocity and pressure. This method was shown to converge to an exact solution [13]. A numerical scheme was devised by Holstad [14] in an attempt to show fluid velocity conservation, pressure and temperature fields in a porous medium. The primal-

dual mixed finite element method was used to calculate the velocity and pressure. The author showed that the numerical simulation matched experimental results. A stabilized finite element method was presented by Juanes [15]. It was used for the solution of a multiphase flow in porous media based on a multi-scale decomposition of pressures and fluid saturations into resolved scales and unresolved scales. When the results are compared with the classical Galerkin method, it showed consistency and high accuracy on very coarse grids. Afif and Amaziane [16] developed a mixed finite element method that is combined with a finite volume scheme to approximate incompressible flow in heterogeneous porous media. A series of numerical examples demonstrated the

effectiveness of the methodology for a coupled system which includes an elliptic equation and a nonlinear degenerate diffusion-convection equation arising in modeling of flow and transport in porous media. There have been very few attempts at numerically modeling fluid flow in bones. One notable exception is the work of Dunne and Orr [17] who created a computer model to describe cement flow in the intramedullary canal. They started by modeling a simple parallel cylinder, then moved to a tapered conical mandrel and finally an actual femoral prosthesis. The authors were able to obtain the pressure gradient within the bone, and it was predicted that the maximum pressure was in the range of 10-160 kPa (75-1200 mmHg). In the present study, an attempt is made to model intramedullary reaming and insertion by using the finite element approach. Initially, the geometrical model is

described, and the governing equations and their corresponding boundary conditions are

presented. The solution technique and the mesh sensitivity are then explained.

Two

different reamer sizes were modeled, and the results are compared with experimental data from the literature. 1.2 M odel D escription For simplicity, 35 cm long co-axial cylinders, having an outer diameter o f 32-mm, are used in the numerical simulation (see Figure 1). The inner diameter is changed

between 9 and 10 mm according to the type o f reamer used. The tip of the inner cylinder surface is defined in such a way that it moved with time in order to simulate the tip o f the reamer advancing through the bone marrow cavity.

Cancellous (spongy) bone Compact bone Mednllaiy
35cm Cavity

Compact bone -- Medullaiy Cavity

Cancellous /jmsxsmsy^ (spongy) bone

^
--  ! 3.2 cm --

Figure 1: Numerical model of the femur as well as the femur profile [26]

In order to accurately simulate the reaming process, a good understanding o f the properties of bone and bone marrow is required. One important parameter governing the fat ejection from the bone is the bone porosity, which can vary widely depending on patient age and sex. Assuming a linear isotropic description of cortical bone as a two

level porous medium, it has been found that an average bone is 5% porous [18], and that the bone permeability,
k

, at 5% porosity is equal to 2.2 x 10"^mm / Ns [19]. However, as

mentioned previously, bone can have a very wide range of structural and mechanical properties. Using the theoretical relationship described in reference [19], poro-elastic parameters can also be derived for other bone types, by using their specific experimental data sets. Increased intramedullary pressure may also be related to the marrow viscosity. Bovine marrow characteristics resemble those of humans and have therefore been commonly used in biomechanical and numerical studies [24]. Experimentally measured values for bovines are found to be in the range of 0.04-0.40 Pa.s [20]. It was also found that bone and bone marrow have similar densities and specific heat properties. These values are specified as 1810 kg/m^ and 1256 J/kg.K respectively [26]. Biyikli et al. [23] measured the thermal conductivity of human femora, which ranges from 0.26-0.34 W /(mK)for fresh specimens and from 0.16 - 0.24 W/(mK) for dry specimens. material properties used in the present study are summarized in Table 1. Table 1: Physical properties of different sections of the femur Physical properties of Physical properties of Compact Bone section___________________Medullary section____________ Symbol___________ Value________________ Symbol Value 9 0.05 (p 0.95 K x.y.z 3x10-® -16x10"'m^ 3x10"' - 16x10"' m^ p 1810 kg/m^ p 1810 kg/m^ The

Finally, it is important to note that, in the present study, it is assumed that the insertion/reaming process is isothermal, so the energy equation is omitted from the calculation. Pressure is thus assumed to be the only driving force in the model.

CHAPTER 2: GOVERNING EQUATIONS AND NUMERICAL SOLUTIONS 2.1 Momentum Equations The three-dimensional differential equations of fluid flow through a porous medium for a laminar, transient, incompressible, Newtonian flow can be written as follows; r-Component P (p dt 0-Component: P ^ 0 + (p d\. z-Component p
6t 1

dp

-

d i r a r u .'l dr r dr

a 'u . r" Ô0 '
1

2 düQ 8 u^ +'-- - + Pg r" æ d if

( 1)

U p--

ôp -

d \ f ôrug
+ 
+

^+-

5r rV dr

(2)

/

\

1 6 ^Uz 6 p - ' l d ^r6 Uz ^ u =-- +u + dz r dr t 6 r J r" 60"
-

6z

(3)

Where r is the bone radius, p is the density in kg/m^ and

k

is the bone permeability in m^.

Equations (1) to (3) describe the momentum equation for the fluid flow in a porous medium, where Ur, ue and uz represent the fluid velocity in the radial (r), angular (0 ) and axial (z) direction, respectively. Finally, p represents the viscosity of the fluid within the pores. The Forchheimer term was eliminated from the r-component equations due to the fact that the flow in the pores is reasonably slow and constitutes a "seepage flow". This renders the Darcy approximation valid and sufficient. investigated in Chapter 5. This fact will be further

2.2 Continuity Equation In numerical modeling, the continuity equation must also be satisfied.

Since the flow is incompressible, the term that specifies the change o f density with time was eliminated. 2.3 Dimension Analysis In order to better understand the results, equations (1) to (4) have been converted to a dimensionless form. This helps in choosing relevant data and assists in presenting the data in a suitable way. The dimensionless variables used in the momentum and

continuity equations are as follows: R = f , Z = f . U , = ^ , ^ ^ , U , = ^ . U . = i . P = i , R e = £ H ^ .a = i, L L Uo L Uq Uo puo K p D a=^. (5)

where

, v = --, L is the characteristic length of the cylindrical bone P

representation, Ug is the characteristic velocity adopted for non-dimensional calculations, t is the time in seconds. Re is the Reynolds number, and Da is the Darcy number. Ur, Ue and Uz represent the dimensionless fluid velocities in the radial (r), angular (9) and axial (z) directions, respectively. Finally, p represents the pressure. The non-dimensional

variable a is defined as the ratio of the fluid viscosity to the effective viscosity and x is the dimensionless time. Appendix A. Steps for this non-dimensionalizing process are shown in

10

2.4 Dimensionless Momentum Equations The three-dimensional differential equations of fluid flow through a porous medium for a laminar, transient, incompressible, Newtonian flow can be written in dimensionless form as follows: R-Component dP ÔR 1 d a RdR I
1 2

+
j

+ Re

(p ÔT

Da

dO^

R^ de

(6)

0-Component: Re at/« Ç ? ÔT
1

Da

1 dP R dG

1 d a RdR I

1 a V , _ 2 dU, 4- , R^ dG J R^ d$^

az"

(7)

Z-Component

R eau,
(p dz

-- u, = -- + -

1 Da

ap 1 1 a
a R aR l aR

az

1 a'U z a"u, -H . , V- + ^ az' R" ae'

(8)

2.5 Dimensionless Continuity Equation

1 au« 1 a (RU,)+ RaR' R ae

au. az

0

(9)

2.6 Boundary Conditions The predictions of the present model will be compared to the results of Johnson et al [27], who monitored the pressure distribution within a femur during intramedullary reaming. In those experiments, a frozen cadaver femur was cleaned of all flesh and

instrumented with pressure taps mounted at mid-shaft. Initially, the bone was breached with a guide wire. A 9-mm reamer was then used to make the initial cavity. The reaming speed was 2.58 cm/s ( ± 0.6 cm /s). Since there was no living tissue surrounding the bone, the cavity stayed empty after the initial ream. In reality, the cavity would fill up with

11

blood and fat instantaneously.

This was simulated by refilling the bone cavity with

Albumin. The second reaming was done using a 10-mm reamer. Pressure values were obtained for both reaming cases and were plotted. The boundary conditions used in the modeling were chosen to simulate experiments performed by Johnson et al. [27], wherein Teflon was wrapped around the bone to prevent escape of intramedullary canal contents and to maintain a constant temperature o f 37*^0 (thus maintaining the assumption that the process was isothermal, and that the energy equation could be omitted for the sake of simplicity): · Velocity was specified as zero at the surface of the outer cylinder, as well as the top and bottom of the outer cylinder and the top of the inner cylinder. Therefore, no fluid could escape through the side walls or the top and bottom o f both cylinders:
U r - 0, Ue=0, Uz= 0

at r = 1.6 cm and at z = =0 and 35 cm.

(10)

·

At the tip o f the inner cylinder, the surface velocity is set to be equal to the insertion rate to mimic the movement of the reamer as it advances at a constant velocity. Uz = insertion velocity ( 11)

2.7 Solution Technique FIDAP is a general-purpose software package for the simulation of

incompressible or compressible flows.

FIDAP offers complete mesh flexibility and

robust calculations. FIDAP's capabilities include fluid flow, heat and free surface modeling. FIDAP has the capacity to perform all steps of a fluid flow simulation which include model building, mesh generation, data input, solution, and post processing.

12

FIDAP uses the Finite Element method to solve its problems. When three-dimensional meshes are needed, they are usually exported for different Fluent software called Gambit. Gambit is used to generate detailed meshes for complicated geometries. When setting up the problem, care was exercised when specifying the allowable errors for the solution convergence. Too large of an error allowance would result in false convergence, and too small of an allowable error would result in either a very lengthy calculation time or no convergence at all. The two main errors that the finite element program took into consideration were the velocity convergence tolerance and the residual vector convergence tolerance. equation: ( 12) The velocity convergence tolerance is defined by the

where <!^is the solution velocity vector. The error for this case was specified as 1x10 ^. The residual error on the other hand is defined as: R, Rr <R.

(13)

where R is the residual force vector defined as: R = F-ma (14)

The error for this case was also specified to be l x l O " \ The norm || || is a root mean square norm summed over all the equations for the model.

13

2.8 Finite Element Method

The finite element method is a method for solving partial differential equations (PDEs). Generally, PDE will contain a function u (x ) defined for all x in the domain, with respect to some given boundary conditions. The finite element method is used to determine an approximation to the fu n ctio n u (x ). The method requires the discretisation o f the domain into sub-regions or cells. A two-dimensional domain can be divided and approximated by a set of triangles (the cells). On each cell, the function is approximated by a characteristic form, and u( x) can be approximated by a linear function on each triangle. The method is applicable to a wide range of physical and engineering problems, provided they it can be expressed as PDEs.

The non-linear PDE equations (1) to (4) were solved simultaneously using the segregate solver. An eight nodes, a hexahedral element was used for this simulation,

where four unknowns (radial velocity, angular velocity, axial velocity and pressure) were evaluated for each element, as shown in Figure 2.

14

Figure 2: Hexahedral elements mapped in Gambit The use of a hexahedral element with eight nodes and four unknowns is found to be sufficient because, in this case, only four unknowns are to be calculated. Three

velocity components and pressure are the only parameters needed for this simulation. Furthermore, it was found that a hexahedral element mesh would result in a smoother and faster transient simulation. 2.9 Mesh Sensitivity To ensure the accuracy of the finite element solution, mesh sensitivity was performed. Mesh sensitivity is used to reduce the number of elements and nodes in the

mesh while maintaining accurate results. This is done to minimize computational time and memory usage, while keeping a relatively accurate solution. Initially, a large number of circumferential nodes was assigned and the number of axial nodes was varied. Since a transient model was developed, the average pressure within the bone was compared at three different times, 0.68 s, 3.39 s and 6.80 s, which represent the initial, middle and

15

final time steps. As the node number was increased, the error in the average pressure in between mesh sizes was computed. When the percentage error of the average pressure values between successively finer meshes was less than 5%, the second to last mesh was deemed sufficiently fine. In this case, a 30x 30 mesh was found to be optimal. Figure 3 represents the results of the mesh sensitivity used in the analysis. First, the radial mesh sensitivity was conducted in this manner, and then the procedure was repeated for the axial mesh to arrive at an optimized mesh.

P ercentage Error in Average Pressure Values Vs. Number of N odes
100

2.04E+06 1.45Ë+06 i.34E+06 1.27E+06 1 22E+06

1.71E+06 i'25E+06 1.18E+06 1.15E+06 1.14Em6

1.75E+06 1.40E+06 i^34E+06 i.31E+06 1.30E+06
-1=0.68 s -1=3.39 8

-1 = 6.008

20

25

Number of Axial Nodes

Figure 3: Percentage error for the average pressure values within the compact Bone vs. the number of axial nodes.

16

CHAPTER 3: COMPARISON WITH EXPERIMENTAL RESULTS OBTAINED FROM LITERATURE 3.1 Introduction The experiments conducted by Johnson et al. [27] involved a cadaver bone, whose exact dimensions and shape were, unfortunately, not reported. As a first

approximation, the experiments were simulated using the concentric cylinder setup described in Figure 1. Figure 1 also shows the location of the compact bone layer, as well as the intramedullary section in the femur. The inner diameter of the cylinder (mimicking the intramedullar section) was adjusted for each reamer size for a tight sealed fit. Teflon was wrapped around the bone in the experiments, so that no fluid was allowed to escape through the pores of the bone, a condition reflected in the choice of the zero velocity boundary condition on the outer surface of the cylinder. Because the exterior surface of the femur (so called compact bone) is porous, a fluid wets the surface. Knowing the physical properties (e.g., viscosity) of this fluid is important in the determination of the pressures at different locations. This information was missing from the published paper by Johnson et al. [27]. One would expect that the fluid in this region is of high viscosity, and the region may contain mushy fluid which was modeled as a porous medullary cavity. In the present model, the fluid in the compact bone pores was assigned a very high viscosity value in an attempt to have the inner marrow cavity pressurize in a similar way to that in the experiment. This was done so that the marrow would be prevented from penetrating the pores of the bone so easily. The approach used in the current analysis was to use the experimental results for the 9 mm reamer as a benchmark model to determine the viscosity of this fluid. The viscosity o f the fluid in the bone pores was adjusted to replicate the results obtained experimentally

17

from the 9 mm reamer using a marrow viscosity o f ja = 0.22 Pa s. These same bone viscosity values were then used to show that the model worked well also for the reamer case. A significant challenge was the uncertainty in, and wide range of, material and process parameters required for the analysis. The insertion rates quoted by Johnson et al. [27] for their experiments varied by as much as 23%, necessitating the use of a very wide parametric envelope in order to compare with the experimental data. Physical
10

mm

properties reported in the literature for the marrow (e.g., viscosity) [2 0 ] and bone (e.g., permeability) were also found to vary over a very large range. To establish a viable

pressure envelop, the upper, lower and average values of the marrow viscosity and insertion velocities were used. Another assumption was in regard to the fluid which filled the intramedullary canal (i.e., the simulated marrow). Because the fluid is mushy (i.e., fluid containing solid particles), a medium with 95% porosity was assumed to indicate that the fluid was not clear. 3.2 Results and Discussions Two cases were solved; the first case was to examine the effect of an insertion o f a 9 -mm reamer, and the second case an insertion of a Case 1: Insertion with 9 mm Reamer As a first test, Johnson et al. inserted a 9-mm reamer from one side of the bone. The pressure was then monitored at mid-shaft for different insertion rates. Figure 4 presents the variation o f the pressure with the reamer position for insertion rates o f 1,98 cm/s, 2.58 cm/s and 3.18 cm/s. In this figure, the viscosity of the marrow was assumed to
10

mm reamer.

18

be equal to |i=0.22 Pa.s. It was evident that, as the reamer is advanced, the pressure increases continuously. The present model assumed that backflow fluid was not allowed to escape from the interface between the bone and reamer, which is of course an idealized condition. Nevertheless, Johnson et al. did not report any fluid escaping, and Figure 4 shows that the predicted trends reasonably match those shown by the experimental data.
1600

1400

1200

I 1000

* ? ;6
15

800

 Experimental -*-v= 0.0318 m/s -*-v= 0.0258 m/s -»-v= 0.0198 m/s

I
s

600

I
400

200

-

6

8

10

12

14

16

18

Position of Reamer (cm)

Figure 4; Pressure distribution vs. the 9-mm reamer position for different reamer insertion rates for an assumed viscosity of 0.22 Pa.s

The effect of reamer position on the intramedullary pressure is shown in Figure 5, for an insertion rate of 2.58 cm/s and for three different marrow viscosities. Here the pressure was monitored at the mid shaft and compared with the experimental data. The marrow viscosity clearly plays an important role in determining the pressure variation as a function of the insertion rate. A viscosity of p=0.22 Pa.s results in the best agreement between numerical and experimental results.

19

2000
1800 1600 |i 1 4 0 0

-Ê . 1200
î ô
I o1000 800 600 400 -

 Experimental -«--p=0.40 Pa.s - * -p = 0 .2 2 Pa,8 -ar-p=0.04 Pa.s

200 0
6 8 10 12 14 16 18 Position of Reamer (cm)

Figure 5: Pressure distribution vs. the 9-mm reamer position for varying marrow viscosities, for an insertion rate of 2.58 cm/s.

As shown in Figure

6,

the pressure was computed as a function o f time for a

marrow viscosity o f |i=0.22 Pa.s at an insertion rate of 2.58 cm/s. The calculated pressure variation at the interface between the marrow and the compact bone is shown, numerically, as a function of time. The variation of the pressure in the horizontal direction shows that, as the reamer is inserted into the medullary canal, there is a build-up o f pressure near the end o f the bone. This high pressure zone also reflects the escape route o f the fat embolus from the bone during the reaming process. The sudden drop in

pressure in the final time step is due to prescribed boundary conditions.

20

2000

1800

I 1600
1400 -4 -t= 0 .6 8 s -* -t= 1 .3 6 s -* -t= 2 .0 3 s -M-t=2.71S -0 -t= 3 .3 9 s -- t=4.04s -- t=4.75s -- t=5.43s 1=6.1 Os -© -t=6.78s

1000

600

400

200

10

15

20

25

30

35

Position (cm)

Figure 6: Pressure distribution at the compact bone-medullar interface while the 9 mm reamer advances in time for a viscosity of 0.22 Pa.s and insertion rate of 2.58 cm/s

Case 2: Insertion with 10 mm Reamer In the experiments of Johnson et al., the same bone which was reamed with a 9mm reamer was used for the 10-mm reamer case. To simulate the refilling of the intramedullary canal with blood and marrow after the initial 9-mm reaming, Johnson et at. filled the bone with albumin prior to using the 10-mm reamer. Because o f the uncertainty regarding the type of albumin used in the experiments, a range of viscosities were used in the present model. From the literature, it was found that albumin viscosity varies between 0.0077 Pa.s and 0.0770 Pa.s. It is important to note that albumin is less viscous than marrow, leading to lower pressures at the mid shaft. However, in the experiments, the femur was not cleaned between the two experiments, and it is therefore likely that the fluid wetting the compact bone was a mixture of human marrow and

21

albumin. For the sake o f simplicity, it was assumed that the fluid wetting the compact bone did not change viscosity between the two cases. With this in mind, the previous case was repeated with a 10-mm reamer but with albumin instead o f marrow in the intramedullary region. The pressure variation at mid shaft as a function o f viscosity for an insertion rate of 2.58 cm/s is shown in Figure 7.
600 n

500

oi 400

é

300

Experimental M=0.0077 Pa.s (J=0.0385 Pa.s 0=0.0770 Pa.8

£

2 00

100

oi
0 2 4 6 8 10
12 14

16

18

20

Position of Reamer (cm)

Figure 7: Pressure distribution for the 10-mm reamer for varying Albumin viscosities for an insertion rate of 2.58 cm/s.

The experimental results appeared to not follow a pattern, as had been seen in the 9-mm reamer case. The model predicted pressure was in the same range as that found experimentally, but there was much uncertainty regarding the fluid wetting the compact bone. Nevertheless, it is interesting to note that for a model albumin viscosity of 0.0385 Pa.s, a good agreement was obtained. Comparing Figure 5 and Figure 7, it can be seen that changing the fluid in the intramedullary canal from marrow to albumin resulted in

22

the same predicted trend in the pressure profile, but with lower magnitude, as expected, given that the viscosity of albumin is lower than that of marrow. Figure
8

shows the

transient effect with an insertion rate of 2.58 cm/s and a viscosity of albumin equal to p=0.077 Pa.s. As was the case with the 9 -mm reamer, the pressure rises near the end of the bone.
2200 2000

1800

II I
I
« e

1600 1400 1200
1000

-»-l= 0.68s -*-l= 1.36s -A-t=2.03s -4*-t=2.71s -*-t= 3 .3 9 s t=4.04s --t--t=4.75s
I t=5.43s
l" ^ t = 6 . 1 0 s

800 600 400 200

{ -- 4--1=6.788

10

15 Position (cm)

20

25

30

35

Figure 8: Pressure distribution at the compact bone-medullary interface while the 10-mm reamer advances in time for viscosity of 0.077 Pa.s and an insertion rate of 2.58 cm/s. 3.3 Conclusions It is clear that, as the marrow viscosity increases, the pressure values increase. The error between the experimental and numerical results might be due to the instability in the advancement rate of the reamer in the experimental portion. The reamer's rate of advance varied by as much as 23% in the experimental data supplied by reference [27]. It was also observed that as the reamer's insertion rate increased, the pressure values also

23

increased. This finding has clinical implications for orthopaedic surgeons performing a range o f surgical procedures which were detailed in the introduction, in that, based on the present findings, a recommendation can be made for the intramedullary reaming/rod insertion to be performed at a slow and controlled speed to minimize the chance o f surgically precipitating an incident of clinical fat embolism syndrome. Overall, the pressure values for both experimental and numerical tests showed consistency and followed the same trend. For the most part, all pressure values fell within the envelopes calculated for the upper and lower limits of velocity and viscosity. It can thus be

concluded that the use o f CFD to predict the flow and pressure in the intramedullary contents o f a bone is a promising tool for the study o f fat embolism syndrome, and may contribute to improvements in surgical techniques for orthopaedic procedures.

24

CHAPTER 4: COMPARISON WITH EXPERIMENTAL RESULTS OBTAINED FROM HAMMERING AN IMPLANT INTO AN INTRAMEDULLARY CAVITY

The problem being solved in this chapter consists of a plastic porous cylinder with a cavity along the centre that is blocked on one side. This cavity is filled with a viscous fluid. A stem is hammered into the open end of the cylinder in an attempt to force the fluid though the pores of the plastic. The pressure along the side of the cylinder is then recorded at four different locations. This experiment is to be duplicated numerically in FIDAP. 4.1 Model Description A model of the cylinder and fluid was constructed in Gambit and analyzed in FIDAP. Two 350-mm long co-axial cylinders, having outer and inner diameters of 32mm and 16-mm, were used to simulate the walls of the cylinder, as shown in Figure 9. The outer shell was selected to be porous and the inner cylinder was chosen to be fluid. The properties of both volumes were obtained experimentally.

I
Figure 9: Experimental and numerical model of the cylinder [28] 25

From the experimental data, it was observed that, after the implant was struck, it moved in a sinusoidal fashion, and a curve was fit to the data points, as shown in Figure 10.
10 9

8
7

6
- Experimental 5 4 -Numerical

a.
3 2 1

0

0

0.02

0.04

0.06

0.08

0.1

0.12

Time (s)

Figure 10: Experimental and numerical displacement profiles [28]

By taking the derivative o f the displacement function, the velocity o f the implant was found and used in the numerical simulation code as the implant insertion rate. The resulting velocity distribution is shown in Figure 11.

26

ai4
0.12

0.1

I
>

0.06

0.06

0.04

0.02

0.01

0.02

0.03

0.04

0.05 Time (9)

0.06

0.07

0.08

0.09

Figure 11: Numerical velocity profile. [28]

At the tip of the inner cylinder, the surface velocity was set to be equal to the insertion rate to mimic the movement of the implant as it advanced after being struck. The displacement and the velocity of the implant were defined as follows:

Z = 0.00434(1- c o s ( 3 1 .4 t ) )

(15)

U z = 0 .13635sin(31.4t)

( 16)

where Z is the displacement, Uz is the velocity in the Z direction, and t is the time in seconds. The remainder of the boundary eonditions used in the modeling was obtained from the experimental apparatus. Velocity was specified as zero at the top and bottom of the outer cylinder and the top of the inner cylinder, so that fluid could escape through the side walls but not through the top and bottom of the cylinders. The pressure was

27

determined at the four locations outlined in Figure 9 and compared to the experimental results. The cylinder was tapped at four locations along the span, and a pressure

transducer was inserted in those locations. The locations of the taps occurred every 75mm from the entrance o f the cylinder. [28] 4.2 Experiments In order to simulate bone, many materials were tested [29]. An ultra high

molecular weight Polyethylene (UHMW-PE) manufactured by Porex Porous Products Group was found to have the most appropriate properties as far as fluid flow through porous media. This material can be custom manufactured in a variety o f shapes, sizes, porosities, and pore sizes in an open cell structure. Having an open cell structure allows the fluid to travel from one side of the material to the other. A porous open-cell plastic

cylinder was thus custom manufactured with 15-30% porosity and a pore size of 40-60 microns, matching the requirements o f cortical bone reasonably well. porosity was input into the numerical code. To reproduce the visco-elastic properties of bone marrow, a Vaseline (petroleum jelly) and liquid paraffin mixture has been used in numerous studies. A 45/55% The average

Vaseline/paraffin mixture was used to simulate the viscosity of bone marrow. A Gilmont falling ball viscometer was used to measure the viscosity o f the fluid mixture. The mixture o f Vaseline and paraffin was heated to 60°C and then cooled to a room temperature o f approximately 20°C. This was done to eliminate the bubble formation during the mixing and to create a homogenous thick fluid substance. This was repeated three times to ensure accuracy and repeatability. The 45/55% mixture was found to have a viscosity o f 0.0826 Pa.s, which is still in the range (0.040 Pa.s to 0.40 Pa.s), o f that

28

found between the distal and proximal bone marrow in the femur. This viscosity was also input into the present numerical model. The physical properties of the materials are summarized in the following table: Table 2: Physical properties of the materials used in the experiment Physical properties of Physical properties of The Plastic section______________________ P a r a f f i n / Vaseline s e c t i o n ____________ Symbol____________ Value______________ Symbol_____________ Value_____________ (p 0.225 p 0.0826 Pa.s p 720.75 kg/m^ p 861.5 kg/m^ Kx.y,z 9.5 X Ity^ rnf % :x,y,z Ï4//1

In order to measure the pressure resulting from hammering an intramedullary device into the cylinder the experimental apparatus, shown in Figure 12, was built [29]. A controllable impulse force was achieved by using a swinging pendulum with an adjustable hammer mount. An impulse hammer was attached to the hammer mount to measure the force of the hammering as a function of time. Experimental data were collected using a data acquisition which was coupled with computer. The DAQ system was capable of collecting 200,000 samples per second from 32 separate channels, ensuring that peak pressure values were not missed. The hammer impulse was obtained from an impulse hammer The pressure values were

obtained from pressure transducers. The displacement of the impulse hammer and the displacement of the implant were obtained from a draw-wire displacement sensor.

29

Figure 4.3 Discussion

12:

Experim ental apparatus set-up [29]

Transducer sensors were used to obtain experimental results after the hammer impacted the stem. The pressure at each transducer and the displacement o f the implant were monitored after the impulse hammer made contact with the stem. The experiment was performed five times to ensure repeatability o f the results. The upper and lower cases o f the maximum pressure values obtained are shown in Figure 13. The variability among the experiment runs was minimal, approximately 1.9% for the pressure values and 5.6% for the displacement. Figure 13 compares the maximum experimental and numerical pressures during the insertion of the intramedullary device, with respect to the transducer number. Pressure transducer 1 was located 75-mm from the front of the cylinder, whereas transducer 4 was located 300-mm from the front. The results demonstrated consistency, where the experimental results and the numerical results followed the same linear pattern. Table 3 summarizes the differences between experimental and numerical values o f the maximum pressure obtained. The results vary from 17% to 23%.

30

1800

1600

&

î
I
1400
(A

- Numerical - Experimental Test 1 - Experimental Test 2

1200

1000
2 3 Pressure Transducer Number

Figure 13; Experimental and numerical maximum pressure values [29]

Table 3: Experimental and numerical comparison of pressure results at each transducer. Pressure Transducer Error 2 [%] 3[% ] 4 [%] Experiment 1 22955 19.610 20326 20320 Experiment 2 21.735 17.634 18.902 18.725

The following results were extracted from the computational model. Since the model has been verified experimentally, the following results are deemed viable. It was observed that the pressure changes in a linear fashion along the middle axis of the cylinder. As the implant is accelerating, the velocity increases to a certain level, after which point, the implant starts decelerating. At this transition point, the acceleration is found to be zero as shown in Figure 14.

31

4.5

3.5

2.5

&0 .5
-0.5
0.01 0.02 0.04 0.06 0.07 0.08 0.09 0.1

-1.5

-2.5

-3.5

T im e(* ) Figure 14: Acceleration of the Implant vs. Time As the implant is progressing to this point, the acceleration is decreasing. This in turn results in a decreased amount o f force being applied to the model. As the implant's acceleration continues to shrink, the distance between the lines in Figure 15 decrease. This shows that, as the force applied by the implant decreases, the pressure value also decreases.

32

1800

1400 -0.050 s 1 1200 -0.045 s I -0.040 s I
- 0 .0 3 5 s ;

-0.030 s , 800 -0.025 s i -0.020 s I -0.015 S -0.010s 400 4 -0,005 s

200 1

0' 0

150

200

Location (mm)

Figure 15: Pressure vs. location along the centre axis of the cylinder while implant is accelerating When the acceleration reaches the zero value, the implant starts developing negative acceleration. This deceleration in turn results in a pressure drop. As the

negative acceleration increases, the pressure drop increases. This statement is clearly evident in Figure 16.

33

-0 .0 5 5 s
-

0.0608

-0 .0 6 5 8 g 800 -0.0 7 0 8 -0.075 s -0.080 s -0.085 s -0.090 s 400 i -0.095 s

0

t--

......

0

150

200

Location (mm)

Figure 16: Pressure vs. location along the centre axis of the cylinder while implant is decelerating Since there is some variability in various experimental parameters, a parametric study is required to better explain the 20% error. The permeability of the plastic was unknown. Permeability is a function of the pressure gradient and it is a material

property, and is not necessarily directly related to porosity or pore size. This means that it would be difficult to measure absolutely. Since the pressure varies rapidly in the experiments, an average value for pressure was used. This average pressure value used was obtained from real bone. Since the pore size of bone and o f the chosen plastic are very similar, the average permeability of real bone was used. The upper and lower values o f bone permeability were then used to obtain a range o f pressures. Figure 17, Figure 18 and Figure 19 show the pressure vs. time at transducers two, three and four. Transducer one was eliminated due to the fact that the implant passes it after being struck. This resulted in a large pressure drop which rendered the data inconsistent.

34

5000 4500  4000 

9

3 5 0 0-

N 3000 2500 
2000

-

1500
1000



500 ·

0

0.01

0.02

0.03

0.04

0.05 Time (s)

0.06

0.07

0.08

0.09

0.1

Figure 17: Pressure vs. time at transducer two for a range of permeability

5000 4500  4000 

9

3500 3000 2500

1500 

1000



500

0

0.01

0.02

0.03

0.04

0.05
T im e M

0.06

0.07

0.08

0.09

0.1

Figure 18: Pressure vs. time at transducer three for a range of permeability

35

5000

-I

4500 4000 g 3500 -* 3000 g 2500  2000 ï



1500 1000

-

500 

0

0.01

0.02

0,03

0.04

0.05 Time (s)

0.06

0.07

0.08

0.09

0.1

Figure 19: Fressure vs. time at transducer four for a range of permeability It is clear from the evidence gathered that as the permeability increases, the pressure decreases, since permeability is the resistance of a certain material to fluid flow. W hen the experimental results are plotted with the numerical results, it shows that both follow the same trend. When the upper and lower ranges o f permeability are used, the experimental results fall within this range.

36

PR O PE R T YO F

pY ER@ 0N W b#A ITY LffiflARV

4S00

4000

3500 ·

C 3000-

g 2500

2000

-

1500 ·

1000



500
1

2 Transducer Number

3

4

Figure 20: Maximum pressure using different permeability vs. transducer number

37

CHAPTER 5: PERMEABILITY STUDIES AND APPROXIMATIONS 5.1 Introduction W hen a medium is categorized as porous, it is acknowledged that it consists o f a solid matrix with a series o f interconnected pore systems. The interconnectivity o f these pores allows fluids to travel from one side o f the material to the other. Normally, the distribution o f these pores is irregular. To solve a fluid mechanics problem involving porous media, the standard equation obeyed by the fluid is initially obtained. This

equation is then modified to obtain the macroscopic equations by averaging it over the volumes or areas containing many pores. These equations usually contain a porosity te rm (^ ), which is defined as, the fraction of the total volume o f the medium that is occupied by void space [30]. In this chapter, three different terms in the momentum equations, which are used to approximate flow in porous media, will be studied and modeled to better understand this effect. 5.2 D arcy's Law Darcy's studies showed proportionality between the rate o f flow and the difference in applied pressures in the unidirectional flow o f a uniform medium. This proportionality is described by the following equation [31] u=- - --
p OX

(17)

W here -- is the pressure gradient, p is the viscosity o f the fluid, and dx

k

is the

permeability o f the solid, which is entirely independent o f the nature o f the fluid. This equation can be generalized in three dimensions as follows [31]:

38

v=n''K -V P where K is a second order tensor hence, VP = - - t v K Darcy's Law has been verified by the results of many experiments [30]. 5.3 Limitations of Darcy's Law

(18)

(19)

It has been shown by reference [31] that Darcy's Law may be useful for understanding some types of seepage flow, outside of which a more general fluid flow equation must be used. Darcy's law represents a linear relationship between filtration velocity and the pressure gradient. This linear relationship also passes through the origin. Darcy's Law can only be used when v is "sufficiently small". As the seepage velocity increases, the transition to a non-linear relationship begins. There are four main reasons

for which this transition happens: (1) high flow rates, (2) molecular effects, (3) ionic effects and (4) the non-Newtonian behaviour of the percolating fluid itself. 5.4 Forchheimer's Equation (Quadratic Drag) The transition from a linear relationship to a non-linear relationship does not change the fact that the flow is still laminar. The flow within the pores is still laminar due to the fact that the Reynolds' number does not increase significantly. The break down in the linearity of the flow is due to the drag resulting from friction against the obstacles in the pores. These obstacles had no effect earlier because the velocity of the flow was too small. Darcy's law must therefore be modified as follows [31]: M -i , V P = v - C f K 2pj,|v|v
,

(20)

39

where Cf is the dimensionless drag constant. Equation 19 is known as the Dupuit and Forchheimer equation. The second part o f the equation is known as the Forchheimer

term. The transition from the Darcy to the Forchheimer regime can be seen in Figure 21. The transition occurs in the R ck range 1 - 1 0 .

100

Figure 21: The transition from the Darcy regime to the Forchheimer regime in a unidirectional flow through an isothermal saturated porous medium [30] 5.5 Brinkm an's Equation The difference between the Brinkman equation and the Forchheimer equation is that with the Brinkman equation the inertia term is omitted and a second viscous term is used instead [31]; V P = -ü v + p V 'v
K

( 21 )

The second viscous term is analogous to the Laplacian term that appears in the Navier-Stokes equation where p is the effective viscosity. Brinkman has set p = p but, in fact they are only approximately equal. A lot o f papers have referred to Equation (20)

40

as an extension of Darcy's equation, but, in fact, Brinkman obtained a relationship between the permeability and the porosity on his own. finally of the form [Error! Reference source not found.]: 2 Ê L +Æ |L |r + )u, = -Pj + pu,,
Brinkman Term

The momentum equation is

c pa

^

K |
Darcy Term

(22)

F orchheim er

Term

5.6 Test Cases in FIDAP Using Both Approximations

The simulation used in Chapter 4 was used to verify both the Darcy and Forchheimer approximations. This was done to confirm the assumption that the

Forchheimer term can be eliminated in the simulation of flow through porous media and that the Darcy term alone is sufficient in obtaining the most accurate results when modeling flow through bone pores.

In this research, all previous cases were simulated using the Darcy approximation. When the Forchheimer term was activated no significant changes were observed. The maximum change in the maximum pressure observed at all four transducers was 0 .2 1 %. It is observed that the largest differences are seen at the beginning and at the end of the simulation, as shown in Figure 22. This is due to the fact that the flow is moving the slowest at these two instances.

41

2.5E-01 1 2.0E-01 1.5E-01 1.0E-01 Transducer 2 S 5.0E-02 O.OE+00
0.02

Transducer 3 Transducer 4 0.04 0.06 0.08 0.1

-5.0E-02 -1 .OE-01 -1.5E-01 ^ tim e (s)

Figure 22: Error in simulation vs. time for each transducer location using the Darcy and the Forchheimer approximations Contour graphs were also generated to examine the effect o f using both approximations. Both pressure and speed contour graphs were observed. These graphs were generated for 3 time steps: 0.005s, 0.050s and 0.100s. These time steps represent the beginning, middle and final steps in the simulation. When the speed graphs are It shows that both the

compared, the relative consistency of the results, is observed.

Darcy and Forchheimer approximations generate the same results as shown in Figure 23, Figure 24 and Figure 25 for speed contours and Figure 26, Figure 27 and Figure 28 for pressure contours.

42

A )* % ) jS l (a) Darcy M (b) Forchheimer
0 ·

Figure 23: Speed contours at t = 0.005 s using the Darcy and Forchheimer approximations. Minimum contour is displayed with AZ = 3.75x10'^?w/5

f V W a (a) Darcy

(b) Forchheimer

Figure 24: Speed contours at t = 0.05 s using the Darcy and Forchheimer approximations. Minimum contour is displayed with AZ = 2.41 x 10'^ w / 5

43

/

2 .2 1 x

lO \^

# ZZl (a) Darcy (b) Forchheimer Figure 25: Speed contours at t = 0.10 s using the Darcy and Forchheimer approximations. Minimum contour is displayed with AZ = 4 . 2 5 m f s W hen the pressure contours are examined, the first two time steps show relative consistency, and they almost match up identically but, in the final time step, some variation is observed. This is illustrated in Figure 28. This variation is due to the fact that the moving implant has stopped at that point, and the only thing that is moving the fluid is its momentum. This momentum translates to a very small velocity that will

heretofore be referred to as "seepage velocity". In this case, the Darcy approximation is found to be superior to the Forchheimer approximation. In the Darcy approximation

graph for pressure, more contours were plotted and more accurate results were obtained, whereas, with the Forchheimer approximation, only two contours were generated on the pressure graph. This in turn explains the larger errors for the final time step.

44

(a) Darcy

(b) Forchheimer

Figure 26: Pressure contours at t = 0.005 s using the Darcy and Forchheimer approximations. Minimum contour is displayed with AP = 57 mmHg ,287

(a) Darcy

(b) Forchheimer

Figure 27: Pressure contours at t = 0.05 s using the Darcy and Forchheimer approximations. Minimum contour is displayed with AP = 410 mmHg

45

(a) Darcy

(b) Forchheimer

Figure 28 : Pressure contours at t = 0,10 s using the Darcy and Forchheimer

approximations. Minimum contour is displayed with AP = 2 mmHg

5.7 Conclusion: The effect o f the Darcy approximation and the Forchheimer approximation were considered with regard to the models used in this analysis. It was established that the Darcy approximation was superior to the Forchheimer approximation in modeling flow through bone pores. This was due to the fact that the flow velocity, in this case, is

relatively small and better results were obtained using the Darcy approximation. This validates the use o f the Darcy approximation in previous chapters.

46

CHAPTER 6: FUTURE WORK Using a more accurate model to simulate the femur bone could result in a closer match between the experimental and numerical simulation error. The effects o f rotation speeds in the reaming process could also show some significance in the amount o f pressure being generated in the intramedullary cavity. Simulating different reamer

designs would also be beneficial. Some reamers have the ability to move marrow out o f the intramedullary cavity better than others, and some reamers are hollow which allows the marrow and bone debris to come up the center of the shaft. Experimentally measuring the permeability of a specific bone and its porosity before running the numerical simulation would also yield more consistent results. Investigating the heat transfer aspect of intramedullary reaming is also important. A large rise in temperature occurs while the reaming process is being performed. This variable will have a negative effect on the healing process of the bone. If this temperature increase can be minimized, it will

positively affect the bone and expedite the healing process. Ultimately, the goal o f this research is to minimize or eliminate the occurrence of FES. This will be accomplished by crafting a superior procedure to ream, and to hammer in, an intramedullary device into the femur. Simulating venting holes at different locations along the shaft can illustrate that pressure may drop significantly if these holes are positioned correctly. A parametric study with a wider range of varying physical properties would also be beneficial. This would result in a better understanding of the effect of each individual physical property. This research should be mirrored by having experimental data with which it can be compared. This should be done in an attempt to further validate the numerical results.

47

REFERENCES

1. Pell, Alastair, Christie, James, Keating, John, Sutherland, George. "The Detection o f Fat Embolism By Trasoesophageal Echocardiography Durind reamed Intramedullar Nailing". The Journal of Bone and Joint Surgery; Vol 75-B No 6 , pp. 921 - 925, (1993). 2. Peter, R.E., Selz, T., Koestli, A. "Influence of the reamer shape on intraosseus pressure during closed intramedullary nailing of the unbroken femur". Injury (1994). 3. Stunner K. M., " Measurement of intramedullary pressure in an animal eperment and proposition to reduce the pressure increase", Injury (1993), Supplement. 4. Tronzo RG, Kallos T, Wyche MQ. "Evaluation of intramedullary pressure when methylmethacrylate is inserted in total hip arthroplasty". J Bone Joint Surg. 56A; pp. 714-718, (1974). 5. Inadome T, Wall MC, Smith CL, Whiteside LA. Femoral intramedullary pressure during in vitro cemented and cementless total hip arthroplasty. Orthop. Trans., 22: pp. 154- 155,(1999).
6.

Schmidt J, Sulk C, Weigand C, LaRosee K. "Reduction of fat embolic risks in total hip arthroplasty using carmulated awls and rasps for the preparation of the femoral canal". Arch Orthop Trauma Surg., 120: pp. 100 - 102, (2000).

7. Papagelopoulos, P, Apostolou CD, Karachalios TS, Themistocleous GS, Giannakopoulos CK, loannidis TT. "Pulmonary Fat Embolism After Total Hip and Total Knee Arthroplasty". Online posting. CME Orthopedics. 1 June 2004 <www.orthobluejoumal.com>
8.

Ries MD, Rauscher LA, Hoskins S, Lott D, Richmann JA, Lynch F. Intramedullary Pressure and Pulmonary Function During Total Knee Arthroplasty. Clinical Orthopaedics and Related Research, 356: pp. 154 - 160, (1998).

9. Graham, D.R., Higdon, J.J.L, "Oscillatory forcing of flow through porous media. Part 1. Steady flow". Journal of Fluid Mech., vol. 465, pp. 213 - 235, (2002). 10. Singh, M., Mohanty, K.K., "Dynamic modeling of drainage through threedimensional porous aterials". Chemical Engineering Science 58, pp. 1 -- 18, (2003).

48

11. Bemsdorf, J., Brenner, G., Durst, F., "Numerical analysis of the pressure drop in porous media flow with lattice Boltzmann (BGK) automata , Computer Physics Communications 129, pp. 247 - 255, (2000). 12. Baca, R.G., Chung, J.N., Mulla, D.J., "Mixed transform finite element method for solving the non-linear equation for flow in variably saturated :^orous media", Intemation jomal for numerical methods in fluids, Vol. 24, pp. 441-- 455, (1997). 13. Sun, W.T., Zhang, H.Y., "Finite Element Method for Two-phase Immiscible Flow", Numerical Methods for Partial Differential Equations Vol. 15, Issue; 4, pp. 4 0 7 -4 1 6 , (1999). 14. Holstad, A., "Temperature-driven fluid flow in porous media using a mixed finite element method and a finite volume method". Advances in Water Resources 24, pp. 843 -8 6 2 , (2001). 15. Juanes, Ruben, "A variational mulitscale finite element method for multiphase flow in porous media", Finite Element in Analysis and Design 41, pp. 763 777, (2005).

16. Afif, M., Amaziane, B., "Numerical simulation of two-phase flow through heterogeneous porous media", Numerical Algorithms 34, pp. 117 - 125, (2003).

17. Orr, J. F., Dunne, N. J., "Development of a Computer Model to Predict Pressure Generation Around Hip Replacement Stems", Proc Instn Mech Engrs, Vol. 214 Part H, (2000).

18. Muller, Chr., Mclff, T., Rahn, B.A., Pfister, U., Weller, S. "intramedullary pressure, strain on the diaphysis and increase in cortical temperature when reaming the femoral medullary cavity- a comparison of blunt and sharp reamers". 19. Smit, Theo, Huyghe, Jacques, Cowin, Stephen. "Estimation f the poroelastic parameters of Cortical Bone". Journal of Biomechanics 35, pp 829 - 835 ( 2002).

20. Bryant, J. D., David, T., Gaskell, P. H., King S. and Lond, G. "Rheology of Bovine Bone Marrow". Proc. Instn Mech. Engrs 203, pp. 71-75, (1989).

49

21. Muller, Chr., Frigg, R., Pfister, U. "Effect of Flexible Drive Diameter and reamer Design on the Increase of pressure in the medullary cavity during reaming". Supplement 3, Injury (1993).

22. Shin, Sehyun, Young-Nam, Kim, Lee, Ji-Hyung. "Viscosity and Conductivity measurements of Dilute Dispersions of Rodlike Paraffin Particles in Silicone Oil". Int. comm. Heat Mass Transfer, Vol. 29 No. 2, pp. 203 - 211, (2002). 23. Biyikli, S., "Experimental Investigation of the Thermophysical Properties of Compact Bone", Mech. Composite Mater. Res. 20, pp. 1335 - 1345, (1985).

24. Grimm, Michele J. and Williams, John L. "Measurements of Permeability in Human Calcaneal Trabecular Bone" Journal of Biomechanics, Vol. 30, No. 7, pp. 743-745, (1997). 25. Cowin, Stephen. "Bone Poroelasticity". Journal of Biomechanics 32, pp. 217 238, (1999).

26. Agur, Anne, "Grant's Atlas of Anatomy", 9`* ' edition. Williams & Wilkins, Philadelphia, (1991). 27. Johnson, J.A., Berkshire, A., Leighton, R. K., Gross, M., Chess, D.G., Petrie, D, "Some Basic biomechanical characteristics of medullary pressure generation during reaming of the femur". Injury Vol. 26, No. 7, pp. 451-454, (1995) 28. Dobqanski D., Gaber O., Saghir Z., Behdinan K., Zalzal P., de Beer J. & Papini M. The pressure generated during the insertion of an intramedullary device: experiments and numerical modeling. Biomedicine 2005 Conference, Bologna, Italy. (2005) 29. Dobijanski, Daniel - MASc. Thesis, (2005).

30. Neild, D.A., Bejan, A., "Convections in Porous Media", Springer-Verlag New York Inc., (1992). 31. Scheidegger, Adrian, "The Physcis of Flow through Porous Media", Univeristy of Toronto Press, (1973).

32. FIDAP USER MANUAL, Volume 8.7.2,1999

50

APPENDIX A

1 Governing Equations in Cartesian Form

1.1 Navier-Stokes Equation;

1.1.1 x-component:

p 5u + (p dt 1.1.2 v-component; p dv h f dl r \

dp

dx^

d^u dy^

d^ + Pg dz^

dp ay

- a^v dx^

a^v dy^

a^v dz^

1.1.3 z-component: -+ a w a w a w w =-- +u dz dx^ dy^ az^

(p at 1.2 Continuity Equation:

au dx

av dy

aw dz

^

51

2 Non-dimensionalizatioîi : These are all o f the non-dimensional variables that will be used in simplifying and in non-dimensionalizing the momentum, Energy, continuity and Solutal equations:

L

L

' U - -- , V =-- , U p Uq

P = -- ,, (xug

R e = P ^ , v = ü , Da= 4 , T = ^ , a = h .

2.1 Momentum Equations

(p dt 2.1.1 x-component:
p du

Ç dt

+

dp -- d^u u =-- +u dx

d^u ay"

d'u +pg az'

P ^(U U q) 4Uu,, DaxI? < p

"Ppuo" a 4 u u ,, ) ,a ^ ( u u ,, ) ,e = ( u u ,, ) V L y ·+ +pg +p a (XL) a (XL) a(YL) a (z L ) _

(pL dr

+

puo ap ppug a 'u a 'u a^u P + Uu,, = DaxI? V ax p u â ) F ^ a Y ^ ^ az^ ap 1 a^u a^u ------- 1 -- a x a a x '^ a Y ' a 'u l a^zj pgi^

p u ^ a u L '^ l " p ^T T L' U u,, DaxL puo ç?L dr puo puqL a u ç?p dr

f 1 V, ap I a 'u a 'u a^u TJ --------- 1 -- a x a a i^ ^ a Y '" ^ az^ VDa ap ax
1

pUpL gL

P

u«

 +f ^ 1 U = (p dr <Da,

a^u a^u a^u + Re a â x ^ ''"âY^'^ az^

52

2.1.2 v-component: £^ + (p dt
dp - d \ d^v + v=-- +^ d^v

Pm P àV u, + DaxL^ Vuq = a(YL)
-+ n

a^(vuo) ^ 5 ^( vuq) ^ a^(vuo) 6(XL)' a(YL)'
d (Z L f

Ç ? L dz

+

DaxL +

' " . - 9 w

' ï g

g^V g^v gx^^gÿ^

g^v' dZ\

L' DaxL- y

tp L dz pu^

dP 1 'g -v g"v g^v g y '^ a ^ ^ g Y ' ^ g Z '

P V l^ J j_ V ^ |i gr Da j

g^V g^V g^V + -+ =- ^ + i gY a gX^ gY^ gZ

g^V g^V g^V R eg y f 1 A - 4- · -+ · -+ v .- ^ + l (p dz vDay gY a gX" gY" gZ" 2.1.3 z-component; p gw (p dt
W =

gp dz Ppu^

hu

- g"w gx

g"w gy

g"w ^ gz

g(W uJ

+

DaxL

Wug = --

g"(Wup) ^ g"(Wup) ^ g"(W up) g(ZL)
-+ p

g (X L)'

g(YL)'

g(ZL)'

pu^ gw _ pUp gp ^ ppup P + Wuo = çiL dz DaxL" L" gz pL" pu" gw L" / ^ Lgp 1  + Wu,, -- ^L gx pu, vDaxL pu. gz a

g"W g"W g"W + -+ gx" gY" gz"

g"W g"W g"W  + -- -+ gx" gY" gz"

pu,,L gw ^ 1 ^ g"W g"W g"W + W=- -- + ^p gx v D a ; gz a gx" ^ gy" RegW
1 + 1 -- |W = - -- + i g"w (p dz VDaj gz a gx"

g"w

gY"

g"W gz"

53

2.2 Continuity Equation: (pui ) . =
ÔV
0

dw

a(U u,,) . 3(V u ,) , 8(Wu,,) a(X L )
8

(YL)

d{ZL)

= 0

^ au 8 v aw ^ ^ =0 a x ^ a y '^ 'a z L 3 Governing Equations in Radial Form

3.1 Momentum Equations;

3.1.1 r-component:

P + (p dE 3.1.2 6-component; P -+ Ç at 3.1.3 z-component: P + < p at 3.2 Continuity Equation;

ap

-

£ 1

^ a ru / dr r V ar y

1

a u

2

aug

a u.

+pg

1
Un --

ap

-

a \ ( arug ^ 1 a^un + r' ae' ar rV ar

2

au.

a^Uo az'

r ' ae

ap

-

i± r

rau. r ar V ar

a^u, r" ae"
1

a^u. az'

54

4 Non-dimensionalization : These are all of the non-dimensional variables that will be used in simplifying and nondimensionalize the momentum. Energy, continuity and Solutal equations:

R -f, z - f ,
L L
Un Uq Ug

p = -^ ,
PUg

Re=£HçL,
f P

D a=4,
L H

4.1 Momentum Equations

4.1.1 R-comPonent: P q) 8 t P dp -- Ur= -- + P dr r V ôr ; dr a fù ü î^ ' + pg

r" 00"

r" 50

5z"

P a (u ,u j (p

'

P ' DaxL"

d 1 pRLU.Ug^ +- 1 6 RL RL ^ 5RL ^ (RL)'

60"

2

aUgUg I d U,Ug

(RL) ç)L dz +
2

60

5(ZL)

+ Pg

- Ug a 1 f 6 R U , ) + ^0 1 a"u. PUo 5P 4 *II U.u,,=--! r^r "0 DaxL L " ÔR L" aR R I 6 R J L"R" 50"
Ug

2 5Ug ^ Ug a " u , L" R" æ L" ÔZ"

+pg

55

pUç gU. K + ç h dl VDaxL^

ô 1 ÔRU, ô-U. + ÔR R ÔR R- 0 0 aUou,, ^ Ô 'u , + P8 R- Ô0 ÔZ"
2

PUp ^Ur L' I r p U,Uqdr |X U () l^DaxL^ PUo

ap ÔR

ô 1 ÔRU, a ÔR R ÔR
1

ô-U. R- Ô0"
1

Ô U ,u,^ô"U R" Ô 0 Ô Z "
2
----------------- L +

PgU PUo

R eôU
(p

f

dx

A ÔP U = Da ÔR
1

1 ' ô 1 f5 R U l 1 ô"U. + a ÔRR t ÔR J R" Ô0"

2 2 ÔUeUp _ Ô"U pUpL gL + 2 R" Ô0 ÔZ P

R eôU
(p dx

ÔRU^ u, = - ^ + i A _L vDay ÔR a ÔR R ÔR

, 1 a'Ur R" Ô0"

2 ÔUeUp _ Ô"U. + Re R" Ô0 ÔZ"

4.1.2 9-component: P ^6 + (p Ôt
1 P ^(Ue^o) , ^ P UgUo = DaxL" RL Ç ' J

ô 1r ^ 1 Ô"Uo 2 Ô U ^ Ô"Ua +-- + -- - + - -ôr r ôr r" Ô 0" r" Ô 0 ôz" Ppuo 5 1 f ôRLUgUo ^ L y +P ÔRL RL ^ ÔRL ^ Ô0

1

ô"UeU,, ^ 50"
4-

2

^ ÔU^Uq ^ Ô"UeU,, 50 Ô(ZL)'

(R L )'
P^o

(R L )' U ,,
1

5U«

çyL dx

P DaxL

L R ô0
L Il

U q ô 1 ôRUq L ÔR R ( ÔR ^L ÔP

pUp 5U fl, r p (pL Ô T t DaxL
P^p ôUg L
ç p L

R 06
L 1

U p 2 ÔU, u,,ô"U L R" Ô0" ' L R" Ô 0 ' L ÔZ" 2t A l ^ÔRU ^ 1 ô"L, , 2 ÔU Ô"Ü3 2 ô^" az)2 d2 ô an Q2} R" 0 ÔR R ÔR

Ô"U,,

-+

ÔT

UqM-

DaxL  +

2

L, IgUo

ô"U,, 1 d \ f ÔRU, + 1 ô"Up-+ 2 ÔU,  J-+ R" Ô0" R" ô0 ÔZ" Ô R rI ÔR
2 Ô"Ug ÔZ"
t

Re ÔU,
ç dx

vDay

1 ô"U,, 2 ÔU, ô 1 ôRUg ÔRR ÔR ^R" Ô0" ^R " Ô0

4.1.3 Zrcomponent: / \ P 5ue + J£ ç) ôt v^zy dp -- i i . rôu ^ 1 5"u, 0" r ôr ôr J r" Ô 5 u, ôz"

56

IÆ

sHo .+

(p

DaxL

U ,"o = --

azL PpUo

+ P

RLaU.Up RL5RL V ÔRL
1

1--------;---- rr;---- r*

1

(RL)

d{ZL)

PH I5& .+

qiL dr

P DaxL^

UzUo=-

azL

+p

U q 1 a r R a u J u,, 1 a 'u + L " R aR l aR j DR" æ" m M U q 1 a TRau, +- 1 a-u }xD R aR aR R" ae"

u , ô 'u .
- + -

V az" a'u
az"

pu' ^ p ' î l i , ^ PUp S? + Ç?L Ô T DaxD ' " D az puf aUe L" ç>L dz pUo Re aUf r kl ' T T L " U z U q -------LDaxL" pug

ap az

1 1 a f Rau, a R a R T aR

+-

1 a"u R" ae"

 + -

a"u. az"

^ dx

VDay

1 a"u a"u R au, ---- + --r -----^ + R aR aR / R" ae" az"

1 a

4.2 Continuity Equation:

. au,u, z^O (RLU,Ug) + 1 aUgUg 4RLaRL RL ae azL
1

1

a

57

APPENDIX B Code Used in chapter 3 / *********************************************************** / Disclaimer: This file was written by GAMBIT and contains / all the continuum and boundary entities and coordinate systems / defined in GAMBIT. Additionally, some frequently used FIPREP / commands are added. Modify /Add/Uncommment any necessary commands. / Refer to FIPREP documentation for complete listing o f commands. / *********************************************************** / / CONVERSION OF NEUTRAL FILE TO FIDAP Database / FICONV( NEUTRAL ) I N P U T ( FILE="9mm.FDNEUT" ) O U T P U T ( DELETE ) END / TITLE bone / FIPREP / / PROBLEM SETUP / PROBLEM ( 3-D, NONLINEAR,FREE, TRANSIENT ) EXECUTION( NEWJOB ) PRINTOUT( NONE ) DATAPRINT( CONTROL ) CLIPPING ( MINIMUM ) 0 lE-20 0 lE-20 / / CONTINUUM ENTITIES ENTITY "bone" ENTITY MAPERM / / / ENTITY ( NAME = "bone", POROUS, PROPERTY = "bone", MAPERM = ) ( NAME = "marrow", POROUS, PROPERTY = "marrow", = "marrow" ) BOUNDARY ENTITIES ( NAME = "topm", PLOT ) 58

( NAME = "topb", P L O T ) ENTITY ( NAME = "bottoirun" , SURFACE, SPINE, PREF, DEPTH = 0, X=0, Y=l, Z = 0) E N T IT Y ( NAME = "profilem", P L O T ) E N T IT Y ( NAME = "bobtomb", P L O T ) EN T IT Y ( NAME = "profileb", P L O T ) / / LOCAL COORDINATE SYSTEMS DEFINED / /COORDINATE ( SYSTEM = 2, MATRIX,CARTESIAN ) /O.000000 0.000000 0.000000 1.000000 0.000000 0.000000 0.000000 1.000000 0.000000 0.000000 0.000000 1.000000 /
E N T IT Y / SO L U T IO N PA R A M E T E R S

/ SOLUTION( SEGREGATED = 1000, KINEMATIC =5, VELC = 0.001, SURFACE = 0.001, CGS = 1000, CR = 1500, NCGCONV = l.E-5, SCGCONV ^ l.E-5 )
O P T IO N S (N O JA C O B I) E X T R A P O L A T IO N (N O F R E E )

PRESSURE( MIXED = l.E-12, DISCONTINUOUS )
O P T I O N S ( U PW IN D IN G )

UPWINDING 1 1 1 0 0 0 0 0 POSTPROCESS( NBLOCKS = 2 ) 111 5 400 5 TIMEINTEGRATION( BACKWARD, FIXED, NSTEPS=400, TSTART=0, TEND=0.291199, DT=0.025) /OPTIONS(NOJACOBI) /EXTRAPOLATION(NOFREE) /COMPRESSIBLE ( PRESSURE = 1 . , GASCONSTANT = 1, DELAY = 5 ) / / MATERIAL PROPERTIES / / Partial list of Material Properties data / DENSITY( SET = "bone", CONSTANT = 53.32993 ) VISCOSITY( SET = "bone", CONSTANT = 21 ) /CONDUCTIVITY( SET = "bone", CONSTANT =1 ) /SPECIFICHEAT( SET = "bone", CONSTANT = 1 ) / V O L U M E X P A N S I O N ( S E T = "bone", C O N S T A N T = 1 ) G R A V I T Y ( M A G N IT U D E = 1 ) P E R M E A B I L I T Y ( S E T = "bone", A C O E F , C O N S T A N T =100, X = 77.55102E-9, Y = 77.55102E-9, Z = 77.55102E-9, P O R O S I T Y = 0.05 )

59

/ D E NSITY{ SET = "marrow", CONSTANT = 53.32993 VISCOSITY( SET = "marrow", CONSTANT = 0 . 0 1 ) /CONDUCTIVITY ( SET = "marrow", CONSTANT = 1 /SPECIFICHEAT { SET = "marrow", CONSTANT = 1 /VOLUMEXPANSION ( SET = "marrow", CONSTANT ) GRAVITY( MAGNITUDE = 1 ) PERMEABILITY( SET = "marrow" ACOEF, CONSTANT = 100, X = 7755.102E -9, Y = 7755.102E-9 Z = 7755.102E-9, POROSITY =
0 .95 )

/
/ INITIAL AND BOUNDARY CONDITIONS / /ICNODE( CONSTANT = 0, ALL ) / B C N O D E ( U X , Z E R O , ENTITY = "bottomm" ) B C N O D E ( U Z , Z E R O , ENTITY = "bottomm" ) B C N O D E ( V E L O C I T Y , CONSTANT = 0, ENTITY - "topm" B C N O D E ( V E L O C I T Y , CONSTANT = 0, ENTITY = "topb" I C N O D E ( V E L O C I T Y , STOKES)
$CC

=

1 CONSTANT
)

B C N O D E (U Y , FACTOR FACTOR = =

=

1, =

CURVE 1,

=

1,ENTITY = "bottomm",

$CC $CC

B C N O D E (S U R F , /BCFLUX(X, /BCFLUX(Y, /B C N O D E (U Y , /BCFLUX(Y, 0 1.717039

CONSTANT )

CURVE = 2,ENTITY = "bottomm", ENTITY = ENTITY = "bottomm" ENTITY = "profileb" "profileb" ) "bottomm"]

CONSTANT= CONSTANT=

6227977.449 6227977.449 E N T IT Y =

C0N STA N T=1,

C O N S T A N T = -19385667 .2 1 0.025 1.717039 0.05

T M FU N C T IO N ( S E T = 1 , N P 0 I N T S = 1 3 ) 0 .1 0.2 1.717039 1.717039 0.125 0.225

1.717039 0.075 1.717039 1.717039 0.150 1.717039 0.175 1.717039 1.717039 0.250 1.717039 0.275 1.717039

0.291199

1.717039

/
T M F U N C T IO N ( S E T = 2 , N P 0 IN T S = 1 3 ) 0 0 0.025 0.042926 0.125 0.225 0.1 0.2 0.171704 0.343408 0.5

0.075 0.128778 0.214630 0.150 0.257556 0.175 0.300482 0 .386334 0.250 0.429260 0.275 0.472186
0.05 0.085852

0.291199

/
/B C N O D E (S U R F ,

CONSTANT = 1, ENTITY = "bottomm" )

/
END

/
CREATE( F IP R E P ,D E L E T E L IST ) PARAM ETER(

60

CREATE( FISOLV ) /RUN( FISOLV,BACKGROUND,FISOLVMEM= 80000000) /RUN( FISOLV, FOREGROUND )

61

Code used in chapter 4-5
/
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

/ Disclaimer: This file was written by GAMBIT and contains / all the continuum and boundary entities and coordinate systems / defined in GAMBIT. Additionally, some frequently used FIPREP / commands are added. Modify /Add/Uncommment any necessary commands. / Refer to FIPREP documentation for complete listing of commands. /
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *

/
/ CONVERSION OF NEUTRAL FILE TO FIDAP Database

/
FICONV( NEUTRAL ) INPUT( FILE="plasti3.FDNEUT" OU T P U T ( DELETE ) END )

/
TITLE plastic

/
FIPREP

/
/ PROBLEM SETUP / PROBLEM ( 3-D, NONLINEAR,FREE, TRANSIENT ) EXECUTION( NEWJOB ) PRINTOUT{ NONE ) DATAPRINT( CONTROL ) CLIPPING ( MINIMUM ) 0 lE-20 0 lE-20 / / CONTINUUM ENTITIES

/
ENTITY "b o n e " ENTITY / / / ENTITY ENTITY ( NAME = "bone", POROUS, PROPERTY = "bone", MAPERM ) { NAME = "marrow", fluid, PROPERTY = "marrow" ) BOUNDARY ENTITIES ( NAME = "tOpm", PLOT ) ( NAME = "tOpb", PLOT )
62

ENTITY ( NAME X=0, Y=0, ENTITY ( NAME ENTITY ( NAME ENTITY ( NAME

= Z = = =

"bottomm", SURFACE, SPINE, PREF, DEPTH = l) "profilem", PLOT ) "bottomb",PLOT ) "profileb", PLOT )

0,

/
/ SOLUTION PARAMETERS SOLUTION( SEGREGATED = 1000, KINEMATIC = 5, VELC = 0.01, SURFACE = 0.01, CGS = 1000, CR = 1500, NCGCONV = l.E-4, SCGCONV = l.E-4 ) OPTIONS(NOJACOBI) EXTRAPOLATION(NOFREE) /PRESSURE( MIXED = l.E-12, DISCONTINUOUS ) OPTIONS( UPWINDING ) UPWINDING 1 1 1 0 0 0 0 0 POSTPROCESS( NBLOCKS = 2 ) 111 5 400 5 TIMEINTEGRATION( BACKWARD, FIXED, NSTEPS=400, TSTART=0, TEND=5.8588E-Ü3, DT=2.9294E-04) / / MATERIAL PROPERTIES / / Partial list of Material Properties data

/
DENSITY( SET = "bone", CONSTANT =41.97522235 ) VISCOSITY( SET = "bone", CONSTANT = 21 ) GRAVITY( MAGNITUDE = 1 ) PERMEABILITY( SET = "bone", ACOEF, CONSTANT =100, X = 1.9629E-7, Y = 1.9629E-7, Z = 1.9629E-7, POROSITY = 22.5 ) / DENSITY( SET = "marrow", CONSTANT = 50.17225676 ) VISCOSITY( SET = "marrow", CONSTANT =1 ) / / INITIAL AND BOUNDARY CONDITIONS / BCNODE( UX, ZERO, ENTITY = "bottomm" ) BCNODE( U Y , ZERO, ENTITY = "bottomm" ) BCNODE( VELOCITY, CONSTANT = 0, ENTITY = "topm" ) BCNODE( VELOCITY, CONSTANT = 0, ENTITY = "topb" ) ICNODE( VELOCITY, STOKES) $CC = 1 BCNODE(UZ, CONSTANT = 1, CURVE = 1,ENTITY = "bottomm", FACTOR = $cc )

63

BCNODE (SURF, CONSTANT = 1, CURVE = 2,ENTITY = "bottomm", FACTOR = $cc ) TMFUNCTION(SET=1,NP0INTS=21) O.OOOOE+00 O.OOOOE+00 2.9294E-04 1.2751E+00 5.8588E-04 2.5189E+00 8.7882E-04 3 .7006E+00 1.1718E-03 4 .7912E+00 1 .4647E-03 5.7638E+00 1.7576E-03 6.5945E+00 2.0506E-03 7.2628E+00 2.3435E-03 7.7523E+00 2.6365E-03 8.0509E+00 2.9294E-03 8.1512E+00 3.2223E-03 8.0509E+00 3 5153E-03 7.7523E+00 3 8082E-03 7.2628E+00 4 1012E-03 6.5945E+00 4 3941E-03 5 7638E+00 4 6871E-03 4 7912E+00 4 9800E-03 3 7006E+00 5 2729E-03 2 5189E+00 5 5659E-03 1 2751E+00 5 8588E-03 O.OOOOE+00

/
TMFUNCTION(SET=2,NP0INTS=21) O.OOOOE+00 O.OOOOE+00 2.9294E-04 1.8715E-04 5.8588E-04 7.4401E-04 8.7882E-04 1.6569E-03 1.1718E-03 2.9032E-03 4647E-03 4.4524E-03 7576E-03 6 .2662E-03 0506E-03 8.3001E-03 3435E-03 9.0504E-02 2.6365E-03 1.2823E-02 2.9294E-03 1.5201E-02 3.2223E-03 1 7579E-02 3.5153E-03 1 9899E-02 3.8082E-03 2 2103E-02 4.1012E-03 2 4137E-02 4.3941E-03 2 5950E-02 4.6871E-03 2 7500E-02 4.9800E-03 2 8746E-02 5.2729E-03 2.9659E-02 5.5659E-03 3.0216E-02 5.8588E-03 3.0403E-02

64

/
/BCNODE(SURF, CONSTANT = 1, ENTITY = "bottomm" )

/
END

/
CREATE( FIPREP,DELETE ) PARAMETER( LIST ) CREATE( FISOLV ) /RUN(FISOLV,BACKGROUND,FISOLVMEM= 80000000) /RUN( FISOLV, FOREGROUND )

65

