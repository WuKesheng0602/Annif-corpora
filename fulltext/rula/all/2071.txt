NOTE TO USERS

This reproduction is the best copy avaiiable.

UMI
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

SENSITIVITY ANALYSIS OF A BEAMFORMING TECHNIQUE FOR ACOUSTIC MEASUREMENTS

by

Pushpinder Singh Bhullar B E. (Mechanical Engineering), Punjab Technical University, India, 1998

A Thesis Presented to Ryerson University In partial fulfillment of the Requirements for the degree of

M aster/ of Applied Science

In the Department of Mechanical and Industrial Engineering

Toronto, Ontario, Canada, 2004 © (Pushpinder Singh Bhullar) 2004
PROPERTY O F
HYERSON UMiVEiiSITYLiBHARY

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

UMI Number; EC52915

INFORMATION TO USERS

The quality of this reproduction is dependent upon the quality of the copy submitted. Broken or Indistinct print, colored or poor quality Illustrations and photographs, print bleed-through, substandard margins, and improper alignment can adversely affect reproduction. In the unlikely event that the author did not send a complete manuscript and there are missing pages, these will be noted. Also, If unauthorized copyright material had to be removed, a note will Indicate the deletion.

UMI
UMI Microform EC52915 Copyright 2008 by ProQuest LLC. All rights reserved. This microform edition is protected against unauthorized copying under Title 17, United States Code. ProQuest LLC 789 E. Elsenhower Parkway PC Box 1346 Ann Arbor, Ml 48106-1346

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Borrower's Page
Ryerson U niversity requires the signatures o f all persons using o r photocopying this thesis. Please sign below, and give address and date.

Name

Address

Date

(iii)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Acknowledgements
I would like to express my thanks and gratitude to my supervisors. D r. Ramani Ramakrishnan and D r. Greg Kawall, w ithout whose help com pletion o f this thesis w ould not have been possible. I would like to thank D r. Norman B a ll and his colleagues at the N ational Research Council (NRG) o f Canada, Ottawa, fo r supporting this project and fo r providing the opportunity to conduct experiments at the N R C acoustic laboratory. I am grateful to Subajini Kandasamy fo r her invaluable help. Finally, my gratitude goes to m y wife, Manmeet Bhullar, fo r her patience, encouragement and help.

(iv)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Abstract Sensitivity Analysis of a Beamforming Technique for Acoustic Measurements
© Pushpinder Singh Bhullar, 2004 Master o f Applied Science in the program o f Mechanical Engineering Ryerson University

Beamforming is a technique that is used to determine the location o f an acoustic source and the sound level spectrum o f the signal produced by the source. This technique involves an array o f microphones which record acoustic signals at m ultiple locations. A detailed analysis o f the beamforming technique was carried out fo r three different array geometries: a uniform linear array, a uniform planar array, and a random array. The effect o f various parameters, such as the number o f microphones in an array, on the applicability o f the technique was examined using both simulations and experiments. The simulation results established that the source localization capability o f a uniform linear array is limited to an acoustic source lyirig in the plane o f the array. In contrast, a planar array (either uniform or random) does not suffer the above lim itation. These results also showed that a random array (e.g., a spiral array) is the best o f all the array geometries. The experimental results demonstrated the robustness o f the beamforming technique in localizing an acoustic source and also confirm ed the superiority o f a uniform planar array over a uniform linear array.

(V )

A
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Table of Contents
Author^s declaration ..................................................................................................... ii Borrower's p a g e ........................................................................................................... iii Acknowledgem ents ...................................................... A bstract ................................................................................ Table of con ten ts ...........................................................................................................vi List o f F igu res .............................·................................................................................. ix List o f T ables .............................. N om enclature ........................ Chapter 1 xxii jcxiii iv

Introduction .............................................................................................. 1

1.0 B a c k g ro u n d .................................................................................................................................... 1 1.1 Basic aspects o f source id e n tific a tio n ........................................................................................ 1 1.1.1 Far-field source lo c a tio n ..........................................................................................................4 1.2 Source identification techniques in acoustic ............................................................................. 5 1.2.1 The sound intensity technique....................................................................................................5 1.2.2 The time delay estimation (T D E ) technique ...................................................................... 5 1.2.3 The acoustic m irror te c h n iq u e ...............................................................................................5 1.2.4 Acoustic array techniques....................................................................................................... 5 1.2.4.1 The near-filed acoustical holography (N A H ) technique.......................................... 6 1.2.4.2 The beamforming technique......................................................................................... 6 1.3 A brief history o f beamforming ...................................................................................................7 1.4 The objective o f this thesis ............................................................................................................8

Chapter 2

Beamforming in acoustics

......................................................... 10

2.0 In tro d u c tio n .................................................................................................................................... 10 2.1 Basic theory o f delay and sum beamforming (D S B )................................................................ 11 2.2 D igital data collection and post-processing p ro c e d u re .......................................................... 19 2.2.1 Spatial a lia s in g ....................................................................................................................... 20 2.2.2 Temporal a lia s in g .................................................................................................................. 21 2.2.3 Data post-processing procedure ....................................................................................... 22 2.2.3.1 Cross spectral m atrix ( C S M )..................................................................................... 22 2.2.3.2 Steering vector and array p o w e r .............................................................................. 24 2.3 Array g e o m e trie s ..................................................................................................................... 25 2.3.1 U n iform linear array ( U L A ) .................................................................................................26

(V i)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

2.3.2 U n iform planar array ( U P A ) .............................................................................................. 26 2.3.2.1 U niform Rectangular array (U R A )............................................................................27 2.3.2.2 U niform Circular array ( U C A ) ................................................................................ 27 2.3.3 Random a r r a y ...................................................................................................................... 27

Chapter 3 Sensitivity analysis - simulation d a t a ..................................................... 30
3.0 In tro d u c tio n ..................................................................................................................................30 3.1 Simulation d e ta ils ........................................................................................................................ 31 3.2 U niform Linear A rray - far field b e a m fo rm in g ........................................................................32 3.2.1 Effect o f number o f microphones (N) ................................................................................. 33 3.2.2 Effect o f source signal frequency ( /) ................................................................................... 35 3.2.3 Effect o f integer and non-integer number o f cycles w ith time w in d o w s ......................38 3.2.4 Effect o f inter-microphone distance ( d ) .............................................................................42 3.2.5 Effect o f source position. : .................................................................................................. 44 3.2.6 Effect o f m ultiple frequencies...............................................................................................46 3.2.7 Effect o f number o f data blocks w ithout noise.................................................................. 47 3.2.8 Effect o f noise fo r a single block o f data .........................................................................48 3.2.9 Effect o f noise w ith several blocks (L) o f d a t a ................................................................ 52 3.3 U niform Linear A rray- near field beam form ing....................................................................... 56 3.3.1 Effect o f number o f microphones (AO and source signal frequency ( / ) .........................57 3.3.2 Effect o f source p o s itio n ..................................................................................................... 65 3.3.3 Effect o f inter-microphone distance ( d ) .............................................................................71 3.4 U niform Planar A rray- near field beamforming ..................................................................... 74 3.4.1 Effect o f number o f microphones (AO and source signal frequency ( f ) .........................75 3.4.2 Effect o f source p o s itio n ..................................................................................................... 81 3.4.3 Effect o f inter-microphone distance ( d ) ............................................................................. 86 3.5 Comparison between a U L A and a UP A w ith a near field s o u rc e ....................................... 88 3.6 Random Array- near field beam form ing....................................................................................91 3.6.1 Effect o f number o f microphones (AO................................................................................. 93 3.6.2 Effect o f source signal frequency ( / ) .................................................................................. 95 3.6.3 Effect o f source p o s itio n ..................................................................................................... 98

Chapter 4 Sensitivity analysis - experimental d a t a ...............................................103
4.0 In tro d u c tio n ................................................................................................................................ 103 4.1 Experimental setup and data acquisition s y s te m ................................................................... 103 4.1.1 Experimental setup......................................................................................................... 103 4.1.2 Data acquisition system ................................................................................................... 105 4.2 Horizontal U n iform Linear A rray ( H U L A ) ............................................................................106 4.2.1 Effect o f number o f microphones (N) ................................................................................ 107 4.2.2 Effect o f source p o s itio n ................................................................................................... 112 4.2.3 Effect o f inter-microphone distance ( d ) ............................................................................116 4.3 Comparison between a V ertical U n ifo rm Linear A rray (V U L A ) and an H U L A 118 4.4 Cross A rray................................................................................ 122 4.4.1 Effect o f number o f microphones ( N ) ..............................................................................124

(vii)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

4.4.2 Effect o f source p o s itio n ...................................................................................................128 4.5 Comparison between an H U L A , a V U L A , and a Cross a r r a y ............................................. 132

Chapter 5 Summary, conclusions and future work --

.................................. 138

5.0 In tro d u c tio n ................................................................................................................................ 138 5.1 Summary o f simulation r e s u lts ............................................................................................... 138 5.1.1 U niform Linear A rra y - far field beamforming ............................................................ 138 5.1.2 U n iform Linear A rray -- near field beam form ing......................................................... 139 5.1.3 U niform Planar A rray - near field beam form ing.............................................................139 5.1.4 Random A rray - near field beam form ing......................................................................... 140 5.2 Summary o f experimental r e s u lts ..............................................................................................140 5.2.1 U n iform Linear A rra y --near field beam form ing............................................................140 5.2.2 Cross a r r a y .....................................................i .................................................................... 141 5.3 C onclusion................................... ' . .............................................................................................. 141 5.4 Future w o r k ...................................................................................................................................141

R eferen ces.....................................................................................................................143 Appendix A Appendix B Appendix C MATLAB c o d e ................................................................................. 146 Validation of MATLAB c o d e ......................................................... 154 Signal-to-noise ratio (SNR) of a microphone a rr a y .................. 169

(v iii)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

List of Figures
Figure 1.1 (a) Figure 1.1 (b) Figure 2.1 Figure 2.2 Figure 2.3 Figure 2.4 (a) Figure 2.4 (b) Figure 2.5 (a) Figure 2.5 (b) Figure 2.6 Figure 2.7 Figure 2.8 Figure 3.1 D epiction o f near fie ld source lo c a tio n ..............................................................2 D epiction o f far fie ld source lo c a tio n ................................................................ 2 A typ ica l beamforming m a p ................................................................................ 10 D epiction o f delay and sum b e a m fo rm in g ........................................................ 11 U n ifo rm Linear A rra y (U L A ) w ith a far fie ld source.......................................17 B eam form ing map fo r 10 microphones in a linear array w ith d = / 2 . . . 21

Beam form ing map fo r 10 microphones in a linear array w ith d = 21^,^ . . . 21 Spectrum obtained w ith S R > 2 Spectrum obtained w ith S R < 2 ................................................................... 22 ................................................................... 22

U n ifo rm Rectangular A rra y (U R A ) w ith a far fie ld source..............................28 U n ifo rm C ircular array (U C A ) w ith a far fie ld source..................................... 28 Random array w ith a far fie ld source.................................................................29 A rra y resolution fo r N = \ 0 and N--SO ................................................................. 31

U n ifo rm L in e a r A r r a y - fa r fie ld b e a m fo rm in g Figure 3.2 Beam form ing results, fo r A = 2 & 5 0 , / = 4500 Hz; (a) A rra y pow er p lo t (b) SPL spectrum ................................................................................................... 34 Figure 3.3 Figure 3.4 E ffe ct o f num ber o f microphones on array re s o lu tio n .....................................34 B eam form ing results, fo r N = 2,f= 500 H z & 8000 Hz; (a) A rra y pow er p lo t (b) SPL s p e c tru m .......................................................................................... 36 Figure 3.5 B eam form ing results, fo r A = 5 0 ,/= 500 H z & 8000 Hz: (a) A rra y pow er p lo t (b) SPL spectrum ........................................................................................... 36 Figure 3.6 Figure 3.7 E ffe ct o f source signal frequency on array re so lu tio n ......................................38 Beam form ing results, fo r N = \l,f= 4500 Hz, w ith a non-integer number o f cycles and rectangular w indo w ; (a) - (e) A rra y pow er plots fo r 346*, 347 *, 348*, 349*, 35 0 * frequency bins (f) SPL s p e c tru m ............................ 40

(ix )

à
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 3.8

B eam form ing results, for N~n,J=^ 4500 Hz, w ith a non-integer number o f cycles w ith Rectangular and Hanning w indow s; (a) A rra y pow er plot (b) SPL spectrum ....................................................................................................41

Figure 3.9

Beam form ing results, fo r N=ll,J== 4500 Hz, w ith an integer number o f cycles w ith Rectangular and Harming w indow s; (a) A rra y power p lo t (b) SPL spectrum....................................................................................................41

Figure 3.10 Figure 3.11 Figure 3.12 Figure 3.13

E ffect o f non-integer number o f cycles on array re s o lu tio n ......................... 42 Beam form ing results for d=3d*; (a) A rra y pow er p lo t (b) SPL spectrum.. 43 Beam form ing results for d -d * ; (a) A rra y pow er p lo t (b) SPL spectrum .. 43 Beam form ing results fo r d = J */2 ; (a) A rra y pow er p lo t (b) SPL S pectrum ........................................................... 44

Figure 3.14

Beam form ing results fo r 0= ~\ .0 radians, 6 = 0 radians; (a) A rra y power p lo t (b) SPL spectrum............................................................................................. 45

Figure 3.15 Figure 3.16

E ffect o f source location on array r e s o lu tio n ..................................................... 45 Beam form im g results, fo r N = \ 7, m u ltiple frequency signal; (a) - (c) A rra y pow er plots fo r 145^, 209*, and 2 5 7 * frequency bins (d) SPL s p e c tru m ...................................................................................... 46

Figure 3.17 Figure 3.18 Figure 3.19

Beam form ing results fo r L = \ ; (a) A rra y pow er plot (b) SPL spectrum.......... 47 Beam form ing results fo r L=\0; (a) A rra y pow er p lo t (b) SPL spectrum ... 48 Beam form ing results fo r SNRo=0.52,77=10; (a) A rra y pow er p lo t (b) SPL s p e c tru m ...................................................................................................50

Figure 3.20

Beam form ing results fo r SNRo=0.0012,77=10; (a) A rra y power p lo t (b) SPL spectrum..................................................................................................... 50

Figure 3.21

Beam form ing results fo r SNRo=0.0003,77=10; (a) A rra y pow er p lo t (b) SPL s p e c tru m ...................................................................................................51

Figure 3.22

B eam form ing results fo r SNRo=0.52,77=45; (a) A rra y pow er p lo t (b) SPL s p e c tru m ...................................................................................................51

Figure 3.23

Beam form ing results fo r SNRo=0.0012,77=45; (a) A rra y power plot (b) SPL spectrum..................................................................................................... 51

(X )

\ Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1

Figure 3.24

Beamforming results fo r SNRo=0.0003, N=45; (a) A rray power plot (b) SPL spectrum ...................................................................................................52

Figure 3.25

Beamforming results fo r SNRo=0.0012, N=10, L=23; (a) A rray power plot (b) SPL spectrum..............................................................................................54

Figure 3.26

Beamforming results fo r SNRo=0.0003, N=10, L=4; (a) A rray power plot (b) SPL spectrum..............................................................................................54

Figure 3.27

Beamforming results fo r SNRo=0.0012, N=45, L=10; (a) A rray power plot (b) SPL spectrum.............................................................................................54

Figure 3.28

Beamforming results fo r SNR q = 0.0003, A=45,1L=15; (a) A rray power plot (b) SPL spectrum........................................ 55

Figure 3.29

Plot between optim um numbers o f blocks (L) versus number o f microphones (A ) fo r SNRo = 0.0012 and SNRo = 0.0003 .................................55

Uniform Linear Array-near field beamforming
Figure 3.30 Figure 3.31 Depiction o f U n iform Linear A rray w ith a near field s o u r c e ............................ 57 Beamforming results fo r N=S,f= 500 Hz; (a) Beamforming map; 3D plot (b) Beamforming map: 2D p lo t...................................................................... 59 Figure 3.32 Beamforming results fo r N=S,f= 3000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map:2D p lo t (line at. -3 d B ) ....................................... 60 Figure 3.33 Beamforming results fo r A =8; (a) A rray power along x-axis fo r /= 5 0 0 Hz and 3000 H z (b) A rray power along y-axis fo r/= 5 0 0 Hz and 3000 H z . . . . 60 Figure 3.34 Beamforming results fo r A = 4 8 ,/= 500 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 d B ) ............................ Figure 3.35 Beamforming results fo r A = 4 8 ,/= 3000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 d B ) .......................................61 Figure 3.36 Beamforming results fo r A=48; (a) A rray power along x-axis fo r / =500 Hz and 3000 H z (b) A rray power along y-axis fo r ^ 5 0 0 Hz and 3000 H z...........61 Figure 3.37 (a) SPL spectrum f o r / = 500 Hz and 3000 Hz, w ith A=8, (b) SPL spectrum o r /= 500 H z and 3000 Hz, w ith A = 48.................................................................. 61 Figure 3.38 Effect o f frequency and microphones on array,resolution along x-axis . . . . 64 60

(xi)

. 1
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 3.39

Effect o f signal frequency and microphones on array resolution along y -a x is .......................................................................................................................... 65

Figure 3.40

Beamforming results; (a) Beamforming map: 2D plot, fo r X = -0.4 m w ith Y = 0.5 m (b) Beamforming map: 2D plot, fo r X = 0 m w ith Y = 0.5 m. . . 67

Figure 3.41

Beamforming results; (a) A rray power along x-axis fo r X = -0 .4 m and X = 0 m w ith Y=0.5 m (b) A rray power along y-axis at X = -0.4 m and X = 0 m w ith Y =0.5 m ...............................................................................................68

Figure 3.42

Beamforming results; (a) Beamforming map: 2D plot fo r X = 0 m w ith Y = 0.25 m (b) Beamforming map: 3D plot fo r X = 0 m w ith Y = 1.5 m . . . 68

Figure 3.43

Beamforming results; (a) A rray power along x-axis fo r Y=0.25 m ,Y=1.5 m (X = 0 ra) (b) A rray pow er along y-axis fo r Y=0.25 m,=1.5 m (X = 0 m). . . . 68

Figure 3.44

Beamforming results fo r X = 0 m and Y=25 m; (a) Beamforming map: 3D plot (b) A rray power versus x-axis:2D p lo t....................................................69

Figure 3.45

Beamforming results fo r X = 0 m and Y=25 m; A rray pow er along x-axis (b) A rray power along y-axis.......................................................................69

Figure 3.46

Effect o f source variation on array resolution; (X = -0 .4 m to X = 0.4 m w ith

Y=0.5 m ) ................................................................................................................... 70
Figure 3.47 Effect o f source variation on dynamic range; (X = -0.4 m to X = 0.4 m w ith

Y=0.5 m ).................................
Figure 3.48 Effect o f source variation on array resolution; (Y = 0.25 m to Y=1.7 m w ith X = O ra )................................... Figure 3.49 Effect o f source variation on dynamic range; (Y = 0.25 m to Y =1.7 m w ith

70

71

X = O m ) .................................................................................................................... 71 Figure 3.50 Beamforming results fo r N=20,f=3000 Hz, d=8d*', (a) Beamforming map: 3D plot (b) Beamforming map: 2D p lo t...................... 72 Figure 3.51 Beamforming results fo r A = 2 0 ,/= 3 0 0 0 Hz, d=Sd*; (a) A rray pow er along the x-axis (b) A rray power along the y -a x is ..............73 Figure 3.52 Beamforming results fo r N=20, f=3000 Hz, d=d*', (a) Beamforming map: 3D plot (b) Beamforming map: 2D p lo t.................... 73

(x ii)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 3.53

Bearnforming results fo r Afc=20,/=3000 Hz, d-- d*\ (a) A rra y pow er along the x-axis. (b) A rray pow er along the y-axis............. 73

Figure 3.54

Beamforming results fo r A = 2 0 ,/= 3 0 0 0 Hz, d=d*l2\ (a) Beamforming map: 3D plot (b) Beamforming map: 2D p lo t ................... 74

Figure 3.55

Beamforming results fo r A = 2 0 ,/= 3 0 0 0 Hz, d=d*H\ (a) A rray pow er along the x-axis (b) A rray power along the y -a x is ..............74

Uniform Planar Array-near field beamforming
Figure 3.56 Figure 3.57 Acoustic source localization w ith a uniform planar r r a y ..................................76 Beamforming results fo r iV=16 (a square array o f 4 x 4 ) , / = 3000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 d B ) ...........................................................................................................78 Figure 3.58 Beamforming results fo r A=16 (a square array o f 4 x 4 ) , / = 8000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 d B ) ..........................................................................................................78 Figure 3.59 Beamforming results fo r N=\6 (a square array o f 4 x 4); (a) A rray power along x-axis fo r/= 3 0 0 0 Hz (b) A rray power along x-axis fo r/= 8 0 0 0 H z . . . 78 Figure 3.60 Beamforming results fo r A=36 (a square array o f 6 x 6 ) , / = 3000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 d B ) ..........................................................................................................79 Figure 3.61 Beamforming results fo r N=36 (a square array o f 6 x 6 ) , / = 8000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 d B ) ..........................................................................................................79 Figure 3.62 Beamforming results fo r A=36 (a square array o f 6 x 6); (a) A rray power along x-axis fo r/= 3 0 0 0 Hz (b) A rray power along x-axis fo r/= 8 0 0 0 Hz. ...79 Figure 3.63 Figure 3.64 Effect o f number o f microphones and signal frequency on array resolution..81 Beamforming results fo r N=25 (5 x 5) and/=6000 Hz; (a) Beamforming map: 2D plot fo r X = -0.7 m (Y = 0 m, Z=0.5 m) (b) Beamforming map: 2D plot fo r X = -0.5 m, (Y = 0 m, Z =0.5 m) (c) Beamforming map: 2D plot fo r X = -0.3 m to X=-0.3 m ,(Y =0 m, Z=0.5 m) (d) Beamforming map: 2D plot fo r X = 0 m (Y = 0 m, Z=0.5 m ) .................................................................................... 83

(xin)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 3.65

Bearnforrning results fo r N=25 (5 x 5) andjf=6000 Hz; (a) A rray pow er along the x-axis fo r X =-0.5 m (Y = 0 m, Z=0.5 m) (b) A rray pow er along the x-axis fo r X = 0 m, (Y = 0 m, Z=0.5 ) ...................................................................................83

Figure 3.66

Beamforming results fo r N=25 (5 x 5) and/=6000 H z; (a) Beamforming map; 2D p lo t fo r Z=0.25 m (X = 0 m, Y = 0 m) (b) Beamforming map: 2D plot fo r Z= 0.5 m (X = 0 m, Y = 0 m) (c) Beamforming map: 2D p lo t fo r 2 ^ 2 .0 m (X = 0 m, Y = 0 m) (d) Beamforming map: 2D plot; Z=5.0 m (X = 0 m, Y = 0 m )..........84

Figure 3.67

Beamforming results fo r N=25 (5 x 5) and/=6000 Hz; (a) A rra y resolution along the x-axis fo r Z = 0.25 m (X = 0 m, Y = 0 m) (b) A rray resolution along the x-axis fo r Z = 5.0 m (X = 0 m, Y = 0 m ) ............................................ 84

Figure 3.68

Effect o f source variation on array resolution; (X = -0.7m to X = 0.7 m w ith Y = 0 m and Z=0.5 m ) ...............................................................................................85

Figure 3.69

Effect o f source variation on dynamic range; (X = -0 .7m to X =0.7 m w ith Y = 0 m and Z=0.5 m ) , ...................................................................................85

Figure 3.70

Effect o f source variation on array resolution; (Z=0.25 m to Z=5 m w ith X = 0 m and Y = 0 m ) ............................ 86

Figure 3.71

Effect o f source variation dynamic range; (Z=0.25 m to Z=5 m w ith X = 0 m and Y = 0 m )................................................................................................... 86

Figure 3.72

Beamforming results fo r N=16 (a square array o f 4 x 4), / = 8000 Hz,

d=4d*; (a) Beamforming map: 3D plot (b) A rray pow er p lo t along the
x -a x is .......................................................................................................................... 87 Figure 3.73 Beamforming results fo r N=16 (a square array o f 4 x 4 ) , / = 8000 Hz, d=d* (a)Beamforming map: 3D plot (b) A rray power plot along the x -a x is Figure 3.74 Beamforming results fo r N=16 (a square array o f 4 x 4 ) , / = 8000 Hz, 87

d-d*l2\ (a) Beamforming map: 3D plot (b) Array pow er p lo t along x-axis...88 Comparison between a ULA and a UFA with a near field source
Figure 3.75 Beamforming results fo r X = 0 m, Y = 0 m, Z=0.5 m; (a) Beamforming map: 2D p lo t fo r a U S A w ith 77=36 (6 x 6) (b) Beamforming map:2D plot fo r a U L A w ith 36 microphones placed along the x-axis...................................90 (xiv)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

%

Figure 3.76

Beamforming results fo r a U S A w ith A=36 (6 x 6); X = 0 m, Y = 0 m, Z=0.5 m: (a) A rray power along the x-axis (b) A rray pow er along the y-axis.................................................................................................................... 90

Figure 3.77

Beamforming results fo r a U L A w ith 36 microphones placed along the x-axis; X = 0 m, Y = 0 m, Z=0.5 m; (a) A rray pow er along the x-axis (b) A rray pow er along the z-axis..........................................................................90

Figure 3.78

Beamforming results fo r X = 0 m, Y=-0.3 m, Z=0.5 m (a) Beamforming M ap; 2D p lo t fo r a U L A w ith 36 microphones placed along the x-axis (b) Beamforming map: 2D plot fo r a U L A w ith 36 microphones placed 91

along the y-axis..................................................................... Figure 3.79 Beamforming results fo r a USA, N=36 (6 x 6); (a) Beamforming map: 2D plot fo r X = 0.0 m, Y=-0.3 m, Z=0.5 m (b) Beamforming map: 2D plot

fo r X=0.2 m, Y=-0.3 m, Z=0.5 m..........................................................................91

Random Array - near field beamforming
Figure 3.80 Figure 3.81 Large Aperture Directional Array (L A D A )............................................................ 92 Beamforming results fo r A = 1 5 ,/= 4000 Hz; (a) Beamforming map: 3D p lo t (b) Beamforming map: 2D p lo t.......................................................................94 Figure 3.82 Beamforming results fo r A = 3 5 ,/= 4000 Hz; (a) Beamforming map: 3D p lo t (b) Beamforming map: 2D p lo t.......................................................................94 Figure 3.83 Beamforming results fo r/= 4 0 0 0 Hz; (a) A rray pow er plot fo r N=-15 (b) Figure 3.84 Figure 3.85 Figure 3.86 A rray pow er plot fo r N-- 2> 5..............................................................................94

E ffect o f number o f microphones on the array re so lu tio n ...................................95 Effect o f number o f microphones on the dynamic range...................................... 95 Beamforming results fo r A = 35 ,/= 4000 Hz; (a) Beamforming map: 3D p lo t (b) A rra y power along the x-axis.................................................................... 96

Figure 3.87

Beamforming results fo r A = 35,/= 30,000 Hz; (a) Beamforming map: 3D plot (b) A rray pow er along the x - a x is ........................................................... 97

Figure 3.88 Figure 3.89

Effect o f source signal frequency on the array re so lu tio n ...................................97 E ffect o f source signal frequency on the dynamic range...................................... 97

(XV)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 3.90

Beamforming results fo r N = 35 ,/= 4000 Hz, X = -0.7 m (Y = 0 m and Z=0.5 m): (a) Beamforming map: 2D plot (b) A rray pow er along the x-axis.....................................................................................................................99

Figure 3.91

Beamforming results fo r iV=35,/=4000 Hz, X = 0 m (Y = 0 m and Z=0.5 m); (a) Beamforming map: 2D plot (b) A rray pow er along the x-axis.....................................................................................................................99

Figure 3.92

Beamforming results fo r 77=35,/= 4 0 0 0 Hz, 2L=0.25 m (X = 0 m and Y = 0 m); (a) Beamforming map: 3D plot (b) A rray pow er along the x-axis..........................................................................................................99

Figure 3.93

Beamforming results fo r 77=35,/= 4 0 0 0 Hz, Z=5 m, (X = 0 m and Y = 0 m) (a) Beamforming map: 3D plot (b) A rray pow er along the x - a x is ...............100

Figure 3.94

Beamforming results fo r 77=35,/= 4 0 0 0 Hz; (a) A rray pow er along the x-axis fo r Z=0.5 m, (X = 0 m and Y = 0 m); (a) A rray pow er along the x-axis fo r Z=1.5 m, (X = 0 m and Y = 0 m ) ........................................................... 100

Figure 3.95

Effect o f source variation along the x-axis on the array resolution; ( X =-0.7 m to X=0.7 m w ith Y = 0 m and Z=0.5 m). . . ............................... 101

Figure 3.96

Effect o f source variation along the x-axis on the dynamic range; ( X = -0.7 m to X=0.7 m w ith Y = 0 m and Z=0.5 m )........................................ 101

Figure 3.97

Effect o f source variation along the z-axis on the array resolution; ( Z=0.25 m to Z=5 m w ith X = 0 m and Y = 0 m ) ................................................102

Figure 4.1 Figure 4.2 Figure 4.3

(a) H orizontal uniform linear array (H U L A ) (b) Cross a r r a y ....................... 104 Data acquisition system ............................................................................................. 105 Internal details o f data acquisition system (Courtesy: N R C , O ttaw a) 106

Horizontal Uniform Linear Array
Figure 4.4 Beamforming results fo r 77=4; (a) Beamforming map: 3D plot (b) Figure 4.5 Beamforming map: 2D plot (white lines at -3 d B )................................... 109

Beamforming results fo r 77=4; (a) A rray pow er along the x-axis (b) A rray pow er along the y-axis.......................................... 109

Figure 4.6

Beamforming results fo r 77=16; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 d B ) ....................................... 110 (xvi)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 4,7

Beamforming results fo r N=16; (a) A rray power along the x-axis (b) A rray pow er along the y -a x is .......................................................................110

Figure 4.8

U L A beamforming results using simulation data when the separation distance between the central centre microphones is 2d (0.1016 m), fo r N=4, N=S, A=40; (a) A rray pow er along the x-axis (b) A rray pow er along the y -a x is 110

Figure 4.9

U L A beamforming results using simulation data when the separation distance between the central centre microphones is d (0.0508 m), fo r A^=4, N=2>, A=40; (a) A rray power along the x-axis (b) A rray power along the y -a x is Ill

Figure 4.10

Effect o f number o f microphones on dynamic range along the x-axis when the separation distance between the central microphones o f U L A is 2d:

experimental and simulation d a ta ....................................................................... 112
Figure 4.11 Effect o f number o f microphones on array resolution along the x-axis And y-axis when the separation distance between the central microphones o f U L A is 2d: experimental d a ta .............................................................................112 Figure 4.12 Beamforming results fo r X=0.02 m, Y=0.49 m; (a) Beamforming map: 3D p lo t (b) Beamforming map: 2D plot (ellipse at -3 d B ) .....................................114 Figure 4.13 Beamforming results fo r X=0.02 m, Y=0.49 m; (a) A rray power along the x-axis (b) A rray pow er along the y-axis........................................................... 114 Figure 4.14 Beamforming results fo r X=-0.18 m, Y=0.51 m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D p lo t (ellipse at -3 d B ) .............................. 114 Figure 4.15 Beamforming results fo r X=-0.18 m, Y=0.51 m; (a) A rray power along the x-axis (b) Array power along the y -a x is .......................................................115 Figure 4.16 Beamforming results fo r X=0.01 m, Y=0.87 m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 d B ) .....................................115 Figure 4.17 Beamforming results fo r X=0.01 m, Y=0.87 m; (a) A rray pow er along the x-axis (b) A rray power along the y-axis............................................................ 115 Figure 4.18 Beamforming results N=8, d= 2d*\ (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (white irregular line at -3 d B ) .......................117 Figure 4.19 Beamforming results fo r N=4, d=4d*\ (a) Beamforming map: 3D plot (b) Beamforming map: 2D p lo t (white lines at -3 d B ) ................................ 117 (xvii)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 4.20

Bearnforrning results fo r N=4, d=4d*', (a) A rray pow er along the x-axis (b) A rra y pow er along the y -a x is .......................................................................118

Comparison between a Vertical Uniform Linear Array (VULA) and an HULA
Figure 4.21 Beamforming results fo r V U L A , N=16; (a) Beamforming map: 3D plot (b) Figure 4.22 Beamforming map: 2D plot (ellipse at -3 d B ) ...........................................120

Beamforming results fo r V U L A , N=16; (a) A rray pow er along the x-axis (b) A rray pow er along the y-axis........................................................................120

Figure 4.23

Beamforming results fo r H U L A , N=16; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 d B ) ................................... 121

Figure 4.24

Beamforming results fo r H U L A , N=16', (a) A rray power along the x-axis (b) A rray pow er along the y-axis........................................................121

Figure 4.25

Beamforming results using simulation data fo r V=16; (a) A rray power along the x-axis fo r V U L A (b) A rray pow er along the x-axis fo r H U L A .................................................................................................................... 121

Cross Array
Figure 4.26 Beamforming results fo r A=8 (a cross array o f 4 x 4 ); (a) Beamforming map: 3D p lo t (b) Beamforming map: 2D plot ( ring at -3 d B ) ..................... 125 Figure 4.27 Beamforming results fo r N=S (a cross array o f 4 x 4); (a) A rra y power along x-axis (b) A rray pow er along y-axis.......................................................... 126 Figure 4.28 Beamforming results fo r N=32 (a cross array o f 16 x 16); (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 d B )........................ 126 Figure 4.29 Beamforming results fo r N=32 (a cross array o f 16 x 16); (a) A rray power along x-axis (b) A rray power along y-axis.......................................................... 126 Figure 4.30 Cross array beamforming results using simulation data when the separation distance between the central centre microphones is 2d (0.1016 m), fo r N=8,

N=20, N=32\ (a) A rray pow er along x-axis (b) A rray power along y-axis... 127
Figure 4.31 Cross array beamforming results using simulation data when the separation distance between the central centre microphones is d (0.0508 m), fo r vV=8, V=20, N=32; (a) A rray power along x-axis (b) A rray pow er along y-axis... 127

(x v ü i)

K
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

i

Figure 4.32

Beamforming results fo r (0.01, 0.01, 0.53) m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 d B )................................................ 129

Figure 4.33

Beamforming results fo r (0.0,1 0.01, 0.53) m; (a) A rray pow er along the xaxis (a) A rray power along the y-axis.............................................................. 130

Figure 4.34

Beamforming results fo r (0.31, 0.02, 0.52) m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 d B )...................................... 130

Figure 4.35

Beamforming results fo r (0.31, 0.02, 0.52) m; (a) A rray pow er along the xaxis (a) Anray power along the y-axis.............................................................. 130

Figure 4.36

Beamforming results (a) plot o f normalized array pressure for (0.01, 0.01, 0.53) m (b) plot o f normalized array pressure fo r (0.31, 0.02, 0.52) m ................................................................................................ 131

Figure 4.37

Beamforming results fo r (0.01, -0.05, 0.76) m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D p lo t (ring at -3 d B ) ...................................... 131

Figure 4.38

Beamforming results fo r (0.01, -0.05, 0.76) m; (a) A rray pow er along the x-axis (b)A rray power along the y-axis............................................................... 131

Comparison between an HULA, a VULA. and a Cross array
Figure 4.39 Beamforming results fo r the H U L A , A/=8 at (0.01, 0.01, 0.53) m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (white line at - 3 d B ) ............................................................................................. 133 Figure 4.40 Beamforming results fo r the H U L A , N -S at (0.01, 0.01, 0.53) m; (a) Amray pow er along the x-axis (b) A rray pow er along the y -a x is Figure 4.41 Beamforming results fo r the V U L A , A/=8 at (0.01,0.01, 0.53) m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (white line at -3 d B ) ............................................................................................. 134 Figure 4.42 beam form ing results fo r the V U L A , N=S at (0.01, 0.01, 0.53) m; (a) A rray power along the x-axis (b) Atrray power along the y-axis................................135 Figure 4.43 Beamforming results fo r the cross array, V=8 at (0.01, 0.01, 0.53) m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D p lo t (ring at -3 d B ) ...................................................................................................... 135 (xix) 134

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 4.44

Beamforming results fo r the cross array, A/=8 at (0.01, 0.01, 0.53) m; (a) A rray pow er along the x-axis (b) A rray power along the y -a x is 135

Figure 4.45

Beamforming results, N=16, at (-0.29, 0.01, 0.5) m; (a) Beamforming map: 2D p lo t using H U L A (b) Beamforming map: 2D p lo t using V U L A ..............136

Figure 4.46

Beamforming map (2D plot), N=32 at (-0.29, 0.01, 0.5) m using the cross array ....................................................................................................................... 136

Figure 4.47

Beamforming results fo r the H U L A , N=16 at (-0.29, 0.01, 0.5) m; (a) A rray pow er along the x-axis (b) A rray power along the z - a x is ............. 136

Figure 4.48

Beamforming results fo r the V U L A , N=16 at (-0.29, 0.0,1 0.5) m; (a) A rray pow er along the y-axis (b) A rray power along the z-axis ........... 137

Figure 4.49

Beamforming results fo r the cross array, N=32 at (-0.29, 0.01, 0.5) m; (a) A rray pow er along the x-axis (b) A rray power along the y -a x is 137

A p p e n d ix B Figure B . l F ig u re B .2 U n iform Linear A rray (U L A ) w ith a far field source........................................ 155 Theoretical bearnforrning results fo r a U L A , far field beamforming, V=20; (i) A rray pattern (dB) vs. D O A fo r 6*= 0 radians (ii) A rray pattern (dB) vs. D O A fo r 0= 0.5 radians................................................................................... 157 Figure B.3 Theoretical beamforming results fo r a U L A , far field beamforming, fo r 0= 0 radians, V =10 and N=50 .........................................................................157 Figure B.4 Figure B.5 U niform rectangular array w ith a far field source.............................................. 159 Theoretical beamforming results fo r U F A , far field beamforming V, = V, =
^ 2

=7 ;

=7; (i)(a) A rray pattern (magnitude) vs. D O A fo r ç=^0.5 radians and plot. (i)(b) A rray pattern (magnitude) vs. DOA

0=0.5 radians, 2D

fo r (p=0.5 radians fo r (p=0.5 radians and 0=0.5 radians, 2D plot (ii)(a) Array pattern (magnitude) vs. D O A fo r (p=0.15 radians and ^ 1 . 0 radians, 3D plot (ii)(b ) A rra y pattern (magnitude) vs. DOA fo r

(p=0.15

radians

and 0=1.0 radians, 2D p lo t................................................................................... 160

(xx)

L
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure B.6

Theoretical beamforming results fo r a U L A , near field beamforming,

N=2A\ (i)(a) A rray Pattern (mag.) vs X (m) & Y (m) at X = 0 m;
Y=0.5 m,3D p lo t (i)(b) A rray Pattern (mag.) vs X (m) & Y (m) at X = 0 m; Y =0.5 m, 2D plot (i)(c) A rray Pattern (mag.) vs X (m) & Y (m) at X=0.3 m; Y =0.7 m, 3D plot (i)(d) A rray Pattern (mag.) vs X (m) & Y (m) at X=0.3 m; Y=0.7 m, 2D p lo t..................................................161 Figure B.7 Theoretical beamforming results fo r a U P A, near field beamforming, iV=25 (5 X 5); (ii)(a) A rray Pattern (mag.) vs X (m) & Y (m) at X = 0 m; Y=0.0 m, Z=0.5, 3D plot(ii)(b) A rray Pattern (mag.) vs. X (m) & Y (m) at X = 0 m; Y=0.0 ni, Z=0.5, 2D plot (ii) I A rray Pattern (mag.) vs. X (m) & Y (m) at X = 0 m; Y=0.0 m, Z=0.75, 3D p lo t (ii)(d) A rray Pattern (mag.) vs X (m) & Y (m) at X = 0 m; Y =0.0 m, Z=0.75, 2D p lo t......................................................................................................................162 Figure B.8 Theoretical beamforming results fo r a U L A , near field beamforming w ith source at (0.0, 0.5) m and A^=8 & N=2A\ (a) array pow er along the x-axis (b) array pow er along y-axis...................................................................... 163 Figure B.9 Simulation beamforming simulation results fo r a U L A , far field beamforming, A=20; (i) A rray power (dB) vs. D O A fo r 6= 0 radians (ii) Figure B. 10 Figure B .l 1 A rray pow er (dB) vs. D O A fo r ^ 0.5 radians........................................... 164

Plots o f j(r), and the spectrum o f 6'(r)................................................................. 166 Simulation array pow er results obtained using M A T L A B code. (i) 6= 0 radians (ii) 6= 0.5 radians................................................................... 167

Figure B.12

Simulation spectrum results obtained using M A T L A B code. (i) 6= 0 radians and (ii) 9= 0.5 radians.............................................................. 168

(xxi)

Reproduced with permission of the copyright owner. Further reproduotion prohibited without permission.

List of Tables
Uniform Linear Array (ULA) - far field beamforming
Table 3.1 Table 3.2 Table 3.3 Table 3.4 Effect o f number o f m icrophones............................................................................34 Effect o f source signal fre q u e n c y ....................................................... 37

Effect o f non-integer number o f cycles w ith Hanning w indo w ............................41 Effect o f source position............................................................................................ 45

Uniform Linear Array (ULA) - near field beamforming
Table 3.5 Effect o f number o f microphones (AO and source signal frequency ( / ) ............ 62

Uniform Planar Array (UPA) - near field beamforming
Table 3.6 Effect o f number o f microphones (N) and source signal frequency (f).

.

80

Horizontal Uniform Linear Array (HULA)
Table 4.1 Table 4.2 Table 4.3 H orizontal U niform Linear A rray M icrophone C oordinates........................... 107 Effect o f number o f m icrophones...........................................................................I l l Effect o f source p o s itio n ....................................................................................... 116

Comparison between a Vertical Uniform Linear Array (VULA) and an HULA
Table 4.4 Table 4.5 V U L A M icrophone Coordinates........................................................................... 119 Effect o f array geometry (H U L A versus V U L A ) ................................................ 122

Cross Array
Table 4.6 Table 4.7 Table 4.8 Cross A rra y M icrophone C oordinates................................................................ 123 Effect o f number o f microphones........................................................................... 127 Effect o f source p o s itio n ...................................................................................... (xxii) 132

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Nomenclature
a A b Diameter o f circular array, m Am plitude o f source signal, Pa Index, 1, 2, 3,... Speed o f sound in air, 344 m/s Cross spectral m atrix Inter-microphone distance fo r U L A , m Inter-microphone distance to satisfy Shannon's criterion (=A72) Inter-microphone distance along the x & y axes fo r UPA, m A rray aperture, m Steering vector Hermitian transpose o f steering vector Frequency, Hz Sampling frequency, Hz M axim um frequency present in signal, Hz Frequency fo r kth frequency bin, Hz FFT G ,,(/) G j(tü) G j (ûx, T) Fast Fourier Transform Auto spectrum o f noise signal A uto spectrum o f source signal " Raw" auto spectrum o f the source signal Cross spectral matrix o f the source signal A uto spectrum o f the ith microphone i.e., diagonal elements o f the CSM Cross spectra o f the zth and jth microphones i.e., off-diagonal elements o f the CSM " Raw" cross spectra 'f the ith and jth microphones Averaged cross spectra o f the ith and jth microphones C SM element fo r ith andyth microphones at frequency (xxiii)

c
C SM

d d* d^ ,d^
D

e e
/ jf.

G{co)
G ,-, (£U)

G,j(co) Gy (o)-,T) Gy{cû) Gy^

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Gjj^
[G ]^ [ô jt

Averaged C SM element fo r ith and jt h microphones at frequency CSM at frequency Averaged CSM at frequency A rray pattern fo r far field beamforming fo r U L A A rray pattern fo r far field beamforming fo r UP A Index, 1 , 2 , 3 . . . Imaginary unit, Integer number, 1, 2, 3... Index, 1,2 3, ... Index, 1,2,3,... Wave number vector, wave number Index, 1,2,3... Total number o f blocks per microphone Index, 1 , 2 , 3 . . . Total number o f data points per microphone = -- = M L Number o f data points per block M icrophone index fo r U L A , 1,2,3... M icrophone index fo r U FA , 11, 12, 13 ..., 21, 22, 23... Number o f microphones for U L A Number o f microphones along Acoustic pressure, p(x, A rray power response A rray power fo r Acth frequency bin
y , z, X

I -

H(co) H {6,(p) i i I j k Ic , k I L
m

*

M j. M n
/2i « 2

T

: I



N N^,Nj p P{co)

i
y

and

axes fo r U F A

I : J 1 i i |

t)

F r

Distance between the acoustic source and the given microphone, m A ctual distance between array centre and acoustic source, m Actual distance between acoustic source and nth microphone, m

\

r

Assumed distance between array centre and acoustic source, (xxiv)

m

I
j

\
Î

I

i
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

rn

Assumed distance between acoustic source and nth microphone, m Cross correlation matrix (CCM ) A uto correlation function o f the ith microphone i.e., diagonal elements o f the CCM

R(.t) Rii(j)

Ryir)

Cross correlation function o f the ith and jt h microphone i.e., diagonalelements o f the C C M A u to correlation o f source signal, s(t)

(f)

Cross-correlation function o f source signal and the noise signal o f ;zth microphone Cross-correlation between noise signals at ith and yth microphones Autocorrelation function o f noise signal Source signal Mean square value o f the source signal

R,, ,,, ( t)
/?,, ( r)

s(i)

s\m\ S S(co;T) SR
SNR SNRo SPL

D igitized form o f the source signal Noise scaling factor Finite Fourier Transform (FT) o f the signal ^(t) Sampling rate, Hz Signal-to-noise ratio o f an array Signal-to-noise ratio o f a single microphone Sound pressure level, dB Time, s T otal duration o f signal per microphone, s Duration o f signal fo r one block, s (=MAt ) Period o f one sine wave cycle, s

t
T 7)

W,,

W eight applied to nth microphone A rray pattern fo r near field beamforming: U L A and UP A Signal at nth microphone Digitized signal at 7zr/i microphone (xxv)

W( k,x ',x )
y ,,(r) y,,[m ]

i i

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Y^(ûf) Y^{ar,T)
F,,[A:]

Fourier Transform (FT) o f signal y^{t) Finite Fourier Transform (FT) o f signal y^{t) Discrete Fourier Transform o f y ,, i m \ Discrete Fourier Transform fo r the ith microphone fo r kth frequency bin Discrete Fourier Transform fo r the jth microi'hone fo r kth frequency bin FFT coefficients column matrix fo r kth frequency bin (all microphones) M icrophone array output in time domain Discrete version o f z(t) M icrophone array output in frequency domain; FT o f signal z{ t ) Discrete version o f Z{oS) Cartesian coordinates, m Position o f a source along x, y, and z-axis, m Elevation angle, radians Azim uth angle, radians Mean square value o f mt h microphone signal

Yj[k]
i f [A:] [F]^

z(t)
z[m]

Z{oi) Z[k]
X, y, z

X , Y, Z

(p 6

c r/ cr,,^ A,,

Mean square value o f source signal Mean square value o f noise signal at mth microphone Tim e delay fo r nth microphone (w ith respect to reference microphone or position): U L A Tim e delay fo r
« , « 2

microphone in far field: U F A

a> X

Radian frequency, Hz Wave-length = c /f, m M inim um wave-length = c / ,m

At
A/

Tim e spacing between sampled points =\/SR, s

SR 1 Frequency resolution = -- = -- , Hz M T,
(xxvi)

IL..,
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Chapter 1 Introduction
1.0 B a ckg ro u n d The identification o f an acoustic source, its location in space, and its acoustic output, is a challenging and im portant research area in the field o f aero acoustics. This field concerns the study o f fluid-mechanically generated sound, and acoustic source identification has become an important research area due to the growing need to control aircraft and automobile noise. This area has expanded w ith the development o f special wind tunnels designed fo r model studies that involve the simulation o f noise generating vehicles. A n essential aspect o f these studies is the use o f microphones to measure acoustic signals generated by a model. A single microphone provides the sound pressure spectrum o f the acoustic signal from a given source, recorded at the location o f the microphone. In general, the spectrum is contaminated by noise when measurements are conducted in hard-waU wind tunnels (which reflect sound) and the resulting measurements are hampered by poor signal-to-noise ratio. Therefore, the use o f a single microphone would not provide the required information concerning source location and the correct sound pressure spectrum, and the development o f source localization techniques to provide the correct location o f an acoustic source and the correct associated sound level spectrum is required. There are various source identification techniques used in acoustics. One o f the most effective o f these is the beamforming technique. This chapter briefly outlines the basic aspects o f source identification, various source identification techniques used in acoustics, including the beamforming technique, a brief history o f beamforming, and the objective o f the thesis.

1.1

Basic aspects o f source id e n tific a tio n In aeroacoustic testing, a model is placed in a wind tunnel and exposed to an air flow . The

model responds by producing a complex array o f sounds.

The

tw o prim ary

objectives o f

acoustic measurements are to localize the sound producing regions (Le., acoustic sources) and to quantify their acoustic strength [1]. These sound producing regions can be in the near field or in the far field depending upon the distance o f a given source fro m a microphone. W hen the

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

wavefront o f a propagating acoustic signal is spherical at the location o f the microphone, the source is said to be in the near field; and when the w avefront can be considered plane, the source is said to be in the far field, as depicted in Figures 1.1(a) and 1.1(b), where 9 defines the direction o f arrival (DOA).These figures pertain to situations in w h ic h the source and microphone lie in the same plane (viz., the x-y plane). In general, this is not the case.

Sound producing region

Spherical w avefront

Microphone Figure 1.1 (a): D epiction o f near fie ld source location.

Sound producing region

Planer wavefront

Microphone Figure 1.1 (b): D epiction o f far fie ld source location.

I
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1.1.1

Far field source location

The general wave equation in terms o f the acoustic pressure is given b y [2];

where, c is the speed o f sound in air, p = p{x, y, z, t) represents the acoustic pressure, and x, y, z are Cartesian coordinates. In practice, the most im portant type o f solution o f the wave equation is the harm onic solution. This solution pertains to situations fo r w h ich p has harm onic spatial and temporal variations, i.e., p is a periodic fonction o f x, y, z, and t. For convenience, the solution o f

equation (1.1) is expressed in complex form , w ith the understanding that theactual solution is the real part o f the com plex solution. W hen a source is far from a microphone, a plane wave w ill be received b y the microphone, and the solution o f the wave equation is given b y [2]:

p ( x , y , z , t ) = AQyiyi{i(jQ)t+<p-k^x-kyy-k^z)) = Af> ip{i{a}t-¥^-k · x ) ) ,
(1.2)

where A is the am plitude o f the pressure wave, (z ) is an arbitrary phase angle, and k is the wave number vector w ith Cartesian components, k^.k^, andA:^. The m agnitude o f k is related to the speed o f sound (c) and the angular frequency o f source {ai) as follow s:

k =-.
c For a m icrophone located a tx ' ,y * ,z * , equation (1.2) yields:

(1.3)

p{x* , y \ z ' ,t) = AQX^{i{o)t+ ^ - f ) ]
= Acos{a>t \-(j)-(l)') + iAsm{a)t + ^ - ^ ' ) (1.4)

where (p" = k » x \ s fixed, so that the actual plane pressure wave, i.e., the signal pertaining to the microphone, is given by:

p { x ' , y ' ,z ' ,t) = Acos(cot + p - p ').
W ithout loss o f generality, p can be taken as p"
tv12. Hence, equation (1.5) becomes:

(1.5)

p { x `,y* ,z* ,t) = A&mat

(1.6)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Therefore,'for a far-field source location, the amplitude (A ), and frequency ( û;) , or, more generally, the spectrum o f the signal, and the direction o f arrival (D O A ) o f the acoustic signal need to be determined.

1.1.2

Near field source location

When the source is near to the microphone, a spherical wave w ill be received by the microphone, and the general wave equation, fo r spherically symmetric problems, becomes in spherical coordinates [2] A] _ 1 1 d 32. 1 d ( _2 d p p '^ d F i dF c" a

(1.7)

where F is the distance between the source and a given microphone. The solution to equation (1.7) is given by [2];

e x p .{ i ( û } t + ^ - k r ) ) J Since, from equation (1.3), k=ü/c, equation (1.8) can be expressed as:
p C r j) =

( 1.8 )

P(r,t) =

r, exp.{z[ûX^ -- )+</>]} c \J y / j\ -- / .\ fA ' F^ = cos[ry(r -- c /

/ 'A ^

Ml MJ

c'

(1.9)

Hence, the actual pressure wave received by the microphone is given by:

( 1.10)
W ithout loss o f generality ^ca n be taken asn:/2. Hence equation (1.10) becomes:
P(r,t) =

s in [û ;(f

c

)]

( 1. 11)

Therefore, fo r a near-held source, the spectrum o f the signal, the location o f the source ( r ) , and the direction o f arrival (D O A ) o f the signal must be determined.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1.2 1.2.1

Source identification techniques in acoustics The sound intensity technique

The sound intensity technique involves the use o f a special probe to measure sound intensity. This probe consists o f tw o microphones separated by a spacer; it enables the cross spectrum o f the pressure signals at the two microphones to be calculated. The acoustic

intensity provides the magnitude and the direction o f the acoustic energy flow , so that the acoustic source can be determined. This technique is time consuming, and very sensitive to measurement errors. Also, the intensity field is not a significant parameter fo r source identification in highly reverberant environments, such as hard-wall wind tunnels [3].

1.2.2

The time delay estimation (TDE) technique
(T D E ) technique involves the use o f tw o (or more)

The tim e delay estimation

microphones. I t is based on a two-step process. The first step consists o f the estimation o f the tim e delay between the various microphones by cross-correlation o f the microphone signals. The second-step combines the know n geometry o f the microphones configuration and the time delay to find the direction o f arrival (D O A ) o f the source signal [4, 5]. This technique is used when reverberation is not severe and is effective only fo r a single source. Also, the acoustic measurements require low background noise and acoustic reflections fo r accurate results, and these requirements are difficult in most wind tunnels.

1.2.3

The acoustic mirror technique

Aeroacoustic researchers use the " acoustic m irror" technique to localize acoustic sources in wind tunnels. In this technique, a large concave elliptic m irror and a single microphone are used. The microphone is placed at one focal point o f the m irror, and the other focal point is located within the acoustic source region. This technique has many limitations. The size o f the m irror must be large fo r low frequency sources, and the mechanical movement o f the m irror around the model is difficult. However, these systems are still used in large test facilities [6, 7].

1.2.4

Acoustic array techniques

T o overcome the limitations o f the above given techniques (i.e., the sound intensity, TD E, and acoustic m irror techniques), an array o f microphones is required. Acoustic array techniques

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

involve the collection o f a large quantity o f spatial data from an array o f microphones [8], and they can be classified as; · · The near-field acoustical holography (N A H ) technique. The beamforming technique.

1.2.4.1

The near-field acoustical holography (NAH) technique

As mentioned in section 1.1, when the distance between the source and the microphone is small, the wave front o f the acoustic signal is curved and the source is said to be in the near field. The near-field acoustical holography (N A H ) technique is the source identification technique generally used fo r the localization o f acoustic sources from near-field pressure and velocity measurements [8]. These measurements describe the acoustic properties o f the sources. Applications o f this technique include the localization o f machinery noise and, in the automotive industry, the determination o f acoustic energy distribution in various areas o f a car (such as doors, windscreen, ro o f etc.) [4, 7, 8, and 9]. There are frequency limitations on this technique. Specifically, fo r a closed volume, the reverberant field w ill impose a lim it on low frequencies [10]. Also, high frequencies are limited by the distance between microphones [10].

1.2.4.2

The beamforming technique

This is a spectral based technique fo r calculating source characteristics such as the location o f an acoustic source, the sound pressure level (SPL) o f the source, and the frequency o f the source. In beamforming, the array of microphones is steered towards the source

algorithmically, i.e., the microphone signals are processed in such a way that the effect is the same as that obtained by physical movement o f the microphones. This involves the calculation o f the microphone array output pow er (i.e., mean square pressure values) fo r different possible locations o f the source. The maximum pow er corresponds to the location o f the source [11]. In microphone directional array (beamforming) testing, several spatially separated

microphones provide pressure fluctuations at m ultiple locations and can be used to reduce the effect o f extraneous noise and extract the desired source location and sound pressure level information fro m the middle o f noisy, reverberant, non-acoustic wind tunnels [1]. N ote that, as mentioned previously, the other source localization techniques, viz., acoustic intensity, TD E, and acoustic m irror techniques, are time consuming, and have poor resolution when strong reverberation (noise) is present. Therefore, the use o f a microphone directional array adds a

L
I Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

pow erful measurement capability to aeroacoustic research [1 ]. The advantages o f an array o f microphones over a single microphone are: improved signal-to-noise ratio and the localization o f the acoustic sources. I t should be noted that by using a microphone directional array, the capability to conduct simultaneous aerodynamic and acoustic testing o f a model is possible in a traditionally designed aerodynamic hard-wall wind tunnel [1].

1.3

A brief history of beamforming
Beamforming has been used fo r many years in R A D A R (R Adio Detection A nd Ranging),

SO NAR

(SOund

Navigation

And

Ranging),

communications,

imaging,

geophysical

exploration, and bio-medical research [12]. Large fixed electromagnetic antennas are used for R A D A R systems and phase shifts are applied to the received signals to detect the D O A o f the signal. M ost o f the applications o f beamforming fo r RADAtR and communications involve narrowband signals. The applications o f beamforming to underwater acoustics started w ith active SO NAR where a known narrowband signal is generated, and a corresponding reflected signal (echo) provides inform ation about an underwater object. Passive SO NAR was

subsequently used to find out the location o f a ship or submarine, and, in the 1970' s, passive localization efforts focused on determining not only the bearing but also the range [13]. It should be noted that passive S O N A R involves broadband frequency signals. In aeroacoustics, aircraft and automotive manufacturers have always been interested in improving the acoustic measurement capabilities in non-anechoic wind tunnels. U n til the 1990' s, researchers and engineers used only one microphone o r a pair o f microphones fo r most o f the acoustic measurements because data acquisition systems were relatively expensive. In 1975, Soderman and Noble [14], fo r the first time, used four and eight- element microphone arrays, in conjunction w ith time domain beamforming, in the N A S A Ames 40- by 80-foot hard-walled wind tunnel. In 1987, Brooks and M arcolini [15] tested an o u t-o f-flo w directional microphone array in an anechoic wind tunnel to examine the acoustic sources over a helicopter ro to r model. In 1990, Elias [16], did more w o rk w ith a linear array by using frequency domain beamforming to localize acoustic sources. In 1992, Dine, Gely and Elias [17] evaluated the performance o f a linear array in an anechoic open je t wind tunnel. In 1995, Gramann and M ocio [18], used a linear array by incorporating inexpensive microphones, in conjunction w ith the delay and sum beamforming (D SB) and adaptive beamforming, in a conventional low

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

% a

speed wind tunnel to measure the source location and sound level o f signals fro m a loudspeaker. Brooks, and M arcolini [19], Underbrink J.R. [20], and Barns, W atts and Mosher [21, 22] expanded the linear array to the planar (tw o dimensional) array geometry, using frequency domain beamforming. W ith the expansion o f w o rk on microphone arrays, in 1995, N A S A and Boeing built data acquisition systems fo r closed and open wind tunnels, and efforts have been made to im prove array design and algorithms fo r optim ization o f results [7]. In N orth America, mainly N A S A and Boeing are active in microphone array research and are very focused on reducing the noise (especially airframe noise) o f large aircraft, because, w ith the development o f quieter engines, the noise generated by airframes becomes more significant, particularly during the approach o f a flight [23]. In Europe, most o f the research w o rk on microphone arrays is published by German Dutch W ind Tunnel (D N W ) & National Aerospace Laboratory (N LR ) [24] and by A C B Engineering, Paris, France [25, 26, 27, and 28]. Over the last few years, w ith the success o f microphone arrays in localizing aeroacoustic sources in hard-wall w ind tunnels, research to find more advanced beamforming algorithms has intensified.

1.4

The objective o f this thesis
The main objective o f this thesis is to carry out a sensitivity analysis o f the delay-and-sum

beamforming (DSB) technique used as a source identification tool. This objective is split into tw o parts: 1) a sensitivity analysis o f the DSB technique using simulation data; 2) a sensitivity analysis o f the DSB technique using experimental data. The organization o f the thesis is as follow s. Chapter 2 discusses the theoretical aspects o f . the delay and sum beamforming technique. This chapter also describes different geometries used in array signal processing, viz., the uniform linear array, the uniform planar array, and the random array. Chapter 3 provides details on the simulation aspect o f the w o rk and discusses the results o f the sensitivity analysis using simulation data. The effect o f various parameters, such as, number o f microphones (N), frequency o f acoustic source (/), inter-microphone distance (d), source position, on the efficacy o f the technique is examined. Also, three different geometries are considered: a uniform linear array w ith a far field and a near field source, a uniform square array w ith a near field source, and a spiral array w ith a near field source. Chapter 4 provides experimental details and describes the results o f the sensitivity analysis

I
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

using experimental data obtained w ith three different geometries: a horizontal uniform linear array, a vertical uniform linear array and a cross array. A comparison between a horizontal uniform linear array, a vertical uniform linear array, and a cross array is also discussed in this chapter. Finally, chapter 5 contains a summary o f the w o rk and conclusions, and it describes future work.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

î

Chapter 2 Beamforming in acoustics
2.0 Introduction
Beamforming is a measurement technique applied to focus a microphone array in order to find acoustic source characteristics. In beamforming, the data are collected by spatially separated microphones and summed after required weights have been applied to all the microphones. These weights can be determined in different ways, leading to tw o basic methods, viz.., the conventional (delay and sum) beamforming method and the adaptive

beamforming method [2, 27]. I t should be noted that the combination o f hardware and software
that perform beamforming is called a beamformer. The basic purpose o f a beamformer is to enhance signals from a particular direction while rejecting signals fro m other directions. The beamformer acts as a spatio-temporal filte r fo r incoming signals and produces an acoustic source map over a grid o f points in space. The characteristics o f a beamforming map, shown in Figure 2.1, are the mainlobe and the sidelobes [1, 2, and 29]. The beamforming map is a plot o f the array power (i.e., the mean square value o f an acoustic pressure signal) versus the possible source locations, and this map is calculated by means o f the delay and sum beamforming method.

·-S

d y n a m ic r a n g a

-IS

:20

 Z S
-30

1 .5

Figure 2.1; A typical beamforming map. The prim ary lobe in the beamforming map is called the mainlobe and the secondary lobes are called sidelobes. The mainlobe o f a beamformer corresponds to the direction in which a given array is steered and indicates the ability o f the array to locate a source. In comparison to

10
j
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

the mainlobe, the sidelobe magnitudes are low er and indicate an array' s a b ility to filte r out spurious signals, i.e., undesirable signals propagating from other directions. T lie dynam ic range o f an array is the difference (in dB ) between the maimobe and the highest sidelobe [1 ], so that the smaller the sidelobe magnitude the greater the dynamic range. The delay and sum beam form ing technique is the method applied in this thesis. The basic theory o f the method and details o f its application are described below.

2.1

Basic theory o f Delay and Sum Beamforming (DSB)
The delay and sum beam form ing (DSB) or conventional beam form ing technique has been

used since the second W o rld W a r [2, 11]. The basic principle behind the technique is that when an acoustic source signal is detected b y an array o f microphones, the signal arrives at each m icrophone w ith a specific tim e delay that depends upon the relative position o f the microphones w ith respect to the reference microphone. The various tim e delays in the array are compensated b y appropriate times and the outputs o f all the microphones are summed so as to y ie ld a single output signal from the array. This process is called delay and sum beam form ing [6 ]. It is also referred to as data independent beamforming because any weights applied to the beam form er do not depend upon the array input data [12]. Consider an array o f N microphones {« }, n = l, 2 ...N and a signal s(t), where t is tim e, emanating fro m a source, as shown in Figure 2.2.

A:

A,

W,
Beam form ing output, z(t)

#

Source

e

N

^
Microphones Time delays Weights

Figure 2.2: D epiction o f delay and sum beamforming

11

Reproduced with permission of the copyright owner. Further reproduction prohibited w ithout permission.

The signal measured by the nth microphone is denoted a s y ,,(t). The signal fro m the source reaches the microphones at different times because the speed o f sound is finite and travels different distances to reach the different microphones. L e t{ A ,, } , n = l, 2, 3....N, denote the time delays fo r the various microphones. In DSB, time delays {A ,,} and weights { near-field source [18]. ] are applied to the microphone signals fo r a

The weights serve to compensate fo r the fact that the wavefront

reaching the different microphones is spherical. For a far-field source, only time delays are applied, because the wave front is planar and the weights {W^ } are unity. In practice, the time delays and the weights are applied to the incoming signals to steer the array in a direction (w ith respect to a far field source) or to a location in a grid (w ith respect to a near field source), and the output o f the beamformer, z(t), is monitored. This output is: =
«= 1

a -A ,,)W ,,

(2.1)

The position o f the source corresponds to the steered direction o r the location fo r which the output o f the beamformer is maximum [18]. The power associated w ith the beamformer output signal, z(t), can be depicted in a graph (i.e., a beamforming map) showing the mainlobe and sidelobes (see Fig. 2.1). The mainlobe position provides the location o f the acoustic source and its height indicates the power o f the source. Beamforming can be implemented in the time domain or in the frequency domain. When the time history o f an experiment is not o f interest, frequency domain beamforming is preferred. It has several benefits over time domain beamforming, viz., reducing sidelobes, narrowing the mainlobe, and reducing statistically independent noise effects [30]. I t should be noted that delays in the time domain correspond to phase shifts in the frequency domain; also, in frequency domain beamforming, the Fourier Transform (FT) is appUed to, z(t). This leads to a complex frequency-domain signal given by:

Z(6ü) =
where a> is angular frequency in radians per second. From equation (2.1), the output o f the beamformer in the frequency domain is given by:

(2.2)

12

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

rt=l

=
n =i

(^3 ) , i.e., (2.4)

where Y^(co) is the Fourier Transform o f the input time-domain signal

Y^{cû) = F T [} ',, ( 0 ] = |y ,, (O e x p H iy f)r fr
I t should be noted that i f

is a random (time-domain) signal, and then Y^(û)) w ill also be a

random (frequency-domain) signal.
N ow , the beamformer frequency-domain output signal, Z(£0), can be expressed in terms o f a complex row matrix, [e(£y)]', and a complex column matrix, [F (a )], which are given by, respectively:

[e{a>)\' = [W| exp(-ia>A^),W2 e x p ( - io A 2),...,Wfj e x p (-z a A ^ )],
and

(2.5)

[Y(û))] = col[Y^(û)),Y^{û)),...,Y,^(û))].
From equation (2.5) and (2.6), it follow s that:

(2.6)

[e(£y)]'[F (ry)] = W,F, (ty) exp(-/y;A i ) + W^Y^ {co) Qx^l -i ûA^) + ... + M^T^(ty) e x p (-iy A ^ )

; i= !

i.e.,

Z(ty) = [g(6y)]'[y((y)].

(2.7)

The Hermitian (complex conjugate) transpose o f [e{o))]' is a column matrix, which is called the

steering vector.
This is given by:

[e(ty)] = ([e(ty)]')* = col\W^ exp(/<yA,),iy exp(zyA ),...,Wjv exp(iyA^)],
2 2

(2.8)

where (.)* denotes the complex conjugate.

13

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

V

For any assumed steering vector, [e,,(ty)], an apparent array power response, P^(ry), can be determined. spectrum, (ü)) represents the apparent average power associated w ith the source signal auto and is given by:

(2.9)
In this expression, [G (ty )]is an N x N (square) Hermitian m atrix called the Cross Spectral M a trix (CSM ), which is given by, G ,,(ty)G , 2 (ty)...G,^ (ty) G2,(«y)G22(ty). [G(£y)] = G mi (ty)............... The diagonal elements o f the CSM, {G,.,.(ty)};i=7, 2, 3..., N, are real positive functions o f tu and are the auto spectra o f the individualmicrophone signals. the CSM, {G ÿ(ty)}, /= !, 2, 3... N, The off-diagonalcomponents o f

(2 . 10)

j= l, 2, 3,...., N, iV j , arecomplex functions o f tu and are

the cross-spectra o f the various pairs o f microphone signals; moreover,

G^(ty) = G /(tu ).

(2.11)

For stationary random microphone signals, the components o f the CSM are defined as [311: G,y(tu) = Umu[E{G;j {oy,T) }

j

(2.12) denotes the expected value or

In equation (2.12), T denotes the duration o f the signals;

ensemble average; G,y(tu) is a " raw" spectrum, which is a random quantity if the microphone signals are random and is given by: G /tu ;r)

2i;.*(ty;r)Fy (tu;T)

(2.13)
i.e.,

where Y^(ar,T) is th e /m ite Fourier Transform o f
T

Y,,((ff,T)= J y ,,(0 e x p (-/tu t)t7 t.

(2.14)

I t should be noted that the CSM is twice the Fourier Transform o f the cross-correlation m atrix (C C M ) o f the microphone signals [31], i.e.,

14

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

[G (ffl)] = 2 F T [[/? (T )]].

(2.15)

The C C M is given by [31]:

oo < 7 < oo.

(2.16)

R Ni'
where r denotes a time lag. The diagonal elements o f the C C M ,' {i?.,.(-r)}, i= l, 2, 3 ..., N are real even functions o fT and are the auto correlation functions o f the individual microphone signals. The off-diagonal elements o f the C C M , {/? ÿ (r)}, i=\, 2, 3 ..., N, j= \ , 2, 3, .... N. i ^ y, are real functions o f T that are neither even nor odd and are the cross-correlation functions o f the various pairs o f microphone signals; moreover,

^^(T) = / ; / - f ) .
The components o f the C C M are given by [31]:

(2.17)

Rij (T) = Limit -- Jy. (t) y / f + r)dt,
where is an arbitrary starting time.

1

(2.18)

The auto spectrum o f the source signal, s(t), is defined as [31]; G, (C O ) = Limit E{G^ (co;T)} = 2FT[R^ (t )], co> 0. In equation (2.19), G, (co;T) is a " raw" autospectrum given by: 2 ^ '( < y ;r ) ^ ( ( y ; r )

(2.19)

(2.20)

where S(co\T) is the finite Fourier Transform o f the source signal s(t), i.e..

S(ojr,T)= |5 (0 e x p (-i£ y 0 < ^ ï;
and/?^(-r) is the autocorrelation function o f f(f), i.e..

(2 .21)

15 %
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

V
t +r

Rs

= lim it Y

+ t)dt.

(2.22)

In practice, T is finite, E { . } is approximated by frequency-domain (block) averaging and the components o f the C S M are estimated as follow s [31]: (60) = (60) = f (ü);T, ) },

(2.23)

\i-'J 1 = 1
where L denotes a (large) number ( » 1 ) o f non-overlapping segments o f the various

microphone signals. These segments are referred to as blocks, and the duration o f each block is given by:

T ,= Y -

(2.24)

I t may be remarked that, in the case o f an acoustic source that produces a periodic (harmonic) signal, which is a deterministic (as opposed to a random) quantity,

Gÿ(60) = Gg(60;T),

(2.25)

where T is the period o r an integer multiple o f the period o f the microphone signals; hence, block averaging is not really required. N ow , fo r any assumed location o f an acoustic source, w ith the corresponding steering vector determined by means o f equation (2.8), the apparent array pow er response can be determined by equation (2.9). M oreover, i f the assumed source location is the actual location o f the source, then the apparent array power response w ill be a maximum (fo r any relevant frequency). Thus, the acoustic source location and, in the absence o f extraneous noise, the auto spectrum o f the signal generated by the source can be determined by com puting ( 6 0 ) fo r a

range o f assumed source locations and finding the maximum value(s) o f P^{co). When the steering vector corresponds to the actual location o f the acoustic source, and extraneous noise is absent, the array pow er response is related to the autospectrum o f the source signal as foUows: P(60) = 7V^GT60).

(2.26)

16

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

To provide insight into the DSB technique, the above relationship, equation (2.26), is established fo r a noise-free uniform linear array and a far field acoustic source the' lies in the plane o f the array and is located at an angle 6 w ith respect to the array, as depicted in Figure 2.3. In this case, w ith microphone 1 taken as the reference sensor. A, = Oand, y ,(t) = 5'(f), (2.27)

where, 5(r) is the source signal, which can be either a stationary random signal or a deterministic periodic signal; also, the array weights are all unity.

M icrophone

Plane wave

N

4

3

2

1 (reference microphone)

Figure 2.3: U niform Linear Array (U L A ) w ith a far field source.

Hence, the diagonal elements o f the C C M are given by: ( r ) = R ,ir), 1=1, 2, 3 ... A ,

(2.28)

and the off-diagonal elements o f the C C M are given by:

= /(.( T - A ,),

1=1, 2, 3... AT-L
1=1,2, 3 ... A-2,

(2.29) (2.30)

^(7+2 (T) = y?^(T --Ag),
#

^/i+W

(2.31)

17

j W
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Moreover, the elements of the CSM are as follows:

=2FT[R^{r)1 = G^{cd),
(ry) = FT{R.;^^ (î-)] = fT [; ;x T - A j] = (T)] e x p (-f
2

i= l, 2, 3 ... N,

(2.32)

) (=1, 2, 3 ... N-1,

= G ^(ru )e x p (-iû A 2 ), Similarly, G;;+2(ry) = G X a))exp(-!& A g),

(2.33)

/=1, 2, 3 ... N-2,

(2.34)

G ,^(ry) = G ^ (ry )e x p (-jru ^ ^ ), The corresponding steering vector is given by:

(2.35)

[e(û})] = co/[l, exp(zmA2),exp(f aA ]),- - -, exp(z

)].

(2.36)

From equations (2.10) and (2.11), w ith the dependence on a o f the various quantities omitted fo r convenience, the resulting array power response is:

G||Gi2 ··G,^

1 exp(/£yA2)

G,,G 21'^22-

G ^ ] .....G ^ y y

exp(iryA ^) Gii + G,2 exp(iWA 2 ) + ... + G,,^ exp(zruA^) G 2 1 + G 2 2 exp(/ÆA,2) + ...+ G 2 Wexp(zruA,y)

P - [l,e x p (-iû ^ 2 )'"-.e x p (-irM A ^ )]
Gyy, + Gjv2 exp(z&A2) + ...+ Gf^f^ expfiruA,^)

(2.37)

18

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Since the spacing between adjacent microphones is constant, Hence,

= ( k - 1)A j , k --1,2,3,-

1.

P = G,, + G , 2 expC/ûüAj)^-- + + G2 1 exp(-- 1 0 1 ^ 2 )+
< ^22

exp(i(5jA^) [N terms}

 * ------' ^ 2 w Gxp(imA^_, ) {ATfenns}

+ Now,

6 x p ( - i ) 4- G,y2 6 x p (-f

) 4------ l-G/^^ [N terms]

(2.38)

G,,=G, G,2 exp(/û.A2) = G^exp(-(aA2.)exp(iü)A2) = G ^
#

(2.39) (2.40)

G,/y exp(ftuA ^) = G^ exp(-(6A /^ ) exp(;mA,^ ) = G,

(2.41)

G2, exp((üx^2) = G,2' exp(-ztwA^ ) = G, G22 = G,

(2.42) (2.43)

I I
I

G2^ exp(f(uA,v_,) = G^exp(-!ü)A^_,)exp(!aA,^_,) = G,
Gm exp(-!tuA^) = G,^ * exp(-/ryA^ ) = G, G n2 exp(-(&A^_,) = G

(2.44) (2.45) (2.46)

' exp(-füA^_, ) = G,

G:,;v = G,.
Thus, the array pow er response is given by:

(2.47)

P{û}) = N[G^(ûf) + Gç(cy) + « · · + G^(cü)] {N terms]
= N % (û }).

(2.48)

It should be noted that the C SM captures all relative magnitude and phase relations pertaining to the various pairs o f microphones in an array. I t therefore contains all o f the information required to determine the source location and, in the absence o f extraneous noise,

19
I
Reoroduced with permission of the copyright owner. Further reproduction prohibited without permission.

the autospectrum o f the source signal [30]. Accordingly, the C S M needs to be computed only

once.
In practice, the time data collected at each microphone are digitized to fo rm digital time series, and the Fast Fourier Transform (FFT) is applied to the time series.

2.2

Digital data collection and post-processing procedure
Modern beamforming systems exploit the advantage o f digital implementation [2]. The

pressure signals measured by the microphones in the array are first transformed to analogue voltage signals, ( t ) , (w ithin the microphones). These microphone signals are then digitized

w ith a time spacing o f Af = l/SR between sampled points, where SR is the sampling rate and denotes the number o f points per second. Each digitized signal is segmented into L nonoverlapping blocks, each o f duration 7), such that 7] = M A r (2.49)

where M = number o f sampled points per block in tim e 7). F or application o f the FFT, M must be a multiple o f 2 (e.g., 512, 1024, etc.). Tw o key aspects that must be considered during data collection in order to avoid ambiguous (incorrect) beamforming results are spatial aliasing and temporal aliasing.

2.2.1

Spatial aliasing

Spatial aliasing pertains to the physical deployment o f the microphones in an array, i.e., the spacing between microphones. I f the spacing is not consistent w ith the Shannon criterion, grating lobes wiU appear in the beamforming map and there w ill be ambiguity in distinguishing between the actual source (represented by the main lobe) and false sources (represented by the grating lobes), as shown in Figure 2.4 (a), fo r which there is no ambiguity, and 2.4 (b), fo r which there is ambiguity. The Shannon criterion is given by;

2
where d is the distance between adjacent microphones and

(2.50)
is the minimum wavelength o f

20

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

the acoustic signal, which is related to the highest frequency present in the signal, follows:

as

c
= ·

(2.51)

/m

·-6
·10

-40

0.5 .

Figure 2.4 (a): Beamforming niap fo r 10 microphones in a linear array w ith d =

/2

io

g ra tin g

malnlob'

grating iobe

-30

Figure 2.4 (b); Beamforming map for 10 microphones in a linear array w ith d =

2.2.2

Temporal aliasing

Temporal aliasing pertains to the sampling o f a signal, i.e., the conversion o f an analogue signal into a time series. I f the sampling rate is not consistent w ith the N yquist criterion, high frequency components o f a signal w ill impersonate low frequency components and the calculated spectrum o f the signal w ill be erroneous, as depicted in Figure 2.5 (a), fo r which there is no aliasing, and 2.5 (b), fo r which there is aliasing, i.e., high frequency inform ation (at 500 H z) appears at a low er frequency (at 300 Hz).

Ik # :

21

Reoroduced with oermlssion of the copyright owner. Further reproduction prohibited without permission.

To avoid temporal aliasing, the sampling rate, SR (or/^. ) must satisfy the Nyquist criterion, viz.,

(2.52)
where is the highest frequency present in the signal.

'D

ICO- .

200 . -v 300

400. . 5006D0 · / /;. Frequency(H 7 ) / ' .

700

800

. 900

/1000

Figure 2.5 (a): Spectrum obtained w ith SR > 2

.

1 0 0 .

2 0 0

3 0 0

4 0 0

i,.

5 0 0 ' /

' E O O :/ /

7 0 0

%

; 8 0 0 ? .@ ;

9 0 0

1 0 0 0

Frsquancy(H z);/.

Figure 2.5 (b); Spectrum obtained w ith SR < 2 / ^ . In practice, an analog to digital (A /D ) converter is used to convert the analog signal into digital signals, and the data are stored fo r post processing.

22

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

V
2.2.3 Data post-processing procedure
The post processing starts w ith the conversion o f the raw voltage data from each microphone (channel) into pressure data via the microphone sensitivity. This is follow ed by the com putation o f the cross spectral matrix (CSM ) [see section 2.1 fo r details], which is obtained via the Fast Fourier transform (FFT). Note that the use o f an appropriate time w indow w ith the FFT can improve the accuracy o f the pressure spectrum by reducing temporal leakage [2].

2.2.3.1

Cross spectral matrix (CSM)

Consider an array o f N microphones producing analogue signalsy,(f) , }% (/),... y ,^ (f). The corresponding digital signals are denoted by ... ML. W ith respect to the nth microphone,fo r each block o f data, the frequency-domain data are where w = t l A t = 0, 1, 2,

obtained via the FFT o f T ,,[k], which is defined as follows: = Z y . [^ ]e x p . ( where k = 0, 1, 2 . )/2. ) (2.53)

These data are assigned to frequency bins given by:

where A f is the frequency resolution defined as:

Af = -- = -- = -- (Hz) T MAt M
N ote that there are (M /2) + 1 frequencies bins.

(2.55)

From equation (2.13), each term o f the C S M (based on one block o f data) fo r microphones

i and j at frequency

is calculated as: (2.56)

a ,, _ = A fG ,, ,

VM

y

where (-)* denotes the complex conjugate, i data points per block. Thus, t h e N x N CSM at frequency

j = 1 ,2,...,//, and M is the number o f

(or at kth frequency bin) is given as:

23

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

......................... [G l = G., 21, G.2 2 ,. (2 57)

...................................^NNt As mentioned in section 2.1, the diagonal elements o f this matrix represent the autospectra o f the individual microphone signals. The off-diagonal elements represent the cross-spectra o f pairs o f microphone signals. N ote that the lower triangular elements can be calculated by taking the complex conjugates o f the upper triangular elements because the CSM is a Hermitian matrix. Again as mentioned in section 2.1, the CSM captures aU relative magnitude and phase relations between pairs o f microphone signals and therefore encapsulates all o f the information needed to compute the source location [30]. The procedure fo r generating the C SM w ith any array geometry remains the same fo r both near-field and far-field source locations. In general, extraneous noise w ill be present and the source signal may be random in nature. Consequently, frequency domain averaging, i.e., averaging several blocks (L) o f frequency-domain data, must be used [30]. In this case, each term o f the CSM fo r microphones I and j at the kth frequency bin is given as [see equation (2.23)]:

=

LM

CL58)
/= i

The corresponding N x N C SM is given by:
A 1 ,^ 2 * -A A » ,.

G 2 I, [G L =

 (2.59)

..GN N i I t should be noted that i f the microphones are affected by stasticaUy independent noise, then such noise can be reduced by frequency-domain averaging, as wiU be demonstrated by the simulation results in Chapter 3.

24

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

2.23.2

Steering ve cto r and A rra y Pow er

The digital output o f the beamformer in the frequency-domain fo r the kth frequency bin [corresponding to equation (2.2)] is given as; Z W = 2 ]W ,,Y ,,[A :]e xp .(-ira ^,,) From equation (2.8), (2.60)

Z[k] = e 'k [Y \
where (.)' represents the Hermitian transpose and

(2.61) denotes a column " steering vector" . This

vector contains the weights and the phase shifts applied to the individual microphones to steer the array towards the acoustic source and is given as:

= coZ[W, exp. ( - / A , ), VYj e

x

p

..... exp.(-Ztu^^A^)]

(2.62)

where [W ,,W j,............ represent the weights and [A j. A j , .........................A ^ ] represent the time delays fo r the various microphones. For a far field beamformer, the weights are ` 1'fo r eachmicrophone because the wavefront is planar. But, fo r a near field beamformer,w ith thewave fron t being spherical, a different

weight is assigned to each microphone to compensate fo r the geometric attenuation o f radially propagating waves. For the nth microphone, the weight is given as [30]:

TV .
where,

r

CL63)

is the distance o f the «th microphone from the acoustic source, and r is the distance

between the array center and the acoustic source. A n additional optional weighting process, called shading or tapering [32], can be applied to reduce the effect o f side lobes. (The various types o f shading are Triangular, Hanning,

Hamming, Dolph-Chebyshev etc.). This processresults ina trade-off between the main lobe w idth and the side lobe level [18, 32]. The array power fo r the kth frequency bin, which depends on the steering vector, is given by [30]:

25

Reoroduced with permission of the copyright owner. Further reproduction prohibited without permission.

À

=

(2.64)

Plotting the array power values versus possible source locations yields the beamforming map (as mentioned in section 2.0). The maximum array power value corresponds to the source location. In the absence o f noise, this maximum value is the value o f the spectrum o f the source signal at frequency . Thus, both the location o f the source and the power spectrum o f the

source signal can be estimated by means o f the DSB technique. A M A T L A B code, developed at Ryerson University, fo r implementing the DSB technique using simulation and experimental datà is given in Appendix A. Validation o f the M A T L A B code is discussed in Appendix B.

2.3

Array geometries
Different microphone array geometries are used in beamforming. The most common

geometries are as follows: · · o U niform Linear Array (U L A ). U niform Planar An'ay (U P A ), Random Array.

The different geometries are discussed below.

2.3.1

Uniform Linear Array (ULA)

When the microphones in an array are arranged in a line w ith a constant distance " J " between each other the array is called a uniform linear array (U L A ). For a far field source,

w ith an acoustic source lying in the plane o f the array, a plane wave reaches the microphones, and the signal generated by the source has a D O A o f 9 radians, as depicted in Figure 2.3.

2.3.2

Uniform Planar Array (UFA)

When the microphones in an array are arranged w ithin a plane (e.g., the x-y plane) in a regular pattern, the array is referred to as a uniform planar array (U PA). For a far field source, w ith the source not lying in the plane o f the array, a plane wave reaches the microphones, and the D O A o f the source signal is defined by tw o different angles, viz., the angle o f elevation, ç?,

26

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

and the angle o f azimuth,^, as depicted in Figure 2.6. I t should be noted that, in this case, the use o f a uniform linear array can provide only partial information, viz.,^, whereas the use o f a uniform planar array provides both 0and q >[33]. Depending on the specific geometric pattern o f the microphones, the U F A is classified as a uniform rectangular, square, cross, o r circular array. Tw o specific type o f the U F A are described below.

2.3.2.1

Uniform Rectangular Array (URA)

When the microphones are placed in a rectangular grid in an x-y plane such that the uniform inter-microphone distance along the x-axis is and along the y-axis isd^, the array is

called a uniform rectangular array. Such an array w ith a far field source is shown in Figure 2.6. When the microphones are placed at a uniform distance in a square grid in the x-y plane, the array is called a uniform square array and array. I t is a special case o f the rectangular

2.3.2.2

Uniform Circular Array (UCA)

When the microphones are placed on the circumference o f a circle w ith radius " a" , as shown in Figure 2.7, the resulting array is called a uniform circular array (U C A ) [33].

2.3.3

Random Array

When the microphones are placed in a random fashion to break the regularities o f uniform planar arrays, the resulting array is called an irregular or aperiodic o r random array [1]. A random array w ith a far field source is shown in Figure 2.8.

27

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

· Microphone

Plane wave

% Rectangular array

Figure 2.6: U n ifo rm Rectangular A rray (U R A ) w ith a far fie ld source.

· M icrophone

Plane wave

Figure 2.7: U n ifo rm C ircular array (U C A ) w ith a fa r fie ld source.

28

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

M icrophone

Plane wave

Random array

y
Figure 2.8; Random array w ith a far fie ld source.

29

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Chapter 3 Sensitivity analysis-simulation data
3.0 Introduction
The present chapter focuses on the sensitivity analysis o f the beamforming technique using simulation data. This analysis investigates the impact o f various parameters, such as, the number o f microphones (AO, the frequency o f the signal (/), and the number o f data blocks (L). Different array geometries, viz., a uniform linear array (U L A ), a uniform planar array (UPA), and a spiral array, are included in the analysis. The purposes o f the beamforming technique are the localization o f acoustic sources and the determination o f their sound level spectra. The beamforming map, w hich is a plot o f the array power, provides the necessary inform ation about the source location. As mentioned in section 2.0, the prim ary lobe in the beamforming map is called the mainlobe and the secondary lobes are called sidelobes. I t should be noted that the position o f the mainlobe w ith in the map corresponds to the source location and the height o f the mainlobe corresponds to the source power. The performance o f a microphone array is measured by using the follow ing two beamforming evaluators: the array resolution and the height o f the sidelobes o f a beamforming map. These tw o evaluators are discussed below.

Array resolution
The array resolution defines the capability o f an array to localize an acoustic source and is determined by the mainlobe w id th measured at a point which is - 3 dB below the peak o f the mainlobe. This width is called the beamwidth (BW), and the array resolution is defined as: A rray resolution = 1/ (B W ) (3.1)

Clearly, the array resolution w ill increase when the beamwidth becomes narrow, and the source can be pinpointed easily, as shown in Figure 3.1. In this Figure, the B W from 0.21 radians to 0.021 radians fo r an increase o f from 10 to 80. decreases

An optimum array design is one w ith as small a B W value as possible. In addition, the `goodness' o f the resolution can be expressed in terms o f an error band fo r source localization defined as.

30

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

m a in lo b e a t N = 1 D m a in lo b e a t N = 8 0 ;

B e a m w id th

(-3 d B )

S ' -15

m mA A f >
.. . *. . ·,J ·. .-\ . . I I ^ ... - .-i. . J. . .-.J .i.`. .. .v · ... . W

Figure 3.1: A rray resolution fo r A=10 and A=80.

E rro r band= ± 16 {BW )

(3.21)

Sidelobes
The sidelobes indicate the ability o f an array to filter out signals propagating from directions other than the direction o f the desired signal [1]. Generally, the level o f the highest sidelobe is measured. The difference between the mainlobe and the highest sidelobe is called the dynamic range, as shown in Figure 2.1, and should be at least 10 dB fo r accurate localization. I f the sidelobes are high, the acoustic source can not be localized easily. In other words, the sidelobe level should be as low as possible to improve the array's capability to localize an acoustic source. A rray resolution and sidelobes are the central focus fo r the sensitivity analysis.

3.1

Simulation details
In order to simulate the pressure signals, y,,{t), n = 1, 2, 3, ..., N, received by any array o f

N microphones, as depicted in Figure 2.2, digital versions o f the follow ing equations, which
are based on equations (1.6) and (1.11), were used;

y,,{t) = A sm co t

(3.3)

31

Reoroduced with oermission of the coDvriaht owner. Further reproduction prohibited without permission.

in the case o f a far-field source, and
:y.( /; ,; ) in the case o f a near field source, where r sin r y ( r - -- c

(3.4)

is the distance between the acoustic source and the

nth microphone.
The digital data collected by the microphone array were stored fo r post-processing, as discussed in section 2.2.3, and the M A T L A B code was applied fo r the sensitivity analysis (see Appendix A ).

3.2

Uniform Linear Array - far field beamforming
The basic microphone array geometry is a uniform linear array (U L A ) (see Figure 2.3).

M oreover, if the source is far from the array, then a plane wave reaches the microphone array at an angle Û . In the present case, the U L A was designed fo r far field simulated signals w ith a maximum frequency o f 8000 Hz. The inter-microphone distance was, therefore, set at 2 cm to satisfy Shannon' s theorem. The plane wave, A sin (üf, was generated at each microphone location, w ith the appropriate delay. I t should be noted that each block o f data contained 1024 points, i.e., M =1024, and yielded 513 (M /2+1) frequency bins. F or each o f these bins, the beamforming map was obtained by calculating steering vectors fo r various assumed source locations ranging fro m --K j2 radians to K jl radians. The source signal spectrum was

determined from the maximum values o f the beamforming maps in the various frequency bins. The follow ing parameters were chosen for the analysis o f U L A - far field beamforming: Number o f microphones (N -+ 2 to 50). Signal frequency ( / -+ 500 to 8000 Hz). Integer and non-integer number o f cycles and time windows. Inter-microphone distance {d). Source position. M ultiple frequencies. Number o f number o f data blocks (L) w ithout noise. Noise w ith a single block o f data. Noise w ith several (L) blocks o f data.

32

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

3.2.1

Effect o f number of microphones {N)

The number o f microphones changes the aperture o f an array, which is defined as D=Nd, As the number o f microphones increases, the acoustic field fluctuations can be measured at more spatial positions and the beamforming results can be improved. To investigate this aspect, the plane wave signal was generated at a frequency o f 4500 Hz, w ith 0 = 0 radians, an inter microphone spacing o f 2 cm and an integer number o f cycles. The number o f microphones (AO was varied from 2 to 50. The beamforming results are presented in Figure 3.2 (a) and (b) fo r N=2 and A''=50. Figure 3.2(a) shows the array power as a function o f the D O A , and Figure 3.2 (b) shows the sound pressure level (SPL) spectrum. The beamwidth and the dynamic range were obtained from the various beamforming maps. The beamwidth, array resolution, the error band and the dynamic range are summarized in Table 3.1, and a plot o f the array resolution versus number o f microphones is presented in Figure 3.3. The poor quality in source localization is evident from Figure 3.2 (a) when the array aperture is small {N=2). M oreover, the error band o f ± 1.375 radians (corresponding to about ± 44 % with respect to the D O A range o f tc radians) is relatively large (see Table 3.1). Although the source localization capability is inadequate in this case, the frequency resolution with respect to the SPL spectrum is excellent [Figure 3.2(b)]. I t should be noted that this resolution is independent o f N. As one increases the size o f the aperture, i.e., the number o f microphones, the results clearly show that the localization capability o f the beamforming technique improves

progressively and is quite satisfactory fo r N=50. I t should be pointed out, however, that the simulation signals are generated w ith " optim um " values fo r the other relevant parameters, such as the inter-microphone spacing (d), source frequency and source position. Figure 3.3 shows the improvement in array resolution as a function o f number o f microphones. I t can be seen that the resolution increases linearly w ith N. Table 3.1 shows that the error band decreases rapidly as N increases, fo r this simple case (w ith " optim um " values fo r relevant parameters). I t is seen that a relatively small array size, as small as 5 microphones, provides an acceptable error band o f ± 0.375 radians (corresponding to about ± 12 % ) fo r source localization and an array dynamic range o f 13 dB, which remains constant fo r 77 > 5.

33 i
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

2

\6

I ;

-0 £

Q .v.. 0£-

i,1.f

. 1 , 6 .^ : · . : 2: ; -s'i 'V. yv0

lit

1 0 0 0 2 0 0 0 3 0 0 0 4 0 0 0 5 0 0 0 G O Q O x7 0 0 0 ':'8 0 0 0 y ,';..9 0 m .\f.:.';L ;

(a) (b) Figure 3.2: Beamforming results, fo r N=2 & 5 0 ,/= 4 5 0 0 Hz; (a) A rray power plot (b) SPL spectrum. Table 3.1 E ffe ct o f n u m b e r o f m icrophones Number o f Microphones (AO 2 3 5 9 17 50 Beamwidth (radians') 2.75 1.37 0.75 0.37 0.208 0.069 Resolution (1/radians) 0.3636 0.7272 1.333 2.670 4.800 14.50 E rro r band (radians) ±1.375 ± 0.687 ± 0 .3 7 5 ± 0 .1 8 7 ± 0 .1 0 4 ± 0.034 Dynamic range (dB) N .A .® N .A . 13 13 13 13

10

20

30 M icrophones (N)

40

50

60

Figure 3.3: Effect o f number o f microphones on array resolution. © N.A. denotes not applicable.

34

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

3.2.2

Effect of source signal frequency (/)

Since it may be possible to change beamforming results by changing the source signal frequency, the plane wave signal was generated at different frequencies ranging from 500 to 8000 Hz fo r different array apertures (N =2 to 50) w ith d = 0 radians and an inter-microphone distance o f 2 cm. Again, the sine wave generated at each microphone had an integer number o f cycles. The beamforming results fo r/= 5 0 0 H z and/=8000 H z are depicted in Figures 3.4 and 3.5 fo r N=2 and A=50 respectively. Figure 3.4 (a) and 3.5 (a) show the array power fo r the tw o different frequencies. Figures 3.4 (b) and 3.5 (b) show the corresponding spectra. The beamwidth and the dynamic range were obtained from the various beamforming maps fo r different frequencies ranging from 500 Hz to 8000 Hz at different array apertures. The beamwidth, array resolution, the error band and the dynamic range are summarized in Table 3.2, and a plot o f the array resolution versus signal frequency is presented in Figure 3.6. When N=2 (i.e., the aperture is small), it can be seen from Figure 3.4 (a) that the array

[
I i

power is a straight line fo r/= 5 0 0 Hz. The corresponding array resolution is therefore zero and the error band is infinite (Table 3.2 (a)), signifying that the beamforming method is futile under these circumstances. The array resolution increases w ith the increase o f frequency to 8000 Hz, but the dynamic range cannot be defined, and the error band o f ± 0.583 radians (± 18.5 %) is fairly large. Thus, the source localization capability o f the array, although improved, is poor. When N is increased to 50, fo r 500 Hz, the array power sidelobes are at -13 dB and the error band is reduced to ± 0.3213 radians (± 10 %) [Figure 3.5 (a) and Table 3.2 (d)]. This error band and hence the ability o f the microphone array fo r source localization are acceptable. The error band changes rapidly w ith the increase o f frequency to /= 8 0 0 0 H z [Table 3.2(d)]. Specifically, the error changes from ± 10 % fo r 500 H z to less than ± 1 % fo r 8000 Hz. W ith such a small error and a dynamic range o f 13 dB, the acoustic source localization capability o f the beamforming technique is quite satisfactory. Figure 3.6 indicates that the array resolution increases linearly w ith the increase o f signal frequency fo r any array aperture. Notice that the frequency resolution o f the spectra is very good for both /= 5 0 0 Hz and /=8000 H z [Figure 3.4(b) and 3.5(b)]. This resolution is independent o f frequency, as w ell as number o f microphones (see subsection 3.2.1).

35

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

r /

.

The results o f this section serve to demonstrate that, at low frequencies, the source localization capability o f the beamforming technique is very poor fo r small array apertures; however, this capability can be improved by increasing the array aperture. I t is evident that the resolution o f an array is a function o f array aperture (D=Nd) and signal frequency [30]. A t low frequencies, signal wavelengths are large, and to improve the array resolution large apertures are required; moreover, fo r a constant aperture, the array resolution increases w ith the increase o f frequency®. The results also show that once the dynamic range can be defined in the beamforming maps, it is independent o f frequency.

, ;-.._ 1 0 Q0 ·

f« 5 0 0H z f

'|

*ra 

 ^ -IS O-

4 0

0 .5

. ' ,2000

4000 ; 6000

8000

10000

12000 : 14000 ' leooo.c

(a) ................. (b) Figure 3.4: Beamforming results, fo r A^=2,/=500 Hz & 8000 Hz; (a) A rray power plot (b) SPL spectrum.

.,100

· .so
f=8 0 0 0H z ; 1 5 -20
100

16 0 . ¥ "

1 6 0

zo
40.

46,

1 5

 2 5 0 0 '

2 0 0 0

4 0 0 0

8 0 0 0

8 0 0 0

1 0 0 0 0 :'. 1 2 0 0 0

1 4 0 0 0 '

1 G O O O / :

(b) Figure 3.5; Beamforming results, fo r A^=50,/=500 Hz & 8000 Hz; (a) A rray pow er plot (b) SPL spectrum.

© These traits can be shown via the array pattern results (see Appendix B, equation B.5)

36
j

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Table 3.2 Effect of source signal frequency

Frequency (H z) 500 3000 4500 6500 8000

Beamwidth (radians)

2.75 1.458 1.166

Resolution (1/radians) 0.00 0.00 0.3636 0.6857 0.8576

E rro r band (radians)
oo oo

± 1.3750 ± 0.7291 ± 0.5830

Dynamic range (dB) N .A . N .A . N .A . N .A N .A .

(b)Æ=5
Frequency (H z) 500 3000 4500 6500 8000 Beamwidth (radians)
OO

1.125. 0.75 0.50 0.4166

Resolution (1/radians) 0.00 0.888. 1.333 2.0 2.40

E rror band (radians)
CO

± 0.5625 ± 0.3750 + 0.2500 ± 0.2083

Dynamic range (dB) N .A . N .A . 13 13 13

(c) N=9
Frequency (Hz) 500 3000 4500 6500 8000 Beamwidth (radians)
OO

0.666 0.375 0.291 0.25

Resolution (1/radians) 0.00 1.50. 2.67 3.42 4.0

E rror band (radians)
OO

± 0.3330 ± 0 .1875 ± 0 .1458 ± 0 .1 2 5 0

Dynamic range (dB) N .A . 13 13 13 13

(d) N=5Q
Frequency (Hz) 500 3000 4500 6500 8000 Beamwidth (radians) 0.6426 0.1071 0.0714 0.0535 0.042 Resolution (1/radians) 1.556 9.34 14.00 18.67 23.80 E rror band (radians) ± 0.3213 ± 0.0535 ± 0.0357 ± 0.0267 ± 0 .0 2 1 0 Dynamic range (dB) 13 13 13 13 13

37

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

N=2

N=5 - ! ^ N = 9

~ ^ N = 1 7

EriMkàakLS'.fiâiiKL^

"  ' £"x»y^?

1000

2000

3000

4000

5000

6000

7000

8000

9000

Frequency(Hz)

Figure 3.6: Effect o f source signal frequency on array resolution.

3.2.3

Effect of integer and non-integer number of cycles with time windows

In general, measured periodic acoustic signals have non-integer numbers o f cycles. The primary objective o f this subsection was to examine the beamforming results when the acoustic signals have non-integer numbers o f cycles. The impact o f a time window, viz., the Hanning window , on the beamforming results w ith non-integer and integer number o f cycles was also analyzed. The plane wave signal was generated at 4500 Hz, w ith ^ = 0 radians and an inter microphone distance o f 2 cm. The number o f microphones was increased fro m 2 to 17 fo r the case o f non-integer number o f cycles w ith the default rectangular window. The relevant beamforming results are presented in Figures 3.7, 3.8, 3.9 and 3.10, and Table 3.3. Figure 3.7 shows the results fo r a non-integer number o f cycles w ith the rectangular w indow fo r/= 4 5 0 0 Hz and 77=17. Figure 3.8 depicts the results fo r a non-integer number o f cycles w ith the Hanning and rectangular windows, fo r/= 4 5 0 0 H z and 77=17. Figure 3.9 shows the beamforming results for an integer number o f cycles w ith the Hanning and rectangular

38

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

windows fo r/= 4 5 0 0 H z and N = \l. The beamwidth, array resolution, the error band and the dynamic range, obtained from the various beamforming plots (N=2 to 17) fo r a non-integer number o f cycles w ith the Hanning window, are summarized in Table 3.3. A plot o f the array resolution versus number o f microphones is presented in Figure 3.10. When a non-integer number o f cycles is used, the beamforming results indicate that the array power is distributed in various " frequency bins" , as depicted in Figure 3.7 (a)-(e). But there is only one bin which " contains" the highest array power and which corresponds to the signal frequency. In this case (/=4500 Hz and N=17), it is the 348'*' frequency bin. Figure 3.10 depicts the array resolution calculated from the correct or dominant frequency bins fo r various array apertures. This figure indicates that array resolution increases linearly w ith the number o f microphones. The resolution and error band values are exactly the same as those calculated in sub-section 3.2.1, where an integer number o f cycles were used (Tables 3.3 and 3.1). However, there is energy leakage from the correct bin into adjacent bins [Figure 3.7 (a)-(e)]; consequently, the frequency resolution o f the spectrum is reduced [Figure 3.7 (f)]. As shown in Figure 3.8 (a), the beamforming map is unaffected by the Hanning window, when the signal has a non-integer number o f cycles. M oreover, Figure 3.8 (b) shows that the Hanning window noticeably alleviates the leakage problem associated w ith the spectrum, as compared to the rectangular (default) window. When the Hanning window is applied w ith an integer number o f cycles, the beamforming map is again unaffected, as shown in Figure 3.9(a). However, the frequency resolution o f the spectrum is significantly degraded, as compared to the resolution when the rectangular window is used [Figure 3.9(b)]. From the results in this sub-section, it can be concluded that the beamforming map is independent o f whether or not the signal contains an integer number o f cycles, and the source can be localized from the correct o r dominant frequency bin. M oreover, windows have no effect on the beamforming map. However, a window (other than the rectangular w indow) reduces the leakage from the spectrum when the signal has a non-integer number o f cycles. Hence, in practice, a special window should always be prescribed in order to alleviate the leakage problem and to improve the resolvability o f the estimated spectrum. B u t such a window is not required fo r a signal w ith an integer number o f cycles.

39

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

IS

-ÎO

0 ...

0.5.

.. -I,:

1.5

·1.5

· ·'·r*.tv..--'

(a): 346th

(b): 347th

·10

0 .5

(c): 348th

(d): 349th

.10

30

1 0 0 0 . 3 0 0 0

3 0 0 0

4 0 0 0 .

6 0 0 0

(e): 350th if) Figure 3.7; Beamforming results, fo r //= 1 7 ,/= 4500 Hz, w ith a non-integer number o f cycles and rectangular w indow ; (a) - (e) A rray power plots fo r 346`\ 347"', 348 * 349*, 350* frequency bins (f) SPL spectrum.

40

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

wim KectsngulQr window

ivith Hanni ng win

'

:

(a)

(b)

Figure 3.8: Beamforming results, fo r N - \ l , f = 4500 Hz, w ith a non-integer number o f cycles w ith Rectangular and Hanning windows; (a) Array pow er plot (b) SPL spectrum.
100

S O

I " i > « 
. | ; ; i ' c o

witfi Hanning window

Jk

\^' ^ sa
200

with Rectangular window

'

.1 f

\

yt \  '·  '

^ D . t ' - Ik*;: *-./< ' * " ' : 1 4 '

/· ;

2

V-'rr''

-

250 0

v i·;

KDO

3 0 0 0

3 0 0 0

4 0 0 0

6 0 0 0 . eooov. TD pQ ; 8 0 0 0

9 0 0 0

.................................(a)

(b)

Figure 3.9; Beamforming results, fo r N = \l,f= 4500 Hz, w ith an integer number o f cycles w ith Rectangular and Hanning windows; (a) A rray pow er plot (b) SPL spectrum.

Table 3.3 Effect of non-integer number of cycles with Hanning window
Number o f Microphones (AO 2 3 5 Beamwidth (radians) 2.750 1.375 0.750 0.375 0.208 Resolution (1/radians) 0.363 0.727 1.333 2.670 4.800 E rro r band (radians) +1.375 + 0.6875 ± 0 .3 7 5 ±0 .1 8 7 5 ± 0 .1 0 4 Dynamic range

(dB)
N .A. N .A. 13 13 13

9
17

41

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

T ,-----

. '< r ' '

Sy

w

L ^

0

10
M icrophones (N)

15

20

Figure 3.10: Effect o f non-integer number o f cycles on array resolution. 3.2.4 E ffe ct o f in te r-m ic ro p h o n e distance (d)

The distance between microphones (d) controls the spurious (grating) lobes in the beamforming map as discussed in subsection 2.2.1. W ith the violation o f the Shannon criterion

{d > X/2), grating lobes appear in the beamforming map, as shown in Figure 2.3. The purpose
o f this sub-section was to explore what happens if d >X/2, d = X/2 and d < X/2. The plane wave signal was generated at a frequency o f 8000 Hz, w ith ^ = 0 radians, N=17 and an integer number o f cycles. The inter-microphone spacing was changed from 6 cm to 1 cm. The inter microphone spacing required to satisfy Shannon' s criterion {d*=A./2) was 2 cm. The beamforming results fo r d=3d* (6 cm), d* (2 cm), and d*/2 (1 cm) are presented in Figures 3.11, 3.12, and 3.13 respectively. Figures 3.11(a), 3.12(a), and 3.13(a) show the array power as the function o f D O A . Figures 3.11(b), 3.12(b), and 3.13(b) show the corresponding SPL spectra. Grating lobes appear in the beamforming map when d=3d* and their magnitude is as high as that o f the mainlobe (Figure 3.11(a)). Due to these grating lobes, beamforming source localization is futile. When the distance between microphones is reduced to d=d* (which satisfies Shannon' s criterion) the grating lobes are suppressed and a beamforming map with adequate dynamic range (13 dB ) results (Figure 3.12 (a)). When the distance between

42

Reoroduced with oermission of the copyright owner. Further reproduction prohibited without permission.

microphones is further reduced to

d=d*/2, the mainlobe w idth increases (Figure 3.13 (a)), and

the error band increases by 3 times, i.e., from ± 0.0357 radians fo r d=d* to ± 0.107 radians for

d=d*/2\ but the dynamic range is unaffected. I t should be noted that the inter-microphone
distance has no effect on the sound pressure spectrum [Figures 3.11(b), 3.12(b), and 3.13 (b)]. I t is clear from the above results that an acoustic source can be localized once d < d*, i.e., when Shannon' s criterion is met. M oreover, when d < d*, the array resolution is degraded. Thus, it can be concluded that the maximum array resolution is obtained when d=d*. (In practice, d is fixed at d* fo r a specific application w ith a given array design.) The results also show that the inter-microphone distance has no impact on the SPL spectrum o f the signal.

g ra tto gto b #
'*10

I  »

.0  2 0 0 0

4 0 0 0 -, 6 0 0 0

8 0 0 0 .

1 0 0 0 0

1 2 0 0 0 .1 4 0 3 0

1 6 0 0 0 .

(b) Figure 3.11; Beamforming results fo r d = 3d*\ (a) A rray power plot (b) SPL spectrum.
(a )

2000

«03..,. s o o o a o o o l a i n ; , taoo

(a)

(b)

Figure 3.12: Beamforming results fo r d = d*\ (a) A rray power p lo t (b) SPL spectrum.

43

Reproduced with permission of the copyright owner. Further reproduction prohibited w ithout permission.

100 -

Î-Ï
;·

J

·

i

·20

 I'tO D

·

-2 0 0:
~0 * ...2 D 0 0 ; «00 6 0 3 0. 1 0 0 0 0 1 2 0 0 0 1 «00 . 1 8

V0

% '

-F (*W # n c y lH % ),\\ \

BOOQ

,

j

'( a ) (b) Figure 3.13: Beamforming results fo r ^ = d*/2 ; (a) A rray pow er plot (b) SPL spectrum.

3.2.5

E ffe c t o f source p o sitio n

An acoustic source can be located between - 90 degrees and + 90 degrees fo r the U L A far field beamforming, and the signal direction o f arrival (D O A ) may change the array capability. To examine this aspect, a plane wave signal was generated at 8000 Hz, w ith 17 microphones, an inter-microphone spacing o f 2 cm and an integer number o f cycles. The source was placed at different positions from -1.0 radians to 1.0 radians w ith respect to broadside ( ^ = 0 radians). The beamforming results are shown in Figure 3.14 fo r ^ = -1 .0 radians and 0 radians. Figure 3.14 (a) shows the array power fo r two different D O A ' s. Figure 3.14 (b) presents the corresponding SPL spectra. The beamwidth, the array resolution, the error band and the dynamic range, obtained from the various beamforming plots (0 = -1.0 radians to 1.0 radians) are summarized in Table 3.4. A plot o f the array resolution versus D O A is presented in Figure 3.15. When the signal impinges at

0 = 0 radians, the error band is ± 0.0625 radians, and the

dynamic range is 13 dB [Figure 3.14 (a)]. The error band increases to + 0.1304 radians w ith the change o f D O A to ^ = ± 1.0 radians (Table 3.5). This error band is almost double that

obtained at 0 = 0 radians. Also, it should be noted that the sidelobes become asymmetric w ith the change o f direction o f propagation o f the signal from 0 = 0 radians to ^ = -1 .0 radians. The D O A has no impact on the SPL spectrum [Figures 3.14(b)]. Figure 3.15 shows that the array resolution is maximum fo r ^ = 0 radians and decreases non-linearly as 1^1 increases.

44

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

I t is evident that the array resolution depends upon the D O A o f the signal, w ith the maximum resolution occurring when an acoustic source is at ^ = 0 radians (i.e., at broadside). However, the dynamic range remains unaffected by the D O A .
100

-to

> 2 5
'3 0

1 5 0
3 0 0 2 5 0 ,

·1 5

16 :  D

0.5

1 . 5

2 0 0 0

4 0 0 0

: .T h *l*(r*d fâ n t) .:

G O O O 8 0 0 0 1 0 0 0 0 F fe q u * n c y (H |

2

1 2 0 0 0

1 4 0 0 0

1 E Q 0 0

(b) (a) Figure 3.14: Beamforming results fo r 6 = -1.0 radians, ^ = 0 radians; (a) A rray power plot (b) SPL spectrum. Table 3.4 E ffect o f source position DOA (radians) -1.0 -0.5 0 0.5 1.0 Beamwidth (radians) 0.2608 0.1522 0.125 0.1522 0.2608 Resolution (1/radians) 3.834 6.57 8.00 6.57 3.834 E rror band (radians) ± 0 .1 3 0 4 + 0.0760 ± 0.0625 ± 0.0760 ± 0 .1 3 0 4 Dynamic range (dB) 13 13 13 13 13

til- .' ' r w : < 5 ^ 0 3 0 ·X J
C

a #

1
C Q 06
DOA (radians)

-1.5

16

Figure 3.15: Effect o f source location on array resolution.

45

Reproduced w ith permission of the copyright owner. Further reproduction prohibited without permission.

3.2.6

E ffe ct o f m u ltip le frequencies

Single frequency signals, which are generally similar to narrowband signals, have been discussed in the previous subsections. In practice, however, broadband signals, i.e., signals containing a large number o f frequencies, are often encountered. The purpose o f this subsection was to analyze a signal w ith m ultiple frequencies in order to gain some insight into the beamforming technique in the case o f broadband signals. T o this end, a plane wave signal containing three components at frequencies o f 4500 Hz, 6500 Hz, and 8000 Hz, was generated, w ith 6=Q radians, an inter-microphone o f 2 cm, and an integer number o f cycles. microphone array consisted o f 17 microphones. The beamforming results are presented in Figure 3.16. Figure 3.16 (a)-(c) depicts the array power in different frequency bins and Figure 3.16 (d) shows the SPL spectrum. :'V The

(a): 145'" (4500 Hz)

(b); 209'" (6500 H z)

.

, - '. 'S D

Is; °
,Jv'«

11 5 0
'; " 3 0 0

2 0 0 0

4 0 0 0

G O O O

6 0 0 0

1 0 0 0 0

1 2 0 0 0 '1 4 0 0 0

1 E O O O " .

(c): 257'" (8000 Hz) (d) Figure 3.16; Beamformimg results, fo r 7/=17, multiple frequency signal; (a)-(c) A rray pow er plots fo r 145'", 209'", and 257'" frequency bins (d) SPL spectrum.

46

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

It can be seen that the beamforming maps corresponding to the three signal frequencies (4500 Hz, 6500 H z and 8000 Hz) are contained in specific dominant frequency bins. M oreover, the error band pertaining to the different beamforming maps are ± 0.2083 radians fo r 4500 Hz, ± 0 .1 5 0 radians fo r 6500 Hz, and ± 0 .1 2 5 radians fo r 8000 Hz, in accordance w ith the fact that the error band decreases (or the array resolution increases) as frequency increases (see subsection 3.2.2). I t should be noted that the array dynamic range remains constant at 13 dB for the different frequencies. I t is evident that fo r a signal w ith multiple frequencies (or a broadband signal), w ith the use o f time windows, source localization is possible by finding the relevant dominant frequency bins. The implication o f these results is that the beamforming technique is robust, i.e., it is capable o f resolving the source localization problem regardless o f the nature o f the signal, i.e., narrowband o r broadband.

3.2.7

E ffe ct o f n u m b e r o f data blocks w ith o u t noise

The purpose o f this sub-section was to examine the effect o f the number o f data blocks when an acoustic signal is free o f extraneous noise. The plane wave signal was generated at a frequency o f 8000 Hz, w ith 0 = 0 radians, an inter-microphone spacing o f 2 cm and an integer number o f cycles. The microphone array consisted o f 17 microphones. The beamforming results fo r L=1 and L=10 are presented in Figures 3.17 and 3.18 respectively. Figures 3.17(a) and 3.18(a) show the array power as a function o f D O A. Figures 3.16 (b) and 3.18(b) show the corresponding SPL spectra.

.2 0

·1 .5 ·

. ·0.6 ,0 r r i r , .Tbtl«(r»di»o«)

0 :.

. zxD

Booo ,, aooa ,' iocoq.. taooo

i« x n · leooo.- , j

(b) (a) Figure 3.17: Beamforming results fo r L = l; (a) A rray power plot (b) SPL spectrum.

47

pnopc.ir/GF

R Y U nS C MUi\liVLBi;nYL:gfl4{|V

J
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

When a single block o f data is used, the beamforming map has an error band o f ± 0.0625 radians w ith array dynamic range o f 13 dB [Figure 3.17 (a)]. When 10 blocks are used, the results remain exactly the same [Figure 3.18(a)]. The SPL spectra [Figures 3.17(b) and 3.18 (b)] are also unaffected by the number o f blocks. The above results serve to establish that block averaging is really not required when the signal contains no extraneous noise, as pointed out previously in section 2.2.

£ -1 0 0

« -36

* -150

0

0.5

2000

4000

6000

F re q w M :y |H % l ,.

8000

10000

12000

,

14000

1E000 '

(b) 00 Figure 3.18: Beamforming results fo r 1=10; (a) A rray power plot (b) SPL spectrum.

3.2.8

Effect of noise for a single block of data

The signals used in the previous sub-sections were noise free. B ut in practice, extraneous noise is often present in acoustic signals. I f this noise is statistically independent w ith respect to the various microphones in an array, then frequency domain averaging, i.e., averaging several blocks (L) o f frequency-domain data, can be used to improve the beamforming results. Moreover, the signal-to-noise ratio (SNR) o f the array is significantly greater than that o f a single microphone (SNR q ), as discussed in Appendix C. The purpose o f this sub-section was to investigate the effect o f the noise on the beamforming results. The plane wave signal was generated at a frequency o f 6500 Hz, with

0=0 radians, an inter-microphone spacing o f 2 cm and an integer number o f cycles.
Statistically independent noise was added to each microphone signal. The amplitude o f the noise was varied so that three different signal-to noise ratios (i.e., SNRq values) were obtained, viz., 0.52, 0.0012, and 0.00030. Four different array apertures corresponding to A=10, 17, 33,

48

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

\

A

45, were

:d. ij 'y a single block o f noisy data containing 1024 data points ( L = l, M =1024)

was used ... · thip analysis. The b  rming results fo r SNRo values o f 0.52, 0.0012, and 0.0003, and fo r N values o f

10 and 45, are presented in Figures 3.19-3.24. Each figure depicts an array power plot and the associated SPL spectrum. For SNRo=0.52 and N = \0 [Figure 3.19(a)], the error band is ± 0.25 radians (± 8 %), and the dynamic range is 13 dB. This error band is adequate fo r source localization. The associated

SPL spectrum [Figure 3.19 (b)] shows that the spectrum o f the acoustic signal dominates that
o f the noise, w ith the difference between the two spectra being approximately 29 dB. When SNRo decreases from 0.52 to 0.0012, for N=10 [Figure 3.20 (a)], the sidelobe levels increase, and the dynamic range decreases to 3.6 dB. Also, the associated SPL spectrum [Figure 3.20 (b)] shows that spectrum o f the signal and that o f the noise are indistinguishable. Therefore, the beamforming method is o f very limited use in this case. As SNRo decreases further to 0.0003, for A =10 [Figure 3.21(a)], the sidelobe levels increase to such a height that the dynamic range is zero and the associated SPL spectrum [Figure 3.21(b)] shows that the spectrum o f the signal is buried in that o f the noise. Therefore, the beamforming method is futile in this case. For SNRo=0.52 and M=45 [Figure 3.22 (a)], the error band is reduced from ± 0.25 radians (± 8 %) to ± 0.055 radians (± 0.18 %), and the dynamic range is 13 dB. The decrease in the e rror band w ith the increase in the number o f microphones (from N=10 to 45) is consistent w ith the results o f sub-section 3.2.1. The effect o f the noise on the associated SPL spectrum [Figure 3.22(b)] is also reduced, because the array SNR increases (see Appendix C) as the number o f microphones increases, and the signal spectrum dominants the noise spectrum by about 39 dB. W hen SNRo decreases from 0.52 to 0.0012, fo r # = 45 [Figure 3.23(a)], the sidelobe levels increase and the dynamic range decreases to 7.65 dB. The associated SPL spectrum [Figure 3.23(b)] shows that the signal spectrum is distinguishable fro m the noise spectrum, the difference between the two spectra being about 5 dB. The beamforming method is limited in this case but it is better than in the case o f SNRo=0.0012 and #=10. As SNRo decreases to 0.0003, fo r #= 45 [Figure 3.24(a)], the sidelobe levels increase fu rth e r and the dynamic range decreases to 2.7 dB. The associated SPL spectrum [Figure

49

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

3.24(a)] shows that the signal spectrum is buried in the noise spectrum. Therefore, the beamforming method is futile in this case. I t can be concluded that once the signal to noise ratio (SNRo) is greater than about 0.5 and the number o f microphone is 10 o r more, the beamforming method is viable with a single block

o f data, when the noise affecting the various microphones is statistically independent. I f SNRo
is very much smaller than 0.5 (say, less than 0.001), then an adequate array signal to noise ratio (SNR) can not be achieved using a single block o f data, even w ith a relatively large number o f microphones (A^=45); consequently, both source localization and signal spectrum detection are difficult. In other words, the beamforming technique becomes increasingly deficient as SNRo decreases, when a single block o f data is used. To overcome this deficiency, block averaging is used.

< 3 0

.40

0 .5

4 0 0 0

F rM U w K )r(K > }

B O Q O.

8 0 0 0

(a) Figure 3.19: Beamforming results fo r SNR q = 0.52, 7V=10; (a) A rray pow er plot (b) SPL spectrum.
100

I
2000

(a) Figure 3.20: Beamforming results fo r SNRo=0.0012, A^=10; (a) A rray pow er p lot (b) SPL spectrum.

50

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

·o.s

10000

1 3 0 0 0

(b) (a) Figure 3.21: Beamforming results fo r SNRo=0.0003, A^=10; (a) A rra y pow er plot (b) SPL spectrum.

·10  1 5

· 3 5

2 D O O

'( O O O

'.F re q o in c y jH z )

G O O D · B O O O

1 D Q 0 Ü

, 1 2 0 C D ,

(b) (a) Figure 3.22: Beamforming results fo r SNRo=0.52, A^=45; (a) A rray pow er plot (b) SPL spectrum.

i
t
#
1 0 0 0 0' , 1 2 0 0 0 ,
..·-·iA jîr't'.,

i

··V

m

m

(a)

(b)

Figure 3.23: Beamforming results fo r SNRo=0.0012, N=45; (a) A rray pow er plot (b) SPL spectrum.

51

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

'A

. a.
T h # l» ( i* * in t)

2 0 C D ^' ···; .

4 0 0 0 . GOOO · 8 0 0 0 . ' . V' , . . F f® q u * n c y J H rl

1 0 0 0 3

1 2 0 0 0

(a)

(b)

Figure 3.24: Beamforming results fo r SNRo=0.0003, A^=45; (a) A rray power plot (b) SPL spectrum.

3.2.9

Effect of noise with several blocks (L) of data

The results in the last subsection indicate that the noise dominated the source signal for

SNRo=0.0012 and 0.0003 (i.e., fo r relatively low SNRo values), and both source localization
and signal spectrum detection were difficult. The aim o f this sub-section was to demonstrate the impact o f the number o f data blocks (i.e., block averaging), when statistically independent noise affects the microphones in an array. The data fo r each microphone were divided into a number o f blocks (L), and the FFT was applied to each block, as discussed in 2.2.3.1. The plane wave signal was generated at a frequency o f 6500 Hz, w ith 0 = 0 radians, an inter microphone spacing o f 2 cm and an integer number o f cycles. Statistically independent noise was added to each microphone signal. The SNRo values used were 0.0012 and 0.0003, and the number o f microphones was varied from 10 to 45. Beamforming results were obtained fo r various combinations o f SNRo and N, w ith different numbers o f data blocks, i.e., L values, being used fo r each combination. The " optim um " number o f blocks o f frequency-domain data to be averaged fo r each combination was determined on the basis o f consistency o f the beamforming maps obtained using different L values. As L increases, the beamforming map fo r any given SNRo combination evolves from a relatively disorganized form [e.g.. Figure 3.24

(a)] to a structured fo rm [e.g.. Figure 3.28(a)]. The value o f L beyond which the map ceases to change in any significant fashion is the optim um L value. Beamforming results based on the optim um number o f blocks fo r different combinations o f SNRo and N are presented in Figures 3.25-3.28. Each figure depicts the " evolved" array

52

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

\

,

power and associated SPL spectrum. A plot o f the optim um number o f blocks versus number o f microphones fo r different SNRo values is presented in Figure 3.29. Figure 3.25 depicts the beamforming results fo r SNRo=0.0012 and A=10. The optimum number o f blocks is 23 fo r source localization via the beamforming method. The beamforming map in Figure 3.25(a) fo r L=23 can be compared to that in Figure 3.20(a) fo r L = l. I t can be seen that the array dynamic range increases from 3.6 dB (which is poor) to 6.3 dB, due to the increase in L from 1 to 23. W ith respect to the SPL spectrum, the noise effect is alleviated by about 6 dB for L=23 [Figure 3.25 (b)], as compared to 0 dB fo r L=1 [Figure 3.20(b)]. Figure 3.26 shows the beamforming results fo r SNRq=0.0003 and N=10. The optimum number o f blocks is 40 fo r source localization, and the array dynamic range is 3 dB. The beamforming map in Figure 3.26(a) fo r L=40 is seen to be organized compared to that shown in Figure 3.21(a) fo r L ~ \. Also, the SPL spectrum indicates that the noise effect is alleviated by about 3 dB fo r L=40 [Figure 3.26 (b)], as compared to 0 dB fo r L=1 [Figure 3.21(b)]. B ut the dynamic range o f 3 dB is unacceptable. The beamforming results fo r SNRo=0.0012 and N=A5 are presented in Figure 3.27. The optimum number o f blocks is 10, and the array dynamic range is 10.8 dB, which is reasonable. The beamforming map in Figure 3.27(a) fo r L=10 is clearly much more organized than that shown in Figure 3.23(a) fo r L = l. W ith respect to the SPL spectrum, the noise effect alleviation is about 12 dB fo r L=10 [Figure 3.27(b)], as compared to about 6 dB fo r L=1 [Figure 3.23(b)]. The beamforming results fo r SNR q = 0.0003 and 77=45 are presented in Figure 3.28. The optimum number o f blocks is 15, and the array dynamic range is 7.2 dB, which is acceptable. W ith respect to the SPL spectrum, the noise effect alleviation is about 7 dB fo r L=15 [Figure 3.28(b)], as compared to about 0 dB fo r L=1 [Figure 3.24(b)]. A comparison o f Figure 3.25 fo r SNRo=0.0012 and 77=10, and Figure 3.27 for

SNRo=0.0012 and 77=45, indicates that fo r a given SNRo value, once the optimum L is used, both the dynamic range and the noise effect alleviation increase as 77 increases; in other words, the capability o f the beamforming technique improves as the array aperture increases, as expected. I t should be noted, however, that fo r low SNRo values (e.g., 0.0003), fairly large apertures are required to obtain reasonable results (see Figure 3.26, fo r 77=10 and Figure 3.28, for N=45).

53

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

\ ^

100 ·

S tâ&S'-^ 
-

m
m 1

.

g "

ieo ·

w
2000 V ;,4000 . \ GOOO -. BOOO. . ; 10000.,. .12000

-3 5
·Î.S ·0.S-. .0.5 1.5 ^^·ï.v">' . . . . 0

(a) (b) Figure 3.25: Beamforming results fo r SNRo=0.0012,7V=10, L=23; (a) A rray pow er plot (b) SPL spectrum.
to o

:i I

1 -5

0 0 0 0

(a) (b) Figure 3.26: Beamforming results fo r SNRo=0.0003, #=10, L=4; (a) A rray power plot (b) SPL spectrum.
100

90

i.2 0

-0.6

0.6

2000

40QQ

Figure 3.27; Beamforming results fo r SNR q = 0.0012, # = 4 5 , L=10; (a) A rray pow er plot (b) SPL spectrum.

54

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

''

i

It can be seen from Figure 3.29 that fo r a given SNRo value, the optim um number o f blocks decreases essentially linearly as the number o f microphones (or the array aperture) increases; moreover, fo r a given number o f microphones, the optim um number o f blocks decreases as the SNRo value increases.

.100

· 4 0

-1 .6

 Û . 5 . .

Figure 3.28: Beamforming results fo r SNRo=0.0003, N=45, L=15; (a) A rray power p lo t (b) SPL spectrum.

SNR(single mic.)=0.0012

SNR(single mic.)=0.0003

« m

m

............

20

30

Number of microphones (N)
Figure 3.29: Plot between optim um numbers o f blocks (L) versus number o f microphones (AO fo r SNRo = 0.0012 and SNRo = 0.0003.

55

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The results o f this sub-section demonstrate that a source can be localized in a noisy environment by means o f block averaging, when statistically independent noise affects the microphones in an array. In such an environment, the enhancement o f the signal-to-noise ratio o f an array over that o f a single microphone is insufficient, and block averaging should be used to reduce the variability o f the beamforming results. In the above section (3.2), a detailed sensitivity analysis o f a uniform linear array (U L A ) w ith a source placed in the far field has been carried out. In the next section, the sensitivity ^ analysis o f the U L A w ith the source placed in the near field is presented. ' j 1 I
I

3.3

Uniform Linear Array - near field beamforming
In certain aeroacoustic situations, fo r example, a sound source placed in the test section o f i

a wind tunnel, a microphone array can be located near to a sound source. In such a situation, the acoustic wave fron t is spherical and beamforming is complicated, in comparison w ith a planar wave situation. As mentioned in section 1.1.2, fo r near field source localization, both the range and the D O A o f the acoustic source need to be determined. The purpose o f this section was to examine beamforming results pertaining to a U L A w ith a near field source. The U L A was designed fo r near field simulated signals w ith a maximum frequency o f 3000 Hz. The inter-microphone spacing was therefore set at 5.7 cm to satisfy Shannon' s theorem. The signals at each microphone had an integer number o f cycles. Each block o f data fo r the digital signals contained 1024 points, i.e., M =1024, and yielded 513 (M/2-1-1) frequency bins. The U L A was taken along the x-axis, and a spherical wave was generated at each subi

\
I

microphone location by means o f the form ula ( A / ) s i n [ t y ( f - r ,, / c ) ] , as discussed in

section 3.1. For this arrangement, the wave front reaches the microphone array centre at an angle^ as depicted in Figure 3.30, where r is the distance between the acoustic source and the array centre. For each frequency bin, the beamforming map was obtained by com puting steering vectors fo r various assumed source locations in the x-y plane (e.g., -0.5 m to 0.5 m along the xaxis and 0.1 to 1.1 m along the y-axis). The sound pressure level (SPL) spectrum was obtained ) from the maximum values o f the beamforming maps in the various frequency bins. t ,

56

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

(X.Y!

acoustic source

X = rsin 6

X is the distance o f source along the x-axis Y is the distance o f source along tlje y-axis Microphones

Figure 3.30: Depiction o f U niform Linear A rray w ith a near field source. The follow ing parameters were chosen fo r the sensitivity analysis in this case. · · · ® Num ber o f microphones ( A -- > 8 to 48). Signal frequency ( / -- » 500 to 3000 Hz). Source position. Inter-m icrophone distance (J).

3.3.1

E ffe ct o f n u m b e r o f m icrophones (A ) and source signal freq uency (/)

The number o f microphones and the signal frequency are the key parameters in beamforming, as shown by the U L A far field beamforming results (section 3.2). In this sub section the effect o f these parameters on U L A near field beamforming results was examined. The spherical wave was generated at different frequencies ranging fro m /= 5 0 0 Hz to /= 3 000 Hz, and the number o f microphones (A ) was varied from 8 to 48. The acoustic source was placed at X = 0 m, Y =0.5 m. The beamforming maps (3D and 2D plots) fo r f=500 H z and /= 3 0 0 0 Hz w ith A=8 are presented in Figures 3.31 and 3.32. The corresponding plots o f the array power along the x

and y axes are presented in Figure 3.33. The beamforming maps (3D and 2D plots) fo r /= 5 0 0 H z and/= 3000 H z w ith A=48 are presented in Figures 3.34 and 3.35. The corresponding plots o f the array pow er along the x and y axes are presented in Figure 3.36. Figure 3.37 shows the

57

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

sound pressure level (SPL) spectra for /= 5 0 0 H z and /= 3 000 H z w ith N=8 and N=48. The beamwidth and the dynamic range were obtained from the various beamforming maps for different frequencies fro m 500 H z to 3000 Hz w ith different array apertures. The beamwidth, the array resolution, the error band and the dynamic range are summarized in Table 3.5. It should be noted that the array resolution is not the same along the x-axis and the y-axis, and the array power is portrayed in tw o different plots [e.g., see Figure 3.33 (a & b)]. I t should also be noted that the ellipses in the 2D beamforming maps [see Figure 3.34 (b)] represent slices o f the 3D maps taken at -3 dB below the peaks o f the mainlobe. The plots o f the array resolution along the x-axis and the y-axis versus frequency fo r various array apertures are presented in Figures 3.38 and 3.39. W ith A^=8, when the signal frequency is 500 Hz, the mainlobe w idth is large along the xaxis and infinite along the y-axis, and the dynamic range cannot be defined [Figure 3.31 and 3.33]. The associated error band is ± 0.5 m (corresponding to about ± 50 % ) w ith respect to the x-axis and infinite w ith respect to the y-axis [Table 3.5 (a) & (b)]. Therefore, the source localization capability o f a U L A is very poor under these circumstances. When the signal frequency increases to 3000 Hz, the mainlobe w idth is reduced and the dynamic range can be defined along the x-axis but not along the y-axis [Figure 3.32 and 3.33]. W ith respect to the xaxis, the associated error band is reduced to ± 0.058 m (corresponding to about ± 5.8 %) and the array dynamic range is 10.71 dB. B u t w ith respect to the y-axis the error band is still infinite [Table 3.5 (a) & (b)]. I t can be seen from Figure 3.37 (a) that the frequency resolution o f the spectra is very good fo r b o th /= 5 0 0 Hz and/=3000 Hz. W ith 77=48, when the signal frequency is 500 Hz, the error is ± 0.128 m (corresponding to about ± 13 %), which is satisfactory, and the dynamic range is 6.65 dB w ith respect to the xaxis; the error band is ± 0.414 m (corresponding to about ± 42 %), which is not satisfactory, and the dynamic range cannot be defined along the y-axis [Figure 3.34 & 3.36 and Table 3.5 (g) & (h)]. When the signal frequent y increases to 3000 Hz, the x-axis and y-axis error bands reduce to ± 0.021 m (± 2.1 % ) and ± 0.072 m (± 7.2 %) respectively, both o f which are

satisfactory; also, the x-axis and y-axis dynamic ranges are 6.65 dB and 9.45 dB respectively [Figure 3.35 & 3.36 and Table 3.5 (g) & (h)]. Notice that the frequency resolution o f the spectra fo r/= 5 0 0 H z and/=3000 H z remains very good [Figure 3.37(a)].

58

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

I t can be seen from Figures 3.38 and 3.39 that the array resolution increases (i.e., the error decreases) essentially linearly as the signal frequency increases for any array aperture (greater than some threshold value, which depends on the frequency range and the axis under consideration); also, this resolution increases progressively as the aperture increases fo r any given frequency. I t should be noted from the results in Table 3.5 that, once sidelobes are present in the beamforming maps, the array dynamic range is independent o f frequency; moreover, it decreases as the number o f microphones increases. For instance, when the results for A^=8,/=3000 H z [Table 3.5 (a)] are compared to those for N = 4 8 ,/= 3 0 0 0 H z [Table 3.5 (g)], the dynamic range w ith respect to the x-axis is degraded by about 4 dB. This is entirely consistent w ith theoretical array pattern results (see Appendix B, Figure B.8). The results o f this sub-section serve to demonstrate that the source localization capability o f the U L A w ith a near field source is poor for low source signal frequencies when the array aperture is small; however, this capability can be improved by increasing the aperture. When the array aperture is constant, as the signal frequency increases, the array resolution increases but the dynamic range remains the same (once sidelobes are present in the beamform' g maps). When the signal frequency is constant, as the aperture increases, the array resolution increases but the dynamic range decreases. The frequency resolution o f the source signal spect-um is independent o f both the signal frequency and the number o f microphones.

(a) (b) Figure 3.31 : Beamforming results fo r N = 8 ,f- 500 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot.

59

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

I
X ( m )

(a)

(b)

Figure 3.32; Beamforming results fo r A^=8,/= 3000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map:2D plot (line at -3 dB).

5 0 0H z .

I
I
-10 ·0 2

0 .2 X ( m )

0 .3

0 .4

05

0 .2

0 .3

0 .4

0 .5

0 .6 Y { m )

07

08

C3

(a)

(b)

Figure 3.33: Beamforming results fo r N=8; (a) A rray pow er along x-axis fo r /= 5 0 0 H z and 3000 Hz (b) A rray power along y-axis fo r/= 5 0 0 H z and 3000 Hz.

(a)

(b)

Figure 3.34: Beamforming results fo r A = 4 8 ,/= 500 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 dB).

60

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

D
·s g .,D I -IS
|-2 0 , 2 S - -3 0

Y W

·0.6

i

1
,X (m )

(a) Figure 3.35: Beamforming results fo r A^=48,/= 3000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 dB).

t

I.10

·10

0 ,2

0 .3

0 .4

0 .5

 1 5
Y ( m )

0 .9

X(m)

(a) (b) Figure 3.36: Beamforming results fo r A^=48; (a) A ira y power along x-axis for f= 5 0 0 H z and 3000 Hz (b) A rray power along y-axis fo r/= 5 0 0 H z and 3000 Hz.

100

100 '

£0 -

g

0.

il
5.-100 ·

·1 5 0

^ 1 5 0 200

-2 6 0 ,

1000

2000

5 0 0 0

· 2 5 0 .0

1000

2 0 0 0

3 0 0 0 F f» q u w x :y (H i)

4 0 0 0

5 0 0 0

8 0 0 0

(a) (b) Figure 3.37: (a) SPL spectrum f o r / = 500 Hz and 3000 Hz, w ith 7/=8, (b) SPL spectrum f o r / = 500 H z and 3000 Hz, w ith N=48.

Ü ft

-

61

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Table 3.5 Effect of number o f microphones (N) and signal frequency (/)

(a) N=S Array resolution, error band and the dynamic range along the x-axis
Frequency (Hz) 500 1000 1500 Beamwidth (m ) 1.0 0.4. Resolution (1/m) 1.0 2.5 E rro r band (m.) ± 0.50 ± 0.20 ± 0.13 ± 0.10 + 0.076 : 0.058 Dynamic range (dB) N .A . N .A . 10.71 10.71 10.71 10.71

2000
2500 3000

0.263 0.20 0.153
0.117

3.80 5.00 6.59 8.55

(b) N=S
Frequency (Hz) 500 Beamwidth (m) Resolution (1/m) 0 0 0 0 0 0 E rror band (m)
OO

Dynamic range

(dB)
N .A .

1000
1500 2000 2500 3000
CO CO oo

CO oo oo oo

N.A.
N .A . N .A . N .A .

N.A.

(c) ZV=16 Array resolution, error band and the dynamic range along the x-axis
Frequency

(Hz)
500 1000 1500 2000 2500 3000

Beamwidth (m) 0.472

Resolution (1/m)

0.236.
0.144 0.108 0.090

2.12. 4.237
6.94

E rror band (m) + 0.236 ± 0 .1 1 8

Dynamic range

(dB) N.A.
10.23

± 0.072
± 0.054 + 0.045 ± 0.036

9.25
11.11 13.88

10.23 10.23
10.23

0.072

10.23

62

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

-Table 3.5 continued-

(d) N=16 Array resolution, error band and the dynamic range along the y-axis
Frequency

(Hz)
500 1000 1500 2000

Beamwidth (m) O O oo 0.846 0.702 0.504 0.414

2500
3000

Resolution (1/m) 0 0 1.1820 1.4245 1.9841

E rror band (m) O O oo ± 0.423 ±0.351 ± 0 .2 5 2 ± 0 .2 0 7

Dynamic range

(dB)
N .A . N .A. N .A. N .A.

10.23
10.23

2.4154

(e) N=32 Array resolution, error band and the dynamic range along the x-axis
Frequency

(Hz)
500 1000

1500
2000 2500 3000

Beamwidth (m) 0.308 0.144 0.099 0.072 0.058 0.049

Resolution (1/m)

3.246 6.945
10.10 13.88 17.24 20.20

E rro r band (m) ± 0 .1 5 4 ± 0.072 ± 0.495 ± 0.036 ± 0.290 ± 0.024

Dynamic range

(dB)
8.0

'

8.0 8.0 8.0 8.0 8.0

(f) N=32 Array resolution, error band and the dynamic range along the y-axis
Frequency

(Hz)
500 1000 1500 2000

Beamwidth (m) 1.1 0.558 0.378 0.279

Resolution (1/m) 0.909. 1.792

E rro r band (m) ± 0 .5 5

Dynamic range

(dB)
N.A. N.A. N .A. 9.75 9.75

± 0 .2 7 9
± 0 .1 8 9 ± 0 .1 3 9 ± 0 .1 0 8 ± 0 .0 9

2500
3000

0.216
0.18

2.645 3.584 4.629
5.550

9.75

63

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

-Table 3.5 continued(g) N=48 Array resolution, error band and the dynamic range along the x-axis
Frequency

(Hz)
500 1000 1500 2000 2500 3000

Beamwidth (m) 0.256 0.130 0.085 0.065 0.050 0.042

Resolution (1/m)

3.90
7.692 11.76 15.38 20.00

23.80

E rro r band (m) ± 0 .1 2 8 ± 0.065 ± 0.042 ± 0.032 ± 0.025 ±0.021

Dynamic range (dB)

6.65 6.65
6.65 6.65

6.65 6.65

(h) N=48 Array resolution, error band and the dynamic range along the y-axis
Frequency

(Hz)
500 1000 1500 2000 2500 3000

Beamwidth (m)

0.828 0.432
0.279

Resolution (1/m) 1.21 2.31

0.216
0.162 0.144

3.58 4.68
6.17 6.95

E rro r band (m) ± 0 .4 1 4 ± 0 .2 1 6 ± 0 .1 3 9 ± 0 .1 0 8 ±0.081 ± 0 .0 7 2

Dynamic range

(dB) N.A. 9.45
9.45 9.45

9.45 9.45

-*^N=48 ~ ^ N = 3 2
25

A N=16 ~ ^ N = 8

20
o

c 15

I 10
5
0
0

500

1000

1500

2000

2500

3000

3500

Freuqency (Hz)
Figure 3.38: Effect o f signal frequency and microphones on array resolution along x-axis.

64

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission,

-*-- N = 4 8

N = 32

A

N-- 16 -- x --N = 8

8

7
6

§ o s u u u <
cg

5 4 3
2 1 0 0

500

1000

1500

2000

2500

3000

3500

Frequency (Hz)
Figure 3.39: Effect o f signal frequency and microphones on array resolution along y-axis.

3.3.2

E ffect o f source position

As mentioned before, in certain situations, aeroacoustic sources can be located near to a microphone array. These sources can be placed at various positions w ith respect to the array centre or the reference microphone. The source position affects the array resolution as shown in subsection 3.2.5 fo r a U L A w ith a far field source. The purpose o f this sub-section was to determine the impact o f the source position (in an x-y plane) on U L A near field beamforming results. Tw o cases were considered. For the first case, the source was placed at different positions along the x-axis varying from X = -0.4 m to X=0.4 m w ith the y-axis position fixed at Y = 0.5 m; the signal frequency was 2500 Hz, and 24 microphones were used. For the second case, the source was placed at different positions along the y-axis fro m Y=0.25 m to Y=25 m with the x-axis position fixed at X = 0 m; the signal frequency was 3000 Hz, and 32 microphones were used. Figures 3.40 and 3.41 depict the beamforming maps (2D plots) and the array power along the x-axis and the y-axis fo r X = -0.4 m and X = 0 m with Y=0.5 m. Figures 3.42 and 3.43 depict the beamforming maps (2D plots) and the array power along the x-axis and the y-axis fo r Y=0.25 m and Y=1.5 m w ith X = 0 m. Figures 3.44 and 3.45 show the beamforming maps (3D

M

65

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

and 2D plots) and array power plots fo r Y=25 m w ith X = 0 m. The array resolution and the dynamic range were obtained from the beamforming maps and are summarized in Figures 3.46-3.49. N ote that the ellipses in the beamforming maps (2D plots) represent slices o f the 3D maps taken at -3 dB below the peaks o f the mainlobes. For the first case, when the source is placed at X=-0.4 m w ith Y=0.5 m, the error band is ± 0 3405 m (± 4 %) and the dynamic range is 5.87 dB w ith respect to the x-axis; also, the error band is ± 0.090 m (± 9 %) and the dynamic range is 6.65 dB w ith respect to the y-axis [Figure 3.40(a) and 3.41]. When the source is moved to X = 0 m (so that it is perpendicular to the array centre), the x-axis error band decreases to ± 0.0315 m (± 3 %) and the dynamic range increase to 7 dB; also, the y-axis error band increases to ± 0.1351 m (± 13.5 % ) and the dynamic range increases to 10.9 dB. [Figure 3.40 (b) and 3.41]. Figures 3.46 and 3.47 show the variation o f the array resolution and the dynamic range when the source moves from X = -0 .4 m to X =0.4 m. The dynamic ranges along the x-axis and the y-axis are maxima when the source is at X = 0 m. The array resolution along the x-axis is also maximum at this position, but the array resolution along the y-axis is minimum. It should be noted that the array resolution is calculated from the array power plots (Figure 3.41), which are obtained by slicing the 3D beamforming plots along the x-axis and the y-axis. When X = 0.4 m [Figure 3.40(a)], the resolution ellipse is tilted so that the correct values o f the array resolution based on the ellipse axes can not be calculated from the array power plots. This is also the case fo r any X 0. In the beamforming 2D maps, the diameters o f the ellipse change

from 1.6 mm and 3.5 mm to 1.2 mm and 3.0 mm w ith the movement o f the source from X = 0.4 m to 0 m [Figure 3.40 (a) & (b)]. Clearly, the correct array resolutions increase when the ellipse diameters decrease. Therefore, the array resolution is maximum when the source is at X = 0 m (i.e., perpendicular to the array centre). For the second case, when the source is placed at Y=0.25 m w ith X = 0 m, the error band is ± 0.018 m (± 1.8 %) and the dynamic range is 3.5 dB along the x-axis; also, the error band is ± 0.036 m (± 3.6 %) and the dynamic range is 9.2 dB along the y-axis [Figures 4.42 (a) and

4.43]. When the source is moved to Y =1.5 m, x-axis error band increases to ± 0.055 m (± 5.5 %) and the x-axis dynamic range increases to 10.85 dB; also, the y-axis error band increases to

66

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

± 0.20 m (+ 20 %) and the y-axis dynamic range increases to 9.4 dB [Figures 4.42 (b) and 4.43]. A s the source moves from Y=0.25 m to 1.75 m, both the x-axis array resolution and the yaxis array resolution decrease non-linearly (Figure 3.48); also, the x-axis array dynamic range increases but the y-axis dynamic range remains essentially constant (Figure 3.49). When the source is placed at X = 0 m and Y =25 m, the x-axis error band is ± 0.054 m (± 5.4 %), and the mainlobe has no variation along the y-axis (Figure 3.44 and 3.45); also the x-axis dynamic range is 13 dB. I t is evident from these results that hear field beamforming characteristics change to far field beamforming characteristics when an acoustic source is placed sufficiently far from an array, with the mainlobe varying only along the x-axis. The results o f this sub-section serve to demonstrate the follow ing: (i) the maximum array resolution is obtained when an acoustic source is perpendicular (i.e., broadside) to the centre o f a U L A , (ii) to improve the array resolution , the source should be near to the microphone array, (iii) to improve the array dynamic range, the source should be far from the array, and (iv) a spherical wave front changes to a planar wave front when a source is sufficiently far from the array.

Figure 3.40: Beamformimg results; (a) Beamforming map: 2D plot, for X = -0.4 m w ith Y=0.5 m (b) Beamforming map: 2D plot, fo r X = 0 m w ith Y=0.5 m.

67

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

X= -0 4 m.

X=Om. X= -0.4 m:

-10

0.1 X(m)

02

0.3

0.4

0.5

03

0.4

0.5

06 Y(m)

0.7

0.0

Q9

(a) (b) Figure 3.41: Beamforming results; (a) Array power along x-axis fo r X = -0.4 m and X =0 m w ith Y=0.5 m (b) A rray power along y-axis at X = -0.4 m and X = 0 m with Y=0.5 m.
|D

|s
.

ism

l-to
-15
-2 0

-25 I.3 C I-3S 1-40

it»

X(m)

0

X(m)

0

I 45

(a) (b) Figure 3.42: Beamforming results; (a) Beamforming map: 2D plot fo r X = 0 m w ith Y=0.25 m (b) Beamforming map: 2D plot fo r X = 0 m w ith Y = 1 .5 m.

I

I·1 0

I I-ID

0.1

0.2

0.3

0.4

0.5

0.2

04

0.6

0.6 X(m)

(a) (b) Figure 3.43: Beamforming results; (a) Array power along the x-axis for Y -0 .2 5 m, Y=1.5 rn (X=0 m) (b) A rray power along the y-axis fo r Y=0.25 m, Y=1.5 m (X = 0 m).

68

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

10

·2 0 . ,

3 0  4 0  G O ,

l-eo
 7 0 X ( m )

Figure 3.44: Beamformirig results fo r X = 0 m and Y=25 m; (a) Beamforming map: 3D plot (b) A rray power versus x-axis: 2D plot.

I
I
-10 ·10

1 5 · 1 5

·10

· 1 5 X ( m )

(a) (b) Figure 3.45: Beamforming results fo r X = 0 m and Y=25 m; A rray pow er along the x-axis (b) A rray power along the y-axis.

69

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Array r e s o lu tio n alon g x-axis

A rray r e so lu tio n alo n g y a xis

I
u u <
C B /'(A C /3'''
-

X

0.6

-0,4

-0.2

0

0.2

0.4

0.6

S ou rce p o sitio n , X (m )
Figure 3.46: Effect o f source variation on array resolution; (X = -0.4 m to X = 0.4 m w ith Y=0.5 m).

dynam ic range a lo n g x-axis -- ^ dynam ic range alon g y-axis

< u C B k U E g Q

W

Ê M

Ê X m Ê m im r n

m

im

m

tiiiS

s m

. x;',:. : /, ", ............... - 1 --
-

.........1 -......--
-

............ 0 - ------------ --- 1

...I- -- .......... ..

0.6

-0.4

0.2

0

0.2

0.4

0.6

S ou rce p o sitio n , X (m )
Figure 3.47: Effect o f source variation on dynamic range; (X = -0 .4 m to X = 0.4 m w ith Y=0.5 m).

70

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

A rray r e s o lu tio n alon g x-axis 30 25

A rray r e so lu tio n a lo n g y-axis

0.5 S ou rce p o sitio n , Y(m)

1.5

Figure 3.48: Effect o f source variation on array resolution; (Y = 0.25 m to Y=1.7 m w ith X = 0 m).

dynamic range along x-axis

dynamic range along y-axis

0.5 Source position, Y(m)

1.5

Figure 3.49: Effect o f source variation on dynamic range; (Y = 0.25 m to Y =1.7 m w ith X = 0 m).

3.3.3

EflPect of inter-microphone distance {d)

The inter-microphone distance has an impact on beamforming, as shown in subsection 3.2.4 fo r the U L A w ith a far field source. The purpose o f this sub-section was to investigate the effect o f inter-microphone distance {d) on a U L A w ith a near field source. For this purpose, the

M

71

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

spherical wave was generated at /= 3 000 Hz. The number o f microphones was 20, and the source was located at X = 0 m and Y=0.5 m. The inter-microphone distance was changed from

Sd* (0.4568 m) to d*/2 (0.0285 m), where J*=0.0571 m is the distance based on Shannon' s
criterion, i.e., d*=X/2. Figures 3.50 and 3.51 show the beamforming maps (3D and 2D plots) and the plots o f the array power along the x and y axes for d=Sd*. Figures 3.52 and 3.53 show the beamforming maps (3D and 2D plots) and the plots o f the array power along the x and y axes fo r d=d*. Figures 3.54 and 3.55 presents the beamforming maps (3D and 2D plots) and the plots o f the array power along the x and y axes fo r d=d*/2. Clearly, there are several dominant lobes in the beamforming maps when d=Sd* (Figures 3.50 and 3.51) and this makes the beamforming method futile. When the inter-microphone distance is changed to d=d*, satisfying the Shannon' s criterion, there are no ambiguous lobes (Figures 3.52 and 3.53). W hen the in ter-microphone distance is further reduced to d=d^'l2, the dynamic range increases but the array resolution degrades (Figures 3.54 and 3.54). I t is noted that the diameters o f the resolution ellipse increases, as shown in Figures 3.52 (b) and 3.54 (b). Therefore, the overall source localization capability o f the microphone array decreases. From these results, it can be concluded that the distance between microphones should be < d* to avoid grating lobes; moreover, to obtain the maximum array resolution, the distance between microphones should be d*. (In practice, d is fixed at d* fo r a specific application w ith a given array design.)

«'·2 0

(a)

Figure 3.50: Beamforming results fo r 7/=20,/=3000 Hz, d(a) Beamforming map: 3D p lo t (b) Beamforming map: 2D

72

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

a ,

g

V i

re

-1 0 '

0 .1 X ( m )

0 .2

03

0 .4

0 .5

0 .2

0 .3

0 .4

0 .5

(a)

Y W (b)

0 .5

0 .7

0 .0

09

Figure 3.51: Beamforming results fo r N -20,f= 3000 Hz, d -h d ''\ (a) Array power along the x-axis (b) A rray power along the y-axis

Ë .Q .6 :

i VI
\ % %
^ Y ( m ) 0 x (m )

· v '

(a) 00 Figure 3.52: Beamforming results fo r N=20,f=300Q Hz, d=d*; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot.

I
 I D

I

I 5 *
10

0 .1

0 ,2

0 .3

0 ,4

02

0 .3

0 .4

0 .6

0 .6 Y ( m )

09

(Ü CO Figure 3.53: Beamforming results fo r A^=20,/=3000 Hz, d=d*', (a) Array power along the x-axis. (b) A rray power along the y-axis.

1 J : 73

?

\

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

W . V i Ü Y I O

4

(a) Figure 3.54: Beamforming results fo r A^=20,/=3000 Hz, d(a) Beamforming map: 3D p lo t (b) Beamforming map: 2D

:

I
·lÛ

I

02

0 .3

D . 4

05

0 .2

0 .3

0 .5

0 .6 Y ( m )

0 .7

0 .9

(a) (b) Figure 3.55: Beamforming results fo r N=20,f=3000 Hz, d=d*I2-, (a) Array power along the x-axis (b) A rray power along the y-axis. In the above section (3.3), a sensitivity analysis o f a uniform linear array (U L A ) w ith a near field source has been carried out. In the next section, a sensitivity analysis o f the uniform planar array (U F A ) w ith a near field source is presented.

3.4

Uniform Planar Array - near field beamforming
In the case o f a uniform planar array, the microphones are placed in a plane (i.e., the x-y

plane), as depicted in Figure 2.6. The microphones can be arranged in any geometry, such as, a uniform square array, a uniform rectangular array, or a cross array. The purpose o f this section was to examine beamforming results pertaining to a uniform planar array w ith a near field source. A uniform square array (U SA ) was chosen, w ith the microphones placed in a square geometry at a constant distance between each other. The U S A was designed fo r near field

74

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

simulated signals w ith a maximum frequency o f 8000 Hz. The inter-microphone spacing was set at 2.15 cm to satisfy Shannon' s theorem. The signals at each microphone had an integer number o f cycles. Each block o f data fo r the digital signals contained 1024 points, i.e., M =1024, and yielded 513 (M /2+1) frequency bins. The microphones were placed in x-y plane, and a spherical wave was generated at each microphone location by means o f the form ula (A / )sin[ (U(/ / c ) ] , as discussed in section

3.1. For a uniform planar array, the source position can be defined in 3D space by an elevation angle (p, an azimuth angle 6, and a distance r between the array centre and the source. These spherical coordinates can be represented in Cartesian coordinates in terms o f X , Y , and Z along the X, y, and z axes respectively. W ith the array lying in the x-y plane, the source can be localized by considering an x-y plane (i.e., a grid plane) at different locations along the z-axis (i.e., at different grid distances), as depicted in Figure 3.56. The grid plane contains grid points w ith increments along the x and y axes. The relevant beamforming maps were obtained, at different grid distances, by computing steering vectors fo r various assumed locations in the x-y plane. The position where the array power is maximum (i.e., where the mainlobe appears) in the grid plane corresponds to the X -Y location o f the source. The position where the array pow er is maximum along the z-axis represents the Z location o f the source. The parameters chosen fo r the sensitivity analysis in this case are given below. · · · · Number o f microphones ( Y -- > 16, 25, 36). Signal frequency ( / -- > 2000 --8000 Hz). Source position. Inter-microphone distance {d).

3.4.1

Effect of number of microphones (AO and source signal frequency (/)
In this sub-section the effect o f the number o f microphones and the signal frequency on a

uniform square array w ith a near field source was examined. The spherical wave was generated at different frequencies ranging from f=2000 to /= 8 000 Hz. The number o f microphones was varied from 16 (a square array o f 4 x 4) to 36 (a square array o f 6 x 6). The acoustic source was placed at X = 0 m, Y = 0 m and Z=0.5 m.

75

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figures 3.57 and 3.58 show the beamforming maps (3D and 2D plots) fo r/= 3 0 0 0 H z and /=8 000 Hz W'`b N -1 6 (4 x 4). Figure 3.59 shows the corresponding array power plots. Figures 3.60 and 3.61 show the beamforming maps (3D and 2D plots) f o r / = 3000 H z and/= 8000 Hz w ith N=36 (6 x 6). Figure 3.62 shows the corresponding array power plots. The beamwidth and the dynamic range were obtained fro m the various beamforming maps fo r different frequencies ranging from 2000 Hz to 8000 Hz w ith different array apertures. The beamwidth, the array resolution, the error band and the dynamic range are summarized in Table 3.6. It should be noted that the array resolution (evaluated at -3 dB) is the same along the x and y axes and is plotted only along the x-axis fo r the beamforming analysis. I t should also be noted that the rings in the 2D beamforming maps [see Figure 3.58 (b)] represent slices o f the 3D maps taken at -3 dB below the peaks o f the mainlobe. A plot o f the array resolution versus signal frequency for different array apertures is presented in Figure 3.63.

m icro pho ne array

,-grid plane

grid p o in t z(m ) (g rid dista nce)

Figure 3.56: Acoustic source localization w ith a uniform planar array.

76

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

W ith N=16 (4 X 4), when the signal frequency is 3000 Hz, the error band is ± 0.37 m (corresponding to ± 18.5 %) and dynamic range cannot be defined [Figures 3.57 and 3.59 (a)]; therefore, the source localization capability o f the uniform square array is poor. W hen the signal frequency increases to 8000 Hz, the error band is ± 0.117 m (corresponding to ± 5.8 %) and the dynamic range is 11.20 dB [Figures 3.58 and 3.59 (b)]. The values o f these evaluators are quite satisfactory fo r source localization. W ith A^=36 (6 x 6), when the signal frequency is 3000 Hz, the error band is ± 0.216 m (± 10.8 %), and the dynamic range is more than 15 dB, both o f which are satisfactory [Figures 3.60 and 3.62 (a)] (The sidelobes can not truncated at -15 dB). be seen in the array power plot because it is

When the signal frequency increases to 8000 Hz, the error band

decreases to ± 0.080 m (± 4 %), and the array dynamic range decreases to 12.43 dB, which is s till satisfactory [Figures 3.61 and 3.62 (b)]. It can be seen fro m Figure 3.63 that the array resolution increases essentially linearly w ith the increase o f signal frequency, fo r any array aperture; also, this resolution increases progressively as the aperture increases (i.e., number o f microphones increases) for any given frequency. I t should be noted from the results in Table 3.6 that the array dynamic range increases w ith the increase o f number o f microphones; moreover, it decreases as the signal frequency increases. For instance, w hen/=3000 Hz, the array power plot [Figure 3.62 (a)] has a relatively broad mainlobe and sidelobes below -15 dB. As the signal frequency increases to 8000 Hz, the mainlobe becomes sharp w ith sidelobes at -12.43 dB [Figure 3.62 (b)]. The results o f this sub-section indicate that at low frequencies the source localization capability o f the uniform square array is poor fo r small array apertures; however, this capability can be improved by increasing the aperture. When the signal frequency is constant, as the aperture increases, both the array resolution and the dynamic range increase. When the array aperture is constant, as the signal frequency increases, the array resolution increases but the array dynamic range decreases. However, the decrease in the dynamic range is minor, in general (e.g., fo r N=36 and an increase o f frequency from 4000 H z to 8000 Hz, the decrease is only 0.52 dB).

77

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

(a) (b) Figure 3.57: Beamforming results fo r 77=16 (a square array o f 4 x 4 ) , / = 3000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 dB).

X(m)

m ..

(a) (b) Figure 3.58: Beamforming results fo r 77=16 (a square array o f 4 x 4 ) , / = 8000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 dB).

-IS

0 .2

0 .4

0 .6

0 .0

-IS X(m)

0 .2

0 .4

0 .6  0 .0

(b) (a) Figure 3.59: Beamforming results fo r 77=16 (a square array o f 4 x 4); (a) A rray power along the x-axis fo r/= 3 0 0 0 H z (b) A rray power along the x-axis fo r/= 8 0 0 0 Hz.

78

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 3.60: Bearnforrning results fo r N=36 (a square array o f 6 x 6 ) , / = 3000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 dB).

04i

0 .2 !

 0 .2 !

· 0 .4^ ·0 .6 !
·0 ,0 ;

0.6 X ( m )

(a) (b) Figure 3.61: Beamforming results for N=36 (a square array o f 6 x 6 ) , / = 8000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 dB).

1 5

0.6

1

· 1 5

0 2 .

0 .4

0 .6

(b) (a) Figure 3.62: Beamforming results fo r N=36 (square array o f 6 x 6); (a) A rray power along the x-axis fo r/= 3 0 0 0 H z (b) A rray power along the x-axis fo r/= 8 0 0 0 Hz.

79

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Table 3.6 Effect of number of microphones (AO and source signal frequency (f)

(a) N=16: a square array of 4 x 4
Frequency

(Hz)
2000 3000 4000

Beamwidth (m) 1.98 0.738 0.504

Resolution (1/m) 0.50 1.36

L98
2.53

5000
6000 7000 8000

OE396 0J24 0.27
0.234

'

3.09 3J0 4.27

E rror band (m) ± 0.990 ± 0.370 ± 0.252 ± 0.198 ± 0.162 ± 0.135 ± 0.117

Dynamic range

(d B )
N .A .

N.A
N .A N .A 11.32 11.25 11.20

(b) N=25\ a square array of 5 x 5
Frequency (Hz) 2000 3000 4000 5000 6000 7000 8000 Beamwidth (m) Resolution (1/m) 0.992 1.79 E rror band (m) ± 0.504 ± 0.279 ± 0 .1 8 9 ±0 .1 5 3 ± 0 .1 2 6 ±0 .1 0 8 ± 0.099 Dynamic range

(dB)
N .A . N .A . N .A . 11.94 11.62 11.53 11.40

1.008
0.558

0378
0.306 0.252

(1216
0.198

2.65 3.27 3^ 6 4.63
5.05

(c) N=36: a square array of 6 x 6
Frequency

(Hz)
2000 3000 4000 5000 6000 7000

Beamwidth (m) _ _ 0.756

Resolution (1/m) 1.32

0.432
0.324 0.252 0.216 0.18 0.162

:23i 3.09
3.97 4.63

5.55
6.17

8000

E rro r band (m) ± 0.378 ± 0.216 ± 0.162 ± 0.126 ± 0.108 ± 0.090 ± 0.080

Dynamic range

(dB)
N .A . N .A .

12.95
12.70 12.53 12.47 12.43

80

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

N=16 ( 4 x 4 ) _ 7

 7V=25 f5 X 5>

A

N=36 (6 x 6)

I 6
i
3
1 n

5
4
2

0 3

I `
0 0

2000

4000

6000

80 0 0

10000

F requency (Hz)
Figure 3.63: Effect o f number o f microphones and signal frequency on array resolution.

3.4.2

E ffe ct o f source position

The purpose o f this subsection was to investigate the impact o f source position on a uniform square array w ith a near field source. The spherical wave was generated at a frequency o f 6000 Hz, and the number o f microphones was 25 (a square array o f 5 x 5). The source was placed at different positions along the x-axis varying from X =-0.7 m to X=0.7 m, w ith the yaxis and z-axis positions fixed at Y - 0 m and Z=0.5 m respectively. The source was also placed at different positions along the z-axis fro m Z=0.25 m to Z=5 m, w ith the x-axis and the y-axis positions fixed at X = 0 m and Y = 0 m respectively. Figures 3.64 shows the beamforming maps (2D plots) fo r X =-0.7 m, X = -0.5 m, X=-0.3 m, and X =0 m w ith Y = 0 m, Z=0.5 m. Figure 3.65 shows the array power plots fo r X=-0.5 m and X = 0 m w ith Y =0 m, Z=0.5 m. Figure 3.66 shows the beamforming maps (2D plots) fo r Z= 0.25 m, Z=0.5 m, Z=2 m, and Z=5 m w ith X = 0 m, Y = 0 m. Figure 3.67 shows the array power plots fo r Z=0.25 m and Z=2.0 m w ith X = 0 m, Y = 0 m. The array resolution and dynamic range were obtained from the different array power plots and are summarized in Figures 3.68 - 3.71. When the source is placed at X=-0.5 m w ith Y =0 m and Z=0.5 m, the error band is ± 0.31 m (corresponding to ± 8 %) and the dynamic range is 11.9 dB [Figures 3.64 (b) and 3.65 (a)]. When the source is moved to broadside, X = 0 m (so that it is perpendicular to the array centre),

81

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

the error band is reduced to ± 0.063 m (corresponding to ± 1.6 %) and the dynamic range remains at 11.9 dB [Figures 3.64(d) and 3.65 (b)]. Figures 3.64 (a), (b), (c) and (d) show that as X changes from -0.7 m to 0 m, the array resolution contour changes from an ellipse to a ring. Figures 3.68 and 3.69 show the variation o f the array resolution and the dynamic range when the source moves fro m X = -0.7 m to X=0.7 m. It is noted that the array resolution is maximum when the source is at X = 0 m, and the dynamic range remains constant. When the source is placed at Z=0.25 m w ith X = 0 m and Y = 0 m, the error band is ± 0.036 m (corresponding to ± 0.9 %) and the dynamic range is 11.9 dB [Figures 3.66(a) and 3.67(a)]. When the source is moved to Z=5 m, the error band increases to ± 0.62 m (corresponding to ± 16 %) and the dynamic range cannot be defined [Figures 3.66(d) and 3.67(b)], Thus, the source localization capability o f the microphone array is degraded. As the source position along the z-axis increases, the array resolution decreases nonlinearly, as shown in Figure 3.70; moreover, the array dynamic range improves in a stepwise fashion, provided that sidelobes exist, as shown in Figure 3.71. The results o f this sub-section demonstrate that the maximum array resolution is obtained when an acoustic source is perpendicular (i.e., broadside) to the centre o f a uniform square array. The array source localization capability decreases as the source moves away from the array. Therefore, a model under investigation should always be placed perpendicular to the array centre. However, since the sound generated by various parts o f the model would be at different angles w ith respect to the array centre, it would not be possible to place all the sources at the ideal position.

82

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

I'-wpawP

amB

k:) (d) Figure 3.64; Beamforming results fo r N=25 (5 x 5) and/=6000 Hz; (a) Beamforming map: 2D plot fo r X =-0.7 m (Y =0 m, Z=0.5 m) (b) Beamforming map: 2D plot fo r X = -0.5 m, (Y = 0 m, Z =0.5 m) (c) Beamforming map: 2D plot fo r X =-0.3 m (Y = 0 m, Z=0.5 m) (d) Beamforming map: 2D plot fo r X = 0 m (Y = 0 m, Z=0.5 m)

.10

·1 .5 ;

4 3 . 5

...

O J

1 .5

(b) (a) Figure 3.65; Beamforming results for N=25 (5 x 5) and/=6000 Hz; (a) A rray power along the x-axis fo r X =-0.5 m ( Y = 0 m, Z=0.5 m) (b) A rray power along the x-axis fo r X = 0 m, (Y = 0 m, Z=0.5 m).

83

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

(b)

O .sm i

V

(0 (O Figure 3.66: Beamforming results fo r N=25 (5 x 5) and/=6000 Hz; (a) Beamforming map: 2D plot fo r 21=0.25 m (X = 0 m, Y =0 m) (b) Beamforming map: 2D plot for Z=0.5 m (X = 0 m, Y = 0 m) (c) Beamforming map: 2D plot fo r Z=2.0 m (X = 0 m, Y = 0 m) (d) Beamforming map, 2D plot; Z=5.0 m (X = 0 m, Y = 0 m).

I

I

I

·10

· 1 .5

·0-6

0 .5

· 1 .5
X(m)

0 .5

1 .5

(a)

O)

Figure 3.67: Beamforming results fo r N=25 (5 x 5) and/=6000 Hz; (a) Array resolution along the x-axis fo r Z=0.25 m (X = 0 m, Y =0 m). (b) Array resolution along the x-axis fo r Z=5.0 m (X = 0 m, Y = 0 m).

84

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

î

O

G G

" S
>1 2

u

1

0.5

0

0.5

1

so u rce p o sitio n , X (m )
Figure 3.68: Effect o f source variation on array resolution; (X =-0.7 m to X =0.7 m w ith Y = 0 m and Z=0.5 m).

o
e x)

1

-0.5

0

0.5

1

so u rce p o sitio n , X (m )
Figure 3.69: Effect o f source variation on dynamic range; (X =-0.7 m to X =0.7 m w ith Y = 0 m and Z=0.5 m).

85

Reoroduced with permission of the copyright owner. Further reproduction prohibited without permission.

16 14

source position, Z(m) Figure 3.70: Effect o f source variation on array resolution; (Z=0.25 m to Z=5 m w ith X = 0 m and Y = 0 m).

12.7

12.6
a 12.5 & 12.4 £
|
G

12.3
12.2

12.1
11.9

11.8
0.5 1 1.5 2.5 so u rce p o sitio n , Z(m)
Figure 3.71: Effect o f source variation on dynamic range; (Z=0.25 m to Z=5 m w ith X = 0 m and Y=0 m).

3.4.1

Effect of inter-microphone distance (d)

The purpose o f this sub-section was to investigate the effect o f inter-microphone distance

(d) on a uniform square array w ith a near field source. The spherical wave was generated at
frequency o f 8000 Hz, N=16 (4 x 4), and the source was located at X = 0 m, Y = 0 m and Z = 0.5

86

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Y r
i

V
-V .

m. The inter-microphone distance along both the x-axis and the y-axis was changed fro m Ad* (0.086m) to d*!2 (0.01075 m), where d* (0.0215 m) is the distance based on Shannon' s criterion (i.e., d*=XH). The beamforming results fo r d= Ad*, d=d* and d=d*/2 are shown in Figures 3.72, 3.73 and 3.74 respectively. Each figure shows a beamforming map (3D plot) and an array power plot. When d^Ad*, the mainlobe splits into a number o f dominant grating lobes, and the results are ambiguous due to these lobes, as shown in Figure 3.72 (a) & (b). In contrast, there are no ambiguous (grating) lobes when Shannon' s criterion is met {d=d* and d=d*/2), as shown in Figures 3.73 and 3.74. B ut the array resolution degrades as one reduces the inter-microphone distance to d=d*/2. Therefore, to avoid the grating lobes and to obtain maximum array resolution, the inter-microphone distance should be such that d= d*. (In practice, d is fixed at

d* fo r a specific application w ith a given array design.)

grating lobej

igraüng lobe

5 ^ SI delobes

03 X(m)

0.4

Q.G

(b) Figure 3.72: Beamforming results fo r N=16 (a square array o f 4 x 4 ) , / = 8000 Hz, d=Ad*\ (a) Beamforming map: 3D plot (b) Array power plot along the x-axis

t

(a)

(b)

Figure 3.73: Beamforming results fo r 7/=16 (a square array o f 4 x 4 ) , / = 8000 Hz, d=d*\ (a) Beamforming map: 3D plot (b) A rray power plot along the x-axis

87

y
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

 0 6
V(m ) ^ -1

^.5

(a) Figure 3.74: Beamforming results fo r N=16 (a square array o f 4 x 4 ) , / = 8000 Hz, d=d*l2', (a) Beamforming map: 3D plot (b) A rray power p lo t along the x-axis. In this section a sensitivity analysis o f a uniform planar array (specifically, a uniform square array) has been carried out w ith respect to the variation o f the number o f microphones, the signal frequency, the source position and the inter-microphone distance. In next section, a comparison between a U L A and a U F A w ith a near field source is discussed.

3.5

C om parison between a U L A and a U F A w ith a near fie ld source The purpose o f this section is to compare the source localization capabilities o f a U L A and

a U F A with respect to a near field source. To this end, a spherical wave was generated at a frequency 8000 H z w ith an inter-microphone spacing o f 2.15 cm and an integer number o f the cycles. The number o f microphones was 36. Three source positions were considered, viz., X = 0 m, Y = 0 m, Z=0.5 m; X = 0 m, Y=-0.3 m, Z=0.5 m; X=0.2 m, Y=-0.3 m and Z=0.5 m. In the case o f the U F A , the 36 microphones were placed in a square (6 x 6) geometry (in the x-y plane), so that a uniform square array (U SA ) resulted. In the case o f the U L A , the 36 microphones were placed along the x-axis and along the y-axis. Figure 3.75 shows the beamforming results fo r the U S A and the U L A w ith the

microphones placed along the x-axis, w ith the source located at X = 0 m, Y = 0 m, Z=0.5 m.The corresponding array pow er plots are presented in Figures 3.76 and 3.77. Figure 3.78 shows the beamforming results fo r the U L A w ith the microphones placed along the x-axis and along the y-axis, w ith the source located at X = 0 m, Y=-0.3 m, Z=0.5 m. Figure 3.79 shows the beamforming results fo r the U S A w ith the source located at X = 0 m, Y =-0.3 m, Z=0.5 m, and at X = 0.2 m, Y=-0.3 m, 2=0.5 m.

88
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

When the source is placed at X = 0 m, Y = 0 m, Z=0.5 m, in the case o f the U S A , a mainlobe w ith the ^ame resolution along the x-axis and along the y-axis is obtained, so that the resolution contour (at -3 dB) is a ring [Figures 3.75 (a) and 3.76]. This is to be expected because the same number o f microphones is placed along the x-axis and the y-axis. In the case o f the U L A , the mainlobe has a different resolution along the x-axis and the z-axis, so that the resolution contour is an ellipse [Figure 3.75 (b) and 3.77]. It is evident that, fo r the U L A , the array resolution is better along the x-axis (i.e., the axis o f the array) than it is along the z-axis. It should be noted that the array resolution along the x-axis is greater fo r the U L A than it is for the USA, because o f the larger aperture o f the U L A . When the source is placed at X = 0 m, Y = -0.3 m, Z=0.5 m, and the U L A is used w ith the microphones placed along the x-axis, so that the localization plane is the x-z plane, the source is incorrectly localized at X = 0 m, Y=0 m, (rather than Y=-0.3 m), Z=0.6 m (rather than Z=0.5 m) [Figure 3.78 (a)]. On the other hand, when the U L A is used w ith the microphones placed along the y-axis, so that the localization plane is the y-z plane, the source is correctly localized at X = 0 m, Y=-0.3 m and Z=0.5 m [Figure 3.78 (b)]. This correct localization is a consequence o f the fact that the array and the source both lie in the same plane. When the U S A is used w ith the same source position (X = 0 m, Y=-0.3 m, Z=0.5 m), the source is also correctly localized [Figure 3.79(a)]. Figure 3.79(b) shows the beamforming map fo r the U S A w ith the source placed at a new position, viz.; X =0.2 m, Y=-0.3 m, Z=0.5 m. I t can be seen that the U S A again correctly localizes the source. It should be noted that for this new position, the U L A would be incapable o f localizing the source correctly, regardless o f whether the microphones are placed along the x-axis or along the y-axis. The results o f this section serve to demonstrate that the source localization capability o f a uniform linear array (U L A ) is limited to 2D situations fo r which the acoustic source and the U L A lie in the same plane; m oreove-. fo r a near field source, the array resolution o f a U L A is better along the array axis than along the axis normal to the array axis. These results also establish that a uniform planar array (U F A ), e.g., a uniform square array, is superior to a U L A (except fo r a situation involving a far field source lying in the same plane as the array) since, unlike a U L A , a U F A is capable o f localizing a source in 3D space.

89

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

(a )

(b)

Figure 3.75: Bearnforrning results for X = 0 m, Y=0 m, Z=0.5 m; (a) Beamforming map: 2D plot fo r a U S A w ith N=36 (6 x 6) (b) Beamforming map:2D plot fo r a U L A w ith 36 microphones placed along the x-axis.

I
I

0 ,1 ,

02

0 .3

0 .4

05 Y ( m )

0 .2

0 .3

0 .4

06

(b) (a) Figure 3.76: Beamforming results fo r a U S A w ith 77=36 (6 x 6); X = 0 m, Y = 0 m, Z=0.5 m: (a) A rray pow er along the x-axis (b) A rray power along the y-axis.

-10

0 .1

.0 .2

0 .3

0 .4

0 .5

0 .2

0 .3

0 .4

0 .6

0 .5

0 .7

0 .9

(b) (a) Figure 3.77: Beamforming results fo r a U L A w ith 36 microphones placed along the x-axis; X = 0 m, Y = 0 m, Z=0.5 m: (a) Array power along the x-axis (b) A rray power along the z-axis.

90

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Q '9 | . ..
. 0. 8 ! ·

$#'

m

Figure 3.78; Beamforming results fo r X = 0 m, Y=-0.3 m, Z=0.5 m: (a) Beamforming map: 2D plot for a U L A w ith 36 microphones placed along the x-axis (b) Beamforming map: 2D plot fo r a U L A w ith 36 microphones placed along the y-axis.

fS '

· 0 .4 :.

(a)

O)

Figure 3.79: Beamforming results fo r a USA, A =36 (6 x 6); (a) Beamforming map: 2D plot fo r X = 0.0 m, Y =-0.3 m, Z=0.5 m (b) Beamforming map: 2D plot for X=0.2 m, Y=-0.3 m, Z=0.5 m. In this section a comparison between a U L A and a U F A w ith a near field source has been carried out. In next section, the sensitivity analysis o f a random array is discussed.

3.6

Random Array - near field beamforming
When microphones are placed in a random fashion (in the x-y plane) so as to break the

regularities o f a uniform planar array, the resulting array is caUed an irregular or aperiodic or random array, as depicted in Figure 2.8 (subsection 2.3.3). The purpose o f this section was to examine beamforming results pertaining to a random array w ith a near field source. To this end, the spiral array geometry designed by N A S A Langley Research Center, Hampton, V A was chosen. This array is also called a Large Aperture D irectional A rray (L A D A ) [6]. It

m

91

Reproduced with permission of the copyright ovmer. Further reproduction prohibited without permission.

consists o f 35 microphones placed in logarithm ic spirals, and it has five spirals each having seven microphones, w ith the inner-most microphones ly in g on a 1 inch (0.0254 m) radius, and the outer-most on a 17 inch (0.4318 m ) radius, as depicted in Figure 3.80. This array was designed fo r different frequencies ranging from 2 kH z to 30 kHz. The microphones were placed in an x-y plane, and a spherical wave was generated at each microphone location by means o f the form ula (^4 / r,, )s in [û )(t-- / c ) ] , as discussed in section (3.1). The signals at each microphone had an integer number o f cycles. Each b lo `~k o f data fo r the digital signals contained 1024 points and yielded 513 (M/2-1-1) frequency bins.

0.5

0.3

0.1

>-

0-1

;o i
-0,3 -0,4

0.6

Figure 3.80: Large Aperture D irectional A rray (L A D A ) For a spiral array, the source position can be defined in 3D space by an elevation angle cp, an azimuth angle 6, and a distance r between the array centre and the source, as in the case o f a U F A (section 3.4). These spherical coordinates can be represented in Cartesian coordinates in terms o f X , Y , and Z along the x, y, and z axes respectively. W ith the array ly in g in the x-y plane, the source can be localized by considering an x -y plane, (i.e., a grid plane) at different locations along the z-axis (i.e., different grid distances), as depicted in Figure 3.56. The grid plane contains grid points w ith increments along the x and y axes. The relevant beamforming

92

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

maps were obtained, at different grid distances, by computing steering vectors fo r various assumed source locations in the x-y plane. The position where the array power is maximum (i.e., where the mainlobe appears) in the grid plane corresponds to the X -Y location o f the source. The position where the array power is maximum along the z-axis represents the Z location o f the source. The parameters chosen fo r the sensitivity analysis in this case are given below. · · · Number o f microphones (N). Signal frequency (/). Source position.

3.6.1

E ffe c t o f n u m b e r o f m icrophones (N)

The purpose this subsection was to examine the impact o f the number o f microphones on the beamforming results when a spiral array was used w ith a near field source. The spherical wave was generated at a frequency o f 4000 H z and the acoustic source was placed at X = 0 m, Y = 0 m and Z=0.5 m. The number o f microphones was varied from 15 to 35. Figures 3.81 and 3.82 show the beamforming maps (3D and 2D plots) for N=15 and N= 35. The corresponding array pow er plots are shown in Figure 3.83. The array resolution and the dynamic range were obtained from the various beamforming maps fo r different numbers o f microphones ranging fro m 15 to 35. The plots o f array resolution and array dynamic range versus number o f microphones are depicted in Figures 3.84 and 3.85. When the number o f microphones is 15, the error band is ± 0.06 m (corresponding to an error o f ± 5.93 %), and the array dynamic range is 8 dB [Figures 3.81 and 3.83 (a)]. When the number o f microphones increases to 35, the error decreases to ± 0.032 m (corresponding to an error of ± 3.16 %) and the array dynamic range increases to 12.6 dB [Figures 3.82 and 3.83

It can be seen from Figures 3.84 and 3.85 that both the array resolution and the array dynamic range increase progressively w ith the increase o f number o f microphones. The results o f this sub-section demonstrate that the source localization capability o f a spiral array increases w ith the increase o f number o f microphones, fo r any given frequency.

93

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

0 * 1
· 5

1° ; 2 4 ' ' " ' : '"-6.,.,,'*'

0,S{ ·!;_ 0.4)  0% . : O lf 

")k

.*

,

ID

i-is
I 2 3

life, : % A ,

^-25-]
3 0  3 5

..^

-10 -12 g-14 g-iG 18 3 1.22 ; I of " f  ' : -O-li   -0-21  4 ; ' . . <i.3i 4 :

.4*

m :
(a )

m

0
Cb)

Figure 3.81: Beamforming results fo r A^=15,/=4000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot.

0 -4

 0 3 !? % .

Figure 3.82: Beamforming results fo r A^=35,/=4000 Hz; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot.

10

0 1

0 .4

0 .5

0 .1

0 .2

0 3

0 .4

0 .5

X(m)

(b) (a) Figure 3.83: Beamforming results fo r/= 4 0 0 0 Hz; (a) A rray power plot fo r A^=15 (b) Array power p lo t fo r N=35.

94

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

f.

y

18 16 14 12

î
2

10
8 6 0

5

10

.15

20

25

30

35

40

N um ber o f microphones Figure 3.84: Effect o f number o f microphones on the array resolution.

13
12

·a

W ) 2 u a e Û

11

10

9 8 7 6 0 5

10

15

20

25

30

35

40

Number o f microphones

Figure 3.85: Effect o f number o f microphones on the dynamic range.

3.6.2

Effect of source signal frequency (f)

The purpose o f this sub-section was to explore the effect o f signal frequency on the beamforming results when a spiral array was used w ith a near field source. The spherical wave was generated at different frequencies ranging from f=4 kH z to /= 3 0 kHz. Note that this frequency range is considerably larger than the frequency ranges considered fo r the U L A and U FA . The number o f microphones was 35, and the acoustic source was placed at X =0 m, Y = 0 m and Z=0.5 m.

Î

95

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The beamforming results fo r /= 4 000 H z and /=30000 Hz w ith N=35 are shown in Figures 3.86 and 3.87 respectively. Each figure shows a beamforming map (3D plot) and the corresponding array pow er plot. The array resolution and the dynamic ranges were obtained from the various beamforming maps for different frequencies ranging from 4000 Hz to 30000 Hz. The plots o f the array resolution and the dynamic range versus signal frequency are presented in Figures 3.88 and 3.89 respectively. When the signal frequency is 4000 Hz, the error band is ± 0.036 m (corresponding to error ± 3.6 %) and the array dynamic range is 12.6 dB (Figure 3.86). When the signal frequency increases to 30,000 Hz, the mainlobe becomes a spike (corresponding to 0 % error) and the array dynamic range drops to 9.45 dB, which is acceptable (Figure 3.87). Figures 3.88 and 3.89 show that, as the signal frequency increases, the array resolution increases markedly while the array dynamic range decreases only slightly. The above results demonstrate that a spiral array provides particularly effective source localization over a broad range o f frequencies, w ithout any spatial aliasing, w ith a limited number o f microphones.

1 0
1 5

2 0
·20 2 5 3 0 3 0 3 5 4 0 · 4 0 0 .5 0 .5 · 4 5

·S O
Y(m ) X(m)

0 .1

02

0 .3

0 .4

05

X{m)

(b) Figure 3.86; Beamforming results fo r 77=35,/= 4 0 0 0 Hz; (a) Beamforming map: 3D plot (b) A rray power along the x-axis

96

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

I?

· 0 .5

0 . 5

(a)

(b)

Figure 3.87: Beamforming results fo r N=35,f=30,000 Hz; (a) Beamforming map: 3D plot (b) A rray power along the x-axis.
120

100

5000

10000

15000

20000

25000

Frequency (Hz)

Figure 3.88: Effect o f source signal frequency on the array resolution.

13 12.5

12 « 11.5 e c 11
2 10.5

V

I

10
9.5 9 8.5

I

8
5000 10000 15000 20000 25000 30000 35000 Frequency (Hz)

Figure 3.89: Effect o f source signal frequency on the dynamic range.

97

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

3.6.3

E ffe c t o f source p o sitio n

The purpose o f this sub-section was to determine the impact o f the source position fo r a spiral array w ith a near field source. The spherical wave was generated at a frequency o f 4000 Hz, and the number o f microphones was 35. The source was placed at different positions

along the x-axis varying from X = -0.7 m to X=0.7 m w ith the y-axis and z-axis positions fixed at Y =0 m and Z=0.5 m respectively. The source was also placed at different positions along the z-axis varying from Z=0.25 m to Z=5 m w ith the x-axis and y-axis positions fixed at X = 0 m and Y = 0 m respectively. Figures 3.90 and 3.91 show the beamforming maps (2D plots) and the array power plots fo r X=-0.7 m and X = 0 m w ith Y =0 m and Z=0.5 m. Figures 3.92 and 3.93 show the beamforming maps (2D plots) and the array power plots fo r Z=0.25 m and Z=5 m w ith X = 0 m and Y=0 m. Figure 3.94 shows the array pow er plots fo r Z=0.5 m and Z=1.5 m w ith X = 0 m and Y =0 m. The array resolution and the array dynamic range were obtained from the various beamforming maps fo r the different source positions. The plots o f array resolution and dynamic range versus the source position along the x-axis are depicted in Figures 3.95 and 3.96. Figure 3.97 presents the array resolution versus the source position along the z-axis. When the source is placed at X =-0.7 w ith Y = 0 m and Z=0.5 m, the error band is ± 0.108 m (corresponding to ± 5.4 %) and the dynamic range is 10.67 dB (Figure 3.90). When the source is moved to X = 0 m, the error band decreases to ± 0.032 m (corresponding to ± 1.6 %) and the dynamic range increases to 12.77 dB (Figures 3.91). Figures 3.95 and 3.96 show that both the array resolution and the dynamic range increase (i.e., the source localization capability improves) when the source moves from X = ± 0.7 m to X = 0 m. Wlien the source is placed at Z=0.25 m w ith X = 0 m and Y = 0 m, the error band is ± 0.022 m (± 2.2 %) and the dynamic range is 10.36 dB (Figure 3.92). When the source is moved to Z=5 m, the error band increases to ± 0.27 m (± 27 %) and the dynamic range cannot be defmed (Figures 3.93). It can be seen fro m Figure 3.97 that the array resolution decreases non-linearly as the source position along the z-axis increases. B u t the dynamic range increases as the source moves away from the microphone array (Figure 3.94). For instance, when Z=0.5 m, the dynamic range is 12.6 dB, and when Z=1.5 m, the dynamic range is more than 15 dB.

98

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 3.90: Beamforming results fo r A^=35,/=4000 Hz, X = -0.7 m (Y = 0 m and Z=0.5 m): (a) Beamforming map: 2D plot (b) A rray power along the x-axis.

0 .0 : 0.61

.-0f 2^r
-0.41
·0 .6 !

I
 iS f' .4''
0
X(m)

·10

.ai: -I, ü f . '.
0 .2 04 0 .6 0 .0

(a)

(b)

Figure 3.91: Beamforming results fo r N = 3 5 ,/= 4 0 0 0 Hz, X ~ 0 m (Y = 0 m and Z=0.5 m); (a) Beamforming map: 2D plot (b) A rray power along the x-axis.
0 .5<

r ''' " A

4
0 ,1{'.  ' % ' #:
a.

5 :

·IS-.

'°%y
0 X (m )
(a)

·1 0

0 .1
X(m)

0 .2

0 .3

0 .4

0 Æ

(b)

Figure 3.92: Beamforming results fo r A^=35,/=4000 Hz, Z=0.25 m (X = 0 m and Y = 0 m) (a) Beamforming map: 2D plot (b) A rray power along the x-axis.

99

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 3.93: Beamforming results fo r /V=35,/=4000 Hz, Z=5 m, (X = 0 m and Y = 0 m) (a) Beamforming map: 2D plot (b )-Array power along the x-axis.

I

·IQ

0.1

0 .3

0 .4

0 .5

0 .1

0 .2

0 .3

0 .4

05

X(m)

(a )

(b )

Figure 3.94: Beamforming results fo r /V=35,/=4000 Hz; (a) A rray pow er along the x-axis fo r Z=0.5 m, (X = 0 m and Y = 0 m); (a) A rray power along the x-axis for Z=1.5 m, (X = 0 m and Y = 0 m). The results o f this sub-section demonstrate that the maximum array resolution is obtained when an acoustic source is perpendicular (i.e., broadside) to the centre o f a spiral array. The array resolution decreases as the source moves away from the array. Therefore, a model under investigation should always be placed perpendicular to the array centre. However, since the sound generated by various parts o f the model w ould be at different angles w ith respect to the array centre, it would not be possible to place aU the sources at the ideal position.

100

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

s
c ·2

I
I
0.6

-

-0.4

-

0.2

0

0.2

0.4

0.6

0.8

source position, X(m)
Figure 3.95: Effect o f source variation along the x-axis on the array resolution; (X --0.7 m to X=0.7 m w ith Y = 0 m and Z=0.5 m).

-0 .5

0

0.5

so u rce p o sitio n , X (m )
Figure 3.96: Effect o f source variation along the x-axis on the dynamic range; (X -- 0.7 m to X =0.7 m w ith Y = 0 m and Z=0.5 m).

101

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

s
a o

20

0

1

2

3

4

5

6

so u rce p o sitio n , Z(m)
Figure 3.97; Effect o f source variation along the z-axis on the array resolution; (Z=0.25 m to Z=5 m w ith X = 0 m and Y = 0 m).

102

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

i%»
Chapter 4 Sensitivity analysis-experimental data
4.0 Introduction
The present chapter focuses on the sensitivity analysis o f the beamforming technique using

experimental data. In this analysis, the impact o f the number o f microphones (N), the source
position, and the inter-microphone distance {d) is examined. Experiments were conducted w ith two different array geometries, viz., a horizontal uniform linear array (H U L A ) and a cross array (which is analogous to a uniform planar array), at the laboratory o f the Institute o f Aerospace Research (lA R ), N ational Research Council (NR C ) o f Canada, Ottawa. As mentioned in section 3.0, the performance o f a microphone array is measured by the beamforming evaluators, array resolution and array dynamic range. These evaluators

characterize the capability o f an array to localize an acoustic source. The array resolution is determined by the mainlobe w idth and increases as the mainlobe becomes narrower. In addition, the `goodness' o f the microphone array can be expressed m terms o f an error band. The aiTay dynamic range is determined by the highest sidelobe level. The array resolution (or the error band) and the array dynamic range remain the central focus fo r this sensitivity analysis.

4.1 4.1.1

Experimental setup and data acquisition system Experimental setup

A loudspeaker was used as an acoustic source producing a sine wave at a frequency o f 2859 Hz. The different array geometries used fo r the experiments are shown in Figure 4.1. The horizontal uniform linear array (H U L A ) and the cross array consisted of, respectively, 16 and 32 Bruel & Kjaer model 4944A 14 inch microphones, which were fixed on aluminum bars. Except fo r the central microphones, the inter-microphone distance (d) was 2 inches (0.0508 m) to satisfy Shannon' s criterion (based on a frequency o f 2859 Hz). The central microphones were separated by 'Id. The aluminum bars were attached to a tripod (see Figure 4.1). The data recorded at the different microphones were passed through preamplifiers (inside the

microphones) and supplied to an A /D converter as depicted in Figure 4.1(b).

103

m
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Microphones :lr' (a

Loudspeaker

H U LA

Tripod

9

Loudspeaker

Microphones

T rip o d

r P # #
Data to A/D converter

Figure 4.1: (a) H orizontal uniform linear array (H U L A ) (b) Cross array. Note that the laboratory test section was not an anechoic chamber, so that the microphones were affected by reflection o f the sound waves from the sidewalls, the celling and the flo o r o f the test section. Non-overlapping blocks were used fo r the data processing. A Cartesian coordinate system was used, w ith the x-axis parallel to the laboratory flo o r and perpendicular to the side walls o f the test section. In one case, the z-axis was taken perpendicular to the

104

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

i

M

laboratory floor, i.e., the vertical direction; in other cases, the y-axis was taken perpendicular to the laboratory floor.

4.1.2

Data acquisition system

The data acquisition system is shown in Figure 4.2. The internal details o f this system are shown in Figure 4.3. T w o B ruel & Kjaer model 2694B 16-channel signal conditioners were used to am plify the microphone signals. Each conditioner was connected to a 32-channel analog to digital (A /D ) converter, model ICS-610, which was run by L a b V IE W software. The data were converted w ith 24-bit precision at a sampling rate o f 16 kHz. The digital data were sent to a StreamStor disk drive array, m odel 816-FX2, using a Front Panel Data Port (FPDP). The FPDP transfers 32-bit data continuously at a rate o f 480 megabytes per second. The data were stored fo r post processing on the hard drive o f a computer w ith 80 GB capacity.

Data fro m microphone array

A/D
Converter and computer assembly

Figure 4.2: Data acquisition system.

il

105

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

80 GB Ë I 4544 (165^ ^ Channel srgnal Cqhcljtionér
Computer

JS L

-- I S end

IDEO On Board IO E [%

Hard Drive

J

Port

DVD
R e c o rd e r

#B&H:2694B#
,1 6 Channel Signal Conditioner
B&K 2694B 16 Channel Signal Conditioner B&K 2694B 16 Channel Signal Conditioner

ICS-610 32 Channel 24-bft'AC) ;

SS I0 E 2

Converter*:}::'
iCS-610 32 Channel 24-bit AO Converter StreamStor 816-FX2 Disk Drive Controller
SS ID E 1

60 OB :) :: Hard Drivé : 80 GB Hard Drive 80 GB ; Hard Drive ; 80 GB  Hard Drive
80 GB Hard Drive 80 GB Hand Drive

i

I 4944 0 6 ) ^

SS lO ED

r ~ 1 F u tu re E x p a n s io n

Rack Mount Chassis

Figure 4.3: Internal details o f data acquisition system (Courtesy: NRC, Ottawa).

4.2

H o riz o n ta l U n ifo rm L in e a r A r r a y (H U L A ) For this horizontal uniform linear array (H U L A ), the microphones were placed along the

x-axis (i.e., parallel to the laboratory floor) and the vertical axis was the z-axis, as shown in Figure 4.1(a). The H U L A microphone coordinates are shown in Table 4.1. The acoustic source (loudspeaker) was placed in the x-y plane, w ithin 1 m from the array, so that a spherical wave fron t occurred at the microphones, i.e., the loudspeaker was a near field source. The data were collected fo r 8 seconds at each microphone at a sampling rate o f 16 K H z and were divided into non-overlapping blocks, each containing 1024 data points (i.e., M =1024). W ith the sampling rate being 16 KH z, the frequency resolution was 15.62 Hz. The digital data collected by the microphone array were stored fo r post-processing as discussed in sub-section 4.1.2, and the M A T L A B code was applied to obtain the beamforming results (see Appendix A ). For each o f the 513 (M /2 4-1) frequency bins, the beamforming map was obtained by computing steering vectors fo r various assumed source locations in the x-y plane (e.g., -0.5 m to 0.5 m along the x-axis and 0.1 to 1.1 m along the y-axis). The follow ing parameters were used fo r the sensitivity analysis o f the H U L A . · · · Number o f microphones (N). Source position. Inter-microphone distance (d). 106

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

y

M

§
Table 4.1 H o riz o n ta l U n ifo rm L in e a r A rra y M icro p h o n e C oordinates M ic # X location (m) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 0.4064 0.3556 0.3048 0.2540 0.2032 0.1524 . 0.1016 0.0508 -0.0508 -0.1016 -0.1524 -0.2032 -0.2540 -0.3048 -0.3556 -0.4064 Y location (m) 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 Z location (m) 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00

4.2.1

E ffect o f n u m b e r o f m icrophones (N)

The aim o f this sub-section was to examine the effect o f the number o f microphones using experimental data. The number o f non-overlapping blocks (L) was 120. The source was placed at X=0.02 m and Y=0.49 m, and the number o f microphones (N) was varied fro m 4 to 16. Figures 4.4 and 4.6 show the beamforming plots (3D and 2D plots) fo r N=4 and N=16 respectively. Figures 4.5 and 4.7 show the plots o f array power along the x-axis and along the y-axis fo r N -4 and 77=16 respectively. Figures 4.8 and 4.9 show the beamforming results (i.e., array power plots) using simulation data fo r different numbers o f microphones, fro m 77=4 to 77=40. The array resolution and the dynamic range were obtained from the various

beamforming maps. The beamwidth, the array resolution, the error band and the dynamic range are summarized in Table 4.2. I t should be noted that the array resolution along the x-axis and the y-axis are not the same, and the array power is portrayed in two different plots [e.g., see Figure 4.5 (a) & (b )]. I t should also be noted that the ellipses (resolution contours) in the 2D beamforming maps [see Figure 4.6 (b)] represent slices o f the 3D maps taken at -3 dB below

I

107

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

the mainlobe peak. Plots o f the dynamic range along the x-axis versus the number o f microphones are presented in Figure 4.10, and plots o f the array resolution along the x-axis and the y-axis versus the number o f microphones are presented in Figure 4.11. For A^=4, the error band is ± 0.099 ra (corresponding to ± 10 % error) along the x-axis and infinite along the y-axis (Figures 4.4 & 4.5 and Table 4.2). The dynamic range along the x-axis is 4.2 dB, while the dynamic range along the y-axis is undefined. Although, the error band along the x-axis is small, the dynamic range is not adequate. The beamforming map (2D plot) [Figure 4.4 (b)] is such that the resolution at -3 dB corresponds to tw o lines (rather than a closed loop). This shows that the source localization capability o f the H U L A is very poor under these circumstances (i.e., A =4), and beamforming is not possible. For N=16, the error band is reduced to ± 0.039 m (corresponding to ± 3.9 % error) along the x-axis and ± 0.099 m (± 4.12 % error) along the y-axis (Figures 4.6 & 4.7 and Table 4.2). The dynamic ranges along the x-axis and the y-axis are 9.45 dB and 7.3 dB respectively (Table 4.2). These evaluators are satisfactory and the source localization capability o f the microphone array is improved. Also, the array resolution contour at -3 dB [Figure 4.6(b)] is an ellipse, as compared to two lines fo r N=4 [Figure 4.4(b)]. For the simulation data (sub-section 3.3.1), the dynamic range decreases as the number o f microphones increases. In contrast, fo r the experimental data, the dynamic range increases as the number o f microphones increases (Table 4.2). This discrepancy is due to the fact that the separation distance between the tw o central microphones (the 8''' and 9'*' microphones) was 2d in the case o f the experimental data, whereas the separation distance was d in the case o f the simulation data. Additional simulation results fo r 77=4, 8 and 40 at a frequency o f 2859 Hz are presented in Figures 4.8 and 4.9 fo r the separation distance between the central microphones equal to 2d (0.1016 m) and d (0.0508 m) respectively. Figure 4.8 (pertaining to a separation distance o f 2d) shows that the sidelobe level is high fo r small array apertures (i.e., 77=4) and decreases initially as 77 increases but then increases fo r large 77 (77=40), signifying that the dynamic range increases then decreases as the number o f microphone increase. Figure 4.9 (pertaining to a separation distance o f d) shows exactly the same behavior as that shown in sub section (3.3.1), i.e., the sidelobe level increases as the number o f microphones increases, fo r all 77, signifying that the dynamic range decreases as the number o f microphones increases. The behaviour o f the simulation results pertaining to the separation distance o f 2d was not

108

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

i
portrayed by the experimental results because only 16 microphones were used in this H U L A , as evidenced by the results presented in Figure 4.10. Figure 4.11 indicates that the array resolution increases progressively along the x-axis and along the y-axis w ith the increase o f number o f microphones. The results o f this sub-section demonstrate that the source localization capability o f H U L A is poor fo r small array apertures, but can be improved by increasing the aperture. Overall, these experimental results are consistent w ith the simulation results.

.4 % ,-2 0

(a)

Figure 4.4; Beamforming results fo r N=4\ (a) Beamforming map; 3D plot (b) Beamforming map; 2D plot (white lines at -3 dB).

-ID

02

0 .3

0 .4

1 .5

2 .5

(b) Figure 4.5; Beamforming results fo r A=4; (a) A rray power along the x-axis (b) A rray pow er along the y-axis.
(a)

109

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

(a)

(b)

Figure 4.6; Beamforming results for A^=16; (a) Beamforming map: 3D plot (b) Beamforming map: 2D p lo t (ellipse at -3 dB).

0 .1 X ( m )

02

0 .3

0 .4

05 Y ( m )

2 S

(a)

(b)

Figure 4.7: Beamforming results fo r N=16; (a) A rray power along the x-axis (b) A rray power along the y-axis.

·10

·10

0.2 X ( m )

2 .5

(b) (a) Figure 4.8: U L A beamforming results using simulation data when the separation distance between the central centre microphones is 2d (0.1016 m), fo r A^=4, A/=8, 77=40; (a) A rray pow er along the x-axis (b) Array pow er along the y-axis.

110

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

i

0 .5 Y ( m ) ;

(b) Figure 4.9: U L A beamforming results using simulation data when the separation distance between the central microphones is d (0.0508 m), fo r N=4, A =8, A=40; (a) A rra y power along the x-axis (b) A rray power along the y-axis.

Table 4.2 Effect of number of microphones Array resolution, error band and the dynamic range along the x-axis
Number o f microphones 4 8 12 16 . Beamwidth (m ) Resolution (1/m) 5.02 E rro r band (m) ± 0.099 ± 0 .0 5 8 ± 0.045 ± 0.039 Dynamic range (dB) 4.2 6.9

0T98
0.117 0.090 0.079

8.54
11.11 12.62

8.5
9.45

Array resolution, error band and the dynamic range along the y-axis
Number o f microphones 4 8 12 16 Beamwidth (m ) oo 0.954 0.450 0.198 Resolution (1/m) 0.00 1.05 2.22 5.05 E rror band (m) O O Dynamic range (dB) 0 2.1 4.9 7.3

± 0.477
± 0.225 ± 0.099

ill

I
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

-- Dynam ic range along x-axis;experim ental data.  A 'Dynam ic range along x-axisrsim ulation data.
1n
-

S'

8 6 -

2 u E
C

A

C Q

s rn e m
A

Ê

Ê

m

m

m

e im

m

s m

m

.

Q u 5 10 15 · 20 25 30 35 40 45 Number of microphones

Figure 4.10: Effect o f number o f microphones on dynamic range along the x-axis when the separation distance between the central microphones o f U L A is 2d: experimental and simulation data.
-A--Array resolution along x-axis --· -- Array resolution along y-axis 14
12

a

e

10 8

I

s

4
2

0 0 2

4

6

8

10

12

14

16

18

Number of microphones

Figure 4.11: Effect o f number o f microphones on array resolution along the x-axis and along the y-axis when the separation distance between the central microphones o f U L A is 2d: experimental data.

4.2.2

Effect of source position

The purpose o f this sub-section was to determine the impact o f source position using experimental data. Again, the number o f non-overlapping blocks was 120. The number o f microphones {N) was 16 and the acoustic source (i.e., the loudspeaker) was placed at three

112

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

positions, viz., (X=0.02, Y=0.49) m, (X=-0.18, Y=0.51) m and (X=0.01, Y=0.87) m w ith respect to the array centre. Figures 4.12, 4.14 and 4.16 show the beamforming maps (3D and 2D plots) fo r the source at (0.02, 0.49) m, (-0.18, 0.51) m and (0.01, 0.87) m respectively. The corresponding plots o f array power along the x-axis and along the y-axis are shown in Figures 4.13, 4.15 and 4.17. The array resolution and dynamic range were obtained fro m the various beamforming maps fo r different source positions. The beamwidth, the array resolution, the error band and the dynamic range are summarized in Table 4.3. W hen the source is placed at (0.02, 0.49) m, the error band is ± 0.039 m (± 3.9 % error) along the x-axis and ± 0.099 m (± 4.12 % error) along the y-axis. (Figure 4.13 and Table 4.3). The dynamic ranges along the x-axis and along the y-axis are 9.45 dB and 7.3 dB respectively. When the source is placed at (-0.18, 0.51) m, the error band is ± 0.0405 m (+ 4.05 % error) along the x-axis and ± 0.069 m (± 2.9 % error) along the y-axis. (Figure 4.15 and Table 4.3). The dynamic ranges along the x-axis and along the y-axis are 7.8 dB and 4.2 dB respectively. W ith the movement o f the source from (0.02, 0.49) m to (-0.18, 0.51) m, the array dynamic range (along both the x-axis and the y-axis) is degraded. The x-axis error band increases and the y-axis error band decreases w ith this movement. It should be noted that the array resolution is calculated from the array pow er plots (Figures 4.13 and 4.15), which are obtained by slicing the 3D beamforming plots along the x-axis and the y-axis. When X = -0 .18 m, the resolution ellipse is tUted [Figure 4.14 (b)], so that, as in the case o f the simulation results (sub-section 3.3.2), the correct values o f the array resolution based on the ellipse axes can not be calculated from the array power plots. In the beamforming 2D maps, the diameters o f the ellipse change from 3.6 mm and 13mm to 3.5 mm and 8.5 mm w ith the movement o f the source from X =-0.18 m to 0.02 m (~Y=0.5 m) [Figure 4.12 (b) & 4.14 (b)]. Clearly, the correct array resolution increases when the ellipse diameters decrease. Therefore, the array resolution is greater when the source is at X=0.02 m (i.e., perpendicular to the array centre) than when the source is at X=-0.18 m. W hen the source is placed at (0.01, 0.87) m, the error band is ± 0.0630 m (± 6.3 % error) along the x-axis and ± 0.369 m (± 15.37 % error) along the y-axis. (Figure 4.16 & 4.17, Table 4.3). The dynamic range along the x-axis is 7.7 dB, while the dynamic range along the y-axis is undefined. Therefore, the error band along the x-axis and along the y-axis increases; also, the

113

f
Renroduced with nermission of the coDvriaht owner. Further reoroduction orohibited without oermisslon.

dynamic range along the x-axis decreases when the source moves from (0.02, 0.49) m to (0.01, 0.87) m, i.e., the array source localization capability is degraded.

I
· 0 .5

Figure 4.12: Beamforming results fo r X =0.02 m, Y=0.49 m; (a) Beamforming map; 3D plot (b) Beamforming map: 2D plot (ellipse at -3 dB).

I

I
I
-to -to

0 .1

0 .2

Q 3

0 .5

0 ,5

1 .5

2 .5

(b) (a) Figure 4.13: Beamforming results fo r X =0.02 m, Y=0.49 m; (a) Array pow er along the x-axis (b) A rray power along the y-axis.

Figure 4.14: Beamforming results fo r X =-0.18 m, Y--0.51 m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D p lo t (ellipse at -3 dB).

114

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Il

.1 0

0 .1

0 .2

0 .3

0 .4

0 .5 Y(m)

2 ,5

(b) Figure 4.15: Bearnforrning results fo r X=-0.18 m, Y=0.51 m; (a) A rray pow er along the x-axis (b) A rray power along the y-axis.
(a)

I
X(m)

I

(a)

00

Figure 4.16: Beamforming results fo r X=0.01 m, Y=0.87 m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 dB).

m

0 ,1

0 .2

0 .3

0 .5

* 1 5

0 .6

1 .5

2 .5

(b) (a) Figure 4.17: Beamforming results fo r X=0.01 m, Y=0.87 m; (a) A rray pow er along the x-axis (b) A rra y power along the y-axis.

115

/
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Table 4.3 Effect o f source position Array resolution, error band and the dynamic range along the x-axis
'^ource Position (m) Beamwidth (m ) 0.079 0.081 0.126 Resolution E rror band (m) ±0.0395 ± 0.0405 ± 0 .0 6 3 0 Dynamic range

(1/m)
12.62 12.34 7.95

X=0.02, Y=0.49 X=-0.18.Y=0.51
X=0.01. Y=0.87

(dB) 9.45
7.80 7.70

Array resolution, error band and the dynamic range along the y-axis
Source Position (m) Beamwidth (m ) 0.198 Resolution E rro r band (m) ± 0.099 ± 0.069 ± 0 .3 6 9 Dynamic range

' (1/m)
5.05 7.21

(dB)
7.3

X=0.02, Y=0.49
X=-0.18.Y=0.51 X=0.01. Y=0.87

0T38
0.738

4.2
N .A .

1 36

The above results serve to demonstrate that the microphone array has maximum capability when the source is placed perpendicular to the array centre (i.e., broadside). This is in agreement w ith the simulation results. Also, the array capability degrades (i.e., array resolution and dynamic range decrease) as the source moves away from the array. B u t the simulation results (Figure 3.43) show that the array resolution decreases and dynamic range increases when a source moves away fro m the array. This difference between simulation and

experimental results is due to the fact that, in the experiments, when the source moved away from the array, extraneous noise due to reflections from the flo o r and walls affecting the microphone array increased, causing the sidelobe level to increases; hence, the dynamic range decreased. Clearly, fo r source localization using a uniform linear array, the array centre should be placed as close as possible and perpendicular to the source.

4.2.3

Effect of inter-microphone distance (d)

The purpose o f this sub-section was to examine the impact o f inter-microphone distance using the experimental data. The source (i.e., the loudspeaker) was placed at (0.02, 0.49) m. The number o f non-overlapping blocks was 120. Tw o cases were considered. For the first case, A =8 and d=4 inches (0.1016 m). For the second case, N -4 and d=S inches (0.4064 m). It should be noted that the inter-microphone distance required to satisfy Shannon' s criterion was

d*=2 inches (0.0508 m), f o r / = 2859 Hz.
116

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

J
Figure 4.18 shows the beamforming maps (3D and 2D plots) fo r N=8 and d-2d*. Figure 4.19 shows the beamforming maps (3D and 2D plots) fo r N=A and d=Ad*. Figure 4.20 shows the plots o f array power along the x-axis and the y-axis fo r //= 4 and d=4d*. For N=S and d=2d*, the beamforming map shows that the sidelobes are high and the array resolution contour at -3 dB has a distorted shape (Figure 4.18). In this case, the array source localization capability is degraded. For N=4 and d=Ad*, the mainlobe splits into a number o f lobes (i.e., grating lobes appear in the beamforming map) [Figure 4.19]. The magnitude o f each grating lobe is same as that o f the mainlobe, and this makes the beamforming method futile (Figure 4.20).

r '

I

h
1.3

Figure 4.18; Beamforming results fo r N=S, d= 2d*\ (a) Beamforming map; 3D plot (b) Beamforming map; 2D plot (white irregular line at -3 dB).

I
V (oi) X(m ) X(m |

I

(b) (a) Figure 4.19; Beamforming results fo r N=A, d=Ad^\ (a) Beamforming map; 3D plot (b) Beamforming map; 2D p lo t (white lines at -3 dB).

117 /
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

.g ia tin g

I.10

0.1

0 ,3

0 .4

0 .5

05

07

0 .0

Y(m)

(b) (a) Figure 4.20: Beamforming results fo r N=4, d-4d*\ (a) Array power along the x-axis (b) Array power along the y-axis. · The above experimental results are in general agreement w ith the simulation results presented in sub-section 3.3.3, and it is clear from these results that an acoustic source cannot be localized when Shannon' s criterion is not met.

4.3

Comparison between a Vertical Uniform Linear Array (VULA) and an HULA
The purpose o f this section was to compare beamforming results obtained via a vertical

uniform linear array (V U L A ) w ith those obtained via an H U L A . The V U L A consisted o f the cross array microphones located along the vertical axis, perpendicular to the floor, which was taken to be the y-axis. The H U L A consisted o f the cross array microphones located along the axis parallel to the floor, which was taken to be the x-axis. I t should be noted that in the previous case, the vertical axis was the z-axis. The source was placed along the z-axis. The beamforming maps were obtained by computing steering vectors fo r various assumed source locations in the x-z plane fo r H U L A and in the y-z plane fo r V U L A . The source was placed at (0.01, 0.01, 0.53) m and the number o f microphones was 16 for both the H U L A and the VU L.A. The microphone coordinates o f the H U L A and the V U L A are given in Tables 4.2 and 4.4. For the H U L A , the microphones were placed 30 inches (1.52 m) above the laboratory floor, and fo r the V U L A , the U' microphone and 16^'' microphone were 46 inches (2.34 m) and 14 inches (0.7112 m) respectively above the floOr. The experimental data were collected fo r 8 seconds fo r both the H U L A and the V U L A at a sampling rate o f 16 KH z. The data points collected at each microphone were divided into 120 non-overlapping blocks, each containing 1024 data points (i.e., M =1024).

118

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

«

Table 4.4 VULA Microphone Coordinates
M ic # X location (m) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 Y location (m) 0.4064 0.3556 0.3048 0.2540 0.2032 0.1524 0.1016 0.0508 -0.0508 -0.1016 -0.1524 - 0.2032 - 0.2540 -0.3048 -0.3556 - 0.4064 Z location (m) 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00

Figures 4.21 and 4.22 show the beamforming maps (3D and 2D plots) and plots o f array power along the x and y axes fo r the V U L A (N=16). Figures 4.23 and 4.24 show the beam form ing maps (3D and 2D plots) and plots o f array pow er along the x and y axes fo r the H U L A (N=16). Figure 4.25 shows plots o f array power along the x and y axes based on sim ulation data fo r the V U L A and the H U L A w ith V=16. The array resolution and the dynamic range were obtained fro m the beam form ing maps. The beamwidth, the array resolution, the error band and the dynam ic range are summarized in Table 4.5. For the V U L A , w ith iV=16, the error band is ± 0.045 m and the array dynam ic range is 7.7 dB along the y-axis (i.e., along the array axis) (Figure 4.21, 4.22, Table 4.5). The error band is + 0.335 m and the array dynamic range is 5.95 dB along the z-axis. The source position is localized at (Y=0.01 m, Z=0.6 m). For the H U L A , w ith V=16, the error band is ± 0.041 m and the array dynamic range is 9.63 dB along x-axis (i.e., along the array axis) (Figures 4.23, 4.24 and Table 4.5). The error band is ± 0.287 m and the array dynamic range is 11.55 dB along the z-axis. The source position is localized at X=0.01 m and Z=0.53 m.

li

119

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The error band decreases and the dynamic range increases as the array geometry changes from the V U L A to the H U L A , i.e., the array source localization capability improves. On the other hand, the beamforming results obtained by using simulation data (w ithou t extraneous noise) show that there is no impact on the beamforming results whether the H U L A o r the V U L A is used (Figure 4.25).

Figure 4.21; Beamforming results fo r V U L A , V=16; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 dB).

0 .3

04

0 .5

0 .6

0 .7

(b) (a) Figure 4.22: Beamforming results fo r V U L A , V=16; (a) A rray power along the x-axis (b) A rray power along the y-axis.

120

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

uf

t

Figure 4.23: Beamforming results fo r H U L A , N=16\ (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ellipse at -3 dB).

I I

0 .1

0 .2

0 .3

0 .4

0 ,5

0 .2

0 .3

0 .5

^m )

0 .6

0 .7

08

0 .9

(b) (a) Figure 4.24: Beamforming results fo r H U L A , N=16; (a) A rray power along the x-axis (b) A rray power along the y-axis.

-10

0 .3 . 0 .4

0 .5

(b) (a) Figure 4.25; Beamforming results using simulation data fo r A=16; (a) A rray power along the x-axis fo r V U L A (b) A rray pow er along the x-axis fo r H U L A .

121
k
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Table 4.5 Effect of ULA geometry (HULA versus VULA)
Array resolution, error band and the dynamic range along the y-axis (VULA) N ( type o f
array) 16 (V U L A ) Beamwidth (m) 0.090 Resolution (1/m) 11.11 E rror band (m) + 0.045 Dynamic range

(dB)
7.7

Array resolution, error band and the dynamic range along the x-axis (HULA) N (type o f
array) 16 (H U L A ) Beamwidth (m) 0.081 Resolution (1/m) · 12.35 E rror band (m) ±0.041 Dynamic range

(dB)
9.63

Array resolution, error band and the dynamic range along the z-axis (HULA and VULA) N (type o f
array) 16 rV U L A ) 16 ('HULA') Beamwidth (m) 0.671 0.575 Resolution (1/m) 1.49 1.74 E rror band (m) ± 0.335 ± 0 .2 8 7 Dynamic range (dB) 5.95 11.55

The experimental results o f this sub-section serve to demonstrate that a horizontal uniform linear array (H U L A ) is better than a vertical uniform linear array (V U L A ). The simulation results show that the array geometry has no effect on the beamforming results fo r a noise free environment (e.g., in an anechoic chamber). The change in the experimental results, w ith the change o f the array geometry, is due to the position o f the V U L A microphones. Specifically, the lower V U L A microphones (i.e., the 25^ to the 32"*^), which were near to the hard floor, were affected significantly by extraneous floor-reflection noise.

4.4

Cross Array
When microphones are separated by a constant distance in a plane (i.e., the x-y plane) to

form a cross, the array is called a cross array as shown in Figure 4.1(b). The cross array was used fo r the experiments because it was relatively easy to arrange the microphones in a cross. N ote that this array is a type o f uniform planar array. The cross array consisted o f 32 microphones, w ith the separation distance between the central microphones equal to 2d .The microphone array coordinates are given in Table 4.6. The acoustic source (i.e., the loudspeaker) was placed w ith in 1 m from the array so that a spherical wave fron t occurred at

122

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Ik

the microphones, i.e., the loudspeaker was a near field source. The data were collected fo r 8 seconds at each microphone w ith a sampling rate o f 16 K H z and were divided into non overlapping blocks, each containing 1024 data points (i.e., M =1024). W ith the sampling rate being 16 KHz, the frequency resolution was 15.62 Hz. The digital data collected by the microphone array were stored fo r post-processing, as discussed in sub-section 4.1.2, and the M A T L A B code was applied to obtain the beamforming results (see Appendix A ). W ith the array lying in the x-y plane, the source can be localized by considering an x-y plane (i.e., a grid plane) at different locations along the z-axis (i.e., at different grid distances), as depicted in Figure 3.56. The grid plane contains grid points w ith increments along the x and y-axes. The relevant beamforming maps were obtained, at different grid distances, by computing steering vectors fo r various assumed locations in the x-y plane. The position where the array pow er is maximum (i.e., where the mainlobe appears) in the grid plane corresponds to the X - Y location o f the source. The position where the array power is maximum along the z-axis represents the Z location o f the source. T able 4.6 Cross A r r a y M icro p h o n e C oordinates M ic # X location (m) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 0.4064 0.3556 0.3048 0.2540 0.2032 0.1524 0.1016 0.0508 -0.0508 -0.1016 -0.1524 -0.2032 -0.2540 -0.3048 -0.3556 -0.4064 Y location (m) 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 Z location (m) 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 M ic # X location (m) 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 Y location (m) 0.4064 0.3556 0.3048 0.2540 0.2032 0.1524 0.1016 0.0508 -0.0508 -0.1016 -0.1524 -0.2032 -0.2540 -0.3048 -0.3556 -0.4064 Z location (m) 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00

123 y eg
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The follow ing parameters were used fo r the sensitivity analysis o f the cross array. · · Number o f microphones (N). Source position.

4.4.1

Effect of number o f microphones (AO

The purpose o f this sub-section was to examine the impact o f number o f microphones on the beamforming results. The number o f non-overlapping blocks was 120. The source was placed at X=0.01 m, Y=0.G1 m, Z=0.53 m, and the number o f microphones (AO was varied from A/=8 (a cross o f 4 x 4) to N=32 (a cross o f 16 x 16). Figures 4.26 and 4.27 show the beamforming maps (3D and 2D plots) and the plots o f array power along the x-axis and along the y-axis for N =8 (a cross array o f 4 x 4). Figures 4.28 and 4.29 show the beamforming maps (3D and 2D plots) and the array pow er plots along the xaxis and along the y-axis fo r N =32 (a cross array o f 16 x 16). Figures 4.30 and 4.31 show cross array beamforming results (array power plots) using simulation data fo r N=8, 20 and 32, w ith the separation distance between the central microphones equal to 2d and d respectively. The array resolution and the dynamic range were obtained from the various beamforming maps using the experimental data. The beamwidth, the array resolution, the error band and the dynamic range pertaining to these data are summarized in Table 4.7. For N=8, the error band is ± 0.198 m along the x-axis and ± 0.144 m along the y-axis (Figures 4.26, 4.27 and Table 4.7). The mainlobe is wide and the dynamic range cannot be defined. For this small array aperture, the source is localized at X=0.02 m, Y=0.05 m and 2L=0.53 m, as opposed to X=0.01 m, Y=0.01 m and Z=0.53 m (the correct location). Thus, the source localization capability is poor fo r N=8. For 77=32, the error band decreases to ± 0.054 m along the x-axis and to ± 0.059 m along the y-axis (Figures 4.28, 4.29 and Table 4.7). The array dynamic range along the x-axis is 6.65 dB and along the y-axis is 3.50 dB. The array resolution increases and sidelobes appear in the beamforming results. M oreover, the source is correctly localized at (0.01, 0.01, 0.53) m Thus, the source localization capability is improved fo r 77=32. The error bands and the array dynamic ranges along the x-axis and along the y-axis decrease as the number o f microphones increases from 77=8 to 77=32 (Table 4.7). The decrease o f dynamic range w ith the increase o f microphones is unexpected based on the simulation

124

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

results fo r the uniform square array (sub-section 3.4.1). However, the cross array simulation results pertaining to a separation distance between the central microphones equal to 2d, exhibit

exactly the same behavior, i.e., the dynamic range decreases as the number o f microphones
increases (Figure 4.30). Therefore, the experimental results are consistent w ith the simulation results. It is noted that the array resolution and the sidelobe levels are the same along the x-axis and the y-axis fo r the simulation results. On the other hand, fo r the experimental results, the array resolution and the sidelobe levels are not the same along the x-axis and the y-axis. This discrepancy is due to the fact that the low er y-axis cross array microphones (i.e., the 25th to the 32nd) are near to the hard floor, and are affected significantly by extraneous floor-reflection noise. The simulation results pertaining to a separation distance between the central microphones equal to d presented in Figure 4.31 display the same behaviour, i.e., the dynamic range decreases as the number o f microphones increases. Therefore, these simulation results serve to demonstrate that the cross array is not as good as the square array, as far as dynamic range is concerned. The results o f this sub-section establish that the source localization capability o f a cross array is poor for small array apertures. As the aperture increases, the array resolution increases, but the dynamic range decreases. It is evident that the cross array geometry is inferior to the square array geometry [33]. The cross array was used fo r these experiments because it was relatively easy to arrange the microphones in a cross.

I
(a)

I :

Figure 4.26: Beamforming results fo r N=S (a cross array o f 4 x 4); (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 dB).

125

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

î

I

0 .1 X ( m )

0 .2

0 .3

0 .4 Y ( m )

0 .1

0 .2

0 .3

0 .4 . O . S

(a) (b) Figure 4.27: Beamforming results fo r N=S (a cross array o f 4 x 4); (a) A rray pow er along x-axis (b) A rray power along-y-axis. .

e -.2 5
 0 .2 ? :

Y ( m )

-0 .5 4 3 . 5

(a) 00 Figure 4.28: Beamforming results fo r N=32 (a cross array o f 16 x 16); (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 dB).

0.1 X ( m )

0.2

0 .5 Y ( m )

0 .4

0 .5

00 (b) Figure 4.29: Beamforming results fo r N=32 (a cross array o f 16 x 16); (a) A rray power along x-axis (b) A rray power along y-axis.

126

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

t
'li

iy

m (Ü

0 .2

0 .3

0 .5

Y (m )

0 .2

0 .3

(b)

Figure 4.30: Cross array beamforming results using simulation data when the separation distance between the central centre microphones is 2d (0.1016 m), fo r N=8, N=2Q, N=32` , (a) A rray power along the x-axis (b) A rray pow er along the y-axis

4 0

0 .1

0 .2

0 .3

0 .4

06
Y (m )

0 .1

0 .2

0 .3

0 ,4

0 .5

(a)

(b)

Figure 4.31: Cross array beamforming results using simulation data when the separation distance between the central centre microphones is d (0.0508 m), fo r N=S>, N=20, N=32\ (a) Array pow er along the x-axis (b) A rray power along the y-axis

Table 4.7 Effect of number o f microphones Array resolution, error band and the dynamic range along the x-axis
Number o f microphones 8 12 20 28 32 Beamwidth (m ) OE396 0.198 0.126 0.117 0.108 Resolution (1/m) 2.52 5.05 7.94 8.55 9.26 E rro r band (m) ± 0 .1 9 8 ± 0.099 ± 0 .0 6 3 ± 0.059 ± 0.054 Dynamic range (dB ) N .A . N .A . 8.23 7.18 6.65

127 I
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

-Table 4.7 continuedArray resolution, error band and the dynamic range along the y-axis
Number o f microphones 8 12 Beam width (m) Resolution (1/m) E rro r band (m) ± 0 .1 4 4 ± 0 .1 2 5 ± 0.099 ± 0.067 ± 0 .0 5 9 Dynamic range

(dB)
N .A .

(1288 0.250
0.198 0.135 0.117

3^ 7
4.00 5.05 7.41

20 28
32

N.A. 4.03
3.70 3.50

8.55

4.4.2

Effect of source position

The purpose o f this sub-section was to determine the impact o f source position on the cross array beamforming results obtained using experimental data. The number o f non overlapping blocks was 120. The number o f microphones (AO was 32, (a cross array o f 16 x 16), and the source (i.e., the loudspeaker) was placed at three different positions, viz., (0.01, 0.01, 0.53) m, (0.31, 0.02, 0.52) m, and (0.01, -0.05, 0.76) m w ith respect to the array centre. Figures 4.32 and 4.33 show the bearnfbrniing maps (3D and 2D plots) and the plots o f array power along the x-axis and along the y axis fo r the source at (0.01, 0.01, 0.53) m. Figures 4.34 and 4.35 show the beamforming maps (3D and 2D plots) and the plots o f array power along the x-axis and the y-axis fo r the source at (0.31, 0.02, 0.52) m. Figure 4.36 shows plots o f normalized array pressure versus X and Y fo r the source at (0.01, 0.01, 0.53) m and (0.31, 0.02, 0.52) m. Figures 4.37 and 4.38 show the beamforming maps (3D and 2D plots) and the plots o f array power along the x-axis and along the y-axis fo r the source at (0.01, -0.05, 0.76) m. The array resolution and the dynamic range were obtained from the various beamforming maps for different source positions. The beamwidth, the array resolution, the error band and the dynamic range are summarized in Table 4.8. When the source is placed at (0.01, 0.01, 0.53) m, the error band and the array dynamic range are ± 0.054 m and 6.65 dB respectively along the x-axis, and ± 0.059 m and 3.50 dB respectively along the y-axis (Figures 4.32, 4.33 and Table 4.8). When the source is placed at (0.31, 0.02, 0.52) m, the error band and the array dynamic range are ± 0.063 m and 5.00 dB respectively along the x-axis, and ± 0.068 m and 5.6 dB

128

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

respectively along the y-axis (Figures 4.34 and 4.35, Table 4.8). Thus, w ith the movement o f the source fro m (0.01, 0.01, 0.53) m to (0.31, 0.02, 0.52) m, the error band increases along both axes, while the dynamic range decreases along the x-axis but increases along the y-axis. It should be noted that the dynamic range is calculated from the array pow er plots (Figure 4.35) and these plots are obtained by slicing the 3D beamforming plot [Figure 4.34 (a)] along the xaxis and the y-axis. As can be seen in Figure 4.34 (b), the y-axis sidelobes lie outside o f the shcing region. This is reason w hy the dynamic range increases along the y-axis. Figure 4.36 (a) & (b) show that the number o f sidelobes increases and the sidelobes are more asymmetric at (0.31, 0.02, 0.52) m than at (0.01, 0.01, 0.53) m. Therefore, the array source localization capability is degraded as the source moves from (0.01, 0.01, 0.53) m to (0.31, 0.02, 0.52) m. When the source is placed at (0.01, -0.05, 0.76) m, the error band and the array dynamic range are ± 0.081 m and 5.07 dB respectively along the x-axis, and ± 0.076 m and 4.7 dB respectively along the y-axis (Figures 4.37 and 4.38, Table 4.8). Thus, w ith the movement o f the source from (0.01, 0.01, 0.53) m to (0.01, -0.05, 0.76) m., the error bands increase along both the x-axis and the y-axis, while the dynamic range decreases along the x-axis but increases along the y-axis. The above results serve to establish that the cross array has maximum source localization capability when a source is placed perpendicular to the array centre. M oreover, this capability is degraded as the distance between the source and the array increases.

O S

4 X S
. ·x (m )

(a)

(b)

Figure 4.32: Beamforming results fo r (0.01, 0.01, 0.53) m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 dB).

If

129

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

f

I
I
· J O

,·0 *

0.2

0 .4 Y ( m )

0 .1

0 .2

0 .3

D . x

D . S

(a) (b) Figure 4.33: Beamforming results fo r (0.01, 0.01, 0.53) m; (a) A rray pow er along the x-axis (b) A rray power along the y-axis.

I Jf\ 

I
 0 . 5 05

Vîiur'25'

4

^:

s (W

0Ü

Figure 4.34: Beamforming results fo r (0.31, 0.02, 0.52) m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 dB).

·10

0.1

0 .4

0 .6 ï(m )

0 .1

0 .2

0 .3

0 .4

0 .5

(b) Figure 4.35: Beamforming results fo r (0.31, 0.02, 0.52) m; (a) A rray pow er along the x-axis (b) A rray power along the y-axis.
(a)

130

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

y
:: :

(a)

O)

Figure 4.36: Beamforming results (a) plot o f normalized array pressure fo r (0.01, 0.01, 0.53) m (b) plot o f normalized array pressure fo r (0.31, 0.02, 0.52) m. *0
l- to

r"
l- a o I 'x

-4 5 -2 D »:
f

· .4 0 0 .5

1 - J t.

OÜ (b) Figure 4.37: Beamforming results fo r (0.01, -0.05, 0.76) m; (a) Beamforming map: 3D plot (b) Beamforming map: 2D plot (ring at -3 dB).

0 .1 X ( m )

0 .2

0 .3

0 .4

0 .S . Y { m )

(b) (a) Figure 4.38: Beamforming results fo r (0.01, -0.05, 0.76) m; (a) A rray pow er along the x-axis (b) A rray power along the y-axis.

131

/
Reproduced with permission of the copyright owner. Further reproduotion prohibited without permission.

Table 4.8 Effect o f source position Array resolution, error band and the dynamic range along the x-axis
Source Position (m) (0.01, 0.01, 0.53) (0.31.0.02. 0.521 (0.01. -0.05. 0.76^ Beamwidth (m ) 0.108 0.126 0.162 Resolution (1/m) 9.26 7.94 6.17 E rror band (m) ± 0.054 ± 0.063 ± 0 .0 8 1 Dynamic range (dB) 6.65 5.00 5.07

Array resolution, error band and the dynamic range along the y-axis
Source Position (m) (0.01, 0.01, 0.53) (0.31.0.01. 0.521 (0.01. -0.05. 0.76 Beamwidth (m) 0.117 0.135 0.153 Resolution (1/m) ' 8J5 7.41 6.54 E rror band (m) ± 0.059 ± 0.068 ± 0.076 Dynamic range (dB ) 3.5 5.6 4.7

4.5

Comparison between an HULA, a VULA, and a Cross array
In the previous sections, the sensitivity analysis o f an H U L A , a comparison between a

V U L A and an H U L A , and the sensitivity analysis o f a cross array have been carried out. The purpose o f this section was to compare the three different microphone array geometries (i.e., an H U L A , a V U L A and a cross array). For this comparison, the data were collected fo r 8 seconds at each microphone at a sampling rate o f 16 K H z and were divided into 120 non-overlapping blocks each containing 1024 data points (i.e., M =1024)). Tw o cases were considered. For the first case, N=S, the source was placed at X=0.01 m, Y=0.01 m, Z= 0.53 m, and an H U L A , a V U L A , and a cross array were used. For the second case, the source was placed at X =-0.29 m, Y=-0.01 m, Z = 0.5 m, and an H U L A w ith N=16, a V U L A w ith N=16, and a cross array w ith

N=32 were used. It should be noted that, fo r both cases, the source localization plane was the
x-z plane fo r the H U L A and the y-z plane fo r the V U L A . Figure 4.39 and 4.40 show the beamforming maps (3D and 2D plots) and the plots o f array pow er along the x-axis and the z axis fo r the H U L A (V=8) w ith the source at (0.01, 0.01, 0.53) m. Figures 4.41 and 4.42 show the corresponding beamforming maps (3D and 2D plots) and the plots o f array pow er along the y-axis and the z-axis fo r the V U L A . Figures 4.43 and 4.44 show the corresponding beamforming maps (3D and 2D plots) and the plots o f array power along the x-axis and the y-axis fo r the cross array. Figures 4.45(a), 4.45(b), and 4.46 show the beamforming maps (2D plots) fo r the H U L A (A=16), the V U L A (V=16) and the cross array

132

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

;:ï;i

(/V=32) w ith the source position at (-0.29, 0.01, 0.50) ra. Figures 4.47-4.49 show the plots o f
airay power fo r the conesponding aixay geometries w ith the source position at (-0.29, 0.01,

J::

0.50) m. When the source is placed at (0.01, 0.01, 0.53) m, for the H U L A (N=8), the error band is ± 0.180 m along the x-axis and in fin ite along the y-axis, w hile the dynamic range is in excess o f 15 dB along the x-axis (Figures 4.39 and 4.40). W ith the change o f the array geometry to the V U L A (A=8), the eiTor band is ± 0.063 m along the x-axis and, again, is in fin ite along the yaxis, while the dynamic range is 3.5 dB along the x-axis (Figures 4.41 and 4.42). Therefore, when the V U L A is used, the en'or band decreases, but the overall airay source localization capability is degraded due to the degradation o f the dynamic range. When a cross array [N =8(4 X 4)] is used, the error band is ± 0.198 m along the x-axis and ± 0.144 m along the y-axis (Figure 4.43 and 4.44). A dynam ic range cannot be defined in this case. The eiTor band along x-axis is larger for the cross airay than it is for either the H U L A or the V U L A , but the error band along the y-axis is reduced from in fin ite for the H U L A and V U L A to ± 0.144 m for the cross array. Therefore, the source localization capability o f a cross array is better as compared to a uniform linear airay (horizontal or vertical).

(a) Figure 4.39; Beam form ing results fo r the H U L A , N=8 at (0.01, 0.01, 0.53) m; (a) Beam form ing map: 3D plot (b) Beamforming map: 2D plot (white line at -3 dB). When the source is placed at (-0.29, 0.01, 0.50) m, the source is localized by the H U L A at X=-0.29 m and Z=0.50 m w ith Y =0 m [Figure 4.45(a) and 4.47] and by the V U L A at Y=-0.01 m and Z=0.63 m w ith X = 0 m [Figure 4.45(b) and 4.48]. Thus, the H U L A provides the correct source position, whereas V U L A does not. This is due to the fact that the source is placed in the

133

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

localization plane o f the H U L A , i.e., x-z plane, so that the H U L A has the a b ility to localize the source. The V U L A is unable to provide the coiTect source location because the source does not lie in its localization plane, i.e., the y-z plane. When the cross airay is used, the source position is localized at X = -0.29 m Y=-0.01 m and Z=0.50 m [Figure 4.46 and 4.49]. This is the correct position and demonstrates that a cross array has the capability to localize an acoustic source in 3D space. It is also noted that the resolution contour for the cross airay is a rin g as compared to an ellipse for the unifo rm linear array.

!
I
·10

1
I
·10

0.2

05

0 .2

03

05

05

09

Z(m)

(a) (b) Figure 4.40: Beam form ing results fo r the H U LA , A=8 at (0.01, 0.01, 0.53) m; (a) Array power along the x-axis (b) Array power along the y-axis.

0
Ylni)

(a) (b) Figure 4.41: Beam form ing results fo r the V U L A , V =8 at (0.01, 0.01, 0.53) m; (a) Beamforming map: 3D p lo t (b) Beamforming map: 2D plot (w hite line at -3 dB).

134

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1 0

I I
-0 2 0.1 02

1 0

0.2

O S

06 Z(m)

07

09

(a) (b) Figure 4.42; Beam form ing results-for the V U L A , N=S at (0.01, 0.01, 0.53) m; (a) Array power along the x-axis (b) Array power along the y-axis.

^

-10

|I .J U

 04 . 0 Y (in ) 1 1 5 .0 5
.Vlill)

(a) (b) Figure 4.43: Beam form ing results for the cross array, A =8 at (0.01, 0.01, 0.53) m; (a) Beamforming map: 3D p lo t (b) Beam form ing map: 2D plot (ring at -3 dB).

I
·10

I
?
-1Û

03

02 X ( r ii)

02 Y ( m )

03

0 1

05

(b) Figure 4.44: Beam form ing results fo r the cross array, V =8 at (0.01, 0.01, 0.53) m; (a) A rray power along the x-axis (b) Array power along the y-axis

135 f t
Reproduced w ith permission of the copyright owner. Further reproduction prohibited without permission.

(a) (b) Figure 4.45: Beam form ing results, A^=16, at (-0.29, 0.01, 0.5) m; (a) Beam form ing map: 2D plot using the H U L A (b) Beam form ing map: 2D plot using the V U L A .

Figure 4.46: Beam form ing map (2D plot), V=32 at (-0.29, 0.01, 0.5) m using the cross array.

[ I

Î
f
.10

·'5,
X ( m )

02

0 .3

0 .4

0 .5

0 .2

0 .3

0 .5

0 .6 Z ( m )

07

09

(a) 0») Figure 4.47; Beam form ing results fo r the H U L A , N -1 6 at (-0.29, 0.01, 0.5) m; (a) A rray power along the x-axis (b) Array power along the z-axis

136

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

f

J

s

·10

i

I
·10

·0 3

-02 Y ( m )

02

03

0 .5

0 .5

08 Z ( m )

0 7

0 9

(a) (b) Figure 4.48: Beam form ing results fo r the V U L A , N = \6 at (-0.29, 0.01, 0.5) m; (a) A ira y power along the y-axis (b) A iia y power along the z-axis

fi-

I·10

î

I

·10

02

0 .3

0 .5 Y ( m )

0 .1

0 ,2

03

04

0 .5

(a) (b) Figure 4.49: Beam form ing results fo r the cross anay, N=32 at (-0.29, 0.01, 0.5) m; (a) A rray power along the x-axis (b) Array power along the y-axis The results o f this section serve to demonstrate that a cross array (i.e., a uniform planar array) is better as compared to a uniform linear array (horizontal or vertical). A uniform linear array can be used only to localize a source which lies in the plane o f the array (i.e., x-z plane for an H U L A and y-z plane fo r a V U L A in these experiments). In other words, when a source is located in three-dimensional (3D) space, a uniform linear array can not be used. On the otherhand, a uniform planar array has the capability to localize a source in 3D space. Overall, these experimental results confirm the sim ulation results o f section 3.5.

137

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Chapter 5 Summary, conclusions and future work
5.0 Introduction
A sensitivity analysis o f a frequency-domain beamforming technique fo r aeroacoustic measurements, involving an array o f microphones, was performed in order to gain insight into the effects o f various parameters, such as the number o f microphones on the applicability and performance o f the technique. Three types o f arrays were considered: a uniform linear array (U L A ), a uniform planar array (UFA),, and a random array. Extensive simulations were carried out for each type o f array; also, a selected (lim ited) number o f experiments fo r the U L A and U F A were carried out fo r the purpose o f validating the simulation results.

5.1 5.1.1

Summary of simulations results Uniform Linear Array --far field beamforming

The sensitivity analysis o f a U L A w ith a far field source demonstrates the working capability o f the beamforming technique to localize an acoustic source placed sufficiently far from the microphone array so that plane pressure waves reach the array. The array capability improves w ith the increase o f array aperture and the source signal frequency. The beamforming map is independent o f whether o r not the signal contains an integer number o f cycles, and the source can be localized w ith a high degree o f accuracy. Time windows have no impact on the beamforming map (i.e., source localization) fo r either an integer or a non-integer number o f cycles. On the other hand, time windows must be used fo r a non-integer number o f cycles to improve the frequency resolution o f the signal spectrum. For maximum source localization capability, the inter-microphone distance should be equal to the half o f the signal wavelength and the source should be at broadside (i.e., perpendicular to the reference microphone). The beamforming method has the ability to handle situations involving a signal w ith multiple frequencies (e.g., a broadband signal). B lo ck averaging is really not required when a signal is free from extraneous noise. B u t fo r noisy environments, an adequate array signal to noise ratio (SNR) can not be achieved by using a single block o f data, even w ith a relatively large number o f microphones; consequently, both source localization and signal spectrum detection are

138

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

difficult. For such environments, block averaging must be used to reduce the variability o f the beamforming results. This analysis elucidates the source localization capability o f the U L A fo r a far field source only. In the case o f a near field source, such as an aeroacoustic source in a wind tunnel test section, fo r which acoustic waves are spherical, U L A far field beamforming methodology can not be used. To overcome this lim itation, near field beamforming is used.

5.1.2

Uniform Linear Array - near field beamforming

The sensitivity analysis o f a U L A w ith a near field source demonstrates the w orking capability o f the beamforming technique to localize an acoustic source located near to the microphone array such that the pressure waves reaching the microphones are spherical. As the array aperture increases the array resolution increases but the array dynamic range decreases. A s the signal frequency increases, the array resolution improves and the array dynamic range remains constant. For maximum source localization capability o f the array, the source should be perpendicular to the array centre. As the source moves away from the U L A , the source localization capability decreases. When a source is placed at a sufficiently large distance from the microphone array, near field beamforming results change to far field results. To avoid grating lobes and fo r maximum array capability, the inter-microphone distance should be equal to the half o f the signal wavelength. For a U L A , w ith the microphones placed along the x-axis and the source lying in the x-y plane, the array resolution is not the same along the x-axis and the y-axis. The.resolution is better along the array axis, i.e., the x-axis, as compared to the axis perpendicular to the array, i.e., the y-axis. The resolution contour at -3 dB is always an ellipse. Therefore, a source can not be pinpointed even by using large array apertures. Also, the source localization capability is limited to a two-dimensional (2D) situation in which the acoustic source lies in the plane o f the array. To overcome these limitations, a uniform planar array (U F A ) is used.

5.1.3

Uniform Planar Array - near field beamforming

The sensitivity analysis o f a U F A (e.g., a uniform square array) w ith a near field source demonstrates the w orking capability o f the beamforming technique to localize an acoustic source in a three-dimensional (3D) situation. The array resolution and the dynamic range

I
m

increase w ith the increase o f array aperture. W ith the increase o f signal frequency, the array

139

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

resolution increases, but the array dynamic range decreases. F or maximum array resolution, the source should be perpendicular to the array centre. As the source moves away fro m the U FA, the source localization capability decreases. To avoid grating lobes and fo r maximum source localization capability, the inter-microphone distance should be equal to the half o f the signal wavelength. For a square geometry, w ith the microphones placed in the x-y plane, the array resolution is the same along the x-axis and the y-axis, and the resolution contour at -3 dB is a ring, as compared to an ellipse fo r a U L A . Therefore, acoustic sources can be pinpointed when the U F A has a large aperture. Also, the U F A has the capability to localize an acoustic source in 3D space. The main lim itation o f the U F A is that it does not w o rk w ell when a wide range o f frequencies is involved in a given aeroacoustic application. To overcome this lim itation, a random array is used.

5.1.4

Random Array - near field beamforming

The sensitivity analysis o f a random array (e.g., a spiral array) demonstrates the ability o f the array to localize an acoustic source in 3D space over a wide frequency range (from 4 kH z to 30 K H z) w ithout any grating lobes (i.e., spatial aliasing) and w ith a limited number o f microphones. The array resolution and the dynamic range increase w ith the increase o f array aperture. As the signal frequency increases, the array resolution increases, but the array dynamic range decreases. For maximum array resolution, the source should be perpendicular to the array centre. As the source moves away from the array, the source localization capability decreases.

5.2 5.2.1

Summary o f experimental results Uniform Linear Array - near Held beamforming

The sensitivity analysis o f a horizontal uniform linear array (H U L A ) shows that the array resolution increases as the number o f microphones increases, as expected on the basis o f the simulation results. However, in the case o f the dynamic range, there is a discrepancy between the experimental results and the original simulation results, due to the fact that the separation distance between the two central microphones (the 8"' and 9'*' microphones) was Id fo r the experimental data, whereas the separation distance was d fo r the original simulation data.

140

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Additional simulation results obtained w ith a separation distance o f 2d display the same behaviour as the experimental results. The variation o f the source position shows that the array has maximum array source localization capability when the source is placed perpendicular to the array centre, and the resolution degrades as the source moves away from a uniform linear array, as in the case o f the simulation results. The experimental results also confirm the effect o f inter-microphone distance. The comparison between the horizontal uniform linear array (H U L A ) and the vertical uniform linear array (V U L A ) indicates that the H U L A is better than the V U L A .

5.2.2

Cross array

When a cross array is used, the experimental results confirm the simulation results w ith respect to the effects o f number o f microphones and source position. These results also demonstrate that the array resolution increases and dynamic range decreases w ith the increase o f the array aperture. The comparison between three different array geometries (i.e., an H U L A , a V U L A and a cross array) indicates that a cross array (i.e., a type uniform planar array) is superior to a uniform linear array, in accordance w ith the simulation results and confirm the simulation results.

5.3

Conclusions
On the basis o f the present findings, it can be concluded that a uniform planar array is

superior to a uniform linear array and that a random array is the best o f the tltree array geometries, providing particularly effective source localization over a broad range o f

frequencies, w ithout any spatial aliasing and w ith a limited number o f microphones.

5.4

Future work
Examination o f the w orking capability o f a random array using experimental data is not

included in this thesis and is left fo r future w ork. M oreover, the present simulation and experimental results involved a pure tone signal. In practice, broadband signals are

encountered, and acoustic measurements o f interest are conducted in w ind tunnels which generate significant background noise under test conditions. To remove the effect o f this

I*
' I

141

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

background noise, and to obtain the desired results, the beamforming M A T L A B code must be modified. The follow ing procedure is recommended fo r handling this aspect.

STEP 1; Collect the background noise data at a specific air speed, when the source is not present in the test section. STEP 2: Process the background noise data by the M A T L A B code to determine the average GSM fo r the background noise, S TEP 3:


tunnel at thesame

Place a source (or a model) in the test section and run the wind

speed and collect the combined background noise and source data. Process these data by the M A T L A B code to determine the average combined CSM, S TEP 4: Subtract the background CSM from the combined CSM, to obtain pertaining to the source, [G ], i.e.,
[ ^

] the C SM

comhineiJ

]

[ ^

hackjirottnd

^

STEP 5; A pply the steering vector to the source CSM, [G ], fo r each frequency bin, to obtain the beamforming maps and the SPL spectrum.

For this future w ork, the experimental data w ill be collected by means o f a random array fo r broadband sources.

142

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

References
[1] [2] M ueller T.J. (Editor), "' A eroacoustic Measurements'", Springer-Verlag, Berlin, 2002. Johnson D.H. and Dudgeon D.E.,

"Array SigJial Processing-

Concepts and

Techniques'", Prentice --Hail, NJ, 1993.
[3] Sas E. (Editor), "Advanced Techniques in Applied and Numerical Acoustics," Katholieke Universiteit Leuven, Faculty o f Engineering, Department o f Mechanical Engineering, Belgium, 1996. Benesty J., " Adaptive eignvalue decomposition algorithm fo r passive acoustic source localization," Journal o f Acoustical Society o f America, pp. 384-391, January, 2000. Varma K., " Tim e-D elay estimate based direction-of-arrival estimation fo r speech in reverberant em ironments," Masters o f science (Electrical Engg.) thesis, Virginia Polytechnic Institute and state university', 2002. Humphreys W .M ., Brooks T.F., Hunter W ., Meadows K.R ., " Design and use o f microphone directional arrays fo r aeroacoustic measurements," 36th Aerospace sciences Meeting &Exhibition, January 12-15, 1998. Humphreys W .M ., Brooks T .M .," Effect o f dii'ectional array size on the measurement o f airframe noise components," 5th AlAAJ CEAS Aeroacoustics Conference, M ay 1012, 19&L Dumbacher S.M ., B row n D .L., and Bono R.W ., " Overview o f acoustic array techniques fo r noise source identification," Inter-noise, Christchurch, New Zealand, pp. 15591564, November 16-18, 1998. Vaucher D., Chevret P., and Perrin F., " Use o f Acoustical Holography in 3D interiors measurements," inter-noise, 2002. Antoine T., Cetalifaud J., and Aujard C., M etravid RDS, Lyon, France, " M eeting Noise Regulations w ith Near field Acoustic Holography," e-mail: thomas.antome@metravib.fr. Journal o f Sound and vibration. May, 2003. K rim J. and Viberg M ., " Tw o decades o f array signal processing research: The parametric approach," IEEE Signal Processing Magazine, pp. 67-94, July, 1996. B arry D. Van veen and Kevin M . Buckley, " Beamforming: A Versatile Approach to Spatial Filtering," IEEE ASSP Magazine, pp. 4-24, A p ril, 1988.

[4]

[5]

[6]

[7]

[8]

[9]

[10]

j

[11]

[12] -

/fT

|l

143

/

!

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

[13]

Richard J. V . (E ditor), " The past, present and Future o f Underwater Acoustic signal processing," IEEE Signal processing magazine, pp. 21-54, July, 1988. Soderman P.T. and Noble S.C, " A directional microphone array for acoustic studies o f wind tunnel models," 8''' AIAA Aerodynamic Testing Conference, pp. 74-640, July 810, 1974. Brooks T.F., M arcolini M . A. and Pope D.S., " A directional array approach fo r the measurement o f ro to r noise source distributions w ith controlled spatial resolution," Journal o f Sound and Vibration, vol. 112, pp. 192-197, January, 1987. Blacodon D ., Caplot M . and Flias G., " A source localization technique fo r helicopter roto r noxsQ," 1f ' AIAA, Aeroacoustics Conference, Oct. 19-21, 1987. Flias G., " Noise Source Localization w ith Focussed Antenna fo r Reduction purposes," Presented at the Science et Defence Conference, Transi, in to english from Science et Defence (France), pp. 1-13, M ay 15-16, 1990. Gramann R .A. and M ocio J.W., " Aeroacoustics measurements in w ind tunnels using adaptive beamforming methods," Journal o f Acoustical Society o f America, pp.36943701, June 1995. Brooks T.F., M arcolini M ..A ., Pope. D.S., " A directional array approach fo r the measurement o f ro to r noise source distribution w ith controlled spatial resolution," Journal o f sound and Vibrations, vol. 112, pp. 192-197, January, 1987. Underbrink R., " Practical Considerations in Focused A rray Design fo r passive Broadband Source M apping Applications," M aster's Thesis, The Pennsylvania State University, May, 1995. Watts M .F ., Mosher, M ., and Barnes, M.J., " M icrophone A rray Phased Processing system (MAPPS): Phased A rray System fo r Acoustic Measurement in a W ind Tunnel," World Aviation Conference, San Francisco, CA, October 19-21, 1999. Mosher, M ., " Phased A rray fo r Aeroacoustic Testing: Theoretical Development," 2nd AIAA/CEAS Aeroacoustics Conference, State College, PA, M ay 6-8, 1996. Wang. Y., L i. J., Stoica P., Sheplak M ., and Nishida T., " Wideband R E L A X and wideband C L E A N fo r aeroacoustic imaging," Journal o f Acoustical Society o f America, pp. 757-767, February, 2004. Sijtsma P. and Holthusen H., " Source localization by phased array measurements in closed wind tunnel test sections," 5''` AIAA/CEAS Aeroacoustics Conference, Greater Seattle, Washington, U S A , M ay 10-12, 1999. ! ' I ^ |

[14]

[15]

[16]

^ ^

[17]

i
|

j

[18]

[19]

[20]

[21]

[22]

[23]

[24]

144

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

[25]

Haddad K. Benoit V ., " Localization o f aeroacoustics sources ail along a vehicle by means o f the acoustical imaging system A N T 64 in the semi-anechoic wind-tunnel Pininfariana," euro-noise Naples, 2003. Haddad K., Benoit V ., " An Acoustical Imaging Processing fo r the Localization o f Acoustic Sources inside a Vehicle: M ethod and test results on Road," ACB Engineering, France, www.acb-engineering.fr . 2003. Haddad K., Benoit V ., " Capabilities o f a beamforming technique fo r acoustic measurements inside a moving car," The 2002 international Congress and Exposition on Noise Control Engineering Dearborn, M I, USA, August 19-21, 2002. Haddad K., Benoit V ., " Use o f an acoustical imaging system fo r the study o f the acoustic transmission o f sealing system in a moving car," ACB Engineering, France www.acb-engineering.fr. 2002. Olson S., and M ueller T.J., " Phased Array Microphones System fo r Trailing Edge Noise Research," University o f Notre Dame, N otre Dame, Indiana, June, 2003. Arnold D.P., Nishida T ., Cattafesta L., Sheplak M ., " M E M S - Based Acoustic Array Technology" 40''' AIAA Aerospace Sciences Meeting & Exhibit, Reno, N V , January 14-17, 2002. Kaw all J.G., Lecture Notes, M IE 1805S, " Analysis o f Enginering Data" , Department o f Mechanical and Industrial Engineering, University o f Toronto, 2003. Van Trees H .L., "' 'Optimum array processing- Part IV o f detection, Estimatioti, and Modulation Theory," A John W iley & Sons, Inc., Publication 2002. Parbhakar S. Naidu, ''Sensor array signal processing", CRC Press, 2001.

[26]

[27]

[28]

[29]

[30]

[31]

[32]

[33]

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Appendix A MATLAB code
The digital data can be generated via simulations o r can be obtained via experiments. The beamforming technique utilizes a post-processing procedure, as discussed in 2.2.3. This procedure remains the same fo r either the simulation data o r the experimental data. The M A T L A B code developed at Ryerson University for post processing is given below.

A .l

ULA - far field beamforming

V ariables

f=6500; co= 2 *p i*f; c = 344; d^ =dj=d= 0.02;
V=10;

% frequency o f signal. % radian frequency o f signal. % speed o f sound. % inter-microphorie distance. % number o f microphones. % total number o f data points per mic. % number o f non-overlapping blocks. % number o f data points per blocks. % sampling rate. % scaling factor to noise. % spacing between sampling points. % time fo r M samples. % time fo r M *N samples. % noise generation.

ML= 1024*1;
L -1 ;

M=MUL\ SR=A*f\
5=40; A t= l/(5/?); r= (0 :(M -l))* At; tl= (0 :(M *A O )* At; noise=5.*randn (size (tl)); A coustic source p o sition ^0; A = (ty *t/*sin(6D)/(c);

% source position. % time delay per microphone.

G eneration o f sim u la tio n (d ig ita l ) d a ta ^ fo r n = 1:A d a ta (n ,[l:M L ]) =sin(ty *t-(n -l)*A )-f-n o is e (:,[((n -l)*M L -l-l):n *M L ]); end

© This step is omitted for the experimental data.

146

Reproduced with permission o f the copyright owner. Further reproduction prohibited without permission.

y

Cross Spectral M a tr ix FG1 fo r n = 1:N fo r e = 1:M:ML Ye(n,[e;e+M -1]) = fft(d a ta (n ,[e ;e + M -l])); end end M _new = M /2 ; j= ] ; h = l; fo r n - V.N r = 1; Conj_Ye = conj(Y e(n,:)); fo r e = 1\N

% EFT

;ach .tcrophone.

Gij(l,:) = Conj_Ye.*Ye(e,:);
totale 1:M) = zeros; fo r 5 = 1\M\ML test=Gij( 1, [s:s+ML- 1]); total = total+test; end G (m ,[r:r+ M _ n e w -]]) = [l/( L * M * M /2 ) ]* to ta l( l,[l:M /2 ]) ; r = r+M _new; end end

Steering vector and array power for each frequency bin
fo r 6=1:512

ry=2*pi*(e-l)/(M *A 0; k =e:M_new:A/*M_new; G, =(l/(/V*AO)*G(:,A:);
j= l: q=l ; fo r 61 ® = -1.5:0.01:1.5 fo r x=l:A^ E (x,:)= exp(i* *< i*(x-l)*sin (0 1 )/c); end P ,= E '*G ^.*E ; Q=abs(P^ );

% CSM fo r the kth frequency bin.

% possible source locations.
% steering vector. % A rray power fo r Ath frequency bin. % A rray power in absolute value. % A rray pow er values fo r all bins.

z(i.e)=((Q)); j= j+ i; end end

©

The possible source localization grid can be changed from a coarse to a fine grid.

147

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Sound pressure level (SPL) spectrum
0=1

F(o,;)=uiax(z); % max. value o f array power/bin. 0 = 0 + 1; fk = (0 :(M /2 -l))/(M * A t); % frequency bins. plot (fk, 1O*log 10(F /(2* 10 ^-5)^2 )); % SPL (dB) versus frequency (Hz). xlabel('Frequency[Hz]'),ylabel('Sound pressure level [dB ]'); axis ([0 4 *f/2 0 100])

Beamforming map (Array power vs. possible source locations)
fo r &=1:512 ER= max(max(z(A:;Â:))); z l = 10*logl0(z(;,[Â::fc])/ER); 01=-1.5:O.O1:1.5; p lo t(0 1 ,z l); axis([-1.5 1.5 -40 0]) pause; xlabel('Theta(radians)'),ylabel('Array Power(dB)') end

% array power values fo r kth bin.

% array power plot for Idh bin.

Search technique
theta=-1.5:0.01 :-0.5; B l= m a x (z l ([1:100],:)); theta=-0.5:0.01:0.5; B 2=m ax(zl([1 01:200],:)); theta=0.5:0.01:1.5; B 3=m ax(zl([2 01:301],:)); B1>B2 th e ta = -l.5:0.01:-!; B4=m ax(zl ([1 :50],:)); display(B4); theta=-l:0.01 :-0.5; B 5= m ax(zl([5 1:1 00],:)); display(B5); B2>B1 theta=-0.5:0.01:0; B6=m ax(zl ([101:150],:)); dispiay(B6); theta=0:0.01:0.5;

148

Reproduced with permission of the copyright owner. Further reproduction prohibited w ithout permission.

B7=m ax(zl ([151 ;200],;)); display(B7); B2>B3 theta=-0.5:0.01;0; B 8=m ax(zl([101:150],:)); display(B8); theta=0:0.01:0.5; B 9 = m a x (z l([1 5 1:200],:)); display(B9); B3>B2 theta=0.5:0.01:l; B]G =m ax(zl ([201:250],:)); display(BlO); theta=l:0.01:1.5; B ll= m a x (z l([2 5 1 ;3 0 1 ],:)); display(B l 1); B1>B3 th e ta = -l.5:0.01 :- l; B 12=m ax(zl ([1 :50],:)); display(B12); theta=-l:0.01:-0.5; B 13= m ax(zl([51:100],:)); display(B13); B3>B1 theta=0.5:0.01:l; B14=m ax(zl ([201:250],;)); display(B14); theta=l :0.01:1.5; B15=m ax(zl ([251:301 ],:)); display(B15); The maximum value out o f B4, B 5 ... B15 w ill determine the location o f the acoustic source. Suppose B4 is the maximum, then display B 4= ( z l( [l;5 0 ],:) ) and theta=-1.5:0.01;-l. To determine the source location match the maximum value o f B 4 (array power) w ith

corresponding theta (D O A ). This search technique wiU calculate the source position w ith an accuracy o f 0.01 radians.

149

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

A .2

U L A , U P A a nd R a n d o m a rra y - near-field b e a m fo rm in g

V ariables f=6500; (ü= 2 *p i*f; c = 344; d, =^dj=d= 0.02;

% frequency o f signal. % radian frequency o f signal. % speed o f sound. % inter-micro phone distance. % number o f microphones. % total number o f data points per mic. % number o f non-overlapping blocks. % number o f data points per blocks. % sampling rate. % scaling factor to noise. % spacing between sampling points. % time for M samples. % time fo r M *N samples. % noise generation.

V=10; M L = 1024*1; L = l; M=MUL\ SR=An\ 5=40; A t= l/(5 i? ); r= (0 :(M -l))* Ar; r1= (0 :(M *N ))* Ar; noise=5.*randn (size(rl));
A coustic source position X = 0; Y=0; Z=5;

M icro p h o n e positions fo r a u n ifo rm p la n a r a rra y ( U P A l^ t = 1; xVal = (4 -l)/2 * J ;-rf:-(4 -l)/2 * (i; yVal = (4 -l)/2 * d :-d :-(4 -l)/2 * d ; fo r index = 1:4 fo r index2 = 1;4 m ic L o c (t,l) = xV a l(l,ind ex); micLoc(t,2) = yV al(l,index2); t=t4-1; end end m icLoc(:,3)=0; M icro p h o n e positions fo r a u n ifo rm lin e a r a rra y (U L A ) micLoc = {-d*{N-\)l2:d\d*{N-\)l2]'-, m ic L o c ([l:V ],2 ) = 0; m icL o c([l :V],3) = 0;

© This denotes the microphone positions for a uniform square array of 4 x 4 and will change with array geometry, e.g., uniform rectangular array, cross array or random array.

150

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Distance between various microphones and acoustic source ( j?,,
fo r index = 1:N R l(l,in d e x ) = sqrt((m icLoc(index,l)-X )''2+(m icLoc(index,2)-Y )'^2+ (m icLoc(index,3)-Z)^2); end

Simulation data generation for a ULA and a U PA ^
f= (0 :(M -l))* A t ; n ew ln d= l; for index = 1:N data(index,:) = ( 1/Rl (1 ,index))*sin( û) * (t-R l (1 ,index)/c))+noise(l ,[new Ind:index*M L]); newind = in d e x*M L + l ; end

Cross Spectral Matrix TGI for n = \:N fo r e = 1:M:ML
Ye(n,[e;e+M -1]) = fft(d a îa (n ,[e :e + M -l])); end end M jnew = M /2; j= i; h = l; for n = 1\N r = 1; Conj_Ye = conj(Ye(n,:)); for e = I \N G ij(],0 = Conj_Ye.*Ye(e,:); to ta l(l;M ) = zeros; fo r 5 = l:M\ML test=Gij( 1, [j: j'+ M L -1]) ; total = total+test; end G (m ,[r.r+ M _ n e w -I]) = [ l/ ( L * M * M / 2 ) ]* t o ta l( l, [l :M /2]); r - r+M_new; end end end % FFT o f each microphone.

© This step is omitted for the experimental data.

4=
M

I t

151

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Steering vector and array power for each frequency bin (UPA and Random array)^ C Ù=2*pT*(e-1)l{M*à.t) ; k =e:M_new:A^*M_new; G, =(1/(N *N ))* G
j= I ; % grid distance along the z-axis.

% C SM for the fcth frequency bin. % source localization along the x-axis. % source localization along the y-axis.

j-- G
for X l = - 1.0:0.1:1.0® fo r Y l = - 1.0:0.1:1.0® h = l; Rs = s q r t ( X r 2 + Y r 2 + Z r 2 ) ; for-index-=^W V----------------------R 11(1,index) = sqrt((m icL o c(in d e x,l)-X l)'^2 + (m icL o c(in d e x,2 )-Y l)^2 + (m icL o c(in d e x,3 )-Z l)^2 ); T i l (1 ,index)=(Rs-Rl 1(1 ,index))/c; End E (h ,:)= (R l 1/Rs).*exp(i* o) * ( T 1 1)); % steering vector. h= h+ l ; Pf. = E '* Gf. *E ; % array power fo r ^ h bin. Q=abs( ); z(j,e)=((Q )); end end

% array power in absolute value. % A rray pow er values fo r all bins.

Sound pressure level (SPL) spectrum
0 = 1;

F(o,:)=max(p);
0 = 0+1 ;

% max. value o f array power/bin.

% frequency bins. fk = (0 :(M /2 -l))/(M * A t) % SPL (dB) versus frequency (Hz). plot(fk, 10 *lo g l 0 ((F )/(2 * 10^-5)^2)); axis([0 6000 0 100]) xlabel('Frequency[Hz]'), ylabel('Sound pressure level[dB ]')

Beamforming map (Array power vs. possible source locations)
X l= [-0 .5 :0 .0 2 :0 .5 ];Y l= [-0 .5 :0 .0 2 :0 .5 ]; R= zeros(length(Y l), le n g th (X l));

0 For ULA, the possible source locations can be changed to z = 0, x = -1.0:0.02:1.0, y = 0.01:0.02:1.1, if the x-y plane is the localization plane; also, the area of localization can be changed, e.g., -0.5 to 0.5 along the x-axis and 0.01 to 2.1 along the y-axis. ® These denotes the possible locations of the source in the grid plane and can be varied in selected increments, e.g., 0.1, for a coarse grid, 0.01 for a fine grid.

152

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Beamforming map (Array power vs. possible source locations')
X1=[-0.5:0.02;0.5];Y 1=[-0.5;0.02:0.5]; R= zeros(length(Y l), le n g th (X l)); X X = re p m a t(X ,[le n g th (Y l) 1]); Y Y = re p m a t(Y ',[l le n g th (X l)]); k = l; fo r k = l:5 1 2 R =reshape(10*logl0(p(:,[k:k])/E R ),51,51); % array power fo r kth frequency bin. surf(X X ,Y Y ,R ) % array power versus D O A fo r kth bin. axis([-l 1 -1 1 -40 0]) shading interp xlabel('X(m)'), ylabel(Y (m )'), zlabel('Array Power (dB)') pause end

Search technique
The search technique can be applied to the beamforming maps (plots o f the array power along the x-axis and array power along the y-axis) in a similar fashion to that discussed in the last section (A. 1), and the acoustic source location can be determined w ith an accuracy o f

0.01m.

153

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Appendix B Validation of MATLAB code
B .l Background details
The response o f the delay and sum beamformer to a monochromatic wave is often called the array pattern [2]. I t is also referred to as the theoretical response. The array pattern, which corresponds to the wavenumber-frequency response o f a spatio-temporal filter, determines the array directivity characteristics [2], It may be used in practice fo r evaluating array designs fo r far field and near field beamforming applications [1], The array pattern varies according to the source location (near field or far field) and according to the array geometry. The different array patterns for different array geometries and source locations (far field and near field) are discussed below.

B.1.1

Array pattern for ULA - far field beamforming
Consider a U L A containing N microphones and an acoustic (point) source located in the far

field, as shown in the Figure B . l. The acoustic signal travels at the speed o f sound, c, and the microphone spacing is d. The direction perpendicular to the array is called broadside. The direction o f arrival (D O A ) is measured w ith respect to broadside. Let 6 be the D O A o f the source. The first microphone is the reference microphone and the time delay is zero fo r this microphone. The time delay at the 2"^ microphone is = < isin ^/c,a n d the delays at the other

microphones are multiples o f A j , for example, the delays at the 3'^'* and 4'*' microphone are 2 and 3 A%, respectively. I f s{t) is the acoustic signal emanating from the source, the output o f the first microphone is y ,(r) = s{t ) , the output o f the second microphone is the nth microphone is given as: (0 =

~ Ag), and so on. The output o f

y,X^) =

( B .l)

154

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The Fourier Transform (FT) o f the output o f the nth microphone is given as:

-cc

=

--A ,,)e xp .(-i2 ;^z`)£/?

Plane wavefront, s(t)

A coustic source Broadside

(reference m ic.)

(Microphones outputs) Figure B .l : U n ifo rm Linear A rra y w ith a far fie ld source.

W ith Y = t --A,, so that dt - d f , + 0 C

7 ,, ( t y ) = J s ( t * ) e x p ( / 2 ; ^ ( / `+ A ,, ) c ? / *

= e x p .(-z 2 ;^ ,,) ^ s {f)Q X ç{-i2 7 ft*)d t'' = e xp (-z 2 ;^,,)5 '(â > ) (B.2)

Since JT), = 1 fo r a fa r-fie ld source, the output signal o f the microphone array, z(t), is given as:

155

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The FT of the output o f the microphone array, z ( 0 , is given as:

.

Z y . , ( 0 e xp {-2 zrf t)d t « s = l

« = 1

N
N =l
N

% )e x p (-f2 ;ÿ A J /i=i The array pattern (function) is defined as: Z (tu )_ J ] e x p ( - 2 ; r /A ,, ) . (B.3)

It can be shown that equation (B.3) reduces to: . sm (N * k.* d /2 ) H{cd) = -- --------!--------- N **s\a{k^ s in (^ * j / 2 ) where (B.4)

N - number o f microphones d = distance between microphones k^ = 2.7^ sin ^ / c = A : sin ^
Equation (B.4) shows that the response is maximum (1.0) only fo r broadside (0 =0), so that /c, = 0 . However, when a time delay is added to the microphone output before summation (array steering), the array can be steered in any direction [32]. Therefore, the array pattern can be modified to the steered array pattern as given below:

H{CO) =
where.

s in ( M ,,r //2 ) Nsin(A:| ^rZ/2)

(B.5)

/C |, = 2 ; ^ ( s in 6 '- s in ^ |) / c ; (9 , = th e steered D O A , radians

156

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The array can be steered towards

and the array response is maximum when 6 - 9 ^ . This is

illustrated by the follow ing two examples, based on equation (B.5). (i) U L A w ith 7V=20; d= 2 cm; an acoustic source w i t h / - 8000 Hz, located at 51= 0 radians. (ii) U L A w ith N=20\ d-- 2 cm; an acoustic source w ith / - 8000 Hz, located at 0= 0.5 radians. The results are shown in Figures B.2. The results o f a U L A w ith a far field source for A^=10 and N=50 are shown in Figure B.3. These results establish that the array dynamic range remains constant at 13 dB when the array aperture exceeds a certain value.

-10

-10

·3 5
·0.5

O.S

-40

- 1.5

-O.S

0 .5

(i) (U) Figure B.2: Theoretical beamforming results fo r a U L A , far field beamforming, N-2Q-, (i) Array pattern (dB) vs. D O A fo r 9= 0 radians. (ii) A rray pattern (dB) vs. D O A fo r 9= 0.5 radians.

-5 -10

-15 g^-20

-3 0 -3 5 -40

-1.5

-0

.5 T h o la (r a d ts n s )

0 .5

Figure B.3: Theoretical beamforming results fo r a U L A , far field beamforming, fo r 9= 0 radians, Ai=10 and A^=50.

157

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

B.1.2

Array pattern for UPA- far field beamforming
along

Consider a uniform rectangular array having N , microphones along the x-axis and

the y-axis, as shown in Figure B.S.The inter-microphone distances between microphones along the x-axis and the y-axis are and , respectively. An acoustic source is placed in the far field

and the plane wave reaches the microphone array at an azimuth angle 0 and at an elevation angle

% as shown in Figure B.4.
The array pattern fo r the uniform planar array is a simple extension o f the array pattern o f a U L A . So the array pattern for the U P A can be calculated as the product o f the array patterns o f two U L A ' s along the x-axis and the y-axis. The U P A can be steered in both the azimuth direction and the elevation direction by compensating fo r the appropriate delay pertaining to each microphone. The time delay fo r the ( n , , n^) microphone is given below [32]: A ,, | ,, 2 = /z,d, sin cpcosdIc + n-^djSm (psm Ole The array pattern fo r a U P A (rectangular geometry) is given as; sin( A i(u )d | 72)

)=

?\n{N^{y)d^l2)
A , sin(vd2/2)

N^ sin(wJ| /2 )

where, M = ûJsin ^ c o s ^ /c ; and v = cosm cps'm 0 1c\ c û -- I k /; A, = Number o f microphones along the x-axis,
# 2

= Number o f microphones along the y-axis.

When the microphone array is steered along 0^ and cp^, the steered array pattern is: sin( iV| (n -U |)d , /2 sin(M In this expression. = a s m (p^ cos and where, respectively. / c; /2 s in (A 2 (v -V |)d i /2 )
At2sin(v-v,)<i,/2

(B.6)

V , = tysin (p^ sin 9^ ! c\

and < 9 , are the azimuth and the elevation angles fo r the steered D O A o f the signal

158

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Acoustic source

n

Figure B.4; U n ifo rm rectangular array w ith a far fie ld source. The performance o f the array pattern fo r the U P A can be illustrated b y the fo llo w in g examples based on equation (B.6). (i) U P A w ith A , = iV2=7 (i.e., a square grid o f 7 x 7=49); d^ = d^= 0.02 m ; and an acoustic source w ith /= 8 0 0 0 Hz, located at (p= 0.5 radians and 6* =0.5 radians. (ii) U P A w ith N^--N-^=l (i.e., a square grid o f 7 x 7=49); d ^ -d ^ ~ 0.02 source w ith /= 8 0 0 0 Hz, located at The results are shown in Figure B.5. 0.75 radians and 6 = \ radians. m ; and an acoustic

159

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

0. 9
00.8

^-0 .7 .
- 0.6

·0 .5

T h B ti(n d .)

Ph i(t« d.) Ph!(rad.)

0.9 § fo .8
· 0.6

-0 .5 '0 4

P h K r a d .)

0 .5 Phi(i»i)

J

(ii)(b) Figure B.5; Theoretical beamforming results fo r UPA, far field beamforming: N^ = N^=1\ (i)(a) A rray pattern (magnitude) vs. D O A for (p=Q.5 radians and ^ 0 . 5 radians, 3D plot. (i)(b) A rray pattern (magnitude) vs. D O A for ç?=0.5 radians and g=0.5 radians, 2D plot. (ii)(a) A rray pattern (magnitude) vs. D O A for (p=0.15 radians and ^ 1 . 0 radians, 3D plot. (ii)(b) A rray pattern (magnitude) vs. D O A for (p=0.15 radians and ^ 1 . 0 radians, 2D plot.

B.1.3

A r r a y p a tte rn fo r U L A and U P A - near fie ld bea m form ing

The array pattern fo r a near field situation is common to both the U L A and the UPA. The relevant equation is given below [2];

W { k ,x ,x ) =

(-- ) exp( ik [(/- - r,, ) - ( /  ' - r',,)])

(B.7)

where x and x denote the assumed and actual locations o f the point source, r (r) is the distance from the array center to the assumed (actual) source location, and r ,,(/-,,) is the distance from the 72th microphone to the assumed (actual) source location. The array pattern based on (B.7) fo r the U L A and the U P A are illustrated by the follow ing two examples.

160

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

(i) U L A w ith N=2A\ d=0.051 m; an acoustic source w i t h / =3000 Hz, located at X = 0 m; Y = 0.5 m and at X = 0.3 m ,Y = 0.7 n, (ii) U PA w ith = =5; (square array o f 5 x 5); d ^ --d^ = d = 0 .0 2 m; an acoustic source

w i t h / =8000Hz, located at X = 0 m; Y = Om; Z = 0.5 m; and at X = 0 m, Y = 0 m, Z = 0.75 m; The results are shown in Figures B.6 and B.7.

X(m)

(0 (b )

(0(c)

(0 (d )

Figure B.6; Theoretical beamforming results for a U L A , near field beamforming: Y=24; (0(a) A rray Pattern (mag.) vs X (m) & Y (m) at X==0 m ; Y=0.5 m, 3D plot. (i)(b) A rray Pattern (mag.) vs X (m) & Y (m) u X==0 m; Y=0.5 m, 2D plot. (0(c) A rray Pattern (mag.) vs X (m) & Y (m) at x==0.3 m; Y=0.7 m, 3D plot. (0(d) A rray Pattern (mag.) vs X (m) & Y (m) at x==0.3 m; Y=0.7 m, 2D plot.

161

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.



;v>-35

 08  ·ID 0.B 0.4 0.2 --30 I 0 ·0.2 0.4 -0.6 ·0.8

(ii)(c)
Figure B.7: Theoretical beamforming (ii)(a) A rray Pattern (mag.) vs X (m) (ii)(b) Array Pattern (mag.) vs X (m) (ii)(c) Array Pattern (mag.) vs X (m) (ii)(d) Array Pattern (mag.) vs X (m)

(ii)(d)
results fo r a U P A , near field beamforming: 77=25; & Y (m) at X = 0 m; Y = 0.0 m, Z=0.5 m, 3D plot. & Y (m) at X = 0 m; Y =0.0 m, Z=0.5 m, 2D plot. & Y (m) at X = 0 m; Y = 0.0 m, Z=0.75 m, 3D plot. & Y (m) at X = 0 m; Y =0.0 m, Z=0.75 m, 2D plot.

These examples indicate that the array pattern can be used to determine optim um array designs fo r beamforming applications [1]. Plots o f array power fo r a U L A w ith a near field source at (0.0, 0 5) m fo r 77=8 and 77=24 are shown in Figure B.8. These results show that the dynamic range along the x-axis decreases as the number o f microphones increases.

162

I Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

%

·10

0 .1 X ( m )

0 .2

0 .3

0 .4

0 .5

0 .5

07

0 .6

0 .9

(a) (b) Figure B.8: Theoretical beamforming results for a U L A , near field beamforming w ith source at (0.0, 0.5) m and N = id> & N=24; (a) array power along the x-axis (b) array power along the y-axis.

B.2

Validation of beamforming MATLAB code
Validation o f the M A T L A B code for the beamforming technique developed at Ryerson

University (given in Appendix A ) is essential before using it fo r the simulation and experimental data. The validation involves the follow ing: (i) Comparison between the theoretical array pattern fo r a far field U L A and the corresponding (numerical) simulation beamforming maps. (ii) Determination o f the spectrum o f a far field source signal.

B.2.1

Comparison between theoretical and simulation results

The follow ing two 2 situations were examined w ith simulation data and the M A T L A B code. N ote that the source and microphone parameters are the same as those used for the theoretical array pattern (subsection B.1.1). (i) ULA w ith

JV=20; d=2 cm; L=1 ; M =1024; SR=4f; and an acoustic source with
0 radians.

/= 8 0 0 0 Hz, located at ^ (ii) ULA w ith N=20;

d=2 cm; L = l; M =1024; SR=4f, and an acoustic source with

/= 8 0 0 0 Hz, located at 0= 0.5 radians. The results are shown in Figures B.9. It is evident that Figures B.9 (i) and B.9 (ii) are identical to Figures B.2 (i) and B .2 (ii) respectively. This verifies that the M A T L A B code is correct w ith respect to determination o f the source location.

163

. Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

r-is
-20 1.-25

4 0

-1 5

0 .5

· 4 0 ·1 .5

1 :5

(i) (ii) Figure B.9: Simulation beamforming simulation results fo r a U L A , far field beamforming, N=20; (i) A rray power (dB) vs. D O A fo r &= 0 radians (ii) A rray power (dB) vs. D O A for & = 0.5 radians. B.2.2 D e te rm in a tio n o f the spectrum o f the source signal

The spectrum o f a source signal in the form o f a sine wave w ith an integer number o f cycles is determined first by means o f a single microphone and then by means o f a microphone array. B.2.2.1 S pectrum via one m icrophone

Consider an acoustic source radiating a sine wave signal, s(l), w ith an amplitude A = l, i.e.,

s(t) = sin(27ft).
The mean square value o f this signal is given by. / o r in decibels, i'^(i/B ) = lOlogio = A " / 2 = 0.5,

-~ 3 d B .

In the case o f a sine, wave o f duration T containing an integer number o f cycles, the period o f the sine wave is related to T as follows:

where

T= signal duration, s
=1.T = period o f sine wave, s and I is an integer, i.e.. /= 1, 2, 3 ...

164

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The digital version o f s(t) is generated as follows. ^[m ] = s(mAt)
=
s m f l T f m à t )

= sm{2mnAt ITp) = sm {2m nA tlIT ),
W ith M being the total number o f digital signal values, m = l,2 ,

M =T I At.
Hence,

s[tn] = sm(27!mAtI IM At)
~ s \ n { 2 m i l I M ) ,

where since This relationship is illustrated below.

I =T

= M A tf = M f ISR,

SR = \I At.

For /= 5 0 0 Hz, M = 16, and SR= 2000 Hz, it follows that 7=500*16/2000 = 4 i.e., the generated sine wave has (exactly) 4 cycles. A single microphone detecting .s(t)= sin (2 ;^) w ill yield a spectrum consisting o f a single spike located at / , w ith a height o f 0.5, representing contains an integer number o f cycles. The simulation was carried out using the follow ing parameters; /= 5 0 Hz; A7=64; SR=200 Hz. The plots o f the s(t) and its spectrum are presented in the Figure B.IO . It can be seen that the spectrum does in fact consists o f a single spike w ith a height o f 0.5, as required. , providing that T, the duration o f s(t),

S
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1

0
1

0

0.02

0.04

0.06

0.08
T im e (s e c .)

0.1

0.12

0.14

0.16

0

10

20

30

40

50

60

70

80

90

100

Freqiiency(Hz)

Figure B.IO : Plots o f 6(f), and the spectrum o f s(t).

B.2.2.2

Spectrum via microphone array

W ith respect to an array o f N microphones, the sine wave (w ith an integer number o f cycles) w ill be detected by all N microphones. Therefore, the simulation beamforming array power results should display a mainlobe centered at the location o f the acoustic source, with a height o f

-3 dB. Also, the corresponding spectrum should be a spike centered at f with a height o f 0.5.
To verify this point, tw o simulations were run w ith the follow ing parameters: (i) ^(t)= sin {iT tftf, A^=20;/=8000 fiz ; d=2 cm; M = 1024; L = I ; SR= 4f; 6 = 0 rad. (ii) 5(t)= sin { In fty , A^=2G;/=8000 Hz; d=2 cm; M= 1024; L=1 ; SR= 4/; 6= 0.5 rad. The simulation results are illustrated in Figures B .l 1 and B . l 2.These results show that the mean square value o f the sine wave is in fact 0.5, establishing that the M A T L A B code gives the correct spectrum o f an acoustic source. Note that the M A T L A B code can be validated in a similar way fo r other array geometries (e.g., the U P A ) w ith both far-field and near-field source locations.

166

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

-s
-3 d B
1 0

-3 Q

40

-0 .5

Theta(radians)

(i)

-3

dB

,

Q_ t= -25
·3 0 ·3 5 -4 0

- 1 .5

-0 .5

0 .5

1 .5

Th©ta(radians)

(ii) Figure B . l 1: Simulation array power results obtained using M A T L A B code; (i) ^ = 0 radians (ii) 0 - 0.5 radians.

167

/I
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

0 .7 r -

.

0,6
0 .5

e

& P .4 i ' g ::

0.2

0 .1

D.

2000

4000

6000

8000

10O O O

12000

14000

16000

Fr©quency[Hz]

(i)

E

0 .5

O

2000

4000

6000

8000

1 0O O O

12000

14000

16000

F r©q u© ncy [Hz]

(ii) Figure B.12; Simulation spectrum results obtained using M A T L A B code; (i) ^ = 0 radians and (ii) 6= 0.5 radians.

168

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Appendix C Signal-to-noise ratio (SNR) of a microphone array
W hen an array o f microphones is affected by noise that is statistically independent among the various microphones, the SNR o f the array exceeds that o f a single microphone by a factor equal to the number o f microphones. This can be shown as follows. Consider an array o f N microphones. The output signal o f the nth microphone is given by: (0 = -yW + «,, ( 0 where s{t) is the source signal and n ,, ( 0

11= 1, 2, 3... N,

is the statistically independent noise signal affecting

the nth microphone. Hence, the cross correlation between s{t) and n ,, (t) is zero, i.e., (^) = 0, where x is the time delay between the source signal s(t) and the noise signal n ,,(t) at the nth microphone. It can be assumed that the noise signals have the same auto-spectrum and auto-correlation functions, i.e.,

and, ^«1 (^) -- (^) -- " -- ^,1 (^)

Also, the noise signals are uncorrelated, i.e.,

M

= 0, fo r i

Hence, the energy or mean square value o f y,,{t) is given by;
2 2 2

The signal-to-noise ratio o f a single microphone is given by:

SNRo = mean square value o f signal/ mean square value o f noise
"
ct/

169

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The array signal is given by;

n=i

This has the follow ing mean square value

^t(i) '
Thus, the signal-to-noise ratio fo r the array is given by: SNR: W(T. '

=N

O'.
y

I.e., SNR = U (SNRo)

170

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

