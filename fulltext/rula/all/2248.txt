OSPF FOR WIRELESS MESH BACKBONE NETWORK
by AH Mohsen Alwan B.Sc. in Computer Engineering University of Technology, Iraq, 1991

A thesis presented to Ryerson University to the in partial fulfillment of the requirements for the degree of Master of Applied Science in the Program of Computer Networks

Toronto, Ontario, Canada, 2006 ©Ali Mohsen Alwan 2006

PROPERTY OF RYERSON UNIVERSITY LIBRARY

UMI Number: EC53476

INFORMATION TO USERS

The quality of this reproduction is dépendent upon the quality of the copy submitted. Broken or indistinct print, colored or poor quality illustrations and photographs, print bleed-through, substandard margins, and improper alignment can adversely affect reproduction. In the unlikely event that the author did not send a complete manuscript and there are missing pages, these will be noted. Also, if unauthorized copyright material had to be removed, a note will indicate the deletion.

UMI
UMI Microform EC53476 Copyright2009 by ProQuest LLC All rights reserved. This microform edition is protected against unauthorized copying under Title 17, United States Code.

ProQuest LLC 789 East Eisenhower Parkway P.O. Box 1346 Ann Arbor, Ml 48106-1346

Author's Declaration I hereby declare that I am the sole author of this thesis. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research.

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

u

Abstract
Ali Mohsen Alwan, OSPF for Wireless Mesh Backbone Network. M.A.Sc., Computer Networks, Ryerson University, 2006.

Wireless m esh network (WMN) is popular for providing decentralized and relatively inexpensive Internet access, especially in Community network and geographically challenged areas of deployment. In this thesis, we proposed using OSPF as the underlying routing protocol in the Wireless Mesh Backbone (WMB) network. We investigated the convergence and configuration issues of OSPF in WMB network. We evaluated the performance of OSPF and compared with AODV (reactive ad hoc protocol) and OLSR (proactive ad hoc protocol). We proposed using multiple subinterfaces under a single physical wireless interface in configuring multiple subnets to deal with the hidden nodes problem in WMB networks. We also proposed using the BGP protocol to interconnect multiple OSPF areas for the sub-urban topology. The performance of this approach in term s of convergence time was studied.

Ill

Acknowledgements
I am grateful to my supervisor, Dr. M uhammad Jaseem uddin, for his guidance and assistance throughout this research. The suggestions and ideas Dr. Jaseem uddin raised during our meetings were highly beneficial and very m uch appreciated. Also I would like to th an k Dr. Bobby Ma for his advice and support. Finally, I w ant to give my gratitude to my family my mother, father, sister, brother and to my friends, for their support and encouragement.

IV

Content
Abstract............................................................................................................................. iii Acknowledgements............................................................................................................iv Content................................................................................................................................v List of Figures................................................ vii Description............................................................................................................vii Description.......................... viii List of Tables.....................................................................................................................ix List of Appendices..............................................................................................................x Chapter One - Introduction............................................................................................. 1 Chapter Two - Literature Review...................................................................................5 2.1 Mesh Access.............................................................................................................6 2.2 WMN Types..............................................................................................................8 2.2.1 Inffastructure/Mesh Backbone WMN................................................................ 8 2.2.2 Client WMN..................................................................................................... 10 2.2.3 Hybrid WMN................................................................................................... 10 2.3 Routing protocols................................................................................. 12 Chapter Three - Proposed Solutions............................................................................ 16 3.1 Single physical wireless interface........................................................................... 16 3.2 Comparison Between AODV, OLSR and OSPF for Backbone Routing................18 3.2.1 Network Convergence Time............................................................................ 18 3.2.2 Comparison scenarios between AODV, OSPF and OLSR.................................. 23 3.2.3 AODV Response Time and Overhead.............................................................24 3.2.4 OSPF Response Time and Overhead...............................................................26 3.2.5 OLSR Response Time and Overhead..............................................................27 3.2.6 Performance under heavily loaded network.................................................... 29 3.3 Effect of Power on Network Convergence duration Of OSPF............................... 32 3.4 Why choosing BGP over OSPF alone for multiple areas....................................... 33 Chapter Four - Simulation and Results.......................................................................36 4.1 The Effect of Power on OSPF Convergence Time................................................. 36 4.1.1 Campus Network.............................................................................................36 4.1.1.1 Single OSPF Area.....................................................................................36 4.1.1.2 Campus Network - Multiple OSPF Areas................................................ 40 4.1.2 Bloor Street Network.......................................................................................44 4.1.2.1 Single Area....................................................................................................44 4.1.2.2 OSPF and BGP protocol...............................................................................45 4.2.2.1 Transmission power of 5 mW...................................................................45 4.2.2.2 Transmission power of 50 mW................................................................. 46 4.2 Integrating BGP with OSPF in suburban topology................................................. 46 4.2.1 Finding best BGP starttip time......................................................................... 50 4.2.2 Applying best BGP startup time...................................................................... 50 4.2.2.1 18-routers scenario................................................................................... 50 4.2.2.2 24-routers scenario....................................................................................51 4.2.3 Conclusion ..............................................................................................53 Chapter Five.................................................................................................................... 56

Conclusion.................................................................................................................... 56 Bibliography ...................................... 58 Appendix A - Acronyms used in this thesis.................................................................. 60 Appendix B - Scenarios configuration.................................................... 61 B.l AODV scenario Configuration............................................................................... 61 B.2 OSPF scenario configuration................................................................................. 62 B.3 OLSR scenario configuration..................................... 62 Appendix C - Bit E rror rate in OpNet simulator............................................... 63

VI

List of Figures
Figure No. Figure 1-1 Figure 1-2 Figure 2-1 Figure 2-2 Figure 2-3 Figure 2-4 Figure 2-5 Figure 3-1 Figure 3-2 Figure 3-3 Figure 3-4 Figure 3-5 Figure 3-6 Figure 3-7 Figure 3-8 Figure 3-9 Figure 3-10 Figure 3-11 Figure 3-12 Figure 3-13 Figure 3-14 Figure 3-15 Figure 3-16 Figure 3-17 Figure 3-18 Figure 3-19 Figure 4-1 Figure 4-2 Figure 4-3 Figure 4-4 Figure 4-5 Figure 4-6 Figure 4-7 Figure 4-8 Figure 4-9 Figure 4-10 Figure 4-11 Figure 4-12 Figure 4-13 Description Wireless mesh network Backbone wireless mesh routers Access point providing communication to Mobile nodes tointernet Multiple access point providing internet connectivity Infrastructure mesh router architecture Peer-to-peer wireless network Infrastructure and peer-to-peer wireless connectivity Transmission Range Diagram Subinterface configuration on single wireless interface 12 routers Bloor Street scenario (suburban topology) 12-router topology 12 routers AODV scenario AODV control traffic in all scenarios Average ping response time for AODV scenario OSPF control traffic OSPF average response time OLSR control traffic OSLR average response time 12 wireless routers and 8 wireless nodes Traffic Overhead (control traffic) for AODV, OSPF and OLSR Comparing number of replies received at node Ofor AODV, OSPF and OLSR Comparing Average response time received at node Ofor AODV, OSPF and OLSR Long Street topology (Bloor Street) Integrating BGP with OSPF in Bloor topology OSPF and BGP starting at the same time Starting OSPF and BGP at different times Wireless Router sets in OPNet simulation Campus Topology single area- Routers subinterface configuration Convergence events - Campus topology ImW Single Area Campus Topology Single area - Router D: No. of LSAs received LSA updates in Router D OSPF Database - Single Area Campus Single area - path between router C & F Campus Topology Multi area- Routers subinterface configuration Convergence events - Campus topology ImW Multi Area Campus Topology Multi area - Router D: No. of LSAs received LSA updates in Router D OSPF Database - Multi Area Campus Multi area - path between router C & F 12 routers Bloor Street Topology --One OSPF Area 12 routers Bloor Street Topology-Three OSPF Area with BGP Page No. 1 2 7 8 9 10 11 17 17 21 23 24 25 26 26 27 28 29 30 30 31 31 33 33 34 34 37 37 38 38 39 40 41 41 42 43 43 45 45

vu

Figure No. Figure 4-14 Figure 4-15 Figure 4-16 Figure 4-17 Figure 4-18 Figure 4-19 Figure 4-20 Figure 4-21 Figure 4-22 Figure 4-23 Figure 4-24 Figure 4-25 Figure 4-26 Figure 4-27 Figure B-1 Figure B-2 Figure B-3

Description 12 routers Bloor Street Topology-Two OSPF Areas with BGP 18 routers Bloor Street Topology-Two OSPF Areas with BGP 24 routers Bloor Street Topology - Two OSPF Area with BGP First response time when OSPF and BGP starting at same time First response time --12 router and two OSPF areas with BGP First response time - 12 router and three OSPF areas with BGP First response time -1 8 routers with Best BGP startup time 24 routers Bloor Street Topology - Four OSPF Area with BGP 24 routers Bloor Street Topology-Six OSPF Area with BGP First response time comparison - 24 routers 2D, 3D, 4D and 6D 24 routers Bloor Street Topology - Two OSPF Area with BGP 24 routers Bloor Street Topology - Three OSPF Area with BGP First response time comparison - 24 routers ID, 2D, 3D, 4D and 6D First response time comparison - 12 and 18 routers (2D and 3D) AODV scenario routers IP configurations OSPF scenario routers IP configurations OSLR scenario routers IP configurations

Page No. 46 47 47 48 49 49 51 52 52 52 53 53 54 55 61 62 62

vm

List of Tables
Table No. Description Page no.

Table 4-1

Bloor Street First response time received - 3 Scenarios

48

IX

List of Appendices
Appendix Appendix A Appendix B Appendix C Title Acronyms used in this thesis Scenarios configuration Bit Error Rate in OPNET simulator Page No. 60 61 63

C h ap ter One - In tro d u ctio n
Behind the exponential growth of the Internet technologies evolution is the desire to build a better environment for Internet access with the convenience and flexibility to reach out to communities in u rban areas. This type of Internet access requires a decentralized infrastructure and m ust be relatively inexpensive, reliable and resilient. We observe th a t wireless networking is the m ost attractive trend th a t has been discussed and developed for decades. Internet u sers are no longer sitting in front of desktops. Instead, they are carrying wireless mobile devices. Connecting to the Internet h as become a new phase of network communication. Two major wireless technologies are cellular networks and Wireless Local Area Networks (WLANs). Wireless Mesh Networks (WMNs) is mesh networking implemented over a Wireless LAN. This type of Internet infrastructure is decentralized, relatively inexpensive, veiy reliable and resilient [1] as each node needs only transm it as far as the next node, as shown in figure 1-1, which illustrates a community wireless m esh network. [13].

Figure 1-1: Community wireless m esh network

WMNs

have

been

undergoing

rapid

commercialization

in

many

application scenarios such as broadband home networking, community networking, building autom ation, high-speed metropolitan area networks and enterprise networking. WMN wireless networking solutions are less costly to deploy, wireless cell phone circuits have become popular and the public h as already accepted wireless networks as an alternative to wired. Furtherm ore, WMS h as found popularity due to its effectiveness in challenging geographical regions such as the development project in San Francisco [20]. Figure 1-2 illustrates a typical wireless m esh network with a num ber of Wireless Mesh Routers (WMRs) providing connectivity between the mobile nodes and wired Internet connections.

(

Internet

)

Wi-Fi. W MUIax. Sensor networks, ceUidar networks.

Figure 1-2: Backbone wireless m esh routers Fixed wireless m esh routers form the backbone of WMN. Some of these WMRs are stationed a t the edge of the wireless m esh backbone

connecting the wireless network with the wired network (e.g. Router D in Figure 1-2). Routers like B, C and F in Figure 1-2 are acting as access m esh routers (AMRs) which provide connectivity between wireless clients (mobile nodes) and the wireless m esh backbone network. This in tu rn provides access to the Internet via the wired network (in this case router D is a gateway to internet). There are many factors affecting routing in WMN's including noise, num ber of hops, and interference with other radios. Routing proposals for WMN use some forms of ad-hoc routing with more innovative metrics to reflect wireless link conditions, (e.g. ETX [3] or WCETT [5]). For the purpose of this thesis we focus on routing within the WMN backbone network with fixed WMRs. Four issues were studied: Hidden nodes, which are out of range of other nodes or a collection of nodes. This issue is common in wireless network. We proposed a solution by creating multiple subnets using the subinterfacing configuration [1]. Different routing protocols were studied to select an appropriate one for the WMN backbone. We investigated three routing protocols: AODV, OLSR and OPSF. Our studies showed th a t OPSF is the m ost suitable protocol to use in WMN. We examined factors affecting network convergence in two popular WMN settings (Campus and suburban WMNs). We proposed to deploy the BGP protocol to interconnect OSPF areas for the sub-urban topology. The convergent time of the proposed solution was studied. The remaining four chapters of this thesis are organized in the following order:

Chapter Two contains a review of related work done in various areas related to the thesis and presents the literature th a t was u sed to support the work. In Chapter Three we present solutions for different scenarios in the Wireless Mesh Network. In Chapter Four we present sim ulation and results for our proposed solutions for different scenarios in the Wireless Mesh Network. Chapter Five sum m arizes the thesis and provides a conclusion with future work.

C hapter Two - L iteratu re Review
Recently, Wireless Mesh Networks (WMNs) have become popular because of the fact th at they can be deployed in area of difficult terrain. They are dynamically self-organized and self-configured. In a WMN a num ber of fixed wireless routers form the backbone network, which carries u ser traffic from the source to the destination. The fixed wireless routers are called Wireless Mesh Routers (WMRs). User term inals, called Mobile Nodes (MNs), are connected to WMRs through access links. A major benefit of wireless m esh networks is path diversity, which provides many routes to the destination. In the case th at one of the routers fails or its transm ission p ath is temporarily blocked, other routes can be used. WMN has been the topic for research in the wireless research community in the p ast few years. Microsoft has made a major contribution to WMNs by developing a WMN architecture and implementing in the test environment, and making it available to the research community [13]. Researchers in Microsoft have created wireless technologies th a t allow neighbors to connect their home networks together through the community WMN. There are m any advantages to enabling such connectivity and forming a community m esh network. For example, when enough neighbors cooperate and forward each others packets, they do not need to individually install an Internet "tap" (gateway), b u t instead can share faster, cost-effective Internet access via gateways th a t are distributed in their neighborhood. Packets dynamically find a route, hopping from one neighbor's node to another to reach the Internet through one of these gateways. Another advantage is th a t neighbors can cooperatively deploy backup technology and never have to w ony about losing information due to a catastrophic disk failure. A third advantage is th a t this technology allows localization of communication by connecting

source and destinations within the community through the same community network without going through a service provider and the Internet. Neighborhood community networks allow faster and easier dissem ination of cached information th a t is relevant to the local community. MIT RoofNet team [14] have deployed WMN in real life scenario in their RoofNet project where they have placed many Wireless Mesh Routers in different areas in the city of Cambridge. Roofnet is an experimental 8 0 2 .1 1 b /g m esh network in development a t MIT CSAIL which provides broadband Internet access to u sers in Cambridge. There are currently around 20 active nodes in the network.

2.1 M esh A ccess
A Wireless Access point (WAP) or an Access Point (AP) is a node th a t provides wireless access link to mobile nodes on one side and connecting to backbone network on the other side, where backbone could be Ethernet, wireless, ATM etc and acts as a central transm itter and receiver of WLAN radio signals. Figure 2-1 illustrates a num ber of mobile nodes communicating with an access point th a t provides connectivity to an E thernet backbone network, which in tu rn provides access to Internet. In the Figure doted lines are wireless connectivity and solid line is wired connectivity.

Internet

Figure 2-1: A ccess point providing com m unication to Mobile nodes to in ternet

A Collection of access points

forms m esh

network where they

communicate among each other and with mobile nodes. Although mobile nodes in very small IEEE 802.11 WLANs can function without access points in so-called "ad hoc" or peer-to-peer mode, access points support "infrastructure" mode. The infrastructure mode bridges WLANs with a wired E thernet LAN and also scales the network to support more clients (mobile notes). Figure 2-2 illustrates a num ber of mobile nodes communicate with two access points th a t provide connectivity either to the backbone network or to other mobile nodes by using one of AD-HOC routing protocols such as AODV (Ad-hoc On Demand Vector), DSR (Dynamic Source Routing) and OLSR (Optimized Link State Routing) . An example of the cam pus wireless networks is the one at University of Tennessee developing a large scale wireless network using access points were 1200 access points installed across 15 million square feet using 802.11b [7]

i
A

Figure 2-2: Multiple a cce ss p oin t providing in tern et co n n ectiv ity

2.2 WMN T ypes
A WMN comprises of two types of nodes: m esh routers and m esh clients (mobile nodes). Mesh router contains additional routing functions to support m esh networking, where as conventional routers supports routing capability for gateway/ bridges functions. Mesh router usually equipped with multiple wireless interfaces built on either same or different wireless access technologies. Mesh and conventional routers are usually built based on a similar hardw are platform. Mesh routers are fixed and form m esh backbone for m esh clients [8]. WMN architectures are classified in three types: Infrastructure

/backbone WMN, Client WMN and Hybrid WMNs.

2.2.1 Infrastructure/M esh Backbone WMN
Mesh wireless backbone networks, expand WLAN access beyond traditional hotspot areas, enhancing coverage and offering true seam less mobility. However, as WLANs signal coverage and radio link speed improve, it is conceivable th a t WLAN deployment will inch toward some

enterprises core backbone, eventually turning the enterprise into a truly wireless computing environment. Mesh routers in this architecture form an infrastructure for clients, as shown in figure 2-3, where dashed lines are wireless links and solid lines are wired links. In this architecture various types of radios can be used beside IEEE 802.11 technologies. Mesh routers forms self-configuration and self-healing among themselves, and they connect to Internet by their gateway functionality. This approach also referred to as infrastructure meshing, provides a backbone for conventional clients and enables integration of WMNs with existing wireless network, through gateway/ bridge functionalities in mesh routers. Conventional clients with Ethernet interface can connect to m esh routers via E thernet links. Conventional clients with the same radio technology as m esh routers can directly communicate with m esh routers. Conventional clients with their radio technologies m u st communicate with their base stations th at have E thernet connections to m esh routers.

Internet

ireless'M esJi'SsckbsB ^

h
Figure 2-3: Infrastructure m esh router architecture

Wireless m esh backbone uses a set of wireless routers, which are in tu rn a network device th a t combines a wireless access point (base station), a wired LAN switch and a router with connections to a cable or DSL service. Wireless routers provide a convenient way to connect a small num ber of wired routers and any num ber of wireless com puters to the Internet.

2 .2 .2 Client WMN
Client m eshing is to form a peer-to-peer network among client devices. In this architecture, client nodes perform routing and end configuration functionalities as well as providing end-user applications to customers. Therefore, as shown in Figure 2-4, m esh routers are not needed in this architecture. Client WMNs are usually formed using one type of radio technology on devices. Thus, a Client WMN is actually the same as a conventional ad hoc network.

A A

Figure 2-4: Peer-to-peer w ireless netw ork

2 .2 .3 Hybrid WMN
This architecture is a combination of infrastructure and client meshing, as shown in figure 2-5. Mesh clients can access the network through m esh routers as well as directly m eshing with other m esh clients. While infrastructure provides connectivity to other networks such as the Internet, Wi-Fi, WiMAX, Cellular, and senor networks. The routing

10

capabilities of clients provide improved connectivity and coverage inside WMNs.

Internet

yVirelessNMeslrBackl

W»-Fi.W-Max. Sensor networks, cellular networks.

Figure 2-5: Infrastructure and peer-to-peer w ireless con n ectivity

Hybrid architecture comprises all the advantages of WMN, as outlined below: WMNs support ad hoc networking, and have capability of self-forming, self-healing, and self-organization. WMNs are multi-hop wireless networks, b u t with wireless infrastructure /backbone provided by m esh routers. Mesh routers perform dedicated routing and configuration, which significantly reduces the load of m esh clients and other end nodes. Mobility of end nodes is supported easily through wireless infrastructure. Mesh routers integrate heterogeneous networks, including both wired and wireless. Thus, multiple types of network access exist in WMNs.

11

2.3 R o uting p ro to co ls
In m ultipath routing network traffic is split among two or more possibly disjoint paths in order to reduce latency, improve throughput, and balance traffic loads [6]. Once the control plane establishes multiple routes, a policy is needed for efficiently splitting traffic among the selected paths. The IEEE 802.11 technology also provides ad hoc mode of operation in addition to the infrastructure mode. Mobile Ad Hoc Networks (MANETs) are characterized by infrastructure-less configuration and on-dem and routing. A mobile node in MANET acts both as a router to forward the packets and as a host to generate the packets. Multi-hop com munication in MANET further enhances the networking environment where u sers can access the Internet anywhere a t anytime through their neighbors. MANET allows u sers to exchange information in a wireless environm ent w ithout the need for a fixed infrastructure. Each u ser (or node), equipped with one or more radios, is free to roam about while com municating with others. The path between any pair of u sers can traverse multiple wireless links and the radios themselves can be heterogeneous, th u s enabling an assortm ent of different types of links to be p art of the same adhoc network. Routing protocols are divided into two groups: reactive and proactive. Proactive protocols, or table driven protocols like DSDV [16] and OLSR [17] keep routes in routing tables, and periodically refresh them; therefore, in keeping an updated routing table in the routers, they ru n control traffic periodically. Reactive protocols, such as AODV [18] and DSR [19], on the other h and work on a need-driven basis, where a route discovery is only initiated based on-dem and when a packet is available for transm ission. Microsoft h as developed Link Quality Source Routing

12

(LQSR) protocol for wireless m esh networks. LQSR, was developed to be used with Microsoft Mesh Connectivity Layer (MCL) technology, which facilitates the interconnection of com puters into a mesh network using WiFi or WiMAX wireless service. The LQSR protocol is based on Dynamic Source Routing (DSR). Wireless m esh networks using MCL technology hold promise for people in remote areas who have not previously had access to high-speed Internet services. Such a network can be connected to the Internet by a single leased, broadband T-1 or satellite connection, thereby providing Internet access over a significant geographical area without the need for an existing cable or wire infrastructure among the nodes. In this thesis, we propose using OSPF (Open Shortest Path First)for the WMN backbone network. We also explore the role of BGP in connecting small OSPF domains in a large WMN.

The im pact of performance metrics on routing protocols was studied in [5] where link quality source routing LQSR selects a routing path according to link quality metrics. Three performance metrics, i.e. expected transm ission counts ETX, per-hop round trip time RTT, and per-hop packet pair, are implemented separately. The performance of the routing protocol with these performance metrics is compared with the method using minimum hop count. For stationary nodes WMNs, EHX achieves the best performance, while the minimum hop-count outperforms the three link quality metrics when MNs are mobile. This illustrates th a t the link quality metrics used in [5] are still not enough for WMNs when mobility is concerned.

13

For WMNs using multiple radios, A Multi-Radio LQSR is proposed in [9], where a new performance metric, called weight cum ulated expected transm ission time (WCETT), is incorporated. WCEHT takes into account both link quality metric and the minimum hop count and achieves good trade off between delay and throughput. MR-LQSR assum es th a t all radios on each node are tuned to non-interferening channels with the assignm ent changing infrequently. The m ain objectives of using m ulti path routing are to perform better load balancing and to provide high fault tolerance. Multiple paths are selected between source and destination to achieve the above objectives. When a link is broken on the path due to a bad channel quality or mobility, another p ath in the set of existing paths can be chosen, without requiring of setting up a new routing p ath and consequently the end-toend delay, throughput, and fault tolerance can be improved. However, given a performance metric, the improvement depends on the availability of node-disjoint routes between source and destination [8]. In hierarchical routing a certain self-organization scheme is employed to group network nodes into clusters. Each cluster h as one or more cluster heads. Nodes in a cluster can be one or more hops away from cluster head. Since connectivity between clusters is needed, some nodes can com municate with more th an one cluster and work as a gateway. When node density is high, hierarchical routing protocol tend to achieve m uch better performance because of less overhead, shorter average routing path, and quicker set-up procedure of routing path. However, complexity of m aintaining the hierarchy may compromise the performance of the routing protocol. Moreover, in WMN, a m esh client m u st avoid being a cluster head because it can become a bottleneck due to its limited capability.

14

In contrast to topology-base routing scheme, geographical routing schemes forward packets by only using position information of the nodes in the vicinity and the destination node [10]. Thus, a topology change has less impact on the geographic routing th an the other routing protocols. Early geographic routing algorithms are type of single-path greedy routing scheme in which the packet forwarding decision is made based on the location information of the current forwarding node, its neighbors, and the destination node. However, all greedy routing algorithms have a common problem, i.e., delivery is not guaranteed even if a path exists between source and destination. In order to guarantee delivery, planargraph-based geographic routing algorithms [10] have been proposed recently. However, these algorithms usually have m uch higher communication overhead th an the single-path greedy algorithms. Network convergence is the time taken by all the routers (running OSPF/AODV/BGP) in the network to go back to steady state operations after there is a change in the network state. For example, if introducing a new router to stable network new hello messages will be exchanged with other routers, which force each router to recalculate their routing tables. Thus all the routers in the steady state spent this time on recalculating shows new convergence time for the network. Similarly when one or more routers disappear from network due to link or their operational failures, they sta rt new convergence. There are many factors th a t effect convergence calculation i.e. num ber of routers, distance between routers, bit error rate, network diameter.

15

C h ap ter T hree - Proposed S olutions
In this thesis we propose using OSPF in the wireless m esh backbone network. Several existing WMNs u se a variation of ad hoc routing protocol in their backbone, e.g. Microsoft [22] and MIT [14]. However, some commercial WMRs employ OSPF in the WMN backbone, e.g. Nortel [21]. In this chapter, we first compare the performance of OSPF with OLSR (proactive protocol), and with AODV (reactive protocol) in term s of their convergence time, routing overhead and average response time This analysis p u ts in perspective the use of OSPF in the backbone. The OSPF usage m u st address two issues: one, formation of multiple broadcast zones on a single interface due to hidden node problem in wireless links; and two, the constraint of single backbone OSPF area th a t is not suitable for long topology where OSPF areas form a chain, e.g. along a long street. In this thesis we propose a solution for each of those issues. We evaluate the performance of our proposed solutions in Chapter 4 through simulation.

3.1 Single p h y sical w ireless in te rfa c e
In this thesis, we propose a scheme of configuring single physical wireless interface to handle multiple subnets and routing protocol. Due to hidden node problem, all the neighbors connected through a single interface do not form a single broadcast zone, which is they all are not visible to each other, shown in figure 3-1 [1].

16

MR

Figure 3-1: T ransm ission Range Diagram

Hence, we propose of creating as many subinterfaces as the broadcast zone attached to a single interface of a WMR. We treated each subinterface as a virtual standalone physical interface, i.e. it can be configured on a different subnet with different OSPF circuit. Should we configure a subinterface as point to multipoint or broadcast? Since, the current OSPF standard implementations do not support multiple broadcast networks to be configured on a single physical interface, we used a m esh of point-to-point to sim ulate a broadcast network. Figure 3-2 illustrates the proposed configuration of subinterfaces; where IFO is the physical interface, IFOl is the first subinterface, and IF02 is the second subinterface of the physical interface IFO.

IF01 Subnet 1 F02 Subnet 3 QFÔ2 S ubnetj> C[JFW S u b n e M ^

Figure 3-2: Subinterface configuration on single w ireless interface

17

3.2 C om parison B etw een AODV, OLSR a n d OSPF for B ackbone R o u tin g
Since some research test-beds have used variations of ad hoc routing protocols, which are designed to deal with issues related to wireless links, it is im portant to compare the performance of OSPF with some representative ad hoc routing protocols. We chose OLSR and AODV to represent proactive and reactive class of ad hoc routing protocols. We compared the performance of AODV and OSPF on three m easures: num ber of network convergence events, response time, and routing control overhead. We m easured responses time, control traffic and num ber of replies received for comparing performance of OSPF with OLSR.

3.2.1 Network Convergence Time
As defined in chapter two, network convergence time is the time taken by all the routers (running OSPF/ BOP) in the network to reach steady "stable" state of operations after all routers started; whereas in AODV it is the length of time of route. Network convergence time includes any changes th a t might happen in the network state e.g. one link fails; a new router is introduced in the network, which would trigger route discovery and self-healing etc. In case of using link state OSPF (Open Shortest Path First) protocol an action to build routes across network is done by exchanging hello packets between OSPF enabled interfaces. Hello packets are responsible for discovering new neighbors, carries num ber of param eters on which two routers m u st agree on to become neighbor, ensures a bi-directional
18

communication m essages between routers and elects designated router (DR) and backup designated router (BDR) on broadcast networks. After adjacencies are established, each router sends link state advertisem ents (LSAs) over to all adjacencies. LSAs describes all of the router's links, each receiving router record LSA in link state database and send a copy of the LSA to all of its other neighbors, by flooding LSA throughout network (OSPF enabled interfaces) all routers will have identical link state database and each router will have full picture of which router is live (OSPF interface) in the network. Using database each router will start the shortest path first (SPF) algorithm to calculate best routes based on cost, then routing table will be built for each router based on SPF tree. When a network link state changes such as shutting down one of OSPF interfaces or enabling a new OSPF interface, unstable interface conditions and interference, all routers exchange new LSAs, then all they will ru n the SPF algorithm on the revised database and install any change in the forwarding table. At this point all routers will reach steady state. The time spent on recalculating and reaching steady state is the new convergence time for the network, there are m any factors effect convergence calculation i.e. num ber of routers, distance between routers, bit error rate, network diameter. The lower convergence time is, more stable network is. In contrast to OSPF in AODV, routes between nodes are established after on-demand traffic triggers request from source to destination, then AODV protocol will sta rt to build routes using a route req u est/ route reply query cycle. When a source node desires a route to a destination for which it does not already have a route, it broadcasts a route request (RREQ) packet across nodes in network. Nodes receiving this packet update their information for the source node and set up backwards pointers to the source node in the routing tables. In addition to the source node's IP address, current sequence num ber, and broadcast ID,

19

the RREQ also contains the m ost recent sequence num ber for the destination of which the source node is aware. A node receiving the RREQ may send a route reply (RREP) if it is either the destination or if it h as a route to the destination with corresponding sequence num ber greater th an or equal to th a t contained in the RREQ. If this is the case, it unicasts a RREP back to the source. Otherwise, it rebroadcasts the RREQ. Nodes keep track of the RREQ's source IP address and broadcast ID. If they receive a RREQ, which they have already processed, they discard the RREQ and do not forward it. AODV m aintains routes it discovered as long as there are d ata packets following from the source to the destination along th a t path. Once the source stops sending data packets, the links will time out and eventually be deleted from the interm ediate node routing tables. If a link break occurs while the route is active, the node upstream of the break propagates a route error (RERR) message to the source node to inform it of the now unreachable destination(s). After receiving the RERR, if the source node still desires the route, it can reinitiate route discovery In this section we take a close look a t WMN running OSPF protocol and AODV. For both protocols we m easure network convergence time for the entire network after all routers performed routes discovery, built final routing table, and made route selection. This also includes the routes setup after network disturbance is introduced like adding new router(s) or link failure between two routers. We used Bloor Street scenario used for this comparison, where a set of twelve routers with single wireless interface and 5mW of transm ission power are configured in two rows with 650 m eters distance between each router th a t covers a rectangular area of three kilometers length and 650 m eters width are shown in figure 3-3. The duration of simulation is four m inutes.
20

[^Project: B loor Scenario: !2_Routers_16_Subnets [Subnet: top.Cam pus Netw ork]
Bk Ecfe' ÿeW Scenàfkx lopology Ttaffic grotocob 0ES g n d o w s kMp

m m

Figure 3-3: 12 routers Bloor S treet scenario (suburban topology)

In this scenario, there are three types of Network convergence time: IP network convergence duration, OSPF network convergence duration, and AODV route discovery time. IP Network Convergence Duration is the length of the time intervals during which convergence of the network's IP forwarding tables h as been achieved. OSPF Network Convergence Duration is the duration of convergence cycles for the OSPF routing tables across the whole network i.e. all routers with OSPF active interfaces have built their own OSPF database and no further changes occurs if change occurs then there would be another convergence time for th a t change. The two statistics are looking a t two different, although related, activities. The IP Convergence Duration is looking a t the convergence activity of the IP Route Table while the OSPF Convergence Duration is looking a t the

21

convergence of the OSPF Table. Therefore, if there is activity in the OSPF table th a t isn't directly forwarded to the IP Route Table, then the two will differ. OSPF will do internal calculations before the change is sen t to the IP Route Table, AODV route discovery time is the time to discover a route to a specific destination. More specifically, it is the time when a route request is sent out to discover a route to a destination until the time the corresponding route reply is received with a route to th a t destination. OLSR operates as a table driven and proactive protocol, th u s exchanges topology information with other nodes of the network periodically. The nodes th a t are selected as a m ultipoint relay (MPR) by some neighbor nodes announce this information periodically in their control messages. Thereby, a node announces to the network th a t it h as reachability to the nodes, which have selected it as MPR. In route calculation, the MPRs are used to form the route from a given node to any destination in the network. The protocol u ses the MPRs to facilitate efficient flooding of control m essages in the network. OLSR inherits the concept of forwarding and relaying from HIPERLAN (a MAC layer protocol), which is standardized by ETSI. Each node periodically broadcasts Topology Control (TC) m essages containing link state information. Since these TC m essages are broadcast to the entire network, a serious flooding control m echanism needs to be implemented. Multipoint relays provide a localized and optimized way of flooding reduction in a mobile ad hoc network. Using 2-hops neighborhood information, each node determ ines a small set of forward neighbors for message relaying, which avoids multiple retransm issions. MPR h as been designed to be p art of OLSR to specifically reduce the flooding of TC m essages sent by OLSR to create optimal routes. Depicted like this, one might think th a t both protocols are completely separated and could even be independently tested.
22

improved, or even changed. However, OLSR h as a m uch different relationship with MPR.

3 .2 .2 C om parison sc en a rio s betw een AODV, OSPF a n d OLSR
In this comparison between AODV, OSPF and OLSR, we evaluate their performance based on the response time between end-to-end wireless nodes separated by wireless routers and the overhead traffic generated by the routing protocols. Running on large-scale scenario consists of 12 wireless routers and two wireless nodes. All scenarios setups are identical in significant distance between wireless nodes is introduced so th a t both nodes can 't communicate directly and their packets have to go through middle routers, see Appendix B for configuration details. We have created nine AODV scenarios and nine OSPF scenarios and two wireless stations a t ends of network. Figure 3-4 illustrates topology used for ADOV, OSPF and OLSR.

.m\
Figure 3-4: 12-router topology

23

O ur proposed comparison is looking a t interval times between ping traffic, which reflects u sers request to Internet, an d Hello interval for routing protocol in place. Therefore, we set different times for Hello periods and ping traffic, and we monitored protocol overhead through (traffic control) and average response time received a t end node_0, which reflects network delay, th a t compound of buffering and convergence time of routing protocol. We take average of best response time and control traffic and apply it to highly loaded network (that's in term of traffic).

3 .2 .3 AODV R esponse Time and Overhead
We ran different scenarios with three Hello time intervals and three ping intervals. O ur testing based on ping between two end nodes (Node_0 and Node_l) as shown in figure 3-5.

Model

Figure 3-5: 12 routers AODV scenario

Figure 3-6 illustrates num ber of control traffic transm itted throughout all routers in topology, divided into three regions based on hello intervals: one second, five seconds and 10 seconds.

24

AODV Control Traffic (bit/sec)

600000 500000 400000 300000 200000 100000

-Control Traffic (bit/sec)

AODV AODV AODV AODV AODV AODV AODV AODV AODV
1 10 1 20 1 30 510 5 20 5 30 1010 10 20 10 30

Figure 3-6: AODV control traffic in all scenarios

We used in this figure the notation AODV 1 1 0 th a t m eans protocol used is AODV, hello interval is 1 second and gap between ping (silence period between ping) is 10 seconds. As hello interval increases and ping gap increases the lower control traffic is. As we can see th a t a t hello interval 10 seconds and gap between ping 30 seconds achieves the lowest control traffic traveling (i.e. lower overhead bits traveling) were worst cases a t AODV 1 10, AODV 1 20 and AODV 1 30, because of frequent hello messages traveling between routers. Average ping response time, the average time delay for Node_0 to receive its ping replies from Node 1. Figure 3-7 illustrates average ping response time for AODV scenario.

25

Avg. Ping Response Time (sec)
0.12

0.1 0.08 0.06 0.04
0.02

-Avg. Ping Response Time (sec)

0

->#

Figure 3-7: average ping response tim e for AODV scenario

Best average response time is recorded a t ping gap of 10 seconds and hello interval didn't m atter m uch as we can see best three a t hello intervals 1 second, 5 seconds and 10 seconds.

3 .2 .4 OSPF R esponse Time and Overhead
We ran different scenarios with three Hello time intervals and three ping intervals. Our testing is based on ping between two end nodes (0 and 1) as shown in figure 3-4. Figure 3-8 illustrates num ber of control traffic transm itted throughout all routers in the topology.

Conirel Trane (bil/Mc)

-Cortrol Trane (bH/tec)

OSPF 110

OSPF120

OSPF 130

OSPF 510

OSPF5 20

OSPF5M

OSPF 1010

OSPF 10 20

OSPF 10 30

Figure 3-8: OSPF control traffic

At OSPF 5 20 (Topology with OSPF protocol, 5 seconds Hello interval time and 20 seconds Ping gap) h as lowest control traffic (routing over head) traveling cross network followed by OSPF 10 30. In term s of how

26

m any times OSPF had to converge for all 9 scenarios the overall network convergence event is 1. Average ping response time is the average time delay for Node_0 to receive its ping replies from Node 1. Figure 3-9 illustrates average ping response time for OSPF scenarios.

Avg. Ping Response Time (sec)

0.0139 0.0138 0.0137 0.0136 0.0135 0.0134 0.0133 OSPF 1 10 OSPF 1 20 OSPF 1 30 OSPF 5 1 0 OSPF 5 20 OSPF 5 30 OSPF 10 10 OSPF 10 20 OSPF 10 30 -A vg. Ping Response Thne (sec) |

Figure 3-9: OSPF average response tim e

The lowest average response time is recorded at ping gap of 10 seconds and hello interval between 5 and 10.

3.2 .5 OLSR Response Time and Overhead
We ran different scenarios with three Hello time intervals and three ping intervals. Our testing is based on ping between two end nodes (0 and 1) as shown in figure 3-4. Figure 3-10 illustrates num ber of control traffic transm itted throughout all routers in topology. Figure 3-10 is divided into three regions. In the first region where hello interval is one second, the control traffic tends to decrease as ping interval time increases.

27

OLSR Control Traffic

I

1200000

1

Ü

1000000 800000 600000 400000 200000 c 0

- Control Traffic

& ' & & ' & <yo'<3'cy<^
Topology

Figure 3-10: OLSR control traffîc

W hereas in second and third regions of figure 3-10 hello interval has longer gap period th an first region OLSR control traffic tend to increase as ping interval period increases. And if we stretch Hello period to more th an 7 seconds there are more control traffic b u t no ping response a t end station. Average response time, as shown in figure 3-11, which illustrates average response time captured for OLSR in different scenarios a t node_0.

28

OLSR Average R esponse Time
0.01
0.009 0.008 0.007 "o' 0.006 % 0.005 i= 0.004 0.003
-Avg. R ép o n se

m m

0.002 0.001 0
OLSR OLSR OLSR OLSR OLSR OLSR OLSR OLSR OLSR

1 10

1 20

1 30

510

5 20 Topology

5 30

710

7 20

7 30

Figure 3-11: OSLR average response tim e

OLSR tend to have better response time a t region two (OLSR 5 10 - OLSR 5 30) of the graph. As control traffic increases dramatically as shown in region three of the figure 3-11 leads to decrease response time at end station as hello interval time increases, then we noticed th a t increasing hello longer th an 10 seconds increase control traffic, node_0 did not receive a response; which shows tradeoff between control traffic and response time.

3 .2 .6 Performance under heavily loaded network
Here we had our test on two scenarios consisting of 12 routers with AODV, OSPF and OLSR protocol. We increased traffic load by adding 6 more stations and creating 4-ping traffic p aths additional to pervious scenarios as shown in figure 3-12. All three protocols have there hello message interval of five seconds and ping interval time of 20 seconds.

29

PRO PERTYO F R Y E R S O IMU N IV ER SITYL IB R A R Y

-f-jProject; R loor. A O D VO S P FScenario: O Sf^,,l2,,Routrrs,,lf>..SubnetsJ)W ksJlcllo .5 [Subnet; top.rampus N etw ork]
e te : E * _5cénaôDS ` lopdog/ - Tcafftc &otocob fiES Jifindows bdp

«
Tar

M
WL

m

Pfl

Figure 3-12: 12 w ireless routers and 8 w ireless nodes

In term s of control traffic (protocol overhead), OLSR tends to have more control traffic comparing with other two protocols as shown in figure 313.

Control Traffic

1000000 800000

m 600000
OE Control Traffic

E

2

400000 200000 0
AODV OSPF OLSR

Protocol Used
Figure 3-13: Trafiic Overhead (control traffic) for AODV, OSPF and OLSR

Control traffic h as effect on num ber response times node_0 received a reply. For instance with OSPF protocol node_0 received 33 replies while

30

with AVOD, node_0 received 20 replies. Figure 3-14 illustrates num ber of responses received at node_0

No. of Reply received
35 30 25 20
3

I No. R e sp o n se

8 15 10 5 0
AODV OSPF OLSR

Protocol
Figure 3-14: com paring number o f replies received at node_0 for AODV, OSPF and OLSR

Finally, in term s of average response time AODV kept behind while OSPF and OLSR. Where with last two kept veiy close as shown in figure 3-15.

A verage R e sp o n se tim e at Node 0

§ 0.08 B R e sp o n se tim e I 0.06

AODV

OSPF

OLSR

Protocol
Figure 3-15: Comparing Average response tim e received at node_0 for AODV, OSPF and OLSR

31

3 .3 E ffect o f Pow er on N etw ork C onvergence d u ra tio n Of OSPF
Coverage applies to moderate-size or large WMR deployments and is a m easurem ent or square m eters per WMR. Rate-weighted coverage is the integral of the bit rate with respect to area covered (expressed as m egabits/second tim es square meters). Range, coverage and rateweighted coverage are strongly influenced by transm it power, receiver sensitivity, noise and interference, as well as the physical environment. Bit Error Rate (HER) is major factor th a t effects OSPF convergence time, as HER increases num ber of packet drops increase and increase num ber of retransm itting LSAs packets. As Bit Error is function of Signal to noise ratio, which is in turn, is function of signal power as shown in formula 31.

(SNR) db = 1 0 logic (Signal Power/Noise Power)

(3-1)

Furtherm ore, signal power range is a function of transm ission power (Appendix C - list formulas used in OPNet to represent BER) th a t h as an effect on Bit Error Rate, the more transm ission power, the less BER is and less packet drops. In our proposal, using certain range of transm ission power to provide less packet losses. This study focuses on different transm ission power ranges on two major scenarios: cam pus scenario and Bloor street scenario and as explained earlier, OSPF protocol is the chosen protocol to ru n cross these scenarios with its capability of supporting small to large network

32

3 .4 Why ch oosing BGP over OSPF alone for m u ltip le areas
In some WMN deployment m esh routers in a linear chain (e.g. long street like Bloor street), as shown in Figure 3-16 [1]. This deployment scenario is common for highway, countryside roads, and long u rban and suburban streets.

Figure 3-16: Long street topology

To configure OSPF routing protocol for this topology, either, choosing single area OSPF network will suffer long convergence time and propagation of route flapping and if, we setup multi area OSPF which one would be area Zero? And if Area Zero is selected some OSPF will more than two autonom ous systems away from area Zero which virtual links can't handle it. In this study we exam proposed solution [1] of deploying BGP between OSPF areas, as shown in figure 3-17.

BGP AS 64512 OSPF! sIBGP

BGP AS 64514 OSPF is IBGP

BGP AS 64513 OSPF ds IBGP

BGP AS 64515 OSPRas IBGP

Figure 3-17: Integrating BGP w ith OSPF in Bloor topology

Using BGP protocol to connect OSPF autonom ous systems (networks), m ost of the BGP configuration problems will not arise because all autonom ous systems are under the same administrative control. In this study we configured OSPF in two scenarios: One, the whole network is configured for a single area OSPF. Two, interconnecting OSPF areas by

33

configuring BGP protocol on boarder gateway routers as shown in figure 3-17. Method we used to m easure performance between One and Two scenarios is first response time received a t node_0, because OPNet dose not provide convergence statistic for for BGP b u t it dose for OSPF. Therefore, to m easure convergence of both OSPF and BGP for Figure 317 we sta rts ping a t time tl(sec). Question is, a t w hat time should we sta rt two protocols? Two possible scenarios either both protocols to sta rt a t the sam e time or start one protocol first wait till finish convergence then sta rt next protocol as shown in figure 3-19. When starting both protocol a t the same time as shown in figure 3-18, BGP tends to be sensitive in convergence and when another protocol starts a t the same as BGP, BGP will wait and take longer for node_0 to get its first response time (t5) as shown in figure 3-18.

Time (sec)

ti
Ping starts at node 0

--

c --

OSPF and BGP starts to converge

t3 OSPF convergence completed

t4 t5 BGP Ping first convergence response completed received at node 0

Figure 3-18: OSPF and BGP startin g at th e sam e tim e

Time (sec) t1 Ping starts at node 0 t2 OSPF starts to converge 13 OSPF convergence completed t4 BGP starts to converge t5 t6 BGP Ping first convergence response completed received at node_0

Figure 3-19: Starting OSPF and BGP a t different tim es

By taking advantage of pervious scenario when having only OSPF configured, we were able to get OSPF convergence duration. Then we

34

estim ates time taken by OSPF and apply it to OSPF-BGP scenario and finding best start up time for BGP. With different BGP startup time for 12 routers scenario with one domain and two domains, and m easuring first response time at node_0. we were able to find out average of best time for BGP to startup and apply it on larger scenarios (18 routers and 14 routers) with two, four and six domains.

35

C hapter Four - S im ulation an d R esults
OPNet software was used to sim ulate four different scenarios. convergence time. This chapter is divided into two parts. Part One covers power effect on OSPF Part two covers integrating BGP with OPSF of suburban area (Bloor topology).

4.1 T he E ffect o f Pow er on OSPF C onvergence T im e
Scenarios are divided into two categories; Cam pus network and Bloor Street network. In the Cam pus scenario, two sub-scenarios were created. One scenario with single OSPF area and a second with central area 0 com m unicates with various OSPF areas around which act as a bridge between the different areas. In the Bloor topology, we worked on two scenarios. One scenario configuring entire network with sam e AS (area 0) and a second scenario having Boarder Gateway Protocol (BGP) link OSPF areas across a distance of approximately three kilometers.

4.1.1 Campus Network
4.1.1.1 Single OSPF Area In this scenario transm ission power range used is ImW and 5mW. The distance between routers was set randomly at 400m-500m(+). All 8 routers have one physical wireless interface with two or three subinterfaces. Each subinterface was configured on a different su b n et as shown in figure 4-1 and 4-2.

36

^yPmject: C am pus_A uqu$l Scenario: 8.R outers..10,Subnets M ultiple A teas (Subnet: top.ram p... HIÏ1E3
; Edt ; JJevf ; Scerwios lopology T[aFfk^ Erotocob QjES iÿghdow s i; tM>

10K»

|U * l l K ;

*4%

C Ü C J

Figure 4-1: W ireless Router se ts in OPNet sim ulation

Figure 4-2: Campus Topology single area- Routers subinterface configuration

All OSPF wireless subinterfaces are configured in a single OSPF Area (area 0). Four routers are configured with two subinterfaces while the other four routers are configured with three subinterfaces.

37

We ran the scenario with power of 1 mW looking a t OSPF convergence events for router D as shown Figure 4-3.
tjRouter D of Campus Network

nzs--

;

r:'25_
Figure 4-3: Convergence ev en ts - Campus top ology ImW Single Area

Figure 4-3 illustrates the num ber of OSPF convergence events taking place for sim ulation during of 240 seconds (four minutes). One possibility of causing frequent LAS exchange unstable link condition or adding, or removing link from network. Therefore, we investigated link instability by checking OSPF database of router D a t different sim ulation stop tim esi, then looking a t the num ber of LSA received, we were able to plot these changes on ch art as shown in Figure 4-4.
Router D: No. of LSA In OsPF DB

 No. of LSA received

I:
2
1

0
100 150 200

Time (sec)

Figure 4-4: Campus Topology Single area - R outer D: No. o f LSAs received

' Simulation Stop Time: is the time when we stopped simulation and traced what happened till stop time for example we stop simulation at 170 seconds then we traced that at time 167.140 seconds received LSA update and time 167.142 seconds router D received another LSA update.

38

During time period of (10-20) seconds, router D build OPSF database for its own subnets, then during period of (30 - 50) seconds, router D received LSAs from neighbor routers (D, A, C and B), then period (50-60) seconds router D received LSAs from (A, B, C, D, H and E) routers, and during time period of (50-70) seconds router D received LSAs from (A, B, C, D, E, H, G, and F) routers which make 8 LSAs as total in OSPF database and this num ber remained persistent for rest of simulation time. Up to this point we didn't find reason behind many convergence events on Figure 4-3, therefore, we examined each LSA content, we found th a t a t time 96.204 seconds router D received from router C new LSA reporting a lost connection with router F, then at time 141.66 seconds router C sends new LSA which has a connection to router F, as shown in Figure 4-5.
LSA Updates received

m ÊÊm ÊÊÊÊÊÊÊm Êm ÊÊ
M M fflyttpiailgMÉMfli
 Changes

50

100

150

200

250

300

Simulation stop time (sec)

Figure 4-5: LSA updates in Router D OSPF Database - Single Area

Figure 4-6 illustrates path statu s (instability) between router C and router F during simulation time 240 seconds.

39

Channel connectivity between Routers 0 & F

D Found Path Path Lost

LSA time stamp (sec)

Figure 4-6: Campus Single area - path b etw een router C & F

That made u s to conclude there is channel unstable between two routers due to either noise or transm ission single. For noise, since OPNet channel model is not affected with noise. And for transm ission single, we applied two solutions: First solution is shortening the distance between routers C and F. Second solution is to increase the transm ission power. When applied the first solution, router D experienced only two OSPF convergence events so as entire network convergence. When applying the second solution we had same results as in first solution in term s of num ber of OSPF convergence events, b u t time duration for these events were shorter and faster compared with the first solution. For example, with shortening distance between router C and F, the OPSF convergence event th a t started at 55.5 seconds required 30.14 seconds to complete while with the second solution OSPF convergence event started a t 45.13 seconds and required 20 seconds.

4 .1 .1 .2 Campus Network - Multiple OSPF Areas In this scenario we set the transm ission power for wireless interface et to ImW and 5 mW and the distance between routers was 400m -500m (+). All 8 routers had only one physical wireless interface with two or three subinterfaces such th a t each subinterface was configured with different

40

subnets (some of them with different OSPF area). Figure 4-7 illustrates the OSPF configuration on the wireless subinterface with different OSPF areas assigned on each router. Four routers have two subinterfaces and the other four routers have three subinterfaces.

Figure 4-7: Campus Topology Multi area- Routers subinterface configuration

Under transm ission power of 1 mW OSPF convergence a t router D had m any convergence events similar to the single area scenario as shown in Figure 4-8.
-^OSPFJ>ietwork Convergence Duration (sec)

il

Figure 4-8: C onvergence ev en ts - Campus topology ImW Multi Area

41

The same procedure we did in Campus single scenario, we looked a t first the OSPF database of router D for num ber of LSAs exchanged as shown in Figure 4-9.

Router D: No. of LSA in OsPF DB 14
12 -J

< 5 10 -j

2 8

I:
2 0

 Total

-I
50 100 150 200 250 300

Simulation Stop time (sec)

Figure 4-9: Campus Topology Multi area - R outer D: No. o f LSAs received

In this case there were more LSAs because of Area Border Routers (ABR) advertising network LSA (type 3). During time period of (10-30) seconds router D updated OSPF database with its own subnets, between (30-40) seconds router D received LSAs from routers (A, B, D and C) with two network LSAs (type 3), between (40-50) seconds router D received LSAs from routers (A, B, C, D, G and F) with four network LSAs, and between (50-60) seconds router D received LSAs from routers (A, B, C, D, E, F, G and H) with five network LSAs, which brings total of LSAs to 13 in OSPF database, this num ber remained persistent till end of sim ulation time 240 seconds. Then we looked a t LSA exchanged in OPSF database. Figure 4-10 illustrates LSA changes during sim ulation time.

42

LSA Updates received

0-3 z 2
1 0

iï3 $ ;îâ :
50 100 150 200 250 300 Simulation stop time (sec)

 LSA Changes

Figure 4-10: LSA updates in Router D OSPF Database - Multi Area

We noticed, th a t there was new LSA received from router C a t time 107.461 seconds reporting lost connection with router F and 147.999 seconds router D received another LSA from router C reporting connection found with router F. Which made to conclude there is connection instability between router C and router F. Figure 4-11 illustrates connection (path status) between router C and F.

Channel connectivity between Routers C & F

Found Path Lost Path

50.018 107.461 143.002 147.999 160.008 173.541 194.989 200.028 213.54

LSA Time Stamp (sec)

Figure 4-11: Campus Multi area - path betw een router C & F

As in single area OSPF in the last scenario, path instability between router was obvious, therefore, we locked a t two possibilities either there was so m uch noise between these two routers or distance is stretch to

43

the limit of radio transm ission. In term of noise, because we were using OPNet channel model is not affected with noise, we proposed same two solutions as in single area OSPF: First solution, shortening distance between routers C and F. Second solution, we increased transm ission power to 5mW. For the first solution router D experienced three convergence events and two events for entire network convergence. For the second solution, we increased transm ission power to 5 mW, network and router D experienced two convergence events only. Also, the convergence time was shorter and faster, for instance with first solution OPSF convergence event th a t started a t 75 seconds required 49.63 seconds to complete convergence while with the second solution OSPF convergence event started a t 65 seconds and required 39.87 seconds.

4 .1 .2 Bloor Street Network
In this topology, we work on two scenarios: one single OSPF area (area 0) and second scenario was configuring Border Gateway Protocol (HOP) interconnecting OSPF areas crossing a long distance of approximately of three kilometers. Transm ission power used is 5 mW, with 1 mW can 't reach to beyond eight hundred m eters. The n ature of Bloor topology is cover long distance with less am ount of routers possible, therefore 1 mW transm ission power is not feasible for this type of topology. However, higher transm ission power is u sed 5mW, 20 mW and 100 mW. 12 routers, were used in this scenario, four routers configured with two subinterfaces and 8 routers configured with three subinterfaces.

4 .1 .2 .1 Single Area
Figure 4-12, illustrates Bloor - street topology with OSPF enabled interfaces and there configuration.

44

192.101iai

192.10.20.2

i9 2 .ia io a i

192.101201

Figure 4-12: 12 routers Bloor S treet Topology - One OSPF Area

4 .1 .2 .2 OSPF and BGP protocol
In this scenario shows groups of four routers in the network with their own AS num ber, and Border Gateway Protocol on Area Border Routers (ABR) interconnecting different OSPF networks as shown in Figure 4-13 simulation duration set to four m inutes.

192.10 1001

192.20.2a20

Figure 4-13: 12 routers Bloor S treet Topology - Three OSPF Area w ith BGP

4.2.2.1 Transmission power o f 5 mW Network convergence was 50 seconds for OSPF to converge a t time 55 seconds. Router D convergence time was a t time 45 seconds events happened here on router D is boarder router, which handling both OSPF
45

and BGP routing, a s shown in figure 4-13, the convergence event took place a t time 45 second and lasted for 40 seconds. In looking OSPF database of router D we saw a t time 40 seconds router D received four LSA then no other changes till end of simulation.

4 2 .2 .2 Transm ission power o f 50 mW Increasing transm ission power to 50 mW increases transm ission range radio, and coverage. Router D, had one convergence event started a t time 45 seconds and required 40 seconds to complete sim ilar to pervious scenario.

4 .2 In te g ra tin g BGP w ith OSPF in su b u rb an topology
We created three scenarios 12, 18 and 24-routers with BGP interconnecting different OSPF AS systems. Both protocols started a t

the same time a t lO^h second of sim ulation time, then we m easured the first response time received a t Node_0, figure 4-14, illustrates 12-routers scenarios with two BGP dom ains configuration.

!92 .iaia2

BGP AS 64512

BGP AS 64514

t92.128.12ai

Figure 4-14: 12 routers Bloor S treet Topology - Two OSPF Areas w ith BGP

46

The first response time takes 175.2 seconds after sim ulation started. A plausible reason for the longer response time, is BGP convergence started earlier th an OSPF, and by th a t time OSPF started in for its own convergence, it has caused enough disturbance to affect detrimentally of BGP convergence time, which results in a longer time to for Node_0 to receive its first response time. We ran other scenarios with 18-routers and 24-routers as shown in figure 4-15 and 4-16 respectively.

64512

1 9 2 .1 0 1 7 0 1

BGP AS 64513

i9j,o»î

192102101

Figure 4 -1 5 1 8 routers Bloor Street Topology - Two OSPF Areas w ith BGP

BGP AS 64512

BOPAS64S13

Figure 4-16; 2 4 routers Bloor Street Topology - Two OSPF Area w ith BGP

47

Table 4-1 shows first response time in seconds received by Node_0 in different scenarios including OSPF only , two and three domains.
Scenario No. of routers 12 18 24 OSPF only (sec) 48 48 69.6

3D 2D BGP (sec) BGP(sec) 175.2 52.8 48 175.2 252 180

Table 4-1: Bloor S treet First resp on se tim e received - 3 Scenarios

OPSF only scenario Node_0 received quicker response time compared with the other two scenarios. Also, in looking a t BGP with two and three dom ains shows different response tim es with tendency of late response time received. Figure 4-17 illustrates first response time received at Node_0 when both protocols OSPF and BGP started a t 10* second and ping traffic generation starts a t 5* second.

Start Time 5 10 10

o 200

-12

i=

100

 18 24

OSPF

20 BGP Topology

3D BGP

Figure 4-17: First response tim e w hen OSPF and BGP starting at sam e tim e

To increase first response time a t Node_0 with two protocols running (BGP and OSPF), our solution is to have both BGP and OSPF protocols to sta rt a t different times. We worked on 12-routers scenario, ping traffic and OSPF protocol both starts a t 5th second and BGP to starts at

48

different times ranging 10^ - 70^i second (with an increment of 10 seconds), then we m easured first response time received at Node_0 for each BGP startup time. Figure 4-18 and 4-19 illustrates different BGP startup times and first response time received a t Node_0 for two domains and three domains respectively for 12-router scenario.

First Response 2 Domains

 First Response

BGP Start Time (sec)
Figure 4-18: First response tim e - 12 router and two OSPF areas w ith BGP

First R esponse 3 Domains

 First Response

20

40

60

80

BGP Start Time (sec)
Figure 4-19: First response tim e - 12 router and three OSPF areas w ith BGP

49

4.2.1 Finding best BGP startup tim e
From Figures 4-18 and 4-19, we concluded that, for the two dom ains scenario there were the two best times for BGP to start, they were a t 30 seconds and 50 seconds, the first response time received a t Node_0 for both BGP startu p tim es was a t 50.4 seconds. For three dom ains scenario, best BGP startu p tim es were a t 30, 40 and 50 seconds, the first response times a t Node_0 were 48, 40.8 and 50.4 seconds respectively. By taking average of best BGP startu p time for both scenarios (two and three domains), which are 35 seconds and 45 seconds are the best time for BGP to start. Applying these two BGP startu p tim es on two dom ains and three dom ains (12-routers scenario). For two domain scenario, the first response tim es recorded a t Node_0 were 55.2 seconds and 45.6 seconds for BGP startu p times at 35 seconds an d 45 seconds respectively. For three dom ains scenario the first response tim es at Node_0 were is 43.2 and 45.6 seconds for BGP startu p 35 seconds and 45 seconds. Figure 4-13 illustrates 12-routers with three dom ains scenario. Applying the best BGP startu p time 35 and 45 seconds on 18-routers s and 24-routers scenarios as explained in the next section.

4 .2 .2 Applying b est BGP startup tim e
4 .2 .2 .1 18-routers scenario Applying the best BGP startu p time (35 and 45 seconds) on 18-routers scenario with two AS dom ains and three AS domain. Figure 4-36 illustrates first response time with BGP startu p time a t 35 seconds and 45 seconds; when BGP started a t 35* second, Node_0 received the first response a t 52.2 seconds for two dom ains and a t 55.2 seconds for three
50

domains. When BGP started a t 45* seconds, Node_0 received the first response a t 48 seconds for two domains and at 45.6 seconds for three domains

First Response time

·BGP start at 35 sec -BGP stars at 45 sec
jZ 20 -

10

-

0BG P- 2D BGP - 3D

Topology
Figure 4-20: First response tim e - 18 routers w ith B est BGP startup tim e

4.2.2 2 24-routers scenario With two and three domains configuration, BGP h as to start a t time 45 seconds (not at 35 seconds) to allow enough time for OSPF convergence to complete because the num ber routers per OSPF domain has increased compared with 12 and 18-routers scenarios. However, BGP startup time chosen (35 and 45 seconds) still can by applied in this scenario with four and six domains configuration, figures 4-21 and 4-22 illustrates four and six domains respectively with BGP startup time 35 and 45 seconds. Startup times for 24-routers scenarios were 5 seconds for ping and OSPF to sta rt then 35 seconds and 45 seconds for BGP to start.

51

64512

Figure 4-21: 2 4 routers Bloor S treet T opology - Four OSPF Area w ith BGP
BGP AS 64512 BGP AS 64514 BGP AS 64513 BGP AS 64515 BGP AS 64516 BGP AS 64517

Figure 4-22: 2 4 routers Bloor S treet Topology - S ix OSPF Area w ith BGP

Figure 4-23, illustrates 35 and 45 seconds BGP startu p time for four scenarios (two, three, four and six domains): the two domains as shown in figure 4-24, three domains as shown in figure 4-25, four domains and six domains.

First R esponse Time
250

200

?

% 150

· BGP start at 35 sec ·BGP stars at 45 sec

I 100
50

0
BGP2D BGP3D BGP 4D BGP 6D

Topology
Figure 4-23: First response tim e com parison - 2 4 routers 2D, 3D, 4D and 6D

52

BGP AS 64512

LP AS 64513

Figure 4-24: 2 4 routers Bloor Street Topology - Two OSPF Area w ith BGP
BGP AS 64512 BGP AS 64514 BGP AS 64513

Figure 4-25: 2 4 routers Bloor Street Topology - Three OSPF Area w ith BGP

4 .2 .3 Conclusion
Comparing results in figure 4-20 and in figure 4-23, we have noticed th at when BGP started at 45 seconds, Node_0 received a quicker first response time compared with BGP starting a t 35 seconds, th a t was for both 18 and 24 routers scenarios. And when BGP started a t 35 seconds, Node_0 recorded a quicker response time compared with OSPF only (no BGP configuration).

53

Figure 4-26 shows the first response time recorded a t Node_0 for 24router scenario with OSPF only configuration and with BGP (start up time a t 45 seconds) interconnecting OSPF areas configuration.

First Response time (sec)

T 40

· First Response time (sec)

OSPF BGP - BGP - BGP only2D 3D 4D

BGP 6D

Topology
Table 4-26: First response tim e com parison - 2 4 routers ID , 2D, 3D, 4D and 6D

Similarly, with 12-routers scenarios, when BGP to started a t 45* second, Node_0 received first response time was a t 45.6 seconds, which is faster th an 48 seconds with OSPF only configuration, as shown in figure 4-27. And with 18-routers scenario, the first response time recorded a t Node_0 with OSPF only configuration was a t time 69.6 seconds, compared with 48 seconds for two dom ains and with 45.6 seconds for three dom ains (BGP started a t 45 seconds).

54

First R esp o n se time

OSPF48 OSPF 69.6

12RBGP 12RBGP- 18RBGP 18RBGP-2D 3D -2D 3D

Topology
Figure 4-27: First response tim e com parison - 12 and 18 routers (2D and 3D)

55

C h ap ter Five
C onclusion

We have proposed four solutions for different wireless m esh network scenarios. The first proposal is a sub-interfacing physical wireless interface to multiple subinterfaces to allow the configuration of multiple subnets, which reduces hidden node problem in the wireless networking environment. We then applied this solution on a num ber of scenarios as we move along with other proposal we kept using the sub-interfacing physical wireless interface to accommodate a num ber of subnets (both single and multiple OSPF areas). For the second proposal we used OSPF as the protocol for our Wireless m esh backbone network after looking a t proactive Ad hoc protocols like OLSR and reactive protocols like AODV. Our m easurem ents were based on the overhead traffic of the protocols and the average response time at the end station. OSPF had less overhead and more replies to end stations. For the third proposal, the transm ission power had a direct effect on OSPF convergence and responses time. We ran scenarios (Campus and Bloor topologies) and m easured OSPF convergence events and length of time for these events. Stretching the distance between wireless routers to the transm ission limit caused LSAs to regenerate frequently due to channel instability in convergence and response time. Reducing distance resolved channel instability but, nevertheless, a convergence event still

56

took more time to convergence whereas using higher transm ission power resolved channel instability and reduced time for OSPF convergence. Our forth proposal integrated BGP protocol for large, long stretching networks (suburban, highway, Bloor street topology...etc.). For this type of topology OSPF protocol has limitations in covering many autonomous systems with virtual links to backbone area (area 0). Integrating with BGP protocol resolved this issue, b u t our challenge was response time at the end stations due to BGP convergence sensitivity. When OSPF starts a t the same time as BGP, BGP takes longer to converge. Therefore, looking at different BGP startup time becomes essential. We reviewed the average of best start up times and applied them on different scenarios to determine which returned the better response time a t the end station. Five areas have been identified for future work: 1) We have found th at the channel became unstable when the radio signal was stretched to it's limit, causing the loss of channel connection between routers. 2) 3) 4) 5) 6) Throughput drops significantly as the num ber of nodes or hops in WMNs increase. When the protocol control traffic increases it had a direct effect on the response time a t the end station. Simulating a protocol convergence under different channel noise condition. Auto configuring router's subinterface. I-BGP performance sensitivity to the num ber of BGP gateways in wireless mesh network.

57

Bibliography
[1] Muhammad Jaseemuddin, Amir Esmailpour, AH Alwan and Osama Bazan. "Integrated Routing System for Wireless mesh networks", CN3-3 CCECE 2006 IEEE. [2] Daniel Aguayo, John Bicket, Sanjit Biswas, Glenn Judd and Robert Morris. Link-level Measurements from an 802.11b Mesh Network., SIGCOMM 2004, Aug 2004 [3] Daniel Aguayo, John Bicket, Sanjit Biswas, Glenn Judd and Robert Morris. A high-throughput path metric for multi-hop wireless routing. In proceedings of ACM Mobicom conference, September 2003 pp. 134-146. [4] Violeta Gambiroza, Bahareh Sadeghi, Edward W. Knightly. End-to-End Performance and Fairness in Multihop Wireless Backhaul Networks, in Proceedings of ACM MobiCom 2004, Philadelphia, PA, September 2004. [5] Richard Draves, Jitendra Padhye and Brian Zill. Comparison of Routing Metrics for Static Multi-Hop Wireless Networks, SIGCOMM'04, Aug 2004,Portland, USA. [6] Coskun Cetinkaya, Edward Knightly. Opportunistic Traffic Scheduling Over Multiple Network Paths, in Proceedings of IEEE INFOCOM 2004, Hong Kong, China, March 2004. [7] Philippe Hanset. Large Scale Wireless Netwroks, UTs case University of Tennessee -NANOG 27, February 2003. [8] Ian F. Akyildiz and Xudong Wang. A Survey on Wireless Mesh Networks. IEEE Communications September 2005, Vol. 43, No. 9 page S23 [9] Richard Draves, Jitendra Padhye and Brian Zill. Routing in multi radio. Multihop Wireless Mesh Network. ACM Annual International conference Mobile comp. And Net.(MOBICOM),2004, pp 114-28 [10] H. Frey, "Scalable Geographic Routing Algorthms for Wireless Ad Hoc Networks,"IEEE Network Mag., July/Aug. 2004, pp.18-22 [11] RFC 3561 Ad hoc On-Demand Distance Vector (AODV) Routing, http://www.ietf.org/rfc/rfc3561.txt, last time accessed was on September 16, 2006 at 16:00 pm EST. [12] RFC 2328 - OSPF Version 2, http://www.ietf.org/rfc/rfc2328.txt, last time accessed was accessed on September 16, 2006 at 16:00 pm EST. [13] Microsoft Networking Research Group, http://research.microsoft.com/mesh/. last time accessed was on September 16, 2006 at 16:00 pm EST. [14] MIT Computer Science and Artificial Intelligence Laboratory Mesh network development.http://pdos.csail.mit.edu/roofnet/doku.php. last time accessed was accessed on September 16, 2006 at 16:00 pm EST. [15] Mobile Ad Hoc Network (MANET) Charter. http://www.ietf.org/html.charters/manet-charter.html. last time accessed was on September 16, 2006 at 16:00 pm EST. [16] DSDV (Highly Dynamic Destination-Sequenced Distance Vector routing protocol) C. E. PERKINS, P. BHAGWAT Highly Dynamic Destination-Sequenced Distance Vector (DTDV) for Mobile Computers Proc. of the SIGCOMM 1994 Conference on Communications Architectures, Protocols and Applications, Aug 1994, pp 234-244. [17] OLSR (Optimized Link State Routing Protocol) - PHILIPPE JACQUET, PAUL MUHLETHALER, AMIR QAYYUM, ANIS LAOUITI, LAURENT VIENNOT, THOMAS CLAUSEN Optimized Link State Routing Protocol (OLSR), RFC 3626. [18] Ad-hoc On-demand Distance Vector - C. PERKINS, E.ROYER AND S. DAS Ad hoc On-demand Distance Vector (AODV) Routing, RFC 3561

58

[19] Dynamic Source Routing - DAVID JOHNSON, DAVID MALTZ, YIH-CHUN HU: The Dynamic Source Routing Protocol for Mobile Ad Hoc Networks, Internet Draft, draft-ietfmanet-dsr-10.txt, work in progress, July 2004 / DAVID B. JOHNSON, DAVID A. MALTZ: Dynamic Source Routing in Ad Hoc Wireless Networks, Mobile Computing, Thomas Imielinski and Hank Korth (Editors), Vol. 353, Chapter 5, pp. 153-181, Kluwer Academic Publishers, 1996 [20] The North American Network Operators' Group, www.nanog.org. last time accessed was on September 16, 2006 at 16:00 pm EST. [21] Nortel's Wireless Mesh Network solution, www.norteI.com/corporate/news/collateral/nti2_wireless _mesh.pdf. last time accessed was on September 16, 2006 at 16:00 pm EST. [22] Micrsoft product documentation Configuring wireless network clients http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/enus/wlan_client_configuring_concept.mspx?mfr=true, last time accessed was on September 16, 2006 at 16:00 pm EST. [23] OPNET Technologies, Inc. http://www.opnet.com. last time accessed was on September 16, 2006 at 16:00 pm EST.

59

A ppendix A - A cronym s u sed in th is th e s is
ABR AMR AODV AS BOR BER BGP DR DSDV DSL DSR ETX LQSR LSA MANET MCL MR-LQSR OLSR OSPF QoS RREP RREQ RTT SPF TO WCETT WiFi WiMAX WMN WMR Area Boarder Router Access Mesh Router Ad hoc On-Demand Distance Vector Autonomous System Backup Designated Route Bit Error Rate Boarder Gateway Protocol Designated Route Destination Sequence Distance Vector Digital Subscriber Line Dynamic Source Routing Expected Transmission count Link Quality Source Routing Link State Advertisements Mobile Ad-hoc NETwork Mesh Connectivity Layer Multi-Radio Link Quality Source Routing Optimized Link State Routing Open Shortest Path First Quality of Service Route REPly Route REQuest Round-Trip Time Shortest Path First Topology Control Weighted Cumulative Expected Transmission Time Wireless Fidelity Worldwide Interoperability for Microwave Access Wireless Mesh Network Wireless Mesh Router

60

A ppendix B - Scenarios configuration
Scenarios configuration for protocol comparison based on overhead traffic and average response time a t node_0. All scenarios have 12 wireless fixed routers, and two wireless nodes. Distance between router is set to 600 m eters with transm ission power of 5 mW. Ping, param eters are set with startu p time a t 10 seconds, maximum repetition time was unlimited, counts was set to 10, and inter repetition time was set to three different sets (10, 20, 30 seconds). Finally, protocol hello times were set to (1, 5, 10 seconds). Measured Control traffic out of routers interfaces and first ping response time a t Node_0.

B .l AODV scen ario C onfiguration
All IP addresses are set up on physical interfaces as shown in Figure B-1.

Nod#l

Figure B-1: AODV scenario routers IP configurations

61

B.2 OSPF scen ario c o n fig u ratio n
All IP addresses are set up subinterfaces of one physical wireless interface as shown in Figure B-2.

Figure B-2: OSPF scenario routers IP configurations

B.3 OLSR sc en a rio co n fig u ra tio n
All IP addresses are set up on physical interfaces as shown in Figure B-3, turned on the second physical wireless interface.

'

I

192 04 5

I

Figure B-3: OSLR scen ario routers IP configurations

62

Appendix C - Bit E rror ra te in OpNet sim ulator
The following formulas are copy from OPNet code, and factors affecting Bit Error Rate. Where BER is bit error rate and SNR signal to noise ratio and proc grain is process gain.

BER = SNR + proc_gain

(B-1)

Where SNR is factor of received power and noise as shown in equation B2

SNR = 1 0 log {rcvd_pwr/(accum_noise + noise)}

(B-2)

Where rcvd is received power, accum_noise is accumulated noise and bkg_noise is background noise. Received power and noise are the main factors where received power is function of in bound transm it power and transm ission bandwidth as shown in equation B-3 and B-4.

rcvd_pwr = in_bound_tx_pwr x path_loss x (tx&rx gain) in_bound_tx_pwr = {tx_pwr x (bandmax - bandmin) / tx_bw}

(B-3) (B-4)

Where tx_pwr is transm ission power, tx&rx transm ission and receiving gain, tx_bw transm ission bandwidth. The second major factor in SNR equation is background noise, equations B-5, B-6, B-7 and B-8 explains other factors effecting noise. noise = amb_noise + bkg_noise amb_noise = rx_bw x amb_noise_level (B-5) (B-6)

63

bkg_noise = (rx_temp + bkg_temp)x rx_bw x boltzman rx_temp = (rx_noiseFigure - 1) x 290

(B-7) (B-8)

Where amb_noise is am bient noise, rx_bw is received bandwidth, bkg_temp is background tem perature. By changing noise factors and checking results on signal to noise ratio, there w asn't noticeable change on SNR because of noise value is very small and m any factors can be neglected like noise Figure and background tem perature. Therefore, the other factor th a t can make an effect on SNR equation is by changing tx_pwr in equation B-4 had an effect on SNR and subsequently on BER and th a t led to num ber of different convergence event.

% -103
64

