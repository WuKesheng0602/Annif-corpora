THE DESIGN AND DEVELOPM ENT O F A W EB-BA SED G iS APPLICATION FO R MANAGING FISH S P E C IE S AT RISK IN ONTARIO

By

Haibin Liu B.Sc., Nankai, Tianjin, China, 1987

A thesis presented to Ryerson University in partial fulfillment o f the requirements for the degree o f Master o f Applied Science in the Program o f Civil Engineering Ryerson University Toronto, Ontario, Canada Haibin Liu, 2005 PR O PeïïY O F RYER80N m v m g lT Y LtBRARY

UMI Num ber: E C 5 3 0 4 4

All rights reserv ed INFORMATION TO USERS

The quality of this reproduction is dependent upon the quality of the copy submitted. Broken or indistinct print, colored or poor quality illustrations and photographs, print bleed-through, substandard margins, and improper alignment can adversely affect reproduction. In the unlikely event that the author did not send a com plete manuscript and there are missing pages, th ese will be noted. Also, if unauthorized copyright material had to be removed, a note will indicate the deletion.

UMI*
UMI Microform EC 53044 Copyright 2008 by ProQuest LLC All rights reserved. This microform edition is protected against unauthorized copying under Title 17, United States Code.

ProQuest LLC 789 East Eisenhower Parkway P.O. Box 1346 Ann Arbor, Ml 48106-1346

Borrower's Page

R yerson U niversity requires the signatures o f all persons using or photocopying this thesis. Please sign below , and give address and date.

Name of Borrowers

Date

Address

Signature

Ill

The Design and Development of A Web-based GIS Application for Managing Fish Species at Risk in Ontario
Haibin Liu M aster o f Applied Science Department o f Civil Engineering Ryerson University, 2005

Abstract
This thesis presents a study on the design and implementation o f a Web-based Geographic Information Systems (GIS) application to support effective management o f fish species at risk (FSAR) in Ontario, Canada. By using Internet and GIS technologies, a fish distribution management application was created and implemented for the Department o f Fishery and Ocean Canada, Ontario Great Lake Area (DFO-OGLA). The goal o f the study is to implement a web-based fish species viewing and querying system that would allow users to obtain information about the FSAR data.

The proposed WebGIS system not only includes common GIS mapping tools to navigate the map and geospatial data, but also provides specific geospatial search engine tools and fish species reporting tools. WebGIS provides an easy and inexpensive way for the biologists and environmental scientists to access FSAR information with web browsers.

IV

Acknowledgements

M y greatest thanks go to m y supervisor, Dr. Jonathan Li, for his thoughtful and valuable input, tim e, ideas and suggestions. W ithout his patience, encouragem ent and

understanding, this thesis w ould not have been possible.

I greatly appreciate the w ork o f m y com m ittee m em bers, D r. M ike C hapm an and Dr. Songnian Li. These professors took their valuable tim e review ing and providing feedback on m y thesis.

I w ould also like to thank Fisheries and O ceans C anada (D FO ) - B urlington, for providing m e w ith the opportunity o f studying in the area o f W eb-G IS and environm ental protection. In particular, I w ould like to express m y thanks to Peter B runette, w ho enlightened m e w ith his expertise and experience in W ebG IS and geo-database. M y thanks equally go to A ndrew D oolittle o f DFO . As a geo-database analyst and m apping specialist, he offered m e valuable suggestions and helped m e w ith the building o f the geo-database.

I also attribute m y accom plishm ent to Dr. M oham ed L achem i and other faculty and staff m em bers in the D epartm ent o f C ivil E ngineering, for th eir help and support. M any thanks for the help o f D esm ond R ogan, L eah Stan^vyk, K im K ritzer and D ianne M endonca for their help and adm inistrative support.

I would like to thank my fellow graduate students in the Program o f Civil Engineering at Ryerson University, Sean Gao, Haibin Dong, Mark Tulloch, Xu Sun, Yu Li, Ruiqiu Li, Hongmei Zhao, Eric Chang, Lijun Gu, Wenhao Gu, and W ensong Hu for their help. The time with them was always happy and enjoyable.

Thanks also go to Doug Mount for prove reading o f the thesis.

I wish to express my gratitude to my parents for their unconditional love and support, and to my wife, Huiquan Zhang, and my son Henry for their endless love, patience, and encouragement. Without their help and understanding, I would never have completed this thesis.

VI

Table of Contents
A b stra c t.................................................................................................................................................iv A ckn o w led g em en ts.............................................................................................................................v L ist o f T a b le s ......................................................................................................................................xi L ist o f F ig u re s.................................................................................................................................. xiii L ist o f A c ro n y m s ..............................................................................................................................xv
C h a p t e r 1 I n t r o d u c t i o n ................................................................................................................1

1.1 M o tiv a tio n s.................................................................................................................................... 1 1.2 O bjectives o f the S tu d y .............................................................................................................. 4 1.3 Scope and L im itations o f the S tu d y ........................................................................................ 7 1.4 Structure o f the T h e s is ................................................................................................................8
C hapter 2 B ackground L i t e r a t u r e R e v i e w ............................................................10

and

2.1 W ebG IS .........................................................................................................................................11 2.2 W ebG IS T e c h n o lo g ie s..............................................................................................................13 2.2.1 An Overview ........................................................................................................................... 13 2.2.2 Interactive Web Maps ............................................................................................................ 14 2.2.3 Internet Map Servers ............................................................................................................. 16 2.3 W ebG IS A rc h ite ctu res............................................................................................................. 18 2.3.1 Thin Client Architecture (Server Side Applications) ............................ 20

2.3.2 Thick Client Architecture (Client Side Applications) ....................................................... 22 2.3.3 Distributed Architecture ....................................................................................................... 23 2.4 W ebG IS: T ools and P ro d u cts.................................................................................................24 2.4.1 Non-commercial Open Source Tools ............................................................................... 24
v ii

2.4.2 Commercial Non-Open Source Products

.....

........25

2.5 Sample Sites o f WebGIS A pplications...........................................................................26 2.5.1 Conservation Atlas o f Wetlands in the St. Lawrence Valley, Canada........................... 27 2.5.2 OaJcMapper WebGIS Application................................................................................... 28 2.6 Rapid GIS Application Development M ethod............................. 29

2.7 GeoDatabase and M etadata...............................................................................................32 2. 7.1 Geodatabase.................................................................................................................... 32 2.7.2 Geodatabase and RDBMS.............................................................................................. 32 2.7.3 Metadata ......................................................................................................................... 33
C h a p t e r 3 U se r R e q u ir e m e n t s
and

I n f o r m a t io n N e e d s A n a l y s i s ...........................3 5

3.1 Development Planning.......................................................................................................36 3.2 Survey o f User Needs and R equirem ents...................................................................... 37 3.2 Major Functions A nalysis................................................................................................. 39 3.2.1Common GIS Mapping Tools.......................................................................................... 40 3.2.2 Ontario Search Engine................................................................................................... 41 3.2.3 Reporting Tools fo r Access to SAR Information ........................................................... 42 3.3 Data and Database Analysis..............................................................................................43 3.3.1 Geospatial Data ............................................................................................................. 43 3.3.2 Fish Distribution Data ................................................................................................... 45 3.4 Sum m ary..............................................................................................................................45
C h a p t e r 4 D e s ig n F R A S S y s t e m A r c h i t e c t u r e .....................................................4 7

of the

4.1 Architecture for the FASR System ................................................................................. 47 Disadvantages.......................................................................................................................... 48 4.2 ArcIMS A rchitecture.........................................................................................................49
v iii

4.3 D esign o f W ebG IS M ajor F u n c tio n s ......................................... 4.3.1 Common GIS Mapping Tools ...................................................................................

54 54

4.3.2 Ontario Search Engine Tools:..............................................................................................57 4.3.3 Reporting Tools ......................................................................................................................57 4.4 System H ardw are and Softw are D e s ig n ............................................................................. 58
C hapter 5 D F A S R S y s t e m .............................................................................6 1

evelopm ent of the

5.1 Softw are D evelopm ent T o o ls ................................................................................................ 61 5.2 C ustom izing the H TM L V iew er P a ra m e te rs.....................................................................62 5.3 Im plem entation o f Q uery F u n c tio n s.................................................................................... 64 5.3.1 Gazetteer Search ................................................................................................................... 64 5.3.2 Topographic Search Tool .......................................................................... 66

5.3.3 Quick Zoom Search ............................................................................................................... 67 5.4 R eporting T ools Im p lem e n ta tio n .......................................................................................... 69 5.4.1 Dynamic Reporting .................................................................................................... 69

5.4.2 Static Reporting ...................................................................................................................... 71 5.5 D ata and G eo D atab ase ............................................................................................................. 72 5.5.1 The FSAR Database Development ............................................................................ 72

5.5.2 Global Rank (GRANK) and Provincial Rank (SRANK)................................................... 74 5.5.3 DFO Schedules ....................................................................................................................... 78
C h a p t e r 6 C o n c l u sio n s
and

R e c o m m e n d a t i o n s .........................................................................7 9

6.1 C o n clu sio n s................................................................................................................................. 79 6.2 Future E n h a n c e m e n t.................................................................................................................81 6.3 R eco m m en d atio n s..................................................................................................................... 82

IX

R e f e r e n c e s ......................................................................................................................................................... 85

A p p e n d ix

A .........................................................................................................................90

A p p e n d ix

B .......................................................................................................................100

A p p e n d ix

C .......................................................................................................................101

%

List of Tables
T able 2.1 T raditional G IS vs. W eb G IS ............................................................................................12 T able 2.2 Selected Internet M ap S e rv e rs ........................................................................................ 17 T able 3.1 C om m on GIS M apping T o o ls.........................................................................................40 T able 3.2 M ap File L a y e rs ..................................................................................................................44 Table 3.3 F ish D istribution D ata T a b le s .........................................................................................45 Table 4.1 C om parison o f Server-S ide and C lient-Side W ebG IS A rc h ite ctu res..................48 T able 4.2: A C om parision o f A rclM S Standard V iew ers...........................................................52 Table 4.3 C om m on GIS M apping T ools D escrip tio n ................................................................. 54 Table 4.4 D escription o f the O ntario Search Engine T o o ls .......................................................57 Table 4.5 D escriptions o f R eporting T o o ls.................................................................................... 58 T able 4.6 C onfiguration o f the FA R S Server S ystem ................................................................. 59 T able 4.7 C onfigurations o f G eodatabase (A rcSD E) S e rv e r.................................................... 59 T able 5.1 G lobal R ank (M N R O ntario, 2 0 0 5 a )............................................................................ 74 T able 5.2 Provincial R ank (M N R O ntario, 2 0 0 5 b )...................................................................... 76 T able 5.3 D FO Schedule R a n k ......................................................................................................... 78 T able A .l G azetteer C ategory List T a b le ...................................................................................... 90 T able A .2 T he C# C ode for G azetteer Page L oad and R efresh C ontrol o f `N am e' 94

T able A.3 T he JavaS cript C ode for B utton Z o o m -T o ................................................................ 99
xi

Table B .l Topographie Category List T a b le :............................... ,........................................ 100 Table C .l Species Lookup Table (DFO.SAR lo o k u p )........................................................ 101 Table C.2 Species Summary Table by W atershed................................................................. 101 Table C.3 Species Summary Table by Segm ent.....................................................................102 Table C.4 Tertiary W atershed Layer (NRVIS.W ATSHD_TERT_SUM M ARY_BT)... 102

X ll

List of Figures
Figure 1.1 O G L A (Source: D FO , 2 0 0 4 )........................................................................................... 7 Figure 2.1 O penG IS M odel o f Portrayal W o rk flo w .................................................................... 15 Figure 2.2 H ow a Typical W ebG IS M odel W o rk s ...................................................................... 19 Figure 2.3 Server Side A p p lic a tio n s................................................................................................20 Figure 2.4 C lient Side A p p licatio n s................................................................................................. 22 Figure 2.5 C onservation A tlas o f W etlands in the St. L aw rence V alley, C a n a d a 26

Figure 2.6 O akM apper W ebG IS A p p lic a tio n ............................................................................... 28 Figure 3.1 P roject Start U p and P la n n in g .......................................................................................35 Figure 3.2 A n U se C ase D ia g ra m .....................................................................................................37 Figure 3.3 M ajor Functions o f F S A R W ebG IS A p p lic a tio n .................................................... 39 Figure 3.4 O ntario Search Engine T o o ls.........................................................................................41 Figure 3.5 R eporting T o o ls ........................................................................................................ 42

Figure 4.1 C lient-Side vs. Server-Side A rc h ite c tu re .................................................................. 47 Figure 4.2 A rcIM S T hree-T ier A rchitecture (Source: ESRI, 2 0 0 3 )...................................... 50 Figure 5.1 C ustom ized V iew er o f the FS A R sy ste m .................................................................. 63 Figure 5.2 G azetteer S e a rc h ............................................................................................................... 65 Figure 5.3 G azetteer Search: 'Z oom T o' city o f B a rrie ................................................................ 65 Figure 5.4 T opographic S e a rc h ......................................................................................................... 66
x iii

Figure 5.5 Topographie Search: 'ZoomTo' Dace L ak e................

67

Figure 5.6 Quick Zoom Search................................................................................................... 68 Figure 5.7 Quick ZoomTo the Map o f "Samia " ..................................................................... 68 Figure 5.8 Reporting by W atershed........................................................................................... 69 Figure 5.9 Report o f fish distribution in watershed 2 G G .......................................................70 Figure 5.10 Static Reporting........................................................................................................71 Figure 5.11 FSAR Geodatabase Im plem entation.................................................................... 73 Figure A .l Gazetteer Category Lookup: C ity...........................................................................92 Figure A.2 Topographic Category Lookup: H ydrography.................................................... 93

XIV

List of Acronyms
ADO A SP C# CGI C O SE W IC C PU DEC D FO ESR I FS A R GIS H TM L HTTP IM S IT LA N M bps N R VIS NTDB O G LA OMNR A ctive D ata O bject A ctive S erver Page C Sharp C om m on G atew ay Interface the C om m ittee on the Status o f Endangered W ildlife in C anada C entral Processing U nit D isplay E lem ent G enerator D epartm ent o f Fisheries and O ceans E nvironm ental System s R esearch Institute, Inc Fish Species at R isk G eographic Inform ation System s H ypertext M ark-up L anguage H ypertext T ransfer Protocol Internet M ap Server Inform ation T echnology Local A rea N etw ork M egabits Per Second N atural R esources V alues Inform ation System N ational T opographic D atabase O ntario - G reat L akes A rea O ntario M inistry o f N atural R esources
XV

PNG PDF RMI RAD RDBMS SARA SIG SOD URA URL WAN W WW

Portable Network Graphics Portable Document Format Remote Method Invocation Rapid Application Development Relational Database M anagement Systems The Species at Risk Act Special Interest Group Sudden Oak Death User Requirement Analysis Uniform Resource Locator Wide-Area-Network W orld Wide Web

XVI

Chapter 1 Introduction
1.1 Motivations
T oday, a grow ing num ber o f w ildlife species in C anada face a very real, and in m any cases, im m ediate threat o f extinction. Som e o f these species are im portant to industries such as C anada's fisheries. Som e o f them are the last o f their kind in the w orld. A ll o f these species have an essential role to play in the environm ents w here they live (D FO , 2005). In O ntario alone, there are m any fish speeies that are considered at risk, due m ainly to hum an factors such as habitat loss, pollution, overexploitation, and disease. H um ans are the m ajor cause o f the loss o f species and their habitats. In Southern O ntario, as m ore and m ore people m ove into the area and industries continue to grow , phosphorus pollution and hum an activities are severely threatening fish habitats and local w ater quality.

For all o f these reasons, the federal governm ent is actively com m itted to protecting species at risk. The Species at R isk A ct is one o f the m ost im portant tools in this effort. The Species at R isk A ct (SA R A ) w as created to protect w ildlife species from becom ing extinct in tw o ways: · · B y providing for the recovery o f species at risk due to hum an activity; and B y ensuring, through sound m anagem ent, that species o f special concern do not becom e endangered or threatened.

The Act became law in June 2003. It includes prohibitions against killing, harming, harassing, capturing or taking species at risk, and against destroying their critical habitats (DFO, 2005).

Three government departments are directly involved in protecting species at risk; Environment Canada, Parks Canada, and Fisheries and Oceans Canada or the Department of Fisheries and Oceans (DFO), among which DFO is responsible for all aquatic species, freshwater and saltwater alike.

Under SARA, DFO must produce recovery strategies and action plans for aquatic species listed as endangered or threatened. Once a species is added to the list and protected officially under SARA, a recovery strategy must be developed. For endangered species, this strategy must be developed within a year o f the listing; for threatened or extirpated (extinct in Canada) species, it must be developed within two years.

These recovery strategies and action plans will detail the specific steps that need to be taken to protect identified species. To make sure that D FO 's strategies and plans are practical, effective, and in keeping with a sound fisheries management approach, accurate, reliable, and updating spatial information about the fish species at risk and the effective information technologies are to be used to manage, analyze, and utilize such information as well as communicate such information with stakeholders -- the people being affected. From the D FO's perspective, there can be no success without the

collaboration o f everyone involved; the scope, scale and im portance o f this process dem and a truly collective effort.

This study is m otivated by the D F O 's requirem ent for spatial inform ation technologies to support the effective m anagem ent o f fish species at risk.

G eographic inform ation system s (G IS) have been used in w atershed-related studies and décision-support system s for fish species m anagem ent in the last decade (Pickus and H ew itt 1992, Jam es and H ew itt 1992, A ngerm eier and B ailey 1992, Frye and D enning 1995). GIS have been proved to be a successful tool in a w ide variety o f natural resource m anagem ent practices (Schreier and B row n 1992), environm ental m onitoring and

po llu tio n contam ination assessm ent (R unyon et al. 1994). H ow ever, m ost existing GIS applications have been based on the use o f the com m ercial desktop GIS softw are packages such as A rcG lS (E SR I Inc., R edlands, CA ), w hich are costly and require extensive training and high-end hardw are to get reasonable perform ance. In contrast, W ebG IS provides end-users a cost-saving solution to access up-to-date spatial datasets and inform ation (H oranont 2002; Painho, 2001). A W ebG IS is designed w ith tools and features th at are com m on on W eb pages and it is therefore easy to understand for users fam iliar w ith the Internet (N elson, 2002). O ther advantages o f W ebG IS include independence o f platform s and operating system s. U sually only a sim ple W eb brow ser is used to establish a client/server connection. Furtherm ore, W ebG IS can be custom ized to p rovide specific data and inform ation and/or services to end-users. In this study a W ebG IS application w ill be custom ized for O ntario's fish species at risks m anagem ent.

The DFO in Ontario - Great Lake Area (DFO OGLA) is part o f the DFO Central and Artie Regions with headquarters in Burlington, Ontario. The district offices o f the DFO OGLA are located in Burlington, Parry Sound, Peterborough, Prescott, Samia, Sault Ste. Marie, Sudbury, and Thunder Bay. Their mandate is to implement a fish habitat program in Ontario and throughout Canada, focusing on habitat provisions o f the Fisheries Act in cooperation with regulatory partners. However, the centre o f the geospatial data and fish species data is located and managed at the Burlington office. This study attempts to develop a Web-based application, in which WebGIS will hold the potential to make distributed geographic information available to multiple users in different locations. Also, those Internet users will be able to access GIS applications from their browsers without purchasing proprietary GIS software.

1.2 Objectives of the Study

This study aims at designing and developing a Web-based GIS system for effective management of fish species at risk in Ontario. The system, named FSAR in this thesis, is a Web-based application using GIS tools to provide spatial definition and visual presentation of inland water biological and fisheries data. The development o f such an application was initially sponsored by the DFO to meet the geospatial data management needs o f the department and its partners.

The objectives o f F S A R are closely aligned w ith the SA R A . T he visio n for the FSA R system is to provide biologists and environm ental scientists an im proved access to the inform ation o f O ntario inland w ater fish species in order to m ake plans and decision m aking that relate to and im pact on O ntario inland-w ater fish species environm ent.

Specific objectives o f the system are to: · Support decision-m aking processes that affect O ntario inland w ater fish species biological diversity. · Im plem ent the W ebG IS m apping applications for the distributed users o f the D F O 's nine district offices and the D F O 's partners across O ntario. T he W ebG IS m apping tools provide search, query and reporting tools for all fish species, aquatic habitats, w atersheds and ecosystem s in O ntario. · Im prove the m anagem ent o f O ntario inland w ater aquatic inform ation through the im plem entation and m aintenance o f a com m on geospatial database and m etadata standards.

A key benefit o f the proposed F S A R system over other options is its user-friendly w eb brow ser interface. The w eb brow ser interface m akes it possible to create a dynam ic

system that m akes access to inland-w ater aquatic inform ation easier for both fisheries m anagem ent personnel and the D F O 's partners o f external organizations. This system should m eet the follow ing requirem ents: · W eb brow ser interface that m akes access easy.

·

Central data and WebGIS system management rôle in DFO in Ontario - Great Lake Area (OGLA),

· ·

No GIS experience required for users, and Wide range o f potential uses.

The Web-based FSAR system should be able to provide web-mapping tools o f fish distribution and reporting tools for the access to fish species at risk information, such as fish species listings and designations, distribution maps, the COSEWIC (Committee on the Status o f Endangered Wildlife in Canada) reports, and the SAR fact sheets. The environmental scientists and geoscientists use the system as a tool to protect fish species at risk from becoming extinct or lost from the wild in Ontario. The ultimate objective is, therefore, to help their numbers to recover. To protect fish species at risk and to protect their habitats, it is necessary to have a database that houses the information o f their distribution, abundance and life history, including species at risk (SAR). Currently, there is a significant amount o f data, such as ground truth data, laboratory data as well as research analytical data. These data have been developed by the fishery resource related research organizations. These data can often serve many applications. However, to date, there has been no single database designed to house the SAR data. The database to be built contains extensive geospatial and non-geospatial data information on fish species at risk and their habitat characteristics in Ontario, Canada.

1.3 Scope and Limitations of the Study

The study area covers all w atershed lands w ithin O ntario. A lthough w ater levels fluctuate, the boundaries o f fish habitat do not change. Fisheries and O ceans Canada, O ntario - G reat L akes A rea (O G L A ) determ ines the boundary o f fish habitat (see Figure 1.1) using historical long-term w ater levels, linking the habitat to the requirem ents o f fish populations throughout their life cycles (Fisheries and O cean C anada, 2005). This m eans th at the extent o f fish habitat is not determ ined by short-period w ater level fluctuations. F or exam ple, in low gradient shoreline areas (e.g. sand beaches and w etlands) sm all decreases in w ater level sustained over a long period o f tim e m ay result in large distances created betw een the current w ater level and the levels that are m ore indicative o f an average year.
Ontario - G reat Lakes Area (OGLA)

Ouriinglen

PtMTf Sound

L.
B i ySK o f w r i i

w .

)

^ .
ré " '

'

. i-

.4

*

>

«
· Fish Species At Risk Sampled - - - International Boundary (Note Some points may overlap)

Figure 1.1 O G LA (Source: D FO , 2004) 7

Currently, there are nine district offices across OGLA; Sarnia Bulington Prescott Sault Ste. Marie Parry Sound Peterborough Thunder Bay/Kenora Sudbury = y :r .1 ; yi y % :;y , v

\ "

Since the sensitive nature o f the SAR database information, public is not allowed to access the website outside the DFO Intranet. The SAR database is only shared within the DFO's nine offices and their partners in Ontario. The firewalls block all Internet requests, which attempt to access the W ebGlS site and retrieve information from outside o f the DFO network. To protect sensitive database information, the onsite service is provided in this study in all development phases within the DFO Burlington office.

1.4 Structure of the Thesis

Following Chapter 1, the remainder o f the thesis is organized into five more chapters. Chapter 2 reviews literature on current WebGIS technologies and architecture, and presents a comparison of traditional GIS with WebGIS. Sample sites o f WebGIS applications are introduced in detail together with ESRl's ArclM S. Following a
8

background o f softw are engineering theory, this chapter introduces a rapid GIS application developm ent approach, w hich is used for the W ebG IS application

developm ent procedure.

C hapter 3 presents the first phase o f an application developm ent, and user requirem ent analysis. F ollow ing the user requirem ent analysis, the m ajor com ponents are described in the second p art o f the C hapter 3.

C hapter 4 gives a description o f building hardw are and softw are for a W ebG IS system . T he chapter then gives a rationale o f w hy PS A R selected an H T M L V iew er.

C hapter 5 p resents the details o f w ebsite im plem entation. Since the application uses a rapid application developm ent m ethod, the chapter presents a description of

im plem entation o f prim ary com ponents and database design for fish species at risk.

C hapter 6 draw s conclusions derived from the results o f the thesis. Future enhancem ents o f this project are discussed and recom m endations are m ade on extending the use o f W ebG IS solutions.

Chapter 2 Background and Literature Review

Geographic information systems (GIS) are "computer programs for acquiring, storing, interpreting, and displaying spatially organized information" (Green & Bossomaier, 2002). GIS had its origins in many different disciplines and is characterized by widespread applications in many areas including cartography, geological surveys, environmental management, and urban planning. Three major aspects o f GIS include cartographic ability, database management, and analysis and modeling. These aspects illustrate the diversity o f applications o f GIS (Maguire, 1991).

In early times, generic GIS products experienced the changes from command-line interfaces to graphical user interfaces, and from mainframe GIS to desktop GIS. This evolution has been heavily influenced by the progress o f computer technology and Information Technology (IT). The rise and boom o f the Internet during the 1990s

revolutionized the dissemination o f information. GIS has inevitably been influenced in three major areas: data access, spatial information dissemination, and

modeling/processing. Distributed GIS and Open GIS conceptions have begun to reshape the development o f GIS and exploit new possibilities for the GIS industry (Maguire, 1999; Longley et al. 2001; Peng and Tsou, 2003).

10

2.1 W ebG IS

Traditional GIS system s consist o f a single softw are package, w ith data on a single m achine. This stand-alone desktop m odel lacks netw orking capability. T raditional GIS can no longer m eet the requirem ents o f com plicated situations, w hich are often m ulti disciplinary, m ulti-platform , m ulti-softw are and m ulti-user. W ebG IS separates the user interface, data storage and processing, all o f w hich are norm ally on a single m achine in traditional G IS. W ebG IS can provide GIS users w ith scalability, reusability, and flexibility. H ow ever, the stand-alone GIS softw are is specialized at geospatial data p rocessing and geospatial data analysis. Som e advantages o f w eb o r distributed G IS over traditional m ainfram e and desktop G IS include (Piew e, 1997; G reen and B ossom aier, 2002; Peng and Tsou, 2003); · · · W orld-w ide access; M uch m ore accessibility: easier and faster access expands potential GIS users D ata, inform ation or service can be distributed anyw here, anytim e to the online desktop com puters, laptops, o r PD A s; · N o proprietary GIS products are necessary; people who could not afford expensive GIS softw are can access free data and services or pay a m inim um price; · E lim inate duplication o f data collection and sim plify the updating o f data and inform ation; · V ersion control o f the W ebG IS application. W hen a W ebG IS application is upgraded, only one copy on the w eb server need to be upgraded;

11

·

Able to combine data and information from many different sources including local data;

·

Improve the efficiency o f GIS database management and reduce the cost o f GIS database maintenance;

Some major differences between traditional and WebGIS are listed in Table 2.1. Although WebGIS has many advantages over the traditional model, it still can not provide the same functionality as traditional GIS since analysis functions are still very limited compared with desktop GIS at present.

Table 2.1 Traditional GIS vs. WebGIS

Traditional GIS
Data needs to be gathered separately in large volume and at high cost Duplication of effort due to lack o f communication and sharing system Proprietary GIS software is required for all users GIS operations can only be available locally Maintaining and updating the information separately costs money and effort. The cost and availability o f GIS data and software limit the potential pool o f GIS users

WebGIS
Data can be published and shared; the overall cost o f data collection and maintenance can be largely reduced Avoids duplication because o f a sharing system Patent software is not necessary for all users GIS services can be leased, subscribed or purchased through Internet Increase the potential volume o f available information, distribute the workload, simplify the updating o f information GIS users are greatly expanded due to the flexibility and lower cost

(Source: Green and Bossomaier, 2002; Peng and Tsou, 2003)
12

2.2 W ebG IS T echnologies

In this section, an overview o f the current W ebG IS technologies is presented. GIS softw are has enabled users to view spatial data in its specific form at. A s a result, the interpretation o f spatial data has becom e easy and increasingly sim ple to understand. U nfortunately, not everyone has access to GIS. W ebG IS becom es an inexpensive and easy w ay o f dissem inating geospatial data. A num ber o f organizations are interested in d istributing m aps and geo-searching tools to their users w ithout tim e and location restrictions. Internet technology has m ade this possible for m any organizations as well as num erous individuals. To provide a successful W ebG IS solution the im plem entation needs to be considered as a process rather than one sim ple step. The design and im plem entation should also respect the available IT and G IS technology and the end user requirem ents.

2.2.1 An Overview

D evelopm ent o f the W eb and expansion o f the Internet provide tw o key capabilities that can greatly help environm ental scientists and geoscientists. First, the W eb allow s visual interaction w ith geospatial data. B y setting up a W eb Server, w eb users can brow se the m aps w ith w eb brow sers. Since the m aps and geospatial data are published on the Internet/Intranet, other users can view these updates, helping to speed up the fish species evaluation process. Second, because o f the near ubiquitous nature o f the Internet, the

13

geospatial data can be widely accessible. Users can work on it from almost any location at any time. Both features will alter the way environmental scientists and geoscientists do their work in the very near future. At the same time, WebGIS does not require the same resources as the desktop programs. Powerful computers, extensive training, and expensive site licenses are not required for a site-wide GIS solution (Strand, 1998).

However, WebGIS is not without its drawbacks. The primary issue is connection speed, since GIS relies on extensive use o f graphics, which makes the traffic over the Internet/Intranet quite heavy. WebGIS will not match the complexity o f dedicated desktop GIS applications, such as Arc View or ArcMap.

2.2.2 Interactive Web Maps

There are several technology levels available to publish map data on the Web, ranging from sites that simply publish static Web maps to more sophisticated sites which support dynamic maps, interactively customized maps, as well as multiple computer platforms and operating systems. In terms o f WebGIS, the most challenging map is the interactive one. Within the Open GIS Consortium, a Special Interest Group (SIG) for WWW Mapping is working on issues o f Web-based GIS publishing. This group has recently developed an essential model o f interactive portrayal (Figure 2 .1 ).

14

D e v ic e C haracteristics Image Constraints Style_______

Display Render D is p la y E l Display Element G enerator I Select

C onstraints

Figure 2.1 O penG IS M odel o f Portrayal W orkflow

T his m odel is a very useful tool to analyze and com pare different architectures for Internet M ap Server (IM S) and other Internet based GIS applications. M oreover, it is m ore precise than the com m on expression, w hich often leads to m isunderstandings. The interactive portrayal m odel has four tiers: · The Selection process retrieves data from a geospatial data source according to query constraints such as a river stream id. · The D isplay E lem ent G enerator process turns the selected geospatial data into a sequence o f display elem ents. It attaches styles such as sym bols, line styles, fill styles to spatial features, generates annotation from alphanum eric attributes; sorts the display elem ents in a certain order and does other graphical processing. · The R ender process takes the display elem ents and generates a rendered m ap. E xam ples o f rendered m aps are In-m em ory display lists, G IF -files o r postscript files.

15

·

The Display process makes the rendered map visible to the user on a suitable display device.

Between these four tiers, there are three different types o f data; 1. Features and coverages data (e.g. vector data) retrieved from the Selection process; 2. Display elements generated from the Display Element Generator; 3. Images produced by the Render process;

The next capability for interactive Web maps is to allow users to add new themes to the map from a catalog o f available data sources. This can be accomplished by specifying the entire theme, or by querying the spatial or attribute data and returning all those features that satisfy the query criteria (Strand, 1998). When maps are comprised o f multiple themes, each theme being displayed as a graphical layer in the map image, the displayed map can become too complex to be o f value, unless users are allowed to select which themes are displayed.

2.2.3 Internet Map Servers
Internet Map Server (IMS) applications allow GIS database custodians to easily make their spatial data accessible through a web browser interface to end-users. The high-speed DFO Intranet makes an ideal network for distributing data in this manner, given the fact that bandwidth requirements can be high. Making data available to the entire world is

16

certainly feasible and any organization that has a public w ebsite can certainly add an IM S w ithout opening up too m any additional security holes.

For a w orking IM S, the associated softw are requires tw o com ponents to function. The first com ponent is a geospatial data processing engine that runs on the server side as a service, such as Servlet or C om m on G atew ay Interface (C G I) application. The second com ponent processes the raw spatial data into a m ap and a standard w eb server that m anages the incom ing requests and replies w ith the proper m ap d ata back to the client side brow ser o r application w indow . The end product is either a JPEG or GIF im age or vector, w hich is transm itted back to the client w eb brow ser or a stream o f data that is interpreted by a plug-in to the client brow ser. G enerally, IM S that transm it back an im age have a lim ited capability that does not extend m uch beyond pan, zoom , and basic vector attribute query. The feature stream ing IMS requires a dow nloadable plug-in, w hich is a com puter program that can interact w ith w eb brow ser to provide a certain GIS function. The p lug-in allow s for advanced query, labeling, and operations o f uploading geo data files to be perform ed. Som e IM S sites offer both a plug-in and a sim ple H TM L version, w hich is nice for surfers w ho are w eary o f plug-ins. A n overview o f the six m ost com m only used Internet M ap Servers is provided in Table 2.2.

Table 2.2 Selected Internet M ap Servers

Internet Map Server
A rcIM S 9.0 (ESR I)

Transferre d Geo data
R aster, vector (Internal ESRI form ats)

Platform of IMS
W in N T/2k, W indow s 2003 Server

Browser extension
H tm l, A pplet

Data interface Shapefiles, coverage, SD E Layer, ...

17

MapXtreme NT Ver 2.0 (Maplnfo) MapXtreme Java Ver 2.0 (Maplnfo) MapXtreme 2004 MapGuide 4.0 (AutoDesk)

Raster

W in NT

Html, Applet

Raster, vector Raster, vector Raster, vector

W in NT, UNIX W inNT/2k Win NT

Applet

Maplnfo format map, Shapefiles, coverage, SDE Layer, raster

Html, Applet Plug-in, ActiveX, Applet DWG, DXF, DGN, Maplnfo, Shapefiles, coverage, MGE, Maplnfo format map, Shapefiles, coverage, Oracle, Access Shapefiles, SDE layer, raster

GeoMedia Web Map / Interprise 5.0 (Intergraph)

Raster, vector

Win NT/2k

Plug-in, ActiveX

Map server 3.5 (Minnesota DNR)

Raster, vector

W in9x, NT, Win2k/XP

Html, Applet

In the Internet Map Servers product suite, IMS acts either as out-of-the-box but customizable and expandable tool, or as development environment. W hen deciding on an IMS, one should pay attention to the offered data interface in order to use existing geospatial data without problems.

2.3 WebGIS Architectures

In performing the GIS analysis tasks, WebGIS is similar to the typical client/server threetier architecture. The geo-processing breaks down into server-side and client-side tasks. A client typically is a Web browser. The server-side consists o f a W eb Server, WebGIS software and Database (Figure 2.2) (Helali, 2001).

18

Client Web Browser R equest WWW _ _ HTML, Image, M ap,...
-

Server Web Server Map Server

GIS Software V -- Figure 2.2 H ow a Typical W ebG IS M odel W orks

GIS Database .

T his m odel o f netw ork w idely exists w ithin enterprises, in w hich som e com puters act as servers and others act as clients. A sever sim ply has the proprietary GIS running, and adds a client interface at the client side and a m iddlew are at the server side to com m unicate betw een the client and the proprietary GIS softw are.

R ecent developm ent in object oriented program m ing m akes it possible to produce softw are com ponents, and sends them to the client before running it in the client m achine, such as Jav a classes, A ctiveX com ponents and plug-ins. This developm ent brings users the thick client GIS. The thiek-elient architecture lets the client m achine do the m ost processing w ork locally. B oth thin and thiek-client system s have som e advantages and draw backs, hut they are not the best solution in term s o f taking advantage o f netw ork resources.

19

2.3.1 T hin C lient A rchitecture (S erver Side A pplications)

The thin client architecture is used in a typical WebGIS architecture. In a thin-client system, the clients only have user interfaces to communicate with the server and display the results. All the processing is done on the server as shown in Figure 2.2. The server computers usually have more power than the client computers, and manage the centralized resources. Besides, the main functionality is on the Server side in thin architecture, and there is also the possibility for utility programs at the server side to be linked to the server software. Figure 2.3 shows schematic communication between Web browser, Web Server and GIS server. On the Web Server side, there are some possibilities to realize the GIS connection to the World Wide Web; CGI, Web Server Application Programming Interface (API), Active Server Pages (ASP), Java Server Pages (JSP) and Java-Servlet. The descriptions o f the five possibilities mentioned above are given in Helali (2001).

CGI

/ ''* --^

^

^ A».

r --------------rjn ^
Web Server'

'

Internet

Web Server API Serverlets ASP. JSP

Figure 2,3 Server Side Applications

The user on the client side does not need any knowledge about the linkage o f the IMS at the server side, but the system administrator or application developers should be familiar

20

w ith these techniques. T his architecture is used in ESRI A rcIM S, M apO bjects IM S and M aplnfo M apX trem e system s.

M ajor advantages o f this m odel driven by D ata B ase centralization are: · · · · · C entral control E asy for data updating K eep the latest version G enerally inexpensive Integration possibilities

D isadvantages: · · · · N o t responsive to local needs: users have different invokes N o local accountability: accountability requires ap plication o n the client side Large d ata volum e Slow response tim e: users use a brow ser and take a long tim e to dow nload new H T M L fram e · · Less interactive: on client side there is lim ited application and brow ser abilities V ector d ata does not appear on the client side: brow sers w ithout additional plug in can not read vector files

21

2.3,2 Thick Client Architecture (Client Side Applications)

In general, a Web browser can handle HTML documents and embed raster images in the standard formats. To deal with other data formats such as vector data, video clips or music files, the browser's functionality has to be extended. When it comes to using exactly the same client sever communication in a thin client architecture, vector files format can not be currently used. To overcome this problem most browser applications offer a mechanism that allows third tier programs to work together with the browser as a plug-in.

The user interface functionality has progressed from simple document fetching to more interactive applications. This progress is as follows: HTML and CGI use HTML forms, CGI, and Java script to increase user interface capabilities. On the other hand, Java applets provide client-side functionality. Currently, user interface capabilities are combined with remote invocations (Figure 2.4) (Byong-Lyol, 1998).

Plug-in
Java Applet JavaScript ActiveX

v ;

y

C G I V , :

k

memet

Semr

Serverlets

Figure 2.4 Client Side Applications

The major advantages o f this model are: · · Document/graphics standards are not required Vector data can be used
22

· ·

Im age quality is not restricted to G IF and JPE G M odem interface is possible; it is no t restricted to single-click O perations

The draw backs to C lient Side o f this m odel are: · · · U ser-based U sers are required to obtain additional softw are B row sers are ineom patible

2.3.3 Distributed Architecture

R ecent developm ents in inform ation teehnology have resulted in a num ber o f distributed o bject architectures that provide the fram ew ork required for building distributed applications. The fram ew ork also supports a large num ber o f servers and applieations running concurrently. M any o f such fram ew orks provide natural m echanism for

interoperability (K afatos, 1999). For exam ple. D istributed C om ponent O bject M odel architecture in w indow s platform and Java R em ote M ethod Invocation (RM I) in a Java V irtual M achine (JV M ) are the m ost popular protocols that are used in different cases. These architectures m ay be applied to GIS to im prove the traditional client/server GIS m odel and develop scalable distributed GIS m odel. Som e attem pts have been m ade in academ ic environm ents (Z hang, 1998).

The general idea o f the distributed GIS service m odel is that a client program , in either an Internet brow ser o r an independent application, should be able to access the resources

23

distributed over the entire network. The resources here refer to both geodata and geoprocessing components available in the network. The client and the server in this context do not refer to any specific machine. Any machine, that requests the remote resources during the processing is a client, and any machine that provides such resources is a server. In a specific program, a client may connect to several servers if needed and a specific machine may be the client at one time and the server at another time. An ideal distributed GIS service model should be a "geodata anywhere, geoprocessing anywhere" model, which means that the geodata and geoprocessing tools could be distributed with the largest flexibility virtually anywhere in the network. The geodata and geoprocessing components do not have to be in the same site, but they should be able to cooperate or integrate whenever they are needed to finish a specific task (Yuan, 2000).

2.4 WebGIS: Tools and Products

Depending on the users' access to the source code, Internet GIS tools and products can be classified into two categories: open source and proprietary products. The former is also known as "free software", and the latter can be used to denote all commercial software (Working group on Libra Software, 2000).

2,4,1 Non commercial Open Source Tools

Open source requires software to be free for redistribution, technology-neutral, provided with source code, and pose no restriction on other software (Open Source Initiative,

24

2004). M ost non-com m ercial open source tools are Java-based. A dvanced and popular tools include: W eb-M apper (http://w w w .w eb-m apper.com ), (http://w w w .opengl.org), and M apS erver G eoT ools

(http://m apserver.gis.um n.edu), (http://w w w .geotools.org).

O penG L

T hese open source tools are norm ally supported on a w ider range o f hardw are platform s and softw are environm ents. They offer m ore functionality, flexibility and are m ore scalable than current proprietary softw are. H ow ever, they norm ally need m uch m ore technical skill to im plem ent. D evelopers need to be able to identify other required softw are com ponents, configure the desired features and com pile the application. A thorough understanding o f core W eb technologies and spatial inform ation m anagem ent expertise are also quite necessary for developers (A nderson, 2003).

2.4.2 Commercial Non-Open Source Products

A ll m ajor GIS vendors provide their ow n W ebG IS products: Intergraph C o rp 's G eoM edia, M aplnfo C o rp .'s M ap X trem e, A utoD esk In c.'s M apG udie, and E S R l's A rcIM S, etc. A lthough appearing to be sim ilar, these system s are based on "different underlying view s o f geographic data and technologies" . Som e o f the differences include: "using m ap prepublishing vs. direct data access; client-level requirem ents; geographic analysis accessible from the w eb; and data and platform restrictions" (Lim p, 1997). These products are norm ally easier to custom ize and im plem ent and do not require as m uch experience as open source tools. They are general-purpose W ebG IS tools, and the

25

scalability and extension for modification is relatively limited. Last but not least, the licensing fee for the proprietary products has to be taken into consideration by any organizations that are interested in developing their own WebGIS projects.

2.5 Sample Sites of WebGIS Applications
Several sample WebGIS sites powered by ArcIMS were reviewed below. These web sites were devoted to different subjects in environmental area with different degrees o f customization. I
E*e · Vi-v^ To,)k

$ ,
S " '" '

x]

qc îC .g i.ci/w cb îïejV fetiân d sA fe/yicvvç r |-in>

lôftÿ»

af>0 iT ftn jti L acend C iliç s tiri'J to w n » HCfflCi



M CM lim ite M u n ic ip n iilio ft lim its W oU ondu



FfliHtitiy

u u M n
 h i

U w -rrp

K*ürvh V\Vii( aja-AiW atila.-Kl

S 'ia ii;w v n j|a l A ') j a l » g '4 iu irvi< frainh

n


6

Wap; -302998.6^, 2^744.98 - ImapB: 1 6 9 ,1 1 3 -

43.894|i}467y%4'M

#

internet

Figure 2.5 Conservation Atlas o f Wetlands in the St. Lawrence Valley, Canada

26

2.5.1 Conservation Atlas of Wetlands in the St. Lawrence Valley, Canada

The

A rcIM S

HTM L

m ap

view er

is

created

by

C anadian

W ild

Life

Service

(http://carto.qc.ec.gc.ca/w ebsite/W etlandsA tlas/view er.htm ). The C onservation A tlas o f W etlands in the St. Law rence V alley is intended for a broad public. It brings together general inform ation such as definitions o f these environm ents, the roles o f w etlands and their classification, w hich w ill be o f interest to people who have an interest in this type o f habitat for the first tim e. Those better inform ed m ight w ant to go directly to the m ore technical sections (Project description and Im age classification and processing), w hich are m ore intended for com puter-assisted m apping enthusiasts. Statistical and descriptive data (m aps and statistical tables) as well as the possibility to m ap the sector o f their choice are available for those users to look for specific inform ation. "The m ain purpose o f the C onservation A tlas o f W etlands is to develop a portrait o f the w etlands o f the St. L aw rence V alley using innovative m apping m ethods in order to favor bird conservation by helping land m anagers to m ake decisions about land use and bird habitat conservation" (C anadian W ild Life Service, 2003).

T his view er is very sim ilar to the standard H TM L view er. Little custom ization is perform ed. It is sim ple and clear, suitable for general public use (Figure 2.5).

27

2.5.2 OakMapper WebGIS Application

OakMapper (http://keUylab.berkeley.edu/OakMapper/viewer.htm) is used for assessing and monitoring Sudden Oak Death (SOD) in California. The site uses map server o f ArcIMS, and the map layers are from ArcSDE.
3 O ^ k M d p p o r M o n ito rin g !>0U in C a lif o r n ia - M ic r q u ifl I n te r n e t E x p lo re r

$
Se«cti FavfiK -

' a-;
Reioid O ilrMapptf ^

m .
Moniioring Sudden Oak Death with webGfS
4 NAVIGATION 3 ' " WtER=J 13

H « lp
OA 0»«h D » U fW A t i m f i SiJCH'ï>*'nr.*>ors (cifticaii irew-rt tC JD sonftm aM m «< hivifq iOD

I :

ID * < » fT < S rJ m * i;
Q E3 Q

QO O T *W P tiffX t
? lOENTfFY/QUEFlY

O aa

* o ir O c? xtM iic rr U Ï q s Kg -*ï^fl ^ O fio cw m U m k ^ # b/
iC rl'V .v-ÎT t^

13 intrtfliwru»* u>«rf S O ^ 'l'r 'tJ f iia ir a in w ia U f m I~ l( 3 'A-Ntamn.land C«>«' I r f t c ;v ] Fohe Hf*l W tA if j

(3B l PW ÎP 4 C * * / « r/a c te J B W jm âD v r^l'»$}> * ·:·« ÛC 3
fy]

·JfO T N E R TO OLS

/K l

wafk* M dm * tsP b sfea

A'

13 / «J.'nrf«st!*i>.e Bcyndarj U jirj i~~l 0 d r `»*»r«).ri»!*<ndR«3W «wlP*l»< R in j» . S w io n Q I I iKCSTopo Owl

O Ci
S

R foI.JO iÆ »
CogrtUt wUioflnfcrTBid rOD

.

' t» ;k 9 w M y ra jif

!

B ip

\

P WonHoring

^

R M dy-rw ide M aps

|

ij^hf(p:!'/t»*ykb.6 *iloloyrdu/% O m o r< » T n g /& X M /K )( ^ trr.

üat.U jaiàyîatr/.H jp In M fT W

---

Figure 2.6 OakMapper WebGIS Application

With the OakMapper, the audience will be able to (CAMPER, 2004): · · · View current distribution o f Sudden Oak Death (SOD) throughout California. Zoom, view, and search monitoring data for SOD in California. Perform geographic queries. Data can be viewed and spatially queried by address, county, zip code and congressional district. · Create a custom map. Selected layers can be exported or printed by the user.

28

·

Log, report, and record occurrences o f trees w ith possible Sudden O ak D eath (SO D ): This w ebsite allow s subm ission o f the location and condition o f trees w ith sym ptom s o f SO D directly to the database.

·

Find education m aterial on SOD. Inform ation sheets, pest alerts, and other educational m aterial about SOD are provided at the w eb page.

This m ap view er has been m oderately custom ized. Tools bars have been added w ith nam es and enhanced w ith new functionality; buttons w ith links to other related w eb pages are also added to the view er (see Figure 2.6). It provides m uch m ore inform ation and functionality com pared w ith the standard view er.

2.6 Rapid GIS Application Development Method

C onventional softw are developm ent m ethodologies often fail to address the G IS application developm ent needs due to the com plex and dynam ic nature o f GIS projects. R apid application developm ent (R A D ) m ethod for W eb-G IS application developm ent usually is designed to quickly set up the GIS softw are developm ent w ith sm all project startup cost, and allow s high flexibility and continuous refinem ent and enhancem ent to the design during the softw are developm ent process. In order to quickly deliver quality GIS softw are products to custom ers on a tight schedule, GIS developers offer continuous im provem ent as the custom ers gradually adapt to the new GIS system and becom e ready to take advantage o f m ore advanced GIS and inform ation technologies.

29

Web-GIS applications are often called to solve much more complex problems compared to applications in other web applications. Developing applications is often one o f the most time-consuming and expensive elements o f implementing a GIS. A Web-GIS application often contains a high volume o f user interactions, multi-step processes, and multiple ways o f performing the same task. The GIS users often desire to have higher level o f involvement during the software development. Yet, the detailed functional requirements, scope o f works are often hard to define at the beginning o f a WebGIS application development project. Sometimes, both the GIS users and GIS developers leave the software requirements and functional specifications purposely vague to allow the inevitable changes along the way o f software development process. But this kind o f practice often causes confusions and contract conflicts later in the project.

GIS application development often heavily relies on existing GIS software platforms or functional libraries, such as ESRFs ArcIMS JavaScript library. Working within these GIS platforms is often one o f the major constraints in a GIS application development. However, these GIS platforms and readily available object codes in the functional libraries also provide unique opportunities for GIS developers to be able to develop more robust GIS application rapidly. An example is the choice o f designing user interfaces o f a WebGIS application that will be developed within ArcIMS environment using the HTML Viewer. This HTML Viewer is created from ArcIMS Designer, but the developer can quickly assembly a very robust application utilizing the powerful ArcIMS functions.

30

R apid A pplication D evelopm ent (R A D ) m ethod cam e to the softw are developm ent com m unity in the early 1990s (M artin, 1991). There are m any different rapid

developm ent approaches. In fact, m any developm ent service providers have defined their ow n R A D (H offer, et al. 2002). The general com m on characteristics o f a R A D have alw ays included a high level o f user involvem ent in the developm ent process.

M any people have pointed out that R A D only w orks for system s that have to be developed quickly, and other aspects o f application developm ent efforts such as interface consistency and program m ing standards are often overlooked. H ow ever, the success o f R A D in the new business environm ent o f increased costs and com petitions is undeniable. Som e studies have reported som e R A D successes ranging from saving 50 percent o f costs to nearly cutting m ore than 60 percent o f developm ent tim e (H offer et al. 2002).

T he R A D approaches naturally fit the needs o f GIS application developm ent, especially in the sm all to m edium size projects that often require accelerated developm ent schedule. There are m any success stories o f utilizing RA D tools and techniques in GIS projects docum ented in ESR I user conference proceedings and other publications (C one, 1999; D ennerlein, 1997; K root et al. 2000).

In this study, the rapid GIS application developm ent approach w ill be used in the planning, design, build, and release phases o f the fish species at risk w eb applications.

31

2.7 GeoDatabase and Metadata

2.7.1 Geodatabase

A geodatabase is a storage mechanism for spatial and attribute data that makes it easier and more intuitive to use geographic information systems (GIS) software across many applications. The geodatabase supports multiple formats o f spatial data including map information (raster or vector), attribute data, text, images, and metadata. This makes it ideal for storing, editing, analyzing, serving and archiving natural resource inventory information that contains multiple data formats (e.g. maps, images and texts). Geographic data, supporting documents, spreadsheets and reports have been stored in operating system files along with other forms o f computer data and have not been integrated into a related dataset. Because these data files were in different formats (text vs. image vs. map data), direct linkage o f these files is difficult for a number o f technical reasons. The following section describes how these geographic data can be linked and used.

2.7.2 Geodatabase and RDBMS

To overcome the disadvantages o f a file-based storage configuration, m odem data processing projects store data in Relational Database Management Systems (RDBMS). A RDBMS stores data in row and column arrays called tables. When geographic data are stored in the tables o f an RDBMS the collection o f tables is called a geodatabase.

32

U sing the geodatabase, the study can m ove aw ay from the static archive o f geospatial data and start to address the integration o f m ultiple types o f resource inform ation to com pose a true geodatabase inventory. This m eans that m ap data, report inform ation, species photos, and soils data that the environm ental scientists and geoscientists have collected over the past years can be linked and easily accessed through the W ebG IS application.

2.7.3 Metadata

M etadata is described as "data about data." Besides the spatial and tabular data, m etadata is additional inform ation th at is required to m ake the data useful. It is w hat inform ation developers need to know in order to use the data. M etadata represents a set o f characteristics about the data that are norm ally not contained w ithin the data itself. M etadata usually includes the date, source, m ap projection, scale, resolution, accuracy, and reliability o f the inform ation, as well as data about the form at and structure o f the data set.

Spatial data supports softw are-based and organization-w ide standards. The benefit o f having softw are-based data standards is that the program is easier to use. B y creating m etadata, users are creating a standard in nam ing, defining, cataloguing, and operating for all departm ents. T his in turn is a vital foundation for understanding, collaborating, and sharing resources w ith others.

33

Spatial metadata is important because it supports easier spatial data access and management. Metadata provides a guide to the casual and novice user's questions, such as "How do I know what to ask for?" Metadata can provide information on what is available in an area of interest, where the information is, how current it is, what format it is in, and what use constraints apply. For spatial data professionals, metadata provides item-level metadata management for both features and attributes. This way, updates are easily accommodated and integrated into daily use o f the data. Metadata is not an end in itself; it is a tool that will greatly improve work with spatial data and increase overall GIS benefits.

34

Chapter 3 User Requirements and Information Needs Analysis

D eveloping a W ebG IS is m ore than sim ply purchasing and installing the appropriate softw are and hardw are. The im plem entation strategies have been scientifically assessed and m odified so that the requirem ent can be m et w ithin specific (m inim um ) cost and tim e.

A lthough the W ebG IS developm ent is using a rapid application developm ent m ethod w hich is m entioned in C hapter 2, careful planning in the startup phase o f the project is still an essential factor to the success o f the project (see Figure 3.1).

K g
P r o c ess rorect Kick-off R equirem ents Anarysis

Deliverable

Project Team Charter

Software Requirement Specification

S cop e of Work and Workplan

Figure 3.1 Project Start Up and Planning

35

PHOPEWTYOF R Y ER 98ft«iV 5f»)TY UBRABT

3.1 Development Planning

/ ^

`

^

A project kick-off meeting was called to define the rules and responsibilities o f the FSAR team members. In the study, I, as a WebGIS developer/analyst, conducted most o f the user requirement analysis and all o f the development research. The FSAR user requirement analysis team includes WebGIS system analyst/developer, the client and some GIS users. A draft work plan and preliminary schedule was determined at this time. In gathering FSAR requirements, the system analyst asked the GIS users and clients three questions: (1) What must you have in FSAR? (2) What do you wish to have in FSAR? (3) What do you NOT want to have in FSAR?

The WebGIS software requirement specification documents the needs in the first category as the basic requirements in great detail, lists the needs in the second category as optional requirements, and notes the third category as being excluded.

In the case of limited funding and development time, developers may also choose to delay the development o f more complex GIS functions that support certain advanced GIS analyses. Sometimes, with the ever improving GIS technology, functions that provide better solutions to those needs may come directly from the next release o f the underlining GIS platform or software upgrades, such as ArcGIS Server. In the meantime, the WebGIS users may take the time to become more familiar with the basic WebGIS

36

applications before they can take advantage o f m ore advanced GIS technologies. The third question m ay seem odd, but determ ining w hat do not need to be in the developm ent can help further bound the scope o f w ork. For exam ple, D FO does not w ant w eb users to change fish distribution database, but som e W ebG IS platform s provide w eb users the ability to upload data to database. T he system analyst m ust exclude those kinds o f W ebG IS functions.

3.2 Survey of User Needs and Requirements
scare n oy place r ames >

(

(Oazeiteer)

y" Find aqum tdîstnùütiop and atjcndancey-

Search Dy / fVifography lake, creek \ [Tcc'0graphjcfean4ures)

Search ty Watershed, OGla Dsincy

RepoftngSW? inform atton)

(''Heractive^

(fixed DirecDoiï f-l3pn»,igahon )
Zoom

__

^
Zoorri in } ( Fu i Ecionts } Zoom O ut^

Figure 3.2 A n U se Case D iagram

It took a considerable am ount o f preparation to develop a com prehensive w eb-based fish species m anagem ent system . T he goal w as to identify all the different potential uses o f

37

WebGIS throughout the different divisions and agencies within DFO. A typical example o f one o f the use cases diagrams is shown below in Figure 3.2.

As mentioned in Chapter 1, DFO is one o f the three federal departments responsible for implementing the Species at Risk Act (SARA). The other two federal departments are Environment Canada and Parks Canada. SARA has placed demands on Fish Habitat Management o f DFO, and its partners related to assessment, recovery, monitoring, compliance and protection o f aquatic species at risk.

A GIS fish species at risk in Ontario management web interface framework, titled

Ontario Aquatic Maps Explorer, is needed for sharing geospatial data, maps, aquatic
species and SAR information within and between agencies, such as Environment Canada, Canadian National Parks, and Ontario Ministry o f NaturalResources. There will be

approximately 100 users who will use the WebGIS tools when Ontario Aquatic Maps Explorer is finished.

In this phase, a survey o f user requirements and information needs was performed. Before progressing to the detailed analysis, it is helpful to get an overview o f the issues that the FSAR framework faces. The major issues to be resolved are listed as following; · · · Aquatic species distribution and abundance mapping; Reporting SAR information; Map navigation: Identifying, Panning, Zoom-in and Zoom-out o f mapping base data, such as hydrologie networks, drains, and water bodies;

38

· ·

D ata m anagem ent o f fragm ented geospatial and aquatic databases; E xternal A ccess to web based m apping applications;

The O ntario A quatic M aps E xplorer is a m apping application for use by D FO and its partners to expedite review o f referrals for im pacts and threats to fish SAR. The GIS m apping application can be divided into three m ajor com ponents: 1. C om m on m apping tools, 2. O ntario Search Engine tools,

3. R eporting tools. T hese com ponents are show n in Figure 3.3.

O ntario Aquatic M aps Explorer

C om m on m ap p in g to o ls

Ontario S earch Engine to o ls

R eporting to o ls

Figure 3.3 M ajor Functions o f FSA R W ebG IS A pplication

3.2 Major Functions Analysis

In the follow ing sections, the analysis results o f O ntario A quatic M aps E xplorer w ill be given in detail.

39

3.2.1Common GIS Mapping Tools

The Ontario Aquatic Maps Explorer provides a selection o f Common GIS mapping tools, e.g. Zoom in. Zoom out, and Panning. The complete list o f common GIS mapping tools is in Table 3.1.

Table 3.1 Common GIS Mapping Tools

Common GIS mapping tool Name
Zoom in Zoom Out Zoom to Last Full Extents Pan Select By rectangle Clear selection Measure Distance Add text to map Add Symbol to Map Add Coordinate to Map Printing

Need Customized in HTML Viewer?
Yes No No No No No No Yes Yes Yes Yes Yes

(See section 5.2 Customising the HTML Viewer Parameters for more information about customisation.)

40

3.2.2 Ontario Search Engine

O ntario regional search approach provides three types o f searching features w ithin O ntario. The three searching tools are G azetteer Search, T opographic Search and Q uick Z oom Search (see Figure 3.4).

O ntario S e a rc h E ngine to o ls

G a z e tte e r S e a rc h

T o p o g ra p h ic S e a rc h

Quick Zoom Search

ADO.NET

NonG e o D a ta b a se

G eo D a ta b a s e

Figure 3.4 O ntario Search Engine Tools F or G azetteer Search, the user first chooses a gazetteer category, e.g. C ity category (see T able A .l in the appendix A for the entire list o f G azetteer C ategories list in O ntario). G azetteer Search engine w ill look up the (City) category and returns the entire list o f the cities in O ntario. T hen the m ap can zoom to the city that the user chooses from the city list.

41

The use o f the Topographic Search tool is similar to the Gazetteer Search. But the Topographic Search category is completely different. (See Table B .l Topographic Category list in Appendix B)

If the user wants to quick zoom to CA Watersheds, OGLA districts or OMNR districts, the Quick Zoom Search is the best tool to use.

3.2.3 R eporting Tools for Access to SAR Inform ation

Reporting Tools

Reporting by W atershed

Reporting by Stream ID

Show Species at Risk Info

District Species at Risk

Distribution Maps

ADO.NET

Arcs DE Static pdf Files

NonG eoD atabase

Geo D atabase

Figure 3.5 Reporting Tools

Reporting tools can display the species list including SAR by tertiary watershed or by stream segment (see Figure 3.5).

42

The u ser navigates to the area o f interest on the m ap, and selects the reporting tool. I f the user clicks on the w atershed polygon or stream segm ent, O ntario A quatic M aps E xplorer is ready to give the user a report o f fish species and species at risk found in that w atershed o r stream segm ent. R eporting tools also show Species at R isk inform ation for the specific species and provide distribution m aps by species and species list at the stream segm ent level.

3.3 Data and Database Analysis

T w o m ajor types o f data are needed for this A rclM S w ebsite publishing fish species data for O ntario including SAR; base geographic data and aquatic species distribution data for O ntario.

3.3.1 Geospatial Data

A geodatabase is an instance o f an object-relational database that has been enhanced by adding geographic data storage, referential integrity constraints, m ap display, feature editing and analysis functions (Zeiler, 1999). It is a collection o f feature datasets, feature classes, object classes and relationship classes. A key purpose o f the geodatabase is to handle O ntario geographic data w ith a uniform data m odel independent o f the relational database underneath. The FSA R geodatabase is organized into broad categories o f data such as land use, road inform ation, w atershed and etc.

43

M ost o f the base geospatial data layers for Ontario area are from Natural Resources Values Information System (NRVIS), National Topographic Database (NTDB),

Environment Canada, DFO and Ontario Ministry o f Natural Resources (OMNR). The data for aquatic species, including SAR, is from DFO and OMNR (see Table 3.2).

Table 3.2 Map File Layers D ata L ayer Name RAILWAY_SEGMENT ROAD_SEGMENT GEONAMED_PLACE TRANSPORTATION 600K ROAD_600K PROVINCIAL_PARK_REG BUILDING_TO SCALE C0UNTIES_1 MILLION GE0GRAPHIC_T0W NSHIP LOT CA_WATERSHED_1 MILLION MNR_DISTRICT NWP_DISRTICT_1 MILLION 0GLA_DISTRICTNEW__1 MILLIO N WATSHD TERTIARY3 WATER_LINE_PERMANENT_GL WOODED_AREA W A TERBOD YSEG M EN T NRVIS NRVIS NRVIS NTDB NRVIS NRVIS NRVIS NRVIS NRVIS NRVIS NRVIS NRVIS NRVIS NRVIS NTDB NRVIS NRVIS DFO Source

The above spatial data can provide GIS mapping ability for aquatic species distribution across the province o f Ontario.

44

3.3.2 Fish Distribution Data

F S A R provides O ntario w ith fish species distribution data and fish species at risk data based on W atershed or stream segm ent (see Table 3.3).

Table 3.3 Fish D istribution D ata Tables

Data table name
Species L ookup Table (S A R lookup) Species Sum m ary Table by W atershed Species Sum m ary Table by Stream segm ent DFO D FO DFO

Source

3.4 Summary

The F S A R w ebsite can be successful when the W ebG IS com prehensively and consistently m eet the needs o f users. D evelopm ent o f a successful W ebG IS depends on w ell-defined user requirem ents. T hroughout the user requirem ent analysis (U R A ) process, F S A R system analyst/developer perform ed a detailed study o f the needs o f D FO biologists and environm ental scientists. The URA results in a clear specification for the F S A R functionality com ponents as well as for the geospatial data presently being

45

required by users. The specification report provides all the details required for an understanding o f the functions and spatial data that users require.

46

Chapter 4 Design of the FRAS System Architecture
A s discussed in Section 2.3, there are basically tw o types o f architectures for developing the W ebG IS applications: client-side and server-side. In the client-side W ebG IS application, the client (W eb brow ser) is enhanced to support GIS functionality. In the server-side G IS application, a W eb brow ser is used only to generate server requests and display the results (see Figure 4.1).
Client
W eb b ro w ser A p p licatio n D ow nload to C lient-side W eb b ro w ser (e.g. Ja v a applet .plug-in...)

W eb Seivei'

Client

Web Seive:

GIS A p p licatio n

HTTP

HTTP

GIS A p plication

D ata

D ata

(a) C lient-S ide A rch itectu re

(b) S erver-S ide A rchitecture

Figure 4.1 C lient-Side vs. Server-Side A rchitecture

4.1 Architecture for the FASR System

The client-side G IS applications are im plem ented typically by enhancing the W eb brow ser w ith a Java applet, A ctiveX , o r plug-ins. Som e client-side applications even

require users to install a com plete client application. In either case, client-side applications require som e kind o f softw are (other than a brow ser) to be transferred to the client-side. A n exam ple o f a client-side W ebG IS application is one that runs as a Java

47

applet. The Java code for the applet is transferred to the Web browser as binary instructions that provide a graphical user interface (GUI) for the GIS application. Vectorbased data are then transferred to the client enabling the complex GIS functions on the client.

In the typical server-side WebGIS applications, users send a request to a server (i.e., an address), and the server processes the request and sends the results back as an image embedded in an HTML page via standard HTTP. The response is a standard Web page that a generic browser can view. In the server-side WebGIS applications, all the complex and proprietary software, in addition to the spatial and tabular data, remain on the server (see Figure 4.1(b)). This architecture has several advantages including simplified development, deployment, and maintenance because the application and data are centralized on the server.

Table 4.1 Comparison o f Server-Side and Client-Side WebGIS Architectures

Server-Side WebGIS Advantages
· · · · · · Simpler to develop Easier to deploy Easier to maintain Adheres to Internet standards Requires standard Web browser Low bandwidth required Primitive Graphical User Interface Low graphics quality One-click functionality from a browser · · · · · · ·

Client-Side WebGIS
Vector data can be used Better image quality

Enhanced GUI

Disadvantages

· · ·

Difficult to develop Requires additional software Longer download times No adherence to standards Platform/browser incompatibility

48

A com parison o f the advantages and disadvantages o f the server-side and client-side W ebG IS applications is listed in Table 4.1.

T he optim al architecture depends on the system requirem ents. O ne o f the goals for the fish species at risk m anagem ent FSA R system is to develop a W eb-base application that could easily be developed, m odified and ported to various D FO offices in O ntario regardless o f the platform s or netw ork capacities o f the D FO offices. The application has to be developed on a tight deadline and budget. A fter com paring the tw o types o f architectures listed in Table 4.1, the server-side architecture w as selected in this study as it is easier to develop.

E S R I A rcIM S 9.0 w as selected as the W eb m ap server o f the FS A R system . A rcIM S 9.0 is an o ff-th e-sh elf Arc Internet M ap Server softw are product on the m arket. It can be used for " delivering dynam ic m aps and GIS data and services via the W eb" (ESRI, 2005a). D ue to availability, A rcIM S version 9.0 is used in this study. The follow ing discussion o f the architecture and m ajor com ponents w ill be based on A rcIM S 9.0.

4.2 ArcIMS Architecture

A fter early Internet solutions o f M apO bject IMS and A rcIM S 4.0, ESRI developed its new est w eb-m apping package A rcIM S 9.0 w ith im proved perform ance and stability. A th ree-tier architecture is im plem ented in A rcIM S w hich includes presentation, business logic and data storage tiers (see Figure 4.2).

49

Clients

Internet

ArcIMS Application Server

Services
ArcIMS Services

Data Management

g

Dst? Access Gttriway

Local files

Enterprise

Figure 4.2 ArcIMS Three-Tier Architecture (Source; ESRI, 2003)

The presentation tier is the interface that users can access, analyze and interact with the maps and data. ArcIMS provides three standard viewers; one HTML viewer and two Java viewers. The business logic tier is used for handling requests and administering the ArcIMS site. The server-side components included the ArcIMS Web server, application server, application server connectors, and the ArcIMS manager. The ArcIMS site management applications provide access to components in the business logic tier for

50

authoring m aps, adm inistering A rcIM S services, Spatial Servers, and designing W eb sites. The data tier includes data sources available for use w ith A rcIM S (ESRI, 2005).

A rcIM S consists o f three m ajor applications: A uthor, A dm inistrator and D esigner. A uthor is used to define the content and appearance for a m ap that the user w ants to pub lish on the Internet. The outcom e from A uthor is a m ap configuration file (.A X L file) containing all the definitions o f the m ap layers and sym bology. The A X L file is w ritten in A rcX M L , an extensible m arkup language (XM L) used specifically for creating W ebbased products in A rcIM S (ESRI, 2005; ESRI Virtual C am pus, 2005a).

A fter authoring the m ap, a m ap service can be created and started in A dm inistrator. A dm inistrator also m anages the w ebsite, folders and servers and m onitors the

perform ance o f the w ebsite. The D esigner can create w ebsites that allow users to access m ap services. E ither a H TM L or a Java view er can be chosen, and tools and functionality provided through the view er can be defined at D esigner (ESRI V irtual Cam pus, 2004a).

H T M L V ie w e r vs. J a v a V ie w er

The view er is the interface that audience will see and use to interact w ith the m ap. A m ajor decision to m ake w hile creating an A rcIM S application is the choice o f a proper client view er. A rcIM S provided three standard view ers that can be generated using A rcIM S D esigner: H TM L V iew er, Java Standard V iew er and Java C ustom V iew er. The choice is largely dependent on w ho is the audience, how m uch processing w ill be allow ed

51

at the client side, how much time and effort the audience would make to view the map and data. Generally speaking, HTML Viewer has lower requirements at the client side, less functionality and is easier to use. Java Viewer has more functionality and more processing at the client side, but normally requires downloading a plug-in or applet before viewing or interacting with the map (ESRI, 2003; ESRI Virtual Campus, 2004a). The differences between these viewers are listed in Table 4.2.

Table 4.2: A Comparision of ArcIMS Standard Viewers H TM L V iewer Browser support Internet Explorer or Netscape version 4.x or higher; can be embedded into any HTME website Client side Eittle processing, Thin/Light client Jav a Viewers The Java Custom Viewer is supported only on Internet Explorer version 4.x or higher; The Java Standard Viewer is supported on Netscape and Internet Explorer versions 4.x and higher Needs JRE, Java 2 plug-in or applet support; Thick/heavy client; More processing is supported Server side Map service support Functionality Almost all Only one main image service and an overview map service Eess: (i.e. editing functions) Customizable Highly customizable; code is completely open for developers to edit and customize Able to use local data? Comments Efficient and easy to More functionality and complicated; No Yes Processing Server data Image and/or feature service

More, including adding EditNotes, Maptips and MapNotes Java Standard Viewer: No; Java Custom Viewer: Yes

52

use; G ood for general public use (Source: ESR I, 2003; 2004; 2005a)

G ood for intranet use

O ther options provided by A rcIM S include building view ers w ith one o f the A rcIM S application server connectors: the A ctiveX connector, C oldFusion connector or Java connector. In addition, a free m ap view er A rcExplorer can be dow nloaded from the ESR I w ebsite. It can be used on its ow n w ith local data sets or as a client to the Internet data and m ap servers (ESR I, 2004).

H T M L Viewer

T he H T M L V iew er, consisting o f H TM L and JavaScript, m ust be dow nloaded to the client. W hile this client is thinner than the Java V iew er, thin or thick describes the am ount o f data dow nloaded to the brow ser.

The H T M L V iew er's robust functionality is one o f the m ost com pelling reasons to select it as the view er o f the FS A R system . This functionality can be extended using a com bination o f D ynam ic H TM L (D H TM L), JavaScript, X M L, and other techniques. O n the server side, A SP .N E T is used w ith the H TM L V iew er w ithout using the connectors. The H T M L V iew er supports Im age M apServices. Im age M apServices send a snapshot o f the data in JPE G , TIFF, or PN G form at to the client. The data are not stream ed as w ith Feature M apServices.

53

4.3 Design of WebGIS Major Functions

According to the requirement analysis described in Section 3.2, the server-side WebGIS application is composed o f three distinct components: Common GIS Mapping Tools, Ontario Search Engine Tools, and Reporting Tools. This section will address the conceptual design o f the three functions for the FRAS system.

4.3.1 Common GIS Mapping Tools

Common GIS Mapping Tools are customized from the standard HTML viewer. The customization is implemented by HTML and JavaScript programming. After

customization of the HTML viewer, the functions o f the developed Common GIS Mapping Tools are summarized in Table 4.3.

Table 4.3 Common GIS Mapping Tools Description

Tool name Zoom in

Description after customization
An icon o f the magnifying glass with the plus sign is used to zoom in on a point or zoom into a selected area. The map contents will change based on the level o f zoom. As user zooms in, the map panel will display more details. To zoom in on a point, select the zoom in tool on the toolbar. Click on a point on the map, which will be centered on the magnification. Each click increases the map scale, centering the new map around the point clicked. A scale bar is shown at the

54

bottom right o f the m ap panel. · To zoom in on a selected area click/hold/drag the m ouse. O nce the m ouse button is released the rectangle will disappear and the m ap will zoom to the specific area.

Zoom Out

A n icon o f the m agnifying glass w ith the m inus sign is used to Z oom out. A s user zoom s out the map contents w ill change to display m ore or less inform ation w ithin the m ap w indow . To zoom out on a point, select the zoom out tool from the toolbar. C lick on a point on the map, which will be centered on the m agnification. Each click decreases the m ap scale, centering the new m ap around the point clicked. At the m axim um extents o f the m ap w indow the map will not zoom out any more.

Zoom to Last

A n icon o f the m agnifying glass w ith the arrow is the zoom to last extent. C licking this icon will revert the m ap w indow to the previous m ap extents.

Full Extents

The Full Extents tool is equivalent to zoom ing out to the m axim um extent. It displays the full map area in the m ap panel. The new m ap scale o f the m ap is indicated in the bottom left corner o f the map w indow .

Pan

The pan tool should show as a hand icon. The pan tool is used to display adjacent m ap inform ation on all panning directions. Select the pan tool on the toolbar. M ove the m ouse onto the m ap panel w ith the u ser's finger dow n, and drag in the direction in w hich you

55

want to move the map. Identify
The Identify tool is the additional information tool. This tool displays textual information about map features; all map features have associated information that is stored in a database. Information from the database can be displayed by clicking on the map feature with the information tool.

Select By rectangle Zoom to active layer Clear selection Measure Distance

The tool allows the user to select a feature from the layer that is currently active. This tool sets the map window extents, the maximum extents o f the active layer in the layer control. Clears current highlighted selections When the ruler is activated the user has the ability to measure features within the map window. By clicking between two map features the user can find the distance between the two points.

Add text to map Add Symbol to Map Add Coordinate to Map

This tool allows the user to add custom text to a map. This tool allows the user to add custom symbols to a map.

This tool allows the user to search and add coordinates from different projections systems.

56

4.3.2 Ontario Search Engine Tools:

B ased on the user requirem ent analysis, a lot o f efforts have been m ade in this study to m ake the developed W ebG IS system easy for users to search locations w ith the user interface. The user can ju s t select the categories and quick zoom -in to the location w ithout know ing the lakes or creeks to be searched (see Table 4.4).

Table 4.4 D escription o f the O ntario Search Engine Tools

Search Tools
G azetteer Search · · · T opographic Search · · · Q uick Z oom Search · · ·

Sub-Features for the Search Tools
G azetteer Category List N am e List B utton: `Zoom T o ' T opographic Category List N am e List B utton: `Zoom T o ' A gency List D istrict List B utton: `Zoom T o '

4.3.3 Reporting Tools

T he R eporting T ools (see Table 4.5) are developed to display fish species listed by w atershed ID, o r by stream ID. By navigating to the area o f interest w ith the navigation tools, the W eb user can select the reporting tool, click on the w atershed polygon o r the

57

stream segment and displays a report o f fish species and species at risk found in that watershed or stream.

Table 4.5 Descriptions o f Reporting Tools

Reporting Tool
Reporting by Watershed · · Reporting by Stream Id · · Show Species at Risk Info for; the Species' · · · District Species at Risk Distribution Maps for: · · · · · · · · ·

Report Output
Species at Risk Report Species Listing Report Species at Risk Report Species Listing Report Fact Sheet Species Drawing (image) COSEWIC Report Burlington Thunder Bay &amp; Kenora Peterborough Prescott Parry Sound Sarnia Sault Ste Marie Sudbury Whole Ontario

4.4 System Hardware and Software Design

Selecting suitable software and hardware is an important step in a successful implementation o f a WebGIS system. Software was evaluated on ftinctionality and performance, as well as independency o f the hardware and operating system. WebGIS requires specific hardware configuration, as well as software. Since the volume o f transferred data is enormous, the speed o f the Internet connection is vitally important.

58

B ased on a pilot project w hich w as done separately in D FO , and the experience gained through sim ilar projects, a pow erful com puter with the hardw are and system softw are configurations (see Table 4.6) are recom m ended requirem ent for this thesis study.

Table 4.6 C onfiguration o f the PARS Server System

Configuration Item
Server

FSAR System Configuration
Dell Pow erEdge 2850 Intel P4 Dual Processor 1000 M ega Bytes 120 OB T1 (or better) M icrosoft W indow s 2003 Server M icrosoft Inform ation Server 5.0 Tom cat Servlet 5.0 ESRI A rcIM S 9.0

Hardware

CPU M em ory H ard drive Internet connection O perating system (OS) W eb sever

Software

Servlet engine M ap server

B ased on the functional capabilities, vendor support, cost, m aintenance fee, a survey was conducted over the available hardw are and software on the m arket. A fter the survey, all the hardw are and softw are w ere purchased, and all necessary renovation o f space and w iring w ere carried out (see Table 4.7).

Table 4.7 C onfigurations o f G eodatabase (A rcSD E) Server

Configuration Item
Server CPU

FSAR System Configuration
Dell Pow erE dge 2850 Intel P4 Dual Processor 1000 M ega Bytes 240 GB T1 (or better)

Hardware
M em ory H ard drive Internet connection

59

Operating system (OS)

Microsoft Windows 2000 Server Oracle 8.1.2 ESRI ArcSDE 8.3

Software

Database sever Geospatial database engine

60

Chapter 5 Development of the FASR System

B ased on the user requirem ent analysis described in C hapter 3 and the conceptual design presented in C hapter 4, the W ebG IS application is im plem ented in this Chapter. Section 5.1 describes the selection o f suitable developing tools. Then, this chapter w ill give how to im plem ent the com m on GIS m apping tools by custom izing A rcIM S H TM L view er. T he com plex developm ents o f the O ntario Search Engine T ools and the R eporting Tools are described in Sections 5.4 and 5.5 respectively.

5.1 Software Development Tools

Client-side Techniques: HTML, DHTML, JavaScript

O n the client side, A rcIM S H T M L view er includes H TM L files and JavaScript files, w hich form the foundation o f the H TM L V iewer. H TM L files are used to generate W eb page content, and the JavaScript functions can also be m odified to include custom functionality such as the use o f JavaScript to create the m ap requests and to interpret the results.

F o r the above reasons, H TM L, D H TM L and JavaScript are selected as the client-side program m ing language.

61

Server-side Techniques: IIS, ArcIMS, .NET

On the server side, before performing geospatial query, the application has to connect to non-geospatial database to get the web page configurations. To select rapid application development tools, Microsoft ASP.NET and C# are selected as the programming languages, and Visual Studio.NET as the programming environment.

5.2 Customizing the HTML Viewer Parameters

In order to satisfy FSAR viewer needs, customization is needed for the standard HTML viewer created from ArcIMS Designer. ArcIMS website is composed o f a series o f HTML and JavaScript files recording and managing the layout and functions o f the website. These files can be classified into the following categories: · · · HTML files that define the layout o f HTML pages; Image files used in the WebPages display elements; A special JavaScript parameter file - ArcIMSparam.js. The file stores preferences selected in Designer as well as many other variables that affect the Web site's look and functionality; · The JavaScript folder contains the HTML viewer JavaScript Library,a series JavaScript files used to create ArcXML requests and from the ArcIMS spatial server (ESRI 2002c). of

process ArcXML responses

62

W hen creating F S A R W ebG IS site, the A rcIM Sparam .js file is the first file to m odify. A rcIM S param .js can be found in the W eb site directory and is well docum ented. It contains global variables defining both the look and behavior o f the W eb site, and GIS developer can do a significant am ount o f custom ization by m odifying these variables. D escriptions o f the variables are found in ESRI's JavaScript Library docum entation.

*

Ontario A quatic Map Explorer v 2 .0 - M icrosoft in tern et Explorer

-1 ^

^

O ntario Aquatic Map Explorer v2.0 Oittam O reat Lekac A i-es
Offitano Search Enoine
C.A

n . :îr.~

Ausâbiè
Zoom To

C aC *so-',

D V Q 0£6
Zoom To

OSSSSQlBBi
caisjor,Choose

T-1 ..Hi
f Zoom To

19 Kl

Ë I (" lap: -82 ,4 2 .7 7 - Im age: 432 , 22« - S cateF aaor: 0 .0 0 1 4 2 9 8 2 2 9 1 ^ 1 2 8 ^ 3

SuxaHntraMt

Figure 5.1 C ustom ized V iew er o f the FSA R system

A ll variables can be altered either directly or through D H TM L to produce a custom look. A rcIM S param .js includes variables for · · C hanging services and m ap-extents; Setting the initial display o f the legend;

63

· · · · · · ·

Defining North arrows and copyright text on an acetate layer; Defining fields for attribute display; Changing tools and the toolbar; Inserting FSAR logo; Returning unique values only; Allowing queries; Displaying a second scale-bar;

After JavaScript and HTML are programmed and setup, the parameters o f the standard HTML viewer, a customized FSAR viewer, can be seen in Figure 5.1. Most o f the common GIS mapping tools, such as zoom-in, zoom-out and pan, have been customized and implemented.

5.3 Implementation of Query Functions

5.3.1 Gazetteer Search

Users can select a gazetteer item from category drop-down list (see Table A .l), i.e. City. The list o f `Name' will be updated with the category (i.e. City). See Gazetteer Search interface in Figure 5.2.

64

Name

Barne

Zoom To

Figure 5.2 G azetteer Search The above function w as im plem ented in C# o f M icrosoft V isual Studio.N ET. W hen G azetteer search page is loaded from w eb site, the function o f Page load (see the code T able A .2) is called. A fter the w eb brow ser receives the G azetteer search page and the user selects a gazetteer category (e.g. 'C ity '), the function o f R efreshN am e (also in Table A .2) is called. T he control o f N am e is filled w ith all city nam es o f O ntario.

^

O n ta rio Aquotic Map E xplorer vZ.O
·iV '-s * '* -' ijV -U .' fi-'Â A V 4,-t^ Ontario Soarcli tngiix;
'v.-. jt":

"3 jJ
Zocin To 1

f

ccmmm ' -

3 3
ZacrriJa

|

> « T W

--

2]

2 0 0 « iT 9
Lut U.w

E33B3

'*4»* « « I'* » t.* » * '?* * .

T«' Figure 5.3 G azetteer Search: 'Zoom To' city o f Barrie

65

When user clicks `Zoom to ', the map will zoom to wherever the user selected, i.e. the city o f Barrie (see Figure 5.3). Since the viewer is an HTML viewer, the function o f button `Zoom To' is implemented in JavaScript, and the JavaScript code can be found in "see the code" Table A.3.

5.3.2 Topographic Search Tool

With the Topographic Search tools (see Figure 5.4), a topographic item (e.g.. Hydrography) can be selected from the category drop-down list (see Table B .l). The list o f Name will be updated with the entire Hydrography items from category lookup table (see Figure A.2). After selecting a topographic feature, i.e. Dace Lake, the map will zoom to Dace Lake. See Topographic Search interface in Figure 5.5.

Topograpiric

Category
Name

; Hydrography Dace Lake Zoom To

Figure 5.4 Topographic Search

66

S"'
.

3 h t lp : // b u r s 6 9 - O ntario Aquatic Map Explorer v2.0 - Microsoft In te rn e t Explorer

r js m

O ntario Aquatic Map Explorer v2.0 O ntario Sreat Lakos A rea
Q uldt Z oom
I Ontario Searclt Engine
_ _ _

A W ^téfï^hôd

/

C u n .a

|A u s a l l e B ayfield

d d
Z o o m To 1

c « t* g o iy

I C hoose

d d
Zoom To 1

c ^ tttflorv

1 H y d ro g ia p h y

d
Zoom To I

D ace L ake

:»*c _ *  v .--<5^

nU iftt.ttfi'X 4:iic'Iza K X m .v iW S Q W J Iia # ;m a 30*

3 7 4 " S c a f e F a c tc r ; 0 . O 0 0 O tf t 3 2 5 6 I S 6 3 7 7 i9 9 6 4

Figure 5.5 T opographie Search: 'Zoom To' D ace Lake

5.3.3 Quick Zoom Search

T he user can quickly choose categories from the three agencies: (1) C A W atershed, (2) O G L A D istrict, and (3) O M N R D istrict. A fter selecting the agency o f O G L A D istrict (see Figure 5.6) -> S am ia -> Zoom To, the m ap o f S a m ia w ill show up (see Figure 5.7).

67

Ontario Search Engine
Quick Zoom Agency
D is tr ic t

OGLA District Sarnia Zoom To

Figure 5.6 Quick Zoom Search
Ontario Aquatic Map Explorer v 2 .0 - Microsoft Internet Explorer

Ontario Aquotic Mop Explorer v2.0 Onam Cnat L a k & c

Q:»

tfl

çtrcy

OGLA UStfiC

Zoom To

rtsta.jO'v

Choose

Zoom To

Q3SSSS3i
C s te g c r y

Choose

.. El
1 ..S
Zoom To

19Kil

6 M ap: 62, 42.77 -

image: 432 , 226 - ScaieFaoor: 0.0014248229148I286S3

*^10631Intranet

Figure 5.7 Quick ZoomTo the Map o f "Samia "

The implementations o f both the Topographic Search Tools and the Quick Zoom Search tools are similar to that o f the Gazetteer Search Tools. Since this study does not focus on the algorithm development or programming, the code for both the Search Tools is listed in the Appendix.

68

5.4 R eporting Tools Im plem entation
From the standpoint o f im plem entation, the reporting tools can be divided into tw o types: · · D ynam ic reporting: pulling the report data from database on the fly; and Static reporting; dow nload the .p d f or fish im age files to the users

5.4.1 Dynamic Reporting

r Ontfirlo Aquatic Map Explorer v2.0 - Microsoft Internet Explorer

1-^ ,^ O ntario Aquatic Map Explorer v2.0 ; (W ar*?
tMVlS k mm* |h # Actiw» LmyiK

ateri»ho< jR jn d o iI S *A # *h Ow ^rarfttW M t -hcct*aK « p < y t Sp*r«9ai M iik M ep p rt ----C >cP5 -o-aSp«t-*j
Irlcf-'tt.:"

r.ai.it

S » tf» < iaD » 9 tv c i

dttm vcac

SlocHlrrtrinct Figure 5.8 Reporting by W atershed

In the F S A R system , dynam ic reporting tools include R eporting by W atershed and R eporting by Stream Id. To publish dynam ic reports, both reporting tools use the sam e program m ing m ethods. The report itself is developed w ith C rystal R eports 9.0. To

69

publish the report on the web, ASP.NET and C# are used as developing tools and programming languages, respectively.

· Mtcrosoft Internet Explorer
EA Wew ffrCxT^jin TûCfe H^lp

: oj:- H»;
m ^ 

cr^tal*

m Fi&heries and O cea n s P èc h e s et O céa n s Canada Canada

Fish OittrüMjrtiefl - Watn^had RtpM't
Terasry VMtcfjhcd Cvdc. JGG
C « iin i« r WM) S w

smmstrn

% sa x m Ê sM m
? ^ sjra ra

Camflma»»

mm

mm n tïm4î-3î)
S2

c*

mtm

C l nsM-ùîkoat

'Si Bgmwmww © C

P C > T i0 4 L ` S
TWR TMR

H 'i 'U n
$4 nW'MCZi 55 «W7.144J)

<^?Î9»^S*Î Cl t?m'OS-î3î
<36

(iW M aS* S fW W f

n X m ?4 .;r;Æ T .i-^ 3e> $2

et sîm-ûM?) c? îmwm et mmmmm
cf

RL4 pt

A,
. ixcanesranet

Figure 5.9 Report o f fish distribution in watershed 2GG

As shown in Figure 5.8, the user navigates to the area (e.g. Samia) o f interest, selects the reporting tool (SAR Tools), clicks on the watershed polygon (2GG) and displays a report o f fish species and species at risk found in that watershed (see Figure 5.9). In Figure 5.8, all fish species in the watershed 2GG are listed in the report. In the list, three species, Bigmouth Buffalo, Black RedHorse and Blackstripe Topminnow, are highlighted in yellow. This means the three fish species are at risk in the watershed 2GG.

70

From C hapter 5 on G lobal R ank (G R A N K ) and Provincial R ank (SR A N K ), users can see how serious the risk is.

5.4.2 Static Reporting

Species at R isk Info, Species D raw ings (im ages), and Species at R isk D istribution M aps are static reporting tools (see Figure 5.10). The reports are published in p d f or im age form at. W hen the user selects the species static reports, the p d f file w ill dow nload to u se r's brow ser.
- Wcro*«ft Internet Explorw

U p t-*

1:0!.
Fisheries and O ceans P êches et Océans Canada Canada
Hiih * W ar*nK «d Report

^ifuimnwAat
ÜÏI

U gc

tettan

IVto»

f
« -- to « to to » »» to ,·-- to.to »rto..-toto .to t-'

Sponej Oa? WsiriDuiicn by Tem%r\f Watershed

jggg/gm
i i_iK.fi
4

I

Figure 5.10 Static Reporting

71

The final step in WebGIS implementation was to put the system to use. W ith system integration and testing completed and all applications available for use, the system was released to users. Two activities were in place: · · User support and service, in which new applications will be determined, and System maintenance (database, hardware, software), in which the WebGIS must run smoothly.

5.5 Data and GeoDatabase

Based on the database design described in Chapter 4 and data source availability, there are three methods for creating a geodatabase (MacDonald, 1999). · · · Creating a new geodatabase from scratch; Migrating existing data into the geodatabase; Building a geodatabase with CASE tools;

5.5.1 The FSAR Database Development

In the study, migrating existing data into geodatabase is a major approach to implement the FSAR geodatabase. As shown in Figure 5.11, an ArcSDE geodatabase (OntMXD Live) was created, taking into account o f user requirements and geospatial data needs. The geospatial and non-geospatial data from OMNR, DFO and NTDB were migrated in the geodatabase. There are 18 feature classes that are defined with the same projection in the geodatabase. Tools used for data processing included ArcCatalog 9.0, ArcMap 9.0, ArcToolbox 9.0 and ArcSED 8.3. Besides feature classes in the

72

geodatabase, there are four tables containing different types o f fish species distribution data fo r the F S A R system .

ArcSDE Geodaiabase
--

OnlMXD_Live

jk,

-y

^

Ly O g ^

FSAR_dataset
,-- L

Feature dataset

NRVIS,RAILWAY_SEGMENT NRVIS.ROAD_SEGMENT NRVIS.GEONAMED.PLACE

Feature Class-

g g

NRVIS.TRANSPORTAT!CW_600K NRVIS,ROAD_600K

Jv»?V!S.PROV!NCIAL_PARK_REG
0 ] NRVIS.BUILDING_JO_SCALE NRVIS COUNTIESJ MILLION ^ NRVIS.OEOGRAPHICjrOWNSHIP NRVIS.LOT y j ) NTOB.CAJA/ATERSHEDJ MILLION NRVIS.MNR_DISTRICT NRVIS WVP_DISRTICT_1 MILLION 0 ) ^  g DFO .OGLA_piSTRICTNEWJ MILLION NRVIS WATSHDJERTIARY3 NRVIS WATER_LINEJPERMANENT_GL NRVIS WOODED_AREA g NTDB.WATERBODY_SEGMENT

Table

"

^

g

DFO.SARJookup

: d U NRVIS SAR_TERT_SUMMARY_BT . g g NRVIS.SAR_STRM_SUMMARYJBT MRVIS.WATSHD_TERT_SUMMARY_BT

Figure 5.11 FS A R G eodatabase Im plem entation

Since the F A S R system provides fish species data, the tables o f 'SA R lo o k u p ', 'SA R _ST R M _SU M M A R Y _B T ', and 'SA R _TER T _SU M M A R Y _B T ' are the sources for fish species at risk data based on G lobal R ank (G R A N K ) or Provincial R ank (SR A N K ) as described in the follow ing section. M ost SA R data are updated m onthly, but som e o f them are updated either m onthly or yearly. History data could be dated back for about 10

73

years, and some species could be more than 30 years. The table structure o f SAR lookup, SAR_TERT_SUMMARY_BT and SAR STRM SUMMARY BT can be found in Table C .l, C2 and C3 within Appendix C.

5.5.2 Global Rank (GRANK) and Provincial Rank (SRANK)

It is important to understand how species at risk are defined and categorized. In Ontario, "species at risk" are categorized as extinct, extirpated, endangered, threatened, or vulnerable species or a "species o f special concern".

Global Rank
Global ranks (GRANK) are assigned by a consensus of the network o f natural heritage programs CDCs (conservation data centres), scientific experts, and The Nature Conservancy (www.tnc.org). This network designates a `rarity rank' based on the rangewide status of a species, subspecies or variety.

Table 5.1 Global Rank (MNR Ontario, 2005a)

GRANK G1

Definition
Extremely rare; usually 5 or fewer occurrences in the overall range or very few remaining individuals; or because o f some factor(s) making it especially vulnerable to extinction.

G2

Very rare; usually between 5 and 20 occurrences in the overall range or with many individuals in fewer occurrences; or because o f some factor(s) making it vulnerable to extinction.

74

G3

R are to uncom m on; usually betw een 20 and 100 occurrences; m ay have few er occurrences, but w ith a large num ber o f individuals in som e populations; m ay be susceptible to large-scale disturbances.

G4

C om m on; usually m ore than 1GO occurrences; usually not susceptible to im m ediate threats.

G5 GH GU

V ery com m on; dem onstrably secure under present conditions. H istoric, no records in the past 20 years. Status uncertain, often because o f low search effort or cryptic nature o f the species; m ore data needed.

GX
9

G lobally extinct. N o recent records despite specific searches. D enotes inexact num eric rank (i.e. 0 4 ? ). A "G" (or "T") follow ed by a blank space m eans that the N H IC has not yet obtained the G lobal R ank from The N ature C onservancy.

G

G?

U nranked, or, if follow ing a ranking, rank tentatively assigned (e.g. G37). D enotes that the taxonom ic status o f the species, subspecies, or variety is questionable.

Q

T

D enotes that the rank applies to a subspecies or variety.

Provincial Rank

Provincial (or Subnational) ranks (SRA N K ) are used by the N atural H eritage Inform ation C entre (N H IC ) to set provincial protection priorities for rare species and rare natural com m unities.

75

Table 5.2 Provincial Rank (MNR Ontario, 2005b)

SRANK SI

Definition
Extremely rare in Ontario; usually 5 or fewer occurrences in the province or very few remaining individuals; often especially vulnerable to extirpation.

S2

Very rare in Ontario; usually between 5 and 20 occurrences in the province or with many individuals in fewer occurrences; often susceptible to extirpation.

S3

Rare to uncommon in Ontario; usually between 20 and 100 occurrences in the province; may have fewer occurrences, but with a large number o f individuals in some populations; may be susceptible to large-scale disturbances. Most species with an S3 rank are assigned to the watch list, unless they have a relatively high global rank.

S4

Common and apparently secure in Ontario; usually with more than 100 occurrences in the province.

S5 SH

Very common and demonstrably secure in Ontario. Historically known from Ontario, but not verified recently (typically not recorded in the province in the last 20 years); however suitable habitat is thought to be still present in the province and there is reasonable expectation that the species may be rediscovered.

C

Captive/Cultivated; existing in the province only in a cultivated state; introduced population not yet fully established and self-sustaining.

S?

Not Ranked Yet, or if following a ranking, Rank Uncertain (e.g. S3?). S? species have not had a rank assigned.

76

SA

A ccidentai; o f accidental or casual occurrence in the province; far outside its norm al range; som e species may occasionally breed in the province.

SAB SAN SE SR

B reeding accidental. N on-breeding accidental. Exotic; not believed to be a native com ponent o f O ntario's fish. R eported for O ntario, but w ithout persuasive doeum entation w hich w ould provide a basis for either accepting or rejecting the report.

SRF SU

R eported falsely from O ntario. U nrankable, often because o f low search effort or cryptic nature o f the species, there is insufficient inform ation available to assign a m ore accurate rank; m ore data is needed.

SX

A pparently extirpated from Ontario, with little likelihood o f rediscovery. Typically not seen in the province for m any decades, despite searches at knovm historic sites.

sz

N o t o f practical conservation concern inasm uch as there are no elearly definable occurrences; applies to long distance m igrants, w inter vagrants, and eruptive species, w hich are too transitory and/or dispersed in their occurrence(s) to be reliably m apped; m ost such species are non-breeders, how ever, som e m ay occasionally breed.

SZB SZN

B reeding m igrants/vagrants. N on-breeding m igrants/vagrants.

77

5.5.3 DFO Schedules

^

Fisheries and Ocean Canada uses a schedule list for the protection priorities for species at risk.

Table 5.3 DFO Schedule Rank

Schedule rank Sehedule 1 Species At Risk Sehedule 2 Speeies At Risk Schedule 3 Species At Risk

The color of the stream segment (river)
Red: Recovery strategy development underway Yellow: Species are awaiting reassessment Green: Same as Schedule 2, but need more attention

Non Species At Risk

Blue: Non Species At Risk

78

Chapter 6 Conclusions and Recommendations

This chapter outlines the conclusions derived from the results o f this study. It also includes recom m endations for future research and enhancem ent o f the current system . In addition, recom m endations are m ade in order to extend the use o f th e W ebG IS solutions.

6.1 Conclusions

W ebG IS and geospatial data are suitable for publishing the inform ation o f fish species at risk. In this study, interactive m apping tools are developed for biologists and environm ental scientists to interact w ith GIS data. This thesis approached the reporting and sharing problem s o f environm ental data through current W ebG IS technology that w ould enable the users to navigate the geospatial data and get the aquatic inform ation that are o f interest to them . The follow ing are the conclusions draw n from the study.

·

This thesis study addressed the issue o f searching the fish species data and reporting the fish species inform ation by using the current W ebG IS technology. The biologists and environm ental scientists can search and report the inform ation o f fish species risk in O ntario by interactive m ap operation.

at

·

The thesis study result, the FSA R system, provides an easy and inexpensive w ay for the users to access fish species at risk inform ation am ong the DFO offices and their 79

partners in Ontario. It helps to improve user participation in the fish species management. In the long run, the availability o f fish species at risk data is also expected to help planning species recovery process and decision-making for both the DFO and its partners. User requirement analysis is crucial to the development o f the Web-based system. Since the rapid application (RAD) method was used in the study, the end-users could use some functions before the complete implementation o f the FSAR system, and some new requirements could be created. At this time, the user requirement analysis documents should be updated. The development circle should re-start at user requirement analysis. The functionality, conceptual design, and implementation and test o f the system are all based on it. The commercial ArcIMS software is a powerful tool for supporting the FSAR system development. The ArcIMS's HTML viewer provides a framework to customize. It helps the developers to meet most o f the user's common GIS operation requirements. Reporting tools help a user to better understand fish species at risk characteristics. In the FSAR system, fish species at risk distribution changes as time changes. It publishes dynamic information. The result o f the study: Ontario Aquatic Maps Explorer is running on the DFO Intranet and now it has more than one hundred users. The study objective has been reached.

80

6.2 Future E nhancem ent

The FS R A system im plem ented in this study can be enhanced in m any w ays for publishing fish species m anagem ent data depending on the availability o f data and requirem ents o f the users.

T he first enhancem ent is to increase available data and inform ation. D etailed land cover and land use data can be incorporated as the background inform ation to im prove the overall assessm ent o f the fish species. For fish species m anagem ent and reporting purposes, pollution sources are an im portant part that has not been discussed m uch in this thesis. D ue to the spatial distribution o f pollution sources, point sources, such as industrial and com m ercial sources can be incorporated into this reporting system . B esides fish species data, reporting o f w ater quality, air quality and other environm ental quality data can also be incorporated into this website.

T he second enhancem ent is to change m any m anual steps into autom atic functions. There are nearly 6000 developm ent referrals per year in the region that are ongoing developm ent w ork in and adjacent to fish habitat o f lakes, rivers and stream s. M any o f the steps in m aintaining and updating the w ebsite can be turned into standard procedures w ith proper program m ing, such as data capture and updating o f data.

The third enhancem ent is to im prove interactivity and functionality. B ecause o f the thin client design, H T M L V iew er as adopted in this thesis study has relatively few er

81

functionalities and interactivity. To improve these features, a parallel thieker client ean be developed for more experienced and professional users. Java viewer can be adopted which requires Java 2 applet to process data at the client side. Users can render map and query data without going through the server, which means waiting for data transfer every time to refresh the map. Users can also combine local data with the streamed feature data from the server and then use desktop GIS tools to further analyze the data. W ith the same dataset, different users can choose to use different viewers (thin or thick) based on their needs, facility and experience.

The fourth enhancement is to improve help function at the website as required by user feedback. Tutorials/examples can be added to explain the use o f tools. Relevant help based on the current context can be displayed for the users so that they do not need to go through the whole help documentation.

6.3 Recommendations
Although this study has addressed internal data query and reporting problems among government agencies, another goal is to provide an improved approach for the general public to access species at risk data and related information in an up-to-date and low-cost manner by utilizing WebGIS technology. This approach can serve an environmental education purpose to keep the public informed. Only when overall environmental education is improved, will the public be more actively involved in environmental issues to protect species at risk. People with better environmental consciousness will voluntarily conserve the environment in the long run.
82

For individuals and organizations interested in providing W ebG IS services, a review and investigation o f open source tools is encouraged. These tools are m entioned in C hapter 2, Since no cost is associated w ith the use o f open source softw are, it is an econom ical solution for organizations w ith experienced developers.

Im proving the link o f A rc IMS to external database is an outstanding issue facing W eb GIS providers due to " lack o f integration am ong the geodatabases and W ebG IS to enable real-tim e data processing" (K olodziej, 2002). M any tim es the users w ill need to search and report on the external database, w hich is not easy from the standard view er. Solutions include doing proper program m ing, or choosing appropriate softw are products that support linking databases to Arc IM S. The Canadian G eospatial D ata Infrastructure (C G D I) is an exam ple o f such products that "allow s end-users to search and report on m apping and enterprise databases from a W eb platform " (TD C G roup, 2004. T aylor T echnologies, 2004) Because H TM L V iew er is a thin client design, it has few er abilities o f interactivity and analysis. For exam ple, m ost functions o f the W ebG IS are 'pulling' data from database, therefore, the user cannot add content to the w ebsite. To im prove those features, an A SP.N E T application can be developed, so that geoscientists and environm ental scientists can directly update a geodatabase for them selves, as opposed to having to m ail the geospatial data to the Burlington central office.

There is a need to develop m ore W eb-based tools to share environm ental datasets and inform ation. W ebG IS has the potential to share data, provide easy access for users w ith

83

limited GIS knowledge, and assemble data and information customized for specific topics, such as wetlands, that support informed decision-making. Therefore, these tools will be especially useful for decision-makers and administrators who often have limited expertise in GIS and complex spatial analyses.

84

References
A le sheikh, A. A. and H elali H., 2001. D istributing N ational G eospatial Inform ation.
P r o c e e d in g s o f D ig ita l E a r th 2 0 0 1 , Fredericton, N B, C anada

A nderson G ., and M oreno-Sanchez, 2003. B uilding W eb-based spatial inform ation solutions around open specifications and open source softw are. T r a n s a c tio n s in G IS , V ol. 7, pp. 447. B yong-L yol L, Y oung-C han K ,and Jin-I Y, 1998. W eb interface for GIS in agriculture.
T h e A s ia n F e d e r a tio n f o r In fo r m a tio n T e c h n o lo g y in A g r ic u ltu r e

C anadian W ild Life Service, 2003. C onservation A tlas o f W etlands in the St. Law rence V alley, Q uebec, C anada. URL: http://carto.qc.ec.gc.ca/w ebsite/W etlandsA tlas/view er.htm C A M P E R , 2003. C enter for the A ssessm ent and M onitoring o f Forest and E nvironm ental R esources and the C alifornia O ak M ortality Task Force to m onitor Sudden O ak D eath in C alifornia, U niversity o f California, B erkeley, C alifornia, USA. URL; http://kellylab.berkeley.edu/O akM apper/view er.htm C one, L., D. M oonie, S. O ppm ann, N. von M eyer, B. A der, and J. Steffenson, 1999. U SD I B L M and U SD A Forest Service - W orking tow ard a national integrated land system . F e d e r a l G I S C o n n e c tio n s F a ll 1 9 9 9 ESRI, R edlands, C alifornia, USA C O SEW IC . 2003. C anadian species at risk. M ay 2003. C om m ittee on the Status o f E ndangered W ildlife in Canada. Ottaw a, O ntario, Canada. C rognale G., 1999. E n v ir o n m e n ta l M a n a g e m e n t S tra te g ie s : th e 2 1 s t c e n tu r y p e r s p e c tiv e . C hapter 11, Effective R isk M anagem ent and C om m unication: Tips on W orking w ith the Public. N ew Jersey: Prentice Hall. 85

DFO (Fisheries and Oceans Canada), 2005. About the Species at Risk Act. Ottawa, Ontario, Canada. URL: http://www.dfo-mpo.gc.ca/species-especes/aboutAct/aboutAct_e.asp (18 Aug. 2005) Environmental Systems Research Institute (ESRI), 2002a. U sing A r c IM S (v4.0.1). Redlands, California, USA Environmental Systems Research Institute (ESRI), 2002b. A rc X M L P r o g r a m m e r 's
R eference G uide. Redlands, California, USA

Environmental Systems Research Institute (ESRI), 2002c. Customizing ArcIMS: HTML viewer. Redlands, California, USA Environmental Systems Research Institute (ESRI) 2003. ArcIMS architecture and functionality. W hite p a p er. Redlands, California, USA Environmental Systems Research Institute (ESRI), 2005a. ESRI support center URL: http://support.esri.com Environmental Systems Research Institute (ESRI), 2005b. A rc IM S 9.0 D eskto p Help. Redlands, California, USA Environmental Systems Research Institute (ESRI) Virtual Campus, 2005c. Learning ArcIMS 9.0. Redlands, California, USA. Environmental Systems Research Institute (ESRI) Virtual Campus, 2004d C u sto m izin g
A rc IM S 9.0. Redlands, California, USA

86

Fisheries and O cean C anada, 2005. Fish H abitat & Fluctuating W ater Levels on the G reat Lakes (T2), URL; http://w w w .dfo-m po.gc.ca/regions/central/pub/fact-fait/t2_e.htm (18 A ug. 2005) Frye, E. and D enning, R. 1995. M ichigan tow nship uses w atershed-based decision support system . G e o ln fo S y s te m s 5: pp. 55-57 G reen, D. and B ossom aier, T., 2002. O nline GIS and Spatial M etadata. T a y lo r &
F r a n c is .

H ansen, P. E., 1991. In tr o d u c tio n to e n v ir o n m e n ta l m a n a g e m e n t, E lsevier H egle A. K ., 1998. W hat are com puter users looking for in a system ? M o d e r n M a tu rity ,
N o v - D e c Is s u e , A A RP

H offer, A ., J. G eorge, and J. V alacich, 2002. M o d e r n s y s te m a n a ly s is a n d d e s ig n . Prentice H all, U pper Saddle R iver, N ew Jersey, U SA Jim Szpara, 2005. A ir Q uality M onitoring Locations Idaho D EQ (D epartm ent o f Environm ental Q uality). State o f Idaho, USA. URL: http://m apserver.deq.state.id.us/W ebsite/em issions/view er.htm (19 A ug. 2005) K olodziej, K ., 2002. A Safety " .N ET"-GIS W eb Services A id H om eland Security. G EO W orld. A ug 2002 K root, C. M . Sm ith, S. Rich, and J. Sardano. 2000. B uilding and D eploying an Enterprise G eographic Inform ation System U sing A rclnfo 8.0, O racle, and Citrix. Proceedings o f the ESR I International U ser Conference, Redlands, C alifornia, U SA L im p W .F., 1997. W eave M aps A cross the W eb. G IS W orld. S e p . p46-55 L ongley P. A ., 2001. G e o g r a p h ic In fo r m a tio n S y s te m s a n d S c ie n c e . John W iley & Sons M acdonald, A. and ESR I, 2001. B u ild in g a g e o d a ta b a s e . ESRI, R edlands, CA, U SA

87

Maguire, D., 1999. GIS Industry Outlook 2002. G eoW orld, D ec. p. 42-43 Maguire, D. J., I99I. A n O verview a n d D efinition o f GIS. G eographical In fo rm a tio n
System s. I st edition. John Wiley & Sons

Martin, J. 1991. R a p id A p p lica tio n D evelopm ent. New York; Macmillan Publishing Company MNR Ontario, 2005a. GRANK Definition, Ministry o f Natural Resources, Ontario, Canada. URL: http://nhic.mnr.gov.on.ca/MNR/nhic/glossary/grank.cfm (18 Aug. 2005) MNR Ontario, 2005b. Provincial Rank (SRANK) Definition, Ministry o f Natural Resources, Ontario, Canada. URL: http://nhic.mnr.gov.on.ca/MNR/nhic/glossary/srank.cfm (18 Aug. 2005) Open Source Initiative, 2004. The Open Source Definition. Potsdam, New York, USA. http://www.opensource.org Peng, Zhong-Ren and Tsou, Ming-Hsiang, 2003. Internet G IS: D istrib u te d G eographic
Inform ation Services f o r the Internet a n d W ireless N etw orks. John Wiley & Sons.

Hoboken, New Jersey, USA. Pickus, J. and M. Hewitt. 1992. Resource at risk: Analyzing sensitivity o f groundwater to pesticides. Geo Info System s 2(10): pp. 50-55. Plewe, B., 1997. G IS Online: Inform ation, M apping, a n d the Internet. Onward Press. Santa Fe, N.M. USA. RENEW (REcovery of Nationally Endangered Wildlife). 2002. Recovery o f nationally endangered wildlife in Canada. A n n u a l rep o rt no. 12. Ottawa, Ontario, Canada

88

R unyon, T., R. H am m itt, and R. Lindquist. 1994. B uried danger; Integrating GIS and G PS to identify radiologically contam inated sites. G e o In fo S y s te m s 4(8): pp. 28-36. Strand EJ, 1998. W h at's the R ight W ay to W eb M ap Data. Synergetics Inc.Fort C ollins, CO, U SA . 2005) T aylor T echnologies, 2004. R apid Integration Toolkit A vailable for A rcIM S. URL: w w w .G eoplace.com /PressR elease (18 Aug. 2005) TDC G roup, 2004. GIS Softw are Links D atabases to ESRI A rcIM S. From URL: http://w w w .geoplace.com /gw /I998/1298/1298nab.asp (18 A ug.

http://w w w .geoplace.com /PressR elease/ (18 Aug. 2005) W orking group on Libra Softw are, 2000. O pen Source: Inform ation Society

O pportunities for Europe? URL: http://eu.conecta.it/paper/ C O SE W IC . 2003. C anadian species at risk, M ay 2003. C om m ittee on the Status o f E ndangered W ildlife in C anada. O ttaw a, O ntario, Canada.

89

Appendix A
Gazetteer Search
Table A .l Gazetteer Category List Table

CATEGORY
Bay Beach Cape Cave Channel City Cliff Conservation Area Conservation area Crater Falls Forest Geographical area Indian Reserve Island Lake Low vegetation Military area

90

'M iscellaneous M ountain O ther m unicipal/district area - m ajor agglom eratio O ther m unicipal/district area - m iscellaneous Plain Province R apids R iver R iver feature Shoal Spring Tow n U nincorporated area V alley V illage

91

H cateBPry_(Qokup_gep ; Table
ID i Category Barrie Belleville Brampton Brant, County of Brantford Brockville Burlington Cambridge Chatham-Kent Clarence-Rockland Cornwall Cumberland Dryden Elliot Lake Gloucester Grand Sudbury Greater Sudbury Guelph Hamilton Kanata Kawartha Lakes Kenora Kingston Kitchener Lambton Shores London Mississauga Nepean Niagara Falls Nipissing Ouest North Bay Orillia Oshawa Ottawa Owen Sound Pembroke Peterborough Port Colborne Prince Edward Quinte W est i ^ | ^ ·»'l <| j --i Lookup N
n

£® 28109 City 53628110 City 5 ^2 8 1 1 1 City 53628112 City 53628113 City £K 2 81 14 City 53628115 City 5 ^ 2 8 1 1 6 City 5 ^ 2 8 1 1 7 City 53628110 City 53628119 City 5 ^ 2 8 1 2 0 City 53628121 City 5 ^ 2 8 1 2 2 City 5 ^ 2 8 1 2 3 City 53628124 City 5 ^ 2 8 1 2 5 City 53628126 City 53628127 City 5 ^ 2 8 1 2 8 City 53628129 City 53628130 City 53628131 City 53628132 City 5 ^ 2 8 1 3 3 City 53628134 City 53628135 City 536281 æ City 53628137 City 53628138 City 53628139 City 53628140 City 53628141 City 53628142 City 53628143 City 53628144 City 53628145 City

53628146 City
53628147 City 5 ^ 2 8 1 4 8 City Record: H N i l

M | ^ * | of 43107

Figure A.l Gazetteer Category Lookup: City

92

category_lookup_tôpo : Table
ID category 2 Hydrography 3 Hydrography 4 Hydrography 5 Hydrography 6 Hydrography 7 Hydrography 8 Hydrography 9 Hydrography 10 Hydrography 11 Hydrography 12 Hydrography 13 Hydrography 14 Hydrography 15 Hydrography 16 Hydrography 17 Hydrography 18 Hydrography 19 Hydrography 20 Hydrography 21 Hydrography 22 Hydrography 23 Hydrography 24 Hydrography 25 Hydrography 26 Hydrography 27 Hydrography 28 Hydrography 29 Hydrography 30 Hydrography 31 Hydrography 32 Hydrography 33 Hydrography 34 Hydrography 35 Hydrography 38 Hydrography 37 Hydrography 38 Hvdrnnranhv Lookup "The ""Gut"" Conservation Area" (Cat Lake) Little Skull Lake 0 68 Bay 68 Narrows A Lake A.Y. Jackson Lake Aaron Creek Aaron Lake Abaiard Creek Abamasagi Lake Abamategwia Lake Abams Lake Abate Lake Abazotikichuan Lake Abbe Creek Abbe Lake Abbess Lake Abbey Creek Abbey Dawn Creek Abbey Lake Abbie Lake Abbotsford Creek Abbotsford Lake Abbott Creek Abbott Lake Abe Creek Abelson Lake Aber Creek Aber Lake Aberarder Creek Aberdeen Creek Aberfoyie Creek Abernethy Lake Abes Lake Able 1ake

Record: 14

Figure

A .2

Topographic Category Lookup: Hydrography

93

Table A.2 The C# Code for Gazetteer Page Load and Refresh Control o f `Name' C# function code: P ag eL o ad NameRefresh
private void Page_Load(object sender,
{

System.EventArgs e)

if
{

( IPage.IsPostBack )

string gsFirstDDLltem = "Choose..."; OleDbCoiranand sqlCoiranand=null; OleDbDataReader dr; string sConnectionString = C onfigurationSettings.A p p S e t t i n g s .G e t ("constring"); System.Data,OleDb.OleDbConnection on = new OleDbConnection(sConnectionString); try

{
c n .O p e n ();

}

catch

(OleDbException exp)

Response.Write("DB open " + return;

"\nRun time error:

" + exp.M e s s a g e ) ,

string sSQL = "SELECT distinct * from category where patent = 'Geo N a m e s ';"; sqlCoiranand = new 01 eDbCommand (sSQL,c n ) ; dr = sqlCoiranand.ExecuteReader 0 ; Listltem s = new ListItem(gsFirstDDLItem,""); t h i s .Ddl_GCategory.Items.Add(s); while (dr.Read0 )

{

94

L i s t l t e m val = n e w L i s t l t e m (dr [" C a t e g o r y " ] . T o S t r i n g C),d r [" c a t e g o r y " ] . T o S t r i n g ( ) + " j " + d r [ " L a y e r I n d e x " ] . T o S t r i n g 0 +" I" + d r [ " L a y e r A t t r i b u t e " ] . T o S t r i n g ()); t h i s . D d l _ G C a t e g o r y . I t e m s . A d d (val);

}

private bool n a m e R e f r e s h O

{
string string strConnectionString = ConfigurationSettings.AppSettings.Get("conString"); s t r W i l d c a r d = ""; ;

string strSQL = string string strSQLName=

s t r L o o k u p = " ";

string strFinal=""; OleDbDataReader dr;

S y s t e m . D a t a .O l e D b .O l e D b C o m m a n d sqlCommand; S y s t e m . D a t a .O l e D b . O l e D b C o n n e c t i o n cn = n e w O l e D b C o n n e c t i o n ( s t r C o n n e c t i o n S t r i n g ) ;

//
b o o l b H a s S u b S e c t i o n = false; string s t r P r e = C o n f i g u r a t i o n S e t t i n g s .A p p S e t t i n g s .G e t (" S u b q u e r y P r e S t r i n g " ) ;

s t r i n g s t r M i d = C o n f i g u r a t i o n S e t t i n g s .A p p S e t t i n g s .G e t (" S u b q u e r y M i d S t r i n g " ); string strPro = ConfigurationSettings.AppSettings.Get("SubqueryPreString") ; "";

string strFront = string in t

s t r R e a r = "";

iSectionBegin=0;

string strSeletedMaster; string s t r S e l e t e d = D d l _ G C a t e g o r y . S e l e c t e d I t e r n . T o S t r i n g () ;

st r SeletedMaster = strSeleted; in t i L D i f = s t r S e l e t e d . L e n g t h - s t r P r e . L e n g t h - s t r P r o . L e n g t h - s t r M i d . L e n g t h - 2; in t i P r e L e n g t h = strPre.Length;' if (iLDif > 0)

95

{ for
{

(int 1=0; K i L D i f + l ;

i++)

if &&

(string.Compare(strSeleted.Substring(i,IPreLength), strPre)

==0

strSeleted.EndsWith(strPro)==true )
(

bHasSubSection = true; iSectionBegin = i; strSeletedMaster = strSeleted.Substring(0, iLDif);

//
StrFront = strSeleted.Substring(iLDif+strPre.L ength,1 ) .ToUpper(); StrRear = = strSeleted.Substring(iLDif+strPre.Lengtli+l+strMid.Lengtli, )
} }

1) .ToUpper () ;

try

{
c n .O p e n (); ) catch (OleDbException exp)

{
Response.Write("DB open " + strConnectionString + e xp.Message); return false;
}

"\nRun time error;

" +

try
(

StrSQL = "SELECT * from category_loo)cup_tablehere where category = 'c a t e g o r y h e r e ' and lookup like 'lookup_here' order by lookup";

strSQLName=strSQL.Replace("category_here",strSeletedMaster); strSQLName=strSQLName.Replace("tablehere","geo");

)

96

catch

( O l e D b E x c e p t i o n exp)

{
R e s p o n s e . W r i t e ("Run tim e return } false; DB error: " + e x p . M e s s a g e );

StrWildcard = m_strWildcard; strLookup = StrWildcard; s t r F i n a l = s t r S Q L N a m e .R e p l a c e <"l o o k u p h e r e " ,strLookup) ; try

{
d d l N a m e . V i s i b l e = true;

string

[]

strMaster =

t h i s .D d l _ G C a t e g o r y .S e l e c t e d l t e m . V a l u e .T o S t r i n g () .Sp l i t ( ' | ' ) ; s q l C o m m a n d = n e w O l e D b C o m m a n d ( s t r F i n a l , cn) ; dr = s q l C o m m a n d . E x e c u t e R e a d e r 0 ;

t h i s .d d l N a m e .I t e m s .C l e a r (); ArrayList while l i s t V a l u e s = n e w A r r a y L i s t (); (d r . R e a d 0 )

{
if ( b H a s S u b S e c t i o n == true)

{
s t r i n g s t r l s t L o o k u p l = d r [" l o o k u p " ] . T o S t r i n g (); string s t r l s t L o o k u p = d r [" l o o k u p " ].T o S t r i n g ().S u b s t r i n g ( 0 , 1 ) . T o U p p e r () if ( s t r F r o n t .C o m p a r e T o (" A " )==0) ;

{
if (strlstLookup.CompareTo(StrRear) <= 0 )

{
Listltem val = new L i s t l t e m ( d r [ " l o o k u p " ] .T o S t r i n g (),d r [ " l o o k u p " ] . T o S t r i n g ( ) + " | " + s t r M a s t e r [1].T o S t r i n g ( ) + " |"+ s t r M a s t e r [ 2 ] . T o S t r i n g ( ) + " I " + d r [" C o u n t " ] . T o S t r i n g ()) ; t h i s . d d l N a m e . I t e m s . A d d (v a l );

}

97

) else if strlstLookup.CompareTo(StrRear)
{

(strlstLookup.CompareTo(StrFront)

>= 0 &&

<= 0)

Listltem val = new Listltem(dr["lookup"]-ToString(),dr["lookup"].ToString()+"I"+strMaster[1]. ToStr i n g ()+"|"+ StrMaster[2].ToString()+"I"+dr["Count"].ToString()); this.ddlName.Items.Add(val);

)
else if(strlstLookup.CompareTo(strRear)
{

> 0)

break; }

}
else { Listltem val = new Listltem(dr["lookup"].ToString(),d r[" l o o k u p " ] .T o S t r i n g ()+"|"+strMaster[1]. ToStr i n g ()+"I"+ strM a s t e r [2].T o S t r i n g ()+"|"+dr["Count"].ToString()) ; this.ddlName.Items.Add(val);

) }
} catch (OleDbException exp)

{
Response.Write("Run time DB error: return false; " + exp.Message);

}
finally
{

c n . C l o s e (); cn = null; dr = null; }

98

c n . C l o s e {); c n = null; d r = null; r e t u r n true;

T able A .3 T he JavaS cript C ode for B utton Zoom -To JavaS cript function: Z oom To
function { var Coords = n e w A r r a y (); ZoomTo(isRegionCategoryValue)

var nLayerIndex; C o o r d s = I s R e g i o n C a t e g o r y V a l u e .s p l i t (' I ') ; m i n x = C o o r d s [1]; m i n Y = C o o r d s [2]; m a x X = C o o r d s [3]; m a x Y = C o o r d s [4]; n L a y e r l n d e x = C o o r d s [5]; p a r e n t . M a p F r a m e .L a y e r V i s i b l e [ n L a y e r l n d e x ] =1;

p a r e n t .Map F r a m e . z o o m T o E n v e l o p e ( m i n X , minY,maxX,maxY) ;

99

Appendix B
Topographic Search

Table B .l Topographic Category List Table: C A TEG O R Y Hydrographic Place Relief Shoreline Transport

100

Appendix C
FSAR Data Structure

T able C .l Species L ookup Table (D FO .SA R _lookup)

Field Name
COM M ON NAM E FA CTSHEET C O S E W IC R E P O R T N H IC site C O SE W IC site

Data Type
C har C har C har C har C har

Description
Fish Species N am e (K EY ) Path o f PDF fact sheet on species Path o f PDF cosew ic report on species Provincial SA R W ebsite Federal SA R W ebsite

Table C.2 Species Sum m ary Table by W atershed (N R V IS.S A R TERT SU M M A R Y _B T)

Field Name
M NRTW S S C IE N T IF IC _N A M E C O M M O N _N A M E COUNT GRANK SR A N K C O SE W IC MNR TRACK F A M IL Y

Data Type
C har C har C har Int C har C har C har C har C har C har

Description
Tertiary W atershed Code (Key) Latin Fish Species N am e Com m on Fish Species N am e N um ber o f fish observations per w atershed N ature Serve R anking NHIC Ranking Federal Ranking Provincial Ranking Species A ctively Tracked / M onitored Species Fam ily N am e

(See Section 5.5.2 G lobal R ank (G R A N K ) for m ore inform ation and attribute definitions.)

101

Table C.3 Species Summary Table by Segment (NRVIS.SAR STR]M SUMMARY BT)

Field Name
MNRSTR SCIENTIFIC_NAME CO M M O N N A M E COUNT

Data Type
Char Char Char Int

Description
Stream Segment Code (Key) Latin Fish Species Name Common Fish Species Name Number o f fish observations per stream segment

GRANK SRANK COSEWIC MNR TRACK FAMILY

Char Char Char Char Char Char

Nature Serve Ranking NHIC Ranking Federal Ranking Provincial Ranking Species Actively Tracked / Monitored Species Family Name

(See Section 5.5.2 Global Rank (GRANK) for more information and attribute definitions.)

Table C.4 Tertiary Watershed Layer (NRVIS.WATSHD_TERT_SUMMARY_BT)

Field Name
AREA PERIMETER

Data Type
Double Double Char Char Char Char Char Int Int Double

Description
Area (Decimal Degrees) Perimeter (Decimal Degrees) Coverage Internal ID Coverage User ID Tertiary Watershed Code (Key) Secondary Watershed Code Primary Watershed Code MNR/NRCAN/BOTH Not Sure (value o f 1) Area based on Lambert Conic Projection (km)

ONT_TWS_
ONT_TWS_ID TERTIARY SECONDARY PRIMARY SOURCE MERGE CALC_AREA

102


