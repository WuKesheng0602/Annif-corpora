NOTE TO USERS

This reproduction is the best copy available.

UMI
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

STUDY OF DIGITAL IMAGE CORRELATION-A COMPUTER VISION TECHNIQUE FOR STRESS ANALYSIS: ITS ACCURACY AND RELIABILITY

by

Muhammad Ajmal

A Project

Presented to Ryerson University In partial fulfillment of the Requirement for the degree of Master of Engineering In the program of Mechanical Engineering

Toronto, Ontario, Canada, 2004

©Muhammad Ajmal 2004

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

UMI Number: EC52906

INFORMATION TO USERS

The quality of this reproduction is dependent upon the quality o f the copy submitted. Broken or indistinct print, colored or poor quality illustrations and photographs, print bleed-through, substandard margins, and im proper alignm ent can adversely affect reproduction. In the unlikely event that the author did not send a com plete m anuscript and there are missing pages, these will be noted. Also, if unauthorized copyright material had to be removed, a note will indicate the deletion.

UMI
UMI Microform EC52906 Copyright 2008 by ProQuest LLC. All rights reserved. This microform edition is protected against unauthorized copying under Title 17, United States Code. ProQuest LLC 789 E. Eisenhower Parkway PC Box 1346 Ann Arbor, Ml 48106-1346

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

DECLARATION

I hereby declare that I am the sole author of this project. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research.

Muhammad Ajmal

I further authorize Ryerson University to reproduce this report by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

Muhammad Ajmal

11

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

ACKNOWLEDGEMENTS

I would like to thank everyone who has been involved in this research, especially to the examination committee members. Dr. D. Chen and Dr. G. Kawall, for their comment, advice and suggestions that has led to the improvement of this final report. Special thank goes to my project advisor. Dr. Hua Lu, for his technical support, constant patience and optimistic attitude, which complemented his expertise. Finally, I would like to thank God for blessing me with the ability to complete the endeavors for which I strive.

m

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CONTENTS

ACKNOWLEDGEMENTS..............................................

iü

LIST OF FIG U R ES............................................ :.................................................... vii NOMENCLATURE............................................. ABSTRACT................................................................ SECTION I: INTRODUCTION Chapter 1; Introduction...................... 1.1 1.2 Background 1 ix xii

..........................................................................1 4 5

Proj act Goal.......................................

Chapter 2: Digital Speckle Correlation Technique.................. 2.1

A Brief Description of DSC............................................................5

SECTION II: THEORY AND APPLICATIONS OF DSC Chapter 3: Image Formation.......................... 3.1 11

Illumination........................................................................................11 3.1.1 Natural Ilumination.............................................................. 11 3.1.2 Artificial Illumination.......................................................... 11

3.2

Illumination Setup............................................................................. 13 3.2.1 Directional Illumination.......................................................13

3.3 3.4

Obj ects Under Illumination...............................................................13 Image Formation ............ 15

3.4.1 World and Camera Coordinates.......................................... 15 3.4.2 Simplest Camera Model....................................................... 16 3.4.3 Depth of Focus................................... 18

3.4.4 Point Spread Function............................................ .2.0 3.4.5 Two-Dimensional Fourier Transformation........................22 Chapter 4: Image Sensing 4.1 .........................................................................24

Sampling............................................................................................ 24 4.1.1 2-D Discrete Fourier Transformation................................. 25

4.2 4.3

Human and Computer Vision....................... CCD Arrays..................................................

28 29

IV

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

4.3.1 CCD Operation

................................................ 30

4.3.2 Charge Transfer................................................................... 31 4.3.3 Quantization................ ...33

4.3.4 Image Storage...................................................................... 34 Chapter 5; Speckled Patterns, Correlation and Convolution....................... .36 5.1 Speckled Patterns............................................................................ 36 5.1.1 Speckle Size.................................................................. 5.2 Correlation.......................................................................... 37 38

5.2.1 2-D Cross-Correlation..........................................................39 5.2.2 Correlation Functions...........................................................40 5.3 Convolution ..............................................................................43

Chapter 6 : Adaptive Hierarchical Search Algorithm......................................44
6

.1

Introduction to Search Process....................................... Cut-off Frequency of Correlation Surface................................

44 .45

6.2 6.3 6.4

Adaptive Sampling...........................................................................47 Cot-off Frequency vs. Correlation Topology Properties..............48 6.4.1 Example.............................................................. 6.4.2 Recurrent Procedure to Approximate Cut-off Frequency................................................................ 51 48

6.5

Hierarchical Searching for Accurate Results................................ 53 6.5.1 Hierarchical Search Approach Complies with Cohomology Rule................................................................ 54

6 .6

Implementing Overseeing............................................................... 55 Loop Content........................ 55

6.7

Chapter 7: Ncwton-Raphson Technique for Partial Correction.....................59 7.1 7.2 Intensity Interpolation .............................................................. 59

Newton-Raphson Method .............................................................61 7.2.1 Partial Derivatives of `g'......................................................67

Chapter 8 : Applications of DSC to Stress Analysis 8.1 8.2

............................... 71

Microelectromechanical Systems....................................................71 Full-Field Measurement for Results Comparison with

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Numerical Methods......................................................................... 73 8.3 Composite Materials......................................................................... 73 8.4 Solder and Weld Joints. .............................................
8

73

.5 Surface Roughness Measurement.................................................... 74

SECTION III: SYSTEM IMPROVEMENTS Chapter 9: System Improvements....................................................................77. 9.1 Algorithm Coupling Between Coarse-Fine Search and Newton-Raphson Iteration. ..........................................................77 9.2 Convergence of Newton-Raphson Algorithm................................78 9.3 Adaptive Second Layer Search Area ................................... 79 80

9.4 Conclusion................................................................................. REFERENCES...............................................................

VI

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

LIST OF FIGURES
Figure 1.1 Figure 2.1 Figure 2.2 Figure 2.3 Figure 2.4 Figure 3.1 Figure 3.2 Figure 3.3 Figure 3.4 Figure 3.5 Figure 3.6 Figure 3.7 Figure 3.8 Figure 4.1 Figure 4.2 Figure 4.3 Figure 4.4 Figure 4.5 Figure 4.6 Figure 4.7 Figure 4.8 Figure 4.9 Figure 5.1 Figure 5.2 Figure 5.3 Figure 5.4 DSC System (Illustrated)............................
3

.

DSC System (Illustrated)........................................................................... 8 f and g Subsets........................................................................................... 9 Displacements u, V and Ax,Ay

Three-step search process......................................................................... 10. Coiled filament of incandescent lamps.................................................... 1 2 Rectangular filament of incandescent lamps............................................ 12 Obj ects under illumination........................................................ World and camera coordinates. ........................................................ 14 15

Pinhole camera model................................................................................17 Depth of Focus....................................................... Point Spread Function................................................................................21 Fourier components in a complex plane.................................................. 23 Sampling of one dimensional continuous signal.....................................25 2-D sam pling............................................................................................. 26 2-D image sampling................................................................................... 27 Different grey levels................................................................................... 29 Apparent grey values in different backgrounds.......................................29 CCD Operation............................................... Photon absorption in CCD..................................................... Full frame charge transfer..........................................................................33 Quantization errors................................ 34 31 32

19

Different kinds o f laser speckle patterns------------------. . . . . . . . . . . . . . . .37 Comparison between pixel and speckle size............................................ 38 Different sampling modes.......................................................................... 38 One dimensional correlation......................................................................39

Figure 5.4a: Guassian-type intensity distribution in an image.....................................40 Figure 5.4b: 3-D correlation surface............................................................................... 40 Figure 5.5: One dimensional convolution....................................................................43

Vll

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Figure 6.1a: "Reference" and "Deformed" speckled images............................. ........ 49 Figure 6.1b: Full-field correlation surface.......................................................... ........ .50 Figure 6.1c: Correlation surface of sparser grid interval................................... ......... 50 Figure 6 .Id: Correlation surface (wrong)........................................................... .........51 Figure 6.2: Figure 6.3: Figure 6.4; Figure 6.5: Figure 6 .6 : Figure 6.7: Figure 7.1: Figure 8.1: Figure 8.2: Figure 8.3: Figure 8.4: Figure 8.5: Figure 8 .6 : Figure 9.1: Figure 9.2: Figure 9.3: Figure 9.4: Figure 9.5: Figure 9.6: Figure 9.7: Figure 9.8: Figure 9.9: Adaptive process for search interval....................................... . ........52

Adaptive sampling......................................................................... ........ 52 Architecture of loops....................................................................... ......... 56 Cascade feedback maps.................................................................. ......... 57 The second layer global maximum................................................ .........57 The third layer global maximum.................................................... ........ 58 Bilinear interpolation.............. ........................................................ ........ 61 Two AFM images of poly silicon.................................................. ........74 "Reference" and "Deformed" images taken by AFM................. ........ 75 Image of regular pattern................................................................. ........ 75 Comparison of results between FEM and DSC............................. ........ 75 Image of different weld areas........................................................ ......... 76 Stress/strain results by DSC........................................................... ......... 76 Coordinate system for DSC............................................................ .......... 79 Convergence o f deformation parameters....................................... ......... 81 Convergence for good quality image............................................ ........ 82 Convergence for less contrast image..................................... ....... ......... 83 Angle o f rotation, measured for less contrast image.................... ......... 84 Wrong convergence "fooled" by local maximum........................ 85

Improvement in results with new interface.................................. .........8 6 Improvement in results with new interface------------------- ........ »........... 8.7 Convergence of parameters for a solder joint speckled im age... ......... 88 89 90

Figure 9.10: Another convergence exam ple...................................................... Figure 9.11: Convergence of partial derivatives.................................................

Figure 9.12: Second layer correlation surface..................................................... .........91 Figure 9.13: Second layer correlation surface................................................... ......... 92 Figure 9.14: Second layer correlation surface for different area of search...... ......... 93

Vlll

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

NOMENCLATURE

SYMBOL Alphabetical A B a, b (^ (j*
C l\C r ^d. F

DESCRIPTION
Component of vector in x direction in Fourier Space Component of vector in y direction in Fourier Space Inter-pixel pitch in x and y directions respectively Correlation Functions Local and Global maximums of correlation surface Distance of camera lens from object and image plane respectively Fourier Transform of a function Inverse Fourier Transform Nyquist Frequency Maximum frequency of a signal

y f(^ x,y)

Focal length of a lens Intensity of a reference Image Input continuous signal to digitizer Digitized signal value Represented value of digitized signal

g (x y ) h

Intensity of a deformed image Point spread function

i,j

Pixel numbering in X and y direction respectively

IX

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Kb k Ln LF M, N Mg Mf^ m ,n q R ,R ,R^ r R S § T AT u, V V Vq

Kilobytes Shift between signals nth module Lyapunov Function Pixel number in x and y direction in an image Emittance of an active body Emittance of a black body Pixel numbers in x and y directions in a subset of an image Quantization; Difference between adjacent grey values Elementary transformation matrices for transformation from world to camera coordinates Lens radius Ring of complex operations Correlation surface Fourier transform o f S Absolute temperature , Translation vector Change in temperature Displacement in x and y directions respectively Search interval Initial search interval Search interval at time t

Vgale w Ax
Ay

Gate voltage in CCD ° Weight in feedback neural nets Distance of a point in x direction from the center o f subset, Inter-pixel distance Distance o f a point in y direction from the center o f subset. Inter-pixel distance Coefficient o f thermal expansion, Absorptivity o f a material Strain in X and y direction respectively

Greek ^ s^,Sy

X

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

I xy

y

Shear strain Micro-Strain

fim

Micrometer Mean value o f intensity distribution in reference image Mean value o f intensity distribution in deformed image

^ T (j) (p

Reflectivity of a surface Transmittivity Radiative flux Angle o f rotation about y axis Angle o f rotation about z axis

S 0
51

Radius o f Neighborhood around a local or global maximum Angle o f rotation about X axis,Behavior of DSC system Behavior of DSC at time t Ideal behavior of DSC Current behavior of DSC Global maximums in first, second and third layer search process Pi = 3.14 ^Q , Angular frequencies in x and ydirections
Infinity

q"

Q 6\ , e \ , 6\ ^

XI

Reproduced with permission o f the copyright owner. Further reproduction prohibited without permission.

ABSTRACT
The computer vision methods for stress analysis were emerged in early 1980s. Among them the method of digital speckle/image correlation (DSC) was first proposed in the year of 1983 (by Sutton et al). The latest technology advance has made possible to build affordable systems to handle applications that conventional techniques are unable to deal with. Researchers worldwide have been studying to improve the accuracy and reliability of the DSC in order to extend its applications to emerging areas of science and engineering. The study of DSC at Ryerson was initiated in early 1990s and the existing system at Ryerson, named "AutoStrain," was made available early in 2000. The recent applications have been The

concentrated in areas where stress analysis in the microscopic scale is needed.

applicability of the method has been studied and verified by the predecessors in many ways, mostly via comparison with the results obtained from analytical solutions, numerical modeling and experimental measurement using proven techniques. Yet new applications usually demand revelation o f stress/strain for problems with no prior knowledge and under unusually subtle conditions (e.g., new material/structure of micro or sub-micro scale of geometry, multi material interface, ultra-hassle environment and etc.). For an application facing such

challenges, the accuracy and reliability of the measurements are constantly a concern.

The goals o f the current project are as follows: to review the recent research on the sources resulting in errors from both fundamental and technical fronts; to give a close analysis of the key factors that cause errors in the existing system; and to finally propose measures to cope with the factors and to lead to improvements. The study has covered these aspects o f the method including the image formation and the effect of light sources, the speckle patterns, the algorithms of the search schemes used and the proper interface among these schemes, the convergence criterion and the adaptive method to determine/adjust the values of the criterion to fit specific applications, etc. The project has reached the goals by having made substantial improvements as follows. First, the importance has been clarified of consistency among the different coordinate systems defined in the different parts of the software and improved the interface among these parts. Second, an adaptive method aiming at improving the convergence criterion for Newton-Raphson iterative algorithm has been proposed and implemented. The test results have demonstrated the effectiveness of these improvements.

XU

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CHAPTER 1 INTRODUCTION

1.1-Background
Measurement o f displacement and strain is an integrated part o f experimental mechanics and plays an important role in almost all braches of advanced solid mechanics, including fracture, fatigue, micro-mechanics and etc. Knowledge of the basic theories, applications and potentials o f various available techniques is essential to a mechanical engineer. The research for computer vision stress analysis techniques began in early 1980s and the cross-correlation techniques were emerged over a decade ago. The novelty o f the correlation techniques is obvious since they simply need computers to process a pair o f digitized images corresponding to different deformation states of an object The method and the backing theories have since been researched by many scientists, and the applications covered the structures, systems and components in virtually every areas in science and engineering, as well as the evaluation of material properties such as the strength, fracture, creep and fatigue parameters, etc.

There have been many methods / techniques available for the measurement of displacement and strains (or displacement gradients). In general every such method has certain advantages and limitations with respect to the quantities to be measured, the methodology, the complexity and time consumption for interpreting the measurements. In some particular circumstances, the limitations are imposed by the complex geometry, the material properties and the loading condition of the object involved in the application. For example, strain gauges and extensometers are commonly used in industry, but they give average strain or displacements over the gauge length only and are usually unable to measure deformation at microscopic levels of scale (e.g., at the bottom of a narrow grove) [7]. On the other hand, non-contact and laser-based optical techniques such as
moiré interferometry (Post 1983), holography (Fottenburg, 1969) and speckle

interferometry (Wang, Chen and Chiang, 1993) [13] are highly sensitive and adaptable to applications requiring high spatial resolution. Yet the high sensitivity itself also makes these techniques vulnerable to system's intemal/extemal noises. To suppress the noise and to process fringe patterns are often awkward and time-consuming tasks that curb the

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

industry applications [13]. The combination of digital camera and the desktop computer opens a new era for the development of more time and cost efficient and robust opticalcomputer techniques. Over the past period researchers have proposed a variety of

different methods that are generally called as computer vision techniques for stress analysis but can be categorized depending on the methodologies adopted. The method of digital image correlation (or digital speckle correlation) was first proposed by Sutton et al in 1983 and Bruck et al in 1989 [1, 7, 13]. The technique employs an optical-digital correlation methodology in analyzing the digital images recorded for samples that are subjected to mechanical loading or environmental changes. The combinations of the features of the technique has resulted in some special or unique advantages over other techniques, such as · · · · · Simplicity in specimen preparation Insensitivity to environment changes including mechanical vibrations Capability of simultaneous measurement of displacement and strains High efficiency in yielding fiill-field information of sample deformation High spatial resolution of the measurements (up to micron and sub-micron scales if implemented with Scanning Electron Microscopes) The advantages are demonstrated in many applications that are either unable or difficult to accomplish by using conventional techniques. Typical examples include the measurements in soft, fragile, thin surfaces and in-accessible sites of the samples, which are common to problems in fracture mechanics, fatigue and micromechanics [7].

The computer vision system named as AutoStrain at Ryerson is a multi-process, multi thread and multi media system. The system is developed to implement the digital speckle correlation method. In the early stage of the system development, the test results have demonstrated the system reliability and convenience as well as the acceptable accuracy of the measurements obtained in many applications. The system software consists of three modules as (a) the image acquisition; (b) the image processing and (c) the data post processing. The core o f the software is a multi thread module for image processing. The module is developed based on an optimization approach searching for the correlation of images using an adaptive hierarchical searching scheme in combination with a Newton-

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Raphson method for partial differential correction of displacement components and their partial derivatives. The approach is iterative in reaching the final measurements. The

post-processing module incorporates a MathCad 2000 software with user developed programs for further analyzing the measurements and giving timely graphical representation o f the results. The system hardware for image acquisition, as

schematically shown by Figure 1.1, consists of (a) a halogen lamp as the source for light illumination; (b) a CCD camera (or two cameras for three-dimensional measurement); (c) a frame grabber (Matrox Meteor II); (d) a display monitor (e) a desktop computer with Pentium II processor and (f) a vibration isolated optical table. The basic theories will be discussed in the later chapters. Some o f the applications achieved by using the AutoStrain are as follows; (a) the evaluation of thermo-mechanical strains for various semi-conductor devices and microelectronic packages; (b) the evaluation of mechanical and thermal properties of various materials, such as foils of metallic glass and fiber-reinforced composites, etc.; and (c) the evaluation of stress concentration and fracture parameters for notches and cracks, etc.

Computer CCD Camera

Monitor Light Source
Object

CCD Stand

Fig.1.1: "AutoStrain" System (illustrated)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1.2-Project Goal
The current project focuses on the software module for image processing. In the

subsequent chapters, some theoretical background involving computer vision techniques are studied, and the analysis is given to the error sources and to the approaches leading to the improvement of the measurement. The goals of the work are then set to improve the quality of the final measurements. The approaches used to reach the goals are discussed, which in brief are as follows: the first is to increase the accuracy o f the intermediate results from a coarse search scheme of displacement, and the second approach is to improve the convergence of Newton-Raphson iteration for final displacement and partial derivative parameters. The test results to demonstrate the improvement and the discussions o f the results are presented in the last chapter.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CHAPTER 2 DIGITAL SPECKLE CORRELATION TECHNIQUE 2.1 A brief description of DSC.
For a brief description, Digital Speckle Correlation (DSC) is a widely studied computer vision technique in the past a decade or so due to that it offers multiple-scale, fiill field and computer-automated deformation measurement. DSC is becoming increasingly popular in stress/strain analysis for objects under hostile environment, macroscopically or This

microscopically. A schematic illustrating the DSC system is shown in Fig. 2.1.

technique is developed based on theories of digital image processing and pattern recognition. As the name implies, DSC involves comparing digital images to determine the relative displacements between a "reference" (or un-deformed) image and a deformed one. For the purpose of image correlation calculation, there should be variable grey scale values across the images. In other words, there should be sufficient features points and contrast in the images. DSC extracts deformation parameters from a surface by involving a numerical procedure to evaluate the correlation between an originally recorded reference image f(x, y) for un-deformed surface and another artificial image g(x*, y*) as shown in Fig.2.2. The latter is digitally reconstructed based on an originally recorded image g (x, y) for deformed surface. The reconstruction aims to turn g (x, y) back to undeformed state (i.e., to / (3 c, y)) with the initially estimated deformation parameters. An original picture element at position (x, y) moves to (3c* y*) obeying the in-plane deformation kinematics as follows (as shown in Fig.2.3):

, du . du . X = x + u + -- Ax + -- Ay, dx dy

, dv . dv . y = y + v + -- Ax + -- Ay dx dy

... (1)

Assuming that the decorrelation between a recorded pair of images /(3c, y) and g (3 c, y) is solely due to the picture elements movement in responding to the surface in-plane deformation, the decorrelation betw een / (3 c, y) and g^*, y*/ will then depend upon how closely the approximate parameters describe the true deformation. as follows:
S{jÀ,v,ôulâx,du!ây^dv!âx,ô\;ldy') = \ -- ,
 ( 2)

To quantify the decorrelation, a factor S' is defined

5

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Once a series of digital images are recorded in a test, an image processing routine begins to examine the image decorrelation starting with the^^initial deformation estimates. The algorithm used requires that the initial estimates be sufficiently close to the actual (^* 5 ^*) location of the point in the deformed image. The initial estimates are^royided by anoüier coarse-fine search algorithm. The latter is a three-layer (step) search process as shown in Fig.2.4, which provides a ^ood initial estimate for the iterative algorithm to reach reliable final deformation measurements. Upon obtaining the value for S the algorithm searches for the root of S by updating the approximants in the end o f the firsygycle. The subsequent processing is iterative and based always on the results from a previous iteration, resulting in progressively reduced S value and therefore the improved deformation parameters. The R value will normally converge and reduce to a pre determined minimal (very close to zero) after only a few rounds of calculation, signifying the reach of acceptable quality of the final measurements, r o s t the image processing, the strains are calculated from the obtained displacement gradients following equation ( ^ or in case of small deformation, by equations (4):

dx

dx

dx

du

H - ---- 4 - ----------------b dy dx dx dy dx dy
+

dV

d u du.

dv dv
\
' ..................

du

_3v

M

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

For applications that involve temperature changes, the measured strains are socalled "total strains," i.e., the sums of the mechanical strains and the thermal expansions. For thermally isotropic materials responding linearly to the temperature change AT with a constant coefficient o f thermal expansion a, the total strains is expressed by equations

+ ( ^ y + i ^ y - l +a A T , ox ox
(3') and (4') as:

An essential vision system consists of a CCD (Charge-Coupled Device) camera and an

d u _i_---------dv du du dy dx dx dy

1

-

dv dv dx d y
\

)
image grabbing board, which are further integrated into a computer unit to automate the image grabbing, digitizing and recording, and to save the resulted image files as discrete

( 4

gray scale values. temperature.

A test usually records dozens of images each under a different

They are subsequently processed to yield the strain measurements and The method ideally applies to surfaces with

finally display the results graphically.

speekle-like patterns. Surfaces exhibiting natural texture with sufficient variation of light reflectivity may be exempted from speckle coating treatment. For applications to solder joints with large optical magnification, attention should be paid to that the solder material experiences microstructure change under elevated temperatures. Under a normal test

7
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

condition, a modestly equipped system can reach the accuracy for strain measurement better than 200 ps and a sub-micron spatial resolution. Combined with other features (e.g., non-contact, non-coherent, remote sensing and computer automated), DSC conveniently measures deformation in surfaces that are soft, fragile, thin, or confined in un-accessible locations or chambers. The advantages have been demonstrated in the applications to crack-tips, bottoms of narrow and deep grooves and notches, thin foils and non-planar surfaces o f solder balls, lead-frames and bonding-wires, etc. [7].

Computer CCD Camera

Monitor Light Source

¥
Object CCD Stand

H L

Fig.2.1: "AutoStrain" System (illustrated)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Subset F ( 0 ,0 )

Subset G

I
'® "ÿ ^ " ï TM 4 w & '» î « 4j

W ilgf?

Fig.2.2.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Point selected

ImageffO

101x101

101x101 on image# 1

/

21x21 around initial searched pol,,.

Pixel found with max correlation

Point found in image# 1 when searching at sparser grid points

Interpolation between the grey values o f nearest pixels

Fig.2.4: Three-step search process

10

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CHAPTERS IMAGE FORMATION

The computer vision methods rely on processing the random patterns of the object surface to extract the information o f the surface deformation. Therefore, the quality of the images is of importance to the reliability of the final results. The recorded speckle (or random) patterns of a surface has much to do with the image formation, which in turn is to some extent dependant on the light illumination.

3.1- Illumination
The light illumination plays an important role in digital image processing. There are two main factors that affect the image formation: the light illumination sources and the illumination setup. The following will generally introduce the different kinds of sources that have different properties, while the detailed discussion will only be given to those light sources that are being used in our lab. As mentioned, the reliability and performance of any computer vision algorithm depends on the quality of the image, whereas the quality o f the images is directly related to the illumination used. In general, the common illumination sources can be divided into the natural illumination sources and the artificial illumination sources as described as follows.

3.1.1- Natural Illumination
There are two types o f natural illumination, i.e., solar radiations and diffuse sky irradiation. These illumination sources are used for outdoor imaging. The natural sources can contain unwanted sources of errors because they cover the entire spectrum of light wave from ultraviolet to far infrared.

3.1.2- Artificial Illumination Sources
Different types o f artifieial illumination sources are commercially available, which cover the entire spectral range from ultraviolet to mid-infrared. They are available in different packages, variety and arrangements depending on the nature of application in which they are being used. Some common artificial illumination sources are listed as follows:

11

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

· · · · · ·

Incandescent lamps (Arc) discharge lamps Fluorescent lamps Infrared lamps Light emitting diodes Lasers

The incandescent lamps are the most popularly used for their cost, convenience and reliability.

Incandescent Lamps
 The most common example of the incandescent lamps is the standard light bulbs. They use the carbon filament in an evacuated glass enclosure in order to avoid oxidation o f filament. The new types of incandescent lamps use tungsten filament enclosed in quartz glass envelopes. There are two types o f filaments used in these lamps, the coiled filaments ones (Fig.3.1) and the rectangular filaments ones (Fig.3.2).
Fig.3.1 [33]

mm

The light output from a rectangular filament light bulb strongly depends on the direction. Further, the bulb is made of quartz glass that is transparent only to the wavelengths of up to 3//m [2 5 ]. The
Fig.3.2

light with wavelength higher than3///« is, therefore absorbed by the glass and raises the temperature of the bulb. Consequently, the emission of infrared radiations occurs, which

extends the spectrum o f emitted light to the mid-infrared region. The radiant efficiency of the incandescent lamps is about 80%, which is high compared to other types o f sources. Manufacturers of incandescent lamps have recently introduced two interesting renovation to further improve the efficiency and life of these lamps. The first is the introduction of halogen light. The tungsten filament o f an ordinary incandescent light bulb starts evaporating as its temperature increases. The vapors are deposited on the walls of the bulb, which reduces the 12

Reproduced with permission o f the copyright owner. Further reproduction prohibited without permission.

light output as well as the filament life. A halogen light bulb is filled with halogen gas [25] that will remove the tungsten from the envelope and returns it back to the filament, thus resulting in increased life and the illumination efficiency of the lamp. The second renovation measure is the infrared coating [25] on the bulb. The coating will reflect the infrared radiations back to the filament thus to reduce the temperature of the envelope while increasing the temperature of the filament, thus raising the efficiency of light emission.

3.2-

Illumination Setup

Illumination set up affects the image quality due to the fact that the object radiation received by a camera is dependent upon the radiometric or optical properties o f the object. The following lists several kinds of illumination setups each addressing some specific requirements. · · · · Directional illumination Diffused illumination Rear illumination Pulsed and modulated illumination.

In this lab the directional illumination setup is used.

3.2.1- Directional Illumination.
This is a common setup that uses a point light source to illuminate the object. The directional illumination produces irradiance that is dependent on the angle of incident light. In

applications, the angle o f light incidence should be kept normal to the object surface. This is because that otherwise the directional illumination would produce unwanted shadows on the surface to become a part of the recorded image.

3.3- Objects Under Illumination When light is incident on the object surface, it interacts with the matter of the object as shown in Fig.3.3. The incident light is divided depending upon the physical properties of the object under illumination. The image o f the object is therefore dependent on the physical /optical properties o f the object.

13
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The properties, as shown in Fig. 3.3, include · · · · Reflectivity Emissivity Transmittivity Absorptivity
Reflection Emission Incident Radiation Transmission



Fig.3.3

For example, the temperature elevation due to light illumination is dependent on the absorptivity of the object. And study of internal structure is dependent on the transmittivity of the object and the nature o f illuminating light. Similarly the surface properties of the object under observation are dependent on the reflectivity and emissivity of the radiation. definitions of these optical properties are given as follows. Reflectivity § is defined as the ratio of the reflected radiation flux (f> ^i.o the incident radiative flux (z ), The

...........

Absorptivity a is the ratio of the absorbed radiative flux

to the incident radiative flux

.............

Transmittivity r is the ratio of the radiative fluxÿl, transmitting through the object to the incident radiative flux ÿ),

^ = Y ' (Pi

- ( 3 - 3 )

14

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Emissivity £  is not related to objects that are passive receivers but to the objects that are actively radiating. It is the ratio of the emittance of the active object to the black body at temperature T.

In addition, the brightness (observed) of a lambertian surface is dependent upon the light incident angle while independent of the observation angle.

3.4- Image Formation
Image formation is essentially a process of the projection of 3-D space into 2-D space. The loss of one coordinate in such a process results in the severe loss o f information.

3. 4.1- World and Camera Co-ordinates
There are two ways to describe the position of the object. The coordinate system related to the object is called world coordinates and the coordinates system related to the camera is called camera coordinate system. The world coordinate system is denoted with X ={^X^,X ,X.^^ and the camera
2

X2
à L

O ptical axis'

X3
XI
Camera Coordinates

X'l
W orld Coordinates

Fig.3.4

15

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

coordinate system w ith Z ={X i,X ^,X ^) as shown by Fig.3.4. The axisX^ is aligned with the optical axis o f the camera. To describe an object that is already defined in the world coordinates in the camera coordinates, the coordinate translation and rotation have to be followed. Such a transformation involves two steps. The first step is to shift the origin of world coordinate system to the origin of the camera coordinate system. This is a typical translation and is denoted by a vector T. The second step is to change the orientation of the already shifted world coordinate system by rotating it until it coincides with the camera coordinate system. The entire transition as above described can be written in the form of the following equation as X = R [ X ' - T ) , ........... ( 3 - 5 ) where R is the orthogonal matrix and RR~^ = / , the identity matrix.

3.4.2- Simplest Camera model
The simplest camera model is the one of a pinhole camera. This model is often used to describe the operation of a camera. To describe the model needs to express the world

coordinates in terms o f camera coordinates as follows. A light ray emitting fi-om an object point [X^,X ,X^)'m the surface and passing through the pinhole is intercepted by the image
2

plane at

, as shown in Fig.3.5. The relationship between the world and image

coordinates can be expressed as

An examination of the above relations shows that those world coordinates parallel to the image plane are scaled by a factor of X3 . That means the image coordinates are but the ratios of

world coordinates. When more than one point on the surface of the object are projected by the same ray through pinhole, a lot o f information will be lost. This effect is called occlusion.

16

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Xi
i l

XI >
X 2'

X3

Image Plane

Object Plane

Fig.3.5

Homogeneous

coordinates

are

expressed

as

a

four-component

row

vector

X = {tX^,tX^,îX^,t)diTiài the image coordinates are x = (.sx,,5 X 2 ,5X 3 , 5 ) [ 2 1 ].

The complete

transformation of world coordinates to camera coordinates can be obtained with a matrix vector multiplication as follows. = (3-6)

The following 4 x 4 matrix M is used to express the process of image formation as
M = T R ,R ,R ,P S

(3-7)

M is composed o f the transformation matrices. Each of the elementary matrices performs an elementary transformation such as translation, rotation around related coordinate axis, perspective projection and scaling. These elementary matrices are as follows:

1 T 0 0

0 1 0

0 0 1

0 0 0 1 Translation by ( , -T ^, -T^ )

-T,

17

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1 G R.=
0

0 cos^ -s in 0 0
0 1 0 0

G sin0 cosO G sinç?
0

o' 0
0

Rotation about X axis by 0

G cosç
0

1
0 0 0 1

R..

-s in ^
0

cos^
0

Rotation about X; axis by ç?

C O Sxf/ -s in ^ R =
0 0

sin y/ cosy/ G
0

0 0

0 0

1 0

Rotation about X, axis by y/

0 1
0 0 0 1

0 0 -^2 0 0

0 0

S=
0 0

Scaling

 ^ 3
0

1 0 0

0
0

0 1 0 0 0 1 0 0 0

-1 /flf,
1

perspective projection

3.4.3-Depth of Focus
A real optical system is different from a pinhole camera in the sense that it can only take image with sufficient sharpness at some specified distance from the camera. The image

sharpness drops as the object is moved to or from the camera. Within certain distance from the focal point of the camera, the image sharpness will remain acceptable. This range of distance is then called as the depth of focus as illustrated by Fig.3.6.

18
Reproduced with permission o f the copyright owner. Further reproduction prohibited without permission.

X3

Object Plane

Image Plane

Fig.3.6

There is an even more significant difference between a pinhole camera and a real optical system. For a pinhole camera, the image of a point on the object is represented by a point on the image plane, whereas a real optical system does not obey such a point-to-point correspondence. In the latter case, an object point corresponds to a small disc with varying intensity. Only the center of that disc represents the corresponding point on the object. With increased object distance from the camera, the image for the point smears to a disc of the radius s . To find the relationship between the distance object moved and the radius of the disc e , the thin lens formula as follows is used [2 1 ]. (3-8) / where and are the distances of the object and the image plane from the camera lens.

Assuming that the movement o f the object A 3 is parallel with the system's optical axis, the new distances = d^-¥X^, and d] = d , - x ^ . As the changes are very small compared with the

original distances, the following relationship can be derived:

19

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

(3-9)

Let rtf be the ratio of focal length /

to the diameter of lens 2r, or ^

^ ^ and

/

X 3 . Using the thin lens equation the depth of focus 2 n ^d ^{d ,-f)s In^dls

can be expressed as

^

'

The above equation shows that the depth of focus is directly proportional to the focal length and inversely proportional to the diameter o f the lens.

3.4.4- Point Spread Function
The Point Spread function is an important concept used in Fourier optics that is discussed in the section to follow. A point in an object space is generally not imaged as a point on the image plane but in the form of an intensity varying disc. The function that describes this phenomenon is called Point Spread Function (denoted as PSF) [21, 25]. To mathematically describe this phenomenon needs to make some assumptions that the PSF is not position dependent so that the system is shift invariant, and that the object is decomposed into single points. The intensity distribution on the image plane of an object point is as shown in the (X ^ represent the intensity of the object point and g, the intensity of the

Fig.3.7. Let

image of that point in the image plane. The intensity at a point x on the image plane can be computed by integrating the contribution from the point spread function which has maximum atx'.

20
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Object Plane

Image Plane

Fig.3.7

The above equation is known as a convolution where A is the Point Spread Function. Convolution plays an important role in describing the image processing. For instance, the smearing of images is described by the convolution as blurring, and the images show a periodic gray value variation due to the effects of convolution. It is evident that when the wavelength of these periodic structures is larger than the width of point spread function, there will be no significant change in the image. However, when the wave length is smaller than the width of point spread function, the amplitude of these structures also decreases, resulting in the loss of fine details. The point spread function can also be considered as the impulse function at a point in the image plane. To understand these periodic structures, the introduction of basics in optical Fourier Transformation is necessary.

21

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

3.4.5-Two-Dimensional Fourier Transformation
Analysis o f an image into spatial sinusoids running in various directions with different wavelengths offers a divide-and-conquer technique for problem solving [24]. It is often easier to conduct a given operation on a constituent sinusoid than to conduct the same operation on a full image. Consider an image as a two-dimensional spatial function where the independent

variables x , y denote displacement in orthogonal spatial directions. Fourier transformation of the function / ( x , y ) , F* ( / [x, y ) ) , is denoted as F (u, v ) . u and v are independent variables in Fourier domain showing spatial frequencies in x and y directions, respectively. The Fourier Transform of the image/ (x. y) is mathematically expressed as

F{u,v) = F*[ f { x, y) ) = I
The inverse Fourier Transform is given by /(% ,T ) = F - '( F ( M ,v ) ) = j where i =

(3-12)

(3 -1 3 )

V-1

. The inverse transform shows that the function f { x , y ) can be constructed , each

from a linear combination of elementary functions having the form of

appropriately weighted for amplitude and phase by a complex factor F (w,v). F[u,v) is a complex function and can be written as

F (u, v^ = A ( u , v ) + iB (^u,v), ...... ( 3 - 1 4 )
where
00 CO

j j f
--

(^x, y ^ c o s {ux , v y ^ d x d y

00

--00

00

00

5 ( w , v ) =

J

J f (^x, y ^ s ' m { u x . v y ^ d x d y

22
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The above shows that the Fourier transform of an image is a 2-D distribution of complex numbers or a 2 -D distribution of vector F (u, v) in a complex plane as shown below in Fig3.8 [24].

23

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CHAPTER 4 IMAGE SENSING

The previous chapter discusses the optical formation of a continuous image. A computer vision system works with discrete and digitized images. A CCD (charge-coupled device) in combination with an image grabber installed in a computer is used to sense, sample and finally record the digitized images. A continuous image formed optically through the camera lens system is first sensed and sampled as a discrete image by the CCD sensor chip with an array of discrete optoelectronic sensors. The electronic signals are recorded as a numerical matrix of gray-scale distribution over the sensing area. The digital image files thus recorded are finally then used for the image processing purposes. Image sensing and sampling are two main topics in image discretization and digitization, and they are integrated in a parallel process for a computer vision system.

4.1- Sampling
Sampling is a step required to make a continuous image discrete. Fig.4.1 shows the sampling of a one-dimensional signal. The sampled data make the programmability possible as only with the digitized data the numerical algorithms developed for signal processing can be employed to process the images. Let a continuous 2-D image / (%,y) be mapped into a finite matrix ,, as shown in Fig.4.2

and Fig. 4.3. The image / (x,y) is sampled in two dimensions at certain points in the image plane by the array of sensors called pixels (The term "pixel" is the abbreviation of "picture element"). The sampling process has to comply with Shannon's Sampling theorem. Basically, the theorem requires that "the sampling frequency maximum frequency of the signal /^, " [21, 30], or fs ^ 2 / , , , ............ . . . . . ( 4 - 1 ) must be equal or more than twice of the

f s is called Nyquist frequency. As a 2-D sampler of images, a CCD array only records the information at the grid points. To process the sampled image needs some numerical algorithms or mathematical schemes such as Discrete Fourier Transformation.

24

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Continuous signal

Sampled signal

Fig.4.1

4.1.1 2-D Discrete Fourier Transformation
Consider an image with M number of samples in x direction and N number of samples in y direction. The inter-sample distances Ax and Ay are as shown in Fig.4.3. The sampled image is f { ^ ^ y ) = f(x .A x ,y .A y ) where x =
0

,1,

2

...........M -

1

and y =

0

,1,

2

. . . ......... . . . N -

1

25

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

2-D Sampling

Fig.4.2

A discrete Fourier transform can be expressed as M N

F { u , v ) = F' [ f { x , y ) ) =

2 È fi^^yY a j; =
:=0 0

(4-2)

where u = 0 , 1 , 2 .................. M -- 1 and

v --0 , 1 , 2 ....................N -- 1

An inverse discrete Fourier transform is expressed as M - 1 V -l

f {x,y)= F '

>v)

=

Y, H
u=0 v= 0

F ,{u ,

vy

(4 -3)

In some cases, the origin of the spatial frequency is shifted from (0,0) to (M/2. N/2).

The

sampling period Ax and Ay in the spatial domain and Au and Av in the frequency domain are related as A 1 Aw = ------ or MAx and Av
1 or MAy
A 6 ), 1
MAx

2tc

A<y,, 1 - ~ = ... 111 MAy

26

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

/ ( 0 ,0 )

A t Ay

4» A-Ç

I'j

.1

Fig.4.3: 2-D Sampled Image

27T Now if image contains M x N pixels with Ax = Ay = I then Aco^ - -- radians per pixel and M Aco =-- ^ N radians per pixel. C O . = ±Aco, The maximum spatial frequency G) ^ M occurs at

co^=±MI2 and obtained as

From above relation the angular frequency can be

^max _ And similarly,
6

radians / pixel

)"" = ±;7r radians / pixel

The above analysis shows that the maximum frequencies correspond to a spatial sinusoid with a period of 2 pixels [24]. Therefore, the maximum frequency that can be sampled by a CCD camera is limited by the resolution of the CCD array.
An important property o f the Discrete Fourier Transformation is the shift property. It states

that when the image is moved, the amplitude of the Fourier transform remains the same and only the phase of the transform is changed. Another important property of Fourier transform is its linearity. It states that the transform of the sum of two functions is equal to the sum of the transforms of the two functions. That is

27

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

These properties make Fourier transform a very useful mathematical tool for digital image processing. The computer application of 2-D Discrete Fourier Transform requires much

computing time and a much faster version of DFT called Fast Fourier Transform (FFT) is usually used for real time applications [ 1 0 ].

4.2-Human and Computer vision
A human observes and evaluates the images and processes them his/her visual system. The following elementary facts should be taken into consideration in observing the images since as human we are often misled in the interpretation of images. i) There exists a phenomenon of optical deception. An example is that humans often go incorrect when they measure things by visual estimation. There is a well-known experiment to demonstrate this, in which the lengths of a horizontal line and a vertical line, though looks different to human eye, are actually identical. ii) Another weakness of the human visual system is that human vision can hardly evaluate the absolute gray values correctly since the human visual system is highly affected by the environment. As Figure 4.5 shows, while humans can distinguish relative brightness differences well, they can hardly do so for absolute brightness' [21]. As illustrated in the Figure 4.4, humans cannot differentiate the variation ir^ the gray value of less than 2 % [26].

28

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

17 gray levels

9 gray levels

Fig.4.4

For these reasons mentioned above, images taken by the computer (and processed), look much better than the original scene taken by the human eye. (a) (b)

(c)

In part (c) o f this figure, the small boxes look different but actually they have same gray value

Fig.4.5

4.3- CCD A rrays

As mentioned, the digital processing requires the images to be processed given in the form of electronic signals. The signals are digitized into sequences of numbers which then be digitally processed by computers. There are many ways to convert an image into digital numbers. A milestone in image sensing technology is the invention of semi-conductor photo

29

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

detector arrays. There are many types of such sensors, the most common ones are the charged coupled device (CCD). The CCD architecture is designed to meet three functions (a) the charge collection; (b) the charge transfer; and (c) the conversion of charge into measurable voltage. As the very first task, a CCD array is capable of generating optical charge. When a light beam is incident on the light sensitive parts (the pixels) of the CCD array, the charge is generated proportionally to the intensity of the incident light, which is but the number of photons collected by the pixels' light sensitive area. CCD arrays are commonly used but the fabrication of them involves complex manufacturing process. Theuwissen describes a 29-step procedure for the fabrication of CCD arrays [23].

4.3.1-CCD Operation
Fig.4.6 below illustrates the operation of a CCD sensor of the Metal-Oxide Semi-conductor (MGS) type. The MGS capacitor is the main block of the CCD. A photon with energy greater than the energy gap absorbed by the depletion region under the influence of applied voltage is converted to an electron-hole pair. The electron remains in the depletion zone whereas the hole is moved to ground electrode. The amount of charge collected in this way is dependent on three factors, i.e., applied voltage, oxide thickness and gate electrode area. The number of electrons collected by the detector is called "well capacity".

When a photon is incident on the pixel area, there exist two possibilities: the reflection and the absorption [26]. As illustrated schematically in Fig.4.7, different effects can prevent the

photons from being absorbed in the well. The following lists these effects.

30

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1- The optical property mismatch between the top layer (which is scratch resistant

Vgate,

I

Metal Electrode O xide Layer

I· --^ Q Depletion Region j
1

Bulk Semiconductor (p-Type Silicon)

; ^

!

Fig.4.6 transparent layer) and the ambient medium like air, which makes the photon to be reflected back. 2- The multiple reflections occur in the top layer. This phenomenon can be prevented by deposition of additional anti-reflection dielectric layer. 3- The non-perfectly transparent top layer of the pixel. The reduced blue response of the CCD camera sensor is the good example of the effect. 4- The very high doping concentrations near contacts. The photo-generated charge pairs recombine so fast that the collection of electron becomes impossible. 5- The large wavelength photons absorbed very deeply in the bulk of semiconductor. This makes that the electrons cannot be collected by the surface of the CCD sensor.
6

- Photons might pass through image senor without being converted to electron-hole pair.

The ratio of generated electron-hole pair to the number of photons incident on the sensor is called the charge conversion efficiency or quantum efficiency. Anti-reflection coating is applied at the sensor for the purpose of improving the efficiency of the sensor.

4.3.2- Charge Transfer
There are different charge transfer schemes in use. The one discussed below applies to the CCD of scientific grades.

31

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

·

Full Frame Arrays

For scientific applications, Full-Frame Arrays (Fig.4.8) with square pixels are used for the simplification of image processing algorithms. Smearing can occur during the readout because of the continuous irradiations of the pixels. Use of mechanical or electronic shutter can reduce the severity of the problem.

Scratch resistant layer Interface Electron collecting area

· O

Deep Absorption

Fig.4.7

Charge transfer rates are dependent on the amplifier bandwidth and conversion capability of the AD (analog-to-digital) converter. Usually, for increasing the charge transfer efficiency the array is divided into sub-arrays. When four sub-arrays are used, the transfer efficiency is increased by four times [23].

32

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Square pixel area
640

Imaging Area

480

Serial Readout Register Fig.4.8

Sense Node and Amplifier

4.3.3-Quantization Let / («) be the sample set of an input signal / (t) and (n) a finite number of bits

giving the sequence as shown in Fig.4.9. Quantization, denoted by q, is defined as the smallest step used in the digital representation of (n ). Digitally speaking q is the value of the least

significant code bit. Quantization noise (or error), denoted as G », is the difference between the input signal and its digital representation fg{n) expressed as follows: s{n) = / ( « ) - / , ( " ) The error amplitude is dependent on the number of quantization levels or quantization resolution. For an
8

-bit camera the quantization level comes to 2* =256.

For scientific

applications, the 2`" or 2'^ level of cameras is used [13]. Increasing the quantization level (or the maximum "gray scale") leads to the decreased quantization noise. The maximum

quantization error is |q/2|. The quantization level plays very important role in some scientific applications. Higher quantization level makes possible to detect smaller variation occurred in the intensity of an image. For the current application, this results in higher sensitivity for
displacement/deformation sensible by the camera. However, high quantization level could also

result in increased noise level since the variation in intensity is not necessarily caused by the displacement /deformation of the object.

33

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

4.3.4-Image storage An optically recorded image contains a huge amount of information. As an example, a standard image taken by a 35 mm camera has a size of 24mmx 36 mm. Assuming a spatial resolution of 0.01mm as usual, the image would consist of more than 10' data points. In digitizing the image, each of these points would need several bits to resolve the gray values at the point. A common standard is to distinguish the gray values by 256 levels (or 8 bit). A point of the image is usually stored in eight bits or one byte. Thus a whole image could occupy 10 mega bytes of memory space.

Digital output

0 110 0 10 1 00 1 1 00 1 0 00 0 1 0000

5q 4q 3q 2q iq 0
q/2 3q/2 5q/2 7q/2 9q/2 Input signal f(a) = f ( t )

+q/2 e(n) -q/2

-N N \J \

K N

Quantization Error

Fig.4.9: 4-bit representation o f the gray values (16 levels).

34

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The black and white CCD camera and the image grabbing board used by the current system have an array (or frame format) of 640 x 480 pixels. Therefore an image will need around 300 Kbytes of space. If a 512 x 485 frame format is used, it will need about 250 Kbytes.

35

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CHAPTER 5 SPECKLED PATTERNS, CORRELATION AND CONVOLUTION

5.1- Speckled Pattern
From gray scale point o f view, a surface showing a speckled pattern (or a random pattern) is nothing but the one with varying gray values across the area. As far as the image processing is concerned, a random pattern or a speckled surface contains very rich information in the intensity distribution and variation. The patterns can be natural due to surface texture or be

artificially created by coating the surface. There are two ways to produce an artificial speckled pattern on a surface, namely by coherent laser illumination and by generating random speckle coating on the surface of the sample. Both types of speckled surfaces are used in our lab for different applications. The techniques that rely on using speckle patterns include speckle interferometry, speckle photography (in case of laser speckles) and digital speckle correlation (in case o f random speckle generation on the surface of specimen), etc. For a diffused or un-polished surface under illumination of a coherent light such as a laser beam, any point in front of the surface receives light scattered firom all the points on the surface. When viewed by human eyes, it looks that the laser speckles not only cover the surface but also are filled the space near the surface. This phenomenon is known as speckle effect [28]. If the object under observation deforms, the speckled pattern changes accordingly. The study of the change of speckle pattern has led to different methodologies aimed to determine the displacement or deformation o f the object surface. Among them, the speckle photography is a technique that uses single laser beam to illuminate the surface and produce speckles [Duffy, 1982]. The technique employs so-called double-exposed film to record the surface speckle patterns, known as specklegrams [29]. The double-exposure refers to record the speckle patterns before and after the surface is loaded twice on the same film, thus containing information of the surface deformation. This technique did not become very popular because of the time consuming process to extract deformation from the recorded specklegram. Yet the recent advancement in computer vision techniques has made possible for the evolution to digital speckle photography, leading to the drastically raised efficiency [6 , 27]. Another technique called Speckle Interferometery is the first such technique

36

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

to use speckle phenomenon for the measurement of displacement and displacement gradients in the field of experimental mechanics [28]. Unlike the two techniques discussed above, digital speckle correlation (DSC) technique relies on no laser generated speckle patterns. Rather, surface speckles are spray coated using alternately the white and the black paints onto the object surface. Different types of laser speckled patterns are shown in Fig.5. 1 .

Fig. 5.1 : Different kinds of laser speckle patterns.

5.1.1 Speckle Size The speckle size is an important factor affecting the determination o f displacement and displacement gradients. As it is known, the variation of intensity across the image is necessary for the search algorithm to be effective. The variation can be categorized by two factors (a) the speckle size and (b) the contrast of the pattern [7]. The study has shown that the average size of the speckles should be appropriate with respect to the size of the pixel of CCD [13]. Optimally the speckles should have the size to cover about two to three pixels of the CCD sensor in order to achieve satisfactory correlation results by using coarse fine search [Bruck et al., 1989]. In case o f small size speckles the actual location and intensity of a speckle will become more Uncertain as compared with using patterns of larger speckles. Fig.5.2 shows that the same speckle is sensed by different number of pixels in (a) and in (b). Apparently, the intensity measured in these two cases will differ. The other restriction on the speckle size is

imposed by the sampling theorem [21, 24], As Fig.4.3 shows, the pixel intensity varies with respect to the ratio o f speckle size to pixel size. The pixel readings remain the same for all

three pixels in the under-sampled case in which the average speckle size is much smaller than

37

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Dotted circle = speckle Solid line = pixels

the pixel size, as shown in Fig.5.3. The intensity variation is the essence o f image processing algorithm, no intensity variation would only fail the correlation methodology.

H ighly sampled

Sufficiently sampled

Under sampled


Signal
I I = detector element ^

· #

· I

· ·

= speckle

Fig:5.3

5.2-CorreIation
Correlation is a measure o f the degree of similarity between two different signals as functions of time or a measure o f the phase shift between otherwise two identical signals. Maximum correlation occurs when the two signals are identical both in shape and in phase. Correlation

38

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1" ` signal

k V

2"" *signal shifting multiply

r

'

integrate 

Fig.: 5.4: 1-D Correlation

calculation is usually computationally intensive and is referred to as a multiply/accumulate operation.

h { k ) = f ( x ) * g ( x + k ) , ....................... (

5 -

1)

There are in general two types of correlation: the auto-correlation and the cross correlation. The correlation function reaches highest value as the two signals are in shape and un-shifted with respect to each other. Correlating a signal with itself is called auto-correlation. Auto-correlation is often used to extract the signal from noised background. Correlating a signal with a reference signal is called cross-correlation. Cross-correlation is commonly used to identify a signal by comparing it with a library of known reference signals. Fig:5.4 shows the process o f a cross-correlation in one dimension.

5.2.1- 2 D Cross-Correlation
The cross-correlation process is similar to the template matching for pattern recognition. The process involves two images. Usually the one taken first is called "reference" image and the second image taken under different mechanical state or environment condition is named as a "deformed image". The correlation process between a "reference" image and a deformed one is performed on images acquired and digitized as discussed previously.

39
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

As previously discussed, the correlation process o f images aims at extracting the information of surface deformation contained in the light intensity variation and spatial distribution of the images in the form of gray values, the histogram o f the image gray values helps schematically establish a quick

understanding of the gray values distribution of an image. A histogram of an image is plotted based on all the gray value (from 0 up to 255) data recorded for that digital image. The wider the range of the distribution stretched along Fig.5.4a

the gray scale, the richer the image information. A classical Gaussian type (or bell-shaped) distribution curve usually indicates an ideal random pattern for the cross correlation application, as shown in the Fig.5.4a. As is also discussed in the previous chapters, the actual images recorded not only depend on the speckle size and distribution density, etc., but also have much to do with the light source used and the setup of the light illumination. Thus in real applications, it is always required to ensure that a well-distributed histogram is obtained prior to start a testing.

5.2.2-Correlation Functions In the image-processing module of the AutoStrain, a coarse-fine search scheme is employed. The coarse search is for better determining the close initial estimates of the displacement

components that is required by NewtonRaphson method for the fine search of deformation parameters. In certain

applications very large rigid-body motion can occur due to mechanical or thermal loading. To determine the geometric Fig.5.4b 40

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

correspondence between the image subsets used in processing, the image correlation process and the similarity (or correlation) function are also employed. Each area-based correlation technique is dependent on different functions for the generation of correlation surfaces. These correlation surfaces show the spatial shift between two images. A 3-D plot of a typical correlation surface is shown in Fig.5.4b, in which maximum correlated point is the peak of the graph. Some correlation functions are discussed below.

A- Normalized Cross-Correlation (NCC)
This is most commonly used correlation technique but it requires high computational capacity due to the amount o f calculations involved. The correlation function for 2-D images is given below [Pratt, 1974] [27].

M

N

7 ^ - ^ ................' .......( 5 - 2 )
i=l

/=l

V /=i

j=l

where

and /, represent the reference and target window/template.

B- Correlation Coefficient (CC)
In this correlation algorithm the mean values are subtracted form the local signal before correlation performed. Svediow et.al. (1978) [27] found that this function is very useful in case that the images have noise, though the computational cost is higher as compared with the NCC.

M

N

S £ (X 0 - u , j - v ) ~ w V1 = 1 ;=i

(z, j ) - M t) (5 -3 ) \ 1 = 17 = 1

and //, are the mean values o f jf and / respectively.

41

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

C- Sum of Squared Differences (SSD)
This function is considered as basic differencing function [Okutomi and Kanade, 1990] [27]. Computational cost is also high due to multiplications performed for every point.

...........

where

D- Mean Absolute Difference (MAD).
The computational cost of this function is very high as compared to the functions cited above [27]. In discrete form this function is presented as

..............

w here, 1 MN

E- Point Correlation (PC) This is another technique for correlation of images [34] with reduced computational cost
The template matching technique used here is unlike other techniques that incorporate

summation ^
x,y

with respect tox andy. Point Correlation (PC) performs summation over a

predefined set o f points.
^ {(^1 5 3^1 ) ' ( ^ 2 5 3^2 ) j .............

42
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

hence

Z
X ,y

=

(* . J' )e

E

where k is much smaller than the total number of points in the template. The selection of most important points is performed by an iterative scheme called Point Ordering (PC).

5.3- Convolution
The convolution process is similar to correlation. But the second signal is flipped back to front as is shown in Fig.5.5. Convolution is used for digital filtering and smoothing a signal. For the signal filtering purposes, the convolution is preferred to correlation since it involves no complex conjugates of frequency. convolution. If signals are symmetric, there is no difference between correlation and

h { k ) = f { x) * g { k - x).

(5-6)

-)

f signal

shifting

multinlv integrate

Fig.5.5

43

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CHAPTER 6 ADAPTIVE HIERARCHICAL SEARCH ALGORITHM

6.1- Introduction to Search Process.
Digital Speckle Correlation (DSC) as a computer vision technique is developed for measuring the displacement and displacement gradients for an object surface. A digital speckle image usually is recorded with about half million pixels (for instance a 640 rows by 480 columns format has 0.31 million pixels). By adopting a methodology interpolating between pixels DSC technique is able to obtain displacement measurement at the accuracy o f 10"^ pixel [1]. In a general case, to search in the current image for a pixel location that best correlates to a point in the reference image will have to involve 0.31 million pixels. The pixel by pixel search procedure requires prolonged computing for executing the correlation calculations. Research efforts aimed at promoting the efficiency of the search procedure are ample [e.g. 2,16,1 7 ,1 8 , 19]. In addition, new coarse-fine search schemes have been proposed, including those aimed to by-pass the calculation for interpolating the intensities [1,16,17], and those adopting Newton - Raphson method in the navigation of search direction [1,2] to reduce the search time. While the former method is still much time consuming, the latter (Newton-Raphson) type of search, though yielding satisfactory results as the displacement is limited within eleven pixels, may be misled when several local maximal exist [1]. In the early versions of DSC system at Ryerson, the Newton-Raphson approach was adopted and the above mentioned problem was coped with by adopting a semi-automatic scheme in image acquisition. The scheme also includes the implementation in the module a real-time image subtraction routine that enables a real-time display of the difference between the current image and the on-board reference image that is first acquired. With the help of the routine, the camera position can be so adjusted to closely follow and to compensate the loading induced in plane motion o f the object. The scheme effectively ensures that the search for the pixel in the deformed image that best correlates with a pixel in the reference image will only need to be confined in a small neighborhood corresponding to that targeted pixel. This methodology is effective in raising the search efficiency for the global maximum correlation while reducing the chance o f being misled by the local maximal, and has yielded satisfactory results in applications. However, the scheme may fail in applications where large in-plane rigid-body motion becomes un-avoidable and the system is unable to response quickly to compensate it. The continued research has been inspired by making full automation of the DSC technique

44

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

with new approaches based on so called adaptive hierarchical searching scheme.

In a

correlation calculation, a particular intensity-individual in the reference image and every intensity-individual in the deformed image make a pair to yield a correlation factor. Among all correlation values there usually have the global maximum and several local maximums, yet only the global one eventually lead to the intended measurement of displacement for that particular pixel. The values of correlation factors together construct a two-dimensional

surface, the peaks of which are the above mentioned maximums. According to the theory of Optical Fourier Transform, the minimum distance between two of such peaks (in the intensity domain) should be slightly greater than the inverse of the spatial cut-off frequency of the surface (in the frequency domain). The Shannon's Sampling Theorem states that the complete information of the surface is implied in the correlation values at the nodal points of a grid with uniform interval equals to or less than half of the minimum distance. This can be interpreted as that the searching for the pixel of maximum correlation can be fulfilled with a gird sparser than the full gird, yet without taking the risk of missing the global maximum. Based on the theory, a recurrent procedure was implemented prior to the main processing routine. The procedure facilitates the adaptation of the gird interval for the cut-off frequency. The experiments

performed subsequently has demonstrated that the adoption o f the procedure effectively raised the efficiency of the processing as well as the reliability of the final results, thus has made the DSC technique more robust in dealing with a wider range of applications. The coarse search usually ends with a displacement results of the accuracy at a pixel space. Finer searches are continued to further approach the ideal accuracy for the measurement. For that purpose, three surfaces of correlation values with different resolutions are considered. The first surface has a medium spatial resolution that is the same as the original image pixel resolution. The second surface is of the sparser grid that has a resolution lower than that of the first surface. The third surface constitutes of all the intensities including the interpolated values and thus has the highest resolution among the three. The hierarchical searching is implemented on the basis of these surfaces in reaching the global maximum.

6.2. Cut-off frequency of correlation surface

45

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

In the following discussion, the `intensity' denotes an intensity individual at a 2D position coincides with either a conventional pixel or a point where an intensity interpolation takes place. Let I q{x,y) be the reference image and /, deforms. x e { l , y e { l, be the image taken when the surface

,^^2 ) 5 w h e r e a r e points along x or y directions.

Also, let /?o (%,}') G I q( x , y ) , a n d [ x , y ) e /, (x ,y ), w h e r e ( x , y ) ,p , {x ,y ) are the intensities of the two images at a position(x,y). Correlation between Pf^{x^,y,^)Glç^{x,y), and Px(x,,y,)^Iy(x,y),ïsCl[p^(x^,y^),p^(x,,y,)). For an intensity individual values |C / at [ x \ y ) is Cl* (po (^*'/ ) ) > Cl [Po k , y J , A (6-1) (x;^, ), ^, (x,., y J ) , x,. =1, ) e 7q (x , y ) , there areiVjxiVj, correlation

N ^,y^= \, ............. . The maximum of correlation

with { x , y ) e Neighbor{j^x*,y In most cases there

neighborhood of point(x*,y* j , with the diameter2<J. are several maximums as

C l * [ p a { x ^ ,y k )^ P x (x i, y ] ) ) ^ { C l[ p ^ ( x ^ , y k ), p ^ { x ,, y , )) ] , i= \,2 , .. ., \ i, but only one maximum. C f (po k )) > C/' (po (6-2)

CZ"

(x*,y* ),

(x" , y " )) G{ c (

(x*, y* ), A (x%y' ))}

is the global

where, (x * ,y * )# ^ x " ,y " ). The remaining k-1 maximums are local maximums. Obviously, only C7" ^ ( x ^ ^ , y^ ), p, ^x",y'* ^j is theglobal maximum and all the

correlation values belong to a surface 5 (x ,y ),w ith peaks of maximums as expressed below. l c / ( p o ( x ,, y , ) , P j ( x ^ , y , ) ) , x , = l , .......,A ,, y , = l , ...... , # 2 ) c g ( x , y ) and a * (;?o k >yt)>Pi ( / / , / , ) ) > 6"(x ,y ), where (x * ,.,y \)^(% ,y )........ ( 6 - 3 ) The Fourier transform of S (x ,y ) is

46

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

5(w ,v)= Therefore the surface is S{x,y)= Since (6 -4 )

= cos I n [ux + vy'^ + j sin I n (ux + yy) is a 2-D periodical function with

frequency u in direction x, and v in direction y, u,v are called space-frequencies of surface S {x,y). By equation (6-4), the surface S (x, y ) is the linear combination of the 2-D periodical functions with the weight F{uiv), where m, v e ( - 0 0 , 0 0 ).

If \S (m, v)| = 0, when u = u , and v = v*, then u and v* are the cut-off frequencies, or Nyquist Critical frequencies respectively. Therefore, the highest frequency of the surface S (x, y ) are u and v*. That is to say , the minimum intervals of the maximum on the surface are
1 / m*

and 1/v* in the directions x,y respectively.

By means of the representation of Fourier series, it can be derived that ^ m n ^ \ 2 7 '2 v y '' m n

ZM .ZV m eZneZ

Po{x,,y,),p, ir r ,7 r r
meZ neZ

v2m

2

......(6-5)

v j j

This equation complies with Shannon's Sampling Theorem. It indicates that those

c o r r e la tio n -v a lu e s at a g r id I

I im p ly c o m p le te in fo r m a tio n o f su r fa c e S ( x , y ) .

Therefore, if the cut-off frequencies u and v* can be obtained, the search at the grid points can be carried out.

\2 M " 2 v \

6.3 Adaptive sampling
Since the cut-off frequencies of surface S(x, y ) is dependent on the properties of the images 7o(x,y) a n d /i(x ,y ), the intervals of the sampling grid,I/ ( 2 m* ) and l/(2v*) should be adjusted for each testing. An approach discussed below was proposed to implement such

adjustment. With the approach the grid interval can be automatically adjusted to reach the cut off frequency.

47
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

6.4- C ut-off Frequency versus Correlation Topology-Properties Let 6 be the behavior o f the DSC system, and a matrix F of m xn output parameters be a vector of the grid intervals (orF = [l/(2 u ),l/(2 v )J ^ ). F and time t as follows: 0 = 0(V,t), Let the global maximum of the correlation surface S (x,y) be Cl**, which leads to the ideal behavior^*, i.e. to the most accurate results. In a real search process, if DSC system finds a maximum C/* ofiS(x,>'), 0^ can be displayed. 9 can be expressed as a function of

When the DSC system searches at the grid with interval F < j^l / (2m* ), 1/ (2v* j j , we have Cl* - Cl**. That is, only one maximum exists, and we can observe 0^=0* In this case, we can infer that:

F < [l / (2m* ), 1/ (2v` ) J

C/* = Cl**

n ,.
1 /(2v*

Inversely, if we observe that 0^ = 0*, we are sure that V < j^l /(2m* In this case we have: f < [ i / ( 2m*),i/( 2v` ) J < - c r =c/** < - n ,

When the system searches at the grid with the interval F > j^l / (2m* ) , 1 / (2v* ) j , we know that Cl* = Cl**, so, more maximums exist. We can observe that 6^ ^ 0* f>[i/(2m *),i/(2v*)J Inversely, if we observe that We can have: F > [l / (2m* ), 1 / (2v* )]' <- Cl* ^ Cl** 4- n ; Therefore, the cut-off frequencies, u* andv*, determine the number of maximums and the correctness of the analysis result.

-^ci*^ci** ^ n ;
^ 0 * , we are sure that F > j^l/(2M *),l/(2v*jj .

6.4.1-Example: 48
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

In the following an example is given of the correlation analysis. It involves two images 7, and 1^ o f a speckled object surface each contains 512x485 pixels as shown in Fig. 6.1(a). Fig.6.1(b) shows the reconstructed correlation surface, S'(x,y) of a pixel P302.2 0 2 » position

(302,202) o f the image 7, and the area of pixels 71^, 50 < / < 462,50 < 7 < 435, o f image 7^. The surface construction is based on the results of the correlation value of 7 ^02.202 ^ ^1 , and the pixels 17^^ |5 0 < f <462,50 < j <435} 72- The surface visualized the correlation results and serves as reference of the interval calibration, A very distinctive global maximum C /" indicate a reliable search result. However, such search is obviously time-consuming. Fig6.1(c)

displays the constructed 5 (x, y ) based on the correlation value o f a sparser grid with interval F
< (1

/ 2 ) [ l / w',1 / v ' , (actuallyF = [7,7]^). The result is obtained by recursive adjustment

procedure reached maximum allowable interval that corresponds the cut-off frequency It is seen from Fig.6.1(c) that the real global maximum Cl** is still distinguishable with outstanding altitude. Fig.6.1(d) illustrates the surface constructed based on the correlation results at a even sparser grid with the interval F > (1 /2 )|^ 1 /m * ,1 /v * J (actually, F = [9,9]^). It shows that such a surface surfers such an obvious loss of information that the real global maximum C/** is immersed in the populated local maximums. Fig.6.1 (d) represents a search results using unacceptably sparse grid.

Fig:6.1(a)- Two digital speckle images, 7q a n d 7, involved in the correlation search

49

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Fig.6.1(b)- Real global maximum

C/" , leads to the result

Of = & * , This result is obtained with full

a # .# .# " # * #
Fig:6.1(c)- Global maximum

Cl ,Cl --Cl , leads to the result

0 j = 6

. Correlation surface of /q a n d / , , , (actually,

reconstructed by using coarse search, with interval F <

(l / 2) [l / m ' , 1/ v*

V

=

[7,7]^

50

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

#

3#

M

% »

0

Fig;6.1(d)- Real and false global maximums, Cl* # Cl . This leads to the result: 9 f ^ 6 * , The correlation
surface was reconstructed by using coarse search, with interval

V > ( l / 2 ) / w*, 1 / v* J ,(actually, V = [ 9 ,9 ]

6.4.2- Recurrent Procedure to Approximate Cut-off Frequency

As mentioned above, the best results are given by using a complete all pixels correlation search and the acceptable results are reached using the maximum grid interval determined by a recursive procedure. But even with latter approach the search is still too time-consuming to be applicable to an application in which hundred images in a series may have to be involved in image processing. Another approach has therefore been developed to successively determine the approximate boundary of the two homology-class recursively, reducing to the area for correlation calculation to the minimum necessary. The approach begins the search and the construction of correlation surface at a grid with interval Vq = [2,2]^ and records the results as^*. interval It is then followed by the subsequent search for the surface at a grid with =[Æ,Æ]^to get the result . A criterion is set to determine if it is to, or how to,

adjust the interval for the next and the subsequent trials. The criterion for the adjustment of the grid interval is as follows; V,^^=V,+AV,,v^hGn0f=0* AF,, when Ô j- * 6* (6 - 6)

with the condition that AV = Pj.(l-0.618).e"'.

51 Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The above procedure searching for the coarsest acceptable grid for correlation calculation, with the interval o f V < (1/2)|^1/m*,1/v* ,is called "hierarchical searching." In a test with a series

of images arc recorded for processing, the characteristics of the images are more or less similar, therefore such a procedure needs to be carried out only at the beginning of the series of image processing. The final stable state of the system can be described as 9 = 0*,Aû[AV,,t) = 0, and |AJ^| = 0, withr > T. The procedure can be represented by loop chart as in Fig.6.3.

Fig.6.2: Adaptive process of search interval

0 9,^9*

,+ a f ;.
Hierarchical Search & Strain Calculation

0.

Fig.6.3: Adaptive Sampling

Fig.6.2 shows a recurrent adaptive process of real analysis corresponding to that of Fig6.1. The curve shows the resulted search intervals oscillate though eventually converge. The interval 52

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

adaptation process facilitates the coarse search on the correlation surface o f the two images in Fig.6.1 (a). The search process complies with the rule elucidated in formula (6-6). When the interval leads to the reconstruction of surface as that of Fig.6.1 (c), the interval gains positive increment. Yet, when the interval leads to the reconstruction of the surface as Fig6.1(d) shows, the interval gains negative increment. The search curve will oscillate several times but converges to the boundary value F = [7,7]^. The recursive adaptation used in the process ensures that the sampling point to be places at the real global maximum with a sampling interval equal to the inverse of the cut-off frequency. It is understandable that for such a 2dimensional search, increasing the intervals of sampling grid does result in drastic improvement of the search efficiency.

6.5. Hierarchical searching for accurate results
The Hierarchical search procedure for global maximum for much improved search efficiency can be summarized by the following three steps. In the first step the search is carried out at a sparser grid with interval F < (1 /2 ) [i/m * ,1 /v * J , which leads to the determination of local maximum 6\ of the grid. And the second step begins with the search at the pixel with the same screen coordinates at where ^,` is located but the search also involve the pixels in a small neighborhood around^,* to obtain the global maximum 0\ among these pixels. In the last step, the search starts at the intensity with the same screen coordinates as^^ · Then we carry out the search among the interpolated intensities between the pixels including ^ 2 ^nd carried out to obtain more accurate global maximum 0\ with the interpolated intensities. Thus 0\ best represents the global maximum0* and it is understood that the approach improves both search efficiency and accuracy. Cohomology rule ensuring success o f hierarchical searching
The following discussion is to prove that the hierarchical search process complies with the

rule of cohomology. Multi-resolution intensity sets from the hierarchical modules Let 4 denotes the points in the point-set of a grid with interval F = \ m , n f , p an element of the set 4, and pczL,,. The element p can be represented by a complex number p = x + iy at

53
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

position (x, y) o f the screen coordinates with the origin (0 , 0) placed at the center of the grid. The point set belongs to a module Z,, with its own operational ring M of a complex operation. When the interval V varies, a series of point-sets with different densities as is obtained. These point sets belong to their respective modules [15], ..... . The

direct sum o f modules ...,Z,,_jZ,,,Z,,^, , i.e., Z = ^ Z ^ is a graded module. If the map 'eZ : Z,, -> Z,,^, satisfies condition, d u d = e, then, is a boundary operator.

Similarly, .... ,Z""`,Z",Z""'\.....are sets containing the correlation-values of the points at the point set o f Z,,_j,Z,,,Z,,^,,.... , respectively. They are the correlation surfaces of different in Z" is the center of a symmetric system because of its

resolutions. The global maximum

uniqueness. For example, after proper transformation of coordinate system, G * ,, will be the vertex of a convex cone. On the support plane of a convex cone, the projection of the cone is symmetric where corresponds to the symmetry center e = 0 + i0, and all the correlation

values correspond to the points on the support plane. Define the global maximum as the identity element e" of a module that has an operator ring R of complex operators. Z" can be interpreted as a module with the global maximum as its identity element e". Furthermore, the direct sum of m odules , Z""`, Z", Z"^`, .... , i.e., L"'^\

Z = ^ Z 'i s also a graded module. The boundary operator ri": Z"
is Z

searches the global maximum inZ"""' , based on the information firomZ" .

6.5.1- Hierarchical search approach complies with cohomology rule
Denote the image of boundary map J""'by Im (j" ''j,an d kernel o f boundary map d" byZ:er[c?"). Knowing that gives k n |cr')c& r(< f). Z" ) = Im (ri"-` ),

Denote alsoZ" (Z" -> Z"+' ) = K er[d'' ), and 5" (Z"-' = Z"^' y B"(Z""*

Z" ) is a cohomology model. Thus it proves that that the

hierarchical searching complies with the rule o f cohomology. Thus the procedure guarantees the search accuracy.

54
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

6.6- Implementing overseeing
To implement a hierarchical searching procedure, a cascade feedback maps complying with the cohomology rule is followed. From Fig.6.5 it is seen that the cohomology feedback maps consist of three loops. The behavior of each loop is constituted by the function ° W = / ( ^ ) = / ( ^ - p ) = / ( 2 ^ - / ') (6-7)

This function satisfies LaSalle's Corollary since its first order derivative does not change signs during the search process from the start point to the stationary point. Therefore the above function can be regarded as a Lyapunov function. 6.7- Loop content In the first loop, complete information of global and local maximums is obtained by searching within a sparser grid with interval V determined by the cut-off frequency n andv*. The search results enable the determination of the maximum search interval and the accuracy is ensured by the rule. In the second and third loops, the local maximums are expelled fiom the search scope and the LaSalle's Corollary theorem is satisfied by the system functions [20]. This ensures the convergence of the loops to the maximum along the direction of the minus gradient of the system functions. The architecture of the second and third loops is shown in Fig.6.4. In such loops the following relation exits:

dp The stationary point satisfies Vp = 0; andVa(/>) = G. To further promote the search

efficiency of the third loop, Lypunov function can be used as follows:

Thus the Newton-Raphson method can be introduced to reach better efficiency. From view point of system stability the second and third loops are equivalent to a feedback neural
networks whose behaviors satisfy Lyapunov stability theorem.

The correlation surface o f the second loop is shown in Fig.6.6 from which one can see that the global maximum is very conspicuous. The figure shows that within the second search layer some local maximums still exist and thus the methods searching along derivatives are invalid. With very limited search range involved in this loop, a full-pixel search is adopted without worrying of the computing time consumed. Shown in Fig.6.7 is the correlation surface

55
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

obtained by interpolation between the pixels around the global maximum in the second layer of the search procedure. A monotonically descending surface is obtained due to that the high performance modification. algorithm of Newton-Raphson adopted facilitates the network-weight

Fig.6.4: Architecture of the loops

56

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

(f. ~ a' Tr 2 l= à w + l

Fig.6.5; Cascade feedback maps comply with cohomology rule

>
Z2E
Fig.6.6: The second layer global maximum

57
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

pk.
Z2E

Fig.6.7: The third layer global maximum.

58

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CHAPTER 7 NEWTON-RAPHSON TECHNIQUE FOR PARTIAL CORRECTIONS

7.1- Intensity interpolation
As discussed in the previous chapter, corresponding a pixel in the reference image, the counterpart pixel in the current image is approximately found with the help of a global eoarse search scheme for maximum correlation. The accuracy of the displacement results from the coarse search is limited to one pixel. More advanced search technique is therefore needed in order to obtain displacement measurements at the sub-pixel accuraey. In addition, to independently obtain the displacement partial derivatives (or gradients) as primary deformation parameters is preferable than obtaining them as the secondary results by differentiating the displacement results, from the consideration of the accuracy and reliability. The third step (or interpolation) in the displacement search procedure to find the global maximum correlation is a sub-pixel registration scheme. There have been various interpolation techniques proposed for the purpose. They can be categorized as (a) the phase correlation interpolation; (b) the intensity interpolation and (c) the correlation function interpolation. [ 1 2 ]. Each of these interpolation techniques has its advantage and disadvantage over the others. The AutoStrain program adopts the intensity interpolation. Though the scheme takes longer computing time, the accuracy of the final results comes much better eompared with using the other schemes. In general, the intensity interpolation can be performed in the follovdng ways: (a) by bilinear interpolation and (b) by bicubic spline interpolation of the gray value readings o f the surrounding pixels. As is understood, a CCD camera obtains gray value information at discrete pixel locations only. Let/ (x, y) and g (x, y) be the reference and deformed images (or image
1

and 2 )..

Therefore/ {x,y) and g (r,> ') are discrete functions. A point p { x , y ) on image 1 ism o v e d tQ / (£,yV ) onJmage 2. Since;j*(x*,y ) in general does not loeate exactly at a pixel position, g ( x * ,/ ) will not be directly obtained from image 2. Instead, an interpolation is necessary to be imposed.

59

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

For the convenience of the discussion of intensity interpolation, the following notations are used in the analysis and. they are defined as follows. (%,y)= global coordinates of a point at a pixel locatrion on image

1

global coordinates of the same point usually at an inter-pixel position on image 2 1,2,3,4 = pixels nearest and surrounding ( x * ,/). ( ^ , >' ) = local coordinates of with origion at 1 .

(xo, >>0 ) = global coordinates of point 1 . = gray values at point 1,2,3 and 4 on image 2. a,b = pixel pitch distance between two adjacent pixels along x, y directions.

The general form of Lagrange Interpolation is

M (x,}/) =

+«2^2 +«3^ + «^^4

u(x,;;) = M i f l - - ¥ l - ^ l + M j - f l - ^ l + M 3^ + M 4 f l- - l^ ,...( 7 - l) \ a bJ ay bJ ab y a) b A point p(x, y) located at (x,y) an undeformed image 1 is moved to p* (x*, y ) after deformation on image 2. Assuming p* (x*,>^*) falls in an area surrounded by four adjacent pixels# 1,2,3 and 4. The gray scale value of p *, g(x* , ;p*) can be obtained by interpolating g (xj,
(^ 2

),

'T2 ) 'S' ( ^ 3 'T3 ) and g (X4 , y^ ) according to Lagrage interpolation function.

The interpolation between gray values is shown in Fig.7.1. g (^ `> / ) = g ( ^ o + ^ 'To+T ) £ ( a - x ) { a - y y ^ x ( a - ÿ ) + ^ > c ÿ ^ ^ y ( a - . - ) , .....( 7 - 2 )

60
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

y
(% % /)

T

> X

1
Xn Fig.7.1

yl

> X , x

As we know that x* = xj + x and

=yl+ y

From the above relationship we get, x'
=

X- X n + « 4--- Ax+ -- Av, ( from the deformation kinetics, x* = x + w+-- Ax + -- Av ° a ^ ^ ^
+V

y' = y -y *

+ -- Ax + -- Av, ( fromthe deformationkinetics, v*= ac ^

V

+ V + -- Ax+-- Ay ac ^

7.2 Newton-Raphson Method of Partial Corrections
Once the interpolation between the intensities o f pixels surrounding the global maximum has been completed, the iterative procedure using Newton-Raphson method for partial differential corrections is performed to progressively improve the initial estimates of the displacement and partial derivative [1]. Define a correlation function as

s=i--

(7-3)

61
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The successive improvements on the initial guesses as above-mentioned are realized based on the calculation of the correction terms. The correction for the i'* iteration is given by

(7-4)

M
V

æ du dv asf B (i)

du âx du dv dx dv

where

as
® (S )

as as

s(S )
^ s (l)

^ .2

^13 *^23
1

*^14 ^24 ^34 ^44 ^34 ^64

*5,3 ^23 ^33 ^43 ^33 ^63 *^26 ^36 -^46 ^36
^ 6 6

^2.

^2 2 >^32

S3 3

^41

^42 ^32

^43 S s2 S s2

^5,

5-62

V (i^) is the Jacobian matrix. Each term in the Jacobian is the derivative of the correlation function S evaluated at the ith guess. derivatives of the correlation function S . is the Hessian matrix which are the second order

62
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The second order partial derivatives of-S' as the elements of the Hessian matrix are expresses as
S 'il -

dudu

5,2 =

d^s dudv

5,3 - du dud dx.

5,4 - dud

5,5 dx.

d^s * ^ 1 6-  / dv dud \
S22 -

dvdv

5j3

- 

dvd

S

24

- dvd

d s ^25 = dvd ^26 dvd
^33

^34

^ d u \ / du^ yuAy a%

-'35

d u \ J dv^ d dx dx

* ^3 6

a« V
a 'K l'

 ^ 4 4

f du^

^45

^46 = \4Xy

du

d

^56 ~ a itv ^ y [dx.

ai -- la
dx

ÿy

a

dv \ÿ y

d

dv \^ y

63

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

In / = f i x , y), g = g { x , y ), and X =X + U+ ^ h x + ^ ^ y y = y + v + f A x + |A j ^

equation

(7-3),

%, are deformation parameter defined all at the center of the image subset

u and V are specific values of m(x, y ) and v (x, ;/) or u = w(xo,>'o)»v = v(xo, j;^) at the center of the subset. similarly d\x _ d u dK dx ^o » yo du dy du dy

5/ du
ÔV

J du

df av^ d dx

f dv^

= 0,

(7 -5 )

/ (x, yj as a undeformed image is independent

from deformation parameters.

Since

Z ,-- and -- are linear operators. So the derivation of the first partial derivatives of du dv S with respect to the six deformation parameters is

E (/-g )
du

Z r Z ^ ' Qg?
( Z ? Z ? r -

1/2

Z /.& - Z ^ ( /.g ) ( Z 7 : Z ? )
Z r-Z « '

ds du

z f .- |] z /z ( /- .)
(Z /E s ^ r

z ( /.|]
E /Z g ')

64

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

The derivatives o f S about the five other independent variables can b e derived in similar way as follows:

\l/2

/ g
ds du
ÔX
,

\ %  Z /Z (/-g ) I

f yr %

\

. i î ) . V
(Z r Z g 'r

r

\
% du

ds

Ô V
( Z / T
s

T

(z r z g ^ r

8ds d dx
____V

z r z ( / .^ )
(z /z « ^ r

Z
( z r z & l '"

/

f

\

Z /Z ( /.g )
ds

z 1
( Z / ' Z î ' )'"

The above expressions can be rewritten to simpler forms by introducing new notations as follows.

65

Reproduced with permission o f the copyright owner. Further reproduction prohibited without permission.

8 , = ^
Therefore,

u = u

6

- 3 ( s / = r 'M s ^ = r " - [ s ( ï - * . ) T - i ( / * ) - ( 2 / = r " ( s s = r '" s ( M . )

^ - â - ( 2 : /'r .( E ^ r
 [E (? T -î2 + ^ -ïE )-2 ;(/s )+ E (s -ft)-2 (-^ « > )+ Z (j-ft)-E (/ft)] - 3 E / = r . ( E « = r E ( * ^ . ) - 2 ( « * ) ] ^ E ( / - « ) - ( E / ^ ) " " - ( E * ^ r '" - I ( / . g , 2 )

5 2 2 = ^ = (E /r -(E * 0 " " { E (s ^ 8 fe )-S (/-8 )+ 2 E (s ? 2 ).E (/& )]
- 3 ( E / = r - ( E « 'r - E ( * - f t ) T - E ( / - « ) - ( E / r - ( i s o " " E ( / - ? 2 2 )

The general forms o f the first and the second order derivatives of S are given as S C g -g -O -Z /'-E C /'g ) Z (/-g /)

(z r z g ^ r ^ .'â ^ " ( E r r .( E ^ r
[ E ( g 'g ,+ g % ) E ( /g ) + E ( & s ,) E ( /& ) + E ( g g ') E ( /g ,) ]

-3(E/'r-(E?'r-[E(*-*,)E(s-s2)TE(/-s)-(E/^r-(Es^r"E(M)
It may be worth noting that the first and the second derivatives o f / w ith respect to the six independent deformation parameters are automatically zero since / as the reference image is un-deformed.

66

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

7.2.1 -Partial derivatives of By Lagrange interpolation, l e t g ( / , y ) be the gray level aXp* in image 2, and
and are the gray levels at points 1,2,3 and 4 respectively.

The first order derivatives of g are du dx du dy du dx

dg _ d g d x \ dg dy _ dg dv dx dv dy dv ^ dg A/ l&Ky Sg dx ^ 'a dy ^du'^ ^ 'a ^d x) dy ^d u \ dg dx dg dx du^ l& y dx 'a w ' dx

rAy dx

Similarly we have,

r0v la r.

dy

where du du c = x --X(.+u + -- -- A x+ -- -- Ay dy dx d v .d v

and also we know that -- = 1,-- = 0 , ^ = 1 ,- ^ = 0, du dv dv du

67

Reproduced with permission o f the copyright owner. Further reproduction prohibited without permission.

dx

ck'
=

a

du dx

= Ay,

&' ^ dx = 0,' 7~ \ = 0, ar a v l d{
.

= Ax,- -^ =0, a« I

aw

dy dv

Ay

The first and second derivatives in terms of gray values are calculated by

^ dx

ab = J_ ab

(^~y ) { d - y )+g ^ ^ ^ y- g ^ '^ ^ y]
)+ y
(x' ) + ) + %( - g^^^)] )], »* - « * A x ,- ^ =^A y 5w du du % ^ Vf 'a av - g('))] (a - X )]

dy

= -- [-g^'^(n - jc' ) + ab^ ab )(g^'^ -

% ^ J_ ( a - y ) ( du ab

- g(') ) + y ( g(^) -

^ = J_ av aé

g ' ' - gJ'i) ' )'+ y ( g ' ' ' - g '

5g dv Ï dx )

or by using the new notation to be expressed as 9g dg gi-Ax, g 4 = 7% \ = g i # du \^ y g2.A%, gg = ^g gz-Ay

du

ab JL (« - y ) ( ab

§3 =

'Ê '
g2 dv ) + y g; _ d dg

gii

a
gs3 aw a% g44=&55=g66=0 &j

68

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

j_ ab fe )= ^ -^ = % ^ = 0 . ÔX J du dx

g,3

du dxj

® u
«sSy

g,6 d

dv

dy

ab

& 23 \8 r/ du

(gz) = dx g

T ydx, du

g(i)_gM + gW _g(4j^ ab L

dx

g « = -7 & Â k 2 )= % dy dx)

% T \ =()' dv

&26=0,

dx

du

dv \8%y

ab dx

69

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

^36 = ·

d

e ^ dv^
a ^ 'a %4 ^ 'a
k )
'^av^ ^dx) dy

ab Ax.Ay ab (Ax) ab

d --

&6

La%; a a

Ô

^56 d

^ ' a 'aw'

= 0,

0 i( G .) 0 & = 0 e (G j 0 i(G i) 0 0

0 e (G j 0 0
^ { ^ l)

0
^ { ^ l) 0

^(G/.) 0 ^ (G J ^ (G J 0 0

e (G j 0 ^ (G J ^ (G J 0 0

0 ^ (G J

where

).

70

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CHAPTER 8 APPLICATIONS OF DSC TO STRESS ANALYSIS Some typical applications of DSC to stress analysis presented in this chapter include · · · · · MEMS/NEMS (Micro/Nano-electromechanical systems) Composite material Thin metal sheet/membranes Surface roughness measurement. Full field measurement and verification for results o f finite-element method (FEM).

The so-called "virtual reality" is a relatively new branch of research in the design area owing to the growing popularity of computer simulation tools developed in the area. One of the key challenges in the establishment of virtual reality of design methodology is to develop advanced experimental measurement techniques to verify the performance of materials and structures and to validate the findings of theoretical and numerical models. Digital Speckle Correlation has much potential to be the key experimental technique to deal with the challenges. DSC is being used by many researchers in the research of microelectronics, MEMS/NEMS, composite materials, thin metal sheets and components with complex geometrical shapes, and for the verification of new numerical techniques.

8.1- Microelectromechanical Systems As the name implies, MEMS/NEMS consists of tiny components at micro/nano level. Due to small geometric dimensions, the testing of the components requires high degree of precision. These components include carbon nano-tubes/wires, micro-actuators and sensors. Mechanical properties o f these components are different from their "big brothers" due to the scale dependency. Effect of the forces at molecular and atomic level is a complex subject. And the local plasticity and static charges also play important roles and contribute to the complexity. The mechanical properties of components made of the same materials but by different manufacturing processes behave also differently. Applications of DSC in the area have yielded good results for the measurement of the material properties with the aid of microscopes such as AFM, SEM, or STM, instead of using CCD camera. These applications show that though

71

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

having some limitation DSC is a promising technique in the research area. Some of these limitations in testing the micro- components are presented below. i) Subset size An image subset is a window of the image used in the calculation o f pixel correlation. According to Vendroux and Knauss(1998) and Sutton et al (1983,1986) [31], the sizes of subset used in an application is always critical for the correlation scheme in DSC. There are two mutually contradicting thoughts for the determination o f a right subset size. 12The size should be small to avoid non-linearity within the subset. The size should be sufficiently large to encompass features of an image (signal).

A trade-off has to be made in determining the optimum size depending on the situation (such as the strain gradient and the image magnification used, etc.). The subset size in AutoStrain is made easily adjustable to cope with the need in different situations. Trials prior to begin a series of testing to determine the size, and the calibration if viable are always recommended ii) Out-of-plane deformation. As discussed using a model of pine-hole camera, the out-of-plane deformation of a point in the object surface causes in-plane motion of the corresponding image point, resulting in pseudo displacement/strain that contribute to the final results. To suppress the out-of-plane

displacement and displacement gradients is a critical step in application o f DSC. Yet as DSC is applied to small object at nano/micro-scale (such as area near a crack-tip), the out-of-plane deformation can be just due to the material's Poisson ratio effect. A way to obtain accurate results is to estimate and compensate the effect from the final results. iii) Presence o f high frequency components in the signal. The presence of components of high spatial frequency in the images can severely affect the correlation results. The digital filter to remove the high frequency terms is a means to be applied in processing to reduce the effect. iv) Effect on material properties o f manufacturing process. This has been discussed in some literature [8] and is shown in the Fig.8.1. As an example, poly-silicon material manufactured by different processes usually will have different grain size and consequently the different surface finish. Fig.8.2 below shows both the reference and the deformed images and the respective displacement field measured from them [8].

72
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Finally, there is another serious problem regarding the application of DSC to the micro system testing. That is the noise and real displacement can be of the same level of magnitude. The image filtering process can be implemented to reduce the level of noise, if necessary.

8.2-Full-field measurement for result comparison with numerical methods
Compared with other measuring techniques for displacement and strains (e.g., the strain gauges and extensometers, etc.) DSC appears to be a more preferred one for the reason of 1- the strain gauges only give results that are the averages over the gauge-length yet the point-wise measurements for discrete locality; 2- the extensometers are usually only applicable to measuring the global behavior a component/system. Numerical methods such as the finite element method yield full field yet discrete results at the mesh grid-point or for the elements. To verify the modeling results often requires field measurements and DSC can facilitate the comparison or verification. C. Husson et al [9] have conducted experiments using DSC and compared their results with the ones from FEM and found good agreement between them. C. M. Neubauer et al [32] also have made similar application. Instead of using random speckled patterns, they used "regular" patterns as shown in the Fig.8.3. The comparison of the results (DSC and FEM) is shown in Fig. 8.4, in which the histogram shows excellent agreement between the results. full-

8.3-Composite Materials
Materials with heterogeneous microstructure deform non-unifbrmly under a uniform stress condition. Composite materials undergo a uniform loading show uniform deformation only at the macro-scale, not at the micro-scale. Researchers have applied DSC to fiber-reinforced composites. Hua Lu et al [7] showed that the strain field was not uniform under uniform loading, while Jean.Noel et al [5], in a hybrid approach, used DSC measurements as boundary conditions for the strain analysis by FEM. The difference in the results by DSC and the fullfield calculation were found in both cases, which were attributed to the non-uniformity of the strain field at micro-scale level in the composite materials.

8.4-Solder and Weld Joints

73
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Solder joints are the critical but the weakest links causing failure in microelectronic components. In fact, most problems of electronic equipments are attributable to the

mechanical rather than electrical failures mainly caused by thermal and mechanical loads to the joints. Applications of DSC have been reported to the measurement of strain distribution in solder joints for various types of microelectronic components (Hua Lu et al). A.P.Reynolds and F.Duvall [14] used DSC technique for the strain characterization of Friction Stir Weld (FSW). Theweld is treated as a composite material undergone a nominally iso-stress loading condition. Strain distribution was obtained in all constituent parts of the weld including the base metal the weld nugget and the re-crystallized base metal, as shown in Fig.8.5. A stressstrain curve was also plotted for all the constituent materials as shown in Fig.8.6.

8.5-Surface Roughness Measurement.
G. S. Spagnolo [3] has used DSC for measuring surface roughness. The technique he applied differs slightly with DSC at Ryerson. Specifically, in his application, the speckled surfaces are laser generated, and the surface is kept stationary while the laser beam is moved to change the angle of light incidence. With the images taken before and after the change of light incident angle and knowing the angles, the surface roughness can be determined based on the image correlation data.

Fig.8.1. Two AFM images o f poly-silicon, manufactured from different processes.

74
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

.ttliiâll

Fig.8.5 Schematic drawing of a friction stir weld cross section and micrograph of: (a) The dynamically recrystallized zone in the weld nugget; (b) Recrystallized base metal; (c) Recovered and partially recrystallized base metal.

#

 iieciyr^ltedBAZ
îîe®M f6sl««Z

i

0.10

Fig.8.6. Base metal (5454-H32 and 5454-0) and transverse weld (5454-H32) stress strain curves with stress-strain data from specific micro-structural region determined by DSC.

76
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

CHAPTER 9 SYSTEM IMPROVEMENTS

In the previous chapters a detailed description o f DSC system has been presented. All algorithms presented here are implemented in "AutoStrain". A newly developed scientific approach usually will face some problems or limitations when it is implemented, tested and used in real life applications. The troubles often motivate new research to improve the approach. The research based on the current AutoStrain system focuses on the data accuracy and reliability in handling different applications. The following areas have been considered for improving the system performance.

o

Coupling between the coarse-fine search algorithms and Newton-Raphson iteration for solving sub-pixel displacement,

o o

Convergence of Newton-Raphson Algorithm, Adaptive second layer search area adjustment.

9.1- Algorithm coupling between Coarse-Fine search and Newton-Raphson iteration The search algorithm implemented in AutoStrain as discussed in the previous chapter is a three-step process. The coarse search finds the pixel in image 2 corresponding to a specific pixel in image 1, which is realized by identifying the pixel of global maximum correlation for the particular pixel in image 1 with the help of a hierarchical searching scheme. The Newton-Raphson method for correlation is followed to refine the displacement results at sub-pixel accuracy. The Newton-Raphson method begins with the initial guess for displacement u and v that are calculated based on the coarse search determined pixel of global maximum correlation. The performance of the routine of Newton-Raphson iteration highly depends oh the quality of the initial guesses. To appropriately interface the two parts of the software program is critical to the proper operation of the calculations as introduced in the previous chapters. Both the coarse and fine searches involve point-by-point recycling of the same numerical routines. Thus the coordinate systems used by different routines of the system should be kept consistent from one to another. In addition, the coordinate system defined for the search algorithms

77

Reproduced with permission o f the copyright owner. Further reproduction prohibited without permission.

should also be consistent with the pixel numbering scheme used by the image grabber software, as schematically shown in Fig 9.1.

9.2- Convergence of Newton-Raphson Algorithm
The convergence of the iterative process in determining each and every parameters and -- ) is dependent on the quality of the image and the image
dy

ÔX dy ox

processing parameters (e.g., subset size, etc.) used. The images o f better speckle contrast usually converge faster than the one of lower contrast, as is shown by the figures below. There are two criteria upon which the program uses to decide the number of iterations for a particular image.

i) ii)

Lyapunov Function c?(j!)) = Number o f Iterations.

The first criterion, or Lyapunov Function is a primary one.

It states that the image

correlation index should monotonically increase with the increasing number of iteration. This is a necessary condition for the convergence and a process reaches that yields stable final results. The second criterion limits the maximum number of iteration that the

Newton-Raphson will keep going. The second criterion is secondary and usually will happen only in case that no convergence can be reached and the results show a trend of oscillation, indicating that the first criterion has failed to terminate the computing loop.

While in many applications the program reached good results with little doubt, there
were other circumstances under that the accuracy o f the DSC measurements did come

under questioning.

Investigation based on a large number o f testing for different

circumstances (e.g., images with varying speckle and subset sizes, and the average of illumination intensity, etc.) finally found that the system was not allowed to properly converge to the stable output prior to the automatic termination of the iterative process. The question arises that the convergence criteria implemented in the original program

78
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

may not suffice to handle all the different image conditions.

To study an adaptive

criterion to replace the available rigid ones appeared to be a logic solution for the trouble. A conclusion was reached on the basis of these observations that the original convergence criterion should be changed to allow more iteration cycle. Also, the

maximum number of iteration (the criterion) should be adaptable and determined by a trial run of image processing. The results presented below visualize the trend of

convergence and demonstrated that the new criterion has led to considerable improvement of the results.

Fig.9.1

9.3- Adaptive second layer search area
As mentioned previously, the search algorithm consists of three steps / layers. The second-step search for global maximum correlation is performed pixel by pixel in an area centered at the global maximum obtained in the first-step search. This size of the secondstep search was set as a 20-pixel by 20-pixel. However, the in-depth study by this project have found that in some cases the real global maximum goes beyond the 20x20 area, leading to the error in the second-step search results. The phenomenon usually occurs in the following cases: (a) when a heterogeneous deformation exists in a large scale area of more than 10 pixels; (b) when the area experiences a large rigid-body rotation and (c)

79
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

when the image is highly magnified even though the angle of rotation or deformation is relatively small. Based on the observation, a conclusion was made that the search area should be made adjustable depending upon the deformation and the specific test situation. Shown in Figs are the results when the size of the area is increased fi-om 20x20 to 30x30 pixels. It is noted that the improved quality of results is obtained at the expense o f computational time and cost. With the processing speed of desktop computers increases constantly

from generation to generation, the computing cost becomes a less a concerned issue. Yet the time consumption may nonetheless be of significance in case a "real-time" application is at hand in the future.

9.4-Conclusioii The DSC technique, as a non-contact, non-coherent, remote sensing and full-field computer vision technique, has shown some unique capabilities in applications to the advanced area of research and engineering. The continued research has made DSC a

convenient, useful and affordable tool for experimental stress analysis. Like every other experimental techniques, DSC has also some limitations. The study o f the data quality in terms o f accuracy and reliability conducted in the project has contributed in the enhancement of the understanding of the nature of the method from fundamental physics point of view. From practical application point of view, the improvements accomplished in the current project have made the system more robust in the sense that it can handle more different testing conditions than it used to while yielding good results. Yet some other problems still facing are inherent to the system (e.g., the hardware limitations, system noise and environmental noise, electronic jitter [7], etc). The suggested further improvement may be follow these directions for more robustness and flexibility o f the system: (a) introducing Fuzzy-Neural Networks to enhance the system's capability of adaptation; (b) using STM in parallel with the CCD camera for measuring the displacements at scales of nanometers, etc.

80

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

LF

J.

i

01

LF

/' dv/dy

i A Fig.9.2: The convergence history of the parameters for an application is shown by the variations of deformation parameters v s. the number of iteration. These graphs illustrate the convergence of each of the six in-plane deformation parameters, the angle of rigid-body rotation as well as the Lyapunov Function (LF). The convergence criterion to stop the iteration is set as 0.000001 for the relative difference of LF between two successive iterations.

81

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

04

Fig.9.3: (a) Image of good quality (contrast) for a disk under rigid-body rotation (the cross in the figure indicates approximate position of center, (b) Convergence of six parameters when calculation terminates up to 4*'' iteration due to convergence of LF set at the relative difference of LF at 0.001. (c) Convergence when program stops at 6*'' iteration as the convergence criterion is set at 0.000001. (d) Scalar = square root of (u^ + v^) after 4 iterations (e) Scalar after 6 iterations. The test shows for the image with good quality, 4 round of iteration suffices to reaeh real convergence. This is demonstrated by both the convergence history in (b) and (c) as well as the 2D pattern of scalar in (d) and (e) where that two patterns remain the same also proves the convergence at 4"*roiind for a

A

i

A

i

82

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Fig.9.4: (a) Image with less good quality (contrast), (b) Convergence history when program stops at 2"^ iteration with LF set at 0.001. (c) Convergence history up to S * * * iteration when LF set at 0.000001. (d) Scalar pattern after 2 iterations, (e) Scalar pattern after 8 iterations. Differences in both convei^ence history and final pattern are obvious. The test proves more strict convergence criterion is needed for images with poor quality so that more number of iterations can run to reach stable results. On the bases of these observations the program has been improved by adding more flexibility in setting the criterion by users (user friendly).

A

i

I

/'/I'»

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Fig.9.5: (a) Another image with poor contrast (quality). Rigid-body rotation occurred and the angle of rotation and displacement are obtained simultaneously in measurement, (b) Pattern of udisplacement field (c) Pattern of v-displacement field, (d) Angle measured for full-field indicates no much variation. Average angle was 3.021 degrees versus the actual angle of rotation 3.00 degrees.

84

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

ail derivatives have almost zero value

i

(b)

Fig.9.6: (a) Image of the back surface of a resistor package. The red colored box indicates the image subset used in processing the point (the cross at the center of the box). The center point is selected on the image for processing, (b) Convergence histoiy of Newton-Raphson iteration shows in the case deformation parameter u cannot converge properly (oscillating up to 30 iterations), (c) The phenomenon is illustrated in the diagram in which it shows the program was "fooled" by the local peak when the initial estimate was taken close to it. If the initial estimate is located close to real global peak, no oscillating should happen and the convergence can be reached in two iterations.

ii

85

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Fig.9.7: (a) and (b) Scalar and v-fields patterns based on results from program before implementing the improvements, (c) Speckled image for the experiment, (d) and (e) Scalar and V - field patterns after the improvement.

W1

(d)

(e)

86
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Fig.9.8: v-fïeïd patterns before (a) and after (b) the improvement in interface, (c) Image of speckled surface.

(c)

87
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

IS

Fig.9.9: (a) Image for a solder joint covered by speckles in an experiment, (b) Convergence of parameters with old convergence criteria, (c) Convergence with new criteria.
fis eee-M eoe « 1 4

gw dv..^ dv

88

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

«a

Fig.9.10: (a) Image of speckled surface, (b) and (c) Another example of the convergence of parameters with old and new criterion of convergence respectively. Even the sign of u and v displacements have been changed from positive to negative.

89

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

03

Fig.9.11: (a) Image with speckled surface for a pure rotation test, (b) and (c) Convergence with the old and new criterion respectively. The partial derivatives dvJdx and dwidy should converge to zero. This only happens with the use of new criterion.

X

(c)

90
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

M

m

(b )
(a)
Z2E

Fig.9.12: (a) Speckled image of good quality, (b) and (c) 3-D and 2-D representations of the correlation surface in second layer search of global maximum, respectively. Search finds global maximum almost located at the center of the 20 by 20 pixel area.

w

a o

91
Reproduced with permission o f the copyright owner. Further reproduction prohibited without permission.

o^s

23E

Fig.9.13: (a) Image of a speckled surface of a real object showing the sufficient features for correlation calculation, (b) and (c) 3-D and 2-D representations of the second layer correlation surfaces respectively. The global maximum is almost on the boundary of the searched 20*20 pixel area.

Z2g

92

Reproduced with permission o f the copyright owner. Further reproduction prohibited without permission.

30

H O

Z2E

(b)

(a)

Fig.9.14: (a) Another magnified image for a disk with pure rotation, (b) and (c) 3-D and 2-D representations of the second layer correlation surface respectively. The search area for the global maximum was 30*30 pixels. The global maximum found is beyond the 20*20 area. If using 20*20 area, the program can miss the real global maximum and cause errors in final results.

10

(c)

93
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

REFERENCES
[1]. H.A. Bruck, S.R. McNeill, M.A. Sutton and W.H. Peters III, "Digital Image Correlation Using Newton-Raphson Method o f Partial Differential Correction", Experimental Mechanics, Vol.29, No.3, pp.261-267, September 1989. M.A. Sutton, Mingqi Cheng, W.H. Peters, Y.J.Chao and S.R. McNeill, "Application o f an optimized digital correlation method to planer deformation analysis". Image Vision Computing, Vol.4, No.3, pp. 143-150, August 1986. G. S. Spagnolo, D. Paoletti, "Digital speckle correlation for on-line real time measurement". Optics Communications, April.1996. B. Wattrisse, A. Chrysochoos, et al.," Analysis of strain localization during tensile tests by digital image correlation". Experimental Mechanics, Oct. 2000 N. P. Jean, Sylvain Galloch, et al.^ " Analysis o f a multi-axial test on a c/c composite by using Digital Image Correlation and a Damage Model", Experimental Mechanics, Vol.42,No.3, September 2002. Y. Zhang, Z. Huaning, et al., "Application o f the Fourier Transform in Electronic Speckle Photography", Experimental Mechanics, Vol.42, N o.l, March. 2002. Hua Lu, B. Jue, J. Karpynczyk, " A computer vision technique for characterization o f surface deformation in single ply composite laminates" Ryerson University, Toronto. Aug. 1994. Y. Zhu, Francois Barthelat, et ài. "Nanoscale displacement and strain measurement" Proceedings of the 2003 SEM Annual Conference and Exposition on Experimental and Applied Mechanics, Charlotte, North Carolina. C. Husson, N. Bahlouli, et al. "Mechanical characterization o f thin metal sheets by a digital image correlation method", J. Phys. IV France 12, 2002. "Fast Fourier Transform" Numerical Recipes in C: The art of scientific computing, (ISBN 0-521-43108-5). Hua Lu, "Multi-scale experimental mechanics for reliability of microelectronics". International Conference on Role of Meso-mechanics for Development of Science and Technology, June, 2000, China. Jun Zhang, G. Jin, S. Ma, and Libo Ming, "Application o f an improved sub-pixel registration algorithm on digital speckle correlation measurement". Optics and Laser Technology, March .2003. Po C. Hung, A.S. Voloshin, " In-plane Strain Measurement by Digital Image Correlation", J. of the Braz. Soc. of Mech. Sci. & Eng., Sep 2003. A. P. Reynolds, F. Duvall, "Digital I mage Correlation for Determination Weld and ~BaseMetal_Constitutive Behavior", University o f South Carolina. USA. Joseph J. Rottnàn7`'Ân~hî1îoductipn to Algebraic Topology", pp.75, Springer-Verlag, 1988.
Sutton MA, Liu CH et al., "Development o f two dimensional hybrid schem e for stress

[2].

[3]. [4]. [5].

[6]. [7].

[8].

[9]. [10]. [11].

[12].

[13]. [14]. [15].
[16].

[17]. [18].

æialysis using a consistent BIE method and also a digital image technique", Proc. IMSE85 Conf., Austin, TX, USA (1985). McNeill, S.R, Peters, WH et al., "A study of fracture parameters by digital image processing", Proc. 18* Midwestern Mech. Conf, Iowa State University ,IA,(1983). Peters, W. H. Ranson, W.F.," Digital Image Techniques in Experimental Stress Analysis", Optical Engineering, Vol.21, No. 3, pp. 427-433.

94

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

[19

[20 [21 [22 [23 [24 [25 [26 [27 [28 [29

[30 [31 [32 [33 [34

Peters, W. H. Ranson, W.F. and Sutton, et al., "Application of digital correlation methods to rigid body mechanics," Experimental Mechanics, Vol.22, No.6, pp.232244. Martin T. Hagan, Houard B.Demuth, Mark Brale, "Neural Network Design, FWS Publishing Company, 1995. Bemd. J.,''Digital Image Processing", 3 * ^ * *ed.Springer. R. Jain, R. Kasturi, B. G. Schunck., ''Machine Vision", McGraw-Hill, Inc. 1995. G. C. Holst, "CCD ARRAYS, CAMERAS and DISPLAYS", JCD Publishing FL. USA (1996). DAVID VERNON, "Fourier Vision", Kluwer Academic Publishers, 2001. Bemd. J., Peter Geibler,"Handbook of Computer Vision and Applications", Vol.l, Academic Press. 1999. Bemd. J., Peter Geibler,"Handbook of Computer Vision and Applications", Vol.2, Academic Press. 1999. Po-Chih Hung," Strain Analysis by Digital Image Correlation", Ph.D Thesis, Lehigh University, Pennsylvania, Aug. 1998. Jones. R., Wykes C., ''Holographic and Speckle Interferometry", Cambridge University Press, 1993. Johnson, P. "Strain field measurement in Industrial applications using dual-beam digital speckle photography". Optics and Laser in Engineering, 30, 315-324, Sep. 1998. "Phase shifting to improve interferometery"........ W. G. Knauss, Y. Huang, et al., " Mechanical measurement at the micron and nanometer scale". Mechanics of Maerials ,35, pp.217-231, 2003. C.M. Neubauer, H. M. Jennings, et al.,"The use of digital images to determine deformation throughout a microstmcture", J. of Materials Science,35,2000. "Halogen Lamps", Oriel Instmments W. K, K. J. Mayer, M.Zeiller," Point Correlation; A reduced-cost Template Matching Technique", Austrian Research Centre, IT Deptt. Seibersdorf, Austria.

95
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

