DEVELOPMENT OF AN ELECTROTHERMAL > SIMULATION TOOL FOR INTEGRATED CIRCUITS

by

Sara Sharifian Attar
BASc. Ferdowsi University o f Mashhad, Iran March 2002

A thesis presented to Ryerson University in partial fulfillment o f the requirement for the degree of Master o f Applied Science in the program o f Electrical and Computer Engineering.

Toronto, Ontario, Canada 2006

© Sara Sharifian Attar 2006

PROPERTY OF RYERSON UNIVERSITY LIBRARY

UMI Number: EC53477

INFORMATION TO USERS

The quality of this reproduction is dependent upon the quality of the copy submitted. Broken or indistinct print, colored or poor quality illustrations and photographs, print bleed-through, substandard m argins, and improper alignment can adversely affect reproduction. In the unlikely event that the author did not send a com plete manuscript and there are missing pages, th e se will b e noted. Also, if unauthorized copyright material had to be removed, a note will indicate the deletion.

UMI
UMI Microform EC53477 Copyright2009 by ProQ uest LLC All rights reserved. This microform edition is protected against unauthorized copying under Title 17, United S ta te s Code.

P roQ uest LLC 789 East Eisenhow er Parkway P.O. Box 1346 Ann Arbor, Ml 48106-1346

Author's Declaration
I hereby declare that I am the sole author o f this thesis. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose o f scholarly research. Signature

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request o f other institutions or individuals for he purpose o f scholarly research. Signature

Instructions on Borrowers
Ryerson University requires the signatures o f all persons using or photocopying this thesis. Please sign below, and give address and date.

Ill

Abstract
Sara Sharifian Attar Development o f an Electrothermal Simulation Tool for Integrated Circuits Master o f Applied Science, Electrical and Computer Engineering Ryerson University, Toronto, 2006

The goal o f this research was to develop a capability for the electrothermal modeling o f electronic circuits. The objective o f the thermal modeling process was to create a model that represents the thermal behavior o f the physical system. The project focuses on electrothermal analysis at devices and chip level. A novel method to perform electrothermal analysis o f integrated circuits based on the relaxation approach is proposed in this research. An interface program couples a circuit simulator and a thermal simulator. The developed simulator is capable o f performing both steady state and transient analysis at devices and chip level. The proposed method was applied to perform electrothermal analysis o f Silicon Bipolar Junction Transistor (BJT) to predict the temperature distribution and the device performance in a circuit. Thermal nonlinearity due to temperature-dependent material parameters in the context o f thermal modeling o f the device and circuit has also been considered. The DC characteristics o f the device were investigated. The obtained results indicate that the operating point o f the device varies while the device reaches its junction temperature. The accuracy o f the electrothermal simulator has been evaluated for steady state analysis. The experimental results o f a BJT amplifier were compared to the simulator results o f the similar circuit. The electrothermal simulation results o f BJT amplifier circuit indicate a good agreement with the available experimental results in terms o f power dissipation, collector current and base-emitter voltage. The performance o f the electrothermal simulator has been evaluated for transient analysis. A current mirror circuit using Si NPN BJTs was simulated. According to the electrical simulator, the output current follows the reference current immediately. Nonetheless, the electrothermal simulator results depict that the load current has delay to reach a constant value which is not the same as the reference current, due to the influence o f thermal coupling and self heating. The obtained results are in agreement with the available results in literature.

IV

Acknowledgements
First, I would like to thank my supervisor Dr. Farah Mohammadi for accepting me as her MASc. student in Ryerson University and giving me the great opportunity to research in the amazing area o f VLSI circuits and systems. Without her exeellent guidance, engagement, encouragement and wisdom, it would have been so much harder to conduct this work. I would like to thank my committee members Dr. Vadim Geurkov, Dr. Eddie Law and Dr. Kaamran Raahemifar for their great advices and supports. I would like to thank my friends Rushin Shojaii, Sina Zarei, Huma Mehmud, Sumandeep Virk and Sudeshna Pal for all the wonderful time that we shared and their help and advices during my research. I would like to thank the supports provided by National Science and Engineering Council o f Canada (NSERC) and Ryerson University. I would like to thank my father, my mother and my two brothers, Ehsan and Hassan, whom I love with all my heart, for all their supports. In closing, I thank God. For only through God's grace and blessings has this pursuit been possible.

Dedication
To my dear husband, Farhad, for his encouragement, support, patience and model o f perseverance, without whom this would have never been possible.

VI

Table of Contents
List of Figures.....................................................................................................................................x List of Tables................................................................................................................................... xii 1. Introduction....................................................................................................................................I 1.1 Thesis Objectives.................................................................................................................... 2 1.2 Thesis Outline..........................................................................................................................3 2. Heat Transfer................................................................................................................................ 4 2.1 Heat Conduction.................................................................................................................... 4 2.1.1 Fourier's L aw .................................................................................................................. 5 2.1.2 Thermal Conductivity...................................................................................................5 2.1.3 Heat Capacity.................................................................................................................. 6 2.2 Heat Radiation........................................................................................................................7 2.2.1 Stefan-Boltzmann L aw ..................................................................................................8 2.3 Heat Convection..................................................................................................................... 9 2.3.1 Newton's Law of V iscosity........................................................................................... 9 2.3.2 Newton's Law of C ooling............................................................................................10 2.4 Boundary and Initial Conditions...................................................................................... 11 2.5 Summary.................................................................................................................................12 3. Thermal Analysis........................................................................................................................13 3.1 Fourier Series........................................................................................................................14 3.2 Finite Element Method........................................................................................................15

VII

3.3 Finite Difference M ethod....................................................................................................18 3.4 Boundary Element Method................................................................................................ 21 3.5 Analytical Solution............................................................................................................... 21 3.6 Thermal Network..................................................................................................................22 3.7 Summary.................................................................................................................................25 4. Electrical Analysis.......................................................................................................................26 4.1 BJT SPICE M od el............................................................................................................... 27 4.3 Power Dissipation and Temperature Effects on Integrated Circuits....................... 36 4.4 Summary.................................................................................................................................39 5. Electrothermal Analysis............................................................................................................ 40 5.1 Direct M ethod....................................................................................................................... 40 5.1.1 Literature Review on Direct M ethod....................................................................... 42 5.2 Relaxation Method............................................................................................................... 49 5.2.1 Literature Review on Relaxation M ethod.............................................................. 50 5.3 Summary.................................................................................................................................55 6. Implemented M ethodology.......................................................................................................56 6.1 Methodology of Simulators Coupling..............................................................................56 6.1.1 Implemented Algorithm.............................................................................................. 57 6.1.2 Coupling COMSOL and M ATLAB......................................................................... 59 6.1.3 Coupling PSpice and M ATLAB................................................................................60 6.2 Summary................................................................................................................................. 61 7. Electrothermal Investigation of Si BJT Circuits..................................................................62 7.1 Active B JT ........................................................................................................................... 62 7.1.1 Electrical M odel............................................................................................................ 63 7.1.2 Thermal M odel.............................................................................................................. 65 7.1.3 Simulation R esults........................................................................................................67

VIII

7.2 BJT A m plifier.......................................................................................................................70 7.2.1 Electrical M odel............................................................................................................71 7.2.2 Thermal M odel.............................................................................................................. 72 7.2.3 Simulation R e su lts ....................................................................................................... 74 7.3 BJT Current M irror............................................................................................................79 7.3.1 Electrical M odel............................................................................................................79 7.3.2 Thermal M odel.............................................................................................................. 80 7.3.3 Transient Simulation Specifications......................................................................... 82 7.3.4 Simulation R esults....................................................................................................... 83 7.3.5 Constant Time Step E ffect......................................................................................... 87 7.3.6 Validation of Electrothermal Sim ulator................................................................. 90 7.4 Summary.................................................................................................................................92 Conclusion and Future W ork...................................................................................................... 94 References.................................................................................................................... 97

Publications.................................................................................................................................... 102

IX

List of Figures
Figure 2.1: ID conduction heat transfer in a plate with T,>T 2 ; qy=0 and qx=0 [10].................. 5 Figure 2.2: Thermal conductivity o f different materials versus temperature [10]...................... 6 Figure 2.3: Electromagnetic spectrum for thermal radiation wavelength band [10].................. 7 Figure 2.4: Absorption, reflection and transmission o f thermal radiation incident on a surface [10] 8 Figure 3.1: Thermal modeling approach [8]................................................................................... 14 Figure 3.2: Thermal model o f an IC and its packaging [13]........................................................ 14 Figure 3.3: Some typical generic elements for ID, 2D and 3D mesh geometries [15]............ 16 Figure 3.4: Network o f subvolumes and nodes o f a rectangular solid. Shading indicates representative interior and exterior nodes [10]...................................................................... 19 Figure 3.5: a) Interior node, b) Regular exterior node c) Regular exterior node, d) Outer comer node, e) Inner comer node [10]...................................................................................20 Figure 3.6: Interior finite-difference subvolume [10]................................................................... 23 Figure 3.7: Equivalent thermal network for interior subvolume [10].........................................24 Figure 3.8: a) Exterior finite-difference subvolume, b) Equivalent thermal network for exterior subvolume [10]........................................................................................................... 24 Figure 4.1: BJT SPICE model [19]................................................................................................. 27 Figure 4.2: Electron mobility variations vs. temperature [22].....................................................31 Figure 4.3: Hole mobility variations vs. temperature [22]........................................................... 31 Figure 4.4: Collector, Emitter and Base transient and charging time variations with temperature [23]........................................................................................................................ 32 Figure 4.5: BJT cut-off frequency variations with temperature [23].......................................... 32 Figure 4.6: Collector saturation current variations with temperature [24].................................33 Figure 4.7: Base-Emitter voltage variations versus temperature [23]........................................ 33 Figure 4.8: Current gain variations with temperature [23]...........................................................34 Figure 4 .9 :1-V characteristics o f common emitter Si BJT . Data was taken at 4ps (solid line), 40ps (semi-dashed line), lOOps (dashed line) and 200ps (dotted line) [25]..................... 35 Figure 4.10: BJT power and efficiency variations with temperature [26]................................. 35 Figure 4.11 : Power density trends [27]........................................................................................... 36 Figure 4.12: Equivalent Schematic o f VBIC model. [2 8 ]........................................................... 38 Figure 4.13: DC transfer curve o f Op-Amp 741 [29].....................................................................39 Figure 5.1 : The BJT CAD model showing the electrical analog circuit between nodes J and A which models thermal effects [32]..........................................................................................42 Figure 5.2: The BJT circuit and its electrical analog thermal circuit [32]................................. 43 Figure 5.3: The current mirror circuit and the thermal nodes o f the BJTs [8]...........................44

X

Figure 5.4: (a) Top view o f the solid containing heat sources, and (b) 3-D view o f grid point ( ij ,k ) [ 3 5 ] ................................................................................................................................. 45 Figure 5.5: Thermal model o f Shelar et. al [21]............................................................................ 46 Figure 5.6: BJT thermal model o f Shelar et. Al simulator[21].................................................... 47 Figure 5.7: Pin diagram o f HFA3046B [21].................................................................................. 47 Figure 5.8: Circuit diagram o f the current mirror using HFA3046B [21]. ..............................48 Figure 5.9: Lumped RC thermal model for the die/header structure [36]..................................50 Figure 5.10: DC gain versus output voltage o f a current mirror using SOI and trench isolated BJT devices, with and without thermal effects [36]............................................................. 51 Figure 5.11: One layer model for a typical heat conduction problem [37]................................ 52 Figure 5.12: Current mirror circuit implemented in SABER [38].............................................. 54 Figure 5.13: Thermal model o f the device [38]............................................................................. 54 Figure 5.14: Simulation results o f Wunsche et. al simulator[38]................................................ 55 Figure 6.1 : Flow chart o f the electrothermal simulator................................................................ 58 Figure 7.1: BJT regions o f operation [3]........................................................................................ 63 Figure 7.2: Circuit o f the active BJT............................................................................................... 64 Figure 7.3: BJT DC characteristics...................................................... 64 Figure 7.4: Finite element model and boundary condiction.........................................................65 Figure 7.5: 3D temperature distribution at a power dissipation o f 1.83 W................................. 67 Figure 7.6: Device temperature variations versus numbers o f iterations................................... 68 Figure 7.7: Device power variations versus numbers o f iterations............................................. 68 Figure 7.8: Device power variations versus its temperature....................................................... 69 Figure 7.9: Ic versus V ce while device reaches its junction temperature...................................70 Figure 7.10: BJT amplifier circuit................................................................................................... 71 Figure 7.11 : Die and header o f an 1C and its simplified physical model [29]........................... 72 Figure 7.12: Finite element model o f BJT amplifier.....................................................................73 Figure 7.13: 3D temperature distribution across the amplifier thermal model..........................75 Figure 7.14: Power dissipation variations o f the compared methods versus variations o f Rc..................................................................................................................................................... 78 Figure 7.15: Current gain variations o f the compared methods versus variations o f Rc 78 Figure 7.16: Base-Emitter voltage variations o f the compared methods versus variations o f Rc.................................................;.............................................................................................. 79 Figure 7.17: Implemented current mirror........................................................................................80 Figure 7.18: Finite element model o f the current mirror.............................................................. 81 Figure 7.19:3D temperature distribution across the current mirror thermal model................. 84 Figure 7.20: Temperature variations o f the active devices over time......................................... 86 Figure 7.21: Variations o f the reference current over time......................................................... 86 Figure 7.22: Variations o f the output current over time.............................................................. 86 Figure 7.23: Variations o f the power dissipations o f the active devices by time..................... 87 Figure 7.24: Variations o f TQ2 versus time while time steps were equal................................. 88 Figure 7.25: Variations o f 1r2 versus time while time steps were equal....................................89 Figure 7.26: Variations o f the output current over variations o f time versus No. O f time step . ..................................................................................................................................................... 89 Figure 7.27: Variations o f the Tq2 over variations o f time versus No. o f time step................. 90 Figure 7.28: Wunsche et al's a)Temperature, b)Output current and c) Reference current simulation results [38].............................................................................................................. 91

XI

List of Tables
Table 3.1 : Electrical Analogy........................................................................................................... 22 Table 4.1: Some BJT parameters variations with temperature.................................................... 28 Table 4.2: Parameters definitions.....................................................................................................29 Table 4.3: Improvement trends for ICs enabled by feature scaling [27]....................................37 Table 7.1: Silicon thermal charactristics.........................................................................................66 Table 7.2: Material properties and dimensions o f layers o f the thermal model........................ 73 Table 7.3: Comparison results o f the power dissipation...............................................................76 Table 7.4: Comparison results o f the collector current.................................................................76 Table 7.5: Comparison results o f the Base-Emitter voltage.........................................................77 Table 7.6: Comparison results o f the current gain.........................................................................77 Table 7.7: Material properties and dimensions o f layers o f the thermal model........................ 81 Table 7.8: Results o f the transient simulation o f the current mirror........................................... 84 Table 7.9: Experimental results, and Munro et. al and Shelar et. al's results o f the current mirror...........................................................................................................................................90

XII

Chapter 1 1. Introduction
Shrinking device sizes and higher integration densities are giving rise to numbers o f new challenges in designing the next generation o f integrated electronic circuits. Many roadmaps now recognize advanced electrothermal analysis as one o f the major challenges in electronic product innovation. The reasons are due to ongoing push o f technology towards higher speed and device density and/or higher power and increased complexity. The compounding effects o f size reduction and increased power lead invariably to higher heat generation per unit area. Without accurate prediction o f the temperature profile, it is impossible to determine properly the electrical characteristics o f devices and therefore these devices may be at risk o f overheating thus causing early device failure. When a device operates at high power dissipation, self heating and thermal coupling are the main issues in its performance and reliability [1]. Device temperature enhancement affects its electrical properties such as carrier mobility, electron saturation velocity, ionization rate, thermal conductivity, operating frequency, and power dissipation [2]. BJTs are commonly utilized in high power applications due to their high voltage/current characteristics. High power applications evidently cause increase in temperature.

Temperature enhancement causes thermal runaway in bipolar transistors in contrary to field effect transistors. BJTs have positive temperature coefficient on collector current. Increase o f temperature causes increase o f current gain, which determines the value o f the collector current. The more the current flows into the device, the higher its temperature rises. Increase o f temperature results in increase o f current gain and consequently an increase in current.

The positive loop continues until the device fails due to thermal runaway [3]. Therefore, it is critical to perform electrothermal analysis on BJTs.
Electrothermal simulation o f VLSI circuits prior to the manufacturing enhances the

estimation accuracy o f the circuit performance at the operating temperature. With increasing concerns for on-chip power dissipation due to high packing density and high-frequency operation, electrothermal analysis has become critically important for accurate assessment o f thermally activated device and ciorcuit failures, and for timing analysis. There are mainly two methods for electrothermal analysis: Direct method and Relaxation method. In direct or simultaneous iteration method [4] the thermal system is represented by an electrical model network, which has common nodes with the electrical only network, the so-called thermal nodes. In relaxation method an interface program couples two powerful electrical and thermal simulators. One simulator uses the updated results o f the other simulator in the iterative process.

1.1 Thesis Objectives
The goal o f this research was to develop a capability for the electrothermal modeling o f electronic circuits. The objective o f the thermal modeling process was to create a model that represents the thermal behavior o f the physical system. This research project aimed to create simulation method to enable rapid assessment o f thermal parameters affecting performance in electronic equipment. The project was focus on electrothermal analysis at devices and chip level. Using relaxation method, an algorithm was developed in MATLAB [5] to create an interface between PSpice [6], as the electrical simulator, and COMSOL [7] as the thermal simulator. Applying this algorithm, an electrothermal simulator to analyze different electronic circuits and devices was obtained. The implementation o f the electrothermal simulator requires: a) Communication between two simulators to receive and to send calculated parameters to another simulator, b) Time step to reach steady state values o f parameters in that particular time step in a transient simulation, c) Convergence test. The developed algorithm in MATLAB controls these requirements. The developed simulator is capable o f performing both steady state and transient analysis at devices and chip level.

The electrothermal simulator was employed to investigate the thermal effects in an active BJT, operational amplifier circuit and current mirror circuit. The results obtained from simulation were compared to the available experimental results to validate the accuracy o f the electrothermal models. In addition, the performance o f the electrothermal simulator has been evaluated through steady state and transient analysis o f operational amplifier circuit and current mirror circuit.

1.2 Thesis Outline
In this research we have attempted to provide coverage o f important subjects required for electrotheraml analysis o f device and circuits. The first four chapters are designed to present the fundamental building blocks in an electrothermal simulation. Chapter 2 discusses an general introduction to heat transfer. The available methodologies to solve the heat transfer governing equations are elaborated in chapter 3. In chapter 4, SPICE electrical simulator is briefly introduced and BJT SPICE modeling and its temperature dependency is discussed. The deficiency o f SPICE simulator in considering device temperature is also investigated. Chapter 5 focuses on the framework o f an electrothermal simulator. The results o f chapter 3 and 4 are combined to study several techniques o f electrothermal analyses. Literature review on these techniques is also included in this chapter. Chapter 6 concentrates on the proposed method and developed algorithm for electrothermal simulation. The developed algorithm is first presented. An incremental simulation strategy used in simulation efforts is illustrated in this chapter. Chapter 7 addresses three important applications o f the electrothermal analysis, based on the building blocks discussed in previous chapters. The impact o f the thermal effect on the circuit performance is examined. Finally, the conclusions and suggested future works are summarized in chapter 8.

Chapter 2
To be able to perform thermal analysis on a circuit we need to know the basics o f heat transfer. This chapter is an introduction to the fundamentals o f heat transfer and thermal equations. Heat transfer mechanisms are examined and the governing heat transfer equation is introduced. The boundary conditions and initial condition that can be applied to a thermal model are explained for different environments.

2. Heat Transfer
In general, Heat Transfer or Heat is defined as "the energy in transit due to a temperature difference" [9]. There are two major mechanisms o f heat transfer, Conduction and Radiation, which occur in solids and fluids. However if heat transfers from a solid surface to a moving fluid by conduction, it is known as Convection [10].

2.1 Heat Conduction
When heat is transferred within a material due to the molecular agitation, it is called Conduction. For instance, heat is transferred into a metal rod from one end to the other due to the temperature difference.

2.1.1 Fourier's Law

According to Fourier' s law, the amount o f heat being transferred by conduction in a one dimensional plane per unit time can be expressed as equation (2.1), where k (W/mK) is the thermal conductivity and Tis temperature in K [10]. g, = - k -- = -k V T ax (2 . 1)

The negative sign indicates that heat is transferred in the direction o f decreasing temperature. Figure 2.1 shows that plate surface temperatures are T, and T;; assuming T, is greater than T2 . In this example heat is transferred only by conduction in x direction. Temperature differences in y and z directions are assumed to be zero.

9 ,-0
T (x )

T,

X

Figure 2.1: ID conduction heat transfer in a plate with T |> T 2 ; qy=0 and qi=0 |10|.

2.1.2 Thermal Conductivity

Thermal conductivity, k, is a thermo-physical property o f materials. It represents the rate o f conduction heat transfer per unit area for a temperature gradient o f l°C/m. It has SI units o f W/m°C [10]. Most materials have a thermal conductivity that varies with temperature. Figure (2.2) shows thermal conductivity o f different materials versus temperature variations.

T6itH>ôf8ture, T (K)

200 500

250

300

350

400

450

500
Silver Copper

550

600

:
Y

300

Gold Aluminum

200

Silicon Iron______ Germanium

-100

0 20 40 60 80100
Temperature, T ("CÎ

200

300

Figure 2.2: Therm al conductivity o f different materials versus temperature [10].

A constant thermal conductivity can be assumed for a substance if its temperature variations are small. In case o f semiconductors, a nonlinear thermal conductivity variable with temperature is considered, equation (2.2). k (T ) = k (T J Where n = -1.25 for Silicon [11].

(2 .2)

2.1.3 Heat Capacity

Heal Capacity, c, is the quantity that represents the amount o f heat required to change one unit o f mass o f a substance by one degree. The SI units o f heat capacity are J/kg°K [10]. Q = m cVr (2.3)

where Q is the heat energy received or given out by the substance, m is the mass o f the substance, and AT is the change in temperature. Heat capacity is often expressed in a constant volume, Cv, or a constant pressure, Cp.

6

A heat source can be either internal or external in a heat transfer system. Transistors, resistors and semiconductor chips are good examples o f internal heat sources. Examples o f external heat sources are different types o f cooling systems such as fans and fins in power devices. Considering heat is transferred only by conduction, heat sources are all internal and thermal conductivity is temperature dependent, by applying Fourier's law, time dependent heat transfer equation is defined as follows: p C ^ ^ + S /{-k V T ) = Q (2.4)

Where T (°K) is temperature, t (s) is time, p (kg/m*) is density, and Cp (J/kg°K) is specific heat capacity. Q (W/m*) is the heat source or heat sink density; depending on the heating or cooling behavior, it is positive or negative respectively.

2.2 Heat Radiation
Heat Radiation is an exchange o f temperature between two surfaces with different temperature via electromagnetic waves [10]. Figure (2.3) illustrates electromagnetic spectrum for thermal radiation wavelength band.
THERMAL RADIATION Solar Ultraviolet Visible .

» "1
Infrared

,

J
0.1 Violet "

L
/ Blu«

fJI ,,1.1

.................I_____ I____ I___I.....I..I... l...,,l.,l...

_1-------------1 _____ I____I___

\ \ ': ° . Green \ Yellow

100 Wavelength, X (pm)

Figure 2.3: Electromagnetic spectrum for thermal radiation wavelength band |1 0 |.

The medium through which thermal radiation passes can be a vacuum or a transparent gas, liquid or solid. Objects within the path o f heat radiation absorb, reflect and in case o f transparent materials, transmit these electromagnetic waves. Absorptivity a, reflectivity p.

and transmissivity x, o f a body represent how much a body absorb, reflect and transmit in the presence o f thermal radiation. These parameters (a, p, and x) depend on the material o f the body and the temperature o f the emitting source [10]. a+p+x=1 (2.5)

2.2.1 Stefan-Boltzmann Law

According to Stefan-Boltzmann law, the total emissive power, Eb, for a blackbody is the total rate o f thermal radiation emitted by a perfect radiator per unit surface area [10]. E , = oT : (2.6)

A blackbody is an object that absorbs all the radiant energy reaching its surface, a = 1. Where a is Stefan-Boltzmann constant and Ts is the absolute surface temperature. For non-blackbody surfaces the total emissive power is generally given in the following form: E = sEf, = fo T / (2.7)

Where the emissivity (e)can have a value between zeroand one. The total radiative heatflux that arrives at a bodyis called irradiation, G. The thermal

irradiation received by a surface is distributed as follows (see Figure 2.4): Thermal radiation flux absorbed = aO Thermal radiation flux reflected = pG Thermal radiation flux transmitted = xG
Irradiation, G

Reflected radiation, pG

Radiation absorbed by plate is cxG Transmitted radiation. rG

Figure 2.4: Absorption, reflection and transmission o f thermal radiation incident on a surface [10].

Considering an opaque surface, the total radiative heat flux that leaves the body is called radiosity, J [9]. J = pG + ecxT^ (2.8)

Therefore the net radiative heat flux into the body is obtained according to equation (2.9). q = G - J -^ q = ( l - p ) G - s c f r ' (2.9)

If the surface is diffusive-gray (gray body is a surface whose emissivity is independent o f the electromagnetic wavelength) and opaque then the net radiative heat flux into a boundary is: p = s - ^ q = e (G -o T ^ ) (2.10)

Consequently, heat transfer equation is defined as in equation (2.11), when heat is transferred by conduction and radiation.

+v.(- Avr) = G+
2.3 Heat Convection

a r ) (2.11)

When a fluid flows over a solid, with different temperature than the solid, the process o f heat transfer is called Convection. Heat convection is generally the conduction mechanism o f heat transfer when the heat source is external; therefore, heat conduction has primary roll in heat convection.

2.3.1 Newton's Law o f Viscosity

Newton's Law o f Viscosity describes the velocity o f a flowing liquid. Newton viewed laminar flow as the behavior o f a liquid separating two solid parallel plates [9] as p =^ Au (2.12)

where p is the viscosity ( kg/m s), F is the shear force ( kg.m/s^),y is the distance between the plates (m), A is the area o f each plate (m^), and u is the fluid velocity, (m/s). Therefore, the shear stress is defined as:

2.3.2 Newton's Law o f Cooling

Newton's law o f cooling states that the rate o f cooling o f an object is proportional to the temperature difference between the object and its surroundings [9]. ^ = - k ( T - T ,) at (2.14)

In equation (2.14), Ta is the ambient temperature, T is the temperature o f the solid and k is a positive constant. Applying Newton's law, the local convection heat flux o f a fluid passing over a surface is expressed as: q " = h {T ,-T ) Where Ts is the surface temperature and h is the (2.15) local convection coefficient.

Since the heat convection coefficient and local heat flux vary by the flow conditions, the total heat flux rate is defined as follows: q = jq"dA^ (2.16)

This leads to another way o f expressing total heat flux, equation (2.17). q = h ( T ,- T ) (2.17)

Where h is the mean coefficient o f heat transfer. It has SI units o f (W/(m^ K)).Itdepends on flow regimes, fluids and thermodynamic conditions. Therefore, heat transfer equation is defined as follow (considering heat is transferred by all types o f the above mechanisms) [12]: p C p ~ + V .(- kVT) = Q + s ( G - a T ') + % -T ) (2.18)

dT where/?C^-- represents the rate o f energy increase in the solids, - k V T is the heat dt conduction term, and the right side o f the equation represents the heat generation amount in the system.

10

For most electronic component, heat conduction is the most important heat transfer phenomenon; therefore most researchers consider a component that has thermal conduction as its only mode o f internal heat transfer. Therefore equation (2.18) can be expressed as: p C , ^ + V .(-k V T ) = Q (2.19)

2.4 Boundary and Initial Conditions
A boundaiy condition is a mathematical concept relevant to the dependent variable, which in this case is temperature, T. Defining boundary conditions are necessary to solve any differential equation. Number o f required boundary conditions for an ordinary differential equation isequal to the highest-order derivative o f theequation. If the heat transfer is unsteady, there must be an initial condition or initial spatial

distribution known for temperature at / = 0. The heat conduction equation given in (2.19) is subjected to the general boundary condition: k -- + hT = F dn and the initial temperature condition: T (t = 0) = G (2.21) (2.20)

F and G are the arbitrary functions, and n is the outward direction normal to the surface. The following three types o f thermal boundary conditions are the most common boundaries which can be applied to the electronics' object boundaries, depending on the packaging materials and the surrounding environment.

Isothermal (Dirichlet): T = F ( x ,y ,z ,t) Insulated (Neumann): -- = 0 dn Convective (Robin): k ^ = h( Ton Where Tam bient is the ambient temperature. )

(2.22) (2.23)

(2.24)

11

To solve the boundary value problem o f heat conduction, many existing analytical or numerical approaches are available. This will be addressed in the next chapter.

2,5 Summary
Heat transfer mechanisms (Conduction, Convection, and Radiation) and governing equations are introduced. For most electronic component, heat conduction is the most important heat transfer phenomenon; therefore most researchers consider a component that has thermal conduction as its only mode o f internal heat transfer. The thermal boundary conditions and the initial temperature condition are given. The three thermal boundary conditions are: Isothermal, Insulated and Convective.

12

Chapter 3

This chapter is an introduction to different types o f analysis for the heat transfer equation obtained in chapter 2. Numerical and analytical approaches are briefly introduced in this part.

3. Thermal Analysis

In this research we performed the thermal analysis on integrated circuits without forced heat convection for the cooling system and heat was mainly transferred by conduction; hence, for the thermal analysis, the other two mechanisms o f heat transfer are neglected. Consequently, the main focus is on the procedures that are developed to analyze conductionheat-transfer systems. There are different methods to solve heat conduction equations such as, Fourier series. Finite element method (FEM), Finite difference method (FDM), Boundary element method (DEM), Analytical approaches. Thermal network and Extraction approximation approaches. Figure (3.1) shows different approaches for thermal analysis.

13

CPhysical System (10, MOM. PCS) 1
T
Heat Conduction Equation Thermal Measurement Thermal Simulation

= -Qv+pc,(^)

3
Fourierseries FEM FDM BEM Anafyt Soiu^n Thermal Network Extractkm Approxkn.

Thermal Moda

Figure 3.1: Thermal modeling approach [8].

3.1 Fourier Series
One o f the primary methods to solve heat transfer equation is Fourier series. Considering Figure (3.2) as the thermal structure o f an IC and its packaging, it has four layers o f different types o f materials with different thermal conductivities.
Y'

Figure 3.2: Thermal model o f an IC and its packaging [13].

The only heat source is located at the z = 0 coordinate. It can be expanded for more than one heat source employing superposition. Considering the steady state heat transfer equation with uniform thermal conductivity (k): v " r = -I k (3.1)

14

The boundary conditions are defined according to boundaries o f layers. Both temperature at field point r' and the source heat dissipation per unit volume parameters are expanded in a double Fourier cosine series to obtain: Q ( r') = a p T (r')= ^ Y jY j ^a^pH'ap ( ^')
a

z' )co sa x ' cos py' O C X ' oos ffy'

(3.2) (3.3)

p

, /;r ^ mn , ^ _ . where a = -- ,/? = ,m j = 0,7,2,5,... and *

\^ ,a = 0 = <2 \l.a * 0

=

y P =0 [ J .p ^ o

where a and b are the package dimensions at the x and y directions o f a three dimensional coordinate system respectively. The Fourier coefficients are given by:

Kp ( zV =

L t=o

fiy'dx'^y'

(3 -4)

The surface source Q (r') at z = 0 is: Q (z') = q ( x 'ÿ ) ô ( z ') (3.5)

q(x'y') is source heat dissipation per unit area and S (z') is the Dirac delta function. In all the above equations, the Fourier coefficients are unknown and are not simply

computed. They are calculated by means o f Green's function which has been elaborated in [13]. This method is computationally very complex when temperature variations with time and thermal conductivity variations with temperature are considered. It becomes more complex when additional layers and heat sources are added to the thermal structure.

3.2 Finite Element Method
Finite element method (FEM) was first developed for problems in stress analysis o f solids and structural systems. However, its power and wide applicably can be fully recognized when it is applied on nonstructural problems: heat transfer and fluid flow [14].

15

FEM is a discretization method. It is a subdivision o f a mathematical model into non overlapping components o f simple geometry. The response o f each element is characterized by the finite number o f degrees o f freedoms (DOFs) [14]. Considering a system that has finite number o f DOFs. DOFs are collected in a column vector u, also called state vector. For a set o f DOFs there is a set o f conjugate quantities called forces which are the factors o f change. They are also collected in a column vector f . The relation between u and / is assumed linear and homogenous. If u vanishes so does f. Equation (3.6) shows the relation between/ and u. K xu = f (3.6)

K is called the stiffness matrix. The physical meaning o f u and / varies according to the modeled application. In case o f heat transfer modeling, u represents temperature and / represents heat flux. In direct stiffness method elements are disconnected from their neighbors by disconnecting the nodes; then, each element is modeled by a generic element. Figure (3.3) illustrates some typical generic elements for ID, 2D and 3D geometries. ID

2D

2D

3D

Figure 3 3 : Some typical generic elements for ID , 2D and 3D mesh geometries [15].

To analyze a discrete system the following steps are required [14]: 1. elements. System Idealization, in which the actual system is idealized as an assemblage o f

16

2. Element Equilibrium, in which the equilibrium requirements o f each element are recognized by state variables. 3. Element Assemblage, In which the element interconnection requirements are applied to recognize the set o f simultaneous equations for the unknown state variables. 4. Solution o f Response, in which the simultaneous equations are solved for the state variables and using the element requirements the response o f each element can be calculated. To develop a finite element solution scheme on heat transfer equation, we consider the heat conduction equation in electronic components (see section by p C , ^ + y { - k V T ) = Q{T) (3.7)
2 3

. , equation (2.19)), given

A discretization based on variation Galerkin procedures gives, after integration by parts o f the ( - AVr) term, the problem

m = \STpC p -- r/Q+ J(V5T).(-Â:Vr>/a- \5TQ(T)dÇl-\sr.{-kVT),,dT =0 (3.8)
n n Q r

Where S denotes "variation in". This variation (weak) formulation is still valid even if the term(--tV T) and/or

Q(indeed

the boundary conditions) are dependent on T or its derivatives. Introducing the interpolations T = NT and ST = NST , a discretized form o f (3.8) is given as:

/(f)-c (r)-P (f)= 0
Where / = \N ^ Q ( T ) d C l- \N \{ - k '^ T \d T
n r

(3.9)

c=
n p = J w ^ (-A v r> /Q

a

For steady state heat analysis the equation (3.9) can be written as: f ( r ) = f { r ). Equation (3.9) states the equilibrium o f heat flow at all time. To discritize this equation, we consider the first step o f Newton-Raphson iteration for the heat flow equilibrium in which:

17

where i is the number o f iteration. Therefore, at time f+Af and for element m\ i+^rp(m) _jjmt+àlrp ^ ^2 ^3 J2 )

Hence, '*` ^T a vector o f all nodal point temperatures at time / + A/ is defined as: '^^'TT = [ `*^T, ... (3.13)

H"" is the element temperature matrix and B "" is the temperature gradient interpolation matrix [14].

3.3 Finite Difference Method

The basic concept o f the finite difference approach is to approximate the partial derivative o f a given point by a derivative taken over a finite interval across that point. Let f(x) be a function which is finite, continuous and single valued. The derivative o f f(x) at point x, can be approximated by the following difference equation: d f(x ) dx /( x , + A x ) - /( x , 2Ax p

Where {x, + Ax) and (x, - Ax) are the two neighboring points. The central finite difference approximation o f the second derivative o f f(x) can be written as: d ^ f(x ) dx' /( x , + Ax) + /( x , - Ax) - 2 f ( X, ) àx'

The finite difference expression o f (3.14) and (3.15) can be applied to equation (2.19) with respect to the time domain and the space domain. The object under simulation is first discretized into many space grid point x/, and the algebraic difference equations are obtained for each x,. The resulting set o f equations that represent all grid points can be solved for the successive time points provided that temperature distribution at r =
0

is known.

Here, we explained this method for 2D system. It can be expanded for 3D analysis. For 2D analysis the dimensions o f each subvolume is àxù^yô where ô is the thickness o f the plate, as shown in Figure (3.4). To provide such a network the horizontal and vertical

18

construction lines are primarily sketched which are Ax and Ay apart. In general, Ax and Ay are equal. To create the subvolumes, horizontal and vertical lines are drawn in the middle o f each two construction lines.
A _ 1,7

n=Na 7

2.7

4 .7

r-- O ---5 ,7 6 .7 < 6 ,6 o 5 ,6 o 5 .5 o 5 .4

na6

1,6 (> 1,5

2°6

3.^6

4?6

na 5

2°5 o 3 .4

4°5

6 .5 < 6 .4

n a 4 " l ,4 6 n a 3 |1 ,3 <  1.2

2.% 0 2 .3

4?4

4 .3 o 3 .2 < 4 .2

5 .3

6 .3

n=2

2^2

1,1 =1

2.1 2

3.1 3

4. 1 4 5 m « M= *6

Figure 3.4: Network of subvolumes and nodes o f a rectangular solid. Shading indicates representative interior and exterior nodes [10].

The resulting network is represented by nodes. The nodes are located at the intersections o f construction lines. Each subvolume is treated as a lumped subsystem. The mass o f each subvolume is considered to be located at the node and the temperature o f the node represents the mean temperature o f the subvolume. The distance between two adjacent nodes is Ax and Ay. The coordinates x, y o f each node are equal to (m --1).Ax and( n - 1 ).Ay , respectively, where m is an integer value in the rage o f [1, M] and n is an integer value in the range o f [1, N]. M and N are the total number o f nodes in x and y directions, correspondingly. Figures (3.5a-e) illustrates different types o f locations o f nodes.

19

AqV*-Ay
< > m, n + 1

+ Ay

(»M, n + 1

Aq-

- e --*m --1, n

Aq^ +
m + 1, n «» m, n -- 1 Aq-

A q, ----M -- 1, n

I;
Aq.

M, n

Aq,

< > M, n ~ 1

(a)
Aq,

(b)

m - 1 ,N -e 1 Aq.

m. N m + l , N

-- o -----

Aq X* Ax

p m, N -- 1

Aq(c) Aq
Aq y Ay

A o m, n + Aq% Aq, < > M, N ~ 1 . m - 1. n A q , -----

1

AqX >A x
Î K
m + 1. n

Aq,x
èm, n - 1

Aqv Aq.
(d) (e)

Figure 3.5: a) Interior node, b) Regular exterior node c) Regular exterior node, d) O uter corner node, e) Inner corner node [10].

20

To solve the heat conduction differential equation, first law o f thermodynamics needs to be applied on each node. For instance, for Figure (3.5a) it is written as: Aq^ + Aqy +g'A V = + Aq^^^y + AE (3.16)

where q' is the internal energy o f the subvolume. In case o f steady conduction heat Æ transfer, -- - = 0 . At Applying simple difference approximations for the Fourier's law, the equation can be simplified into an algebraic equation:

Ax^ where ,, is the temperature o f the node located at x, y.

k~

I '

^

3.4 Boundary Element Method
Boundary element method is a numerical technique which solves boundary integral equations. This method is very similar to FEM. It is a discretization method, which enforces boundary elements along the material interfaces and obtains a set o f boundary integral equations [16]. By dicritizing the boundaries into boundary elements a set o f linear equations are obtained. Variables at any point o f space may be attained by performing integration associated with the equivalent sources at the boundaries.

3.5 Analytical Solution
In analytical solution or differential formulation the heat conduction equation is solved directly. There are three steps to solve the equation. Considering 7/ as the initial temperature and q* as the internal energy generated per unit volume, according to thefirst law o f thermodynamics we obtain: dq, + dqy + dq^ + q'dV = dq^^j, + dq^^jy + dq^^j^ + (3
,1

g)

21

First law o f thermodynamics (conservation o f energy) expresses that the change in internal energy o f a system is equal to the heat added to the system minus the work done by the system [ 1 0 ]. Utilizing the definition o f partial derivative the following replacement is applied: = dq, + ^{dq,) dx dx (3.19)

Similarly, equations for dg^^^.dg^^^^ are obtained. Therefore, equation (3.18) changes to:
+ ,3 ,2 0 )

dx

dy

dz

dt

Implementing Fourier's law o f conduction and dividing through by differential volumes, it revised to: d (kdT^ dx ( ta r l ^ d QjpCyT) + gWF = + dt dx ,1 dy I J dzydz j
1

(3.21)

Equation (3.21) can be further simplified if

k ,p ,C y

are considered constant values.

3.6 Thermal Network
Since there are analogies between heat transfer and flow o f electric current, FDM concept is put into the form o f a RC network. Table 3.1 explains this analogy [10].

Table 3.1: Electrical Analogy.

Electrical Ee : Voltage (V) le : Current (A) Re : Resistance (D) Ce : Capacitance (F)

Thermal T: Temperature (°C) q: Rate o f Heat Transfer (W) R: Thermal Resistance (°C/W) C: Thermal Capacitance (J/ °C)

In addition, comparing Fourier equation to the differential equation for voltage distribution in an electrically conducting multidimensional system shows that an electrical

22

field set up within an electrical conductor corresponds to the thermal field in the modeled heat transfer problem. Considering Figure (3.6), which is a subvolume o f a 2D finite difference model with
interior node, an energy balance on this node is developed as follows:
m, n + 1

o A C |y ^A ly+ y

1, n
O Aq.

m. n

1. n

o
m, n ~ 1

Figure 3.6: Interior finite-difference subvolume |10|.

AE, At Applying Fourier's law o f conduction we obtain:
n^T rp T rp T __ r p z

(3.22)

AQx - -kSAym.n

m.n

m-I.n _ ^ m-I.n

^ m,n

Ax
m+l,n

l/( 5 k )

(3.23)

rpT _ rpT

A^x+àx --
rnT

l/( 5 k )
_ rpT
^ m.n

(3.24)

AÇy =

m,n-/

l/ ( 5 k )
rnT _ rpX
m.n m.n+I

(3.25)

AÇy

J /(â k )

(3.26)

Considering R = l/( S k ) and C = pCyWV equation (3.22) is revised to:
rpT rpT+J_rpT
m.n ^ ^ m.n ^ m.n

q'AV + Y , -

R.

At

(3.27)

The above equation shows that the summation o f the currents flowing into the node (m, n) from the surroundings is equal to the flow o f current into the capacitor. In a steady state

23

situation no current flows into the capacitor and the summation o f the currents is zero, since
rp T + I __ rp T

m,n ~ ^ m.n '

Note that equation (3.27) must assure stability requirements that restrict A/. In case o f severe restrictions, equation (3.27) can be written as:
rpX _ rpt rpt
»r-/ rpT

q'AV + J^ ' _ R,

= C,  '

At

(3.28)

Figure (3.7), illustrates the equivalent thermal network o f Figure (3.6).

qAV
Cî « P AV c.

Figure 3.7: Equivalent thermal network for interior subvolume [lOJ.

Applying similar calculations, RC network can be developed for subvolumes with exterior nodes, which is shown in Figure (3.8b). M , n1 o

l.n O Aq,-

C , « p AV c ,

1/2

M.n-1 (a)

49, O

(b)

Figure 3.8: a) Exterior finite-difference subvolume, b) Equivalent thermal network for exterior subvolume |10].

24

3.7 Summary

So far different thermal analysis methods have been reviewed. In general, the numerical method is more powerful and can be more easily applied to various kinds o f heat conduction problems (e.g. linear, non-linear, homogeneous, non-homogeneous). The analytical method, on the other hand, is more restrictive in solving complex problems. For instance, if the thermal conductivity (k) is temperature dependent, some variable transformation technique may need to be used to simplify the original problem. Finite element method (FEM) is chosen in this research as the numerical thermal simulation method. This is one o f the most popular numerical methods used by design engineers in today's product design process in industry. The great advantage o f FEM programs is their generality since they can simulate structures with arbitrarily complex geometries. In case o f thermal analysis on VLSI circuits, FEM simulators are more accurate especially when the packaging o f the IC is also considered. FEM is computationally less complex compare to methods such as Fourier series, FDM and thermal network.

25

Chapter 4

In this chapter SPICE electrical simulator is briefly explained. SPICE is the implemented electrical simulator in our research work to perform electrical analysis. SPICE model o f a bipolar junction transistor is also expanded, since our major focus is on BJT circuits. To illustrate the temperature dependency o f BJT parameters, their variations with temperature, which are obtained by experiments, are presented. The deficiency o f SPICE simulators to consider temperature in simulations is also discussed. The importance o f power dissipation o f VLSI circuits is also presented and the effects o f power dissipation on circuit performance and junction temperature are briefly investigated.

4. Electrical Analysis
To perform an electrical analysis on an integrated circuit an electrical circuit simulator is needed. Every circuit simulator has a library which includes model definitions for each element type. In these models a set o f equations are defined to specify the characteristics o f the element. One o f the primary circuit simulators is called SPICE (Simulation Program with Integrated Circuits Emphasis) which was originally developed at the electronic research laboratory o f the University o f California, Berkeley in 1975. There are different versions o f SPICE such as PSpice which is a PC version o f SPICE and HSpice which runs on UNIX workstations and large computers. HSpice is the fast version o f SPICE and is normally used. In this research we used PSpice as the electrical simulator [6 ].

26

4.1 BJT SPICE Model
Bipolar Junction Transistor was the first solid state amplifier, which revolutionized the solid state electronics. BJT has many advantages over other types o f transistors in terms o f speed, current drive, transcunductance and noise figure. These advantages make BJT suitable in applications for ultra high speed discrete logic circuits such as emitter coupled logic (ECL), power switching applications and in microwave power amplifiers. They are also used in electrical circuits where current needs to be controlled. Some o f the areas are; switching elements to control DC power to a load, amplifiers for analog signals, and 3-phase AC motors [17]. All the above applications o f a BJT are directly dependent on its operating point and therefore its power dissipation. Since BJT is very sensitive to temperature variations, any changes in the device junction temperature or the temperature o f the surrounding environment can cause changes in the device operating point and power dissipation. Temperature variations may also cause device failure; hence, failure o f the entire circuit. There are two main models for a BJT: Eber-Molls model and Gummel-Poon model. In today's SPICE simulators the latter is employed, since it considers the second order effect, therefore, it is more accurate in high and low current levels [18]. Figure (4.1) shows PSpice model o f a BJT.

Collector

lepj ( jf R C O O ) Ibc1/BR Cjs

I
RE

1 ^

Substrate ^ ^ ^ ( L P N P only)

Ibe1/BF S ubstrate (LPNP only)

(Ibe-Ibc1)/Kqb

Emitter

Figure 4.1: BJT SPICE model |19J.

27

For DC current, the bipolar equation system is defined as follows:
be I

+ lb c 2

(4.1)

Pf Ib e l K.q b
^bcl


Pr
^ bel

1b , c2

J

(4.2) (4.3) (4.4) (4.5) (4.6)

^qb

Pr

K ^ ,= K ^ ,.( l + ( l + 4 K ^ ,f> ^ )/2 K q ,= ^ J -K e /y A F -V b e /V ,, * ^ b e l
^KF
be I

(4.7) (4.8)

K q2

(4.9)

^KR

K .T K = All the parameters are defined in Table 4.2.

(4.10)

Similar to other transistors, BJTs are utilized for applications such as current sources, amplifiers and switches. Reliable BJT current sources, amplifiers and switches need to have stable collector current, stable forward current gain and stable base-emitter voltage, respectively. Nonetheless, all these parameters are temperature variables and strongly depend on device temperature. Table (4.1) indicates an example o f these variations [20].

Table 4.1: Some BJT parameters variations with temperature.

T(°C) Isc (nA) PF
V b e (V )

-65 1.9e-3 25 0.78

25
1 .0

175 33000
100

55 0.60

0.225

28

The following represents temperature dependent equations for some parameters that significantly affect the behavior o f a BJT in DC applications. I s (T ) = Is f '/N
(4.11)

Tnom <T L

I se( t ) = dsE

Tnom

Tnom (VTt,om ~'^(^% c.V,> ^ T j ^'/nc Tnom

(4.12)

Isc (T ) = ( I s c / ( l ^ r " ) - e Tnom Iss(T ) = (Iss

(4.13)

Tnom T
XTB

Tnom

(4.14)

(4.15)

T ^ X T B PR(T) = P n - ( - ----- ; Tnom

(4.16)

Table 4.2: Parameters definitions.

Pf Pr
Eg
Ikf Ikr

Ideal Maximum Forward Beta Ideal Maximum Reverse Beta Energy Bandgap Comer for Forward-Beta High-Current Roll-Off Comer for Reverse-Beta High-Current Roll-Off Base Current Collector Current Forward Diffusion Current Non-ideal Base-Emitter Current Reverse Diffusion Current Non-ideal Base-Collector Current Transport Saturation Current Base-Collector Leakage Saturation Current Base-Emitter Leakage Saturation Current Substrate p-n Saturation Current

h
Ic Ibel he2

hJ
hc2

h Isc

IsE
Iss

29

k 9 Kgb Nf Ne Ne Nr Nk Ns
Vbe Vbc
Va f K
ir

Boltzman's Constant Electron Charge Base Charge Factor Forward Current Emission Coefficient Base-Emitter Leakage Current Coefficient Base-Collector Leakage Current Coefficient Reverse Current Emission Coefficient High-Current Roll-Off Coefficient Substrate p-n Emission Coefficient Built-in Base-Emitter Voltage Built-in Base-Collector Voltage Forward Early Voltage Reverse Early Voltage Reference Temperature Temperature Effect Exponent Forward and Reverse Beta Temperature Coefficient

Tnom XTl XTB

The equations show that temperature variations can significantly affect the operation o f a bipolar transistor, especially the scaling o f transistor geometries that increase current density and thermal spreading impedances [2 1 ].

4.2 Temperature Effects on BJT Parameters
In this part we will review some experimental results regarding BJT parameter variations with temperature. Fundamentals o f a BJT operation are based on carrier mobility which is a temperature dependent factor. Figure (4.2) and Figure (4.3) indicate temperature reliance o f electron and hole mobility for different doping concentration obtained by experiments [2 2 ].

30

ELECTRONS

I
î

10®

10

* 200

300 40 0 Temperature (K)

500

Figure 4.2: Electron m obility variations vs. temperature |2 2 |. HOLES

^

I i
t

4e+02

2e+02

I
200
300 Temperature (K) 400

Figure 4.3: Hole mobility variations vs. temperature |2 2 |.

These curves show that electron and hole mobility decreases with increase in temperature. In case o f an NPN BJT, it results in reduction o f base and collector transient time. Variations of Base transient time, tbt. Collector transient time and charging time, Tcjand Tc, and Emitter charging time, te , are obtained according to Figure (4.4) for an NPN BJT [23].

31

JO,

J2 'C T
8 10

300 400 500 600 700 800 900 1000 1100

température, K
Figure 4.4: Collector, Emitter and Base transient and charging time variations with temperature [23J.

Decrease in the base and collector transient time while increase in emitter and collector charging time reduces the device switching speed and cut-off frequency. Figure (4.5) indicates the variations o f cut-off frequency, fr, versus temperature attained by observation [23]. Reduction o f fr influences the current gain and device efficiency.
3.0-

1.0 0.5

200 300 400 500 600 700 800 900 1000 1100 1200 temperature,K

Figure 4.5: BJT cut-off frequency variations with temperature [23].

Figure (4.6) shows variations o f collector saturation current versus temperature, when the device works at high temperatures. It shows that as temperature increases the saturation current increases accordingly. Variations in Ico cause variations o f the device collector current. This is very critical mainly if the device is operating as a current source, as it needs a constant collector current [24].

32

50 *C TEMPERATURE

1 0 0 `c

Figure 4.6: Collector saturation current variations with temperature [24].

Figure (4.7) illustrates the Base-Emitter voltage, V be , variations with temperature. It shows that V re decreases with temperature increase. V re is a very important parameter in a BJT performance. It indicates the region o f the device operation. For instance, variations in
V re

may change BJT operating as a current source into a resistor [23].

25

2.0 tji

05-

300

400

500

600 700 800 tem p e ra tu re , K

900

1000 1100

Figure 4.7: Base-Emitter voltage variations versus temperature [23].

33

Figure (4.8) shows variations o f BJT current gain versus temperature. Since BJTs are recognized by their high currant gain, it is very critical to be able to determine the current gain accurately [23].

120

100

c G O -

300 400

500

600

700

800

900

1000

1100

le m p e ro tu re .K

Figure 4.8: Current gain variations with temperature [23].

The above graphs confirm that device temperature variations result in changes o f the device operating point. Figure (4.9) shows the DC characteristics o f an NPN Si BJT for different V be as operating time increases. It shows that at a constant V be and V ce, Ic increases by time since device junction temperature increases. This data obtained by experiment for a common emitter circuit [25]. The value o f Ic converges to a constant value when device reaches its steady state junction temperature.

34

030

ic

(A)

0.15

0.10

0.05

0.00
0.00

5.00

10.00
(V)

15.00

20.00

Figure 4 .9 : 1-V characteristics o f common emitter Si B J T . Data was taken at 4^s (solid line), 40ps (semi dashed line), lOOps (dashed line) and 200ps (dotted line) |25].

Figure (4.10) shows power dissipation and efficiency o f a Si BJT. It shows that the power dissipation increases by increase o f device temperature; therefore, the efficiency decreases [26]. This defect is more significant in high power applications which produce high temperature.

@ as

I I

TjS 7.0

60

L

20

270

260

300

310

320

330

340

Temporaturo |°K]

Figure 4.10: BJT power and efficiency variations with temperature |26|.

35

4.3 Circuits

Power Dissipation and Temperature Effects on Integrated

In 1965 Gordon Moore observed that the total number o f devices on a chip doubled every 1.5 year. Today's low cost, high speed electronic devices consisted o f multimillion gate ICs prove the validation o f Moore's Law [27]. Technology shrinkage culminates in some difficulties; one o f them is IC power consumption. Even though many efforts have been performed to reduce IC power supply voltages, the number o f devices per chip and their operating frequencies enhance faster than their reduction o f power consumption. Figure (4.11) shows power dissipation drifts with technology [27]. It indicates that by decreasing device size its power density increases in contrary. In Figure (4.11), LKg Pwr denotes device Leakage power; it is proportional to the current leakage o f the device through its substrate. Active Pwr denotes device Active power. It is the device power dissipation when it is working in its active region.

Lkg Pwr Active Pwr
B ^ P o w er-O en sfty

50 a

0251L

OJlSlL

04311.

0 4 *1 .

Figure 4.11: Power density trends [27J.

ITRS (International Technology Roadmap for Semiconductors) assigned a maximum allowable power for three o f the primary types o f electronic products; they are shown in Table (4.3). It shows improvements on the power limitations o f ICs over 5 years.

36

Table 4 3 : Improvement trends for ICs enabled by feature scaling |27].

Allowable Max Power (W) High-Performance Cost-Performance Hand-Held

2002
140 75

2003 150 81

2004 160 85 3.2

2005 170 92 3.2

2006 180 98 3.5

2007 190 104 3.5

2.6

2.8

There are two main sources o f power dissipation in a chip, dynamic power dissipation and static power dissipation. Dynamic power is due to charge and discharge o f node capacitances o f gates and interconnects. It increases as the chip operating frequency rises. Static power is due to leakage current that flows at the silicon substrate. It intensifies by downscaling o f the technology. The electrical power dissipated in devices causes the increase o f the inside temperature above the ambient one, as a result o f non-ideal conditions o f the heat abstraction. Therefore, the mutual interactions between the electrical and the thermal phenomena both in devices and between them exist. Another important heat generator in an 1C is device self heating. Current flowing through a device substrate or chip interconnects creates heat due to their electrical resistance. Temperature distribution along a chip influences the 1C performance. Even if the maximum temperature has not reached, the 1C may malfunction due to non-uniform distribution o f power consumption along the chip. Because power consumption and power management o f ICs are critical, power analysis become indispensable for IC design and is one o f the fields which is currently under extensive investigation. IC power analysis becomes more critical and more important as the number o f gates increase. A common goal o f power analysis is to accurately calculate the power consumption o f the system under analysis. The SPlCE-like simulators are usually the analysis engine to perform power analysis. However, SPICE simulators are not able to model all thermal effects (see section 5.1) on a device. In 1995 a new model for bipolar transistors was proposed. It was called VBIC, Vertical Bipolar Intercompany Model. It improved some deficiencies o f BJT GP model including self heating effect. Figure (4.12) shows the equivalent schematic o f VBIC model. It shows that a simple thermal network has been used for the model. Such a simple thermal

37

circuit is not able to perform accurate thermal analysis and present temperature distribution
across the IC. Also, it is not able to consider temperature dependency o f thermal conductivity

o f semiconductors. In case o f complex circuits the model is incapable o f performing thermal coupling.
C
bco

'S
setf'heaüng

| r»

D""
Cx
add'd phase shift

9""
3f ; B
Rlxx

ia

r i-

oC M

Bx {£ } Bi Ei

J ck
aRe

CBED

Figure 4.12: Equivalent Schematic o f VBIC model. [28]

To present an example o f limitations o f circuit simulators the results o f the electrothermal simulation o f Op-Amp 741 obtained in [29] is presented. Figure (4.13) shows the DC transfer characteristic o f the operational amplifier attained by experiment and computer prediction. It shows a seriously distorted DC transfer curve when the output load resistance, Rl, is I kQ. The load results in power dissipation in the output transistors; Hence, increasing their temperature. The heat dissipated at the output transistors propagates inside the chip toward the input transistors; while the input stage o f an Op-Amp is very temperature sensitive. This thermal feedback results in a distorted transfer curve [29,30].

38

y

R,«Ope«

.«pw lm ento

3------------------- A*tkû
.oomptftir prfdicftdiRO thtrmol Ri >UÛ Iftttfocfton

741 -5 -15

100

ISO

-

10-

Figure 4.13: DC transfer curve o f Op-Amp 741129].

Even though thermal feedback can be reduced by applying special rules to the layout o f analog or mixed signal circuits, the need to apply electrothermal analysis on VLSI circuits is still vital. As discussed above electrical and thermal characteristics o f an 1C are strongly subjected to each other; therefore, to '^obtain an accurate estimation o f power dissipation and temperature distribution in a chip, electrical and thermal analyses need to be performed simultaneously.

4.4 Summary

In this chapter we introduced SPICE electrical simulator, which is the applied electrical simulator in the developed electrothermal simulator. The deficiency o f SPICE in regards to device temperature variations was discussed. Since the main focus o f this research is on BJTs, BJT SPICE model and its parameters variations with temperature were presented. To confirm the parameters variations with temperature some experimental results were also illustrated. The effects o f increase o f power dissipation on VLSI circuits and its consequence on the circuit temperature were discussed.

39

PROPERTY OF RYERSON UNIVERSITY LIBRARY

Chapter 5

In this chapter two numerical methods that are implemented to design an electrothermal simulator are introduced. The first one is called the direct method. The second method was called the relaxation method. For each o f these methods the available electrothermal simulators in literatures are described. However, the attention is on the simulators with BJT circuit's application.

5. Electrothermal Analysis
As it has been discussed earlier in two previous chapters (chapter 2 and chapter 4), the performance and characteristics o f semiconductor components in electronic circuits can be considerably affected by temperature variations. Therefore, accurate circuit simulation requires that the dynamic temperature effects induced by the heat dissipated in the circuit be taken into account. Modeling electrothermal interactions in integrated circuits has been addressed in a variety o f ways [31]. Based on the literature and available researches, existing methods can be broadly classified into two major methods: direct method and relaxation method. In this chapter different techniques that have been designed to perform an electrothermal analysis are examined.

5.1 Direct Method
One way o f incorporating thermal effects in a circuit simulator is to make the thermal model look like an electrical circuit. The thermal and electrical problems are then solved simultaneously as if they were one large electrical problem. This strategy is based on

40

transforming the thermal problem into an equivalent electrical problem (see also section 3.6). The iterative solution takes place simultaneously for the electrical and thermal sub-networks. This electrical modeling o f thermal characteristics is possible thanks to the similarities that exist between some fundamental electrical and thermal behaviors o f solids. Electrical potential difference between two points o f a conductor causes electrical charge movements inside it and temperature gradient between two points o f a conductor causes heat flows through it. This means different locations within a component and their corresponding temperatures can be modeled by nodes o f an electrical network and their corresponding voltages. Amount o f heat transferred between two locations and its rate on the other hand can be represented by electric charge and its rate which is electrical current. Assuming that: n , : A physical location inside a component, o f node / o f electrical model. Tf. Temperature o f Q ,. V i'. Voltage o f node /. ^Q,h · Heat flow from one location to another location. : Electrical charge moving from one node to another node. q\ Heat transfer rate from one location to another location. 7: Charge transfer rate or electrical current from one node to another node. The relation between voltage difference and current o f an electric conductor is called Ohm' s law. The relation between temperature gradient and heat transfer rate is called Fourier's law (see also section 2.1.1). Ohm' s law'. I = A V jR , where R is electrical resistance. Fourier's law: q = AT/R,,,, where R,^ is thermal resistance. Electrical resistance and thermal resistance are dependent to both physical characteristics and physical dimensions o f a material. Electrical resistance: R - --x -- <j A Thermal resistance: R,^ = --x -- k A

41

Where a

represents electrical conductivity o f material and k represents thermal

conductivity o f material. A is the cross section and L is the length o f the component. Thermal capacitance is a characteristic o f material. It shows how much heat must be transferred inside a unit size o f that material such that its temperature increases one degree o f centigrade and can be modeled by an electrical capacitance. C,;, : represents thermal capacitance, and C represents electrical capacitance These dualities allow us to model thermal characteristic o f component by an electrical network consisting o f resistors, capacitors and current sources. Node voltages o f this model then will be calculated and represent the temperature o f different locations within the component. To be able to perform an accurate simulation many details need to be considered, which make the thermal network very complex, such as die, header and packaging o f the IC and their boundary conditions, 3D property o f temperature and temperature-dependent thermal conductivity o f semiconductors. Each o f the above conditions increases the system complexity. Performing electrothermal analysis using direct method usually needs to change the equation systems o f devices or to define a new model for the particular device. Hence, a new model definition is required for each device type.

5.1.1 Literature Review on Direct Method

One o f the earliest researches implementing direct method was performed by Munro et. al [8 , 32] in 1991. Figure (5.1) shows the electrical analog circuit between the electrical nodes and the thermal nodes. B, C and E are the electrical nods whereas J and A are the thermal nodes.

Figure 5.1: The BJT CAD model showing the electrical analog circuit between nodes J and A which models thermal effects |32j.

42

Node J stands for Junction and node A stands for Ambient; therefore, Tja represents device junction to ambient temperature. BJT equation is the standard Gummel-Poon (GP) model. The electrical simulator WATAND [33, 34] has been used. Basically any simulator that provides access to the device equations and has the ability to analyze a user defined model is applicable [8 ]. In the simulation, the device temperature is estimated from the voltage drops between nodes J and A. Equation (5.1) is solved by the CAD simulator to obtain equivalent to the device junction to ambient temperature. dVJA dt (5.1) (5.2) where P d is device power dissipation and Re and Ce are device junction to ambient thermal resistance and capacitance, respectively. In [32] Munro et. al applied the method on a simple BJT amplifier as shown in Figure (5.2). Some measurements on a similar circuit have been also conducted.
+40 V
V ja ,

which is

Rc

T
Figure 5.2: The BJT circuit and Its electrical analog thermal circuit [32].

In this experiment, the collector current has been kept constant and equal to 10mA by changing Rb. Rc was varied to provide power dissipation ranges between 50mW and 340m W. Comparison between simulation results and experimental results indicated that the electricalonly simulation had error ranges from -2 2 % to +28% while the electrothermal simulation results had the maximum error o f 2.3%.

43

In [8 ] Munro et. al applied the same method on a current mirror circuit. Figure (5.3) illustrates the implemented electrothermal circuit. Ji and A; are the thermal nodes o f Qi whereas; J2 and A %are the thermal nodes o f Q2 .

+AO V

[-·J a
&

Figure 5.3: The current m irror circuit and the thermal nodes o f the BJTs |8 |.

Experimental measurements have also been performed on the same circuit. In the experiment efforts, R] was varied in a range between current value between 19.6mA to 2mA. Comparison between the simulation results and the experimental results confirmed the advantages o f performing an electrothermal analysis. The results indicated that the standard GP model had a maximum error o f 84% while the error o f the new method was 6.1%. The results o f electrothermal analysis showed that the load current did not appropriately follow the reference current. This method has also been applied to analyze a current mirror IC where the devices were thermally coupled and had the same junction temperature, nodes Jj and J2 were connected together to model thermal coupling. The results were similar to the CAD standard, where devices were assumed to have the same junction temperature. A similar work was performed by Shelar et. al [9] in 2004. They also used the analogy o f electrical and thermal equations, using HSpice as the electrical simulator. This technique models the thermal behavior o f a chip by assigning the heat conduction equations in terms o f electrical equations. Since heat conduction problems can be solved numerically by using finite difference approach, the heat diffusion equation (see section 3.3) was transformed to equation (5.3). In finite difference approach the partial derivative at a given point is to 20KQ and provided a reference

44

approximated by a derivative taken over a finite interval across that point as discussed in section 3.3.
'pn rpn
^ I.J^ ^

rpn

rpn
ij,k

+hy.).(h^, +A J .

 ' M .J.k

2h.
fj^n____ _rpn
^ ij+ l,k ^ ij,k

2h.
rpn
^ ^IJ-l.k

rpn
^ ij.k

k(h^^ +h^-).(h^^ +h^.).

(5.3)
rpn __ r p n rpn rpn

^ ij,k + l

^ i,j.k ^  ' iJ.k-1

i.j,k

2h.

where

and h^. are halves o f the distances from grid (i, j, k) to grids

(7+7, y, k), (7-7, y, k), ( i,j+ l, k), (i,j-l, k), (i,j, k+1) and (i,J, k-1), respectively [35]. This is also shown in Figure (5.4).
il» t n : M eatsoumrs

Î -4'-h-' 7: >r * '^ ^

\

/
,fiixi

^'"4-- -- -- -- y -------1

W

'

iu* Y
.................

\

7

; --Î --

4 m Jw / / /: ! LJ-- j l -- y-- '1 'T'[

(a)

(b)

Figure 5.4: (a) Top view o f the solid containing heat sources, and (b) 3-D view of grid point (i, j, k) |35|.

45

Figure (5.5) shows the implemented RC network when self heating, thermal coupling and global heating were considered. As shown in the figure, device power dissipation is modeled by a current source, self heating and global heating are modeled by sets o f parallel resistors and capacitors. The entire RC network is eventually evaluated by a thermal resistor, Rth, in parallel with a thermal capacitor, C,*.
Thermal Coupling

J^Rc4.............................
^ Thermal Node of Device

Power Dissipation

Rself

Cself.

S e lf Heating

Rsub

Csub

GlobalH eating

Cth

RP

Figure 5.5: Thermal model o f Shelar et. al [21].

Thermal components were defined by equations (5.4) and (5.5).

C = (h^.+ h^. ). (
G ---

+ h^. ). ( A, + A. )pCp

(5.4)

+ h. ) .( h ,^ +h^.) 2h. (5.5)

In case of a BJT, temperature dependent BJT parameters are modeled as controlled sources. Considering BJT is working in the active region. Figure (5.6) shows forward diffusion current, Vp, non-ideal base emitter current, Inb, and forward current gain. Bp, as a combined controlled source.

46

Thermal node Power dissipation ·in

Nh

Calculation o f V

ilT

Figure 5.6: BJT thermal model o f Shelar et. Al simulator [21 j.

Shelar et.al [21] applied their method on a current mirror similar to Munro et. al [8]. The results were not improved compare to Munro et.al [8]; Nonetheless, the advantage is that, in Shelar et.al method there is no need to access device model equations to include thermal effects in electrical analysis. Another advantage is that in Munro et.al's work [8] the temperature dependent BJT parameters have to be calculated first, to obtain the operating point. This method adjusted the problem by modeling temperature dependent parameters as a combined controlled source. Therefore, the simulator performance is less time consuming for smaller circuits. Shelar et.al [21] employed the electrothermal simulator on HFA3046B, which is an ultra high frequency transistor array integrated circuit. It included five dielectrically isolated NPN BJTs as shown in Figure (5.7).

Vel Y
1^1 l«^ l Ml

a H a
..................

I" » ! I«> l

Figure 5.7: Pin diagram o f HFA3046B |21|.

47

An electrothermal simulation was performed on a current mirror circuit employing Qi and Q2 . The results expressed very good agreements among the eleetrical simulation, the electrothermal simulation and the measurements, since the transistors were thermally coupled in the IC and had identical temperatures. Another electrothermal analysis was carried out on a similar current mirror utilizing Qi and Q4. This time, the outcomes o f the electrical simulator did not coordinate with the measurements and the electrothermal simulator. This is due to the fact that the transistors were thermally isolated but HSpice considered similar junction temperatures for them. Figure (5.8) shows the circuit implemented in the electrothermal simulation. Rthi and Rth2 represent devices self heating and Ren characterizes thermal coupling.
............................................. R c 1 2 .......................................

-v w
+1Qv

Î
1 R2

R1

Rth1

Q1 

Q2

Rth2

[

1

: : :

Figure 5.8: Circuit diagram o f the current mirror using HFA3046B [21].

The results depicted a maximum error o f 23% in HSpice while the designed simulator had an error o f 7%. Although, this method is an improvement over Munro et.al [8] model in ease o f device equation systems, there are still some imperfections. The method needs to define a new set o f equations for every transistor type such as MOSFETs, BJTs and BiCMOS [21]. The system complexity increases when considering three dimensional heat transfer equation, different working regions o f the device and thermal structure o f die, header and packaging. This technique is unable to model temperature dependent thermal conductivity o f semiconductors.

48

The direct method is accurate enough for a rough estimation o f the circuit performance compared to an electrical-only simulator. However, it has some shortcomings. A newly defined set o f equations has to be determined for each device in the circuit so that the electrothermal simulator can specify the device junction temperature. The method is exact only for simple circuits. In case o f a composite circuit, numbers o f thermal nodes increase and the simulator has to consider self heating for each device and thermal coupling among all devices. The method becomes very complex if performs 3D analysis o f temperature, which significantly decreases its precision. It is also incapable o f considering temperature dependency o f thermal conductivity o f materials. The direct method may not be able to handle nonlinearities o f the system.

5.2 Relaxation Method

This method divides the original problem into electrical and thermal systems. They are solved separately and the solutions were obtained by applying successive relaxation between the two systems. Contrary to direct method, in relaxation method two powerful electrical and thermal simulators are coupled together. Since each simulator is designed to analyze the particular electrical or thermal problem, the electrical analysis is perfectly executed by the electrical simulator and the thermal analysis is performed accurately by the thermal simulator. This method offers the advantage o f using an accurate 3D thermal simulator to handle non-linear heat equation, governing on the electrical systems. Almost all the commercial thermal simulators are able to perform 3D analysis and to consider material nonlinearities. The only challenges in relaxation method is that how to make the simulators to communicate to each other in a synchronized manner and how to determine a consistence constraint for convergence test.

49

5.2.1 Literature Review on Relaxation Method

An electrothermal simulator based on relaxation method was designed by Lee et. al [36] in 1993. A new thermal simulator was designed particularly for this simulator to perform thermal analysis. The thermal simulator performed based on the thermal network approach. The RC elements were extracted from the circuit layout. Figure (5.9) shows the implemented thermal model.

i:

Sx
Tamb

Figure 5.9: Lumped RC thermal model for the die/header structure [36J.

For dc and steady state simulation the Choleski conjugate gradient method (ICCG) was applied. ICCG is a combination o f incomplete Choleski decomposition and conjugate gradient optimization [36]. This method was implemented to solve three dimensional heat transfer equation faster than directly solving the equation. For the transient analysis, first the transfer function o f the RC thermal model was extracted then asymptotic waveform evaluation method (AWE) was applied. AWE determines circuit behavior by its dominant poles and residues obtained from transfer function which is expanded as a Taylor series [36]. Considering H(s) in equation (5.8) as the s-domain transfer function, equation (5.10) shows expanded H(s) as a Taylor series about s = 0. /«, represents the /'* moment o f a circuit. H(s) = C (sl-A )-'B (5.8) (5.9)

50

H ( s ) = 'Y jn iiS '

(5.10)

/=0 Where.4 is a « x « matrix, B is an n-dimensional vector and I is the identity matrix [36]. The designed thermal simulator was coupled to SPICES as the electrical simulator to compose an electrothermal simulator. The thermal simulator programming format was readable for SPICE so the electrical simulator could communicate to the thermal simulator. This technique was able to consider temperature dependency o f semiconductor thermal conductivity. The reprehensive results o f the electrothermal simulator for a current mirror circuit are shown in Figure (5.10). In this example two types o f BJT structures were considered, the conventional structure and SOI (Silicon on Insulator) structure. As expected, the electrical simulator results indicated a good mirroring between the reference current and the output current however, the electrothermal simulation results contravene it. us
W / Thtrmal SOI unktttre 1.20

3.5

4.Ü

Figure 5.10: DC gain versus output voltage o f a current mirror using SOI and trench isolated BJT devices, with and without thermal effects |36J.

Clearly, this technique is significantly improved compared to the models applying direct method. Since thermal equation is solved by a distinct thermal simulator, there is no need to define new device equations. The extracted thermal network is more comprehensive. It is able to consider thermal conductivity temperature dependency o f materials. It is also capable to perform 3D thermal simulation.

51

There are a few drawbacks in this technique. Multilayer structures complicate consideration o f temperature-dependent thermal conductivity. The system was not able to present a 3D temperature profile o f the applied circuit. There are many commercially available thermal simulators that could perform more accurately than the designed one. There is no data available to estimate the accuracy o f the model in comparison to experimental results. A new electrothermal simulator, called ETS, was designed by Petegem et. al in 1994 [37]. The electrical circuit simulator was ANASIM and was based on SPICE model. The thermal simulator was SYSTUS and was based on finite element approach. Figure (5.11) shows a one layer thermal model implemented in SYSTUS when heat conduction was the only heat transfer method.

aaWW ctm y tciieo i

Cop euifiu»

«idew oU t
l i e d t B o o rc e

/
/

/

/

/

tliermal condiictivitT

t

isoihenmd bottom

Figure 5.11: One layer model for a typical heat conduction problem [37J.

Both transient and steady state thermal analysis can be performed in SYSTUS. In a transient analysis, for each critical time interval, mean temperature o f each component was calculated by thermal simulator and the electrical model was updated according to that. The new voltage and current were calculated by the electrical simulator then by translating voltage and current into dissipation, thermal transient simulation was performed again in SYSTUS. If only small variations o f temperature were attained at this stage the next time interval was selected, otherwise the loop continued until the convergence was achieved. The steady state analysis was the same as the transient, except that no time interval was required.

52

ETS is able to consider system nonlinearities since it is implementing two powerful simulators. Nonetheless, there are some deficiencies in the simulator. ANASIM, according to the literature, is not able to specify an exclusive temperature for each device in the circuit; therefore, a model has to be defined for each semiconductor device and all temperature dependent parameters have to be modeled according to their specified temperature. SYSTUS, on the other hand, is a time consuming simulator when more layer is added to the thermal model. It is also not capable o f considering more than one dissipating element at the same time; therefore, superposition needs to be applied. No resources were found to explain how ANASIM and SYSTUS communicated in Petegem et. al work. One o f the most improved electrothermal simulators was designed by Wunsche et. al [38] in 1997. For the electrical simulator they used SABER, which is a multiphysics domain that supports a hardware description language, and ANSYS was used as a thermal simulator, which is a FEM based program. The electrical circuit model has to be implemented by MAST, which is a behavioral description language. To transfer data between the simulators they used parallel virtual machine, PVM. A program was written in C for SABER and a program was written in FORTRAN for ANSYS to perform the data transfer process. In case o f transient analysis, to control the time interval a control routine was written in MAST. For the convergence test the calculated and extrapolated power from SABER was compared in a program also written in MAST. Since MAST was unable to repeat a calculated time step in SABER, a time step control algorithm was developed in MAST. Selected time step depended on the convergence behavior. If the convergence is smaller than a predefined error A, time step increased otherwise it decreased. A transient electrothermal analysis applied on a current mirror circuit. Figure (5.12), similar to the work o f Munro et. al [8], to estimate the simulator performance. In SABER the BJT model was extended to an electrothermal model. The analog behavioral language MAST was used to implement the model.

53

Figure 5.12: Current m irror circuit implemented in SABER [38].

The 3D thermal FEM model was composed o f 608 finite elements using a simplified model o f the real system. It consisted die, die attach and header as shown in Figure (5.13).

Figure 5.13: Thermal model o f the device [38].

The transient results are illustrated in Figure (5.14). Figure (5.14) shows that the reference current,
1r 2 ,

reached its finite value immediately while the output current,

1 r i,

had delay until

it reached a steady state value; nonetheless, it did not mirror the reference current.

54

$

0,0

2 5 Q ^

500U

R O W

C M » 1

00012$

OOOÎ5

0.00*75

0.002

0.00225

0XW25

Figure 5.14: Simulation results o f W unsche et. al simulator [38].

According to the references o f this method, it is more accurate than the previously explained techniques. Nonetheless, it still has some weaknesses. The simulator coupling is very complicated. The user needs to be familiar with three major programming languages to be able to couple the two simulators. The error control for each time step is not always sufficient. The simulation is very time consuming; for instance, it took four hours to simulate the current mirror circuit.

5.3 Summary

So far different methodologies (Direct method and Relaxation method) to perform electrothermal analysis on a VLSI system were introduced. Then, we went through the advantages and disadvantages o f each method by presenting different electrothermal simulators that were available in literatures. Relaxation method was implemented in the developed electrothermal simulators due to its advantages compare to Direct method, especially when system nonlinearities increase and when different parts o f a chip such as its packaging and cooling system are considered. In addition, detailed three-dimensional thermal analysis o f the internal structure o f the device and the inclusion o f circuit metal interconnects o f devices can be performed.

55

Chapter 6

In this chapter we will elaborate our method to design a new electrothermal simulator. This method is based on the relaxation approach. A circuit simulator and a finite element thermal simulator are coupled through an application program interface that transfers information between two simulators. The methodology o f coupling simulators and implemented technique and algorithm will be reviewed.

6. Implemented Methodology

An electrothermal simulator should have certain features in order to be widely useful as a design tool. These specifications include, capability o f performing DC, AC and transient analysis, easily obtaining the required parameters for thermal simulation, accurately modeling o f temperature dependency o f electrical circuit, capability o f simulating different aspects o f electronic circuit behavior and capability o f simulating different parts o f a chip structure such as die-attach and flip chip attach bonding [29]. The proposed method contains all the above features.

6.1 Methodology of Simulators Coupling
An electrothermal simulator based on the relaxation method has been developed. As mentioned in chapter 5.2 the relaxation method requires an electrical simulator to perform circuit analysis and a thermal simulator to perform thermal analysis. These simulators should

56

have some typical properties. The simulators must be able to receive and to send calculated values (i.e. power dissipation and temperature distribution) to another simulator. In addition, a time incremental approach is required during the simulation efforts. The circuit simulator PSpice [6] and the finite element analysis tool COMSOL [7] possess these properties. PSpice, which is a very powerful circuit simulator for PCs, was selected as the electrical simulator. It is based on SPICE modeling o f the device. COMSOL was selected as the thermal simulator. This simulator is based on finite element method. It is able to perform 3D transient and steady state thermal analyses and post process the output data, such as temperature distribution, in a 3D domain. MATLAB was chosen as the environment to synchronize the transfer o f information between these two simulators.

6.1.1 Implemented Algorithm

The flow chart o f the developed algorithm is shown in Figure (6.1). The procedure begins by computing power dissipation in PSpice at the given time step. The initial device junction temperature, Tj, is defined according to the ambient temperature. The power dissipation is imported to COMSOL as the heat source o f the thermal model, through MATLAB program. The three-dimensional finite element model generated by COMSOL is used to obtain temperature distribution in the thermal model according to the defined heat source. Time dependent thermal conduction equation (see section 2.1) is solved in COMSOL at a given time step to extract the junction temperature, and temperature profile. The new junction temperature is imported to PSpice and the power dissipation is updated, by taking the new temperature profile into account. PSpice is run from MATLAB and new power dissipation is computed [39]. Every time that COMSOL computes new junction temperature according to the new heat source, a convergence test is executed. The selected convergence parameter depends on the simulation. It can be device temperature, power, current etc. The parameter should be the one that the user has a good knowledge o f its variation or the one that is more critical in the simulation. The convergence parameter is compared to the previously calculated one.

57

New Time Step

Computing power dissipation in SPICE at the specified temperature

Reading the calculated power dissipation from SPICE and writing it into COMSOL

Computing temperature in COMSOL at the specified power dissipation

Reading the calculated temperature from COMSOL

Convergence test

No

|Ar| > g

Writing the calculated temperature into SPICE

Time = Maximum time No

End

Figure 6.1: Flow chart of the electrothermal simulator.

58

In figure (6.1) the convergence factor is considered device temperature. The loop should be continued until the difference is smaller than the specified error, e. If the convergence is achieved, the next time step will begin. Based on the analysis type (DC, AC, and Transient) a default value o f e can be extracted for a given circuit, e should be small enough so that increase o f temperature (or another selected parameter) does not affect the electrical behavior o f the circuit at the specified time step. The termination o f the iteration in the algorithm is determined by convergence criterion. The convergence behavior o f the simulator is affected by the choice o f proper initial conditions for the first time interval. Each time interval applies the results o f the previous time step as its initial condition. Selecting an appropriate time step depends on the convergence behavior o f the system. If variations o f the convergence factor are large, time step should be small so the changes can be modeled properly. In addition, if the parameter variations are small, time step may be selected large enough to accurately model the changes and to reduce the simulation time. In case o f a steady state simulation no time step is required. The procedure o f the simulator has been elaborated in more details in the following sections.

6.1.2 Coupling COMSOL and MATLAB

COMSOL Multiphysics is an interactive environment for modeling scientific and engineering applications based on partial differential equations [7]. It is fully compatible with MATLAB. By developing an FE model in COMSOL using COMSOL Scripts, user can easily switch between MATLAB commands and COMSOL codes. In fact COMSOL codes are similar to MATLAB codes; however, in case o f FEM it is more user friendly than MATLAB. COMSOL codes can be compiled in MATLAB. For this research heat transfer equation was modeled by COMSOL scripts. Heat sources, start time, stop time and time step were considered as variables; therefore, they were simply modified during the electrothermal simulation according to the newly calculated data.

59

6.1.3 Coupling PSpice and MATLAB

To consider device junction temperature (Tj) in PSpice, the device model was modified to include Tj. The general format for modeling a bipolar transistor in PSpice is [40]. QNAME NC NB NE MODEL_NAME MODEL MODEL_NAME TRANSISTORJYPE MODEL_PARAMETERS NC, NB, NE are the node numbers for the collector, base and emitter, respectively. MODEL_NAME is a name for the particular model. TRANSISTORJYPE can be either NPN or PNP. MODEL PARAMETERS are the parameters that model the BJT characteristics. Device junction temperature is included in these parameters [40]. If more than one device is integrated in the simulation, a junction temperature should be specified for each device. By analyzing a circuit in PSpice, the simulator creates several data files such as. Circuit files, NET files. Output files, CSDF files etc. Each o f these files contains specific

information regarding the circuit and its simulation results. Circuit files in PSpice control all the specifications o f the circuit under simulation. Device models, voltage and current sources are included in them. Types o f analysis such as, transient, DC and AC are also integrated in the Circuit files. For instance, .TRAN control statement is used in a Circuit file to perform transient analysis on a circuit. The general format o f this statement is .TRAN TSTEP TSTOP TSTEP is the printing or plotting increment. TSTOP is the final time o f the transient analysis. Similar to the transient analysis, the control statement for a DC analysis is .DC SOURCEJJAME STARTJALUE STO PJA LU E INCREMENT_VALUE SOURCE JIAM E is the name o f an independent voltage or current source. STARTJALUE, STOPJ A L U E and INCREMENTJALUE represent the starting, ending and increment values o f the source, respectively. NET files contain all the elements o f the circuit with their values and circuit wiring.

60

Output files include a summary o f all the data files as well as results o f a steady state simulation. In case o f an error in analyses, it is specified in this file. CSDF files contain all the simulation results by default; such as, all the currents, voltages, power dissipations and noise. In case o f a transient analysis CSDF files include the simulation results o f each time step. To be able to write a new Tj into the device model and to introduce a new time step to PSpice in case o f a transient analysis, a subroutine was developed in MATLAB. This program, called "Writing", writes a new Circuit file and inserts the new values o f the time step and the junction temperature. Therefore, PSpice performs the electrical analysis according to the modified model and the new time step. In case o f steady state simulation, no time step is required. To read the calculated power dissipation, P d , a program was developed in MATLAB. This function, called "Reading", reads the required parameter values from PSpice CSDF file. However, in case o f a steady state analysis, the power dissipation can be obtained from the Output file, too. Reading function reads the required data from the CSDF or the Output file. Writing and Reading functions are the main interfaces between PSpice and COMSOL.

6.2 Summary

The methodology and implementation o f the developed electrothermal simulator has been reviewed. Applying relaxation method, commercially available thermal simulation tool, COMSOL finite element software, and SPICE electrical simulator were coupled to each other using an interface program developed in MATLAB. All the detailed regarding the performance o f each simulator were elaborated in this chapter, and the coupling procedure o f the two simulators through MATLAB was also explained in details.

61

Chapter 7

7. Electrothermal Investigation of Si BJT Circuits
To examine the performance o f the electrothermal simulator we performed both DC and transient analysis on different Si BJT circuits. Electrothermal analysis was performed on an active BJT implementing a simple thermal model. The results were satisfactory and veiy close to what was obtained in theory. A DC analysis was performed on a Si BJT amplifier and the results o f the circuit parameters were compared to the available experimental data. The results were in good agreement to the experimental data. Transient analysis was also performed on a Si BJT current mirror to estimate the ability o f the simulator in the presence o f thermal coupling. The obtained results were very encouraging. The following sections are the elaborations o f these analyses.

7.1 Active BJT
A bipolar junction transistor has four distinct regions o f operations, forward active, reverse active, saturation and cutoff. Figure (7.1) shows BJT regions o f operation.

62

saturation

CUtofiP

forward active
CE

lÿ

'1

reverse active
saturation

cutoff

Figure 7.1: BJT regions o f operation |3 |.

BJT is called active when it is biased in its forward active region o f operation. BJT operates in its forward active region when the base-emitter junction is forward biased and the base-collector Junction is reversed biased. As expanded in chapter 4, BJT parameters are temperature dependent. We showed on chapter 4 how BJT parameters and its operating point change by temperature. In this section we would like to illustrate some o f these variations implementing our electrothermal simulator.

7.1.1 Electrical Model

Figure (7.2) represents the electrical circuit o f active 2N3904 NPN BJT. The device junction temperature was added to the transistor model.

63

B + 0,85VQ 2N 3904

10V

X7
Figure 7.2: Circuit o f the active BJT.

The BJT was biased in a moderate operating point. The collector-emitter voltage, Vce, was lOV and the collector current, Ic , was 182.37mA. Figure (7.3) shows the graph o f Ic versus V ce at ambient temperature (27°C). When input voltage o f base-emitter, Vbe, was 0.85 VDC, the power dissipation was computed 1.83 Watts at the ambient temperature.
0.2 T

0.18 0.16 0.14 0.12

O perating Point

U 01 - 0.08 0.06 0.04 0.02 -

0
5 6
VCE (V) Figure 7 3 : BJT DC characteristics.

7

10

11

12

64

7.1.2 Thermal M odel

The thermal model was consisted o f S x Sdevices with the size of400/jmx. SOOjumx JOjum, located on a chip area ofJcmx ]cm x0.035cm . The substrate was made o f Silicon. Only one device was considered active in the simulation. The three-dimensional finite element model shown in Figure (7.4) was developed to simulate the thermal behavior o f the system. The chip and the active device were modeled using approximately 11000 solid elements as shown in Figure (7.4). Only active device and the substrate are considered in the thermal model at this stage. Other parts such as die-attach and header were neglected. However, their effects are taken into account by a thermal resistance at the backside o f the thermal model.

Top Surface

X

T

Tamb

h

qo=const

·

Side
w a lls

Figure 7.4: Finite element model and boundary condiction.

As shown in Figure (7.4) the active device is considered as the only heat source o f the thermal model.

65

The following boundary conditions were applied: The top surface and the sidewalls were considered adiabatic. Therefore, Neumann boundary condition is assigned. -k(VT) = 0 (7.1)

A thermal resistance was considered at the backside o f the substrate to model the effects o f die-attach, header, and other parts o f the packaging and the surrounding environment; Therefore, the Robins boundary condition was defined at the backside. -k(V T) = q where (7.3) and ^ ih ,b - ^ih,b ^ A Ai, is the backside area. (7.4) (7.2)

was obtained by measurements in [2] equal to 16 K/W.

Si thermal characteristics are listed in Table (7.1).

Table 7.1: Silicon thermal charactristlcs.

p (kg/m^) Cp(J/kg°K) ^o(W/m°K)

2330 703 163

yt(W/m°K)

k o x l 6 3 A -----

( T

]

As shown in the Table (7.1), a temperature dependent thermal conductivity was considered for Si.

66

7.1.3 Simulation Results

Before applying the electrothermal simulator, a steady state thermal simulation was performed on the thermal model in COMSOL to approximate the junction temperature and temperature distribution. Figure (7.5) shows the temperature contour obtained from the FEM simulation while power dissipation was considered a constant value equal to 1.83W.
Sibdomain: Temperature Subdomain mai&en Temperature Mai 1361

X le 3

Mn: 323.887

Figure 7.5:3D temperature distribution at a power dissipation o f 1.83W.

As shown in Figure (7.5), the maximum temperature was 88.4°C. It can be observed that the maximum temperature occurred at the device junction. During coupled simulation PSpice sent the power dissipation o f the transistor and received the temperature Tj o f the device from COMSOL. A constant time step equal to 0.1s was considered. Since simulation time in COMSOL took approximately 4s for the device to reach its steady state junction temperature, 0.1s time step was a reasonable value to demonstrate the variations. In all the time steps, the stop time was equal to the start time plus the time step and the start time was equal to the stop time o f the previous time step. The initial start time

67

was set at zero second. The initial temperature o f the system was the same as the ambient temperature, 27°C. The active BJT junction temperature was considered as the convergence parameter. PSpice showed that only temperature increase greater than 0.1° affects the electrical simulation results; therefore, s was selected 0.01 for a good convergence. The entire simulation took approximately 8 minutes on a Pentium 4 CPU, 2.80 GHz, 512 MB o f RAM . Since the thermal model was very simple in this experiment, only one iteration was required in each time step to achieve the convergence criterion. The junction temperature and power dissipation versus numbers o f iterations are depicted in Figures (7.6) and Figure (7.7), respectively.
120 1
1 00
o
-

80 GO -

2 2 (D Q. E

40 20
-

1

2

3

4

5

6

7

8

9

10

11

12

13

No. of Iterations Figure 7.6: Device temperature variations versus numbers o f iterations.

3.5 I
a.

2.5 2 0.5 1 2 3 4 5 6 7 8 9 10 11 12 13

No. of Iterations Figure 7.7: Device power variations versus numbers o f iterations.

68

Figure (7.6) shows that the device junction temperature increased significantly in the first five iterations and it continued until it converged at the 13"^ iteration to the value o f 107.2°C. Since each time step was 0.1s, it took 1.3s for convergence accomplishment. This figure also shows that the device Junction temperature is greater than the value attained in the thermal analysis; this is due to the fact that the value o f the heat source increased for all iterations which results in increase o f the junction temperature. Figure (7.7) shows that the device power dissipation started at 1.83W and increased until it converged to the value o f 4.5 W at 13* iteration. It shows that the device power dissipation expanded more than 2.5 W. These results confirm temperature effects on the circuit performance. The power dissipation-temperature curve is also shown in Figure (7.8). It indicates that the converged temperature is 107.2°C. Power dissipation increased from 1.83W to 4.5W at Tj, which verifies the importance o f an electrothermal simulation.

4.5 3.5

Q.

I

2.5

0.5 27 57 74 84.7 91.8 96.6 100 102 104 105 106 107
T em perature (C)

Figure 7.8: Device power variations versus its temperature.

To estimate the variations in the device DC characteristics, the collector current versus collector-emitter voltage curve was plotted while the temperature rose. Figure (7.9) indicates these variations for four given temperature at 27°C, 74°C, 96.5°C and 107.2 °C.

69

0.45 -

0.35 <
ü

-* -T = 2 7 C
T=74C

T=96.5C -* -T = 1 0 7 .2 C 0.05 4»

* î>
V c e (V )

Figure 7.9: le versus V ce while device reaches its junction temperature.

The operating point was initially located at the Ic=0.183A and Vce=10V at the ambient temperature (see Figure (7.3)). Considering a constant Vce, the value o f Ic varies by increasing the temperature, for example at Tj = 74 °C, Ic is 0.334A, at Tj = 96.5 °C, Ic is 0.411A and at Tj= 107.2 °C, Ic is 0.450A. The results show changes in the device operating point. Clearly, operating points o f transistors are the fundamentals o f any design. Variations o f operating points have severe consequences on the circuit behavior. Note that the results may not be exactly analogous to reality. The errors may be due to the fact that the layout and dimensions o f 2N3904 NPN BJT in thermal modeling had some simplification and assumption associated with its structure. This affects the dimensions o f the thermal model and the backside thermal resistance; therefore, affects the values o f power dissipation, collector current and number o f iterations.

7.2 BJT Amplifier

In this section the electrothermal behavior o f a BJT amplifier circuit is investigated. A thermal gradient on chip is generated due to the power dissipation o f the BJT. The simulation results were compared to the experimental results in [32], to verify the performance o f the electrothermal simulator and the accuracy o f the thermal model.

70

7.2.1 Electrical Model

A DC analysis was performed on a BJT amplifier shown in Figure (7.10). 2N2222 Si BJT from the PSpice library was implemented during the simulation efforts. However, some parameters were changed to provide a good model for the BJT used in the experiment. GP saturation current was set to 0.03PA, the composite forward and inverse low saturation currents were set to OA. Base, emitter and collector ohmic resistance were set to 15D, O.IQ and in , respectively [32]. The forward Beta value was selected 110 [32]. The following is the BJT model in PSpice.

.m o d e l QMODl

NPN(Is=30f Xti=3 Eg=l.ll Vaf=370 Bf=110 Ne=1.307

+ + +

Ise=14.34f lkf=0 Xtb=1.5 Br=6.092 Nc=2 lsc=0 lkr=0 Rc=l Cjc=7.306p Mjc=.3416 Vjc=.75 Fc=.5 Cje=22.01p Mje=.377 Vje=.75 Tr=46.91n Tf=411.1p Itf=.6 Vtf=1.7 Xtf=3 Rb=15 Re=0.1 T_ABS=Tj)

RC <> VI RB < :

1

Q1

40V Q2N2222

~ r
Figure 7.10: BJT am plifier circuit.

The collector current was set to 10 mA, by adjusting Rb. The power dissipation varied from 50mW to 340mW, by changing Rc [32].

71

7.2.2 Thermal Model

IC thermal modeling is very important in developing a useful electrothermal simulation program. The thermal model should be satisfactory enough to be able to accurately model the die and the packaging structure o f the IC without significantly increasing the simulation time [29]. Figure (7.11) illustrates the actual die and header structure o f an IC and its simplified physical model.

.BLOCK OF M E A B f» X llK T E B IA L ·

Figure 7.11: Die and header o f an 1C and its simplified physical model [29].

Considering only die, die-attach and header o f the IC structure create a reliable thermal model. The dimensions o f the die and die-attach are selected according to the device die datasheet [35]. Bearing in mind the thermal resistance o f the die and die-attach, the thickness o f the header is calculated in such a way to provide the remaining required junction to case thermal r e s i s t a n c e , P 9 , 36, 38,42]. To take into aceount the effect o f heat convection, a thermal resistance needs to be defined at the backside equal to the device case to ambient thermal resistance,
^JC ^Ih Die ^ih Die Attach ^ th Header

. (7.5) (7.6)

^CA ~ ^JA

^JC ~ ^th backside

The three-dimensional finite element model developed to study the thermal properties o f the transistor and its packaging is shown in Figure (7.12). The thermal model consists o f approximately 8200 solid elements. As mentioned above this model was divided into three major parts: die, die-attach and the header.

72

7^ Heat Source

Top Surface

Side-Walls

V'X-*

Figure 7.12: Finite element model o f BJT amplifier.

Table (7.2) shows material property, dimensions and calculated thermal resistance o f each layer.
Table 7.2: Material properties and dimensions o f layers o f the thermal model.

P Layer Material (kg/m^)

Cp (J/kg°K)

k (W/m°K)

L (mm)

A (mm^)

Rth (°K/W)

Die DieAttach Header

Silicon 97%A-

2330

703

rT
y 300} 31.46 17.3

)

0.3

0.25

7.36

15400 3% Si Kovar 8359

169 430

0.05 1.2

0.25 1

6.35 69.36

73

TO-18 is the predefined packaging o f 2N2222 in PSpice. According to the BJT datasheet [41], the junction to case thermal resistance, for TO-18 is 83K/W and the junction to

ambient thermal resistance, iîj,^, is 3OOK/W; Therefore, R(.y^ is 217K/W.

The only heat source in the thermal model is the active BJT with the dimensions o^lOO/jm'x.lOOfmt'x.lOfan. The followings are the specified boundary conditions: The top surface and the sidewalls were considered adiabatic, therefore:

-Jfc(V7') = 0

(7.7)

A thermal resistance was considered at the backside with a value equals to the case to ambient thermal resistance, the result is: (7.8)

-yfc(vr) = 9 = 5 2 2 à _ ^

7.2.3 Simulation Results

The temperature distribution across the thermal model, for a power dissipation o f 246m W is shown in Figure (7.13). As it is expected the hot spot is in the location o f the active device. The junction temperature was computed 112°C in COMSOL, while power dissipation was considered constant.

74

Subdomdn; Temperature [K*

Max: 385.163 |380

Xle-3

1370

360

350

340

330
1320
X le-3

Isio
300 Min: 300

Figure 7.13:3D temperature distribution across the amplifier thermal model.

Tables (7.3) to (7.6) show the results o f steady state electrothermal simulation. Table (7.3) indicates the electrical simulator had the error ranges from -27% to 58% when computing the power dissipation. The maximum error o f the electrothermal simulator was about -4%. During the measurement, Rb was changed in a way to provide a constant collector current o f 10mA. The maximum error o f -31.5% was calculated for PSpice simulation results o f the collector current as reported in Table (7.4). The results o f the electrothermal simulator are in good agreement with the experimental results, and the maximum error was about 5%. The base-emitter voltage and the forward current gain obtained from experimental and simulation results are compared in Tables (7.5) and (7.6). These results indicate very good agreements between the experimental results and the results obtained from the electrothermal simulator. The maximum error for the base-emitter voltage, V be , and the forward current gain, P f, in PSpice were 14.7% and -31.2% while it was only -8.1% and 5.3% in the electrothermal simulator, respectively [42,43,44].

75

Table 7 3 : Comparison results of the power dissipation.

Rb (kft) 620 599 581 550 522 492 474 450

Rc (kO) 0.6 0.8 1 1.5 2 2.5 3 3.5

PD(mW) Experimental 340 320 300 250 200 150 100 50

PD(mW) Error(%) PSpice 246 242 237 217 191 160 123 79 -27.6 -24.3 -21.0 -13.2 -4.5 6.6 23.0 58.0

PD(mW) Error(%) Electrothermal 340 324 308 254 200 144 96 51 0.0 1.2 2.6 1.6 0.0 -4.0 -4.0 2.0

Table 7.4: Comparison results o f the collector current.

Rb (k£2) 620 599 581 550 522 492 474 450

Rc (kft) 0.6 0.8 1 1.5 2 2.5 3 3.5

Ic(mA)

Ic(mA)

Ic(mA)

Error(%) Experimental 10.00 10.00 10.00 10.00 10.00 10.00 10.00 10.00 PSpice 6.85 7.07 7.26 7.60 7.93 8.32 8.54 8.88 -31.5 -29.3 -27.4 -24.0 -20.7 -16.8 -14.6 -11.2 Electrothermal 10.00 10.20 10.40 10.50 10.50 10.50 10.20 9.95

Error(%) 0.0 2.0 4.0 5.0 5.0 5.0 2.0 -0.5

76

Table 7.5: Comparison results of the Base-Emitter voltage.
R
b

Rc (kft)
0 .6 0 .8

V be (V )

V be (V )

V be (V )

Error(%) Experimental 0.589 0.593 0.599 0.614 0.629 0.646 0.660 0.677 PSpice 0.676 0.677 0.678 0.679 0.681 0.682 0.683 0.685 14.7 14.1 13.1 10.5
8 .2

Error(%) Electrothermal 0.542 0.546 0.550 0.564 0.582 0.601 0.623 0.646 -7.9 -7.9
-8 .1 -8 .1

(k ii) 620 599 581 550 522 492 474 450

1 1.5
2

-7.4 -6.9 -5.6 -4.5

2.5 3 3.5

5.5 3.4
1.1

Table 7.6: Comparison results o f the current gain.

Rb (kft) 620 599 581 550 522 492 474 450

Rc (kft) 0.6 0.8 1 1.5 2 2.5 3 3.5

Pf Experimental 157 152 147 140 132 125 120 114

Pf PSpice 108 108 107 106 105 104 103 102

Error(%) -31.2 -28.9 -27.2 -24.2 -20.4 -16.8 -14.1 -10.5

Pf Electrothermal 157 155 153 147 139 131 123 114

Error(%) 0.0 1.9 4.0 5.0 5.3 4.8 2.5 0.0

To evaluate the simulation performance we compared the results o f the experiments, the proposed electrothermal simulator and PSpice. Figures (7.14), (7.15) and (7.16) show this comparison for the power dissipation, current gain and the base emitter voltage. As expected PSpice has the maximum error. The results o f the proposed electrothermal simulator are much improved with regard to PSpice. The results o f the new method could be more

77

improved if the layout and die datasheet o f 2N2222 was available for the thermal model. Types o f materials used in 2N2222 transistors implemented in the experiment and the exact SPICE model o f the BJT were also not available. In case o f a precise set o f data, there is no doubt that the simulator is very exact since both PSpice and COMSOL are reliable and accurate.
400

-I

350 300 250 -

Î
S

200

-

experim ents N e w Method SP IC E 50

0.6

0.0

1

1 .5
RC (KO)

2

2.5

3

3 .5

Figure 7.14: Power dissipation variations o f the compared methods versus variations o f Rc.

100
80 60 40 20 e x pe rim e n t s N ew Mthod S P IC E

0.6

0.8

1

1.5
RC (K O )

2

2.5

3

3.5

Figure 7.15: Current gain variations o f the compared methods versus variations o f Rc.

78

0 .8 0 .7

0.6
0 .5 0 .4

s

0 .3 experim ents

0.2 0.1 0.0
620 599

N e w M th o d S P IC E

581

550

522

492

474

450

RB (K O)

Figure 7.16: Base-Emitter voltage variations o f the compared methods versus variations o f Rc.

There are many advantages in the new method. 3D thermal simulation is performed in this method. It is able to consider temperature dependency o f semiconductor thermal conductivity. Temperature distribution along the thermal model is presented.

7.3 BJT Current Mirror
To evaluate the transient performance o f the proposed simulator in the presence o f thermal coupling, a current mirror circuit was designed implementing NPN BJTs. This chapter will go through the results o f this simulation.

7.3.1 Electrical Model

A current mirror circuit was developed in PSpice according to the circuit applied in [38]. Two 2N2222 Si BJTs from the PSpice library were implemented. BJT parameters were changed similar to section 7.2.1; therefore, GP saturation current was set to 0.03PA, the composite forward and inverse low saturation current were set to OA. Base, Emitter and Collector ohmic resistance were set to 15fi, 0.1 £2 and 1£2, respectively [32]. The forward

79

Beta value was selected 110 [32]. Ri and R; were both equal to 2K£2. The electrical model o f the current mirror circuit is shown in Figure (7.17).

R 1

r
ÿ R2 % 02

Vce

at

Figure 7.17: Implemented current mirror.

Vcc was switched from OV to 40V at time t = 0 to be able to observe the step response o f the system. Numerical calculations showed that current flow in R] was 19.65mA and R2 immediately followed the reference current with equal value.

7.3.2 Thermal Model

As explained in section 7.2.2 thermal model was consisted o f die, die-attach and header. Two devices were located on a single die to model thermal coupling. Dimensions o f die and die attach should be calculated according to the 1C die datasheet. Dimensions o f the header were estimated according to the device junction to case thermal resistance. TO-18 [41] was considered as the packaging o f the device. Thermal model is included 13300 solid elements, as shown in Figure (7.18).

80

Active BJTs

Top Surfaces

Side-Walls

Figure 7.18: Finite element model o f the current mirror.

Two active devices located on the die with dimensions o f 60/jm x60/jm xl0fjm were the only heat sources in the model. Table (7.7) illustrates the dimensions and the material properties o f the thermal model.

Table 7.7: Material properties and dimensions o f layers o f the thermal model.

Layer Die DieAttach Header

Material Silicon 97%Au3% Si Kovar

P,

kg/m 2330 15400 8359

Cp J/kgK 703 169 430

k W/mK

L (mm) 0.75

A (mm^) 0.0625 0.0625 0.25

Rth

K/W 7.36 6.35 69.36

31.46 17.3

0.0125 0.3

The followings are the specified boundary conditions: The top surface and the sidewalls were considered adiabatic, therefore:

81

- k i^ T ) = 0

(7.9)

A thermal resistance was considered at the backside with a value equals to the case to

ambient thermal resistance,

. -yfc(vr) = ^ = & 2 i Z l ) (7.10)

7.3.3 Transient Simulation Specifications

There are two major factors that are very critical in a transient electrothermal simulation, the value o f each time step and the convergence criterion. Considering an electrical circuit, the time constant o f the electrical network is smaller than 1 ps while the thermal network time constant is greater than 100 ps [45]. For the transient analysis o f the current mirror, the time step was selected 100 ps. It was a reasonable value since in each time step a steady state temperature was achieved for the particular steady state power dissipation. Several numbers o f iterations may need to be performed in each time step to achieve the convergence. For the current mirror transient electrothermal analysis, only two iterations were required to be executed in each time step to attain convergence. Nonetheless, in cases that there was no variation in the results o f two consecutive iterations the time step was doubled. Increasing the time step indicated that variation o f temperature and its effect on the electrical network was not significant anymore; therefore, time had to be increased. Enlarging the time step also reduced the simulation time. As illustrated in Figure (6.1), a convergence test should be performed after each iteration. In this algorithm, the output current, 1 r2 , was selected as the convergence parameter, since the current values and its variations could be more accurately expected prior to the simulation than the other parameters. Therefore, the convergence criterion would be more reliable. The convergence condition was achieved when the newly calculated output current was smaller or equal to the current computed in the previous iteration or in case o f the first iteration, the previous time step.

82

The maximum time was reached when the temperature variations o f Q2 was smaller than le-4. This is due to the fact that the variations o f Tq2 smaller than 0.01 had very small effect on the electrical performance o f the circuit; therefore le-4 was selected to be more conservative. The initial start time was set to zero second. The start time o f each time step was equal to the stop time o f the previous time step. The stop time o f each time step was equal to the start time o f the particular time step plus the time step. The initial temperature o f the devices for the first time step was similar to the ambient temperature, 27°C. The initial temperatures o f the devices after the first time step was set analogous to the previous time step.

7.3.4 Simulation Results

To have a general idea o f the temperature distribution along the IC, a steady state thermal simulation was performed using COMSOL finite element solver. Device junction temperature was considered equal to the ambient; the power dissipation o f each device was computed by PSpice.
P qi

and Pq2 were computed 13.77mW and 27.2ImW, respectively.

The simulation results indicate that the maximum temperature is located at the junction o f the device with the most power dissipation. Maximum junction temperature obtained 47°C and 48°C for Q, and Q2 , correspondingly, as shown in Figure (7.19). The results o f the electrothermal simulator are illustrated in Table (7.8). The table indicates the variations o f currents, temperatures and power dissipations o f the devices in each time step. Eight time steps were totally executed to reach the circuit steady state.

83

Subdomain: Temper^ure [ ® C J

Max; 4 8 5 1 3

148

46

44

43

140

Figure 7.19; 3D tem perature distribution across the current m irror thermal model.

Table 7.8: Results o f the transient simulation o f the current mirror.

No. of
Time Steps Time(s)

0
0 0.01965 0.01930 27 27 0.01377 0.02721

7

2

3
0.0003 0.01965 0.01944 29.01 29.162 0.01371 0.02177

i
0.0004 0.01965 0.01945 29.301 29.462 0.01371 0.02138

5

6
0.0015 0.01965 0.01947 29.993 30.168 0.01368 0.02087

7

8
0.4103 0.01965 0.01949 43.31 43.518 0.01327 0.01986

0.0001 0.01965 0.01938 28.147 28.235 0.01374 0.02404

0.0002 0.01965 0.01942 28.643 28.774 0.01372 0.02253

0.0005 0.01965 0.01946 29.539 29.706 0.01370 0.02116

0.0137 0.01965 0.01948 32.998 33.174 0.01359 0.02058

I ri(A) Ir2(A) T q ,(C) T q 2(C) Pqi(W) Pq 2(W)

84

Table (7.8) illustrates that temperature and as its results the output current varies considerably in the first five time steps; how e#r, after the S '* " time step time increments are not equal. This indicates that time step doubling was occurred during the simulation due to small temperature variations. The electrothermal simulator recorded the required parameters each time temperature variations changed the electrical parameters; therefore, there was no more data available among the last three time steps. Even though it seems that temperature raised suddenly among the last three time steps, its variations by time was much smaller than the first five time steps. For instance, in case o f Tq2 , temperature increased 2.7 °C in the first 0.0005s while it increased only 0.46 °C between 0.0005s and 0.0015s; consequently temperature variations decreased considerably after the first 0.0005s. Since variations o f the temperatures decreased after the 5*'' time step, their effects on the electrical parameters o f the circuit also decreased; until the circuit reached its steady state. As illustrated in the Table (7.8), variations o f the other parameters also decreased after the fifth iteration. The simulation took 40 minutes to accomplish using a Pentium 4 CPU, 2.80GHz, and 512 MB o f RAM. The variation o f the devices temperature, current and power dissipations are shown in figures (7.20), (7.21), (7.22) and (7.23) for the first 500ps. The temperatures-time curves o f the active BJTs are shown in Figure (7.20). It can be observed that the two devices had similar temperature during the simulation due to thermal coupling between them. Figure (7.21) depicts variations o f Iri with time. It shows that the reference current was constant during the simulation. This is due to the fact that the transistors were thermally coupled and the collector o f Q, was also electrically connected to the base o f Qz; therefore, the collector current o f Qi depended on the temperature difference between Qi and Q2 , which is almost zero according to Figure (7.20) [21]. Figure (7.22) indicates the variations o f the output current with time. In contrary to theory, Ir2 followed Iri with delay and the final value was not mirroring the reference current. The variations o f 1 r2 were very similar to the temperature variations, since the collector current o f Q2 depended on the changes o f the device junction temperature [21, 38].

85

O O ) £
g.
E

30 -1 29.5 29 28 27.5 27 28.5 26 25.5 0 0.0001 0.0002 0.0003 0.0004 0.0005 -TQ1 -TO 2

time (s)

Figure 7.20: Temperature variations o f the active devices over time.

0.02500
0.0 2 0 00

0.01500

^

0 .0 1 0 00

0.00500
0.00000

0

0.0001

0.0002
time (s)

0.0003

0.0004

0.0005

Figure 7.21: Variations o f the reference current over time.
0.0 1 9 5 0 0.0 1 9 4 5 0.0 1 9 4 0 $ ^ 0.0 1 9 3 5 0.0 1 9 3 0 0 .01925 0 .01920 0 0.0001 0 .00 02 0.0 0 0 3 0.0 0 0 4 0 .0 0 0 5

time (s)

Figure 7.22: Variations o f the output current over time.

Figure (7.23) shows the power variations over time. In contrary to the active BJT in section 7.1, power dissipation o f Qi and Q2 did not increase by temperature. This is due to the fact that the power dissipations were very small, in the range o f mW, which resulted in

86

veiy small temperature variations. For instance, the power dissipation o f the active BJT was in the range o f 2W to 4W and its junction temperature varied in the range o f 27°C to 107°C, while in case o f Qa, it had the maximum power dissipation o f only 27mW and the maximum junction temperature was only reached to 43°C. Clearly, temperature increase in the active BJT is much larger than the current mirror. Therefore, in the current mirror temperature increase was not the primary factor to determine Pq, and Pqa. In fact the resistors were the main elements that determined the power dissipations. In case o f Qi, since there was no current variation, Pqi was constant. Pqi decreased because R2 was constant and it was the major factor o f establishing the power dissipation. As Ir2 increased, since R2 was constant, the collector voltage o f Q2 (Vc2 ) decreased. Since reduction o f Vc2 was greater than increase o f Ir2 , Pq2 decreased. For example, in the first time step when Ir2 changed from 0.0193A to 0.01938A, Vc 2 changed from 1.4V to 1.24V, hence Pq2 was reduced from 27.02mW to 24.03 ImW, neglecting base power dissipation. Despite the fact that temperature variations were small with time, the time duration o f the temperature to reach its steady state value affected the transient performance o f the electrical parameters.
0.03000 0.02500
0 .0 2 0 0 0

^

0.01500 0.01000 0.00500
0.0 0 0 0 0 0 0.0001 0.0002 time (s)

I I
CL

-P Q I -PQ 2

0.0003

0.0004

0.0005

Figure 7.23: Variations o f the power dissipations o f the active devices by time.

7.3.5 Constant Time Step Effect

As demonstrated above, variations o f the Q, parameters are very small and negligible; so our main focus is on Q2 .

87

To be able to demonstrate the exact behavior o f the Q2 parameters all time steps must be equal, which means that we should not double the time steps even if there is no variation or there is small variations in the junction temperature. Selecting equal time steps highly increases the simulation time. Such a simulation was performed considering all time steps equal to lOOps. The simulation took 14 hours to accomplish using the same machine as described earlier. Most o f the time was consumed by COMSOL to solve the FE thermal model. Even though more data was obtained this time, similar outcomes were resulted. Figure (7.24) illustrates the variations o f temperature over time while time steps were equal. As expected, major variations were in the first 500ps. Although temperature varied after 500ps, the variations were very smooth and did not significantly affect the electrical performance. Figure (7.25) depicts the output current variations over time obtained from the similar simulation. Similar to temperature the output current varied significantly until 500ps; however, it remained constant for more than 0.0121s. This is due to the fact that temperature variations were not large enough to influence the electrical performance o f the circuit. After 0.0132s a small variation was occurred, and the current became constant again. There was another change at 0.0241s, after which the current reached its steady state. If the time step was doubled, the data repetition would be prevented and simulation time would be reduced considerably.
36 32 28 " 26 24
20

0

0.009

0.012
tim e(s)

0.015

0.018

0.021

0.024

Figure 7.24: Variations of TQ 2 versus time while time steps were equal.

88

0 .0 1 9 5 5 0 .0 1 9 5 0 .0 1 9 4 5 0 .0 1 9 4
<

g

0 .01935 0 .0 1 9 3 0.0 1 9 2 5 0 .0 1 9 2 U lB iam H inniB U inniuinW 'llB lBum uinuwuB n iurn nrwnB nim um iinim uB iH w nim iiinininuniw iBiiinum im iiiB m H -w rnniaw iinm iim uiH B iiinm niB H U B H iiiuiiiiriiniim iniin» 0 .0 0 0 1 0 .00 31 0 .00 61 0 .0 09 1 0.0 12 1 0 .0 15 1 0 .01 81 0.0 2 1 1 0.0241
tim e(s)

Figure 7.25: Variations o f Ir 2 versus time while time steps were equal.

As shown in the figures (7.24) and (7.25), the variations o f the output current and the temperature are very small as time increases. To be able to show similar results implementing the time efficient version o f the electrothermal simulator, the variations o f Tq2 and Ir2 over the variations o f time, Alaz/At and ATqz/At, are represented in Figure (7.26) and Figure (7.27), respectively. These figures confirm that temperature and current variations became smooth as time increased. In both curves the variations o f Tq2 and Ir2 were significant in the first 500ps; nevertheless, it decreased notably after the 5* time step.

0.9

0.8
0.7 0.6 0.5 0.4 0.3

I

0.2
0.1

0
1

2

3

4

5

6

7

8

No. of time step

Figure 7.26: Variations o f the output current over variations o f time versus No. O f time step .

89

14000

12000 0000

<
4000 2000 1 2 3 4 5 6 7

8

No. Of time step

Figure 7.27: Variations o f the Tq 2 over variations o f tim e versus No. o f time step.

7.3.6 Validation o f Electrothermal Simulator

The simulation results were compared to the results obtained by the electrothermal simulators designed by Shelar et. al [21] and Wunsche et. al [38]. Shelar et. al performed a DC analysis on a similar current mirror and compared the results to the results obtained by measurement as reported in Table (7.9). In case o f Ri = 2K£2 the reference current was obtained 19.6mA and the output current was obtained 19.4mA, by experiment. The steady state values o f Iri and Ir2 obtained from the developed simulator were computed 19.65mA and 19.49mA, respectively. This indicates a better agreement between the developed simulator and experimental results.

Table 7.9: Experimental results, and Munro et. al and Shelar et. al's results o f the current mirror.

Rl=2 KQ. Experiment Shelar et. al's simulation Developed simulator

IRI (mA) 19.6 19.6 19.65

IR2 (mA) 19.4 19.6 19.49

Wunsche et. al [38] performed a transient simulation on the current mirror, the results o f which are presented in Figure (7.28a-c). The comparison shows very similar behavior between the results o f the two simulators. Similar to the obtained results from our simulation.

90

Figure (7.28a) shows equal temperature for both transistors during the simulation. It illustrates that temperature increased significantly for 500ps and reached its steady state after 750ps. The trends o f the temperature variations are very close to our results. Figure (7.28b) shows that the reference current immediately reached its steady state value. Figure (7.28c) shows that the maximum variations o f the output current occurred in the first 500|is and flattened after that until it reached its steady state value. Nevertheless, the current values demonstrated on both Figure (7.28b) and Figure (7.28c) do not show the correct amount. The reference current is close to 1.96mA and the output current steady value is close to 1.969mA. This may be due to typing problems. However, even if it is typing difficulties, our results are more improved than Wunsche et. al's results according to Table (7.9).

31W
310l O^

& mo

(A) : ({$>

<

0.0

250u

500u

750U

OOCI

0j 00125

m

0.0015

0.00175

0.002

0Æ0225

OLOQ2S

(C)

Figure 7.28: W unsche et al's a)Temperature, b)Output current and c) Reference current simulation results [38].

A disadvantage o f Wunsche et.afs method according to [38] is that a MAST model could not initiate a previously calculated time step therefore, only one iteration was performed in

91

each time step. Even though it is an advantage that only one iteration is performed, the important disadvantage is that another error control should be applied which reduced the simulator accuracy. As a result, the simulator might not be able to recognize the small variations occurred after 750ps so the total calculation time was reduced when no variation could be detected. The computation time in Wunsche et. al's work was 2.5ms while it reached to 0.4s in our simulation. Another disadvantage o f Wunsche et. al's work is that it took four hours to attain the total calculation time o f 2.5ms, while the proposed method accomplished the same calculation time o f 2.5ms in a matter o f few minutes. This is more essential when we know that the number o f finite elements in the proposed method was approximately 13300 while [38] contained only 600 finite elements. The higher is the number o f elements, the more accurate is the thermal simulation. Another disadvantage o f [38] is that its simulator structure is very complex compare to our simulator. In our simulator the user needs to be familiar with MATLAB coding and some knowledge o f PSpice and COMSOL, while [38] not only required expertise with SABER and ANSYS, but also the user should know three major programming languages, FORTRAN, C and MAST. By and large, the proposed method is more time efficient, more accurate and more user friendly than Wunsche et. al's work.

7.4 Summary
The electrothermal simulator was employed to investigate the thermal effects in an active BJT, operational amplifier circuit and current mirror circuit. The results obtained from simulation were compared to the available experimental results to validate the accuracy o f the electrothermal models. First the simulator was applied on a simple BJT biasing circuit. A thermal model has been developed to study the thermal behavior o f the device. The simulation results were obtained as it was expected from theory. According to the results the device power dissipation

92

increased as the device junction temperature increased until they converged to some steady state values. The second simulation was performed on a BJT amplifier. Several DC electrothermal simulations were executed on the amplifier, implementing different values for the collector and base resistors. Results from the electrothermal model o f the circuit provided data on the several variables such as power dissipation, collector current, Base-Emitter voltage and current gain that compared very well to experimental data. The results showed that the PSpice simulation results had the maximum error o f 58% in case o f device power dissipation while the electrothermal simulation results had the maximum error o f only 4%. Finally, a transient electrothermal simulation was applied on a current mirror circuit. The model was more complex than the previous simulations since thermal coupling was added to the self heating and global heating. There were good agreements among simulation results, literature results and experimental results. The results showed that the output current reached its steady state value with delay and it did not mirror the reference current. Evaluation o f the model showed that it was computationally stable, reliable and repeatable.

93

Chapter 8

Conclusion and Future Work
In this thesis a new electrothermal simulator has been introduced. The simulator is based on the relaxation method. COMSOL, which is based on finite element method (FEM), has been applied as the thermal simulator. It has the ability to manage material nonlinearity o f semiconductors and complex geometries. PSpice has been selected as the electrical simulator, which is based on the SPICE model o f devices. These simulators have been coupled using an interface program developed in MATLAB. Two functions named Reading and Writing have been developed in MATLAB to read the power dissipation from PSpice and to write the calculated temperature by COMSOL into PSpice. The electrothermal simulator is capable o f performing DC, AC and transient analyses. To evaluate the simulator, transient analyses was performed on an active BJT and a current mirror and a DC analysis was applied on a BJT amplifier. The electrothermal analysis on an active BJT was implemented while only self heating and global heating was considered. Since only one BJT was active during the simulation, no thermal coupling was considered. The results indicated that the device junction temperature increased in each time step until it reached its steady state value. The power dissipation o f the BJT had similar behavior as the temperature. It increased with temperature and gained a constant value when temperature reached its steady state. The results showed that temperature increased from 27°C to 107°C and the power dissipation was raised from I.83W to 4.5 W. Increase o f the Junction temperature affected the device operating point, as well. Considering a constant collector-emitter voltage, the collector current varied from 183mA to 450mA.

94

A DC analysis was performed on a BJT amplifier. The steady state values o f the power dissipation, collector current, base-emitter voltage and current gain were computed for different base and collector resistances and were compared to the experimental measurements and PSpice-only simulation. The results indicated good agreements between the simulation and the experiment. The simulation results were significantly improved compare to PSpice results. The maximum error obtained by the electrothermal simulator was 4% while it was 58% in PSpice for the power dissipation. The collector current value had the maximum error o f 5% and 31.5% obtained by the electrothermal simulator and PSpice, respectively. Same improvement was attained for the base emitter voltage and the current gain. The maximum errors for the base emitter voltage and the current gain were calculated 8.1% and 5.3% correspondingly by the electrothermal simulator, while they were 14.7% and 31.2% likewise in PSpice. Transient analysis was performed on a current mirror considering thermal coupling in addition to the self heating and global heating. Transient performance o f the temperatures and the power dissipations o f the BJTs and the reference and the output currents were investigated. The electrothermal simulation results indicated that temperatures increased by time and the devices had similar temperatures during the simulation. The temperatures varied significantly for the first 500ps and flattened after that until it reached to a steady state value by 0.4s. The investigation showed that the reference current reached its steady state value from the beginning nonetheless, the output current reached steady state value with delay and the final value was not mirroring the reference current. These variations were also increased considerably for the first 500ps. The power dissipation o f the reference transistor was constant similar to its current whereas the power dissipation o f the output transistor decreased by time. The steady state values o f the currents were compared to the experimental results and a good accordance was among them. The transient behavior o f the parameters was also compared to some other results obtained from literature and similar performance was observed. Evaluation o f the models showed that they were computationally stable, reliable and repeatable. In general, by this work we would like to emphasize on the importance o f performing electrothermal simulation on VLSI circuits. It has been shown that thermal issues are critical and must be considered during their early design phase. They indicate that considering self

95

heating, global heating and thermal coupling can dramatically change the circuit performance.
The simulation results indicate that the electrothermal simulator can quickly find the

temperature profile o f the chip. Although the simulation time to perform an electrothermal analysis is greater than an electrical-only analysis, much more accurate evaluation o f the circuit performance can be obtained at the end. Hopefully in the future applying the electrothermal simulator, we would like to perform more evaluation on the simulator by comparing its results to more experimental results and improve its efficiency. We would also like to present more detail analyses o f internal structure o f the semiconductor devices by including the circuit metal interconnects and analyze the temperature distribution along them. We are also interested in performing electrothrmal simulation on bipolar transistors, BJTs and HBTs (Heterojunction Bipolar Transistors) by applying different types o f semiconductors such as Silicon Carbide (SiC) and Gallium Arsenide (GaAs), which have different thermal conductivities, and evaluate their performances.

96

References

[1] "The National Technology Roadmap for Semiconductors", Semiconductor Industry Association Roadmap, 2001. [2] W. Liu, "Electro-Thermal Simulation and Measurements o f Silicon Carbide Power Transistors," Doctoral thesis. Royal Institute o f Technology, 2004. [3] A. S. Sedra, Microelectronic Circuits, 5*^ Edition. Oxford University Press US, 2003. [4] V. Szekely, A. Poppe, A. Pahi et. al "Electro-Thermal and Logi-Thermal Simulation o f VLSI Designs," IEEE Transactions on VLSI Circuits, vol. 5, Issue 3, pp. 258 --269, SEP 1997. [5] The MathWorks Inc., "MATLAB Documentation," 3 Apple Hill Dr. Natick, MA 017602098,2004. [6] MicroSim Corp., "PSpice Circuit Analysis Program," Irvine, CA92718 USA. [7] COMSOL Inc., "COMSOL Documentation, Modeling Guide," Burlington MA 01803, 2005. [8] P. C. Munro and G. Q. Ye, "Simulating the Current Mirror with Self-Heating BJT Moàc\,'^ IEEE Journal o f Solid-State Circuits, vol. 26, pp. 1321-1324, SEP 1991. th [9] F. P. Incropera and D. P. DeWitt, Fundamentals o f Heat and Mass Transfer, 4 Edition. John Eiley & Sons, 1996. [10] L. C. Thomas, Fundamentals o f Heat Transfer. Prentice-Hall, 1980.

97

[11] B. Schaefer and M. Dunn, "Pulsed Measurement and Modeling for Electro-Thermal Effects," Proceedings o f Bipolar/BiCMOS Circuits and Technology Meeting, pp. 110117, SEP 1996. [12] J. H. Lienhard, R. Eichhom, A Heat Transfer Text Book. Prentice-Hall, 1981. [13] G. Ellison, "The Thermal Design o f an LSI Single Chip Package," ÆEE Transaction on Hybrids and Packaging, vol. PHP-12, No.4, pp. 371-378, DEC 1976. [14] K. J. Bathe, Finite Element Procedures in Engineering Analysis. Prentice-Hall, 1982.
[15] www.colorado.edu/enaineerinQ/CAS/courses.d/IFEM.d/IFEM.Ch06.d/IFEM.Ch06.pdf

[16] S. Lu and M Dong, "An Advanced BEM for Thermal and Stress Analyses o f Components with Thermal Barrier Coating," Electronic Journal o f Boundary Elements, vol. 1, No.2, pp. 302-315,2003. [17] http://wvyw.partminer.com/glossarvhtml/bit.htm [18] S. Dimitrijev, Understanding Semiconductor Devices. Oxford Press, 2000. [19] Cadence Design Systems Inc. "PSpice Reference Guide, 2"`' online Edition," 13221 SW 68* Parkway, Suite 200, MAY 2000. [20] A. Grabel and J. Millman, Microelectronics, 2"^ Edition. McGrow-Hill College, 1987. [21] T. Shelar and G. S. Vieweswaran, "Inclusion o f Thermal Effects in the Simulation o f Bipolar Circuits Using Circuit Level Behavior Modeling," Proceedings o f the / / * International Conference on VLSI Design, pp. 821-826, 2004. [22] S. Reggiani, M. Valdinoci, L. Colalongo et. al, "Electron and Hole Mobility in Silicon at Large Operating Temperatures --Part 1: Bulk Mobility," IEEE Transactions on Electron Devices, vol.49 , No.3, MA 2002.

98

[23] J.J. Liou and A. Kager, "Theoretical Prediction o f the Performance o f Si and SiC Bipolar Transistors Operating at High Temperatures," lE E P ro c ee d in g s-G , vol. 140, No. 4, pp. 289-293, AUG 1993. [24] B. Jalali, C. A. King, G. S. Higashi et. al, "Current Gain Enhancement in Bipolar Transistors by Low-Energy Ion Beam Modification o f Polycrystalline Silicon Emitter," Applied Physics Letters, vol. 58, Issue 18, pp-2009-2011, MAY 1991. [25] S. A. Wartenberg and C. R. Westgate, "Modeling the Temperature-Dependent Early Voltage o f a Silicon Germanium Heterojunction Bipolar Transistor," IEEE Transactions on Electron Devices, vol. 46, No. 6, JUN 1999. [26] Y. Suh, D. Heo, A. Raghavan et. al, "Direct Extraction and Modeling Method for Temperature Dependent Large Signal CAD Modeling o f Si-BJT," IEEE MTT-S International Microwave Symposium Digest, vol.2 , pp. 971-974, MAY 2001. [27] S. Rusu, "Trends and Challenges in VLSI Technology Scaling Towards lOOnm," Proceedings o f the 27'^ European Solid-State Circuits Conference (ESSCIRC), pp. 194196, SEP 2001. [28] MicroSim Corp., "VBIC Toolkit," Irvine, CA927I8 USA. [29] K. Fukahori and P. R. Gray, "Computer Simulation o f Integrated Circuits in the Presence o f Electrothermal IniQTacûon," IEEE Journal o f Solid State Circuits, vol. SC11, No.6, DEC 1976. [30] V. Szekely, M. Rencz and B. Courtois, "Tracing the Thermal Behavior o f ICs," IEEE Design and Test o f Computers, 1998. [31] G. Digele, S. Lindenkreuz and E. Kasper: "Fully Coupled Dynamic Electrothermal Simulation," IEEE Transaction VLSI Systems, vol. 5, pp. 250-257, SEP 97. [32] P.C. Mumo and F. Q. Ye, " A CAD Model for the BJT with Self Heating," IEEE Circuit and Devices Magazine, vol.7, Issue 3, pp 7-9, MAY, 1991.

99

[33] I. N. Hajj, K. Singhal, J. Vlach et. al, "WATAND - A Program for the Analysis and Design o f Linear and Piecewise-Linear Networks," Proceeding o f the 16'^ Midwest Symp. Circuit Theory, vol. 1, pp. VI.4.1-VI.4.9, APR 1973. [34] P. R. Bryant, H. J. Strayer and M. Vlach, "WATAND User's Manual V I. 11.00,"
University o f Waterloo, Waterloo, ON. Canada, Tech. Rep. UWEE 87-01, SEP 1987.

[35] Y. K. Cheng, C. H. Tsai, C. C. Teng et. al. Electrothermal Analysis o f VLSI Systems. Kluwer Academic Publishers, 2000. [36] S. S. Lee and D. J. Allstot, "Electrothermal Simulation o f Integrated Circuits," 7EEE Journal o f Solid State Circuits, vol. 28, N o.l2, DEC 1993. [37] W. V. Petegem, B. Geeraerts, W. Sansen et. al, " Electrothermal Simulation and Design o f Integrated C ircuiisf IEEE Journal o f Solid State Circuits, vol.29, No.2, FEB 1994. [38] S. Wunsche, C. Claup, P. Schwarz et. al, "Electrothermal Circuit Simulation Using Simulator Coupling," IEEE Transactions on VLSI Systems, vol. 5, No.3, SEP 1997. [39] S. Sharifian Attar, M.C. E. Yagoub and P. Mohammadi, "New Electrothermal Integrated Circuit Modeling Using Coupling o f Simulators," Proceeding o f the 19^^ Canadian Conference on Electrical and Computer Engineering, MAY 2006. [40] J. O. Attia, PSpice and MATLAB fo r Electronics. CrC Press Lie, 2002. [41] 2N2222 Data Sheet, STMicroelectronics, Italy, 2003, www.st.com . [42] S. Sharifian Attar, M.C. E. Yagoub and P. Mohammadi, "Electrothermal Simulation Tool for Integrated Circuits," Proceeding o f the 5'^ International Conference on Electrical and Computer Engineering, MAY 2006. [43] S. Sharifian Attar, M.C.E. Yagoub and P.A. Mohammadi, "Simulation o f ElectroThermal Effects in Device and Circuit" , Proceeding o f 10th WSEAS International Conference on Circuits, Systems and Communications, JUL 2006.

100

[44] S. Sharifian Attar, M.C.E. Yagoub and F.A. Mohammadi, "Computer Simulation o f the Thermal behavior o f ICs" , Accepted fo r publication in WSEAS Trans, on Circuits, 2006. [45] G. Breglio, S. Pica and P. Spirito, "Thermal Effects and Electrothermal Modeling in Power Bipolar Transistors," Proceeding o f 2 f International Conference on Microelectronics, vol. 1, SEP 1997.

101

Publications
1. s. Sharifian Attar, M.C. E. Yagoub and F. Mohammadi, "New Electrothermal Integrated Circuit Modeling Using Coupling o f Simulators," Proceeding o f the Conference on Electrical and Computer Engineering, MAY 2006. 2. S. Sharifian Attar, M.C. E. Yagoub and P. Mohammadi, "Electrothermal Simulation Tool for Integrated Circuits," Proceeding o f the 5'^ International Conference on Electrical and Computer Engineering, MAY 2006. 3. S. Sharifian Attar, M.C.E. Yagoub and F.A. Mohammadi, "Simulation o f Electro-Thermal Effects in Device and Circuit," Proceeding o f 10th WSEAS International Conference on Circuits, Systems and Communications, JUL 2006. 4. S. Sharifian Attar, M.C.E. Yagoub and F.A. Mohammadi, "Computer Simulation o f the Thermal behavior o f ICs," Acceptedfor publication in WSEAS Trans, on Circuit, 2006. Canadian

102

