D EVELOPMENT AND M ULTIPLE M ODE C ONTROL
OF

M ODULAR AND R ECONFIGURABLE ROBOT
by Hongwei Zhang Masters of Engineering, Tongji University, China, 1993

Bachelor of Science, University of Science and Technology of China, 1990 A dissertation presented to Ryerson University

in partial fulfillment of the requirements for the degree of Doctor of Philosophy in the Program of Aerospace Engineering Toronto, Ontario, Canada, 2013 c Hongwei Zhang 2013

I hereby declare that I am the sole author of this dissertation. This is a true copy of the dissertation, including any required final revisions, as accepted by my examiners. I authorize Ryerson University to lend this dissertation to other institutions or individuals for the purpose of scholarly research I further authorize Ryerson University to reproduce this dissertation by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. I understand that my dissertation may be made electronically available to the public.

iii

Development and Multiple Mode Control of Modular and Reconfigurable Robot Doctor of Philosophy 2013 Hongwei Zhang Aerospace Engineering Ryerson University

Abstract
There is a strong desire for robots to manipulate in uncontrolled environments. In uncontrolled environments, the robot has to adapt to the world consisting of only partially known or unknown objects and tasks, and real-time constraints. The capability of robots working in active or passive modes and switching between them helps enabling the robots to work in unstructured environments. Joint torque sensing is essential for implementing multiple mode control of robots. Though there have been a number of means of joint torque sensing, the existing joint sensing techniques have diverse limitations, such as in installation, reliability, cost, and noise immunity. This dissertation work develops a new joint torque sensing method for a modular and reconfigurable robot (MRR) with harmonic drive joints and provides solutions to multiple mode control of MRR based on the proposed sensing technique. This research consists of two main parts. In the first part, a novel mathematical model for compliance of harmonic drives has been proposed. The proposed model captures not only the nonlinear stiffness but also the hysteresis phenomenon of harmonic drive transmission. v

Based on the developed harmonic drive compliance model, a joint torque estimation method using position measurements is developed. Torque estimation using position measurements provides an advantage of noise immunity to the estimated joint torque. Using the compliance of harmonic drives instead of an additional elastic component does not change the joint dynamics. Building upon the new torque estimation technique, a multiple working mode control algorithm for MRR is developed and experimentally validated. The objective of the second part is to make the wrist suitable for dexterous manipulation in unstructured environments, such as door opening. A robust adaptive controller is developed for tracking control of the wrist in active mode; and a new interactive force compensation technique is proposed based on force sensor measurement, enabling passive working mode of the compact wrist without using mechanical solutions, which not only saves weight and volume, but also avoids losing tracking of the joints' position when switching from passive mode to active mode. Experiments on a prototype wrist have demonstrated the effectiveness of the proposed method.

vi

Acknowledgements
I would like to take this opportunity to thank my supervisor, Dr. Guangjun Liu, for his guidance, encouragement, and support throughout this dissertation work. I would also like to thank Dr. Yugang Liu, Mr. Saleh Ahmad and other group members for their valuable discussions and suggestions on the experiments. This research would not have been possible without the financial support from the Natural Sciences and Engineering Research Council (NSERC) of Canada and the Canada Research Chair (CRC) program. The technical support staff of the Department of Aerospace Engineering, Mr. Primoz Cresnik, provided helpful technical assistance. Finally, I would like to thank my family, especially my wife, for their understanding, encouragement and supporting.

vii

Contents
Declaration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Abstract . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . List of Tables . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . iii v xi

Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . vii List of Figures . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . xiii 1 Introduction 1.1 1.2 1.3 1.4 1.5 Manipulation in Uncontrolled Environment . . . . . . . . . . . . . . . . . . . Harmonic Drive Compliance Model . . . . . . . . . . . . . . . . . . . . . . . Joint Torque Sensing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Multiple Mode Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Publications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1.5.1 1.5.2 1.6 2 Journal Papers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Conference Papers . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 1 3 4 5 7 7 7 8 9 9

Organization of Dissertation . . . . . . . . . . . . . . . . . . . . . . . . . . .

Compliance and Hysteresis Model of Harmonic Drive 2.1 2.2 Mechanism of Harmonic Drive . . . . . . . . . . . . . . . . . . . . . . . . . . 2.2.1 2.2.2 2.2.3 2.3 2.4 2.5

Harmonic Drive Model . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 Basic Model . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 Basic Model with Compliance and Friction . . . . . . . . . . . . . . . 11 The Proposed Harmonic Drive Compliance Model . . . . . . . . . . . 14

Parameter Estimation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20 Experimental Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30 ix

3

Torque Estimation with Harmonic Drive Compliance Model 31 3.1 Torque Estimation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31 3.2 Experimental Setup and Results . . . . . . . . . . . . . . . . . . . . . . . . . 36 Multiple Mode Control of MRR with HDT Joint 4.1 MRR Joint Dynamics . . . . . . . . . . . . . . . 4.2 Robust Adaptive Control in Active Mode . . . . 4.3 Interactive Force Compensation in Passive Mode 4.4 Experiments . . . . . . . . . . . . . . . . . . . . 4.4.1 Motion Control with JTF . . . . . . . . . 4.4.2 Passive Control . . . . . . . . . . . . . . 4.5 Conclusions . . . . . . . . . . . . . . . . . . . . 41 41 44 49 50 50 55 56 57 58 62 66 72 75 75 82 83 87 87 88 88 96

4

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

5

Mechanism Structure and Kinematic Modeling of the Compact Wrist 5.1 Mechanism Structure and Motion Analysis . . . . . . . . . . . . . 5.2 Anthropomorphic Wrist Kinematic Analysis . . . . . . . . . . . . . 5.3 Inverse Kinematic Analysis . . . . . . . . . . . . . . . . . . . . . . 5.4 Differential Kinematics and Force Analysis . . . . . . . . . . . . . Multiple Mode Control of the Compact Wrist 6.1 Robust Adaptive Control in Active Mode . . . . . . . . . . . . 6.2 Interactive Force Compensation in Passive Mode . . . . . . . . 6.3 Control System Design . . . . . . . . . . . . . . . . . . . . . . 6.4 Experiments . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6.4.1 Experimental Setup . . . . . . . . . . . . . . . . . . . . 6.4.2 Experiments on Tracking Control with Active Mode . . 6.4.3 Experiments on Force Compensation with Passive Mode 6.4.4 Application to Door Opening . . . . . . . . . . . . . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

6

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

7

Conclusion and Future Work 101 7.1 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101 7.2 Future Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102 111

References

x

List of Tables
3.1 3.2 3.3 4.1 6.1 Theoretical torque estimation error caused by kinematic error for SHD series Harmonic Drive . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32 Kinematic error modeling parameters . . . . . . . . . . . . . . . . . . . . . . 35 Torque estimation error at different motor outputs . . . . . . . . . . . . . . . . 38 Design parameters and control parameters . . . . . . . . . . . . . . . . . . . . 51 Design parameters and control parameters . . . . . . . . . . . . . . . . . . . . 88

xi

List of Figures
2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9 Exploded view of a harmonic drive showing the three components . . . . . . . 9

The basic kinematic representation of a harmonic drive . . . . . . . . . . . . . 10 The kinematic representation of a harmonic drive showing flexspline compliance 12 A system of two springs and one mass: Ka and Kb represent the spring constant of (a) and (b), respectively. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14 Spring (b) force versus force applied to spring (a). . . . . . . . . . . . . . . . . 15 Stiffness curve and the hysteresis caused by friction. . . . . . . . . . . . . . . 15 A system of two springs and one mass with two external forces . . . . . . . . 16 Wave generator axes displacement . . . . . . . . . . . . . . . . . . . . . . . . 17 The kinematic representation of a harmonic drive showing flexspline and wave generator compliance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17 . . . . . . . . . . . 21

2.10 Typical stiffness and hysteresis curve of a harmonic drive.

2.11 Simulation results of local elastic coefficient. . . . . . . . . . . . . . . . . . . 22 2.12 The stiffness curves for piecewise linear model, cubic polynomial model, and proposed model . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23 2.13 Schematic diagram of experimental setup. . . . . . . . . . . . . . . . . . . . . 24 2.14 Cross-sectional view of the experimental joint . . . . . . . . . . . . . . . . . . 24 2.15 A picture of the experimental setup . . . . . . . . . . . . . . . . . . . . . . . . 24 2.16 Schematic diagram of experiment. . . . . . . . . . . . . . . . . . . . . . . . . 25 2.17 Motor-side input torque signal history . . . . . . . . . . . . . . . . . . . . . . 27 2.18 Motor-side input torque versus output torsion . . . . . . . . . . . . . . . . . . 28 2.19 Comparison of estimation error versus time . . . . . . . . . . . . . . . . . . . 28 2.20 Comparison of estimation error versus motor positions . . . . . . . . . . . . . 28 2.21 External torque applied on the output-side . . . . . . . . . . . . . . . . . . . . 29 xiii

2.22 Output torque versus output torsion . . . . . . . . . . . . . . . . . . . . . . . 29 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9 4.1 4.2 4.3 4.4 4.5 4.6 4.7 4.8 4.9 Kinematic error distribution based on link position . . . . . . . . . . . . . . . 33 Kinematic error distribution based on motor position . . . . . . . . . . . . . . 34 Modeled kinematic error. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35 Block diagram of the proposed torque estimation technique . . . . . . . . . . . 36 Picture of experiment setup: (a)without payload; (b)with payload . . . . . . . 37 Estimated torque versus torque measured by F/T sensor (response to slow changes) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38 Estimated torque versus torque measured by F/T sensor (response to fast changes) 39 Torque estimation at payload suddenly change . . . . . . . . . . . . . . . . . . 39 Snapshots for torque estimation at different motor output . . . . . . . . . . . . 40 Schematic diagram of an MRR module . . . . . . . . . . . . . . . . . . . . . . 42 Desired trajectory for active mode control . . . . . . . . . . . . . . . . . . . . 51 Active mode experimental results . . . . . . . . . . . . . . . . . . . . . . . . . 52 Joint 2 position . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52 Joint 2 velocity . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53 Joint 1 desired position . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53 Joint 1 motor side position error . . . . . . . . . . . . . . . . . . . . . . . . . 53 Joint 1 link side position error . . . . . . . . . . . . . . . . . . . . . . . . . . 54 Joint 1 link side torque . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54

4.10 Joint 1 link side torque estimation error . . . . . . . . . . . . . . . . . . . . . 54 4.11 Passive mode experimental results. . . . . . . . . . . . . . . . . . . . . . . . . 55 4.12 Measured joint position for passive mode control . . . . . . . . . . . . . . . . 55 5.1 5.2 5.3 5.4 5.5 5.6 5.7 5.8 Swiveling of index finger and anthropomorphic motion . . . . . . . . . . . . . 58 3D view of DAUJ joint with pitch and yaw motion . . . . . . . . . . . . . . . 59 Structure of DAUJ joint . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59 Kinematic diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 60 Workspace . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 61 Kinematics parameters and frame assignment . . . . . . . . . . . . . . . . . . 63 Workspace mapping . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68 Adjusted workspace mapping . . . . . . . . . . . . . . . . . . . . . . . . . . . 68 xiv

5.9 Generalized coordinate frame assignment . . . . . . . . . . . . . . . . . . . . 69 5.10 Difference between two  solutions . . . . . . . . . . . . . . . . . . . . . . . 71 5.11 Difference between two  solutions . . . . . . . . . . . . . . . . . . . . . . . 71 6.1 6.2 6.3 6.4 6.5 6.6 6.7 6.8 6.9 6.10 6.11 6.12 6.13 6.14 6.15 6.16 6.17 6.18 6.19 6.20 Force sensor installation and coordinate system definition . . . . . . . . . . . The control system diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . Development of signal conditioning circuit: (a) equivalent electrical schematic for the transducer; (b) designed signal conditioning circuit . . . . . . . . . . The electronic control board: (a) front side; (b) back side. . . . . . . . . . . . The board mounted inside the link . . . . . . . . . . . . . . . . . . . . . . . a snapshot for tracking control in active mode . . . . . . . . . . . . . . . . . The desired task-space trajectory in active mode . . . . . . . . . . . . . . . . The calculated joint-space trajectory . . . . . . . . . . . . . . . . . . . . . . The calculated joint-space velocities . . . . . . . . . . . . . . . . . . . . . . The position tracking errors . . . . . . . . . . . . . . . . . . . . . . . . . . . The velocity tracking errors . . . . . . . . . . . . . . . . . . . . . . . . . . . Snapshots for the compact wrist working in passive mode . . . . . . . . . . . The interactive motions in Case 1 . . . . . . . . . . . . . . . . . . . . . . . The interactive motions in Case 2 . . . . . . . . . . . . . . . . . . . . . . . The internal forces generated in Case 1 . . . . . . . . . . . . . . . . . . . . The internal forces generated in Case 2 . . . . . . . . . . . . . . . . . . . . The compensation torques in Case 2 . . . . . . . . . . . . . . . . . . . . . . Snapshots for door opening . . . . . . . . . . . . . . . . . . . . . . . . . . . Interactive motions of the wrist in door opening . . . . . . . . . . . . . . . . The wrist-knob interactive torques in door-opening . . . . . . . . . . . . . . . 76 . 84 . . . . . . . . . . . . . . . . . . 85 86 86 89 89 90 90 91 91 92 93 93 94 95 95 97 98 98

xv

List of Symbols
 
d q ¨mi

Longitudinal angle Latitudinal angle The desired joint-space motor side accelerations of the ith joint Pitch angle The desired joint-space motor side velocity of the ith joint positive control parameters


d q mi

ri , F ij



Yaw angle

^ ^c ^c ^c bc mi , fmci , fmsi and fm i Estimations of the constant friction parameters of the ith joint on motor side  ^ ,  ^ the force/torque sensor measurements i µF ic c f i f i w Controller parameter of the ith joint positive constant Harmonic drive circular spline angular velocity Harmonic drive flexspline input angular velocity Harmonic drive flexspline angular velocity Joint velocity of the ith joint Harmonic drive wave generator angular velocity xvii

 

Incline angle Harmonic drive hystersis loss

base The bound of acceleration associated with motion of the base   ,   bounds of the force/torque sensor measurement error ti Fmi The bounds of torque measuring error of the ith joint The bound of Fmi

fqmi The bound of fqmi F i f qi     Constant bound of Fiv Constant bound of nonparametric friction Torque along longitudinal direction Torque along latitudinal direction Torque along pitch direction Torque along yaw direction

basei The inertial and Coriolis forces of the ith joint c exti f b f r f s f i Torque at harmonic drive circular spline External torque added to link of the ith joint Harmonic drive back-driving torque Harmonic drive friction torque Harmonic drive starting torque Torque at harmonic drive flexspline Joint torque of the ith joint xviii

kerr mi ti w c errl

Estimated torque error caused by kinematic error Motor output torque of the ith joint Torque transferred at transmission system of the ith joint Torque at harmonic drive wave generator Harmonic drive circular spline position Kinematic error component related to link position

errw Kinematic error component related to motor position err f i f o0 f o
cwi f o cwi f o

Harmonic drive kinematic error Harmonic drive flexspline input position Flexspline position at first index after power on Harmonic drive flexspline output position Flexspline position while index come at clockwise free run Flexspline position while index come at count-clockwise free run Harmonic drive flexspline position Motor-side incremental encoder reading Joint position of the ith joint

f IE i

of f set Motor-side incremental encoder offset wi wo w  Harmonic drive wave generator input position Harmonic drive wave generator output position Harmonic drive wave generator position Harmonic drive deformation xix

f w

Harmonic drive flexspline deformation Harmonic drive wave generator deformation

a0 , al1 , bl1 , wl , aw1 , aw2 , bw1 , bw2 , ww Parameters for kinematic error modeling a1 ,a2 Harmonic drive stiffness constants bi Viscous friction coefficient for the ith joint

bli , bmi The viscous friction coefficients of the ith joint C C C C C Ci cf F Fa Fb Fi cos  cos  cos  cos  cos  cos i Harmonic drive flexspline stiffness nolinear constant Force added to spring system Force added to spring a Force added to spring b [bi fci fsi f i ]T

f i ( qi , q i ) the friction of the ith joint Fic Fiv Constant part of Fi Variable part of Fi

Fx , Fy , Fz , x , y and z Measurements of the force/torque sensor xx

f i fci Ff r

Parameter corresponding to the Stribeck effect for the ith joint Coulomb friction related parameter for the ith joint Friction force

fl i , fm i Parameters corresponding to the Stribeck effect of the ith joint flci , fmci The Coulomb friction-related parameters of the ith joint fli (qli , q li ) Joint friction of the ith joint on link side flsi , fmsi The static friction friction-related parameters of the ith joint Fmi [bmi fmci fmsi fm i ]T

fmi (qmi , q mi ) Joint friction of the ith joint on motor side
c Fmi v Fmi

The constant part of Fmi The variable part of Fmi

fqli , fqmi The friction modeling errors of the ith joint fsi Static friction related parameter for the ith joint

gli (ql0 ...qli ) Link gravity of the ith joint Ili Imi Moment of inertia of the ith link about the axis of rotation Moment of inertia of the ith rotor about the axis of rotation

Jc ,J2 Jacobian matrixes K1 ,K2 ,K3 Harmonic drive stiffnesse segments Kf 0 Kf l Kpi Harmonic drive flexspline initial stiffness Harmonic drive flexspline local stiffness The control parameter used for passive mode xxi

Kw0 ,cw Wave generator stiffness factors Kwl N Ni qli qmi
d qmi

Wave generator local stiffness Harmonic drive gear ratio Reduction ratio of the speed reducer of the ith joint Link position of the ith joint Motor position of the ith joint The desired joint-space motor side position the ith joint sin  sin  sin  sin  sin  sin i The time for the solution trajectory

S S S S S Si ts

T1 ,T2 Harmonic drive Split torque tij Elements of transform matrix

Tij ,Tijs ,Tim Transform matrixes V X zli zmi The Lyapunov function candidate Total displacement Unity vector along the axis of rotation of the ith link Unity vector along the axis of rotation of the ith joint

xxii

Chapter 1 Introduction
The purpose of this chapter is to provide the background information and to introduce some underlying materials related to the dissertation. Furthermore, it presents the objective and contribution of the dissertation work. At the end of this chapter, an organization outline for the remainder of the dissertation is presented.

1.1

Manipulation in Uncontrolled Environment

Robots have long been desired to get closer to human beings, to help us in daily lives, to work alongside us, to provide physical assistance on an assembly line or to help us with household chores. Traditional manipulators are mostly position controlled with fixed configuration and joints working in a single active mode. Such manipulators have been successful in controlled environments such as in a production line of a factory. Outside of controlled (structured) environments, they perform sophisticated manipulation tasks only when operated by human operators. It is time now for robots to move beyond structured factory settings, where they have made great success, into environments populated with people, to co-exist and cooperate with their human owners. Human environments pose a significant challenge for robotic manipulation because of their complexity and inherent uncertainty (Kemp et al. 2007). The conventional industrial manipulators with position control are unsuitable for sophisticated manipulation in human environments (Liu et al. 2008); and the development of robots capable of working in unstructured human environments has become the trend of technology advancement of robotics. As one of the most omnipresent artificial environments, doors represent a serious challenge 1

1.1. MANIPULATION IN UNCONTROLLED ENVIRONMENT

Chapter 1

for robots; and door-opening has attracted the attention from numerous researchers (Nagatani and Yuta 1996; Petersson et al. 1997; Niemeyer and Slotine 1997; Khatib 1999; Liu et al. 2009). A high-level control approach using off the-shelf force/torque control algorithms was developed for door-opening with mobile manipulators (Petersson et al. 1997). A general dooropening strategy was proposed on the basis of action primitives, and the approach was validated by experiments on a mobile manipulator (Nagatani and Yuta 1996). Simultaneous control of mobile platform and the onboard manipulator was investigated for a mobile manipulator opening a door (Khatib 1999). To solve the door-opening problem, a relatively simple control method was proposed by following the path of least resistance (Niemeyer and Slotine 1997). Recently in our lab, a door opening algorithm was developed using modular and reconfigurable robots (Liu et al. 2009). More recently in our lab, a door opening algorithm is developed for mobile manipulators, which integrates a mobile platform with an onboard manipulator, and multiple mode control of the onboard manipulator is essential for performing the door-opening task (Ahmad and Liu 2010). Robotic passivity has long been identified to be a useful characteristic for cooperative control of multiple manipulators (Liu et al. 1999). For manipulation in unstructured environments such as door opening, it is desirable to grasp the door knob with active position control and to pull the door open with selected joints working in a passive working mode. To implement the passive mode, several algorithms have been proposed, including the one based on friction compensations (Liu et al. 2008), and another approach based on torque sensor feedback (Ahmad and Liu 2010). Both of them are for general rotary joints and with some limitations. For instance, the friction compensation based method works only when the motion trend is known. For developing robot manipulators working in human environments, a light weight and compact wrist joint is extremely desirable. A compact wrist has been designed and fabricated in our laboratory based on the serpentine robot joint (Paljug et al. 1995) and double active universal joint (Ryew and Choi 2001), which has a compact mechanism with two degrees of freedom. However, it is difficult to integrate joint torque sensors into the wrist, which is equipped with position sensors only. In this dissertation research, a multiple mode control algorithm is proposed for the control of the compact wrist based on a wrist force senor which enables online switching between an active position control mode and a passive interactive force compensation mode of the wrist. 2

Chapter 1

1.2. HARMONIC DRIVE COMPLIANCE MODEL

1.2

Harmonic Drive Compliance Model

Harmonic drives, invented in 1950s (Musser 1955), are widely used in servo systems, such as robots, due to their desirable characteristics of near-zero backlash, compactness, light weight, high torque capacity, high gear ratio and coaxial assembly. In the meantime, a number of attempts have been made towards the analytical modeling of harmonic drives. Volkov and Zubkov (1978) pioneered the investigation of harmonic drive transmission dynamics incorporating stiffness. During the mid/late-1980s, Good et al. (1985) and Kojima et al. (1989) investigated the effects of the harmonic drive on robotic systems dynamic control. Empirical data were used to show that performance degradation occurs if the joint flexibility is ignored in controller design of robot manipulators (Good et al. 1985). The effect of nonlinear friction of harmonic drive transmissions on robotic systems performance was studied (Kojima et al. 1989). Marilier and Richard (1989) modeled the harmonic drive behavior including factors like nonlinear stiffness, backlash, and nonlinear friction torque. Hidaka et al. (1990) reported the effects of transmission compliance and kinematic error on vibration during operation. In the existing literature, it has been a common observation that the aggregated effects of compliance, hysteresis, and kinematic error take part in the dynamics of harmonic drive transmission systems (Schempf and Yoerger 1993; Kircanski and Goldenberg 1997). However, accurate modeling of the harmonic drive transmission system remains a challenging task. The majority of existing models are either too complicated with the difficulty to estimate parameters, or over simplified without incorporating the nonlinear stiffness and hysteresis. Some proposed hysteresis models require the derivative of torsional angle, which is impractical to obtain because of measurement noise. For instance, Dhaouadi and Ghorbel (2003) introduced a mathematical hysteresis model based on ferromagnetic hysteresis study. Tjahjowidodo et al. (2006) described the dynamics of harmonic drives using nonlinear stiffness characteristics combined with distributed Maxwell-slip elements that capture the hysteresis behavior. Curt et al. (2012) recently provided a more comprehensive hysteresis model. However, these models are complicated and require the derivative of torsional angle, using model parameters that are difficult to estimate. In the previous works, the harmonic drive models are formulated by modeling each of its individual behaviors and then incorporating these models into equations governing the harmonic drive transmission. The downside of such an approach is the complexity of model(s), which stems from the complexity of behavior, with nonlinear torsional compliance and hysteresis 3

1.3. JOINT TORQUE SENSING

Chapter 1

being on top of the list. In this dissertation, the proposed model is derived by modeling the compliance of each component of the harmonic drive instead of modeling its individual behavior. Subsequently, the resulting model can capture the harmonic drive behaviors without using complicated hysteresis or kinematic error models. Furthermore, the proposed model does not require the derivative of the torsion angle. The harmonic drive transmission system model is derived in two sequential steps: in the first step, a model for the compliance of each individual component is derived; in the second step, a complete harmonic drive model, capturing both the nonlinear compliance and hysteresis, is obtained by a synergetic integration of the individual models.

1.3

Joint Torque Sensing

Joint torque feedback (JTF) has been widely recognized to improve the performance of robot control in the robotics community (Aghili et al. 2001; Liu et al. 2006; Zhu et al. 2007; Tien et al. 2008). The JTF is used in robot control to suppress the effect of load torque on motion control (Aghili et al. 2007). The use of joint torque sensors can significantly relax the need to model the link dynamics. Dynamic control of robots can then be performed by joint torque sensing feedback without computing inverse dynamics of robots. Joint torque sensing is also valuable in force, compliance, and impedance control. In addition, joint torque sensing is necessary for collision detection and reaction. In order to apply JTF, it is necessary to measure or estimate the transmitted torque by the harmonic drive transmission. Conventionally, to implement such control strategies, the robot is equipped with joint torque sensors or a multi-axis force/torque (F/T) sensor. When using F/T sensor at the robot wrist, the estimation of joint torques requires additional calculations, and the results may be affected by computation delays and model errors (Randazzo et al. 2011). Furthermore, the commercially available torque sensors are costly and need extra space and mechanical modification to the joints. There are several techniques of direct joint torque sensing, e.g., joint torque sensors based on elastic elements that are placed in the output transmission line of each joint of the robot (Vischer and Khatib 1995; Tsetserukou et al. 2006). However, for robotic joints with harmonic drive transmission, which has an elastic flexspline, and an additional compliant element may compromise the joint stiffness. Vischer et al. (1995) and Tsetserukou et al. (2006) measure 4

Chapter 1

1.4. MULTIPLE MODE CONTROL

deformation of an elastic body after the reduction mechanism with optical distance sensors. Kawakami et al. (2010) used a linear encoder to measure the torsional deformation of the additional elastic body. As measurement accuracy is in inverse proportion to sensor stiffness, low sensor stiffness is inevitable in order to achieve high measurement resolution, which leads to complicated joint dynamics. The additional elastic component also affects the link position measurement accuracy. Another joint torque sensing technique is based on the method proposed by Hashimoto et al. (1993). Joint torque sensing is achieved by mounting strain gages directly on the harmonic drive, which is usually referred to as built- in torque sensing for harmonic drives (Hashimoto et al. 1993; Taghirad and Belanger 1998; Godler et al. 2000). The torsional compliance of harmonic drives lends itself to torque sensing, but the elliptical shape of the wave generator in harmonic drive transmissions introduces a spatially dependent local torque ripple on the flexspline of harmonic drives. It is difficult to extract the applied torque signal from this local torque ripple if the applied torque is sensed at the flexspline of the harmonic drive (Sensinger and Weir 2006). In recent years, high resolution absolute position encoders become commercially available. This makes it possible to measure the torsional deformation of harmonic drive. In this dissertation, a joint torque estimation method based on a harmonic drive compliance model is developed. The torsional deformation of the harmonic drive is measured using link-side encoder and the resulted measurement is used with the proposed harmonic drive compliance model to estimate the joint torque. The proposed torque estimation method is economical and represents an effective way of torque estimation for robots with harmonic drives.

1.4

Multiple Mode Control

In order to adapt various tasks, sometimes the robot joints have to work in a passive mode. In the relevant published literature, passive joints are used in the cooperation control of multiple manipulators (Li et al. 2007; Nung et al. 2001; Liu et al. 1999). In reference (Nung et al. 2001), the motion planning and control of mobile manipulators are greatly simplified by using the exchangeable active/passive joints, where the positioning error of the mobile manipulator can be absorbed passively and detected as the angular information of passive joints. Relatively complex tasks are executed without using external sensors such as a vision or a wrist force 5

1.4. MULTIPLE MODE CONTROL sensor.

Chapter 1

Robot manipulators with passive impedance based on mechanical compliances have been investigated by many researchers. Design of robot joints with programmable passive impedance using antagonistic nonlinear springs and binary dampers was studied in reference (LaurinKovitz et al. 1991). Passive impedance control using viscoelastic material and a passive trunk mechanism was developed in reference (Suita et al. 1995). A mechanical impedance adjuster was reported in reference (Iwata et al. 1999) and (Morita and Sugano 1996), where a variable spring and damper adjusted by an electromagnetic brake were used for a passive compliant joint. A recent hybrid joint was developed in references (Li et al. 2007; Li et al. 2004; Luo et al. 2006), which introduces an electromagnetic clutch between the motor and the output shaft. This hybrid joint has both the passive and active working modes. When the clutches are released, the joints are free and passively controlled by the coupling forces of a manipulator. The joint is capable of compliantly adapting to external force and motion by switching between the active and passive modes depending on the requirement of the given task. However, this hybrid joint needs a recovering algorithm to resume the joint position. All of the hybrid active/passive joints or mechanisms mentioned above have to be specially designed, which leads to extra weight and volume due to the additional components. In some cases, passive joints can help reduce power consumption, increase flexibility, and improve safety. It is desirable to be able to switch a normal robot joint to a passive operation mode without changing the existing joint mechanism or electronics system. For example, robot-mediated motor therapies have been widely investigated in rehabilitation robots recently (Krebs et al. 1998; Burgar et al. 2000; Lum et al. 2002; Colombo et al. 2006). A robotic therapy allows subjects to perform voluntary movements, thus promoting neurogenesis and neuroplasticity, and optimizing the functional recovery after neurological injuries (Schaechter 2004; R. Teasell and Bitensky 2005), This means that the rehabilitation robots have to provide assistance as needed, so that not to perturb voluntary movements of the users, and to help completing the tasks that they are not able to perform autonomously. In this sense a passive ability during a retrograde motion, is of crucial importance. In this dissertation, building upon the new torque estimation technique, a multiple working mode control algorithm for modular reconfigurable robot rotary joint is developed. Also a multiple mode control system of a compact wrist is developed. The passive mode is realized without using mechanical solutions such as a clutch, which not only saves weight and volume 6

Chapter 1

1.5. PUBLICATIONS

of the joint, but also avoids losing track of the joints' position when switching from passive mode to active mode. These make the modular reconfigurable robot suitable for dexterous manipulation in unstructured environments, such as door opening.

1.5
1.5.1

Publications
Journal Papers

1. H. Zhang, Y. Liu, and G. Liu, "Multiple Mode Control of a Compact Wrist with Application to Door Opening," Mechatronics, Vol.23, No.1, Pages 10-20, Feb., 2013. 2. S. Ahmad, H. Zhang, and G. Liu, "Multiple Working Mode Control of Door Opening with a Mobile Modular and Reconfigurable Robot," IEEE/ASME Trans. on Mechatronics, Vol.18, No.3, Pages 833-844, Jun., 2013. 3. S. Ahmad, H. Zhang, and G. Liu, "Distributed Fault Detection for Modular and Reconfigurable Robots with Joint Torque Sensing: A Prediction Error Based Approach," revised for Mechatronics, Jan., 2013. 4. H. Zhang, S. Ahmad, and G. Liu, "Modeling and Analysis of Compliance and Hysteresis in Harmonic Drives," revised for IEEE/ASME Transactions on Mechatronics, Jan., 2013.

1.5.2

Conference Papers

1. H. Zhang, Y. Liu, and G. Liu, "Development of a Compact Wrist with Multiple Working Modes," 2011 IEEE/ASME International Conference on Advanced Intelligent Mechatronics, Budapest, Hungary, Pages 954-959, July 3-7, 2011. 2. H. Zhang, S. Ahmad, and G. Liu, "Torque Estimation of Robot Joint with Harmonic Drive Transmission," 2013 IEEE International Conference on Robotics and Automation, Karlsruhe, Germany, May 6-10, 2013. 7

1.6. ORGANIZATION OF DISSERTATION

Chapter 1

1.6

Organization of Dissertation

This dissertation consists of seven chapters and is organized as follows. Detailed literature reviews and background information are given in the first chapter. Chapter 2 focuses on harmonic drive compliance model. A novel mathematical model for the compliance of harmonic drives is presented in this chapter. Combined with a simple friction model, the proposed model captures the nonlinear stiffness and hysteresis phenomenon of harmonic drive transmission. Numerical simulations and experiments have been used to test the proposed model. In Chapter 3, a joint torque estimation method based on position measurement is presented along with a new harmonic drive compliance model. Torque estimation based on position measurements provides an advantage of noise immunity to the estimated joint torque. Using the torsional compliance of harmonic drives instead of an additional elastic component does not change the joint dynamics. Moreover, adding a link-side position sensor has the potential to improve joint control accuracy and reduce the cost of joint torque sensing. In this chapter, three sets of experiments are conducted and the results are reported. In Chapter 4, by using the estimated torque, a multiple mode control method is developed for MRR robot joint, making it work in an active mode with position control, or a passive mode with friction compensation. A robust adaptive control algorithm is developed for motion control of MRR in the active mode; and an friction compensation technique is proposed to make it capable of working in the passive mode. Active and passive mode experiments are also reported in this chapter. Chapter 5 presents the anthropomorphic wrist mechanical design and analysis. In the first section, mechanical design is reviewed, and motion analysis is also provided in this section. The kinematic analysis is given in the second section. In the last section, inverse kinematics, differential kinematics and force analysis are presented. In Chapter 6, a multiple mode control method is developed for the compact wrist, making it work in the active mode with position or torque control, or the passive mode with interactive force compensation. A robust adaptive control algorithm is developed for motion control of the compact wrist in active mode; and an interactive force compensation technique is proposed to make it capable of working in passive mode. Experiments in both the active and passive modes are provided. An application in door opening is described in the end of this chapter. Final conclusion and future research discussions are provided in Chapter 7.

8

Chapter 2 Compliance and Hysteresis Model of Harmonic Drive
2.1 Mechanism of Harmonic Drive

A typical harmonic drive consists of three main components as shown in Fig. 2.1 (Harmonic Drive LLC 2012): the wave generator (WG) connected to a motor, the circular spline (CS) connected to the base, and the flexspline (FS) sandwiched in between CS and WG and connected to the joint output.

Figure 2.1: Exploded view of a harmonic drive showing the three components The WG is composed of an elliptical disk (rigid elliptical inner-race), called wave generator 9

2.2. HARMONIC DRIVE MODEL

Chapter 2

plug, and an outer ball bearing, both of which are separate parts. The wave generator plug is inserted into the bearing, thereby giving the bearing an elliptical shape as well. The FS fits tightly over WG; when the WG plug is rotated, the FS deforms and molds into the shape of the rotating ellipse but does not rotate with the WG.

2.2
2.2.1

Harmonic Drive Model
Basic Model

Figure 2.2: The basic kinematic representation of a harmonic drive The kinematic relationship, explained in (Harmonic Drive LLC 2012), equates the angular positions at the three parts of the harmonic drive w = (N + 1) c - N f (2.1)

where, N denotes the gear ratio, w , c , and f refer to the angular positions of the wave generator, the circular spline, and the flexspline, respectively. These are also illustrated in Fig. 2.2. Taking the derivative of Eq.(2.1) with respect to time results in Eq.(2.2), an expression 10

Chapter 2 in terms of the angular velocity

2.2. HARMONIC DRIVE MODEL

w = (N + 1) c - N f where w , c , and f denote the corresponding angular velocities. The static force balance between the elements can be established as w = 1 1 c = - f (N + 1) N

(2.2)

(2.3)

where w , c , f represent the torque at the wave generator, circular spline, and flexspline, respectively. To be consistent with the existing literature and general existing applications, where the circular spline is usually fixed, so that c = 0 and c = 0, and we are unconcerned with the circular spline reaction torque c . Therefore, Eq.(2.1) to Eq.(2.3) can be simplified as w = -N f (2.4)

w = -N f

(2.5)

1 f . (2.6) N The basic model mentioned above captures the harmonic drive's ideal linear input/output relationship. For example, the harmonic drive transmission is treated as a perfectly rigid gear reduction mechanism. The empirical measurements of the input/output relationship provided in the cited literature clearly show that the output is not linearly related to the input (Curt et al. 2012). The causes of this nonlinearity are compliance in the harmonic drive parts, nonlinear viscous friction, and the kinematic error due to gear meshing. This fact motivated the need for a more comprehensive harmonic drive model. w = -

2.2.2

Basic Model with Compliance and Friction

In this harmonic drive model, both the compliance of flexspline and the harmonic drive friction are considered. Other aspects of the harmonic drive behaviour such as, hysteresis, wave generator compliance, kinematic error, and nonlinearity are neglected.These are also illustrated in 11

2.2. HARMONIC DRIVE MODEL Fig. 2.3. The classic compliance model is described by Eq.(2.7) to Eq.(2.9).

Chapter 2

Figure 2.3: The kinematic representation of a harmonic drive showing flexspline compliance

 w = -N  f i

(2.7)

 w = -N  f i

(2.8)

1 (f - f r ) (2.9) N where f r is the friction torque; f i and f i denote the flexible spline position and velocity at flexspline gear-side (flexspline gear-toothed circumference), respectively. As described in a manufacturer's catalogue (Harmonic Drive LLC 2012), the typical shape of the stiffness curve possesses two characteristic properties: increasing stiffness with displacement and hysteresis loss. To capture this nonlinear stiffness behavior, the manufacturers suggest using piecewise linear approximations (Harmonic Drive LLC 2012), whereas several independent researchers prefer a cubic polynomial approximation, i.e., as in (Volkov and Zubkov 1978; Hidaka et al. 1990), the nonlinear flexspline output torque, f , was approximated by a third order polynomial function of the torsion angle as w = - f = a1  + a3 ( )3 12 (2.10)

Chapter 2

2.2. HARMONIC DRIVE MODEL

where  is harmonic drive torsion angle, the difference between harmonic drive real output and ideal output, a1 and a3 are the constants to be determined. Remark 1 The approximation of the nonlinear flexspline output torque by a cubic polynomial Eq.(2.10) is not convenient for control purposes as in most control applications, f is available (measured) and  needs to be calculated. Another method of estimating the torsion angle is described in (Harmonic Drive LLC 2012), where  was approximated by a piecewise linear function of the output torque as shown Fig. 2.10.   f  f  T1   K1 (f -T1 ) 1 = (2.11) + K2 T1 < f < T2 K1   (Tf -T2 )  1 -T1 ) + (T2K + K2 f  T2 K1 2 where K1 , K2 , K3 , T1 , and T2 are given by the manufacturer. When torsion of the harmonic drive is assumed to be caused by flexspline only, the torsion angle is defined as  = f o - f i (2.12) where f o denotes the flexible spline position at the load side. In general, only the wave generator input position (motor's angle) and flexible output position (joint's angle) are measurable. These available position measurements can be used to calculate the harmonic drive torsion using the following relation  = f o + w . N (2.13)

There is a need for a more comprehensive harmonic drive model that can capture all the harmonic drive behaviors including nonlinear compliance and hysteresis. In the previous work, this comprehensive model has been attempted by modeling each of these behaviors separately and then adding the resulted models to the basic model of equations Eq.(2.7) to Eq.(2.9). Such an approach led to complicated models with parameters that are hard to estimate. In addition, the proposed models where hysteresis was not neglected require the derivative of the torsion angle. This motivated our research objective of deriving a simple model that can capture the previously mentioned harmonic drive behavior without explicitly modeling them and does not require the noisy derivative of the torsion angle. 13

2.2. HARMONIC DRIVE MODEL

Chapter 2

2.2.3

The Proposed Harmonic Drive Compliance Model

Harmonic drive suffers not only nonlinear compliance but also hysteresis. In this section, we will investigate a two-spring system shown in Fig. 2.4 first.

Figure 2.4: A system of two springs and one mass: Ka and Kb represent the spring constant of (a) and (b), respectively. In this system, the total displacement can be modeled as X= Fa Fb + . Ka Kb (2.14)

When F increases from 0, spring (a) is compressed and spring (b) stays at its initial position as long as F < Ff r . When F > Ff r , spring (b) is compressed by (F - Ff r ). We can model the spring (b) force as Eq.(2.15) and displacement as Eq.(2.16). Fa = F ) Fb = F - Ff r sgn(F X= where sign function is defined as   f or x > 0,  1 sgn(x) = 0 f or x = 0,   -1 f or x < 0. F F  ) Ff r + - sgn(F Ka Kb Kb

(2.15)

(2.16)

(2.17)

Fig. 2.5 shows the force of spring (b), Fb , versus force applied to spring (a), Fa ; and Fig. 2.6 shows the stiffness curve and hysteresis caused by friction. 14

Chapter 2

2.2. HARMONIC DRIVE MODEL

Figure 2.5: Spring (b) force versus force applied to spring (a).

Figure 2.6: Stiffness curve and the hysteresis caused by friction.

15

2.2. HARMONIC DRIVE MODEL

Chapter 2

From above, we can conclude that there exists hysteresis between the external force F and the displacement X in the two spring system with friction. A simple rate-dependent hysteresis model as shown in Eq.(2.15) can capture this kind of hysteresis. However, the rate measurement is noisy and not reliable. On the other hand, when another external force is added to the other side of the two spring system as shown in Fig. 2.7, then Fb becomes an independent variable. In this case, there is no hysteresis relationship between Fa and Fb , and the rate-dependent hysteresis model does not work any more. However, Eq.(2.14) still works. If Fa and Fb can be measured, we can capture the system displacement X without considering hysteresis. And harmonic drive system is very similar to above two springs system with two external forces, it has external torque and wave generator torque. In most case, the external toque and the wave generator torque are independent.

Figure 2.7: A system of two springs and one mass with two external forces To adequately describe the behavior of harmonic drive, the deformations of both the flexspline and the wave generator must be considered. An advantage of modeling the deformations of both is the capability of the model in capturing hysteresis behavior of the harmonic drive. It will be shown that a high fidelity harmonic drive model being able to capture complicated behaviors is achieved by modeling the compliance of the wave generator in addition to the compliance of the flexspline. When the wave generator's rigid elliptical inner-race is rotated, the flexspline molds into the rotating elliptical shape but does not rotate with it. The axes of these two elliptical shapes (WG and FS) are not always aligned, as shown in Fig. 2.8. The reason behind this misalignment is the compliance of the wave generator, namely, the outer rim of the ball bearing. This misalignment depends on magnitude of the torque applied to the wave generator plug as well as the load torque. This compliance of the wave generator needs to be taking into account when modeling the harmonic drive compliance. In this section, a model of the compliance of flexspline and wave generator is derived first, then, the complete compliance model is given. Fig. 2.9 shows the diagram of harmonic drive considering flexspline and 16

Chapter 2

2.2. HARMONIC DRIVE MODEL

Figure 2.8: Wave generator axes displacement

Figure 2.9: The kinematic representation of a harmonic drive showing flexspline and wave generator compliance

17

2.2. HARMONIC DRIVE MODEL wave generator deformation. Let us define the flexspline and wave generator torsion as f = f o - f i ,

Chapter 2

(2.18)

w = wo - wi . Comparing Fig. 2.9 with Fig. 2.2, from harmonic drive basic model Eq.(2.4), we have wo = -N f i .

(2.19)

(2.20)

Eq.(2.20) can not be implemented as f i may not be measured. However, the wave generator input position and the flexible output position are measured and can be used to calculate the harmonic drive torsion as given below  = f o + By adding and subtracting the terms f i and
wo N

wi . N

(2.21)

from Eq.(2.21), we obtain wo N - wo wi - N N . (2.22)

 = f o - f i + f i +

Substituting Eq.(2.18), Eq.(2.19) and Eq.(2.19) into Eq.(2.22), we obtain = f - w . N (2.23)

Eq.( 2.10) and Eq.(2.11) give the nonlinear compliance of the flexspline, but they are not convenient to use. It is more suitable to describe the torsion angle as a function of the torque, especially for control purposes. By observing equation Eq.(2.10) and the stiffness curve in Fig. 2.10, it is clear that the local elastic coefficient increases with the increase of f . If we define df Kf l = , d f Kf l should be a function of f . Considering symmetric and using Taylor expansion, the local 18

Chapter 2 elastic coefficient can be approximated by

2.2. HARMONIC DRIVE MODEL

Kf l = Kf 0 1 + (cf f )2 , where, Kf 0 and cf are constants to be determined. Then, the torsion can be calculated as
f

(2.24)

f =
0

df . Kf l

(2.25)

Substituting Kf l Eq.(2.24) into Eq.(2.25), we obtain f = atan(cf f ) . cf K f 0 (2.26)

Remark 2 By observing equation Eq.(2.26), it is clear that f can be easily obtained from f and vice versa.

Let us consider that the hysteresis is caused by the wave generator torsion. When the motor output torque is within harmonic drive's starting torque, the harmonic drive's output torque will not change, which causes hysteresis. From Fig. 2.10, it can be seen that the hysteresis decreases to zero sharply at torque T0 , which means that both of the stiffness and the local elastic coefficient increase sharply. Therefore, we model the wave generator local elastic coefficient as Kwl = Kw0 ecw |w | , (2.27) where, Kwl = Kw0 and cw are constants to be determined. The wave generator torsion angle can be calculated using the following relationship:
w

dw , d w

w =
0

dw . Kwl

(2.28)

19

2.3. PARAMETER ESTIMATION Substituting Eq.(2.27) into Eq.(2.28), we obtain w = sgn (w ) 1 - e-cw |w | . cw K w 0

Chapter 2

(2.29)

Finally, the total deformation of the harmonic drive is approximated by synergetic integration of the flexspline and wave generator deformation that are given in Eq.(2.26) and Eq.(2.29), respectively. Substituting them into Eq.(2.23), we obtain = atan(cf f ) sgn (w ) - (1 - e-cw |w | ). cf K f 0 cw N K w 0 (2.30)

2.3

Parameter Estimation

In this section, a systematic way of estimating the parameters of the proposed harmonic drive model is described. A typical stiffness and hysteresis curve of a harmonic drive, as provided by manufacture's specification sheet, is depicted in Fig. 2.10. From the lower graph stiffness and hysteresis curve Fig. 2.10, assuming proposed model have same local elastic coefficient as piecewise model at center of piece, the local elastic coefficient at torque T1 /2 and T1 /2 + T2 /2 is K1 and K2 , respectively. These local elastic coefficients, K1 and K2 can be calculated using Eq.(2.24), as follows K1 = Kf 0 1 + (cf T1 /2)2 , (2.31)

K2 = Kf 0 1 + (cf (T1 + T2 )/2)2 . By solving Eq.(2.31) and Eq.(2.32) for Kf 0 and cf , we obtain Kf 0 = K1 +
2 (K1 - K2 )T1 2 (T1 + T2 )2 - T1

(2.32)

(2.33)

cf = 2

K2 - K1 . 2 K1 (T1 + T2 )2 - K2 T1 20

(2.34)

Chapter 2

2.3. PARAMETER ESTIMATION

Figure 2.10: Typical stiffness and hysteresis curve of a harmonic drive.

21

2.3. PARAMETER ESTIMATION

Chapter 2

For the wave generator, when the motor output torque is within harmonic drive's starting torque, the harmonic drive's output torque will not change, which causes hysteresis. Therefore, the stiffness of WG around zero output torque can be estimated using the following relationship: 2f s Kw 0 = , (2.35) N where,  denotes the hysteresis loss and f s is the harmonic drive's starting friction torque. From equation Eq.(2.29), we know the maximum torsion caused by the wave generator is 1/(cw N Kw0 ) at one direction. It is also evident from Fig. 2.10 that the total deformation caused by the wave generator at one direction is half of the hysteresis, . Therefore, we obtain 0.5 = Solving Eq.(2.36), we have cw = 2 . N Kw 0  (2.37) 1 . cw N K w 0 (2.36)

Simulations have been utilized to compare the performance of the proposed stiffness model with the linear piecewise model and the cubic polynomial model. Fig. 2.11 shows the simulation results for the piecewise linear model, the cubic polynomial model, and the proposed model, respectively. The results indicate that the proposed model matches others.

Figure 2.11: Simulation results of local elastic coefficient.

22

Chapter 2

2.4. EXPERIMENTAL RESULTS

Figure 2.12: The stiffness curves for piecewise linear model, cubic polynomial model, and proposed model

2.4

Experimental Results

To monitor the behavior of the harmonic drive, a test station is set up as shown in Fig. 2.13, Fig. 2.14 and Fig. 2.15. The experimental diagram is as shown in Fig. 2.16. The harmonic drive is driven by a DC motor with a fixed output shaft position (with output rotationally locked). In this experiment, a brushed DC motor from Maxon, model 218014, is used. Its weight is 480g, with maximum rated torque of 18.8 Ncm, and torque constant of 0.321 Nm/amp. A linear power amplifier and the Q8 data acquisition board from Quanser Inc. are used to drive the motor and collect experimental data. The harmonic drive in the setup is SHD-17-100-2SH with gear ratio of 100:1, and rated torque of 16 Nm from Harmonic Drive AG. Robotic joints are usually equipped with optical incremental encoder to measure the motorside position for control purposes as shown in Fig. 2.13. However, incremental encoders only provide the relative position of the motor shaft. Therefore, a method of determining the absolute position of the motor shaft is necessary. To obtain the motor absolute position, the joint is rotated 3600 clockwise free-run while recording the flexspline output position at each encouncwi 0 tered index of the incremental encoder, f o . Then the joint is rotated 360 counterclockwise, ccwi and the flexspline output position (the link-side absolute encoder readings) at each index f o is recorded. For one complete rotation, there are N indexes. The offset of the incremental 23

2.4. EXPERIMENTAL RESULTS

Chapter 2

Figure 2.13: Schematic diagram of experimental setup.

Figure 2.14: Cross-sectional view of the experimental joint

Figure 2.15: A picture of the experimental setup 24

Chapter 2 encoder installed at the motor side is determined as
N -1

2.4. EXPERIMENTAL RESULTS

of f set =
i=0

cwi ccwi (f o + f o - 2i360/N ) , 2N

(2.38)

where of f set is the offset between the link-side absolute position measurement and the motorside incremental encoder relative position measurement, N is the gear ratio which equals to the number of indexes. The absolute position of the motor shaft is estimated using the recorded link-side positions, f o0 , at the first encountered index after power-on, as wi = of f set + N 360 int( (f o0 - of f set ) + 0.5) + IE , N 360 (2.39)

where IE is the incremental encoder reading, and int(.) is a conversion function that converts float to integer data type. This algorithm will be implemented in the "SSi to USB and Relative to Absolute" block of diagram shown in Fig. 2.16.

Figure 2.16: Schematic diagram of experiment. Two experiments were conducted. In the first experiment, a controlled torque was applied to the wave generator with a fixed output link (FS). In this case, the torsion across the harmonic drive was measured using two encoders, one on the motor-side and another on the link-side, the output torque was measured by link-side force sensor, and applied torque at wave generator was calculated from the command torque. In the second experiment, a position controller was 25

2.4. EXPERIMENTAL RESULTS

Chapter 2

used to hold the wave generator at a fixed position (with input rotationally locked), and both forward as well as backward torque was applied to the link. In this case, torsion across the harmonic drive was measured by two encoders, the link-side torque was measured by link-side force sensor, and the wave generator torque was calculated using static friction model. From manufacture's catalogue (Harmonic Drive LLC 2012), the following parameters were obtained: K1 = 8.4 × 103 N m/rad, K2 = 9.4 × 103 N m/rad, T1 = 3.9 N m, T2 = 12 N m. Kf 0 and cf can be obtained by solving equations Eq.(2.33) and Eq.(2.34) as given below Kf 0 = 8.2 × 103 N m/rad, cf = 0.012 N m-1 . Also from manufacture's datasheet, one can obtain , i.e.,  = 2.9 × 10-4 rad. Two quantities are measured, the starting torque on wavegenerator f s and back-driving torque on flexspline f b . f s = 1.2N cm, f b = 2.0 N m. Using the above constants and substituting into Eq.(2.35), the Kw0 can be calculated as shown below 2 × 1.2 × 10-2 = 0.83 N m/rad. Kw 0 = 100 × 2.9 × 10-4 By plugging Kw0 and  in equation Eq.(2.36), one can obtain cw = 2 -1 -4 = 83.1 N m . 100 × 0.83 × 2.9 × 10

These parameters are calculated to be used with the harmonic drive model of equation Eq.(2.30). Once the model parameters are calculated and/or estimated, the model can be tested by comparing its performance to the experimental data. 26

Chapter 2

2.4. EXPERIMENTAL RESULTS

Figure 2.17: Motor-side input torque signal history

In the first experiment, to observe the harmonic drive stiffness and hysteretic behavior, a sinusoid torque command signal with monotonically decreasing amplitude is used to drive the DC motor as depicted in Fig. 2.17. The torsion across the harmonic drive is measured by simultaneously reading the encoders mounted on the output-side (flexspline) as well as the motor-side. The empirical data collected from the first experiment along with the model based torsion versus the input torque values are depicted in Fig. 2.18. The estimation error of the classic model given in Eq.(2.11) and that of the proposed model in Eq.(2.30) are shown in Fig. 2.19, Fig. 2.20. The results show that the proposed model can achieve better torsion estimation. This is due to the fact that the proposed model captures the hysteresis behavior of the harmonic drive. As shown in Fig. 2.20, the estimation errors form two similar curves. The pattern of the two similar curves is related to the kinematic error, while the distance between the two curves represents hysteresis error. The proposed model reduces the distance between the two curves, that is, reduces the hysteresis error. Based on this experiment, the estimation error was reduced from ±2.3 × 10-4 rad to ±1.7 × 10-4 rad. The remaining error is caused by the unmodeled kinematic error. The simple and efficient compliance model proposed in this work achieves estimation errors similar to those achieved by the more complicated models, e.g., the work presented by (Preissner et al. 2012). In the second experiment, a bidirectional external torque is applied on flexspline side as shown in Fig. 2.21. The motor-side torque (wave generator torque) is estimated using the following 27

2.4. EXPERIMENTAL RESULTS

Chapter 2

Figure 2.18: Motor-side input torque versus output torsion

Figure 2.19: Comparison of estimation error versus time

Figure 2.20: Comparison of estimation error versus motor positions 28

Chapter 2

2.4. EXPERIMENTAL RESULTS

equations where the measured back-driving friction torque, f b , was used: If (f (t) + N w (t - 1) > f b ), w (t) = -(f (t) - f b )/N if (f (t) - N w (t - 1) > -f b ), w (t) = -(f (t) + f b )/N else , w (t) = w (t - 1).

(2.40)

The harmonic drive torsional angle is obtained by substituting the measured link-side position and the motor-side position into Eq.(2.21). Comparison between the measured torsional angle the torsion estimated using Eq.(2.30) is shown in Fig. 2.22. The agreement between the predicted torsional compliance and the experimental data in both experiments confirmed the validity of the proposed model.

Figure 2.21: External torque applied on the output-side

Figure 2.22: Output torque versus output torsion

29

2.5. CONCLUSION

Chapter 2

2.5

Conclusion

A novel mathematical model for the compliance of harmonic drives has been presented. When combined with a simple friction model, the proposed model captures the nonlinear stiffness and hysteresis phenomenon of harmonic drive transmission. Numerical simulations and experiments have been used to test the proposed modeling concept; accurate match in the result confirmed the reliability of the proposed model. Advantages of the model include its simple structure, its ability of capturing hysteresis, and the method of verification. The proposed modeling approach does not require detailed knowledge of the gear tooth geometry or wave generator kinematics to account for hysteresis model as in other proposed works. The model was compared with measurements for two cases, one in which the output shaft is rotationally locked and the other one when the shaft is free to rotate. The proposed model resolve the difficulties in estimating harmonic drive model parameters associated with many of the previously proposed models and can predict the harmonic drive behavior at operating points different than those used for model identification.

30

Chapter 3 Torque Estimation with Harmonic Drive Compliance Model
3.1 Torque Estimation

In the last chapter, we considered harmonic drive flexspline and wave generator bearing deformation. The harmonic drive output angle usually differs from the theoretical angle even with consideration of flexibility. The kinematic position error is the difference between the theoretical and actual output rotation angles at zero torque. The literature, however, still lacks a precise characterization of the mechanism responsible for the kinematic error. First, the origin of kinematic-error is not known precisely. Nye and Kraml (1991) had demonstrated that typical kinematical-error signatures vary periodically at one and two times the rotational frequency of the wave generator and subsequent harmonics. Tuttle and Seering (1993) carried out a mathematical analysis regarding the source of kinematic error and concluded that the error is due to assembly and physical imperfections on the three principal elements of a harmonic drive. In this section, we try to estimate the transmitted torque using harmonic drive deformation. The kinematic error will affect the estimation. Assuming the transmitted torque is around harmonic drive rated torque, the local stiffness will be around K2 , and the related torque estimation error will be kerr = K2 err . (3.1) 31

3.1. TORQUE ESTIMATION

Chapter 3

Table 3.1: Theoretical torque estimation error caused by kinematic error for SHD series Harmonic Drive

Size Ratio Rated torque (N m) 14 50 100 17 50 100 50 20 100 160 50 25 100 160 50 32 100 160 50 40 100 160 3.7 5.4 11.0 16.0 17 28 28 27 47 47 53 96 96 96 185 206

K2 104 (N m/Rad) 0.37 0.44 0.88 0.94 1.3 1.7 1.7 2.7 3.7 3.7 6.1 7.8 7.8 11.0 14.0 14.0

Max Kinematic error 10-4 (Rad) 4.4 4.4 4.4 4.4 2.9 2.9 2.9 2.9 2.9 2.9 2.9 2.9 2.9 2.9 2.9 2.9

Max Torque error (N m) 1.6 1.9 3.8 4.1 3.7 4.9 4.9 7.8 10.7 10.7 17.7 22.6 22.6 31 40 40

Relative error (%) 43 35 35 25 21 17 17 29 23 23 33 24 24 32 22 19

32

Chapter 3 Define the relative torque estimation error as relative error =

3.1. TORQUE ESTIMATION

kerr × 100%, rated torque

(3.2)

Table. 3.1 (Harmonic Drive LLC 2012) gives the position accuracy (maximum kinematic error) of all SHD series harmonic drives, as well as the absolute and relative torque estimation accuracy related to position accuracy. From the table, we can see that the torque estimation accuracy will be very low if we don't consider kinematic errors. To achieve a relative accurate torque estimation, the kinematic error must be included. The kinematic error can be measured for one complete output revolution using the high resolution link side absolute encoder. The dashed blue curve in Fig. 3.1 shows the kinematic error distribution based on the link side position.

Figure 3.1: Kinematic error distribution based on link position

By using Fourier curve fitting, we can model the kinematic error as following errl = al0 + al1 cos(f o wl ) + bl1 sin(f o wl ), 33 (3.3)

3.1. TORQUE ESTIMATION the result is shown as a red solid curve in Fig. 3.1. If we define errw = err - errl ,

Chapter 3

(3.4)

and map errw to motor side position, we can get the residual distribution as dashed blue in Fig. 3.2. Also by using Fourier curve fitting, we can model the residual kinematic error as

Figure 3.2: Kinematic error distribution based on motor position

errw = aw0 + aw1 cos(wi ww ) + bw1 sin(wo ww ) + aw2 cos(2wi ww ) + bw2 sin(2wi ww ). (3.5) The modeled residual part is shown as a red solid curve in same figure. So the total kinematic error can be modeled as Eq.(3.6) err = errl + errw , (3.6)

err = a0 + al1 cos(f o wl ) + bl1 sin(f o wl ) + aw1 cos(wi ww ) +bw1 sin(wo ww ) + aw2 cos(2wi ww ) + bw2 sin(2wi ww ), where a0 , al1 , bl1 , wl , aw1 , aw2 , bw1 , bw2 , ww are parameters determined as in Table. 3.2. 34

(3.7)

Chapter 3

3.1. TORQUE ESTIMATION

Table 3.2: Kinematic error modeling parameters parameters Value a0 al 1 bl 1 wl aw 1 bw 1 aw 2 bw 2 ww 0 -0.0001476 -0.004309 0.01731 0.001594 -0.001891 0.003288 0.0009049 0.01734

The total modeled kinematic error is shown in Fig. 3.3.

Figure 3.3: Modeled kinematic error. Considering kinematic error, Eq.(2.23) can be modified as = f - 35 w + err . N (3.8)

3.2. EXPERIMENTAL SETUP AND RESULTS So after we get the kinematic error, the torque can be estimated by Eq.(3.9). f = + sgn (w ) 1 - e-cw |w | - err cw N K w 0

Chapter 3

(3.9)

The total torsional deformation of the harmonic drive is measured using both link-side and motor-side encoders. The wave generator torque w is approximated by the motor torque command. The flexspline torsional deformation cab be calculated by Eq.(3.9). Having the flexspline torsional deformation, f , the joint torque estimate is obtained using the inverse of Eq.(2.26). tan( f cf Kf 0 ) f = (3.10) cf A block diagram illustrating the proposed torque estimation method is portrayed in Fig. 3.4.

Figure 3.4: Block diagram of the proposed torque estimation technique

3.2

Experimental Setup and Results

To verify the proposed torque estimation method, we have conducted three sets of experiments. The test station was set up as shown in Fig. 2.13, Fig. 2.14, Fig. 2.15 and Fig. 3.5. The base joint (joint 1) in Fig. 2.15 is developed in our laboratory to investigate the performance of the proposed joint torque estimation method. In these experimental setups, the harmonic drive of 36

Chapter 3

3.2. EXPERIMENTAL SETUP AND RESULTS

joint 1 is driven by a brushed DC motor from Maxon, model 218014. A linear power amplifier and the Q8 data acquisition board from Quanser Inc. are used to drive the motor and collect experimental data. The harmonic drive in the setup is SHD-17-100-2SH with gear ratio of 100:1, and rated torque of 16 N m from Harmonic Drive AG. The link position sensor is able to measure the off-drive position with an accuracy of better than 0.01 degree. As the absolute position is measured no reference sequences have to be performed during the power up of the robot. The sensor has a flat shape and allows the use of a huge hallow shaft. The link-side torque is measured using an ATI six-axis force/torque sensor, Mini45-ERA. A cross-sectional view of the developed robotic joint with the link-side encoder is shown Fig. 2.14.

(a)

(b)

Figure 3.5: Picture of experiment setup: (a)without payload; (b)with payload In first experiment, the setup is shown as in Fig. 2.15. The joint is open-loop controlled in torque mode at different torque outputs. The efficiency of the proposed torque estimation method is verified by comparing the estimated joint torque with a torque measurement from the ATI force/torque sensor mounted on the output of the base joint. The external torque is added manually as a disturbance, and the results are depicted in Fig. 3.9 and Table. 3.3. In the second experiment setup, Joint 2, joint 3, and the link are used as payload as shown 37

3.2. EXPERIMENTAL SETUP AND RESULTS

Chapter 3

Table 3.3: Torque estimation error at different motor outputs M otor Output T orque (N cm) M ax speed (Rad/s) M ax T orque Error (N m) M in T orque Error (N m) 0 0.02 0.3 -0.5 3 -3 5 1.50 0.8 -1.2 -5 10 -10 -1.56 0.6 -2.3

1.43 -1.30 0.2 -1.2 0.6 -1.1

-1.41 1.56 0.7 -1.3 1.0 -0.9

in Fig. 3.5(a). The accuracy of the proposed torque estimation method is verified by comparing the estimated joint torque with the torque measurement from the ATI force/torque sensor mounted on the output of the base joint. Both slow and sudden changes of the load were applied and the results are depicted in Fig. 3.6 and Fig. 3.7. Slow changes of the load torque were introduced by controlling the joint motion with a sinusoidal desired trajectory. The moving links and the joints attached to the base joint introduce a gradually changing load torque. To introduce sudden changes to the load torque, an external torque was applied manually in both directions. The error in torque estimation is around 1N m, which is comparable with the commercial F/T sensor. In the last experiment setup, an additional payload is added at 400mm

Figure 3.6: Estimated torque versus torque measured by F/T sensor (response to slow changes) horizontal distance from center of joint 1 as shown in Fig. 3.5(b). The payload is suddenly removed by cutting the wire. The result is shown in Fig. 3.8. The result shows the proposed estimation has a relatively good dynamic response. 38

Chapter 3

3.2. EXPERIMENTAL SETUP AND RESULTS

Figure 3.7: Estimated torque versus torque measured by F/T sensor (response to fast changes)

Figure 3.8: Torque estimation at payload suddenly change

39

3.2. EXPERIMENTAL SETUP AND RESULTS

Chapter 3

(a)

(b)

(c)

(d)

(e)

(f)

(g)

Figure 3.9: Snapshots for torque estimation at different motor output 40

Chapter 4 Multiple Mode Control of MRR with HDT Joint
In this chapter, a multiple mode control method using the estimated torque is developed for the MRR robotic joint, making it work in active mode with position control, or passive mode with friction compensation. A robust adaptive control algorithm is developed for motion control of MRR in active mode; and an friction compensation technique is proposed to make it capable of working in passive mode.

4.1

MRR Joint Dynamics

Considering an MRR constructed with n actuator modules and n links, each module is integrated with a rotary joint with a harmonic drive and two encoders as illustrated in Fig. 4.1. Similarly as in (Imura et al. 1991), we assume: Assumption 1 The rotor is symmetric with respect to the axis of rotation. Assumption 2 The torque transmission does not fail at the speed reducer. Consider a modular and reconfigurable articulated robot with modules installed in series. Each module provides a rotary joint. The base module is named the first module. Modules close to the first module are denoted as lower modules, and modules close to the end-effector are called upper modules. For the ith module, we use the following notations: 41

4.1. MRR JOINT DYNAMICS

Chapter 4

Figure 4.1: Schematic diagram of an MRR module Imi :moment of inertia of the ith rotor about the axis of rotation; Ili :moment of inertia of the ith link about the axis of rotation; Ni : reduction ratio of the speed reducer (Ni  1); qmi : motor position of the ith joint; qli : link position of the ith joint; fmi (qmi , q mi ): joint friction on motor side, assumed to be a function of motor position and velocity; fli (qli , q li ): joint friction on link side, assumed to be a function of link position and velocity; gli (ql0 ...qli ): link gravity of the ith joint; exti : External torque added to link of the ith joint; ti : Torque transferred at transmission system of the ith joint; mi : motor output torque of the ith joint; zmi :unity vector along the axis of rotation of the ith joint; zli :unity vector along the axis of rotation of the ith link; The dynamic equations at motor side and link side for each module are formulated as follows: for the base module, i = 1 Il1 q ¨l1 + fl1 (ql1 , q l1 ) + gl1 (ql1 ) = t1 + ext1 ; t1 = m1 ; N1 (4.1)

Im1 q ¨m1 + fm1 (qm1 , q m1 ) + 42

(4.2)

Chapter 4 for the second module from the base, i=2

4.1. MRR JOINT DYNAMICS

Il2 q ¨l2 + fl2 (ql2 , q l2 ) + Il2 zlT ¨l1 + gl2 (ql1 , ql2 ) = t2 + ext2 ; 2 zl1 q

(4.3)

T Im2 q ¨m2 + fm2 (qm2 , q m2 ) + Im2 zm ¨l1 + 2 zl1 q

t2 = m2 ; N2

(4.4)

for the upper joints, i  3
i- 1 i-1 j -1 T zli zlj q ¨lj + Ili j =1 j =2 k=1 T zli (zlk × zlj ) q lk q lj + gli (ql1 , ..., qli ) = ti + exti ;

Ili q ¨li + fli (qli , q li )+ Ili

(4.5)

i-1

i-1 j -1 T zmi zlj q ¨lj + Imi T zmi (zlk × zlj ) q lk q lj + j =2 k=1

Imi q ¨mi + fmi (qmi , q mi )+ Imi
j =1

ti = mi . (4.6) Ni

The link side friction fli (qli , q li ) is assumed to be a function of the link position and velocity (Liu 2002; Armstrong-Helouvry et al. 1994).
2 fli (qli , q li ) = (flci + flsi exp(-fl i q li ))sgn(q li ) + bli q li + fqli (qli , q li )

(4.7)

Similarly, the rotor side friction can be modeled as
2 fmi (qmi , q mi ) = (fmci + fmsi exp(-fm i q mi ))sgn(q mi ) + bmi q mi + fqmi (qmi , q mi ),

(4.8)

where flci and fmci denote the Coulomb friction-related parameters on link side and motor side, respectively; flsi and fmsi represent the static friction friction-related parameters; fl i and fm i are the positive parameters corresponding to the Stribeck effect; bli and bmi denote the viscous friction coefficients; fqli and fqmi reflect the position dependency of friction and other friction modeling errors. The sign function is defined as Eq.(2.17). The dynamic model is formulated to include Coulomb friction, static friction, Stribeck effect, position dependency, and other bounded disturbances. In this model, we neglect frictional memory and rising static friction as discussed by Armstrong et al. (1994). 43

4.2. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE

Chapter 4

4.2

Robust Adaptive Control in Active Mode with the Estimated Torque

Easily changing configurations to deal with different tasks is the advantage of the modular and reconfigurable robot, but with the reconfiguration, the robot dynamic parameters also change. Therefore, controllers designed based on one configuration dynamics will not work well when the MRR is reconfigured. This is the reason why the decentralized control technique is applied in our research. For the decentralized control, each joint is considered as an independent subsystem, and the dynamic effects from the other links and joints are treated as disturbances. Therefore, the decentralized control is suitable for independent robot configurations so as to achieve modularity in software. Because of the decentralized control, the controller doesn't know where the module is installed, and what the link parameters are. When we review the dynamic equations Eq.(4.4) and Eq.(4.5). we don't know any parameter in Eq.(4.4). But it is possible to consider the dynamics equations at the motor side and the link side separately in a joint with a torque sensor (Kawakami et al. 2010). The moment of inertia of the ith rotor about its axis of rotation, Imi , is a physical parameter of the ith module, which can be identified offline and does not change with the robot reconfiguration. The joint friction at the rotor side is another major source of model uncertainty. The friction model parameters bmi , fmci , fmsi and fm i are not accurately known, and not necessarily constant. However, their nominal values can be determined offline ^ ^ as constants. The nominal values of bmi , fmci , fmsi and fm i are denoted as ^ bmi , f mci , fmsi and ^ f m i , respectively.
i-1

Model uncertainty in the third term of Eq.(4.6), Imi
j =1

T zmi zlj q ¨lj , can result from the robot

reconfiguration, such as misalignment of the axes. The magnitude of this uncertainty is dependent upon the accelerations of the first i - 1 joints. Model uncertainty in the fourth term of
i-1 j -1

Eq.(4.6), Imi
j =2 k=1

T zmi (zlk × zlj ) q lk q lj , can also result from the robot reconfiguration. The

magnitude of this model uncertainty is dependent upon the velocities of all of the first i - 1 joints. Let Fmi = [bmi fmci fmsi fm i ]T . According to the model uncertainty decomposition scheme proposed in (Liu et al. 2006), Fmi can be decomposed into a constant part plus a variable part, 44

Chapter 4 i.e.,

4.2. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE

v c , + Fmi Fmi = Fmi

(4.9)

where the superscripts "c" and "v" represent constant and variable part, respectively. Property 1 The variable part in Eq.(4.9) is bounded, i.e.,
v |Fmi | < Fmi ,

(4.10)

where Fmi is the constant bound. Assumption 3 The nonparametric friction term in Eq.(4.8) is bounded, i.e., |fqmi (qmi , q mi ) | < f qmi , where fqmi is a known constant bound for any positions qmi and velocities q mi .
T Assumption 4 Since zmi , zlj and zlk are unit vectors, the resulting vector products zmi (zlk × T zlj ) and zmi zlj are bounded. Furthermore, as the base robotic arm is stabilized, the accelerations (q ¨lj ) and velocities (q lj , q lk ) of the robotic arm joints must be bounded. Hence, the inertial and Coriolis forces associated with motion of the base robotic arm are bounded, i.e., if we define i- 1 i-1 j -1 T zmi zlj q ¨lj j =1

(4.11)

base > max for any possible configuration, then

+
j =2 k=1

T zmi (zlk × zlj ) q lk q lj

(4.12)

n

n T zmi zlj q ¨lj

j -1 T zmi (zlk × zlj ) q lk q lj < Imi base ,

|basei | = Imi
j =1

+
j =2 k=1

(4.13)

where base is a constant bound. Assumption 5 The torque estimation inaccuracy and noise is bounded; furthermore, the estimate error of ti is bounded i.e., | ~ti | = | ti -  ^ti | < ti , 45 (4.14)

4.2. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE

Chapter 4

where  ^ti is the torque estimation in the last chapter, ti are known constant bounds.

Define the system errors as
d ei = qmi - qmi , ri = e  i + i ei , d - 2i e  i - 2 ai = q ¨mi i ei ,

(4.15)

d where qmi is the desired joint space motion for the ith joint, which may be derived from the d desired link side with the inverse dynamics; q mi denotes the corresponding joint-space motor d side velocity; q ¨mi represents the desired joint-space motor side accelerations; i is a positive constant. ^c represent estimations of the constant friction parameters and using ^c and f ^c , f Let ^ bc , f mi mci msi m i

the linearization scheme proposed in (Liu et al. 2006), the friction model shown in Eq.(4.8) can be approximated by  ^c (q ~ c + F v + fqmi (qmi , q mi ) + f mi ) , mi ) F fmi (qmi , q mi )  f mi (q mi mi mi mi ) + Yi (q (4.16)

 ^c T ^c mi ), f ^c ^c ^ c = [^ ^ c with F ~c = F c - F mi ), and Yi (q mi ) bc where F mi (q mi fmci fmsi fm i ] ; fmi (q mi mi mi mi can be detailed as follows: ^c 2 sat (q ^c ^c ^c (q mi , mi , qmi ) + ^ bc f mi mi q mi mi ) = fmci + fmsi exp - fm i q 2  mi ) - sat (q mi , qmi )] fmi (q mi ) = [fmci + fmsi exp (-fm i q mi )] [sgn (q 2 2 ^c q ^c 2 exp(-f ^c q Yi ( q mi ) = 0 1 exp(-f mi m i mi ) m i mi ) -fmsi q ·sat(q mi , qmi ) + q mi 0 0 0 , where
q i

(4.17)

is a positive constant, sat(x,y) is the saturation function defined as follows: sat(x, y ) =
x |x | x y

|x| > y |x|  y,

(4.18)

  Assumption 6 The last item in Eq.(4.16) f mi ) is bounded, i.e., |f mi ) | < fmi . mi (q mi (q

To follow the desired trajectories in joint space, a robust adaptive control law is designed as 46

Chapter 4 follows:

4.2. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE

t  ^ti ^c (q mi = Imi ai + N +f mi mi ) - KIi 0 ri (t) dt i  ti - fmi + fqmi + Imi base + N · sat (ri , i 4

ri )

(4.19)

-
j =1

Fmij Yij (q mi ) sat ri Yij (q mi ) ,
ri

Fmij

,

where Yij (q mi ) is the jth element of Yi (q mi ), and

and

Fmij

are positive control parameters,

Theorem 1 Given the module reconfigurable robot, the joint dynamics as given in Eq.(4.6), the tracking error of each joint is uniformly ultimately bounded under the control law given by c ^ i )]T ri with a positive constant µF ic . Eq.(4.19) and the adaption law of F mi = -µF ic [Yi (q

proof 1 Consider the Lyapunov function candidate I r2 + 1 k V =1 2 mi i 2 Ii Differentiating Eq.(4.20), it yields
t r 0 i c ~ F mi
T

t r 0 i

(t) dt

2

+

~c T ~c 1 (Fmi ) Fmi , 2 µF ic

(4.20)

 = ri Imi r V i + kIi

(t) dt +

~c F mi

µF ic

.

(4.21)

Substituting Eq.(4.15) and Eq.(4.19) into Eq.(4.6), we obtain ri Imi r i + KIi
t r (t) dt = 0 i ~ti + ti sat(ri , ri ) -ri  - ri Ni 4 2 -Imi i ri - ri fmi (qmi , q mi ) - ri basei

fmi + fqmi + Imi base sat (ri ,
Fmij

ri )

(4.22)

-ri
j =1

Fmij Yij (q mi ) · sat ri Yij (q mi ) ,

^c (q + ri f mi mi ) .

c Since Fmi is a constant vector, we have

c  c = -F ~ ^ F i i. Substituting Eq.(4.22) and the adaption law into Eq.(4.21), and considering saturation function 47

4.2. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE Eq.(4.18), we can obtain

Chapter 4

ri  ~ti + ti sat(ri , ri ) 2   = -Imi i ri - ri f mi ) + fmi sat (ri , ri ) - V mi (q Ni -ri fqmi (qmi , q mi ) + fqmi sat (ri , ri ) - ri basei + Imi base sat (ri , 4

ri )

(4.23)

-
j =1

v ri Yij (q mi ) Fij + Fmij sat ri Yij (q i ) ,

Fmij

,

v v and Fmi , respectively. and Fmij are the jth element of Fmi where Fmij

From Assumptions 3­ 6, if |ri | > -ri 1 -N i -ri -ri If |ri | 
ri ,

ri ,

the second to fifth items in Eq.(4.23) are negative, i.e.,

 f mi ) + f i · sat (ri , ri ) < 0, mi (q · ri  ~ti +  ti · sat (ri , ri ) < 0, fqmi (qmi , q mi ) + fqmi · sat (ri , ri ) < 0, basei + Imi base · sat (ri , ri ) < 0.

(4.24)

we have  -ri f mi ) + fmi · sat (ri , mi (q
1 -N · ri  ~ti +  ti · sat (ri , i ri

ri

)

 fmi ri
ti r Ni i ri |r i |

ri |r i |

- ,

ri
ri

, (4.25) .

)



-

ri
ri

-ri fqmi (qmi , q mi ) + f qmi sat (ri , -ri basei + Imi base · sat (ri , Similarly, from Property 1, if |ri Yij (q mi ) | >

ri )

 fqmi ri  Imi base ri

ri |ri |

-

ri
ri

,
ri
ri

ri )

ri |ri |

-

Fmij ,

the last item in Eq.(4.23) satisfies

v -ri Yij (q mi ) Fmij + Fmij sat ri Yij (q mi ) ,

Fmij

< 0.

(4.26)

If |ri Yij (q mi ) | 

Fmij ,

we have

v -ri Yij (q mi ) Fmij + Fmij sat ri Yij (q mi ) ,

Fmij

 Fmij ri Yij (q mi )

ri Yij (q mi ) |ri Yij (q mi )|

-

ri Yij (q mi )
Fmij

.

(4.27)

Since the right-side terms in Eq.(4.25) and Eq.(4.27) achieve the maximum values at |ri | = 48

ri

2

Chapter 4 and |ri Yij (q i ) | =

4.3. INTERACTIVE FORCE COMPENSATION IN PASSIVE MODE
Fmij

2

, respectively, we can obtain

2   -Imi i ri + V

4 j =1

Fmij 4

Fmij

+

ri

4

fmi +

ti Ni

+ fqmi + Imi base .

(4.28)

From Eq.(4.28), V is a Lyapunov function only when
ti Ni 4 Fmij 4
Fmij

ri

4

fmi +

+ fqmi + Imi base +
j =1

|ri | >
ri

Imi i
 f + ti +f +Imi base Ni mi qmi 2 4

.

(4.29)

+
j =1

Define S = S , we have

ri 

2 ri 

F mij Fmij 2

Imi i

, on the surface of S ,

 - V

ri

4

f i +

ti + fqmi + Imi base + Ni

4

j =1

Fmij Fmij . 4

(4.30)

Denote ts as the time for the solution trajectory to intersect the surface S , then ts 
ri

V (ri (0)) - V (ri (ts ))
4

fmi +

ti Ni

4

.
Fmij 4
Fmij

(4.31)

+ fqmi + Imi base +
j =1

Therefore, ri is bounded, which indicates that ei and e  i are bounded as per the proof in (Slotine and Li 1991).

4.3

Interactive Force Compensation in Passive Mode

The proposed interactive force compensation technique is to make the joint move freely without generating excessive internal force. When a joint that is equipped with a mechanical clutch works in passive mode, the joint is totally free and will not generate any internal force. If the joint interactive forces can be controlled, then we can regulate the interactive forces to be around zero, and the joint will work in a virtual passive mode. It should be noted that the friction at the motor and transmission systems tends to prevent the compact wrist from 49

4.4. EXPERIMENTS

Chapter 4

moving freely. Thus, friction compensation is essential to be taken into consideration. As the magnitude of constant friction dominates the total friction at low speeds, the friction can be substantially compensated by applying a feed-forward torque to the joint (Liu et al. 2008). Adapted from (Khatib 1995; Volpe and Khosla 1993), integrating the friction compensation torque with a proportional controller, the control law of robot-environment interactive force control can be given as ^mi Kpi (tid -   ^ti I ^ti ) ^c (qmi , q mi = f  ) + + , mi mi Ni Ni (4.32)

where  ^ti is the estimated joint torque; tid is the desired torque; and Kpi is a control parameter ^c (qmi , q mi ) is the joint's friction, which is calculated according to nominal used for tuning; f mi friction parameters. In Eq.(4.32), the desired torque can be selected as tid = 0 for passive control. Substituting Eq.(4.32) into Eq.(4.6), if we neglect the uncertain part, we can obtain
-1 Kpi q ¨mi +  ^ti = 0. -1 Eq.(4.33) indicates that the system behaves like a free body with inertia Kpi .

(4.33)

4.4
4.4.1

Experiments
Motion Control with JTF

To demonstrate the efficiency of the proposed torque estimation method, an active control with the joint torque feedback as described in Eq.(4.19) was implemented using the experimental setup shown in Fig. 3.5(a). Joint 2, joint 3, and the link as described in Fig. 3.5(a) are used as payload. The distributed control method based on the joint torque feedback proposed in (Liu et al. 2006) is adopted in this dissertation as an application to demonstrate the effectiveness of the proposed joint torque estimation method. The design parameters and control parameters are detailed in Table 4.1. The results of the this experiment are presented in Fig. 4.2 and Fig. 4.3. Fig. 4.2 shows the desired position while the position error is shown in Fig. 4.3. In the first 20s of the experiment time, the joint torque feedback was set to zero and the link-side position error is shown in the area labeled (A) in Fig. 4.3. The link-side position error when using JTF from the F/T sensor is shown in area labeled (B), and the position error when using JTF with the estimated torque based on the proposed method is shown in area labeled (C). 50

Chapter 4

4.4. EXPERIMENTS

Table 4.1: Design parameters and control parameters Design and control parameters Im1 M 2, M 3 1.14 × 10-5 kg.m2 1.2 kg
F mi1 F mi2 F mi3 F mi4 q mi ri

Uncertainty bounds 10-4 10-3 10-3 0.10 0.01 0.10 0.10 F mi1 F mi2 F mi3 F mi4 base f qmi  ti 10-3 (Nms/rad) 10-2 (Nm) 10-2 (Nm) 1.0 104 (s2 /rad2 ) (rad/s2 ) (Nm)

Link length 0.45 m Link mass N1 i KIi 0.64 kg 100 120 10.0

2 × 10-3 1.0 (Nm)

µF ic

Figure 4.2: Desired trajectory for active mode control

51

4.4. EXPERIMENTS

Chapter 4

Figure 4.3: Active mode experimental results

In the second experiment, joint 3 is used as the payload, while joint 2 is controlled in position mode. Fig. 4.4 and Fig. 4.5 show the position and velocity of joint 2. Fig. 4.6 is joint 1's desired position trajectory. Fig. 4.8 and Fig. 4.7 show joint 1's position error at link side and motor side respectively. Fig. 4.9 shows the estimated torque using proposed method and F/T measured torque, and Fig. 4.10 shows the difference between the estimated torque using proposed method and F/T measured torque as estimated torque error.

Figure 4.4: Joint 2 position

52

Chapter 4

4.4. EXPERIMENTS

Figure 4.5: Joint 2 velocity

Figure 4.6: Joint 1 desired position

Figure 4.7: Joint 1 motor side position error

53

4.4. EXPERIMENTS

Chapter 4

Figure 4.8: Joint 1 link side position error

Figure 4.9: Joint 1 link side torque

Figure 4.10: Joint 1 link side torque estimation error

54

Chapter 4

4.4. EXPERIMENTS

4.4.2

Passive Control

As another application of the joint torque feedback (JTF), a passive mode controller described as in Eq.(4.32) is implemented. The estimated joint torque as well as the F/T sensor measurements are used as JTF to the passive mode controller and the results are shown in Fig. 4.11. The joint was back-driven without joint torque feedback in the area labeled (A) in Fig. 4.11. The joint torque feedback with the estimated torque is shown in the area labeled (B), and the joint torque feedback with F/T sensor is shown in the area labeled (C).

Figure 4.11: Passive mode experimental results. The joint angular position response is shown in Fig. 4.12.

Figure 4.12: Measured joint position for passive mode control

55

4.5. CONCLUSIONS

Chapter 4

4.5

Conclusions

In this chapter, a multiple working mode control algorithm for modular and reconfigurable robot using proposed torque estimation technique is developed and experimentally tested. While working in active mode, the developed robust adaptive controller does not rely on a priori dynamic model and can suppress uncertainties caused by sensor inaccuracies and noises. With the proposed interactive force compensation technique, the joint can move freely without generating excessive internal force. The developed multiple mode control algorithm makes the modular and reconfigurable robot capable of working in sophisticated environments, such as door opening. The experimental results have verified the proposed multiple mode control algorithm with proposed torque estimation.

56

Chapter 5 Mechanism Structure and Kinematic Modeling of the Compact Wrist
Up to now extensive research has been reported on robot hand in various relevant fields such as mechanism design, grasping, manipulation, and control, etc. The inspiration for an anthropomorphic mechanism may be obtained via careful observations as well as the analysis of the human motion, whereas the obtained concept should be realized in the actual design of a mechanism. However, the robot hands reported up to now do not seem to satisfy the requirements for the humanlike motion as shown in Fig. 5.1. In case of the human hand, the dorsal and palm sides are obviously discriminated in terms of the motion it generates. For instance while grasping an object, only the palm side of the finger is utilized, not the dorsal one where the fingernail is located. However, the robot hands currently do not seem to reflect those observations. In this chapter, we will review a double active universal joint wrist mechanism that makes it possible to generate humanlike two-degree of freedom (DOF) motions, and derive the kinematic model by motion analysis and kinematic analysis. Inverse kinematics, differential kinematics and force analysis will be presented.

57

5.1. MECHANISM STRUCTURE AND MOTION ANALYSIS

Chapter 5

Figure 5.1: Swiveling of index finger and anthropomorphic motion

5.1

Mechanism Structure and Motion Analysis

To mimic the humanlike motion, a double active joint(DAUJ) wrist is developed in our laboratory. The 3D view, structure and assembly of the designed anthropomorphic wrist are shown in Fig. 5.2 and Fig. 5.3, respectively. As shown in Fig. 5.3, the compact wrist consists mainly of a chassis, an internal inclined joint, two semi-spheres, two universal joints, two extended shafts, two pairs of gear boxes and two geared DC motors. The internal inclined joint controls the wrists rotation. Motor 1 is used to drive the lower semi-sphere through gearbox 1. The motion and force of Motor 2 are transmitted to the upper semi-sphere through gearbox 2, the two extended shafts as well as the inner universal joint. The outer universal joint is used to connect the input side link with the output side one and to prevent relative motion between them. Motion of the wrist is determined by the combination of the two semi-spheres. Comparing with the conventional wrist with two degrees of freedom, the developed wrist is more compact, as shown in Fig. 5.3. Fig. 5.4 shows the simplified schematic diagram of the proposed anthropomorphic joint. Ji and qi denote the ith joint and joint angle respectively. li is the distance between the preferred 58

Chapter 5

5.1. MECHANISM STRUCTURE AND MOTION ANALYSIS

Figure 5.2: 3D view of DAUJ joint with pitch and yaw motion

Figure 5.3: Structure of DAUJ joint 59

5.1. MECHANISM STRUCTURE AND MOTION ANALYSIS

Chapter 5

Figure 5.4: Kinematic diagram

joints. L1 and L2 represent the links of the anthropomorphic joint. In the proposed mechanism, the joint J1 and J2 are active joints driven by the geared DC motor with reduction mechanism and encoder used for position measurement. The outer and the inner universal joints in the figure represented by the joint couples, J5 , J6 and J7 , J8 , respectively, are passive joints. The joint J4 is inclined at an angle , and two passive universal joints around J4 prevent the relative motions between link L1 and L2 from rolling along the link axis. Joint J3 is driven by Joint J2 through the inner universal joint. From the simplified schematic diagram, if we define 2 as the angle of rotation for joint J2 , 3 as the angle of rotation for joint J3 ,  as the bending angle of the universal joint or the angle of the axles with respect to each other, for a standard universal joint, we have 2 = atan2(cossin3 , cos3 ), (5.1)

2 =

cos2 3

3 cos , + cos2 sin2 3 60

(5.2)

Chapter 5

5.1. MECHANISM STRUCTURE AND MOTION ANALYSIS

cos2 sin2 3 + cos2 3 3 . 2 = cos

(5.3)

Figure 5.5: Workspace The proposed workspace is shown in Fig. 5.5. The center of the sphere is the center of the two degrees rotation, and S is the end of the second link L2 . The generation of the total workspace illustrated in Fig. 5.5 is explained as follows: if we fix 1 and change 4 , we obtain the workspace of a small cone represented in Fig. 5.5. The large cone in Fig. 5.5 means the workspace obtained by varying 1 and 4 . So the total workspace becomes the large cone generated by rotating the outer edge of the small cone slanted at the angle 2. In this figure,  and  denote longitudinal and latitudinal angles,  and  denote pitch and yaw angles, respectively. Choi and Ryew (2000, 2000, 2001) proved the characteristics of the free of rolling and give the basic kinematics analysis and force analysis about this anthropomorphic joint. But the provided formula is based on polar coordinate system. It cannot be used directly and need to be modified for some application tasks based on Cartesian coordinate system. In our new manipulator, we need to know not only the direct forward kinematics (from the motor angle 1 and 3 to the output angles  (Pitch) and  (Yaw) of the outer universal joint) and their inverse kinematics, but also the direct force relationship between the motor torque 1 , 3 and the outer 61

5.2. ANTHROPOMORPHIC WRIST KINEMATIC ANALYSIS universal joint torques  and  at local Cartesian coordinate system.

Chapter 5

Choi and Ryew (2000) gives the forward kinematics and their inverse kinematics between 1 , 3 , 4 and  ,  . Since the structure of universal joint only allows two degrees of freedom ( and  ), the three joint variables 1 , 3 and 4 are not independent and thus, 4 should be obtained from a function of 1 and 3 . But the relationship is not provided. In his following work (Ryew and Choi 2001), it is said that it is too complicated to get a solution. Ryew (2000) uses a middle variable 4 denotes the difference between the active rotations 3 and 1 (4 =3 -1 ). It gives the forward kinematics and their inverse kinematics between 1 , 3 and ,  . The output  and  are not our needed variables  and  . Ryew (2000) provides the forward and inverse kinematics between 1 , 3 and ,  . Similarly, the outputs are not our expected angles  and  . On the other hand, only (Ryew et al. 2000) analyzes the force relationship. But it is also the relationship between the motor torques 1 , 3 and the torques in polar coordinate system  ,  . What we need is the relationship between the motor torque 1 , 2 and the outer universal joint torques  and  at local Cartesian coordinate system. In order to satisfy the application requirements, the following kinematics analysis and force analysis provide a final complete solution.

5.2

Anthropomorphic Wrist Kinematic Analysis

Anthropomorphic wrist has an internal oblique joint which controls the joint rotation. It consists of an upper and a lower semi sphere that meet each other in an inclined plane with an angle  as illustrated in Fig. 5.4, Fig. 5.6 describes the kinematics parameters and the coordinate frame assignments for the proposed mechanism. The coordinate frame 2 is assigned to the internal oblique joint; the global coordinate frame 0 is fixed to the base of the mechanism. In path 1, from 0 to 3 , there exists the following homogeneous transform matrix. T03 (1 , 4 , 3 ) = T01s T1m T14s T4m T43s T3m = Tz (1 )Tx (-)Tz (4 )Tx ()Tz (3 ), 62 (5.4)

Chapter 5

5.2. ANTHROPOMORPHIC WRIST KINEMATIC ANALYSIS

Figure 5.6: Kinematics parameters and frame assignment

T03 (1 , 4 , 3 ) =

C1 -S1 S 1 C1 0 0 0 0

0 0 1 0

1 0 0 0 0 C -S 0 . 0 S C 0 0 0 0 1 0 C3 -S3 0 S3 C3 . 0 0 0 1 0 0

0 0 . 0 1 0 0 1 0 0 0 0 1

(5.5)

C4 -S4 S4 C4 0 0 0 0 t11 t21 t31 t41 t12 t22 t32 t42

0 0 1 0

0 1 0 0 0 0 C S . 0 0 -S C 1 0 0 0 t14 t24 , t34 t44 63

=

t13 t23 t33 t43

5.2. ANTHROPOMORPHIC WRIST KINEMATIC ANALYSIS

Chapter 5

where Si represents sin i , Ci represents cos i , S represents sin , C represents cos  and
2 t11 = C1 C4 C3 - S1 S4 C3 C - C1 S4 S3 C - S1 C4 S3 C , 2 2 t21 = S1 C4 C3 + C1 S4 C3 C - S1 S4 S3 C + C1 C4 S3 C + C1 S3 S ,

t31 = -S3 C Sphi + S4 C3 S + C4 S3 S Cphi , t41 = 0,
2 2 t12 = S1 S4 S3 C - C1 C4 S3 - C1 S4 C3 C - S1 C4 C3 C - S1 S3 S , 2 2 t22 = C1 C4 C3 C + C1 C3 S - S1 C4 S3 - C1 S4 S3 C - S1 S4 C3 C ,

t32 = -S4 S3 S - C3 C S + C4 C3 S C , t42 = 0, t13 = S1 C S - C1 S4 S - S1 C4 C S , t23 = C1 C4 C S - S1 S4 S - C1 C S ,
2 2 t33 = C4 S + C ,

t43 = 0, t14 = 0, t24 = 0, t34 = 0, t44 = 1.

For the outer universal joint, variables  (pitch) and  (yaw) are assigned in coordinate frame 6 and 5 , respectively. Then, from 0 to 3 , there is a homogeneous transform matrix as follows. T03 (,  ) = Ty ( )Tx ( ) C 0 -S 0 0 S 1 0 0 C 0 0 0 0 0 1 64 1 0 0 0 C -S 0 S C 0 0 0 0 0 0 1 (5.6)

=

Chapter 5

5.2. ANTHROPOMORPHIC WRIST KINEMATIC ANALYSIS C S S C S 0 C -S -S C S C C 0 0 0 0 0 , 0 1

=

where S represents sin  , C represents cos  , S represents sin  , C represents cos  . The transformation matrix from 0 to 3 is able to derived in two different paths, path 1 and path 2 shown in Fig. 5.6. So the result should satisfy the relationship as followings: T03 (,  ) = T03 (1 , 4 , 3 ) (5.7)

From Eq.(5.7), it can be assured that none of the three joint variables 1 , 4 , and 3 are independent. 1 , 4 , and 3 should satisfy following relationship:
2 2 t21 = S1 C4 C3 + C1 S4 C3 C - S1 S4 S3 C + C1 C4 S3 C + C1 S3 S = 0.

(5.8)

From Eq.(5.8), we get
2 2 C4 (S1 C3 + C1 S3 C ) + S4 (C1 C3 C - S1 S3 C ) = -C1 S3 S .

(5.9)

Solve Eq.(5.9), we can get
2 C1 S3 S ), 4 = a ± arccos(- b

(5.10)

where
2 ), a = arctan 2(C13 C , S1 C3 + C1 S3 C

b=

2 2 2 2 (S1 C3 + C1 S3 C ) + C13 C ,

C13 = cos(1 + 3 ).

Given 1 and 3 , we can calculate 4 . Therefore we can obtain  and  from t11 , t31 , t22 , and 65

5.3. INVERSE KINEMATIC ANALYSIS t23 as follows.  = arctan 2(-C4 S3 S C + S3 C S - S4 C3 S ,
2 2 C1 C4 C3 - S1 S4 C3 C - C1 S4 S3 C - S1 C4 S3 C - S1 S3 S )

Chapter 5

 = arctan 2(-C1 C4 C S + S1 S4 S + C1 C S ,
2 2 C1 C4 C3 C + C1 C3 S  - S1 C4 S3 - C1 S4 S3 C - S1 S4 C3 C )

(5.11)

Mathematically, there are two sets of solution. But physically there should be only one set of correct solution. We define the initial status as 1 = 3 = 0,  =  = 0. From observations, we know when 1 = 1 and 3 =-1,  and  should keep to zero. When 4 = a + arccos(-
2 C1 S3 S ), b

from Eq.(5.11), we can get  =-2.6681 and  =2.8342.
2 C1 S3 S ) b

Similarly when4 = a - arccos(- So the correct solution is:

, we can get  =0 and  =0.

2 C1 S3 S ). 4 = a - arccos(- b

(5.12)

5.3

Inverse Kinematic Analysis

For the inverse kinematics, from t33 , we have 4 = ± arccos( From t13 = S1 C S - C1 S4 S - S1 C4 C S = C S , t23 = C1 C4 C S - S1 S4 Sphi - C1 C S = -S , we can get (1 - C4 )C S C S + S4 S S , 2 2 2 2 S4 S + (C4 - 1)2 C S (1 - C4 )C S S - C C S4 S C1 = . 2 2 2 2 S4 S + (C4 - 1)2 C S S1 = 66
2 C C - C ). 2 S

(5.13)

Chapter 5 Therefore,

5.3. INVERSE KINEMATIC ANALYSIS

1 = arctan 2((1 - C4 )C S C S + S4 S S , (1 - C4 )C S S - C C S4 S ). Same as above, from t31 = S3 C S + S4 C3 S - C4 S3 S C = -S , t32 = S4 S3 S - C3 C S + C4 C3 Sphi C = C S , we can also obtain (1 - C4 )C S S C + S4 S S , 2 2 2 2 S4 S + (C4 - 1)2 C S (1 - C4 )C S S - C S S2 S . S3 = 2 2 2 2 S4 S + (C4 - 1)2 C S C3 = - Therefore, 3 = arctan 2((1 - C4 )C S S - C S S4 S , -(1 - C4 )C S S C - S4 S S ). For only positive direction of 4 , the inverse kinematics becomes Eq.(5.14) 4 = arccos(
2 C C - C ), 2 S

1 = arctan 2((1 - C4 )C S C S + S4 S S , (1 - C4 )C S S - C C S4 S ), 3 = arctan 2((1 - C4 )C S S - C S S4 S , -(1 - C4 )C S S C - S4 S S ).

(5.14)

For all possible  and  , we can get 1 and 3 . Fig. 5.7 shows their mapping. We find for continuous  and  , it's possible to get discontinuous 1 and 3 . So we need to modify Eq.(5.14) to Eq.(5.15) 3 = arctan 2((1 - C4 )C S S - C S S4 S , -(1 - C4 )C S S C - S4 S S ) + 2µ, µ={ 0 1 + 3  -/2 1 1 + 3 < -/2. (5.15) 67

5.3. INVERSE KINEMATIC ANALYSIS

Chapter 5

Figure 5.7: Workspace mapping

Then, the mapping becomes Fig. 5.8.

Figure 5.8: Adjusted workspace mapping

Fig. 5.9 is an equivalent kinematic diagram by omitting the inner universal joint. In the derivation of Z-Y-Z Euler angle description is employed to exploit the characteristic of the mechanism. According to Z-Y-Z Euler angle representation, the rotation of the joint can be considered to perform in the following order: rotation about Z axis by  , rotation about negative Y' axis 68

Chapter 5

5.3. INVERSE KINEMATIC ANALYSIS

Figure 5.9: Generalized coordinate frame assignment

by  , and rotation about Z" axis by - , which gives the transformation matrix as Eq.(5.16)
0 3 TXY Z

= TZ ()TY ( )TZ " ( ) C S - S Cbeta C C C + S Cbeta S S S 0 S Calpha -S S C 0 0 0 , 0 1 (5.16)

=

C Cbeta C + S S S C - C Cbeta S -C S 0

where S represents sin , C represents cos , S represents sin  , C represents cos  . Because T (,  ) = T (1 , 4 , 3 ), from
2 2 t33 = C = C2 S + C ,

we can get
2 2  = arccos(C2 S + C ),

(5.17)

69

5.3. INVERSE KINEMATIC ANALYSIS where
2 C1 S3 S 4 = a - arccos - , b 2 a = arctan 2(C13 C , S1 C3 + C1 S3 C ),

Chapter 5

(5.18)

b=

(S1 C3 +

2 2 ) C1 S3 C

+

2 2 , C C13

C13 = cos(q1 + q3 ). From t31 = -S3 C S + S4 C3 S + C4 S3 S C = -C S , t32 = -S4 S3 S - C3 C S + C4 C3 S C = S S , we can also get  = arctan 2(-S4 S3 - C3 C + C4 C3 C , -C4 S3 C + S3 C - S4 C3 ). (5.19)

The relationships between 1 , 3 and ,  are also derived by Sungmoo Ryew and Hyoukryeol Choi [2001] as follows: = 1 + 3 + , 2 3 - 1 ). 2

(5.20)

 = 2 arctan(tan  cos

However, Eq.(5.18) is an approximation of the relationship between 1 , 3 and ,  , because it assumed  equal to  when the relationship is derived. If we choose the same direction and initialization, Eq.(5.20) becomes Eq.(5.21) = 1 - 3 , 2

3 + 1  = 2 arctan(tan  cos ). 2

(5.21)

Fig. 5.10 and Fig. 5.11 show the comparison between Eq.(5.17), Eq.(5.19) and Eq.(5.21).

70

Chapter 5

5.3. INVERSE KINEMATIC ANALYSIS

Figure 5.10: Difference between two  solutions

Figure 5.11: Difference between two  solutions

71

5.4. DIFFERENTIAL KINEMATICS AND FORCE ANALYSIS

Chapter 5

5.4

Differential Kinematics and Force Analysis

Because the difference between Eq.(5.17), Eq.(5.19) and Eq.(5.21) is less than 2%, we still use Sungmoo Ryew and Hyoukryeol Choi's solution in Force analysis. Taking derivatives of Eq.(5.21), we get   = 1 -  3  , 2  = -( 1 -  3 ), 

(5.22)

where

3 sin 1 - tan  2 . = 3 tan2  1 + cos2 1 - 2

If we define 1 ,  3 ]T , q  = [  ]T ,  = [,    = Jc q,  then Jc =
1 2 1 2

(5.23)

- 

.

(5.24)

The relationship between 13 and  can be expressed as
T 13 = Jc  , T -1  = (Jc ) 13 .

(5.25)

For  and  , we also have     where  = J2     , (5.26)

- tan  sin   1 + tan2  cos  J2 =  tan  cos  1 + tan2  sin  72

 - sec2  cos  1 + tan2  cos2   .  sec2  sin  1 + tan2  sin2 

(5.27)

Chapter 5

5.4. DIFFERENTIAL KINEMATICS AND FORCE ANALYSIS

According to the principle of virtual work, we can obtain following relationships between forces: 1  T T = Jc J2 , (5.28) 3   
T -1 T -1 ) ) (J2 = (Jc

1 3

.

(5.29)

73

Chapter 6 Multiple Mode Control of the Compact Wrist
In this chapter, a multiple mode control method is developed for the compact wrist, making it work in active mode with position or torque control, or passive mode with interactive force compensation. A robust adaptive control algorithm is developed for motion control of the compact wrist in active mode; and an interactive force compensation technique is proposed to make it capable of working in passive mode.

6.1

Robust Adaptive Control in Active Mode

As derived in last chapter, the wrist-environment interactive forces can be mapped from task space into joint space as follows: t1  =J· t2 
T T J = Jc J2

(6.1)

(6.2)

where t1 and t2 denote torques exerted to the joints due to the interactive forces between the wrist and the environment; the Jacobian matrix Jc J2 are as shown in Eq.(5.24) and Eq.(5.27);  and  represent interactive torques that contribute to the roll and yaw motions of the wrist, 75

6.1. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE which can be derived from the force/torque sensor measurements as follows:   Fx    Fy     0 -l cos  0 1 0 - sin    Fz  = ·   x  -l 0 0 0 -1 0      y z

Chapter 6

 

(6.3)

where Fx , Fy , Fz , x , y and z are measurements of the force/torque sensor, as shown in Fig. 6.1; and l is the distance between the force/torque sensor and the center of the wrist, as shown in Fig. 6.1.

Figure 6.1: Force sensor installation and coordinate system definition The light-weight compact wrist is normally integrated with a robotic arm. With the assumption that the compact wrist is mounted on a series robotic arm with n rotary joints, the dynamics of the compact wrist can be described by (Liu et al. 2008):
n

Imi Ni q ¨i + fi (qi , q i ) + Imi
j =1 n j -1

T zmi zlj q ¨lj

(6.4)
ti Ni

+Imi
j =2 k=1

T zmi (zlk × zlj ) q lk q lj +

= mi

76

Chapter 6

6.1. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE

where i  {1, 2}; Imi is the moment of inertia about the axis of rotation; Ni denotes the gear ratio (including the gear heads and gear boxes); ti is the torque caused by wrist-environment interactions, as detailed in Eq.(6.1); zmi is a unit vector along the axis of rotation of the ith rotor; zli is the unity vector along the axis of rotation of joint i; mi is output torque of the ith lj ,  lk and  ¨lj represent joint angular velocities and acceleration of the base robotic motor;  arm; fi (qi , q i ) represents the joint's friction, which can be modeled as a function of the joint position and velocity as follows (Armstrong-Helouvry et al. 1994):
2 f i ( qi , q i ) = fci + fsi exp - f i q i

sgn (q i ) + bi q i + fqi (qi , q i )

(6.5)

where fci are Coulomb friction related parameters; fsi are static friction related parameters; f i are positive parameters corresponding to the Stribeck effect; bi are viscous friction coefficients; and fqi (qi , q i ) are position dependency of friction and other friction modeling errors; sgn(q i ) is the signum function as defined in Eq.(2.17). Let Fi = [bi fci fsi f i ]T . According to the model uncertainty decomposition scheme proposed in (Liu et al. 2006), Fi can be decomposed into a constant part plus a variable part, i.e., Fi = Fic + Fiv where the superscripts "c" and "v" represent constant and variable part, respectively. Property 2 The variable part in Eq.(6.6) is bounded, i.e., |Fiv | < F i where F i is constant bound. (6.7) (6.6)

Assumption 7 The nonparametric friction term in Eq.(6.5) is bounded, i.e., |fqi (qi , q i ) | < f qi where is a known constant bound for any positions qi and velocities q i . (6.8)

77

6.1. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE

Chapter 6

T (zlk × Assumption 8 Since zmi , zlj and zlk are unit vectors, the resulting vector products zmi T zlj ) and zmi zlj are bounded. Furthermore, as the base robotic arm is stabilized, the accel¨lj ) and velocities ( lj ,  lk ) of the robotic arm joints must be bounded. Hence, the erations ( inertial and Coriolis forces associated with motion of the base robotic arm are bounded, i.e., if we define n n T ¨lj zlj  zmi j =1 j -1 T lk  lj (zlk × zlj )  zmi j =2 k=1

base > max for any possible configuration, then

+

(6.9)

n

n T ¨lj zmi zlj 

j -1 T lj < Imi base , lk  zmi (zlk × zlj ) 

|basei | = Imi
j =1

+
j =2 k=1

(6.10)

where base is a constant bound. Assumption 9 The force/torque sensor inaccuracy and noise is bounded; furthermore, the estimate errors of  ,  and ti are bounded, i.e., | ~ | = |  -  ^ | <   | ~ | = |  -  ^ | <   | ~ti | = |ti -  ^ti | <  ti

(6.11)

where  ^ ,  ^ and ti are derived from Eq.(6.1) and Eq.(6.3) with the force/torque sensor measurements;   ,   and  ti are known constant bounds. Define the system errors as ei = qi - qid ri = e  i + i ei ai = q ¨id - 2i e  i - 2 i ei

(6.12)

where qid is the desired joint space motion for the ith joint, which may be derived from the desired task-space rotations (d , d ) with the inverse kinematics; q id denotes corresponding d ,  joint-space velocities, which can be derived from task-space velocities (  d ) with differential kinematics, or calculated by differentiating qid ; q ¨id represents desired joint-space accelerations; i is a positive constant. 78

Chapter 6

6.1. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE

^c ^c ^c Let ^ bc i , fci , fsi and f i represent estimates of the constant friction parameters and by using the linearization scheme proposed in (Liu et al. 2006), the friction model shown in Eq.(6.5) can be approximated by ^c (q  ~ c + F v + fqi (qi , q fi (qi , q i )  f i ) F i ) + f i ) i (q i i ) + Yi (q i i (6.13)

^c ^c ^c T ^c i ), f  ~c = F c - F ^ c with F ^ c = [^ where F bc i ), and Yi (q i ) can be detailed i (q i i i i i fci fsi f i ] ; fi (q as follows: ^c 2 sat (q ^c ^c ^c (q i i , qi ) + ^ bc f iq i i i ) = fci + fsi exp - f i q 2  f i ) = [fci + fsi exp (-f i q i )] [sgn (q i ) - sat (q i , qi )] i (q (6.14) c 2 c 2 c 2 ^  exp(-f ^ q ^ q Yi ( q i ) = 0 1 exp(-f  i i ) -fsi q i  i i ) i 0 0 0 ·sat(q i , qi ) + q where
q i

is a positive constant, sat(x,y) is the saturation function as defined as Eq.(4.16).

  Assumption 10 The last item in Eq.(6.13) f i ) is bounded, i.e., |f i ) | < f i . i (q i (q To follow the desired trajectories in joint space, a robust adaptive control law is designed as follows:
t  ^ti ^c (q mi = Imi Ni ai + N +f i i ) - KIi 0 ri (t) dt i  ti · sat (ri , ri ) - f i + f qi + Imi base + N i 4

(6.15)

-
j =1

F ij Yij (q i ) sat (ri Yij (q i ) ,
ri

F ij )

where Yij (q i ) is the jth element of Yi (q i ), and

and

F ij

are positive control parameters.

Theorem 2 Given the compact wrist with the joint dynamics as given in Eq.(6.4), the tracking error of each joint is uniformly ultimately bounded under the control law given by Eq.(6.15) c ^ and the adaption law of F i )]T ri with µF ic a positive constant. i = -µF ic [Yi (q proof 2 Consider the Lyapunov function candidate V =1 I N r2 + 1 k 2 mi i i 2 Ii Differentiating Eq.(6.16) yields  = ri Imi Ni r V i + kIi
t r 0 i t r 0 i

(t) dt

2

+

~c T ~c 1 (Fi ) Fi 2 µF ic

(6.16)

(t) dt +

c ~ F i

T

~c F i

(6.17)

µF ic

79

6.1. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE Substituting Eq.(6.12) and Eq.(6.15) into Eq.(6.4) yields ri Imi Ni r i + KIi
t r (t) dt 0 i ~ti + ti sat(ri , ri ) -ri  - ri Ni 4 2 = -Imi Ni i ri - ri fi (qi , q i ) - ri basei

Chapter 6

f i + f qi + Imi base sat (ri ,
F ij )

ri )

(6.18)

-ri
j =1

F ij Yij (q i ) · sat (ri Yij (q i ) ,

^c (q + ri f i i )

c  c = -F ~ ^ Since Fic is a constant vector, we have F i i . Substituting Eq.(6.18) and the adaption law into Eq.(6.17), with consideration of Eq.(6.13), we can obtain,
ri  ~ti + ti sat(ri , ri ) 2   = -Imi Ni i ri V - ri f i ) + f i sat (ri , ri ) - i (q Ni -ri fqi (qi , q i ) + f qi sat (ri , ri ) - ri basei + Imi base sat (ri , 4

ri )

(6.19)

-
j =1

v + F ij sat (ri Yij (q i ) , ri Yij (q i ) Fij

F ij )

v where Fij and F ij are the jth element of Fiv and F i , respectively.

From Assumptions 7­ 10, if |ri | > -ri 1 -N i -ri -ri If |ri | 
ri ,

ri ,

the second to fifth items in Eq.(6.18) are negative, i.e.,

 f i ) + f i · sat (ri , ri ) < 0 i (q · ri  ~ti +  ti · sat (ri , ri ) < 0 fqi (qi , q i ) + f qi sat (ri , ri ) < 0 basei + Imi base · sat (ri , ri ) < 0

(6.20)

we have  -ri f i ) + f i · sat (ri , i (q
1 -N i

ri ri

) )

 f i ri 
 ti r Ni i

ri |r i | ri |ri | ri |ri |

- - -

ri
ri

· ri  ~ti +  ti · sat (ri ,

ri
ri

-ri fqi (qi , q i ) + f qi sat (ri ,

ri )

 f qi ri
ri )

ri
ri

(6.21) -
ri
ri

-ri basei + Imi base · sat (ri , Similarly, from Property 2, if |ri Yij (q i ) | >
F ij ,

 Imi base ri

ri |r i |

the last item in Eq.(6.19) satisfies

v -ri Yij (q i ) Fij + F ij sat (ri Yij (q i ) ,

F ij )

<0

(6.22)

80

Chapter 6 If |ri Yij (q i ) | 
F ij ,

6.1. ROBUST ADAPTIVE CONTROL IN ACTIVE MODE we have
v -ri Yij (q i ) Fij + F ij sat (ri Yij (q i ) , F ij )

 F ij ri Yij (q i )

ri Yij (q i ) |ri Yij (q i )|

-

ri Yij (q i )
F ij

(6.23)

Since the right-side terms of Eq.(6.21) and Eq.(6.22) achieve the maximum values at |ri | = and |ri Yij (q i ) | = F2ij , respectively, we can obtain,

ri

2

2   -Imi Ni i ri V +

4 j =1

F ij F ij 4

+

ri

4

f i +

 ti Ni

+ f qi + Imi base

(6.24)

From Eq.(6.24), V is a Lyapunov function only when
4

ri

4

f i +

 ti Ni

+ f qi + Imi base +
j =1

F ij F ij 4

|ri | >

Imi Ni i
ri  f i +  ti +f qi +Imi base Ni 2 4

(6.25)

+
j =1

Define S = have

ri 

2 ri



f ij F ij 2

Imi Ni i

, on the surface of S , S , we

 - V

ri

4

f i +

 ti + f qi + Imi base + Ni

4

j =1

F ij F ij 4

(6.26)

Denote ts as the time for the solution trajectory to intersect the surface S , then V (ri (0)) - V (ri (ts ))
ri

ts 
4

f i +

 ti Ni

4

(6.27)
F ij F ij 4

+ f qi + Imi base +
j =1

Therefore, ri is bounded, which indicates that ei and e  i are bounded as per the proof in (Slotine and Li 1991). 81

6.2. INTERACTIVE FORCE COMPENSATION IN PASSIVE MODE

Chapter 6

6.2

Interactive Force Compensation in Passive Mode

The proposed interactive force compensation technique is to make the wrist move freely without generating excessive internal force. When a joint that is equipped with a mechanical clutch works in passive mode, the joint is totally free and will not generate any internal force. When a rope is used to pull a door open, it will not generate any internal forces that resist motion along the pitch or yaw direction. Similarly, if the wrist-environment interactive forces, which can be measured by the force/torque sensor, are controlled to be around zero, the compact wrist will work in a passive mode, generating little resistance force. It should be noted that the friction at the motor and transmission systems tends to prevent the compact wrist from moving freely. Thus, friction compensation is essential to enable the wrist working in a free passive mode. The Jacobian matrix J shown in Equation Eq.(6.2) is singular at  = 0,  = 0. At this point t1 , t2 will always equal to zero, thus the joint space passive control will not work. In passive mode, this singular point is not avoidable, as a result, we need to find another control algorithm for the passive mode. Let the force exerted by the gripper on a compliant environment be f (t) . If the gripper has a linear compliance of Kr , and the compliant environment in contact with gripper has a linear compliance Ke . Then the wrist and environment combination has an aggregate compliance of Kt = Kr + Ke and the gripper force at equilibrium is:

f (t) = Kt X (t)

(6.28)

The wrist is position controlled with control inputs of d , d . As an approximation, we neglect the position tracking error, i.e.,

x(t) = xd (t) x  (t) = x  d (t) where x(t) =  

(6.29)

(6.30)

Given a constant desired force fd , the control task is to ensure that the force tracking error 82

Chapter 6 f (t) = f (t) - fd , converges asymptotically to zero. lim f (t) = 0

6.3. CONTROL SYSTEM DESIGN

tinf

(6.31)

where f (t) = f (t) - fd and f(t) = f(t). If the interaction force f (t) and the plant state x(t) and x  (t) are measurable, it is easy to show that the control law of x  d (t) = Kc f (t) results in an exponentially stable first order close-loop force dynamic of f(t) = -Kc Kt f (t) (6.33) (6.32)

Note that the control law requires neither the differentiation of a force signal, nor the knowledge of the robot or environment compliance parameters. If we let fd = 0, then it becomes a passive mode control algorithm.

6.3

Control System Design

To verify the developed algorithms and to validate the proposed design, a DSP based control system was developed for multiple mode control of the compact wrist, as detailed in the subsection for experimental setup. The control system diagram is as shown in Fig. 6.3. The DSP used in this control system is T M S 320F 2812 made by Texas Instruments, which is a 32-bit digital signal controller with flash. Details on this DSP can be found from the data manual (SPRS174T 2012). The Mini45ERA transducer (ATI Industrial Automation,Inc. 2012), made by ATI Industrial Automation, was selected as the force/torque sensor. The Mini45-ERA transducer uses six half-bridge strain gauge pairs to sense loads. The equivalent electrical schematic of the transducer is shown in Fig. 6.3. The signal conditioning circuit was developed on the basis of AD8221, a gain programmable, high performance instrumentation amplifier. The AD8221 maintains a high CMRR over frequency, which allows it to reject wide band interference and line harmonics, greatly simplifying filter requirements. In the developed signal conditioning circuit, the strain gauge outputs, "SG0, SG1 · · · SG5" shown in Fig. 6.3(a), are connected to "+IN", as shown 83

6.3. CONTROL SYSTEM DESIGN

Chapter 6

Figure 6.2: The control system diagram in Fig. 6.3(b). From Fig. 6.3(b), the transfer function for the AD8221 can be given by Vout = Vref + G (VIN + - VIN - ) where G is the gain of the amplifier. Furthermore, the force/torque measurements can be determined as   Fx    Fy    F   z  =M  x       y z   SG0   SG1    SG   2 ·  SG3    SG  4   SG5 (6.34)

(6.35)

where SGi = Vouti - Vref i ; and M is the decoupling matrix of the sensor. The developed electronic control board is as shown in Fig. 6.4. Fig. 6.4(a) and 6.4(b) give the front side and back side of the board, respectively. The developed board is light and small, and can be mounted at the end of the link, as shown in Figs. 6.5(a) and Fig. 6.5(b). In the experiments to be described in the following subsections, the sampling time was selected as 4 milliseconds.

84

Chapter 6

6.3. CONTROL SYSTEM DESIGN

(a)

(b)

Figure 6.3: Development of signal conditioning circuit: (a) equivalent electrical schematic for the transducer; (b) designed signal conditioning circuit

85

6.3. CONTROL SYSTEM DESIGN

Chapter 6

(a)

(b)

Figure 6.4: The electronic control board: (a) front side; (b) back side.

(a)

(b)

Figure 6.5: The board mounted inside the link

86

Chapter 6

6.4. EXPERIMENTS

6.4

Experiments

To verify the developed algorithms and to validate the proposed design, a DSP based control system was developed for multiple mode control of the compact wrist, as detailed in the subsection for experimental setup. Several experiments have been conducted, and the experimental results were reported in the following subsections. The first experiment was designed to verify the developed robust adaptive motion tracking controller with the compact wrist working in active mode; the second experiment was conducted to validate the wrist-environment interactive force compensation technique with the compact wrist working in passive mode; and the last experiment demonstrates the application of the developed algorithms to door opening.

6.4.1

Experimental Setup

Maxon DC motors were selected to drive the compact wrist, and the Maxon planetary gear heads GP 32A (gear ratio 531:1) were used as speed reducers. The gear boxes were customized spur gears with the reduction ratio of 2:1. HEDL-5540A02 optical encoders were used for measuring the wrist's joint space motion. This experiment is designed to verify the robust adaptive controller that is developed for tracking control of the compact wrist with active working mode. The experimental setup is as shown in Fig. 6.5(a); and the design parameters and control parameters are detailed as shown in Table 6.1.

Remark 3 As the first-version prototype, the compact wrist developed in our lab has the range of motion as follows: -30 < ,  < 30 . Furthermore, to keep the compactness and the lightweight of the wrist, the wrist was designed with high gear ratio, which is 531 : 1. As a result, the wrist cannot work at very high speeds. To avoid damaging the wrist, the experiments conducted in the following subsections were designed to guarantee that the physical limits were not surpassed. While having limited range of motion and task-space velocities, the wrist prototype can be used to validate the developed control algorithms, which are general and can be extended to control other wrists. 87

6.4. EXPERIMENTS

Chapter 6

Table 6.1: Design parameters and control parameters Design and control parameters Im1 Im2 kIi Ni i µF ic 10.5 × 10-4 gm2 10.5 × 10-4 gm2 10.0 531 160 0.10
F i1 F i2 F i3 F i4 q i ri

Uncertainty bounds F i1 F i2 F i3 F i4 f qi  ti 10-3 (Nms/rad) 10-2 (Nm) 10-2 (Nm) 1.0 0.5 1.0 (s2 /rad2 ) (Nm) (Nm)

10-4 10-3 10-3 0.10 0.01 0.10

6.4.2

Experiments on Tracking Control with Active Mode

The wrist as shown in Fig. 6.6 is controlled to follow the task space trajectory given by Fig. 6.7. The experimental results are shown in Fig. 6.8 to Fig. 6.11. The joint space trajectory and velocities derived from the inverse kinematics and differential kinematics are shown in Fig. 6.8 and Fig. 6.9, respectively. Fig. 6.10 gives the tracking errors in task space; and the tracking velocity errors are shown in Fig. 6.11. From these figures, we can see that the developed active mode control algorithm is effective to control the compact wrist to follow the desired pitch and yaw rotations.

6.4.3

Experiments on Force Compensation with Passive Mode

In the last subsection, experiments are conducted to verify the active motion control mode. In this subsection, experiments are designed to validate the developed interactive force compensation algorithm, which enables the wrist working in passive mode. The control parameters for the interactive force compensation controller are selected as shown in Table 6.1, and Kc = 0.1. The experiments are conducted for two different cases. In Case 1, the DC motors are disabled. In Case 2, the wrist is controlled with the interactive force compensation algorithm developed in this paper. For both cases, the output link of the wrist is pushed by a human finger along two different directions, as shown in Fig. 6.12. In Case 1, the wrist does not move even when more than 10N m pitch torque is generated at the force/torque sensor mounting point, as shown in Fig. 6.13 and Fig. 6.15. The experimental 88

Chapter 6

6.4. EXPERIMENTS

Figure 6.6: a snapshot for tracking control in active mode

Figure 6.7: The desired task-space trajectory in active mode

89

6.4. EXPERIMENTS

Chapter 6

Figure 6.8: The calculated joint-space trajectory

Figure 6.9: The calculated joint-space velocities

90

Chapter 6

6.4. EXPERIMENTS

Figure 6.10: The position tracking errors

Figure 6.11: The velocity tracking errors

91

6.4. EXPERIMENTS

Chapter 6

(a)

(b)

(c)

(d)

Figure 6.12: Snapshots for the compact wrist working in passive mode

92

Chapter 6

6.4. EXPERIMENTS

results for Case 1 demonstrates that friction compensation is essential to enable the wrist to work in passive mode; the frictional force, being enlarged by the speed reducer, is big enough to prevent the wrist from moving freely.

Figure 6.13: The interactive motions in Case 1

Figure 6.14: The interactive motions in Case 2

93

6.4. EXPERIMENTS

Chapter 6

Figure 6.15: The internal forces generated in Case 1

In Case 2, the wrist can move freely with a small force exerted by a finger. The interactive motions and internal forces in Case 2 are as shown in Fig. 6.14 and Fig. 6.16, respectively. The compensation torques that generated by the motors are illustrated in Fig. 6.17. From the experimental results for Case 2, we can see that the developed interactive force compensation algorithm is effective to enable the wrist working in passive mode. The residual internal torques are less than 2N m, which have been reduced dramatically compared to the case without control. In practical applications, this small residual internal force is helpful to prevent the wrist from moving under small disturbance forces or force/torque sensor measurement noise.

Remark 4 The generated interactive forces are determined by the accelerations of the robot, i.e., the change of velocities. If a sharp force is exerted to the end-effector within a very short period of time, a big shock force may be generated in the wrist, which should be avoided in practical applications to avoid damaging the wrist. On the other side, if the forces are exerted gradually, the motion speeds do not have extensive influences on the generated internal forces or the compensation torques. 94

Chapter 6

6.4. EXPERIMENTS

Figure 6.16: The internal forces generated in Case 2

Figure 6.17: The compensation torques in Case 2

95

6.4. EXPERIMENTS

Chapter 6

6.4.4

Application to Door Opening

As well known, slippage is almost unavoidable for a mobile manipulator tracking a curved trajectory, especially when the load distribution is time-varying due to the complicated interactions between the mobile platform and the on-board manipulator (Liu and Liu 2009). As a result, the conventional position control algorithms are not suitable for door opening because of the inaccurate tracking performance of the mobile platform. One important concern is that large internal forces may be generated, which will cause unnecessary wearing of mechanical parts. In this subsection, the developed compact wrist and the proposed multiple mode control algorithm are implemented for door opening, which have been verified to be able to relieve the potential internal forces effectively. The compact wrist and force/torque sensor assembly developed in this paper is integrated with a 3-DOF modular reconfigurable manipulator that was developed in our lab (Liu et al. 2011); and the integrated manipulator is mounted on top of a Powerbot Automatic Guided Vehicle (AGV), a commercial mobile platform manufactured by MobileRobots Inc. The Powerbot AGV is differentially steered with the two fixed wheels mounted on each side of the robot, and two caster wheels are equipped to keep balancing of the robot. The integrated mobile manipulator is used to pull an artificial door open, as shown in Fig. 6.18(a). The mobile platform is positioned in front of the "door", and the door knob is grasped manually. The modular reconfigurable manipulator consists of three rotary joints, i.e., Turret, Shoulder and Elbow joints, as shown in Fig. 6.18(a); and the joints are all equipped with torque sensors. To verify the developed multi-mode control algorithm, the Turret joint and the compact wrist are controlled with passive mode, and the Shoulder as well as the Elbow joints are locked to keep the same hight during door opening. The mobile platform is controlled to follow an almost circular trajectory, so as to pull the door open for ninety degrees. Snapshots for the door opening process are shown in Fig. 6.18. The experimental results for door opening are presented in Fig. 6.19 and Fig. 6.20. Fig. 6.19 demonstrates the interactive motions of the wrist during the course of door opening. The wristknob interactive torques were measured as shown in Fig. 6.20. In the experiments, jerking and sliding of the mobile platform can be obviously observed, which may generate large internal forces in the on-board manipulator. With the proposed multiple control algorithm, the disturbances caused by mobile robot's jerking and sliding can be effectively accommodated and internal torques generated in the wrist can be limited to be less than 2 N m. 96

Chapter 6

6.4. EXPERIMENTS

(a)

(b)

(c)

(d)

Figure 6.18: Snapshots for door opening

97

6.4. EXPERIMENTS

Chapter 6

Figure 6.19: Interactive motions of the wrist in door opening

Figure 6.20: The wrist-knob interactive torques in door-opening

98

Chapter 6

6.4. EXPERIMENTS

To test the robustness of the developed internal force compensation algorithm with respect to accumulated positioning errors of the mobile platform, experiments were repeated with intentionally introduced initial heading angular errors. From the experimental results, the mobile manipulator with the compact wrist could open the door with measured internal torques that are still of comparable magnitude to the case in which no heading angular error was introduced. For example, the torque measurements at the wrist reached a maximum of 3 N m when a 3-degree initial offset was introduced. To avoid unnecessary duplicate, experimental results with different initial heading angles are not detailed in this paper. Remark 5 While applying the developed control algorithms to door opening, precise dimension of the door is not required. However, due to the limited range of motion of the developed wrist prototype, circular trajectory of the mobile platform was planned to be consistent with the nominal radius of the door so as to make sure that the wrist will work within its physical limits. The experimental results with obvious observation of jerking and sliding and the intentionally introduced initial heading angles have confirmed the robustness of the developed control algorithms with respect to door Remark 6 In the experiments reported in this section, switching between active mode and passive mode were made manually. In practical applications, the switching can be enabled automatically based on the events that were defined in advance. For example, while grasping the knob, the robot needs to move at high accuracy and there is not any interactive forces exerted on the robot, active mode can be enabled. After the knob is grasped and during the course of door opening, excessive internal forces may be generated, and it is desirable to switch from active mode to passive mode. Another option for automatic mode switching is to set up a threshold for the measured wrist-environment interactive torques. As long as the the internal torques are large enough it will trigger the switching from active mode to passive mode; similarly, switching from passive mode to active mode can be triggered if the interactive torques drop below certain thresholds. On-line mode switching will be investigated in our future research works.

99

Chapter 7 Conclusion and Future Work
7.1 Conclusion

In uncontrolled environments, the robot has to adapt to the world consisting of only partially known or unknown objects and tasks, and real-time constraints. The capability of robots working in both active and passive modes and switching between them helps the robots to perform in unstructured environments. A typical modular and reconfigurable robot consists of general rotational joints as well as special joints with multiple degrees of freedom. This dissertation work has provided methods to control both kinds of joint modules to work in either active or passive modes. For a general rotational joint with harmonic drive, a novel mathematical model for the compliance of harmonic drives has been proposed. When combined with a friction model, the proposed model captures the nonlinear stiffness and hysteresis phenomenon of the harmonic drive transmission. Numerical simulations and experiments have been conducted to test the proposed modeling method. The accurate match in the results confirmed the effectiveness of the proposed model. The advantages of the proposed model are multifold including its simple structure, its ability of capturing hysteresis, and easiness of integrating to control system. Furthermore, the proposed modeling approach does not require detailed knowledge of the gear tooth geometry or wave generator kinematics to account for hysteresis model as in other works. The model was compared with measured data while the shaft was locked or free. The proposed model resolves the problems in estimating harmonic drive model parameters associated with the previously proposed models and can predict the harmonic drive behaviour at operating 101

7.2. FUTURE WORK points other than those used for model identification.

Chapter 7

Based on the developed harmonic drive compliance model, a joint torque estimation method using position measurements is provided. The torque estimation based on position measurements provides an advantage of noise immunity to the estimated joint torque. Using the torsional compliance of harmonic drives instead of an additional elastic component does not change the joint dynamics. Moreover, adding a link-side position sensor has a potential to improve the joint control accuracy and to reduce the cost of joint torque sensing. The estimated torque can be used in robotic control algorithms with JTF and in collision detection/avoidance schemes. Using the developed torque estimation technique, a multiple working mode control algorithm for modular and reconfigurable robot using proposed torque estimation technique has been developed and experimentally tested. For robot joints with multiple degrees of freedom, a compact wrist equipped with a multiple working mode control system has been developed and experimentally tested. While working in active mode, the developed robust adaptive controller does not rely on a priori dynamic model and can suppress uncertainties caused by sensor inaccuracies and noises. With the proposed interactive force compensation technique, the wrist can move freely without generating excessive internal force. The developed multiple mode control algorithm makes the compact wrist capable of working in sophisticated environments, such as door opening. A prototype wrist has also been developed and the experimental results verified the proposed multiple mode control algorithm.

7.2

Future Work

The development of modular and reconfigurable robot is a long-time work which requires much research including redesign work and improvements. A few directions for future work is discussed as follows. The link side absolute position encoder used in the research has a 0.01 deg accuracy as provided by the manufacturer. However, the error is sometimes bigger than the accuracy provided by the manufacturer because of installation error etc., and we can not identify that the error is caused by sensor error or harmonic drive kinematic error. In this dissertation, we combined the sensor error with kinematic error. Given a higher accuracy position sensor to calibrate the absolute encoder in the link side, we can separate the sensor error with the harmonic drive kinematic 102

Chapter 7

7.2. FUTURE WORK

error, and the kinematic error can be modeled with better accuracy. The performance of multiple mode control highly depends on friction compensation especially when the robot joint works in passive mode. A general Coulomb and viscous model is used in this dissertation research. However, this model can not capture that the friction of harmonic drive relies on position. To complete the whole harmonic drive model and improve the performance of the robot working in passive mode, a more complete harmonic drive friction model should be developed. The current experimental joint is controlled by a PC, and the algorithm is implemented in MATLAB/Simlink model. By developing a single board DSP controller for the HDT joint with an absolute encoder and an incremental encoder and a DC motor driver, and implementing the MATLAB/Simlink model into the DSP controller, one could develop a modular and reconfigurable robot joint based on the proposed torque estimation method, building a multiple joint robot to verify the proposed torque estimation technique and multiple working mode control algorithm. Furthermore, the effectiveness of the proposed torque estimation technique in collision detection can also be investigated.

103

Bibliography
Aghili, F., M. Buehler, and J. Hollerbach (2001, Sep.). Motion control systems with hinfinity positive joint torque feedback. IEEE Trans. Control Syst. Technol. 9(5), 685­ 695. Aghili, F., J. Hollerbach, and M. Buehler (2007, Jun.). A modular and high-precision motion control system with an integrated motor. IEEE/ASME Trans. on Mech. 12(3), 317­329. Ahmad, S. and G. Liu (2010, May). A door-opening method by modular reconfigurable robot with joints working on passive and active modes. In Proc. of IEEE International Conference on Robotics and Automation, Alaska, USA, pp. 1480­1485. Armstrong-Helouvry, B., P. Dupont, and C. de Wit (1994, July). A survey of models, analysis tools and compensation methods for the control of machines with friction. Automatica 30(7), 1083­1138. ATI Industrial Automation,Inc. (2012). Multi-Axis Force/Torque Sensor. http://www. ati-ia.com/Library/documents/ATI_FT_Catalog.pdf. Burgar, C., P. Lum, P. Shor, and M. V. Loos (2000). Development of robots for rehabilitation therapy: The palo alto va/stanford experience. Journal of rehabilitation research and development 37 (6), 663­673. Choi, H. and S. Ryew (2000). Anthropomorphic joint mechanism with two degrees of freedom. In Robotics and Automation, 2000. Proceedings. ICRA '00. IEEE International Conference on, Volume 2, pp. 1525 ­1530 vol.2. Colombo, G., R. Riener, and L. Lunenburger (2006). Human-centered robotics applied to gait training and assessment. Journal of rehabilitation research and development 43(5), 679­694. 105

BIBLIOGRAPHY

Chapter 7

Curt, P., R. Thomas, and S. Deming (2012). A high-fidelity harmonic drive model. Journal of Dynamic Systems, Measurement, and Control 134. Dhaouadi, R., F. Ghorbel, and P. S. Gandhi (2003, dec.). A new dynamic model of hysteresis in harmonic drives. Industrial Electronics, IEEE Transactions on 50(6), 1165 ­ 1171. Godler, I., M. Horiuchi, M. Hashimoto, and T. Ninomiya (2000, Dec.). Accuracy improvement of built-in torque sensing for harmonic drives. IEEE/ASME Trans. on Mech. 5(4), 360­366. Good, M., L. Sweet, and K. Strobel (1985). Dynamic models for control system design of integrated robot and drive systems. Journal of Dynamic Systems, Measurement, and Control 107 (1), 53­59. Harmonic Drive LLC (2012). About Harmonic Drive CSD and SHD. http: //www.harmonicdrive.net/media/support/catalogs/pdf/ csd-shd-catalog.pdf. Hashimoto, M., Y. Kiyosawa, and R. Paul (1993, Feb.). A torque sensing technique for robots with harmonic drives. IEEE Trans. on Robot. and Autom. 9(1), 108­116. Hidaka, T., T. Ishida, Y. Zhang, M. Sasahara, and Y. Tanioka (1990). Vibration of a strainwave gearing in an industrial robot. In Proceedings of the International Power Transmission and Gearing Conference, pp. 789­794. Imura, J., T. Sugie, Y. Yokokohji, and T. Yoshikawa (1991). Robust control of robot manipulators based on joint torque sensor information. In Proceedings of IEEE/RSJ International Workshop on Intelligent Robots and Systems, pp. 344­349. Iwata, H., H. Hoshino, T. Morita, and S. Sugano (1999). A physical interference adapting hardware system using mia arm and humanoid surface covers. In Intelligent Robots and Systems, 1999. IROS '99. Proceedings. 1999 IEEE/RSJ International Conference on, Volume 2, pp. 1216 ­1221 vol.2. Kawakami, T., K. Ayusawa, H. Kaminaga, and Y. Nakamura (2010, May). High-fidelity joint drive system by torque feedback control using high precision linear encoder. In Proc. IEEE Int. Conf. on Robot. and Autom., pp. 3904­3909. Kemp, C., A. Edsinger, and E. Torris-Jara (2007, Mar.). Challenges for robot manipulation in human environments. IEEE Robotics and Automation Magazine 14(1), 20­29. 106

Chapter 7

BIBLIOGRAPHY

Khatib, O. (1995). Inertial properties in robotic manipulation: An object-level framework. International Journal of Robotics Research 14, pp. Khatib, O. (1999, Feb.,). Mobile manipulation: the robotic assistant. Journal of Robotics and Autonomous Systems 26(2­3), 175­183. Kircanski, N. and A. Goldenberg (1997). An Experimental Study of Nonlinear Stiffness, Hysteresis, and Friction Effects in Robot Joints with Harmonic Drives and Torque Sensors. International Journal of Robotic Research 16, 214­239. Kojima, H., K. Taguti, and H. Tuji (1989). Robot vibrations caused by torque ripples in power transmission mechanisms. it Nippon Kikai Gakkai Ronbunshu, C Hen/Transactions of the Japan Society of Mechanical Engineers,Part C 55(517), 2390­ 2395. Krebs, H., N. Hogan, M. Aisen, and B. Volpe (1998, mar). Robot-aided neurorehabilitation. Rehabilitation Engineering, IEEE Transactions on 6(1), 75 ­87. Laurin-Kovitz, K., J. Colgate, and S. Carnes (1991, apr). Design of components for programmable passive impedance. In Robotics and Automation, 1991. Proceedings., 1991 IEEE International Conference on, pp. 1476 ­1481 vol.2. Li, Z., J. Lou, N. Xi, and A. Ming (2007). Development and control of complaint hybrid joints for human-symbiotic mobile manipulators. International Journal of Advanced Robotic Systems 7 (1), 27­34. Li, Z., A. Ming, N. Xi, M. Shimojo, and M. Kajitani (2004, Sep.). Mobile manipulator collision control with hybrid joints in human-robot symbiotic environments. In Proc. of IEEE/RSJ Intl. Conf. on Intelligent Robotics and Syst., Sendal, Japan, pp. 154­161. Liu, G. (2002). Decomposition-based friction compensation of mechanical systems. Mechatronics 12(5), 755­769. Liu, G., S. Abdul, and A. Goldenberg (2006, Jun.). Distributed modular and reconfigurable robot control with torque sensing. In Proc. IEEE Int. Conf. on Mechatron. and Autom., pp. 384­389. Liu, G., S. Abdul, and A. Goldenberg (2008, Jan.). Distributed control of modular and reconfigurable robot with torque sensing. Robotica 26(1), 75­84. 107

BIBLIOGRAPHY

Chapter 7

Liu, G., S. Ahmad, and L. Ren (2009, Oct.). Hybrid control of door-opening by modular re-configurable robots. In Proc. of IEEE/RSJ International Conference on Intelligent Robots and Systems, St. Louis, USA, pp. 954­959. Liu, G., X. He, J. Yuan, S. Abdul, and A. Goldenberg (2008, May). Development of modular and reconfigurable robot with multiple working modes. In Proc. of IEEE Intl. Conf. on Robot. and Autom., Pasadena, California, pp. 3502­3507. Liu, G., Y. Liu, and A. Goldenberg (2011, Aug.). Design, analysis and control of a springassisted modular and reconfigurable robot. IEEE/ASME Trans. on Mechatronics 16(4), 695­706. Liu, Y. and G. Liu (2009, Aug.). Interaction analysis and online tip-over avoidance for a reconfigurable tracked mobile modular manipulator negotiating slopes. IEEE/ASME Trans. on Mechatronics 15(4), 623­635. Liu, Y., Y. Xu, and M. Bergerman (1999, Apr.). Cooperation control of multiple manipulators with passive joints. IEEE Trans. on Robotics and Automation 15(2), 258­267. Lum, P., D. Reinkensmeyer, R. Mahoney, W. Rymer, and C. Burgar (2002). Development of robots for rehabilitation therapy: The palo alto va/stanford experience. Topics in stroke rehabilitation 8(4), 40­53. Luo, J., Z. Li, A. Ming, and S. Ge (2006, 0-0). Robust motion/force control of holonomic constrainted nonholonomic mobile manipulators using hybrid joints. In Intelligent Control and Automation, 2006. WCICA 2006. The Sixth World Congress on, Volume 1, pp. 408 ­412. Marilier, T. and J. Richard (1989). Non-linear mechanic and electric behavior of a robot axis with a "harmonic-drive" gear. Robotics and Computer-Integrated Manufacturing 5(2-3), 129­136. Morita, T. and S. Sugano (1996, Apr.). Development of 4-dof manipulator using mechanical impedance adjuster. In Proc. of IEEE Intl. Conf. on Robotics and Automation, Minneapolis, Minnesota, USA, pp. 2902­2907. Musser, C. (1955). Strain wave gearing. Nagatani, K. and S. Yuta (1996, Apr.). Designing strategy and implementation of mobile manipulator control system for opening door. In Proc. of IEEE Intl. Conf. on Robotics 108

Chapter 7 and Automation, Minneapolis, USA, pp. 2828­2834.

BIBLIOGRAPHY

Niemeyer, G. and J. Slotine (1997, Apr.). A simple strategy for opening an unknown door. In Proc. of IEEE International Conference on Robotics and Automation, Albuquerque, New Mexico, USA, pp. 1448­1453. Nung, A., M. Satou, T. Kamimura, Y. Hasegawa, T. Jinnai, C. Kanamori, and M. Kajitani (2001). Automatic insertion of a long-pipe by a mobile manipulator with exchangeable active/passive joints. In Systems, Man, and Cybernetics, 2001 IEEE International Conference on, Volume 1, pp. 359 ­364 vol.1. Nye, T. and R. Kraml (1991). Harmonic drive gear error: Characterization and compensation for precision pointing and traching. In Proceedings of the 25th Aerospace Mechanisms Symposium, pp. 237­252. Paljug, E., T. Ohm, and S. Hayati (1995). The jpl serpentine robot: a 12 dof system for inspection. In Proc. of IEEE International Conference on Robotics and Automation, Nagoya, Aichi, Japan, pp. 3143­3148. Petersson, L., D. Austine, and D. Kragic (1997, Apr.). High-level control of a mobile manipulator for door opening. In Proc. of IEEE/RSJ International Conference on Intelligent Robotics and Systems, pp. 2333­2338. Preissner, C., T. Royston, and D. Shu (2012). A high-fidelity harmonic drive model. Journal of Dynamic Systems, Measurement, and Control 134(1), 011002. R. Teasell, N. B. and J. Bitensky (2005). Plasticity and reorganization of the brain post stroke. Topics in stroke rehabilitation 12(3), 11­26. Randazzo, M., M. Fumagalli, F. Nori, L. Natale, G. Metta, and G. Sandini (2011, Sep.). A comparison between joint level torque sensing and proximal f/t sensor torque estimation: implementation on the icub. In Proc. IEEE/RSJ Int. Conf. on Intel. Robot. and Sys., pp. 4161­4167. Ryew, S. and H. Choi (2001, June). Double active universal joint (dauj): Robotic joint mechanism for human-like motions. IEEE Transactions on Robotics and Automation 17 (3), 290­300. Ryew, S., H. Choi, and W. Chung (2000). Robotic finger mechanism with new anthropomorphic metacarpal joint. In Industrial Electronics Society, 2000. IECON 2000. 26th 109

BIBLIOGRAPHY Annual Confjerence of the IEEE, Volume 1, pp. 416 ­421 vol.1.

Chapter 7

Schaechter, J. (2004). Motor rehabilitation and brain plasticity after hemiparetic stroke. Prog. Neurobiol. 73(1), 61­72. Schempf, H. and D. Yoerger (1993). Study of dominant performance characteristics in robot transmissions. Journal of Mechanical Design 115(3), 472­482. Sensinger, J. and R. Weir (2006, Aug.). Improved torque fidelity in harmonic drive sensors through the union of two existing strategies. IEEE/ASME Trans. on Mech. 11(4), 457­ 461. Slotine, J. and W. Li (1991). Applied nonlinear control. Englewood Cliffs, NJ: PrenticeHall. SPRS174T (2012). TMS320F2810, TMS320F2811, TMS320F2812,TMS320C2810, TMS320C2811, TMS320C2812 digital signal processors Data Manual. http:// www.ti.com/lit/ds/symlink/tms320f2812.pdf. Suita, K., Y. Yamada, N. Tsuchida, K. Imai, H. Ikeda, and N. Sugimoto (1995, may). A failure-to-safety ldquo;kyozon rdquo; system with simple contact detection and stop capabilities for safe human-autonomous robot coexistence. In Robotics and Automation, 1995. Proceedings., 1995 IEEE International Conference on, Volume 3, pp. 3089 ­3096 vol.3. Taghirad, H. and P. Belanger (1998, Feb.). Torque ripple and misalignment torque compensation for the built-in torque sensor of harmonic drive systems. IEEE Trans. on Instr. and Measur. 47 (1). Tien, L. L., A. Albu-Schaffer, A. D. Luca, and G. Hirzinger (2008, Sep.). Friction observer and compensation for control of robots with joint torque measurement. In Proc. IEEE/RSJ Int. Conf. on Intel. Robot. and Sys., pp. 3789­3795. Tjahjowidodo, T., F. Al-Bender, and H. V. Brussel (2006). Nonlinear modelling and identification of torsional behaviour in harmonic drives. In it Proceedings of ISMA Conference, pp. 2785­2796. Tsetserukou, D., R. Tadakuma, H. Kajimoto, and S. Tachi (2006, May). Optical torque sensors for implementation of local impedance control of the arm of humanoid robot. In Proc. IEEE Int. Conf. on Robot. and Autom., pp. 1674­1679. 110

Chapter 7

BIBLIOGRAPHY

Tuttle, T. and W. Seering (1993). Modeling a harmonic drive gear transmission. In Robotics and Automation, 1993. Proceedings., 1993 IEEE International Conference on, pp. 624­ 629 vol.2. Vischer, D. and O. Khatib (1995, Aug.). Design and development of high-performance torque-controlled joints. IEEE Trans. on Robot. and Autom. 11(4), 537­544. Volkov, D. and Y. Zubkov (1978). Vibrations in a drive with a harmonic gear transmission. Russian Engineering Journal 58(5), 11­15. Volpe, R. and P. Khosla (1993, nov). A theoretical and experimental investigation of explicit force control strategies for manipulators. Automatic Control, IEEE Transactions on 38(11), 1634 ­1650. Zhu, W., E. Dupuis, and M. Doyon (2007, Aug.). Adaptive control of harmonic drives. ASME Trans. on Dyn. Syst., Measur., and Contr. 129(2), 182­193.

111

Chapter 7

BIBLIOGRAPHY

113


