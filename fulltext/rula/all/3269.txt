SIMULTANEOUS MEASUREMENT OF FLEXIBLE ROBOTIC LINK DEFLECTION AND ROTATION USING POSITION SENSING DETECTORS

by George Balyasin, B.Eng Aerospace Engineering Ryerson University, 2012

A thesis Presented to Ryerson University

in partial fulfillment of the requirements for the degree of Master of Applied Science in the Program of Aerospace Engineering

Toronto, Ontario, Canada, 2014 ©George Balyasin, 2014

AUTHOR'S DECLARATION FOR ELECTRONIC SUBMISSION OF A THESIS I hereby declare that I am the sole author of this thesis. This is a true copy of the thesis, including any required final revisions, as accepted by my examiners. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research. I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. I understand that my thesis may be made electronically available to the public.

ii

Abstract
SIMULTANEOUS MEASUREMENT OF FLEXIBLE ROBOTIC LINK DEFLECTION AND ROTATION USING POSITION SENSING DETECTORS
It is well known that the flexibility of robotic links causes deformation and reduced positioning accuracy of the robot at the end-effector. This problem becomes more complicated when the links are made of new materials, such as composite. Various approaches including strain gauges, fiber Bragg grating, computer vision and optoelectronics have been applied to solve the problem. This work proposes an optoelectronic method with a reduced number of position sensing detectors and laser diodes to determine both bending and torsion deformations of a robotic link. The attachment of two optoelectronic sensors on the link and the two laser dots produced on these sensors by diodes provide the data required for computations. The tip deflection values are obtained using trigonometric functions. Both iterative and explicit methods of link tip movement have been analysed for efficiency and accuracy. The methods have been validated experimentally and error analysis has been performed.

iii

Acknowledgements
I would like to thank Dr. Guangjun Liu and Dr. Wen-Hong Zhu for supervising my research work and for guiding me through each stage of the program.

iv

-To those who inspire.

v

Table of Contents
List of Tables ............................................................................................................................................. viii List of Figures .............................................................................................................................................. ix List of Appendices ....................................................................................................................................... xi 1 Introduction and previous work ................................................................................................................. 1 1.1 Introduction ......................................................................................................................................... 1 1.2 Previous Work .................................................................................................................................... 1 1.2.1 Fiber Bragg Grating ..................................................................................................................... 2 1.2.2 Computer Vision .......................................................................................................................... 3 1.2.3 Strain Gauges ............................................................................................................................... 5 1.2.4 Accelerometers............................................................................................................................. 7 1.2.5 Position Sensing Detectors........................................................................................................... 7 1.2.6 Contributions................................................................................................................................ 9 1.2.7 Outline of thesis ........................................................................................................................... 9 2. Link tip translation and rotation computations ....................................................................................... 10 2.1 Position Sensing Detector (Operating Concept) ............................................................................... 10 2.2 Proposed method of tip deflection and torsion measurement using iterations .................................. 13 2.3 Determination of PSD plane tilt under load and corresponding compensation ................................ 17 3. Error analysis .......................................................................................................................................... 24 3.1 Error sources ..................................................................................................................................... 24 3.2 Computing error in tip translations X and Y and tip rotation .................................................... 27 4. Direct analytical method to determine link tip........................................................................................ 31 deflection and torsion .................................................................................................................................. 31 4.1 Analytical deflection and torsion measurement concept .................................................................. 31 4.2 Ordinary Least Squares Computation Method.................................................................................. 33 4.3 Weighted Least Squares .................................................................................................................... 35 4.4 Condition number ............................................................................................................................. 36 5. Experiments to measure tip deflection and torsion ................................................................................. 38 5.1 Experiment System Setup and experiment procedure ...................................................................... 38 5.2 Deflection measurement methodology comparison .......................................................................... 41 5.3 Placement of PSDs and laser diodes ................................................................................................. 43 5.4 System implementation to increase reliability .................................................................................. 45 5.5 Experimental results.......................................................................................................................... 46 6. Conclusions, contributions and future work ........................................................................................... 57 vi

6.1 Conclusions ....................................................................................................................................... 57 6.2 Future work ....................................................................................................................................... 57 Bibliography ............................................................................................................................................... 58 Appendix A ­ Formulas used in cantilever beam deflection analysis ........................................................ 64 Derivation of beam bending formula [61] .......................................................................................... 64 Derivation of second moment of inertia formula (around axes X,Y and Z) [61]................................ 65 Appendix B - A study on scalability of flexible link's tip deflection ......................................................... 67 System Setup........................................................................................................................................... 67 Mathematics of Materials Mechanics ..................................................................................................... 68 Case study ............................................................................................................................................... 68 Link tip deflection ratio analysis ............................................................................................................. 70 Appendix C - Simulink software models used in the experiment ............................................................... 72 Appendix D - Matlab code used to obtain experimental measurement data ............................................... 79 Matlab code for iterative method of section 2.2 ..................................................................................... 79 Matlab code for Simple Least Squares analytical method in section 4.2 ................................................ 82 Matlab code for Weighted Least Squares analytical method in section 4.3 ........................................... 83 Matlab code for sub-functions of camera setup Simulink model ........................................................... 84

vii

List of Tables
Table 3.1 Sources of error............................................................................................27 Table 5.1 Relative error results for selected experiment runs................................................56 Table B1 Link deformation computation results................................................................69 Table B2 Various link materials' Torsion-to-Bending ratio..................................................71

viii

List of Figures
Figure 1.1 Fiber Bragg grating etched in a fiber glass cable ...............................................................2 Figure 1.2 Using camera to detect link deformation ........................................................................4 Figure 1.3 Example of strain gauge placement on flexible link ............................................................6 Figure 1.4 Implementation of a PSD on a flexible link [42] .................................................................8 Figure 2.1 Schematic of a segmented PSD.....................................................................................12 Figure 2.2 One dimensional duolateral PSD .................................................................................12 Figure 2.3 Two-dimensional doulateral PSD ..... ...........................................................................12 Figure 2.4 System setup concept with definition of coordinate system..................................................13 Figure 2.5 Depiction of distance components and dot location for rotation angle iterations .......................14 Figure 2.6 Position of laser dot before load relative to PSD centre and X T-YT tip frame origin..................14 Figure 2.7 a) PSD and beam before deformation, b) after bending without torsion c) after bending and torsion- iterated twist angle is incorrect, d) after bending and torsion- iterated twist angle is correct..............................................................................................................................16 Figure 2.8 Position of PSDs relative to tip frame of reference ............................................................18 Figure 2.9 Definition of laser dot positions on PSD plane ..................................................................18  -   frame of reference by rotating X and Y axes by angle ..............................19 Figure 2.10 Creation of   -   plane after PSD plane tilting Figure 2.11 a) The position of laser dots on    b) The position of the dots on both  -  and XT -YT planes.............................................................20 Figure 2.12 Projection of laser dots onto XT-ZT plane......................................................................21 Figure 2.13 Correction of laser dot position for the PSD plane tilt ......................................................23 Figure 3.1 The refraction of laser beam due to atmospheric effects.....................................................25 Figure 3.2 Medium boundary and light diffraction.........................................................................25 Figure 3.3 a) PSD axes aligned with tip frame b) PSD axes not aligned with tip frame ...........................26 Figure 3.4 Depiction of the true and assumed laser dot starting and end points, and the errors  between the respective sets of points......................................................................................................30 Figure 4.1 Distances between origin of plane XT-YT and the centres of the two PSDs...............................31 Figure 4.2 Small arch of laser doth path is approximated as a straight line ...........................................32 Figure 4.3 Displacement of a PSD is approximated as translation in straight line ....................................32 Figure 5.1 Close-up of the two PSDs used in experiment..................................................................38 Figure 5.2 Experimental setup for PSD method..............................................................................39 Figure 5.3 OT-301DL amplifier for duolateral PSDs.......................................................................40 Figure 5.4 Quanser Q8 data acquisition circuit board......................................................................40 Figure 5.5 Location of paper target and camera .............................................................................41 Figure 5.6 Close-up of three circles used for visual link deformation magnitude confirmation; a) in color, b) Simulink's blob analysis applied..............................................................................42 Figure 5.7 a) Lasers at fixed end of the link b) Lasers at the deflecting tip of the link ..........................43 Figure 5.8 Effect of tip tilting on the position of laser dot on PSD ......................................................43 Figure 5.9 A case where a combination of tip translation and tilting caused the laser dot to end up on pre-load position...................................................................................................................44 Figure 5.10 PSDs at different planes and distances from respective laser diodes .....................................44 Figure 5.11 Proposed PSDs, laser diodes, optical lenses and mirrors setup to improve system reliability .......46 Figure 5.12 Link torsion at 50N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1] .................47 Figure 5.13 X Tip Displacement at 50N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1] .....47 Figure 5.14 Y Tip Displacement at 50N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1] ....47 Figure 5.15 Link torsion at 30N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1] ................48 Figure 5.16 X Tip Displacement at 30N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1] ....48 Figure 5.17 Y Tip Displacement at 30N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1] ....48 Figure 5.18 Link torsion at 10N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1] .................49 Figure 5.19 X Tip Displacement at 10N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1] .....49 Figure 5.20 Y Tip Displacement at 30N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1] ....49 Figure 5.21 Link torsion at 50N load hung directly on main link [0.03, 0.5, 10, 0.1] .................................50 Figure 5.22 X Tip Displacement at 50N load hung directly on main link [0.03, 0.5, 10, 0.1].....................50

ix

Figure 5.23 Y Tip Displacement at 50N load hung directly on main link [0.03, 0.5, 10, 0.1]......................50 Figure 5.24 Link torsion at 50N load hung directly on main link [3, 0.5, 10, 0.1] ....................................51 Figure 5.25 X Tip Displacement at 50N load hung directly on main link [3, 0.5, 10, 0.1] .........................51 Figure 5.26 Y Tip Displacement at 50N load hung directly on main link [3, 0.5, 10, 0.1].........................51 Figure 5.27 Link torsion at 30N load hung directly on main link [3, 0.5, 10, 0.1]....................................52 Figure 5.28 X Tip Displacement at 30N load hung directly on main link [3, 0.5, 10, 0.1].........................52 Figure 5.29 Y Tip Displacement at 30N load hung directly on main link [3, 0.5, 10, 0.1].........................52 Figure 5.30 Link torsion at 50N load hung on sidebar 0.585m from main link (Laser dot diameter x2) [0.03, 0.5, 10, 0.1]...................................................................................................................53 Figure 5.31 X Tip Displacement at 50N load hung on sidebar 0.585m from main link (Laser dot diameter x2) [0.03, 0.5, 10, 0.1] .............................................................................................................53 Figure 5.32 Y Tip Displacement at 50N load hung on sidebar 0.585m from main link (Laser dot diameter x2) [0.03, 0.5, 10, 0.1] .............................................................................................................53 Figure 5.33 Link torsion at 30N load hung on sidebar 0.585m from main link (Laser dot diameter x2) [0.03, 0.5, 10, 0.1]...................................................................................................................54 Figure 5.34 X Tip Displacement at 30N load hung on sidebar 0.585m from main link (Laser dot diameter x2) [0.03, 0.5, 10, 0.1] ..............................................................................................................54 Figure 5.35 Y Tip Displacement at 30N load hung on sidebar 0.585m from main link (Laser dot diameter x2) [0.03, 0.5, 10, 0.1] ..............................................................................................................54

x

List of Appendices
Appendix A.......................................................................................................................64 Appendix B.......................................................................................................................67 Appendix C...............................................................................................................................72 Appendix D.......................................................................................................................79

xi

1 Introduction and previous work
1.1 Introduction
Robotic manipulators are widely used in the manufacturing industry, as well as in exploration and functioning in environments hostile to humans. The robotic activities may require working with high positioning accuracy, along with a high degree of precision. Space exploration and space-related missions include on-orbit handling of modules during the construction of International Space Station. Additional uses are the subsequent station repairs, as well as capturing and redeployment of satellites when in need of repairs and now potentially refueling. The robotic links which the robotic arm consists of are flexible tubes of arbitrary cross section. These links, like any other object, are subject to the physical properties of the materials they are made of. The material properties govern the links' strength and flexibility. The link flexibility changes the link's shape from the non-flexible, or rigid state. If there is a manipulator on one end of the robot arm, such as mechanical fingers or an attached tool, the change in the arm's shape will change the position of the manipulator in 3D space. This leads to tip positioning error. It is well known that applied loads and momentum cause the deformation of flexible robotic links. The loads may be a weight being lifted or held by the arm, or when in the presence of gravity, the robotic arm's own weight will pull it toward gravity centre. The momentum of a moving arm will bend it when the movement velocity changes. If the arm consists of a number of links, the application of a force on one link would generate a torque on a second link attached to it, respective of the angle between those links. The torque will lead to torsion of the second link, while in turn that torsion will twist it leading to further error in the position of the first link's tip. There is a need to measure the error introduced by the link deformation in order to guide the robotic device manipulators to the intended position after error compensation. The main task of the present work is to develop, implement and evaluate a number of techniques to measure both bending and torsion deformations of a robotic link accurately (submillimeter scale) using optoelectronic devices called position sensing detectors (PSD) and laser diodes.

1.2 Previous Work
The known approaches to detect flexible link deformation use either optics, strain gauges, fiber glass, computer vision or accelerometers.

1

1.2.1 Fiber Bragg Grating
To determine link bending using light, [1] examines a method where fiber Bragg gratings (FBG) are used to filter out wavelengths of light out of optical fiber based on the stress the fiber experienced at sensor location. Thus, having a number of such sensors scattered along a robotic link would, in combination with stress analysis theory, predict and estimate its deformation. Fiber Bragg grating (Figure 1.1) is a segment of the glass fiber that has a different index of refraction from the rest of the cable, caused by exposing that particular area to high-energy UV light. The grating reflects back towards the source passing light of a specific wavelength, called Bragg wavelength.
Transmitted wavelengths Incoming wavelengths

Glass fiber

Strain specific reflected wavelength

Etched Bragg Grating

Figure 1.1 Fiber Bragg grating etched in a fiber glass cable

If the FBG experiences strain in direction longitudinal to the light path, the reflected Bragg wavelength will shift towards a longer wavelength proportionally. An increase in temperature of the FBG will also increase the Bragg wavelength. Thus, each FBG on a robotic link can signal back the strain it experiences and using polynomial approximation (the more FBGs used, the more accurate the approximation) the general shape of a robotic link can be obtained. Using this rough model of the link's shape, the Cartesian position of its tip can be calculated. An issue arises as to how to differentiate the Bragg wavelength shift due to strain from the shift due to FBG temperature change caused by robot's activity and environmental factors. One solution is proposed by [2], where right next to each FBG that undergoes strain, there will be another FBG that does not, yet experience the same temperature effects. This will allow for obtaining the Brag wavelength shift due to strain only from the shift due to combination of strain and temperature change.

2

In order to minimize the approximation of link tip position, the location of FBGs on the link has to be optimized. Both [1] and [2], using FBGs of different Bragg wavelength, conducted optimization calculations for the grating locations - the former used Chebyshev approximation with the Chebyshev nodes as the values of FBG locations along the link [3], while the latter used an evolutionary algorithm [4] to find the optimal locations for a predetermined amount of the sensors. In an experiment conducted in [5], FBGs of the same Bragg wavelength were used. A mechanical circulator and mirrors allowed differentiation between the light returned from different sensors. This would allow identical FBGs to be used, although the addition of extra parts would not necessarily make this method simpler or cheaper than those in [1] and [2]. The FBG method can't provide the link's torsion values. However, for link bending on ly, the method's advantages are a) there is only light used, no electrical signals, thus it is impervious to electromagnetic interference, b) since it is only the wavelength that is of interest here, the slight variations in intensity of light sent into the fiber by an external source will not have impact on FBG readings.

1.2.2 Computer Vision
Computer vision field of studies is where one or more images are acquired by a sensor such as a digital camera, and then the segments (or pixels) these images are composed of are analysed to obtain useful data. The data obtained can be the displacement of an object tracked over time, meaning a number of images will have to be taken over known period of time in order to compare the object's location in each one. Such a tracked object can be the tip of a robotic link. If the scale in the picture is known ­ how many pixels in the image represent a certain unit of length - the amount of pixels which the link tip has moved on the image will be proportional to real world displacement magnitude. Tip deflection can be deduced from the difference between theoretical tip position obtained from a robot's joint angle values and link lengths, and the camera-provided distance between the end-effector and a datum point. There are two main kinds of computer vision used in robotic control: a) hand-eye and b) eye-in-hand. The hand-eye vision configuration (Figure 1.2) implements a camera that is at a distance from the robotic arm and the camera, acts as a sort of static observer that has a constant direction and field of view while objects move within it. In [6], a two link flexible robotic manipulator has been subjected to a force in order to cause bending, a camera on the side registered the tip
3

movement trajectory in 2-D, Figure 2.2. A simulation of ship crane bending and vibration has been analysed in [7]. An infra-red sensor in [8] tracked an infra-red marker placed on robot's end effector. Tang, Wang and Lu [9] have placed a camera on the hub of a motor to which a link was attached, the motor spin incited vibration in the link and the amount of tip wobbling (thus link bending) was obtained. Two spheres of different colors were attached to the end effector in [10] and have been tracked to give the link deflection in 3 DOF by noting the difference between expected and observed sphere positions. A stereo camera was used in [11] to track and place the end effector in the desired position in 3D space. In [12] and [13], a set of four cameras along with four image screens and four visual markers were implemented. LEDs were used in [12] and lasers in [13], have been used to observe the movement of a large workpiece held by a robotic arm. To track in 5 DOF the markers attached to the end effector of a robot, [14] have implemented a spherical mirror allowing a single camera a panoramic view. The tip of a micromanipulator was tracked on a microscopic scale by analysing the degree of focus the tip in the camera's view [15]. For [16], the results were available for both link bending and torsion, however, for hand-eye method nothing can get in-between the camera and the marker/s. To keep the image resolution good enough to detect deflection on millimeter scale and torsion of 1-2 degrees, the camera cannot be too far from the link.
End effector

Camera field of view

Long robotic link

Camera
Figure 1.2 Using camera to detect link deformation

Camera sampling rate has to be adequate to supply image data of sufficient resolution, at least every few milliseconds. High speed, high definition cameras would be costly. Also, since a

4

multi-link manipulator will have to be entirely within camera's field of view, the link's possible length is limited. The second type of vision-based robotic control is called eye-in-hand and implements a camera, either mono or stereo, attached to the robot's end-effector. The camera faces outwards in the direction parallel to the last link's longitudinal axis, and provides information on the link tip position and orientation relative to marker/s placed somewhere in the robot's surroundings or on the object it is to interact with. The tip's deflection from rigid-link tip position assumption can be obtained from the difference between what the end-effector-mounted camera sees and what it was expected to see. References [17], and [18] present the basic concept of the eye-in-hang system. In [19], endpoint trajectory control has been analysed along with vibration control, while the purpose of the study was to successfully insert a peg into a low tolerance hole. To further this study in [20], the authors implemented impedance control sensors to estimate the forces the tip experiences when coming into contact with solid body during a task run. This was to be complementary to the visual control system. Another vision-based and impedance control system has been proposed in [21], but instead of tracking picture markers, laser dots were observed and their position in camera's field of view analysed. Source [22] Describes simulation of interaction of robotic arm with a moving satellite - the arm was to be guided to the correct position to connect with the satellite by tracking markers on its body. In [23] a stereo camera has been placed on the tip of robotic arm in order to more accurately compute its position relative to surroundings.

1.2.3 Strain Gauges
A common method of determining beam deflection is through the analysis of signals coming from strain gauges strategically placed along the length of a link as described in [16], [24] and [25]. Strain gauges are electrical sensors that are rigidly attached to a surface on an object the strain of which is to be measured. When strain occurs, the conductive wire in the sensor is stretched or compressed, changing its electrical resistance. This resistance change can be analysed to obtain the object's surface strain because the resistance change and strain are proportional. As load is applied to the link, the resulting strain measurements combined with an accurate mathematical link model allow the prediction of the link's deformed shape. Once the total amount of deflection is known, it is then possible to deduct or extrapolate the link-tip's new location and use this for control, called the inferred end-point control [26]. Examples of this
5

concept are found aboard the space station [27] and in the milling industry [28].The strain gauge method provides both bending and torsion information. The acquired beam torsion values from gauges can be extrapolated and thus indirectly indicate the tip's angle of twist. Each measured mode of deformation requires specific configuration and orientation of the gauges on the deforming body [29], [30]. An example of strain gauge configuration on a link is depicted in Fig 1.3.

Fixed end

Strain gauges Free tip

Link Figure 1.3 Example of strain gauge placement on flexible link To obtain the end-effector vibration of a single link in 2D for link control purposes, [31]-[33] describe methods where the gauges data is analysed and link vibration is actively reduced. Reference [34] describes how vibration of the end-effector of a two-link manipulator has been obtained using strain gauges placed on both links. For a robust end-effector position control, [35] describes how the effects of a change in load applied on link can be mitigated. Reference [36] mentions that in case the end-effector displacement is in a plane to which the direction of gravity force is or is close to normal, the control is possible since eventually the tip will come to rest in neutral non-deflected position. This is important since if the link's tip is deflected in the general direction of gravity force - that force will make the link deform under load even when static. Groups of strain gauges combined into load cells can be installed on a robotic link. However, there will be a need for gauges calibration for thermal expansion of material, due to their thermal sensitivity and the wide temperature range encountered in space and the manufacturing environment, even if no load on the robot is present. To attach strain gauges directly on a link, the area of application has to be clean; if glue is used it has to last for the duration of gauge use. The longer the robotic link is, the longer the wires running from gauge to monitoring system are, which will affect the readings. Using a wireless gauge monitoring system instead will lead to

6

extra hardware and costs. Finally, strain gauges are limited in the strain they can be subjected to, meaning that the loads applied to the robotic link may be limited to predetermined maximum values. An image processing method used in [24] compared deformation data using strain gauges on a link to a secondary system of infrared markers (computer-vision-based system) placed on both of the link's ends and monitored by an external infrared camera.

1.2.4 Accelerometers
A link deflection method using accelerometers - sensors measuring the acceleration of an object they are attached to, is mentioned in [30]. These sensors, with the link's rigid-body translation and vibration, along with accurate mathematical model can provide end-effector location estimation. This is a concept fundamentally similar to that where strain gauges or Bragg gratings are used. However, since the link's mathematical model will not be perfect and there will be approximations of non-linear system factors, there will be errors introduced into the deflection measurements.

1.2.5 Position Sensing Detectors
The general concept behind optoelectronic method of measuring link deflection is to first have a laser dot shine on the centre of a sensor called Position Sensing Detector (PSD) when the link is considered not under load and noting the dot's initial position. Then, noting the dot's location again after a load is applied to the link and its tip moved from the initial position to a different position. The laser dots that were once on the centres of PSDs move on the sensors' photosensitive surface in proportion to the link tip deformation. In [37] and [38], a setup of 3 PSDs and 3 laser diodes is introduced to measure the translation of the link's tip in the plane of the PSDs, and a mathematical method is provided for calculating the link's twist. In [39], a single PSD and a laser diode were used to detect the vibration of a moving link's tip and its damping, all in one dimension. Sources [40] and [41] describe the use of a single PSD to determine the deflection of a coordinate measuring arm. Here the measured deflection is in the X and Y axes of a coordinate system with Z axes parallel to the laser beam which shines from one end of link to the other. Link torsion was not considered. However, a list of sources of deformation is provided - among the most considerable sources are the flexible link's own weight, operator's force applied externally on the link and the contact force between the link's tip and a surface. Among the experimental errors listed were joint run7

outs and encoder errors. Figure 1.4 shows the basic concept of how a laser and a PSD are attached onto the link.
Laser diode Light beam Flexible link

Undeflected link

PSD

Figure 1.4 Implementation of a PSD on a flexible link [42]

Optical prisms to split laser beams were used along with PSDs in [43] [44] and [45] to determine end effector positioning errors when the manipulator has more than one link. The deflection of individual links is combined into the overall error magnitude. PSDs can be used to measure the deflection and torsion of not only robotic links, but also of non-robotic long structures. For example in [46], PSDs are used on a NuSTAR x-ray telescope space mission to measure the deflection of a 10 meter-long mast that connects the x-ray focusing elements and the ray detector. A way to measure a cantilever tip deflection using PSDs and lasers decoupled from it is studied in [47] and [48]. There, a laser beam strikes the cantilever tip at an angle and the reflected beam hits a PSD. The cantilever's bending changes the angle at which the beam strikes it and this leads to the reflected beam hitting the PSD in a location different from the predeflection case. The displacement of the laser dot on PSD can be analysed to obtain cantilever deflection. In [49], a spherical mirror has been placed on the cantilever's tip in order to increase the system's sensitivity to deflection by magnifying the effect the cantilever bending has on the reflected beam. Using PSDs may overcome some of the strain gauges' drawbacks. Unlike a strain gauge system which processes electric resistance, the PSDs process photovoltaics. The laser beams used do not need a medium to travel through and are not affected by electromagnetic field. The attachment of system parts is done at the link ends, leading to easier parts replacement, if required. Lastly, the maximum link load that PSD system can operate at is determined by the physical size of the sensors so the laser dots will remain on the sensors' photovoltaic surface during tip deflection.

8

This thesis work proposes a link tip movement tracking method that involves just two PSDs installed on a link. Since a robotic arm typically consists of a number of links to obtain the endeffector's real current position, as in [43]-[45] for example, the proposed method's measurements of individual link deflections can be combined.

1.2.6 Contributions
During the research project the contributions made to the field of link deflection study are:     Iterative and analytical methods of link tip deflection measurement have been proposed and tested. A method to measure the tilting of link tip has been developed. Error analysis has been performed including pointing out the potential sources of error and mathematically formulating the error's magnitude. Best ways to attach the measurement equipment to the robotic link have been outlined. The theoretical effects of link sizing on its tip deflection have been examined.

1.2.7 Outline of thesis
Chapter 2 starts with the description of the operation concept of position sensing detectorsthe core sensors used in this thesis work, followed by a detailed description of link tip translation and rotation measurement using iterative process. Chapter 3 discusses the sources of error that may affect sensor measurements and then provides mathematical analysis of the possible measurement error magnitude for the iterative process of Chapter 2. Chapter 4 explains an analytical way of determining the tip deflections from sensor data using least squares method. Chapter 5 describes the experimental setup used to test the presented measurement methods. A computer vision system to which the position detector data is compared is outlined. The options of positioning the experiment lasers on a robotic link are analysed. A system setup to increase system reliability is presented. Experiment data obtained using various measurement approaches is provided and discussed. Chapter 6 consists of final thesis conclusions and future work.

9

2. Link tip translation and rotation computations
2.1 Position Sensing Detector (Operating Concept)
The PSD is a sensor that captures the energy received from a light beam striking its photosensitive pin-diode surface and converts it into a number of electrical currents, referred to as photocurrents. These photocurrents run from the location where the light spot is on the detector towards a number of contacts located on the edges of the photosensitive area. The longer the path is from the spot to a contact, the more resistance the current experiences. PSDs are divided into two main groups: segmented (Figure 2.1) and lateral (Figures 2.2-2.3). The segmented sensor consists of four adjacent photosensitive areas that are separated by a nonsensitive gap [50]. Here the four photocurrents I1, I2, I3 and I4, generated by the light spot in each area respectively, give the spot's X and Y Cartesian coordinates on the surface through (2.1) and (2.2), for this.
(1 +4 )-(2 +3 ) 1 +2 +3 +4

 =

(2.1)

 =

(1 +2 )-(3 +4 ) 1 +2 +3 +4

(2.2)

However, the light spot must be big enough to partially cover all four of the segments and be wider than the non-sensitive gap area. For consistency, the intensity of the spot must be uniform all over the spot profile. However, this is not the case with laser beams that have Gaussian distribution of intensity with highest in its centre. The lateral type of PSDs consists of just one sensitive area and can detect the movement of a light spot throughout all of it. There are a number of types of lateral sensor: first is one- or twodimensional duolateral that respectively can detect light movement in one or two dimensions while having half their circuit contacts on one side of the sensor and half on another. The second type is one- or two-dimentional tetraleteral that differ from first type by having all contacts on just one side. The relative X and Y coordinates of the spot on the lateral PSDs are computed using (2.3) and (2.4), where  and  (i=1,2) are respective photocurrents in the X and Y directions.

10

 =  =

(1 -2 ) (1 +2 ) (1 -2 ) (1 +2 )

(2.3) (2.4)

To obtain the physical magnitude of a spot's location in X and Y directions, the values from (2.3) and (2.4) have to be multiplied by a factor equal to half of the length of PSD area along the respective axis.[50] The resolution, or smallest unit of measurement a PSD is capable of, is nominally a few micrometers, however, signal-to-noise ratio will impact and reduce this resolution. Ideally, for optimal accuracy the diameter of the light spot should be as small as possible since too big a diameter will lead to non-linear light distribution on the surface. Furthermore, the intensity of the light, provided it is sufficient to generate distinguishable currents, does not affect sensor readings since the total energy within this light is divided proportionally. There is also a limit to the amount of light power per unit area of the surface - too much power will saturate the sensor leading to wrong output. Another necessity for the detector to work properly is to limit the light falling on the detector to that of a designated light source. In other words, stray light from the surroundings should be blocked from reaching the sensor because it too will generate photocurrents. The blocking can be done by attaching a filter in front of the PSD sensitive area, that only allows in light of specific wavelength - that of the designated light source. PSDs allow sampling of their data at least once every millisecond. That is very useful for control purposes and to detect high frequency vibrations of objects. They weigh just a few grams, yet the sensitive area dimensions of commercially available units are typically no greater than 45 mm x 45 mm thus limiting the range of movement of the light spot on it. The PSD maximum operating temperature is around 70º C, thus must be shielded.

11

I1
Light spot

Sensitive area I2

1

2

4

3

I3

I4

Non-sensitive area

Figure 2.1 Schematic of a segmented PSD

Laser beam

Y1

Y2
Figure 2.2 One dimensional duolateral PSD (with adaptation from [51])

Laser beam
X2

Y1

X1

Y2
Figure 2.3 Two-dimensional doulateral PSD (with adaptation from [51])

12

2.2 Proposed method of tip deflection and torsion measurement using iterations
Figure 2.4 defines the frames of reference used in presenting the proposed method. The fixed-end global frame has an origin at the link's fixed-end centroid and is static. The axes XF and YF form a plane perpendicular to the undeformed link, while axis Z F is perpendicular to that plane. The deflecting tip frame has its origin, and is free to translate with the link's ti p centroid, however the axes XT, YT, ZT always stay parallel to the respective axes of the fixed-end frame. The three measurements required in this study are the link's tip deflection in the global frame's XF and YF axes, as well as the link's torsional angular deflection around the link tip ZT axis. At zero deformation the tip plane XT-YT on which the photosensitive elements are secured is parallel to the global XF -YF plane; if there is link deformation, the tip and global X-Y planes are no longer parallel yet are assumed to be so. When the system is on and operational, each of the two stationary laser diodes produces a small dot on the corresponding PSD surface. The outer tip of the link under load will move from its original position into some other position corresponding to the magnitude and direction of the acting force. Now the laser dots will no longer be at respective initial positions on the PSD surfaces, but instead settle in other locations.

Figure 2.4 System setup concept with definition of coordinate system

Based on the signal generated by the PSD-amplifier combination, each PSD will output an analog X/Y coordinate, where on its photosensitive surface the corresponding laser dot is now located, in the form of voltage, changing proportionally to the dot's movement. A change of 1 Volt in amplified signal corresponds to an established distance of dot movement on the surface along an axis. Knowing the coordinates of two points relative to the link's cross section centre (origin of the tip reference XT-YT frame), the link's twist can be calculated, in part with help of torsion angle iterations.

13

Figure 2.5 depicts all the values computed for one of the two PSDs and the same values are needed for the second PSD. It is important to note that the subscript "i" used in this paper represents the fact that similar calculations are done for both PSDs, thus i=1 and i=2.

Figure 2.5 Depiction of distance components and dot location for rotation angle iterations

The distance between the XT-YT frame origin and the individual PSD centre is measured at the time of system installation (Figure 2.6); Hi and Vi, are, respectively, the distance components along the XT and YT axes. The variables Pxi,0 and Pyi,0 are the initial (pre-deformation) coordinates of the laser dot on the sensor surfaces given directly by the PSDs.

Figure 2.6 Position of laser dot before load relative to PSD centre and X T-YT tip frame origin

14

Before any link deformation occurred, coordinates of each laser dot on corresponding PSD's photosensitive surface are registered and stored. The distances along XT and YT axes, between the dots and tip reference frame origin are obtained through (2.5) and (2.6) and called INIT_X1, INIT_Y1, INIT_X2 and INIT_Y2, respectively for each PSD (Figure 2.6). INIT_X =  + ,0 INIT_Y =  + ,0

(2.5) (2.6)

As link deformation occurs, the laser dots' coordinates on PSD surfaces (Pxi and Pyi) are registered, thus a new set of distances between dots and tip origin point, called X1, Y1 for PSD 1 and X2 and Y2 for PSD 2, are found as  =  +   =  +  (2.7) (2.8)

Di is the magnitude of the straight line joining XT-YT frame tip origin and the laser dot after deformation, calculated by equation (2.9).  =  2 -  2 (2.9)

i,0 is the angle the vector Di makes with an axis of XT-YT frame on which the centre of the ith PSD lies. The change in each dot's coordinate due to deflection along the two axes gives the tip displacement along those (X and Y) and is calculated using (2.10) and (2.11),  = INIT_X -   = INIT_Y -  (2.10) (2.11)

If there was no link twist and only bending (Figure. 2.7-b) then a difference between initial and current dot-to-origin distances would be the same for both PSDs using equations (2.12) and (2.13), and Xi, Yi would become the tip deflection values. INIT_X1 - 1 = INIT_X2 - 2 INIT_Y1 - 1 = INIT_Y2 - 2

(2.12) (2.13)

15

If however, the link has experienced torsion along with bending then equations (2.12) and (2.13) will not hold.

Figure 2.7 a) PSD and beam before deformation, b) after bending without torsion c) after bending and torsion- iterated twist angle is incorrect, d) after bending and torsion- iterated twist angle is correct

Since the total deformation consists of bending and twist, computational iterations can be used in order to deduct the twist. The deduction is done by assuming that the laser dots (Xi , Yi), as they are, are gradually rotated (arbitrary angular resolution) on a circumference (Figure 2.5) of a circle with radius Di that is equal to the current corresponding dot-to-origin distance. This yields two new angles: i,cc if the rotation of the dot position is counter-clockwise (cc), meaning the link rotated counter-clockwise if looked at from laser source and i,cl if the dot's rotated clockwise (cl), this implies the link rotated clockwise. Using i,cc and i,cl, two new triangles are constructed on which points with coordinates (Xi,cc , Yi,cc) and (Xi,cl , Yi,cl) lie, respectively. The distance along XT and YT axes between those newly found points and points (INIT_Xi, INIT_Yi) are computed using (2.14)-(2.17). , = _ -, , = _ - , , = _ -, , = _ - ,
16

(2.14) (2.15) (2.16) (2.17)

For a clockwise rotation, equations (2.5)-(2.8), (2.14) and (2.15) will give, ,  + ,0 cos i,cl [ ]=[ ]-[  + ,0 , -sin i,cl sin i,cl  +  ][ ] cos i,cl  +  (2.18)

and for counter-clockwise, equations (2.5)-(2.8), (2.16) and (2.17) will give, ,  + ,0 cos i,cc [ ]=[ ]-[  + ,0 , sin i,cc - sin i,cc  +  ][ ]  +  cos i,cc (2.19)

Comparison is done between the Xi,cl , Yi,cl , Xi,cc and Yi,cc calculated for each PSD. (1, ) - (2, ) <   and (1, ) - (2, ) <   or (1, ) - (2, ) <   and (1, ) - (2, ) <   (2.23) (2.22) (2.21) (2.20)

If there is a match between corresponding X and Y pairs of values (meaning either pair (2.20)-(2.21) or (2.22)-(2.23) holds), it means that the angle i used in this iteration is the true torsion angle and thus Xi and Yi given by (2.18) or (2.19) are the magnitudes of tip deflection along XT and YT axes. Equations (2.20) - (2.23) implement an arbitrary tolerance to within which the compared values from both PSDs have to be similar to each other. If at selected i,cc and i,cl neither of the above inequalities holds (Figure 2.7-c) , both angles have to be systematically changed at an arbitrary increment of degrees and equations (2.18)(2.19) recalculated with fresh values until a pair of them does hold (Figure 2.7-d).

2.3 Determination of PSD plane tilt under load and corresponding compensation
Axes X and Y, which make up the PSD plane X-Y, have a common origin point with tip frame-of-reference (XT - YT) and prior to any link deformation are collinear respectively with X T and YT axes (Figure 2.8); the distances  and  , are respectively the distances between the two laser sources along axis XT and axis YT. The X and Y axes are free to rotate around the origin
17

while fixed on the PSD plane. X and Y are the tip translations respectively along axis XT and YT and are to be found along with the tip rotation angle .

Figure 2.8 Position of PSDs relative to tip frame of reference

The detectors provide the (pre-load) dot coordinates , , , on their photo-sensitive face, where i=1,2 is the PSD number. Coordinates of laser dots 0, , 0, on the PSD plane X-Y, are obtained directly using equations (2.24) - (2.27) and can be seen in Figure 2.9. 0,1 = 0,1 0,2 =  + 0,2 0,1 =  + 0,1 0,2 = 0,2 (2.24) (2.25) (2.26) (2.27)

Figure 2.9 Definition of laser dot positions on PSD plane

18

After link deformation has occurred, coordinates of laser dots  ,  on the PSD plane X-Y, are obtained using PSD coordinates  and  , directly through equations (2.28) - (2.31), 1 = 1 2 =  + 2 1 =  + 1 2 = 2 (2.28) (2.29) (2.30) (2.31)

Iterative computations start in order to determine the link tip rotation angle  around axis ZT.  and   , are created. At iteration where angle  will be A new set of perpendicular axes,   and   axes will be rotated on the PSD plane and will be systematically changed, those  respectively at angle  from axes X and Y (Figure 2.10). At every iteration two cases are being examined: positive , meaning checking if the tip rotated clockwise, and negative , checking whether the tip rotated counter clockwise.

 -   frame of reference by rotating X and Y axes by angle  Figure 2.10 Creation of 

 and   Next, the shortest distance between the laser dot position coordinate and the axes  (for both positive and negative ) on PSD plane will be calculated using (2.32). The variable m is the slope of the axes, equal to tan at the current iterated  value, the distance to which is being calculated.    =
| - | 2 +1

(2.32)

19

 -   frame of reference, and Those distances will become new coordinates of each dot in the   ,   ). It is important to note that the signs of   each dot will obtain a new set of coordinates (  will be in accordance with the dots' position relative to   and   axes (Figure 2.11-a and and  2.11-b).

a)

b)

 -   plane after PSD plane tilting Figure 2.11 a) The position of laser dots on   -   and XT -YT planes b) The position of the dots on both 

The value of each dot's position , along the non-rotating YT axis is related to the newly  along   axis through (2.33), where  is an angle equal to the angle of PSD obtained value  plane tilt relative to YT axis and Y is the translation of the link along YT axis.  = ,    ,1 =  +  ,2 =  (2.33) (2.34) (2.35)

Individually substituting (2.34) and (2.35) into (2.33) and combining the results through  , will give (2.36): common   while using i=1,2 for   =
   1 -1) ( 2

(2.36)

 axis to Projections onto the XT-ZT plane of vectors perpendicular to and stretching from   -   plane are respectively called  both dots on the  1 and  2 and calculated using (2.37),

20

   ()    = 

(2.37)

1 and  2 are presented along with In Figure 2.12, the projections  1 ,  2 and the vectors   -  plane onto XT-ZT plane. However the the projections of the dots (called points A and B) from   may be tilted at angle  from axis XT due to forces acting on PSD plane. axis 

Figure 2.12 Projection of laser dots onto XT-ZT plane

The magnitude of a vector DT (Distance Total) between point A and B is calculated using (2.38),
2 2 -  1 |2  = | 2 -  1 | - |

(2.38)

2 -  1 | which is parallel to axis   . Found using Angle 1 is the angle between DT and a line | (2.39), 1 =  -1 (
2 - 1 | | 

)

(2.39)

Angle 2 is the angle between DT and a segment equal to  , found using (2.40),
 2 =  -1 ( )



(2.40)

Tilt angle , can then be found through (2.41),  = 1 + 2 (2.41)

21

Beam tip translation in a direction parallel to axis XT is called X and after finding angle  is calculated using (2.42) and (2.43) for each PSD respectively, 1   () -  1 = -( 1   ()) 2   () -  2 = -( 2   () -  ) (2.42) (2.43)

With the correct angle , in case of no measurement errors, 1 is equal to 2, both equal to X. The coordinates of the laser dots on the PSD plane X-Y, must be corrected for the tilting angles  and . This is done through (2.44) and (2.45), where    and    are respectively the corrected X and Y dot coordinates on PSD plane.
  )  () - ( ()      =  - (, -  -  ))  () (2.44)   + ( (90-) ()

  )  () - ( ()      =  + (, -  -  ))  () (2.45)   + ( (90-) ()

The correctness of iteration angle  is to be checked by rotating the two sets of dot coordinates (   ,    ) on the X-Y plane (Figure 2.13) by the negative of iterated angle (-),  -   plane rotation. So, if   -   plane was rotated clockwise meaning in the opposite direction of  (by angle -), the rotation of corrected point will be counter-clockwise (by angle ­ (-)) . Figure 2.13 shows this rotation of laser dot on one PSD, but the algorithm for second dot is same. If for both dots the distances along X and Y axis from their original pre-deformation positions ( 0, , 0, ) are respectively equal: (2.46) - (2.47) hold for translation along X and (2.48)-(2.49) hold for translation along Y, it means the angle  is the correct angle of rotation around ZT axis, and the iterations can stop. If (2.46) ­ (2.49) do not hold, a new iteration with new arbitrary angle  has to be started.

22

Figure 2.13 Correction of laser dot position for the PSD plane tilt

1 = 2 0,1 - [  (-) -  (-) ] [   1 ] = 0,2 - [  (-)   1 1 = 2 0,1 - [  (-)  (-) ] [   1 ] = 0,2 - [  (-)   1  (-) ] [ -  (-) ] [

(2.46)   2 ] (2.47)   2 (2.48)   2 ] (2.49)   2

23

3. Error analysis
3.1 Error sources
The effects on measurement accuracy of an incoming light beam position on a PSD surface can be divided into four groups: sensor error, sensor environment, installation and computational errors. The errors are discussed below and tabulated in Table 3.1. The first group depends on PSD design, materials and manufacturing, the second on the atmospheric conditions and electromagnetic field around, the third on alignment of PSD axes with global frame of reference and the fourth on arbitrary computation tolerances. The size of an incoming light spot on the PSD sensitive surface may affect position reading since the light distribution is not perfectly equal over the spot's area and in case a laser dot is Gaussian, being most intense in the spot's middle and lower on the edges [53]. The greater the area of the spot, the greater the variation in light intensity distribution, which may lead to the intensity centroid appear not exactly on the spot's geometrical centroid ­ leading to light-profile error ELP. Ideally, the light spot should be infinitely small to bring ELP to zero [54]. The laser beam diameter increases after it leaves the diode according to expression  =   1 + (( )2 )




2

(3.1)

where the beam diameter  at distance  from the diode depends on the beam's wavelength  and the initial diameter   . Greater  will lead to greater ELP [52]. Dark current is an electric current flowing through the materials of a photoelectric detector without any photons impacting the photosensitive surface. This current is not distinguishable from the photoelectric current and will also flow toward the detector electrodes, leading to error EDC by adding itself to sensor readings [50]. The resistivity of the resistive material in PSD is not perfectly equal throughout the device even at constant environmental conditions, thus causing changes in the currents going to the electrodes. The farther the photocurrent has to travel between incoming light spot and the electrode, the greater the positioning error will be. Therefore, the farther the light spot is from the detector's centre, the greater the measurement error, designated as ER. Thermal drift is the variation of the apparent laser dot position due to temperature change. In PSD specifications it is given in parts-per-million (ppm)/Cº. Firstly, the temperature change causes the sensor itself to change size, thus if at first the sensor edge was exactly 5 mm away
24

from the centre it will now be farther or closer to it. Secondly, the temperature effects the sensor conductive material since higher temperatures increase conductors' resistance to current flow. Both phenomena introduce measurement error designated as ETH [50]. The environmental factors affecting sensor readings are: a) the changes in refractive index n of the material the light travels through between the diode and the PSD, if not in complete vacuum, which will cause the light beam to refract (Figure 3.1), and b) the electromagnetic interference EEMF which will result in noise in the signal coming from the sensors.
Temperature higher than ambient

Joint/Motor

PSDs Laser beams Laser diodes refraction due to temperature change Figure 3.1 The refraction of laser beam due to atmospheric effects

Figure 3.2 shows the refraction when a light beam passes from medium 1 to medium 2. The angle between the beam and a line normal to medium boundary changes as the beam crosses it from angle 1 to angle 2 .
Medium 2 with n2 PSD Plane Q Normal to medium boundary Medium 1 with n1

Laser beam 1

Beam shift due to refraction

1 2

Figure 3.2 Medium boundary and light diffraction

According to Snell's law [55], the angle 2 is calculated as 2 = sin-1 (
sin(1 )1 2

)

(3.2)

where 1 and 2 are the respective indices of refraction of the first and second medium. An index of refraction is the ratio between the speeds of light in vacuum and in the given medium, and is >1.

25

If in Earth's atmosphere, the index of refraction of air n depends on air pressure Prs in Pascals, air temperature T in degrees Kelvin, relative humidity H (%) and content of carbon dioxide gas (CO2) in parts-per-million. The complete expressions to calculate  is called the Edlen equation [56] and is given by the following equation 3.3.  = 1 + 271.8  10-6 101325
 293.15 

[1 + 0.54 (

2 -300 110-6

)] - 1  10-8 

(3.3)

Since in the area around the robotic link the air pressure, humidity and CO2 levels are expected to be constant, it is the temperature that will create change in index of refraction. The temperature changes can be caused by hot air blowing around the link, solar heating and to some degree the motors at the joints heat up the link segment close to them. Now, knowing 1 , 2 , 1, 2, and the distance Q between mediums' boundary and PSD plane it is possible to calculate the amount of laser beam impact point shift (ERF) that beam refraction will cause using equation 3.4,     = [tan(2 ) - tan(1 )]   (3.4)

The tilting of the plane on which the PSDs are located, that is - the rotation of this plane around XT and YT axes of the tip frame of reference, will lead to errors since after tilting the laser spot will appear in a location on the detector surface different from expected. The greater the tilt angle and the distance of the spot from the PSD origin before tilt - the greater the error ETilt. The positioning and alignment of the PSDs has to be as accurate as possible to place the detectors with their origins on the XT and YT axes of tip reference frame respectively and have one axis of each detector be aligned with one of those axes to avoid introducing error EAlgn which is demonstrated in Figure 3.3 where the link tip deflected along tip frame axis YT by amount Y.
Y and YT Y YT

Post-load laser spot
Y X and XT Pre-load laser spot a) Figure 3.3 a) PSD axes aligned with tip frame b) b) PSD axes not aligned with tip frame Y X XT

26

Figure 3.3-b shows that the measured deflection Y will be smaller than actual and X will be introduced even if no deflection in that direction occurred. The computation method will introduce errors (EC) since iterations are done in arbitrary angle increments and the true beam torsion angle may fall between the two increments. Also, the changes in light spot displacement are compared between the two PSDs and iterations stop when the displacements are respectively similar within an arbitrary tolerance.

Table 3.1 Sources of error
Error source Sensor Error Error Size of incoming spot light (ELP) Dark current (EDC) Resistivity variation throughout the photosensitive area (ER) Thermal drift (ETH) Sensor Environment Refractive index changes of the medium on light-beam's path (ERF) Electromagnetic interference (EEMF) Mounting/Tilt of PSD plane Misalignments during PSD installation on the link (EAlgn). Tilting of the sensors' X-Y coordinate frame with respect to link tip XT-YT frame (ETilt) Computation Error Accuracy tolerances arbitrarily chosen to stop iterations (EC).

3.2 Computing error in tip translations X and Y and tip rotation 
Xi and Yi are the computed tip deflections computed for each PSD individually (i=1,2), while XA and YA are the true actual tip deflections - equal for both PSDs. If there is no error present then the respective two pairs of values are identical (3.5) and (3.6), X = X (3.5) Y = Y (3.6) while if there is an error present, then the ideal deflection values are a combination of computed values and deflection measurement errors-Yi for Y direction (3.7) and Xi for X direction (3.8). Xi = X - X Yi = Y - Y (3.7) (3.8)

27

The iterations to find the computed tip rotation angle  stop when certain arbitrary conditions are met by the results of current iteration. Those conditions at given iteration are for the difference between computed Y and X of each PSD to be respectively within a certain tolerance from each other- (3.9) and (3.10). |X1 - X2 | =  |Y1 - Y2 | =  (3.9) (3.10)

Using rotation matrices and dots' initial pre-load coordinates in XT-YT plane, equations (3.9 and (3.10)) can be rewritten as |(X1 cos  - Y1 sin ) - (X2 cos  - Y2 sin  - 2 )| =  |(X1 sin  + Y1 cos  - 1 ) - (X2 sin  - Y2 cos )| =  The sin and cos factors can be combined together into (3.13) and (3.14) , |cos (X1 - X2 ) + sin (Y2 - Y1 ) + 2 | =  |cos (Y1 - Y2 ) + sin (X1 - X 2 ) - 1 | =  Rearranging (3.14) for cos  gives, cos  =
±-sin (X1 -X2 )+1 (Y1 -Y2 )

(3.11) (3.12)

(3.13) (3.14)

(3.15)

Substituting (3.15) into (3.13) and isolate sin  yields,

sin  =

(±-2 )(Y1 -Y2 )+(±-1 )(X1 -X2 ) (X1 -X2 )2 +(Y1 -Y2 )2

(3.16)

Now, since the anticipated angle of rotation  is expected to be within 1-3 degrees, small angle approximation can be applied to (3.16) so that sin  is approximately equal to .

 

(±-2 )(Y1 -Y2 )+(±-1 )(X1 -X2 ) (X1 -X2 )2 +(Y1 -Y2 )2

(3.17)

Similarly, the true angle A is computed using (3.18) using the actual dot coordinates in XTYT plan: X1 , X2, Y1 and Y2 . Also, since this is an ideal case there is no need to set tolerances for computations, thus and  are dropped from the equation.  =
(-2 )(Y1 -Y2 )+(-1 )(X1 -X2 ) (X1 -X2 )2 +(Y1 -Y2 )2

(3.18)

Since the true coordinates of dots on XT-YT plan are not available explicitly, each true coordinate in (3.18) is substituted by a combination of measured coordinates and the coordinate
28

measurement errors: Xi and Yi for each individual PSD. Those errors are the product of combining uncertainties introduced by error sources outlined in error analysis Section 3.1. The centres of PSDs may not necessarily lie exactly on the XT and YT axes, and the distances of their centres from those axes may be different from those assumed- introducing another type of error- error in Hi and Vi values, designated as Xo1 and Yo1 respectively. Taking into consideration the errors described above, the actual angle is thus,  =
(-2 +Xo1 )(Y1 -Y1 -Y2 +Y2 )+(-1 +Yo1 )(X1 -X1 -X2 +X2 ) (X1 -X1 -X2 +X2 )2 +(Y1 -Y1 -Y2 +Y2 )2

(3.19)

The difference between computed rotation angle  and the true rotation angle  A is the angle error  .  =  -  (3.20) Combining (3.17) and (3.19) into (3.21) will provide the value of computed angle error.

 =

(±-2 )(Y1 -Y2 )+(±-1 )(X1 -X2 )

(X1 -X2 )2 +(Y1 -Y2 )2 (-2 +Xo1)(Y1 -Y1 -Y2 +Y2 )+(-1 +Yo1 )(X1 -X1 -X2 +X2 ) (X1 -X1 -X2 +X2 )2 +(Y1 -Y1 -Y2 +Y2 )2

-

(3.21)

The ± values of the tolerance from (3.21) will mean that the iterations have a number of possible solutions and they will stop once the magnitude of tolerance will be met regardless of whether the subtraction results from (3.21) were positive or negative. Going back to (3.9) and (3.10), the values of Y and X will be given by each PSD and may in fact differ slightly between the sensors since each sensor's laser positioning error amount may be unique. If the computed deflection values vary between the sensors, it means that just one sensor has to be picked to take its values as closest to actual deflections. Using all measured values and corresponding measurement errors, equations (3.22) and (3.23) give the errors in tip deflection Y and X measurements and is written for PSD 1 (as an example), X1 = X1 - X = (X1 cos  - Y1 sin  - 1 ) - (X1 cos  - Y1 sin  - (1 + Xo1 )) = (X1 cos  - Y1 sin  - 1 ) - ((X1 - X1 )(cos( - )) -(Y1 - Y1 )(sin( - )) - (1 + Yo1 )) (3.22) Y1 = Y1 - Y = (X1 sin  + Y1 cos  - 1 ) - (X1 sin  + Y1 cos  - (1 + Yo1 )) = (X1 sin  + Y1 cos  - 1 ) - ((X1 - X1 )(sin( - )) + (Y1 - Y1 )(cos( - )) - (1 + Yo1 )) (3.23) The variables from (3.22)-(3.23) can be seen in Figure 3.4.

29

Figure 3.4 Depiction of the true and assumed laser dot starting and end points, and the errors  between the respective sets of points

30

4. Direct analytical method to determine link tip deflection and torsion
4.1 Analytical deflection and torsion measurement concept
Given that there are two PSDs on the link tip, and they both undergo the same displacement (Figure 4.1), that is:  =  = 1 = 2  =  = 1 = 2  =  = 1 = 2 YT axis dX R2Sin(2) dY (4.1) (4.2) (4.3)

d

dX 2 1 R1Sin(1) dY

d

XT axis

PSD dot (in centre) before deformation (x , y )

PSD dot after all deformations With dot coordinates now as (x1, y1)

Figure 4.1 Distances between origin of plane XT-YT and the centres of the two PSDs

For this direct analytical method, the assumptions made are: a) The laser dots before deformation are exactly at the respective centres of the PSDs, b) The link's torsion angle  is small (1-3 degrees) so small angle approximation can take place,
31

c) Tilt of the PSD plane around axes XT and YT is negligible and ignored, d) The axes X and Y of the PSDs remain parallel to the axes XT and YT respectively despite the small torsion by . The vector R is the distance from the tip frame origin to the respective PSD centre. Note, here  is the angle between a respective axis and the vector R, while  is the actual torsion angle. With small angle approximation, the arch that the PSD centre will draw through rotation by angle  (4.4) can be assumed to be a straight line, perpendicular to the vector R (Figure 4.2 and Figure 4.3).  =  R (4.4)

Arch assumed to be straight line of same length
Figure 4.2 Small arch of laser doth path is approximated as a straight line

PSD and its centre post-deformation

Sin(i)·Ri·d

Cos(i)·Ri·d

d i

XT axis

PSD and its centre pre-deformation

Figure 4.3 Displacement of a PSD is approximated as translation in straight line

32

With the aforementioned assumptions, the post-deformation global coordinates (coordinates along XT and YT axes, with tip frame origin as 0) of a laser dot can be mapped using variables dXi, dYi and d , through (4.5) and (4.6)  = - + sin( )   = - - cos( )  (4.5) (4.6)

The values of  and  , can be measured/computed before any link deformation occurs.  and  values are the sums of origin-to-PSD centre with addition of PSD direct readings xi and yi.

4.2 Ordinary Least Squares Computation Method
Since there are two PSDs used, the local coordinates for both laser dots can be mapped as follows 1 = - - sin(1 )1  1 = - + cos(1 )1  2 = - - sin(2 )2  2 = - + cos(2 )2  This is now viewed as a linear system of equations [57]  =  Where, -1 0  = -1 [0 0 - sin(1 )1 -1 cos(1 )1 0 -sin(2 )2 -1 cos(2 )2 ]   = [ ]  1   = [ 1 ] 2 2
33

(4.7) (4.8) (4.9) (4.10)

(4.11)

(4.12)

(4.13)

(4.14)

The system could be solved through  = -  (4.15)

where - is an inverse of A if the latter is a square matrix mxm. However, since A is a rectangular matrix with number of rows m=4 and number of columns n=3, an approximation of inverse of A is found using the Moore-Penrose method to find a pseudoinverse of A, designated as A+ [58]. For an mxn matrix A with n linearly independent columns (full column rank), where AT is the transpose of A, the pseudoinverse is computed as + = ( )-  (4.16)

By definition, a matrix A will have full column rank n if and only if A has a submatrix nxn with a nonzero determinant while all other square submatrices have determinant of 0 [57]. Matrix A is observed to have two submatrices of largest size nxn. It is required to check under what conditions those submatrices have determinants of zero in order to avoid that. -1 0 sin(1 )1  1 = [ 0 -1 - cos(1 )1 ] -1 0 sin(2 )2 0 -1 - cos(1 )1 sin(2 )2 ]  2 = [-1 0 0 -1 - cos(2 )2 det( 1 ) = (-1)(-1)(sin(2 )2 ) + (sin(1 )1 )(-1) = 0 det( 2 ) = (-1)(-1)(cos(2 )2 ) - (cos(1 )1 )(-1) = 0 From (4.19) and (4.20), full rank can be achieved when (sin(2 )2 )  (sin(1 )1 ) and (cos(2 )2 )  (cos(1 )1 ) (4.22) (4.21)

(4.17)

(4.18)

(4.19) (4.20)

34

The use of pseudoinverse will provide a solution for x which will minimize the Euclidian norm of Ax-b, in other words the least-squares approximation of a solution of x will be obtained. The solution is computed using  = +  + [ - + ] where I is an nxn identity matrix and z is an arbitrary matrix. If A has full column rank, the part [ - + ] will be a zero matrix since a product of a matrix and its inverse is an identity matrix. Leaving  = +  (4.24) (4.23)

as the least-norm solution of the system, meaning in this case x will have smallest norm.

4.3 Weighted Least Squares
The above method considers the error of sensor readings to have constant variance, also known as homoscedasticity, if it is not the case, the readings variance difference, heteroskedasticity, is reflected through the introduction of an additional "weights" matrix. The weights matrix W is a diagonal matrix with each diagonal entry (each reading weight) equal to the reciprocal of the corresponding reading e variance, (4.25). The weights always known [59].
     

however, are not


  

 
  

  
   ]

  =  [ 

 

(4.25)



The linear system (4.11) of Section 4.2 then becomes ( ) = ( ) Rearranging the above equation, the approximated best fit solution to the system is  = ( )-1 ( ) (4.27) (4.26)

35

4.4 Condition number
The condition number of a linear system () is an indicator of how much impact can a small change in the input parameters (Jacobian matrix A) have on an output value, or how much impact can small changes in matrix b have on the solutions matrix x [58]. A well-conditioned system is a robust one where small changes in input or sensor readings will respectively lead to a small change in output or system solutions. An ill-conditioned system is one where small changes in input or results respectively lead to big changes in output or solutions matrix. Condition number is always ()  1, and is computed using the Euclidian norms of the matrix A ­ (squared elements from all rows (rows 1-to-j) and all column (columns 1-to-k); and its inverse - , but in this case a pseudoinverse A+ instead. () = +  () =  2 + 2 (4.28) (4.29)

4.5 Error Analysis of Direct Analytical Method
Errors can be introduced into both matrix A as , and b as  : into A through an error in measurement of tip origin-to-PSD centre distance R or through measurement of the predeformation angle  (Figure 4.3), and into b through error in PSD readings discussed in Section 3.1. Thus, the original linear system can be rewritten to introduce error term.  =   ( + )( + ) =  +  From (4.30), it is observed that  +  +  =  (4.31) (4.30)

 , where   is the solution affected by present errors then (4.31) can be If  +  =  rearranged to isolate . )  = + ( -  (4.32)

36

From reference [60] the norm of  is obtained using  )   + (  +   And finally obtain the relative error in terms of norms, as
   

(4.33)

 +  +

+    

(4.34)

37

5. Experiments to measure tip deflection and torsion
5.1 Experiment System Setup and experiment procedure
The equipment used to obtain the measurements were a pair of PSDs, with photosensitive surface dimensions of 10 x 10 mm, each with its individual laser diode (with power rating of <1 mW), a pipe to simulate a link, and a set of weights to generate load. Since both PSDs would not fit inside the pipe, all the electronics were located on the outside, rigidly secured to it. Figure 5.1 shows PSD #1 located directly above the link with the sensor's center located on a line parallel to YT axis, and PSD #2 mounted directly to the side of the link with this sensor's centre located on a line parallel to XT. The hollow link used is of constant diameter, as seen in Figure 5.2 along with weight application location.

Figure 5.1 Close-up of the two PSDs used in experiment

The experiment consisted of starting a Simulink simulation containing the data collecting and computation modeling, while the link was not under external load (except the downward gravity force). Simulink model can be found in Appendix C, and the Matlab code is in Appendix D.

38

Figure 5.2 Experimental setup for PSD method

39

Applying force to the tip of the link was accomplished by hanging weights on the link's sidebar or the main link itself. The external weight forces used were 10N, 30 N and 50 N. This has caused the pipe to both bend and/or rotate. The movement of PSDs relative to the stationary laser beams caused the PSDs to register dot displacement as electric current. The current signal was passed on to a voltage generating amplifier (Figure 5.3) where it was transferred to a computer, via Quanser Q8 data collection system (Figure 5.4), which conducted all the iterations and calculations, displaying the deformation values in real time. Signal noise effects were smoothed down by averaging 20 incoming signals, and performing calculations using those average values. The system's sampling time is 1 ms, so a new value of deformation was available every 0.02 seconds.

Figure 5.3 OT-301DL amplifier for duolateral PSDs

Figure 5.4 Quanser Q8 data acquisition circuit board

40

5.2 Deflection measurement methodology comparison
To evaluate the experimental results, another method was employed to double-check the deformation values. A small paper target with three white circles on black background was rigidly attached to the deflecting tip of the link (Figure 5.5). A digital camera was placed to have all three circles in its field of view and at a distance directly in front of the target to keep all circles in view during the entire experiment. The camera was decoupled from the link and the selected resolution was 680x480 pixels.

Figure 5.5 Location of paper target and camera

41

Whenever the camera would take a picture of the target, it would break it down into pixels and process them using Matlab/Simulink model. Simulink's "Blob Analysis" block was used to identify the aforementioned three individual circles. Data obtained about these circles included circles' radii and centroid coordinates in terms of pixel coordinate for the camera's view frame. The centroids of the top and bottom circles (Figure 5.6) were used to compute the angle of twist  of the target and therefore the link's tip (5.1):        = = -1 (  -   )
   



-

(5.1)

Figure 5.6 Close-up of three circles used for visual link deformation magnitude confirmation; a) in color, b) Simulink's blob analysis applied

The vertical and horizontal translations of the link tip X and Y were determined from the movement of the middle circle's centroid, which coincided with link's tip frame origin. Scaling was implemented to compute the true amount of deflections in millimeters from pixel lengths. The radii of circles have been measured in terms of mm prior to the experiments and when the computer returned the same radii in pixels, scaling factor has been computed using (5.2) as,

 ( )= 



     (  )       (  )

(5.2)

42

5.3 Placement of PSDs and laser diodes
There are two possible combinations for the locations of the PSD sensors and the diodes on the link: a) PSDs at the link tip (Figure 5.7-a) whose deflection is being measured with laser diodes at the fixed end (the link's base), and b) the sensors and diodes are switched, to have the PSDs at base and diodes at the deflecting tip (Figure 5.7-b).

Figure 5.7 a) Lasers at fixed end of the link b) Lasers at the deflecting tip of the link

The advantages of having the PSDs at link base are: reduced weight at the free tip (given the sensors are heavier than the laser diodes), cables going out of the sensors can be much shorter since they don't have to run the whole length of the link, shorter cable distances would lead to less signal noise picked up due to their lower electromagnetic interference exposure. Disadvantages of placement option (b) are that now two PSDs are not enough to calculate both tip deflection and torsion, and also the free tip rotation angles  and , around axis XT and YT, respectively, will affect the location of the laser dot on the PSD proportionally to the link's length- the longer the link, the greater is the effect on dot position (Figure 5.8).
Laser before tip deflection Tilt angle  Laser after tip deflection

Change in laser dot location due to tip's movement PSD

Link Length L

Figure 5.8 Effect of tip tilting on the position of laser dot on PSD

Equation (5.3) demonstrates the significance of the laser plane tilt, by showing the ratio of the laser dot's displacement due to angle  tilt and tip's bending:
tan() 
2  2 3 3

=     





=

= 1.5

(5.3)

43

meaning- when a link load creates deflection of tip and laser dot moves on the PSD, the tip's tilt will also cause the dot to move 1.5 times the amount of pure tip translation. This is an amount that cannot be ignored. The value of 1.5 will theoretically occur if the link deforms according to stress analysis theory along its entire length, however if the link's deformation under load is not well modeled or not perfectly according to the theory, the ratio will be different and unpredictable. Another issue that arises is that when lasers are at free tip, the combination of the free tip's translation and rotation by angle , may make it appear as if the tip (and thus the laser dots) did not move (Figure 5.9).
Laser before tip deflection Tilt angle  PSD Laser after tip deflection Link Length L Laser dot location before and after deflection coincides

Figure 5.9 A case where a combination of tip translation and tilting caused the laser dot to end up on pre-load position

To measure the tip translation (when no link twist occurs) using two PSDs at link base and two lasers at tip, the following method may be used: The lasers are placed on the same plane, however the PSDs should be on different planes- one of them on plane XF-YF, the other on a plane parallel to plane XF-YF , but at a different distance to the lasers, Figure 5.10. In this case the dots will move on PSD surfaces to the same degree due to both lasers' translation being equal but the extent to which the dots position will be affected by the tip rotation angle  will be different due to different distances between the lasers and sensors.
Y2

Y1
Tilt angle  PSD 1 Laser diodes No. 1 and 2 L1 L2 Figure 5.10 PSDs at different planes and distances from respective laser diodes PSD 2 Distance DP between PSD planes

44

By knowing the distance DP between the planes of the PSDs and by obtaining the difference in X and Y values from the two PSDs, it is possible to compute the tip's true X, Y, and tilt angle . Y1 = 1 - 0,1 =   (1 ) - ()L1 Y2 = 2 - 0,2 =   (2 ) - ()L2 Y1 and Y2 are known from PSDs' pre- and post- load data. Since the laser diodes are at set distance from each other, assume their translation is equal,   (1 ) =   (2 ) Substitute (5.5) into (5.4) to obtain tilt angle ,  = tan-1 (
Y2 -Y1 L1 -L2

(5.4) (5.5)

(5.6)

)

(5.7)

then, solve either (5.4) or (5.5) to obtain the Tip Translation( ).

5.4 System implementation to increase reliability
The way of laser/PSD implementation, where there is a corresponding diode for each sensor, may be susceptible to failure in case one of the lasers or PSDs fails. However, in order to decrease the chance of one of the sensors losing its laser source, a backup system is proposed by the author, where light from both diodes is first collected together by two lenses (Figure 5.11): a focusing lens and a collimator lens, and is then split into two equally- sending half of the total light towards each sensor. The point of this method is that if one laser will fail, the light from second laser will still reach both PSDs, rendering the setup still useable. The light rays from diodes will be refracted (bent) by the focusing lens in such a way that the two rays will intersects at some point. Then the rays, now travelling in directions different from the initial direction when they left the diode, enter a collimator lens which combines them into one more powerful ray that is redirected to again be parallel to initial direction. The combined ray enters a beam splitter- a special kind of optical lens that breaks an incoming beam into two parts: one of them continues in the same direction as incoming ray, the other is reflected at 90 degrees by a special layer within. Finally a number of mirrors should be used to redirect both rays towards respective PSDs.
45

 The sum of the power outputs of the two lasers should not exceed magnitude two times the allowed power of individual PSD.  If one laser stops working, the second laser should have enough power to be divided among the two PSDs- the power of each laser diode should be sufficient to generate readable current in both PSDs. The two lasers do not necessarily need to operate simultaneously. The first one is on, and when it stops working the other one is turned on.

Figure 5.11 Proposed PSDs, laser diodes, optical lenses and mirrors setup to improve system reliability

5.5 Experimental results
Experimental results are provided in Figures 5.12-5.35. The weights used for the weighted least squares method are specified in each caption in square brackets.

46

Figure 5.12 Link torsion at 50N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1]

Figure 5.13 X Tip Displacement at 50N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1]

Figure 5.14 Y Tip Displacement at 50N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1]

47

Figure 5.15 Link torsion at 30N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1]

Figure 5.16 X Tip Displacement at 30N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1]

Figure 5.17 Y Tip Displacement at 30N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1]

48

Figure 5.18 Link torsion at 10N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1]

Figure 5.19 X Tip Displacement at 10N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1]

Figure 5.20 Y Tip Displacement at 10N load hung on sidebar 0.585m from main link [0.03, 0.5, 10, 0.1]

49

Figure 5.21 Link torsion at 50N load hung directly on main link [0.03, 0.5, 10, 0.1]

Figure 5.22 X Tip Displacement at 50N load hung directly on main link [0.03, 0.5, 10, 0.1]

Figure 5.23 Y Tip Displacement at 50N load hung directly on main link [0.03, 0.5, 10, 0.1]

50

Figure 5.24 Link torsion at 50N load hung directly on main link [3, 0.5, 10, 0.1]

Figure 5.25 X Tip Displacement at 50N load hung directly on main link [3, 0.5, 10, 0.1]

Figure 5.26 Y Tip Displacement at 50N load hung directly on main link [3, 0.5, 10, 0.1]

51

Figure 5.27 Link torsion at 30N load hung directly on main link [3, 0.5, 10, 0.1]

Figure 5.28 X Tip Displacement at 30N load hung directly on main link [3, 0.5, 10, 0.1]

Figure 5.29 Y Tip Displacement at 30N load hung directly on main link [3, 0.5, 10, 0.1]

52

Figure 5.30 Link torsion at 50N load hung 0.585m from main link (Laser dot diameter increase x2) [0.03, 0.5, 10, 0.1]

Figure 5.31 X Tip Displacement at 50N load hung 0.585m from main link (Laser dot diameter increase x2) [0.03, 0.5, 10, 0.1]

Figure 5.32 Y Tip Displacement at 50N load hung 0.585m from main link (Laser dot diameter increase x2) [0.03, 0.5, 10, 0.1]

53

Figure 5.33 Link torsion at 30N load hung 0.585m from main link (Laser dot diameter increase x2) [0.03, 0.5, 10, 0.1]

Figure 5.34 X Tip Displacement at 30N load hung 0.585m from main link (Laser dot diameter increase x2) [0.03, 0.5, 10, 0.1]

Figure 5.35 Y Tip Displacement at 30N load hung 0.585m from main link (Laser dot diameter increase x2) [0.03, 0.5, 10, 0.1]

54

The plots typically consist of an initial flat region at, and 1-2 seconds after, the starting time t=0 when the links are not under load, followed by an ascent or descent following the application of load to the sidebar or the main link itself. Once the peak magnitude of deflection is reached, the system settles and has little fluctuation until the experiment run stops. On some graphs, (e.g. Figures 5.17-5.19) there are prominent step-shaped features. These are data offsets. The offsets occur when the laser dots are not exactly at the PSDs centres but to the side before the load is applied. The offsets have values that are the negatives of the greatest distances from centre to laser dot on either PSD along corresponding axis. For example, if on one of the PSDs the dot initially had x-coordinate of -0.05 mm from sensor centre, while on another PSD the dot had initial x-coordinate of +0.07 mm from centre- the offset will be the negative of the value with the greatest magnitude- thus the offset will be -0.07 mm (this offset is visible on the plot of weighted least squares result on Figure 5.19). The true amount of deflection for individual plots should be obtained by subtracting the amount of respective offset from the data set. The plots of rotation angle measured using camera seem to be more jagged than the plots from PSD data (e.g. Figures 5.12, 5.15 and 5.18). This can be explained by the fact that the white circles as seen by the camera were slightly blurred by the motion of the tip, this caused the circles to appear more oval and tilted- changing the computed circle centroid coordinates leading to sudden changes in rotation values. On the other hand, the plots from PSD data appear to be much smoother due to averaging of 20 data samples collected by PSD over a period of 20 milliseconds, thus reducing the effects of signal noise and link vibrations. Simple least squares method, that can be considered as having a weighing matrix equal to an identity matrix, appears to be the dataset that is most inaccurate compared to the dataset of calibration method that uses camera. The weighted least squares (WLS) method is the closest to calibration data- thus the weights play a major role in obtaining most accurate solution to the linear system that involves PSD readings. When proper weight matrix is used, the change in the load hung on the sidebar, each time at the same distance from the main link, does not affect the WLS method accuracy (Figures 5.12-5.20), however when the location of where the load is hung changes- it leads to a significant difference from calibration method data. An example of this can be seen when comparing respective deflection graphs of 50N load hung at 0.585m from the main link (Figures 5.12-5.14) to graphs of 50N load hung on the actual main link (Figures 5.21-5.23).
55

Here, it is seen that on Figure 5.21 the WLS method shows tip rotation of over 1 degree, while the calibration method shows rotation being virtually zero, as expected by stress analysis theory when there is no torque. Also, on Figure 5.22, the X values of WLS and iterations method seem to be almost mirror image of the camera-using method plot while the Y values of WLS and iterative method on Figure 5.23 seem to still be close to calibration plot. When one of the weighing matrix elements was increased hundredfold, the new data of WLS again became close to calibration data (Figures 5.24-5.29). Figures 5.12-5.17 show calculated deflection when laser dots on PSDs were 1 mm in diameter. Figures 5.30-5.35 show calculated deflection when the laser spots were doubled to 2 mm. No significant reduction in computed deflection accuracy has been noted. The following Table 5.1 lists the relative error percentage between the accepted deflection values provided by the camera and the values provided by iterative and weighted least squares methods, for results of Figures 5.12-5.14.

Table 5.1 Relative error results for selected experiment runs Type of measurement and load Relative error Iterative method Tip rotation angle (50 N) Fig. 5.12 X translation (50 N) Fig. 5.13 Y translation (50N) Fig. 5.14 5.8 % 5.2 % 84 % 21 % -7.4 % Relative error Weighted least squares method 1.5 %

56

6. Conclusions, contributions and future work
6.1 Conclusions
The purpose of this work was to develop, test and analyse the methodology of measuring robotic link tip deflection using position sensing detectors that could be used to compensate for link flexibility. The methods developed were the iterative method and the direct analytical method. A setup has been constructed which simulated a robotic link with the PSDs and laser diodes attached to it. Experiments were run and various loads were applied to the link at different locations - all to see how close would the methods' deflection measurements compare to a computer-vision based system, also installed on the same link. The results showed that with appropriate weight matrix, the analytical method provided good accuracy, however, the accuracy dropped when the location of load application on the system has been changed requiring readjustment of the weighting matrix elements. The iterative method's accuracy was lower than that of analytical method, however there were no significant changes in accuracy when load locations changed. Error analysis has been performed and showed that the amount of deflection itself would partially dictate the amount of error the results would accumulate. Finally, a special ratio of link torsion to its bending has been evaluated and will be useful in selection of robotic link's material selection. The ratio can be instrumental in selecting materials that would optimize either bending or torsion sensitivity of the proposed deflection measurement methods.

6.2 Future work
Since the deflection measurement methods displayed their validity, the next step is to implement the system onto an actual robotic link and, after obtaining tip deflection results from the sensors, control the robot's joints to rotate enough to compensate for tip positioning error. This time, the sensors and diodes should be placed inside the link. The system setup of Section 5.4 should be built and tested since it can potentially increase the reliability of the measurement system in case the robot is sent to a location where replacement of a faulty laser diode will not be possible - potential use in space applications. Besides the tip's overall deflection, its speed of movement should be measured as w ell and with appropriate modeling and controller this will provide the opportunity to dampen link's vibrations.
57

Bibliography
[1]
I. Payo, V. Feliu, O. Daniel Cortázar, "Fibre Bragg grating (FBG) sensor system for highly flexible single-link robots", Sensors and Actuators A: Physical, vol. 150, no. 1, 2009, pp. 24-39. [2] R. Franke, F. Hoffmann, T. Bertram, "Observation of link deformations of a robotic manipulator with fiber Bragg grating sensors," Proceedings of the 2008 IEEE/ASME International Conference on Advanced Intelligent Mechatronics, 2008, pp. 90-95. [3] H. Dette, "A note on some peculiar nonlinear extremal phenomena of the Chebyshev polynomials", Proceedings of the Edinburgh Mathematical Society, 1995, vol 38, pp. 343355. [4] H.-P. Schwefel, "Evolution and optimum seeking", Sixth­generation computer technology series, Wiley, New York, 1995. [5] Y. Shinoda, T. Arai, D. Miyata, T. Higo, "Real-time measurement of static strain using fiber Bragg gratings with optical frequency domain reflectometry," Proceedings of 2011 SICE Annual Conference (SICE), 2011, pp. 1870-1873. [6] Z.H. Jiang, T. Eguchi, "Vision feedback based end-effector motion control of a flexible robot arm", Proceedings of 2007 IEEE International Conference on Systems, Man and Cybernetics, 2007, pp. 2413-2419. [7] M. Hussein, and D. Söffker, "State Variables Estimation of Flexible Link Robot Using Vision Sensor Data." Mathematical Modelling, 2012, vol. 7, no. 1, pp 193-198. [8] C. Wang, W. Chen, and M. Tomizuka, "Robot End-effector Sensing with Position Sensitive Detector and Inertial Sensors", Proceedings of 2012 IEEE International Conference on Robotics and Automation, 2012, pp. 5252-5257. [9] P. C. Tang, H. C. Wang, S.S. Lu, "A Vision-Based Position Control System for a OneLink Flexible Arm," Proceedings of the 1990 IEEE International Workshop on Intelligent Motion Control, pp. 523-528. [10] J. Malzahn, A. S. Phung, F. Hoffmann, T. Bertram, "Vibration control of a multi-flexible link robot arm under gravity," Proceedings of the 2011 IEEE International Conference on Robotics and Biomimetics (ROBIO), 2011, pp.1249-1254.

58

[11]

G. Hager, "A Modular System for Robust Positioning Using Feedback from Stereo Vision", IEEE Transactions on robotics and automation, 1997, vol. 13, no. 4, pp 582-595.

[12] Y.M. Zhao, W.F. Xie, X.W. Tu, "Multiple cameras-multiple target points visual servoing in large scale 3D manufacturing systems," Proceedings of 2011 6th IEEE Conference on Industrial Electronics and Applications (ICIEA), 2011, pp. 2107-2113. [13] Z. Yimin, X. Wen-Fang, T. Xiao-Wei, "Multiple cameras visual servoing used for large scale 3D positioning," Proceedings of the 2011 9th World Congress on Intelligent Control and Automation (WCICA), 2011, pp. 462-467. [14] Y. Zhang, M. Mehrandezh, "Visual Servoing of a 5-DOF Mobile Manipulator Using a Panoramic Vision System," Proceedings of 2007 Canadian Conference on Electrical and Computer Engineering, 2007, pp.453-456. [15] J. Liu, Z. Gong, K. Tang, Z. Lu, C. Ru, J. Luo, S. Xie, and Y. Sun, "Locating End Effector Tips in Robotic Micromanipulation", IEEE Transactions on robotics, 2014, vol. 30, no. 1, pp. 125-130. [16] G. Min and J. Piedboeuf, "A flexible-arm as manipulator position and force detection unit", Control Engineering Practice, 2003, vol. 11, no. 12, pp. 1433-1448. [17] P.J. Sequeira-Goncalves, J.R. Caldas Pinto, "Dynamic visual servoing of robotic

manipulators," Proceedings of the 2003 IEEE Conference on Emerging Technologies and Factory Automation, 2003, vol. 2, pp. 560-565. [18] T. P. Sim, G.S. Hong, K.B. Lim, "A pragmatic 3D visual servoing system," Proceedings of the 2002 IEEE International conference on Robotics and Automation, 2002, vol. 4, pp. 4185-4190. [19] X. Jiang and A. Konno, "A Vision-Based Endpoint Trajectory and Vibration Control for Flexible Manipulators", Proceedings of the 2007 IEEE International Conference on Robotics and Automation, 2007, pp. 3427-3432. [20] X. Jiang, A. Konno and M. Uchiyama, "Visual Servoing Experiment using a 3D FlexibleLink Manipulator," Proceedings of the 2006 IEEE/RSJ International Conference on Intelligent Robots and Systems, 2006, pp. 1224-1229. [21] I. Bonilla, E. J. Gonz´alez-Galv´an, C. Ch´avez-Olivares, M. Mendoza, A. Loredo-Flores, F. Reyes and B. Zhang, "A Vision-based, Impedance Control Strategy for Industrial Robot Manipulators A Vision-based, Impedance Control Strategy for Industrial Robot
59

Manipulators", Proceedings of the 6th annual IEEE Conference on Automation Science and Engineering, 2010, pp. 216-221. [22] S. Ye, L. Bin, W. Xueqian, X. Wenfu, L. Houde, "Modeling and simulation of space robot visual servoing for autonomous target capturing," Proceedings of the 2012 International Conference on Mechatronics and Automation (ICMA), 2012, pp. 2275-2280. [23] R. Gascón, and M. Barraza, "Six DOF Stereoscopic Eye-in-Hand Visual Servo System BIBOT", Proceedings of the 2012 Brazilian Robotics Symposium and Latin American Robotics Symposium, 2012, pp. 284-289. [24] X. Wang, R. G. Langlois and M. J. D. Hayes, "Dynamic analysis of a flexible beam undergoing reciprocating rotational motion", CSME 2004 Forum. [25] M. H. Korayem, A. M. Shafei, and F. Absalan, "Estimate a Flexible Link's Shape by the Use of Strain Gauge Sensors," ISRN Robotics, vol. 2013, Article ID 212805, 9 pages, 2013. [26] C. Mavroidis, P. Rowe, S. Dubowsky, "Inferred end-point control of long reach manipulators," Proceedings of the 1995 IEEE/RSJ International Conference on Intelligent Robots and Systems. 'Human Robot Interaction and Cooperative Robots', 1995, vol. 2, pp. 71-76. [27] C. Mavroidis, S. Dubowsky, K. Thomas, "Optimal Sensor Location in Motion Control of Flexibly Supported Long Reach Manipulators", Journal of Dynamic Systems, Measurement, and Control, 1997, vol. 119, no. 7, pp. 718-726. [28] U. Nolten, W. Mokwa, "Strain gauge foil for the measurement of elastic deformations in orthopedic milling tools," IEEE Sensors, 2008, pp.1476-1479. [29] http://www.ni.com/white-paper/3092/en/ [30] M. Gu and J. Piedboeuf, "A flexible-link as an endpoint positionand force detection unit", Proceedings of the 2002 15th Triennial World Congress, Barcelona, Spain. [31] J. Malzahn, M. Ruderman, A. S. Phung, F. Hoffmann, T. Bertram, "Input shaping and strain gauge feedback vibration control of an elastic robotic arm", Proceedings of 2010 Conference on Control and Fault Tolerant Systems, 2010, pp. 672-677.

60

[32]

V. Feliu, I. Mu~noz, P. Roncero and J. L´opez, "Repetitive Control for Single Link Flexible Manipulators", Proceedings of the 2005 IEEE International Conference on Robotics and Automation, 2005, pp 4303-4308. A. Jnifene, and W. Andrews, "Experimental Study on Active Vibration Control of a Single-Link Flexible Manipulator Using Tools of Fuzzy Logic and Neural Networks", IEEE Transactions on instrumentation and measurement, 2005, vol. 54, no. 3, pp. 12001208.

[33]

[34] F. Pfeiffer and B. Gebler, "A multistage-approach to the dynamics and control of elastic robots", Proceedings of 1988 IEEE International Conference on Robotics and Automation, 1988, pp. 2-8. [35] V. Feliu and F. Ramos, "Strain gauge based control of single-link flexible very lightweight robots robust to payload changes", Mechatronics, 2005, vol. 15, no. 5, pp. 547-571. [36] J. F. Peza-Solis, G. Silva-Navarro and R. Castro-Linares, "On the analysis and control of a flexible link robot", Proceedings of 2007 4th International Conference on Electrical and Electronics Engineering, 2007, pp. 298-301. [37] F. Demeester and H. Van Brussel. "Real-time optical measurement of robot structural deflection", Mechatronics, 1991, vol. 1, no.1, pp. 73-86. [38] J. Swevers, D. Torfs, F. Demeester and H. Van Brussel. "Fast and accurate tracking control of a flexible one-link robot based on real-time link deflection measurements", Mechatronics, 1992, vol. 2, no. 1, pp. 29-41. [39] W. Yim, J. Zuang and S. N. Singh. "Experimental dual-mode control of a flexible robotic arm", Robotica, 1992, vol. 10, pp. 134-145. [40] M. Vrhovec, I. Kovac and M. Munih. "Measurement and compensation of deformations in coordinate measurement arm", Proceedings of 2010 International Symposium on Optomechatronic Technologies (ISOT), 2010, pp.1-6. [41] M. Vrhovec and Munih. "Improvement of coordinate measuring arm accuracy", Proceedings of IROS 2007 IEEE/RSJ Int. Conf. on Intelligent Robots and Systems, 2007, pp. 697-702. [42] W. Yim, J. Zuang, and S. N. Singh, "Experimental dual-mode control of a flexible robotic arm," Robotica, 1992, vol. 10, pp. 134-145.

61

[43]

W. L. Xu, S. K. Tso and X. S. Wang. "Conceptual design of an integrated laser -optical measuring system for flexible manipulator", Proceedings of 1996 IEEE Int. Conf. on Systems, Man, and Cybernetics, 14-17 Oct 1996, vol.2, pp.1247-1252,.

[44] T. W. Yang, W. L. Xu and S. K. Tso. "Dynamic modeling based on real -time deflection measurement and compensation control for flexible multi-link manipulators", Dynamics and Control, 2001, vol. 11, no. 1, pp. 5-24. [45] W. L. Xu, S.K. Tso, X.S. Wang and J.Z. Zhang. "Sensor-based deflection modeling and compensation control of a flexible robotic manipulator", Proceedings of 1997 IEEE Int. Conf. on Systems, Man, and Cybernetics. Computational Cybernetics and Simulation, 1997, vol.4, pp. 3780-3785. [46] C. Liebe, B. Bauman, G. Clark, R. Cook, B. Kecman, K. Madsen, P. Mao, P. Meras, Jr., H. Miyasaka, M. Cooper, C. Scholz, and J. Sedaka, "Design, qualification, calibration and alignment of position sensing detector for the NuSTAR space mission", IEEE Sensors journal, 2012, vol. 12, no. 6, pp. 2006-2013. [47] L.Y. Beaulieu, M. Godin, O. Laroche, V. Tabard-Cossa and P. Grutter, "A complete analysis of the laser beam deflection systems used in cantilever-based systems", Ultramicroscopy, 2007, vol. 107, no 4, pp. 422-430. [48] R. Mishra, W. Grange, and M. Hegner, "Rapid and reliable calibration of laser beam deflection system for microcantilever-based sensor setups," Journal of Sensors, vol. 2012, Article ID 617386, 6 pages. [49] L. Chun-da and T. Jui-Che, "A glass cantilever beam sensor combined with a spherical reflecting mirror for sensitivity enhancement," Proceedings of 2008 IEEE/LEOS International Conference on Optical MEMs and Nanophotonics, 2008, pp.144-145. [50] OSI Optoelectronics, http://www.osioptoelectronics.com [51] Sitek, http://www.sitek.se [52] On Trak Photonics, http://www.on-trak.com/2lseries.html [53] H. Li, Jian Zhang, Da Xu and M. Zhong, "Study on laser spot affecting the accuracy of transient angle test system based on PSD", Proceedings of 3rd International Conference on Electric and Electronics, 2013, pp 477-479. [54] S. Cui and Y. Soh, "The effect of spot size on linearity improvement of tetra-lateral position sensitive detector", Optical and Quantum Electronics, 2011, vol. 42, pp. 721­728.
62

[55] Encyclopedia Britannica, http://www.britannica.com/EBchecked/topic/550450/Snells-law [56] B. Edlén, "The Refractive Index of Air," Metrologia, 1966, vol. 2, pp. 72-80. [57] H. Anton, "Elementary Linear Algebra", 9th Edition, Wiley, 2007 [58] M. Heath, Course notes "Scientific computing: An introductory survey", 2002, Department of Computer Science University of Illinois at Urbana-Champaign. [59] Pennsylvania State University, STAT 501 course notes, https://onlinecourses.science.psu.edu/stat501/node/213 [60] N. Higham, "Accuracy and stability of numerical algorithms", 2002, Society for Industrial and Applied Mathematics. [61] R. C. Hibbeler, "Mechanics of materials", 7th Edition, Pearson Prentice Hall, 2008. [62] Matweb, http://www.matweb.com/

63

Appendix A ­ Formulas used in cantilever beam deflection analysis
Derivation of beam bending formula [61]

Cantilever beam under load P

Starting with (A-1)- the derivative of y coordinate with respect to x is equal to moment "M" divided by product of Young's Modulus "E" and the area moment of inertia of cantilevered beam cross section "I".
 2   2

=  



(A-1)

Also in (A-2), moment M at some point on the beam is the product of applied force "P" and the distance x from point of where M is calculated to the point of force application, along beam length L.  = ( - ) Substituting (A-1) into (A-2),
 2   2

(A-2)

=

  

=

-(-)  

(A-3)

The minus is added in front of P in (A-3) because of negative curvature (moment is counter-clockwise). Equation (A-3) is integrated twice. After the first integration it is,
 

=

-  

+

 2 2 

+ 1

(A-4)

after second integration it is,  =
- 2 2  

+ 6  + 1  + 2

 3

(A-5)

Now initial conditions can be used to find the values of the integration constants 1 and 2 . From (A-4), it is known that the slope  of the beam at fixed end (x=0) is 0, thus 1 =0.
  

=

-  

+ 2  + 1

 2

=> 0 =

-0 02 +   2 

+ 1

=>

1 = 0

(A-6)

From (A-5), it is known that at fixed end x=0 and y=0, thus 2 =0.  =
- 2 2  

+ 6  + 1  + 2 =>

 3

0=

-02 2  

+ 6  + 1 0 + 2

03

=>

2 = 0

(A-7)

64

If force P is applied at the free tip of the beam, x=L and equation (A-5) gives tip y coordinate (deflection from y=0 position) as:  =
-2 2  

+ 6  + 1  + 2 =  =
-3 3 

3

-3 2  

+ 6  =

3

-33 6  

+ 6  =

3

-23 6 

=

-3 3 

(A-8)

(The minus sign represents deflection downward).

Derivation of second moment of inertia formula (around axes X,Y and Z) [61]
On Fig. A2 the profile of a circle is presented. The circle's radius is defined as "R", the two perpendicular axes are x and y. An infinitesimal slice of the circle has an area of dA, and it covers an angle d. The symbol "r" represents an arbitrary radius with the circle (r  R).

y
x r dA d
Circle's profile

The second moment area of a circle is defined as  =    2  =   2   In polar coordinates, the y axis coordinate is written as  =  sin  The area of an infinitesimal ring on the circle can be computed as  =  (A-11) (A-10) (A-9)

Now the second moment of the entire area of the circle can be obtained through integration of every point on it, as  =   3 sin2  =  sin2  [  3 ]  =  sin2  [ 4 ]  = 0  0 0 0 0
4 2 1-cos(2)  4 0 2 1 4  sin(0)] = 4 4 2  2  2  4   4 2  sin2  4 0 1 4

 =

4 2 1  4 0 2

- cos(2) =

1 2

4 1 [  4 2

-

0 2 1 4 1 sin(2)] = [ 2 4 4 2 0

 =
1 2

- sin(4) - 0 + (A-12)

Now a second moment area can be found in a similar way for a circle with radius equal to the radius of a hollow part of a tube. Thus, to find the second moment area of a tube the second moment area of a hollow circle is subtracted from the second moment area of the solid circle,  =
 4  4

-

 4  4

= 4 ( 4  -  4  )



(A-13)

65

According to Perpendicular Axis Theorem, the second moment of inertia about an axis perpendicular to a plane is a sum of the second moments of inertia of two perpendicular axes thought the same point in that plane. Thus, polar moment of inertia J around axis Z, is the sum of moments of inertia around axes x and y.  =  +  Since, the moments of inertia around axes x and y are equal, value of J can be computed as  = ( 4  -  4  ) + ( 4  -  4  ) = ( 4  -  4  )
 4  4  2

(A-14)

(A-15)

Derivation of Angle of Twist formula [61] When a torque T is applied to a tube of length L, every infinitesimal area on the tube's cross-section experiences shear stress , shear strain  (both at a radius (r) from the tube's centre), and relative rotation through angle d. The rotation also depends on the infinitesimal tube length dz. The aforementioned values are combined into  = 
 

(A-16)

According to Hook's law, material's specific modulus of rigidity G is  =  (A-17)

Shear stress , depends on the amount of applied torque T, the distance r to the tube's centre, and the tube's polar moment of area J (around axis Z).  =
 

(A-18)

Substituting (A-18) into (A-17), the relative rotation angle d becomes  =
  

(A-19)

To obtain the total angle of twist of a tube around axis Z (the twist of its tip if its base is fixed), integration of (A-19) must be performed along the entire tube length L.  =  0
  

(A-20) (A-21)

 = 



66

Appendix B - A study on scalability of flexible link's tip deflection
The purpose of this appendix is to examine the effects of link length and diameter variation on the link tip deflection in a twin-link setup. The chapter is divided into four parts: system setup description, explanation of the mathematics of material mechanics used in tip deflection computations, tabulated results of a case study of effect of link size changes on tip deflection followed by study conclusions and a study of ratio of a link's tip deflection due to pure bending and pure torsion of a link followed by the study conclusions.

System Setup
For the presented study, a system of two identical links referred to as link BC and link CD, connected perpendicularly to each other at common point C, is considered (Figure B1). Both links are 0.585 meter (m) long, with outside radius of 0.0159 m and inside radius of 0.0138 m. BC is considered to be a flexible link while CD is considered to be rigid. Link BC is rigidly clamped at one end while link CD is rigidly connected to the free tip of BC. For bending and torsion generation on BC, a force of 60 N is applied to the free tip (end effector) of link CD in the direction perpendicular to the plane in which BC and CD are located prior to any deformation.

Figure B1 System setup and link dimensions

67

Mathematics of Materials Mechanics
The bending of a link depends on its material, length, moment of inertia and the force applied on it. Moment of inertia I of a circular tube, calculated using (B-1) is the measure of an object's resistance to rotation and depends on the object cross section. The greater the moment of inertia, the greater the object's resistance to deformation. In (B-1), Ro and Ri are respectively the outside and inside radii of the tube representing a link [61].  = 4 ( 4 -  4 )


(B-1)

When I is calculated, link tip deflection Y in the direction of the force applied can be calculated using (B-2), where P is the point force applied at the free tip of the link, L is the link's length and E is the link material's modulus of elasticity- its stress to strain plot slope [61].  =
3 3

(B-2)

The tube cross-section second moment of area J defines the resistance to torsion and is calculated using (B-3). The tube's total torsion angle , calculated using (B-4), depends on the torque T applied, the distance L between the point of clamping and point of torque application, second polar moment of area J, and material's modulus of rigidity G which specifies how much does the material resist torsion. The result will be in radians [61].  = 2 ( 4 -  4 )  = 
 

(B-3) (B-4)

Case study
A theoretical case study has been conducted to obtain the effects of doubling the BC and CD links length and various radii of the tube profile. The links are made of 6061 Aluminum. Force applied to point D is 60 N. In Case 1, the deflection of the links with original dimensions is considered. Case 2- BC and CD lengths are doubled, while Ri and Ro stay unchanged. Case 3- length L and radius Ro are both doubled. Case 4- length L and radius Ri are both doubled. Case 5- doubled are the length and the equivalent virtual diameter (EVD). EVD is a special dimension which when doubled together with the length causes the same bending deflection as the original link BC. In cases 1-5 the tube thickness stayed constant at 2.1 mm. Case 6- length L, Ro and tube thickness are doubled.
68

The results of the computations are outlined in Table B1.

Table B1. Link deformation computation results
Case # Link Length (m) Moment of Inertia I (m4) Polar Moment of Inertia J (m4) Outside radius Ro (m) Inside radius Ri (m) BC tip bending deflection (m) BC tip torsion (rad) Point D deflection due to link BC torsion only (mm) Total point D deflection (mm)

1
Theoretical

0.585 0.585 1.17 1.17 1.17 1.17 1.17

1
Experimental.

2
Theoretical

3
Theoretical

4
Theoretical

5
Theoretical

6
Theoretical

2.17 x 10-8 2.17 x 10-8 2.17 x 10-8 1.92 x 10-7 1.55 x 10-7 1.73 x 10-7 3.47 x 10-7

4.34 x 10-8 4.34 x 10-8 4.34 x 10-8 3.84 x 10-7 3.11 x 10-7 3.46 x 10-7 6.94 x 10-7

0.0159 0.0159 0.0159 0.0318 0.0297 0.0308 0.0318

0.0138 2.68 x 10-3 0.0138 3.38 x 10-3 0.0138 21.4 x 10-3 0.0297 2.42 x 10-3 0.0276 3 x 10-3 0.0287 2.68 x 10-3 0.0276 1.34 x 10-3

11.5 0.020 13.0 0.022 92.1 0.08 10.4 0.009 12.9 0.011 11.5 0.01 5.8 0.005

14.2 29.45 113.6 12.8 15.9 14.2 7.1

For case #5, the EVD was found to be 29.76 mm. A number of conclusions can be drawn: 1) From case 1 and 2: If only the link length (for both BC and CD) is changed while diameter and thickness stay same - the deflection of loaded tip on CD due to pure BC bending will be multiplied by (factor of link length change)^3. And multiplication by (factor of link length change)^3 is needed to obtain new CD tip deflection due to BC pure torsion. So if link length is doubled, the deflection for bending is multiplied by (2^3) and for torsion multiplied by (2^3). 2) From cases 1 and 3: If length and outside diameter are doubled (tube thickness same), the resulting total point D deformation will be lower than for original links. 3) From cases 1 and 4: If length and inside diameter are doubled (thickness same), the resulting total point D deformation will be higher than for original links.

69

4) From cases 1 and 5: If the EVD is doubled together with the length (thickness same) - at given ratio between the two, the pure bending deformation and total point D deflection due to bending and torsion from rest are same as for original case. In other words, it is the EVD-to-length ratio together with a given tube thickness that determine link deflection. 5) From cases 1 and 6: If link length, outside diameter and tube thickness are all doubled, the pure bending deformation will be half of that in case 1, BC torsion angle will be four times smaller than in case 1 and overall point D deflection will be half of that in case 1.

Link tip deflection ratio analysis
Ratio of link's point D deflection due to link BC torsion at torque T=PL and bending (TBR- torsion/bending ratio), can be calculated using (B-2) and (B-4) to get  =
( (
() )  3 3 2 )  3 3

)

=

( (

)

(B-5)

However, for small torsion angle approximation, the sine function can be dropped to get  =
(
2 )  3 3

(

)

(B-6)

And since second moment of area J is twice bigger then the moment of inertia I,  = 2 Equation (B-6) can be simplified to  =
3 2 

(B-7)

= 1.5 

(B-8)

Meaning that in case of small deformation of the link, the ratio of link tip deflection due to bending and torsion only depend on the link's material with its specific values of G and E. In order to attain adequate link torsion sensitivity, the link's length-to-diameter ratio should be as close as possible to the link's TBR. Since link torsion is an important parameter to measure due to the magnifying effect it has on the tip deflection of a further, second link, the sensitivity of the first link's torsion must be sufficient. In the case of aluminum links BC and CD, the ratio is 4.31, so for every 4.31 mm of point D deflection due to BC torsion, there is 1 mm of additional deflection of point D due to BC bending. Ratio values for other materials are listed in Table B2.

70

For additional materials the ratio values are: Table B2. Various link materials' Torsion-to-Bending ratio Material Young's Modulus Shear Modulus E (GPa) [62] G (GPa) [62] Aluminum 69 24 Copper 110 48 Iron 211 82 Carbon fiber 70 5 (0/90 deg to loading axis laminate) Carbon fiber 17 33 (+/- 45 deg to loading axis laminate) E-Glass/Epoxy 25 4 (0/90 deg to loading axis laminate) E-Glass/Epoxy 12 11 (+/- 45 deg to loading axis laminate) A number of conclusions can be drawn: 1) This TBR can be used when selecting a material for a robotic link. This ratio can show which material will cause the link to deform more due to bending or due to torsion. For example: if there is torsion expected then the better material will be the one with lower ratio value. 2) The total deflection of the tip due to combination of bending and torsion does not necessarily follow the trend of the TBR. That is, a material with a higher ratio value might experience either greater or smaller total tip deflection than a material with lower value. 3) The TBR is a material-specific constant value thus invariant to link length and link outer and inner diameters. This implies that when link length, outer diameter and/or wall thickness change, the effect on both modes of deformation (bending and torsion) will be same.

TBR 4.31 3.44 3.86 21.0

0.77

9.38

1.68

The appendix presents theoretical deformation values for different changes to link dimensios. Various dimension change combinations have been examined and conclusions have been drawn. Also, the ratio of link tip deflection due to bending and torsion of a preceedeing link has been analysed and appropriate conclusions established.

71

Appendix C - Simulink software models used in the experiment

72

Simulink model for PSD data collection (Part A)

73

Simulink model for PSD data collection (Part B)

74

Simulink model for PSD data collection (Part C)

75

Simulink model for PSD data collection (Part D)

76

Simulink model for PSD data collection (Part E)

Inside subsystem of "Simulink model for PSD data collection (Part D)"

77

Simulink model for collection of computer vision data

78

Appendix D - Matlab code used to obtain experimental measurement data
Matlab code for iterative method of section 2.2
function [Horz_Disp, Vert_Disp, Angle_of_twist]= fcn(x1,y1,x2,y2,INIT_X1, INIT_Y1, INIT_X2, INIT_Y2) %#eml

Angle_of_twist=0; Horz_Disp=0; Vert_Disp=0; %PSD 1 (top of metal holding plate) PSD1_HRZNT_Init=INIT_X1; PSD1_VERT_Init=INIT_Y1+70; %Horizontal distance (component) between beam's centre and PSD-1 pre-load dot %Vertical distance (component) between beam's centre and PSD-1 pre-load dot %Horizontal distance (component) between beam's centre and PSD-1 LOADED dot %Vertical distance (component) between beam's centre and PSD-1 LOADED dot

PSD1_HRZNT_Loaded=x1; PSD1_VERT_Loaded=y1+70;

PSD1_Straight_line_dist_loaded=sqrt((PSD1_HRZNT_Loaded^2)+(PSD1_VERT_Loaded^2 )); %Calculate the straight-line distance between beam centre and loaded dot. PSD1_angle_for_iteration=(atan(PSD1_HRZNT_Loaded/PSD1_VERT_Loaded)); %Obtain angle to begin iteration from %in the LOADED coordinates triangle %PSD 2 (side of metal holding plate) PSD2_HRZNT_Init=INIT_X2-100; PSD2_VERT_Init=INIT_Y2; %Horizontal distance (component) between beam's centre and PSD-2 pre-load dot %Vertical distance (component) between beam's centre and PSD-2 pre-load dot %Horizontal distance (component) between beam's centre and PSD-2 LOADED dot %Vertical distance (component) between beam's centre and PSD-2 LOADED dot

PSD2_HRZNT_Loaded=x2-100; PSD2_VERT_Loaded=y2;

PSD2_Straight_line_dist_loaded=sqrt((PSD2_HRZNT_Loaded^2)+(PSD2_VERT_Loaded^2 )); %Calculate the straight-line distance %between beam centre and loaded dot. if PSD2_VERT_Loaded < 0 && PSD2_HRZNT_Loaded < 0

79

PSD2_angle_for_iteration=-(atan(PSD2_VERT_Loaded/PSD2_HRZNT_Loaded)); %Obtain angle to begin iteration from elseif PSD2_VERT_Loaded > 0 && PSD2_HRZNT_Loaded < 0 %in the LOADED coordinates triangle PSD2_angle_for_iteration=-(atan(PSD2_VERT_Loaded/PSD2_HRZNT_Loaded)); else PSD2_angle_for_iteration=(atan(PSD2_VERT_Loaded/PSD2_HRZNT_Loaded)); end % Iterations of the twist angle start here a=0; for a=0:400 %%%%%PSD1 PSD1_Direction_1=(PSD1_angle_for_iteration+(0.01*pi/180*a)); %Changing the angle to a new one and in one direction PSD1_Direction_2=(PSD1_angle_for_iteration-(0.01*pi/180*a)); %Changing the angle in another direction

PSD1_new_angle_x_component_dir1=PSD1_Straight_line_dist_loaded*sin(PSD1_Direc tion_1); %For PSD 1, obtain new triangles using newly iterated angle, PSD1_new_angle_y_component_dir1=PSD1_Straight_line_dist_loaded*cos(PSD1_Direc tion_1); %one triangle for each direction of iteration

PSD1_new_angle_x_component_dir2=PSD1_Straight_line_dist_loaded*sin(PSD1_Direc tion_2); PSD1_new_angle_y_component_dir2=PSD1_Straight_line_dist_loaded*cos(PSD1_Direc tion_2); %%%%%PSD2 PSD2_Direction_1=(PSD2_angle_for_iteration+(0.01*pi/180*a)); %Changing the angle to a new one and in one direction PSD2_Direction_2=(PSD2_angle_for_iteration-(0.01*pi/180*a)); %Changing the angle in another direction PSD2_new_angle_x_component_dir1=PSD2_Straight_line_dist_loaded*cos(PSD2_Direction_1); new triangleS using newly iterated angle,

%For PSD 2, obtain

PSD2_new_angle_y_component_dir1=PSD2_Straight_line_dist_loaded*sin(PSD2_Direc tion_1); %one triangle for each direction of iteration PSD2_new_angle_x_component_dir2=PSD2_Straight_line_dist_loaded*cos(PSD2_Direction_2); PSD2_new_angle_y_component_dir2=PSD2_Straight_line_dist_loaded*sin(PSD2_Direc tion_2); %%%%%%%%%%%%%%%%Delta X and Delta Y computation at given iteration%%%%

80

PSD1_x_Diff_A=PSD1_new_angle_x_component_dir1-PSD1_HRZNT_Init; PSD2_x_Diff_A=PSD2_new_angle_x_component_dir1-PSD2_HRZNT_Init; PSD1_y_Diff_A=PSD1_new_angle_y_component_dir1-PSD1_VERT_Init; PSD2_y_Diff_A=PSD2_new_angle_y_component_dir1-PSD2_VERT_Init; PSD1_x_Diff_B=PSD1_new_angle_x_component_dir2-PSD1_HRZNT_Init; PSD2_x_Diff_B=PSD2_new_angle_x_component_dir2-PSD2_HRZNT_Init; PSD1_y_Diff_B=PSD1_new_angle_y_component_dir2-PSD1_VERT_Init; PSD2_y_Diff_B=PSD2_new_angle_y_component_dir2-PSD2_VERT_Init; %%%Comparison of component changes between the two PSDs if abs(PSD1_x_Diff_A-PSD2_x_Diff_A)<0.1 || abs(PSD1_x_Diff_BPSD2_x_Diff_B)<0.1 &&... abs(PSD1_new_angle_y_component_dir1-PSD1_VERT_Init)> abs(0.97*(PSD2_new_angle_y_component_dir1-PSD2_VERT_Init)) && ... abs(PSD1_new_angle_y_component_dir1-PSD1_VERT_Init)< abs(1.03*(PSD2_new_angle_y_component_dir1-PSD2_VERT_Init)) Angle_of_twist=(0.01*a) %Determining the angle of twist in DEGREES Horz_Disp=PSD1_HRZNT_Init-PSD1_new_angle_x_component_dir1 Vert_Disp=PSD1_VERT_Init-PSD1_new_angle_y_component_dir1 break elseif abs(PSD1_x_Diff_A-PSD2_x_Diff_A)<0.1 || abs(PSD1_x_Diff_BPSD2_x_Diff_B)<0.1 &&... abs(PSD1_new_angle_y_component_dir2-PSD1_VERT_Init)> abs(0.97*(PSD2_new_angle_y_component_dir2-PSD2_VERT_Init)) && ... abs(PSD1_new_angle_y_component_dir2-PSD1_VERT_Init)< abs(1.03*(PSD2_new_angle_y_component_dir2-PSD2_VERT_Init))

Angle_of_twist=-(0.01*a); %Determining the angle of twist in DEGREES Horz_Disp=PSD1_HRZNT_Init-PSD1_new_angle_x_component_dir2; Vert_Disp=PSD1_VERT_Init-PSD1_new_angle_y_component_dir2; break end end

81

Matlab code for Simple Least Squares analytical method in section 4.2
function [dx, dy, dtheta] = fcn(x1, y1, x2, y2) R1=70; %Distance from tip origin to PSD 1 centre% R2=100; %Distance from tip origin to PSD 2 centre% theta1=-90/180*pi; theta2=-180/180*pi; % Determining matrix [A] coefficients % A=[-1 0 -sin(theta1)*R1; 0 -1 cos(theta1)*R1; -1 0 -sin(theta2)*R2; 0 -1 cos(theta2)*R2]; % Values of laser dot coordiantes in matrix [b] % b=[ 0+x1; y1; 0+x2; 0+y2]; % Finding the pseudoinverse of the rectangular matrix [A] % Apseudo=(inv((transpose(A)*A)))*(transpose(A)); %Obtaining values for tip deflection x=Apseudo*b; dx=x(1,1); % Horizontal translation in mm % dy=x(2,1); % Vertical translation in mm % dtheta=(x(3,1)*180/pi); % Tip rotation angle in degrees%

82

Matlab code for Weighted Least Squares analytical method in section 4.3
function [dx2, dy2, dtheta2] = fcn(x1, y1, x2, y2) R1=70; %Distance from tip origin to PSD 1 centre.% R2=100; %Distance from tip origin to PSD 2 centre.% theta1=-90/180*pi; theta2=-180/180*pi; % Determining matrix [A] coefficients % A2=[-1 0 -sin(theta1)*R1; 0 -1 cos(theta1)*R1; -1 0 -sin(theta2)*R2; 0 -1 cos(theta2)*R2]; % Values of laser dot coordiantes in matrix [b] % b2=[ 0+x1; y1; 0+x2; 0+y2]; % Defining Weighting matrix P and matrix Q% Po=[0.03 0 0 0; 0 0.5 0 0; 0 0 10 0; 0 0 0 0.1]; positive definite, P=transpose(Po)*Po% Qo=[1 0 0; 0 1 0; 0 0 1]; positive definite, Q=transpose(Qo)*Qo%

% mxm P and Po are % nxn Q and Qo are

% Finding the pseudoinverse of the rectangular matrix [A] % A_weighted=Po*A2*inv(Qo); A_weighted_inv=pinv(A_weighted); %Find the Weighted Least Squares approximation of the values of variables matrix y% y=inv(Qo)*A_weighted_inv*Po*b2; dx2=y(1,1); % Horizontal tip translation in mm % dy2=y(2,1); % Vertical tip translation in mm % dtheta2=(y(3,1)*180/pi); %Tip rotation angle in degrees%

83

Matlab code for sub-functions of camera setup Simulink model
function Centroids_coordinates_X_Y = fcn(u) %#codegen Centroids_coordinates_X_Y = u function Scale_pixels_per_mm = fcn(u) %#codegen Radii_in_pixels_TOP_MIDDLE_BOTTOM = u/2 Top_radius_in_pixels=Radii_in_pixels_TOP_MIDDLE_BOTTOM(1,1) Scale_pixels_per_mm=Top_radius_in_pixels/0.96 %Value is Pixels per millimeter function [X_displacement_in_mm,Y_displacement_in_mm,Angle_of_rotation] = fcn(Init_angle_rotation, Middle_circle_X, Middle_circle_Y, A, Scale) %#codegen y = 1 Angle_of_rotation=-((-atan((A(1,1)-A(3,1))/(A(1,2)-A(3,2)))*180/pi)Init_angle_rotation) % Angle of rotation in degrees midX=Middle_circle_X midY=Middle_circle_Y Initial_rotation=Init_angle_rotation X_displacement_in_mm=(A(2,1)-Middle_circle_X)/Scale Y_displacement_in_mm=(Middle_circle_Y-A(2,2))/Scale

84

Author's Curriculum Vitae
Education: Aerospace Engineering (B.Eng) Ryerson University - Toronto, Canada 2008-2012

Publications: G. Balyasin, G. Liu and W. Zhu, "Simultaneous Bending and Torsion Deflection Measurement of Flexible Robotic Link Using Position Sensing Detectors", Proceedings of the 12th International Symposium on Artificial Intelligence, Robotics and Automation in Space, June 17-19, 2014, Montreal, Canada.

85

