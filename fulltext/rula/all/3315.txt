ENERGY EFFICIENT SCHEDULED DIRECTIONAL MEDIUM ACCESS CONTROL PROTOCOL FOR WIRELESS SENSOR NETWORKS

by

Asif Akbar B.Sc., University of Engineering and Technology, Lahore, Pakistan, 2004 A Thesis presented to Ryerson University in partial fulfillment of the requirements for the degree of Master of Applied Science in the Program of Electrical and Computer Engineering

Toronto, Ontario, Canada ©Asif Akbar 2015

AUTHOR'S DECLARATION FOR ELECTRONIC SUBMISSION OF A THESIS I hereby declare that I am the sole author of this thesis. This is a true copy of the thesis, including any required final revisions, as accepted by my examiners. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. I understand that my thesis may be made electronically available to the public.

ii

Abstract Asif Akbar, Energy Efficient Scheduled Directional Medium Access Control Protocol for Wireless Sensor Networks M.A.Sc, Electrical and Computer Engineering, Ryerson University, 2015
Directional antennas have numerous advantages over traditional omnidirectional antennas, which include more spatial reuse, extended range, less interference, and less energy consumption. Directional antennas introduce deafness and new hidden terminal problems.

Deafness may cause more collisions, and hidden terminal problems may result in more retransmissions, poor quality of service, more energy consumption, and less packet delivery ratio. Hence, it is important to design of an effective medium access protocol specifically for directional antennas in order to reap the benefits of directional antennas while managing deafness and hidden terminal problems, otherwise the challenges can adversely affect system performance. In wireless sensor networks, the sensors are battery powered with limited supply of energy. Therefore, energy efficient protocols and solutions are immensely important with the desired goal of extending the network lifetime longer than what is possible through the omnidirectional antennas. In this thesis, I have proposed an energy efficient scheduled directional medium access control protocol (DTRAMA) which is specially designed for the wireless sensor nodes which use directional antennas in wireless sensor networks. It is a traffic adaptive scheduled medium access protocol in which nodes create their transmission and sleep schedules on the basis of their traffic. Scheduled medium access for packet transmission is used to address the deafness and hidden terminal problems caused by the use of directional communication in contention based MAC protocols. Use of directional antenna reduces interference which indirectly improves packet delivery ratio by improving the signal to noise ratio and by reducing the packet error rate. DTRAMA is energy efficient: firstly because the nodes use directional data communication which requires lower node transmit power than the omnidirectional data communication for the same transmission range; and secondly, because the nodes schedule their sleep period to reduce idle listening and overhearing which improves energy efficiency. In DTRAMA, sleep schedule of the node is traffic adaptive which is essential to maximize the sleep period. The node, by using spatial reuse checks, reuses the wireless medium to the maximum extent to reap the spatial reuse benefits of the directional antenna. The

iii

nodes reduce their packet latency through spatial reuse. Through simulation and by using different topologies, I have compared the performance of DTRAMA with those of omnidirectional schedule MAC protocol (TRAMA) and contention based directional MAC protocol (DMAC), which clearly shows that DTRAMA outperforms TRAMA and DMAC in packet delivery ratio and outperforms TRAMA in terms of packet latency. Key Words: Spatial reuse, traffic adaptive, directional antenna, energy efficiency, packet latency, wireless sensor networks

iv

Acknowledgements
I feel proud to be a bona fide student of this prestigious institution. I was lucky enough to have the inspiring guidance of Prof. Dr. Muhammad Jaseemuddin, an authority on wireless networks, as my thesis supervisor. His inspiring personality has made an indelible mark on my mind and has generated in me an insatiable thirst for research in the field of wireless networking. I also remain indebted and thankful to Prof. Dr. Xavier Fernando and Dr. Wisam Farjow whose help remained available to me during my stay at Ryerson as a member of their team tasked to provide solution in respect of wireless networks in underground mines, a project of PBE. My grateful acknowledgements are due to all these luminaries. I also want to thank all the defense committee members for their time to review my thesis. My parents and friends also encouraged me a lot. So I am grateful to them all as well.

v

Dedicated to my loving and caring family and friends

vi

Table of Contents:
1 Introduction .............................................................................................................................................. 1 1.1 Motivation and problem statement ................................................................................................ 2 1.2 Contributions.................................................................................................................................... 3 1.3 Organization of thesis ...................................................................................................................... 4 2 Backgound ................................................................................................................................................ 6 2.1 Directional Antenna ......................................................................................................................... 6 2.2 Directional MAC .............................................................................................................................. 8 2.3 Challenges of directional MAC ....................................................................................................... 9 a) Hidden terminal problem........................................................................................................ 9 b) MAC-Layer Capture ............................................................................................................. 10 c) Head-Of-Line Blocking ......................................................................................................... 11 d) Deafness .................................................................................................................................. 12 2.4 Literature Review .......................................................................................................................... 19 3 Energy efficient scheduled directional medium access control protocol for WSN .......................... 39 3.1Energy efficient,collision-free MAC protocol for WSN (TRAMA) ............................................ 39 3.2 Energy efficient scheduled directional MAC protocol (DTRAMA) .......................................... 41 3.2.1 Neighbor Protocol (NP) .................................................................................................... 43 3.2.2 Schedule Exchange Protocol (SEP) ................................................................................. 45 3.2.3 Schedule Exchange Protocol (AEA) ................................................................................ 47 a) Spatial reuse checks ...................................................................................................... 53 b) Proof of correction of spatial reuse checks ................................................................. 56 4 Simulation ............................................................................................................................................... 68 4.1 Implementation of channel model of underground mines using directional antennas in ns-3 ....................................................................................................................68 4.2 Implementation of directional antenna in ns-3 .......................................................................... 74 4.3 Implementation of DTRAMA ...................................................................................................... 77 4.4 Simulation Results ........................................................................................................................ 81 a) Average Packet Delivery Ratio ................................................................................................ 81 b) Average Packet Delay.............................................................................................................. 83 c) Energy Efficiency .................................................................................................................... 86 5 Conclusion and Future Work ............................................................................................................... 90 Bibiliography .............................................................................................................................................. 92

vii

List of Figures:
Figure 2.1: Hidden terminal problem.....................................................................10 Figure 2.2: Hidden terminal because of unheard RTS/CTS............................................10 Figure 2.3: MAC layer capture problem..................................................................11 Figure 2.4: Head-of-Line blocking........................................................................12 Figure 2.5: Deafness problem ..............................................................................13 Figure 2.6: Unfairness due to deafness....................................................................14 Figure 2.7: Dead-lock situation due to deafness.........................................................15 Figure 2.8: Example of deafness...........................................................................16 Figure 2.9: Example of deafness because of the persistent hearing of data..........................16 Figure 2.10: Example of precautionary deafness at the receiver.......................................17 Figure 2.11: Example of deafness because of unheard RTS/CTS.....................................18 Figure 2.12: Directional MAC Protocols.................................................................18 Figure 2.13: Inconsistency Problem Example...........................................................30 Figure 3.1: TRAMA algorithm.............................................................................39 Figure 3.2: Time management.............................................................................43 Figure 3.3: Signaling message header....................................................................45 Figure 3.4: Schedule message header.....................................................................46 Figure 3.5: Adaptive election algorithm..................................................................47 Figure 3.6: Example 1.......................................................................................48 Figure 3.7: Example 2.......................................................................................50 Figure 3.8: Spatial reuse checks algorithm...............................................................53 Figure 3.9: TX check........................................................................................54 Figure 3.10: Deafness check case (1)......................................................................54 Figure 3.11: Deafness case (2) when   1 ()......................................................54 Figure 3.12: Deafness case (2) when   2 ()......................................................55 Figure 3.13: Interference check............................................................................56 Figure 3.14: Nodes in shaded area cause conflict at tx and r...........................................56 Figure 3.15: Possible positions of x in 2-hop neighborhood............................................57 Figure 3.16: Possible positions of node x when   1()    1 ()........................57 Figure 3.17:   1()    1 () case (1)........................................................58

viii

Figure 3.18:   1()  x  N1 (r) case (2); x has heard about tx and r from the different beams.......................................................................................................60 Figure 3.19:   1()  x  N1 (r) case (2); x has heard about tx and r from same beams... ..............................................................................................................62 Figure 3.20:   1()    1 ().............................................................64 Figure 3.21:   1()    1 ().............................................................65 Figure 4.1: Geometry of the tunnel.....................................................................69 Figure 4.2: Relative path loss vs. distance covered by signal.......................................71 Figure 4.3: Used directional antenna....................................................................72 Figure 4.4: In depth view of the ray optical channel model using switched beam directional antenna having beam width = 90° and receiver with reception radius of L /3 where  = 5 ..............................................................................................................73 Figure 4.5: 5 X 5 grid network..........................................................................73 Figure 4.6: Switched Beam Directional Antenna....................................................74 Figure 4.7: Gain of directional antenna in (a) directional mode and (b) omnidirectional mode.......................................................................................................75 Figure 4.8: Tx and Rx...................................................................................75 Figure 4.9: DOA Calculation...........................................................................77 Figure 4.10: Random Center Sink Topology........................................................79 Figure 4.11: Random Corner Sink Topology.......................................................80 Figure 4.12: Grid Center Sink Topology.............................................................80 Figure 4.13: Grid Corner Sink Topology.............................................................81 Figure 4.14: Average Packet Delivery for Random Center Topology.............................82 Figure 4.15: Average Packet Delivery Ratio (%) for Random Corner Topology................82 Figure 4.16: Average Packet Delivery Ratio for Grid Corner Topology..........................83 Figure 4.17: Average Packet Delivery Ratio (%) for Grid Center Topology....................83 Figure 4.18: Average Delay for Random Center Topology.........................................84 Figure 4.19: Average Delay for Random Corner Topology........................................85 Figure 4.20: Average Delay for Grid Corner Topology............................................85 Figure 4.21: Average Delay for Grid Center Topology...........................................86 Figure 4.22: Average Node Percentage Sleep Time for Random Center Topology...........88

ix

Figure 4.23: Average Node Percentage Sleep Time for Random Corner Topology ..........88 Figure 4.24: Average Node Percentage Sleep Time for Grid Corner Topology................89 Figure 4.25: Average Node Percentage Sleep Time For Grid Center Topology................89

List of Tables:
Table 2.1: Comparison of MAC protocols............................................................38 Table 2.2: Comparison of Decentralized Scheduled Energy Efficient MAC protocols........38 Table 3.1: Definitions...................................................................................43 Table 4.1: Pr comparison of Friis, two ray ground and ray optical propagation models.......73 Table 4.2: Simulation Parameters......................................................................79

x

1 Introduction
In remote environments, wireless sensors are used to sense (measure) the events and physical parameters such as pressure, gas leaks etc., and communicate the collected sensing data to a remote station that performs the required computation and generates the response function. These sensors are connected through a network called sensor network. In wireless sensor networks, the nodes, because of their application, are battery driven and are at locations where it is very difficult to replace the battery. There are numerous applications of sensor networks. For example, in inaccessible forests, the use of the sensors, both in normal and critical conditions, to collect important information in order to detect and deal with critical situations like wildfire, is extremely beneficial. These sensors can be put to work immediately in such conditions by dropping them from the planes in the area of interest within a forest. Other crucial applications of wireless sensor networks are in mines, manufacturing industry and war-zones. Communication in underground mines can be wired or wireless. In the case of wired communication twisted pair cables, coaxial cables, trolley, leaky feeders and fiber optical cables are used. The wireless sensor networks for mines are used for variety of critical applications such as tracking the location of miners, detecting gas leaks, fires etc. The RFIDs are normally used to detect the location of each miner and to personalize critical information according to his location. In order to meet emergency situations in the mines i.e. rescue of the miners and provision of medical aid to them in case of any unfortunate accident, RFIDs are used to keep track of the location of miners. In mines, information about environmental conditions, such as deficiency of oxygen in some areas and other hazards (mining accidents), need to be communicated timely and reliably for the safety of the miners and timely rescue operations. The shortage of proper and reliable communication techniques capable of solving efficiently the operational and hazardous problems resulted in a number of accidents (Brown, 1984; Chao and Chung, 1994; Chung, 1994; Deshpande et al., 1998; Yin and Chung, 1998; Miller et al., 1999; Hay kin, 2001) [1]. Therefore, work on communication equipment in underground mines started in early 1900. Wired communication in underground mines using telephony networks began in 1913, which was similar to normal household phones with the only difference that mine phones were placed in ironclad boxes for protection against gases, moisture and other chemicals. In early 1970s, the researchers began work on modern communication for underground mines that still continues.

1

Two-way communication between the miners and the administrators is very important for safety, production and help in day-to-day operations i.e. extracting and moving products to the surface. Old communication networks lacked the capability of real-time data collection to predict the hazardous situations and to facilitate the day-to-day operations. Wireless sensor networks have evolved to current networks that are effectively used to collect the real time data (moisture, oxygen and other chemicals) from the environment and to send these data to the central server for processing and forwarding the feedback to the miners that is useful in avoiding mishaps and helping them in their day to day work. However, reliability, energy-efficiency, and timely communication of sensing data are still challenging attributes of the mines sensor networks, especially due to high multi-path fading and deep shadowing enclosed tunnels.

1.1 Motivation and problem statement: Directional antennas are mainly used in wireless ad hoc networks because of their
advantages over omnidirectional antennas. A directional antenna directs most of its energy in a particular direction that increases its gain. Use of directional antennas facilitates division of the space into regions, which enables the nodes to make concurrent communications that are not possible in the case of omnidirectional antennas. Spatial reusability of directional antennas offer several benefits that include: increase in the network capacity and throughput, decrease in packet latency, and reduction in interference that improves packet delivery ratio by reducing the signal to noise ratio (SNR) and packet error rate (PER) [2]. Also due to higher transmit gain of the directional antenna, the node expends lower transmit power to achieve the same transmission range as in case of using omni-directional antenna. The directional antenna also poses unique challenges such as deafness and new forms of hidden terminal problems [2]. The benefits of directional antennas can be reaped by dealing with the challenges through the design of specialized MAC protocols. Mostly directional MAC protocols are contention-based protocols, which makes it manageable to deal with the complicated phenomenon of deafness. In this thesis, we propose the use of directional antenna for wireless sensor networks in underground mines primarily due to high transmit gain and reduced interference in an environment that is already mired with multi-path fading and deep shadowing. Further, we propose a scheduled directional MAC protocol to improve energy efficiency by exploiting the low-energy operation during sleep time. In short the problems statement is as follows:-

2

To design an energy efficient directional medium access protocol that exploits the benefits of directional antennas in underground mines while addressing its challenges. In it, the nodes create traffic-adaptive conflictfree transmission and sleep schedules, which maximizes their sleep period to ensure maximum reduction in energy consumption.

1.2 Contributions:
In this thesis, we have proposed the use of directional antennas in the wireless sensor network deployed in underground mines because of their benefits: increase in network throughput and network capacity, reduction in packet latency through spatial reuse, reduction in energy consumption owing to reduction in transmit power, and increase in packet delivery ratio due to reduction in interference. To achieve this objective, we have proposed an energy efficient scheduled directional medium access control protocol (DTRAMA), which is based on TRAMA designed for omni-directional antennas [3]. To the best of our knowledge, DTRAMA is the first attempt to make directional scheduled MAC protocol energy efficient and traffic adaptive. DTRAMA, which is an energy efficient medium access protocol, is best suited for underground mines and remote areas. In DTRAMA, the nodes save their energy by maximizing their sleep period. They create a traffic adaptive sleep schedule that reduces idle listening and overhearing of the nodes. Energy is also saved because of high gain of directional mode of operation of the directional antenna because for the same transmission range, the directional mode of operation requires lower transmit power than that of omnidirectional mode of operation. In DTRAMA, nodes build 2-hop neighbor table that forms the basis of developing contention free transmission and sleep schedules. These schedules are traffic adaptive. The nodes use the directional mode of operation of the directional antenna for data transmission and the omnidirectional mode for exchange of the neighbor and schedule information. In the case of contention based MAC protocols, the use of the directional mode of operation creates challenges like deafness and hidden terminal problems due to asymmetric gain and due to unheard RTS and CTS messages etc., which severely limits the performance of the system. In DTRAMA, we have tried to address the challenges of directional communication through the use of scheduled medium access protocol. In order to maximize the spatial reuse, the nodes use the proposed arbitration scheme and spatial reuse checks that ensure contention free medium access while reusing the wireless medium. This reuse of the wireless medium reduces packet latency and increases system

3

capacity and throughput. Another major contribution is the implementation of ray optical wireless channel model for underground mines [4] in ns-3. We used ns-3 network simulator for studying the performance of DTRAMA. We implemented the channel model in Qt language, created external library and then linked the library with ns-3 by using python so that the nodes can use it by using YansWifiChannel. The comparison of the ray optical model, friis propagation model and 2-ray ground propagation model is presented in chapter 4. We also implemented two directional antenna models in ns-3 since it lacks directional antenna support: the first for the ray optical propagation model and the second for other propagation models. In the first directional antenna implementation, the antenna can work both in omnidirectional and directional transmit modes but it works in only omnidirectional receive mode. In the second directional antenna implementation, the antenna can work either in omnidirectional or directional mode for both transmit and receive. We simulated the DTRAMA, omnidirectional schedule MAC protocol (TRAMA) and contention based directional MAC protocol (DMAC). The TRAMA does not include implementation of the need transmitter. We evaluated the performance of DTRAMA, TRAMA and DMAC by using key performance indicators (KPI): packet delivery ratio, average delay and average node percentage sleep time.

1.3 Organization of thesis:
The remainder of the thesis follows this organization. In chapter 2, we highlighted the benefits and challenges of the directional antennas for medium access control protocols. Then we have reviewed the literature on the deafness and hidden terminal problems of the directional antenna for MAC layer with a view to extract some useful key points to address these challenges. Then we discussed of the omnidirectional scheduled energy efficient MAC protocol where nodes schedule their sleep and wake periods but use contention based medium access approach during the wake period or the MAC protocols in which the nodes schedule their sleep and transmit schedules and use TDMA. The review of energy efficient MAC includes the discussion of protocols where sleep periods are either traffic independent or traffic adaptive. It follows the review of the directional antenna MAC protocol where nodes schedule their transmission period. In chapter 3, we proposed energy efficient scheduled directional medium access control protocol for wireless sensor networks (DTRAMA). We discussed in detail the DTRAMA arbitration scheme and spatial reuse check algorithm and furnished a proof that spatial reuse check algorithm creates a conflict free schedule. In chapter 4, we discussed the implementation of

4

channel model for underground mines, ray optical prediction channel model for radio waves for underground mines and then its integration in ns-3. We provided its comparison with Friis and 2ray ground propagation model. Then, we discussed the two models of directional antenna. First, ray optical propagation model where the directional antenna works in directional transmit and omnidirectional transmit modes but in omnidirectional receive mode only; and second, the model that can be used by other propagation models where the directional antenna can work in directional and omnidirectional modes for both transmit and receive. In chapter 4, we discussed the implementation of DTRAMA, scheduled omnidirectional MAC protocol (TRAMA) and contention based directional MAC protocol (DMAC) in ns-3. We presented and discussed their relative performances by using KPI, average packet delivery ratio, average delay and average node percentage sleep time, for four topologies. In these topologies, the sink is either placed at the corner or at the center, and the sensor nodes are placed such that the topology becomes either a random topology or a grid topology. Finally, in Chapter 5 we presented summary and conclusion, and future work.

5

2 Background
In this chapter we first explained directional antenna and later on elaborate advantages and challenges of directional MAC protocol. Deafness is the main challenge that we face while using directional antenna, so we discussed it in more detail by explaining the its harms and scenarios which can create deafness. Later on we reviewed the literature of the MAC protocols with a tabular comparison of the protocols at the end.

2.1 Directional Antenna
An omnidirectional antenna radiates energy equally in all directions in one plane. It is similar to an isotropic antenna in one particular plane only. It requires a high transmit power and becomes a source of interference for other radiating sources in the vicinity of its transmission. This limits the frequency reuse, which indirectly limits the capacity, quality and geographic coverage of the wireless system. The need to remove the impairments of omnidirectional antenna with a view to increase its capacity, quality, and coverage and to reduce the interference and power transmission paved the way for the advent of the directional antennas. These antennas direct all their energy in particular directions or angular regions. The gain of the antenna in that particular direction is much more than that of omnidirectional or isotropic antenna.

Antenna Array:
In some applications the directivity of the beam is very important and highly desired because of its long distance communication. To achieve this objective we have to increase the electrical size of the antenna, which is not desirable because of its large dimensions. The same objective is achieved through an alternative approach by using an antenna array, which is an array of assembly of antenna elements without increasing the size of individual element. In the case of antenna array, the electromagnetic field of the array is the sum of the radiations of all the elements. To control the overall pattern of the antenna and its directivity, we can use different geometric dimensions like linear, circular, planar etc., adjust the spacing between the elements and change the amplitude and phase excitation or the current of the individual elements. We can divide the antenna arrays into phased arrays and adaptive arrays. Phased array is an array of signal elements and the total radiation strength of the signal is the sum of signal from all the elements in the array. In the case of phased array, direction of the maximum gain is controlled by the amplitude and the phase of the current in the antenna array

6

elements by keeping other physical parameters such as spacing between elements constant. Adaptive array continuously adapts its radiation pattern by using the feedback control. Pattern of the array can be steered into a particular direction by using the phase weighting across the array and can be shaped by the amplitude and the phase weighing the outputs of the array elements. The main advantage of using the adaptive array is that it detects the interference sources and automatically removes them by steering the nulls and reducing the side-lobe direction in the direction of the interference while maintaining the main-lobe characteristics [5]. Adaptive arrays have the signal processor that can adjust the weights of the antenna to improve the signal-tonoise ratio by scanning the whole radiation pattern and calculating the direction that gives the maximum signal-to-noise ratio.

Smart Antenna:
Smart Antenna is a directional antenna with its beam directed towards the destination. The directional transmission in Smart Antenna increases the frequency reuse resulting in the capacity increase, reduces the interference and reduces the power consumption by directing the power only in a particular direction. It detects the direction of arrival (DOA) of the signal so that it can direct the transmission only in that particular direction to the receiver. There are following two types of the smart antenna: a) b) Conventional or switched-beam; and Adaptive array.

Conventional or switched-beam is the simplest smart antenna technique. In this technique, we have different predetermined fixed beams to detect signal strength of the signal and to determine the beam that will provide the maximum gain in that direction. In the case of antenna arrays, by changing the phase differences of the signals, we can change the direction of the main beam in space. It combines the outputs of multiple antennas in such a way as to produce the narrow beam, which has more spatial selectivity than the conventional single element approaches. An adaptive array using the complex algorithms can provide better flexibility as we can change the radiation pattern in such a way as to direct the main lobe towards desired direction or to set the bore sight axis towards the desired direction and can place the nulls in the direction of the interference sources. In short, adaptive array provides more customized radiation pattern than the switched beam.

7

The adaptive array, is more suitable for high interference region because of its interference filtering capability, whereas switched-beam antennae are more suitable for low interference region. Smart antennas have following two main parts: a) b) DOA estimation; and Beam forming.

DOA algorithms are used in the receiver where an array of antennas collects the signals, by using the direction finding algorithms like the MUSIC, ESPIRT, SAGE etc. The array detects the direction of the signal direction using the beam former to direct the beam in that particular direction by placing the null and the main lobe in such a way as to suppress the interference signals. The beam forming can be done by using the Finite Impulse Response (FIR) and tapped delay line filter. We can also change the weights of the filter to provide the optimum beam. Famous beam forming algorithms are: LMS and steepest descent etc.

2.2 Directional MAC:
By using the adaptive antennas, we can reap some additional advantages, e.g., we can place the null at the specific point when we are facing more interference. But the adaptive array antennas are more complex and require additional DSP hardware. In the case of wireless sensor networks, the best option is the switched beam antennas having four beams i.e., M=4. So the antenna will have the beam width of
360° 

= 90°. Reasons are: they are simple, have small size

and are less expensive. Following are the major advantages that we reap in the case of ad hoc wireless networks by using the directional antennas:        More Spatial reuse; More capacity; Less energy consumption; Less end-to-end delay; Less interference; High directivity; and More throughput.

By using the directional antennas, we can divide the space into regions where we can have multiple concurrent communications in such a way that they do not interfere with one another. It indirectly increases the system capacity. One of the biggest advantages of the directional 8

antennas is their high directivity that decreases the number of the required hops or in other words decreases the end-to-end delay. Since the directional antennas direct most of their energy in the specific direction, they cause less or no interference with the other ongoing transmission. Through directional antennas we can reduce the number of the interference sources. It helps us to reduce the transmission power to achieve the same SINR as is achieved in the omnidirectional antenna. All these advantages result in the increase of the system throughput and help us to reduce the energy consumption.

2.3 Challenges of directional MAC:
a) Hidden terminal problem: When two nodes, which are out of each other's range, try to access a common receiver, a collision is caused. This problem caused by two nodes that are hidden from each other is called hidden terminal problem. It becomes even more severe in the case of directional communication. It can happen, in the case of directional communication, because of two reasons: asymmetric gain and unheard RTS/CTS. So it can be divided, on this basis, into two types: a) hidden terminal because of asymmetric gain; and b) hidden terminal because of unheard RTS/CTS. Hidden terminal because of asymmetric gain: Gain of the omnidirectional antenna (Go) is much less than that of the directional antenna (Gd). This hidden terminal problem arises because a node receiving a signal omnidirectionally is unaware of those transmissions, which it can hear when it is receiving the signal directionally. To explain, consider an example containing nodes A, B and C as shown in Figure 2.1. Nodes A and node C are in the range of each other if the transmission and the reception of both the antennas are directional; otherwise they are out of each other's range. Node B wants to communicate with node C. So after sensing the medium idle, it will send directional RTS message towards that node. Node C, on receiving this RTS, will respond with CTS message and transmission will start. But node A is unaware of this communication because node C uses omnidirectional reception. Now node A wants to communicate with node C, so it will transmit directional RTS message towards node C that will collide with the ongoing transmission.

9

Figure 2.1: Hidden terminal problem Hidden terminal because of unheard RTS/CTS message: This problem arises when a node is in directional communication with other nodes. To have smooth and uninterrupted ongoing communication, it will be deaf to all other directions. Therefore, it will not hear RTS/CTS messages of the new communication. If this node, after finishing its communication, wants to communicate with the node that is already busy in some directional communication, it will cause collision. This problem can be explained with the help of an example containing nodes A, B, C and D as shown in Figure 2.2. Nodes A and D are in communication with each other. Node B wants to communicate with node C; so after sensing the medium idle, node B will transmit directional RTS message. Node A that is in the range of node B can hear this RTS message; but since it is already busy in directional communication with node D, it will not hear this RTS message. On receiving it and sensing the medium, node C will reply with CTS message. Node B, after receiving the CTS message, will transmit data packet. Now node A finishes its transmission and wants to communicate with node C, so it will transmit directional RTS to node C that will collide with the ongoing transmission.

Figure 2.2: Hidden terminal because of unheard RTS/CTS b) MAC-Layer Capture: When a node is idle, the receiver antenna is in omnidirectional mode because it is not aware from which direction it is going to receive RTS message. Whenever it receives any packet, it decodes it and checks whether it is destined for this node or not. If it is not, the node will simply drop this packet after wasting the resources. It can also lead to poor spatial reuse because for the duration it was processing and receiving the packet that was not intended for it, it was

10

restrained from receiving and transmitting in other directions. Resultantly it caused underutilization of the wireless channel. This problem is not limited to directional communication only. It appears in omnidirectional communication as well with the difference that in the case of omnidirectional communication there remains no possibility of any other communication when it is receiving any signal. In the case of directional communication different directional communications are possible because of division of the space. To discuss it in detail, consider an example containing nodes A, B, C and D. Nodes A and B are in communication, so node D is receiving the signal in omnidirectional mode. Node D overhears unwanted data signals, which it first processes and then drops after figuring out that it is not destined for it. In the meantime node C, that wants to communicate with node D, sends an RTS message to node D; but node C, that is already receiving the signal, cannot reply. This MAClayer capture problem also leads to deafness because of persistent hearing of the DATA, like here in this example, node C will not receive CTS because node D is deaf to node C. So it will double its CW and reattempt after backing off.

Figure 2.3: MAC layer capture problem (c) Head-Of-Line Blocking: In the case of directional antenna, we divide the space into M regions, where M is the number of beams of the directional antenna. This division of the space allows us to communicate in different directions without affecting the ongoing transmission in other directions or in other words increases spatial reuse. This problem arises when a node, that wants to communicate in a particular direction, but that direction is busy because of some ongoing transmission, cannot start communication in other directions. Therefore, it starts waiting and reattempting. Nevertheless, this node can start communication in some other directions that are free. This problem is caused because of the use of First in and First out (FIFO) queue. To elaborate this in more detail, consider an example having nodes A, B, C and D as shown in Figure 2.4. Nodes B and C are communicating with each other. Consider node A wants to communicate with node B. It senses the medium in the direction of node B that is busy. So it will wait until it transmits the packet to 11

node B even though it has some packets for node D that is free and is available for communication. FIFO queues are not beneficial in terms of better spatial reuse. Here, in the case of FIFO queue, if the top packet is for the busy direction, it will block possible communications in other directions. This problem can be solved if we devise a mechanism which can delay transmission of the busy node and thus allow the node to start its communication in the direction that is free and available as is done by separating the top packet in a round of failed retransmissions with their back offs so that it can be retransmitted later when its back off timer expires [2].

Figure 2.4: Head-of-Line blocking (d) Deafness: One of the main challenges we face when we start using the directional communication is to utilize the spatial reuse by dividing the space into non-overlapping communication regions. In this way we can have multiple communications in the same neighborhood where with omnidirectional antennas we can have a single communication. By using the multiple communications in the same neighborhood, we generate a situation where new problem like deafness arises. To address this problem completely, we will first have to find the reason as to why this problem crops up in the case of directional antennas. Then we will discuss the harms it can cause and different techniques available to mitigate this problem. Consider we have three nodes A, B, and C. Nodes A and B are in directional communication with each other as shown in the Figure 2.5. Now node C wants to communicate with node A, so it will send the RTS message. Node A, which is already in communication with node B, cannot respond to node C's request. Now node C will double its contention window size to find the back off period randomly. After waiting for that back off period it will sense the medium again. Since it is idle again in that direction, it will send the RTS message again but to

12

no avail and this process will continue until node A finishes its communication with node B. It happens because node C is not aware that node A is already in communication. This problem is called deafness.

Figure 2.5: Deafness problem To resolve this problem, we need to find why this does not happen in the case of omnidirectional communication. The reason is that, in the case of omnidirectional communication, whole 2-hop neighborhood is used by one communication only. So whenever there is a communication all the nodes are aware of that communication by sensing the medium physically and virtually. So they cannot communicate as long as that communication is in progress. Here the node sends control messages and the data messages omnidirectionally. In the case of directional antenna, nodes communicate control messages and data directionally, which create deafness. The harms that can be caused by deafness can cause need to be highlighted. From the previous illustration we can safely conclude that: a) The node facing deafness continues to send RTS messages and on its failure waits for the back off period. So wastage of energy resources ensues for the batterydriven devices. b) It causes longer delays. Now consider that node C, after the failure of third attempt, has very long back off time. At the very start node A finishes its communication with node B and is ready to receive the transmission but node C, which has data for node A, cannot start communication because it is waiting for the remaining time t of the back off period to expire to start new communication. After finishing the back off period, node C sends the data to node A using the RTS/CTS handshake. So in this case the data is delayed by an additional time t, which can be avoided if we can communicate the information to C that nodes A and B have finished their communication and are ready to receive data. c) Now consider the scenario where node E, which has some data to communicate to node A, sends RTS message. Node A is free to communicate after finishing its

13

transmission with node B. So it replies to node E with CTS message; whereas node C has to wait further for time t to finish its back off waiting period before it can start new communication. Hence deafness can produce node-level unfairness.

Figure 2.6: Unfairness due to deafness d) It can create deadlock situations. This problem arises in the case of directional communication because the nodes sense the medium directionally, a prerequisite of the directional communication. To elaborate, consider an example having four nodes A, B, C and D, where nodes A and B are in directional communication and node C wants to communicate with node D. So they start directional communication after handshake; but node B is also in the range of that communication, so it affects that ongoing communication. Therefore, in directional antennas, to avoid this, the node senses the medium in directional mode. Nodes also back off in the directional mode if they know the direction of the destination node. This back off in the directional mode causes the deadlock problem. Consider an example containing nodes A, B, C, D and E to illustrate this. Nodes A and B are in communication and node C has some data for node A and is directionally backingoff. Now node D wants to communicate with node C. Since node C is backing off in the directional mode, it cannot respond to the RTS message sent by node D. So node C is completely deaf to node D. Now node D is also in directional back off mode. If another node E wants to communicate with node D, node D is completely deaf to node E and so on. This creates a chain of nodes, which cannot communicate except the one that is already in communication. This situation is called the deadlock situation [6].

14

Figure 2.7: Dead-lock situation due to deafness e) Deafness in MAC layer adversely affects the performance of the higher layers e.g. when the retry, because of deafness, reaches its maximum limit, it causes link failure encouraging the upper layers to find alternative route; whereas the best route which is one hop away is failing just because of deafness. So deafness results in selection of the route that is multiple hops away and has very poor route metric. So it can result in poor upper layer performance. This happens because affected node cannot distinguish between deafness and collision.

Possible circumstances that can create deafness:
Deafness is caused when the source node is not aware that its destination node for that particular transmission is already engaged in directional communication with another node. This situation can appear in a number of ways. Following few possibilities are discussed below [7]:  Destination is engaged in communication;  Persistent hearing of data;  Precautionary deafness at the receiver; and  Unheard RTS/CTS. Destination is engaged in communication: The most common case is the one where the destination node is busy in directional communication with some other node and the source node is not aware of this communication because whole communication is directional i.e. RTS/CTS/DATA/ACK is directional. This does not leave any possibility for the new desired source node to be aware of that particular communication. We can illustrate this with the help of an example. Consider a case having three nodes A, B and C, where nodes A and B are already in communication and node C wants to communicate with node A, so it sends RTS message. This RTS message can be either omnidirectional or directional depending upon whether node C is aware of DOA of node A or

15

not. If node C is aware of the direction of node A, it will send directional RTS message; otherwise it will be omnidirectional. But node A is already busy, so it will not reply. Since node C is waiting for CTS message from node A whose timer has expired, it will double its contention window (CW) and select randomly a back off timer from that contention window. Node C will wait for that back off period and send RTS message again. This process will continue until it results in successful transmission or retry reaches it maximum limit.

Figure 2.8: Example of deafness Persistent hearing of Data: If a node is in the range of directional communication between two nodes, the node will set its DNAV accordingly upon receiving the RTS/CTS message. When it receives data its beam is formed in that direction and it becomes deaf to all the communications in other directions. To explain this, consider that we have nodes A, B, C and D, where node A wants to send data to node B. So it sends RTS message containing DNAV information. Node C that hears this RTS message sets its DNAV. Upon receiving the RTS message, node B replies to node A with directional CTS message. Node C hears this CTS message containing DNAV information, so it updates its DNAV for that particular direction. Node A, after receiving the CTS message, sends data directionally. Now node C is aware of this communication but it still goes into directional mode for that data and is deaf to all other directions. Node D wants to communicate with C, so it sends RTS message to node C but node C cannot reply node D's request for the duration AB communication is in progress. Here node C has nothing to do with that data communication. It results in poor performance.

Figure 2.9: Example of deafness because of the persistent hearing of data

16

Precautionary deafness at the receiver: The node, on receiving RTS message, detects by checking its DNAV that this new communication can collide with the ongoing transmission; so it doesn't reply with CTS message. But the node sending the RTS message is not aware of this communication, so it will double its contention window, randomly select its back off timer and then resend the RTS message. This process will continue until the DNAV at the receiver for that particular direction expires. To elaborate it in more detail, consider an example containing four nodes A, B, C and D, where nodes A and B are in communication and nodes C and D are aware of this communication and have updated their DNAV. At node C antenna beam 3 is for node A and is busy for the duration set in DNAV. Similarly beam 1 is for node B and is busy for the duration set in DNAV for that direction. Except that all other beams are free for communication. Assume that node C is aware of node D's direction, so it directly sends RTS message in that particular direction. At node D beam 4 is set for node B and it is busy for that DNAV period. Node D receives that RTS message of node C from beam 4. As we already know that beam is busy and cannot be used for DNAV period, so node D does not reply node C's request with CTS message. But node C is not aware of this, so it keeps sending the RTS messages after doubling the back off until it succeeds or its reattempts reach the maximum limit.

Figure 2.10: Example of precautionary deafness at the receiver Unheard RTS/CTS: Two nodes are in directional communication with each other, so they have a beam formed in that particular direction and are deaf or unaware of any new communication started during their directional mode. To illustrate this, consider an example containing four nodes A, B, C and D, where nodes A and B are already in communication. Node C has some data for node D and they have a beam formed for each other after proper RTS/CTS handshake. Node A, after finishing its communication with node B, has some data for node C. Since it is unaware of the communication going on between nodes C and D, it will send RTS message towards node C but

17

will not receive any reply because node C is already busy in other direction.

Figure 2.11: Example of deafness because of unheard RTS/CTS Now we know that the reason for deafness is that the node is unaware of the ongoing transmission of its desired receiver. So to solve the deafness problem, we need to ensure that: a) Node is aware that its destination node is already in communication; and b) Nodes must keep on using directional communication to retain the benefit of the spatial reuse. Major problems of the packet collisions, in the case of directional communication, are caused by hidden terminal and deafness. Now question arises how to distinguish between collision and deafness because symptoms of the both are same. Answer to this question is very important because actions required to handle the failures in both the cases are different. If the reason of a particular failure is collision then, to provide better quality, the higher layer needs to find alternative path after reaching the maximum retry limit; but in the case of deafness, we only need to wait until the receiver is free to start new transmission because there is nothing wrong with this path. This confusion, in the worst case scenario, forces the higher layer to find an alternative path by rejecting the best and shortest path when the retry reaches its maximum limit if the receiver node is busy in a long transmission.

Figure 2.12: Directional MAC Protocols

18

2.4 Literature Review:
In this chapter, I intend to review brief survey of contention-based MAC solutions and distributed scheduled MAC solutions to address the deafness and hidden terminal problems. In the case of contention-based MAC solutions, generally the objective is to inform the neighboring nodes about the directional ongoing transmission without affecting the spatial reuse. Different solutions are available to achieve this objective in contention-based MAC protocols. We can classify these into non-busy-tone based solutions and busy-tone based solutions. I have studied both the variants one by one to see how they rectify these problems. I have reviewed a number of non-busy-tone based and busy-tone based protocols that use directional communication for exchanging control messages. Juxtaposed study of non-busy-tone based MAC protocols (CRCM [8], CRDMAC [9], CDR-MAC [10] and MDA [11]) helped me immensely in analyzing their effectiveness for resolving the deafness and the delay problems in circular transmissions. In CRCM and CDR-MAC, circular directional transmissions of the RTS and the CTS message are used to cover the whole circular area. Difference between the two is that in CRCM the circular DRTS and DCTS are transmitted in such a way that their communication regions are non-overlapping that is helpful for saving the energy resources. But the problem of additional delay caused by sequential circular transmission of the DRTS and DCTS messages haunts both the protocols. In the case of the MDA, the concept of nonoverlapping DRTS and DCTS is used to save the energy and to reduce the deafness area. Main difference between CRCM and MDA is that in the case of MDA additional DOD-RTS and DOD-CTS messages are exchanged to inform the neighbors about this new communication. These messages are transmitted after successful directional exchange of the RTS and CTS messages. In order to reduce overall delay, DOD-RTS and DOD-CTS messages are transmitted simultaneously. The most sophisticated attempt to reduce the delay of the circular transmission is made in CRDMAC. Here, the deafness problem is resolved by transmitting RTR message in all directions indicating to the neighbors that it is now free for new transmission. Therefore, the node willing to commence communication with that node will restart its back off timer after selecting it from the range [0,CWmin]. This particular solution is both simple and effective for resolving the deafness issue by lowering the exponential back-off timer; but it does not help the node in terms of avoiding reattempts before hearing RTR message. Since this protocol only transmits the RTR message by using the circular directional transmissions, it does not generate

19

any additional delays. So based on the circular transmissions and extra control messages, the additional delay is CRDMAC < MDA < CRCM < CDR-MAC. The CDR-MAC is the most effective for resolving the deafness issue on the basis of the number of transmissions. The MDA and CRCM have more or less the same effect, while the CRDMAC is the least effective in this regard. Two solutions are available to resolve the hidden terminal problem caused by asymmetric gain. In the first solution, the directional antenna is used to transmit either the directional RTS or the directional CTS sequentially in all directions. This solution is effective for resolving the hidden terminal problem caused by the asymmetric gain but it suffers from the disadvantage of additional delay. Therefore, it is not suitable for the applications that are delay sensitive. The second solution is predicated on simply increasing the transmission power of the omnidirectional antenna to cover the range of the directional antenna. In non-busy tone based protocols namely DMAC [12] and AN-DMAC [13], DMAC is one of the pioneer protocols to use the directional antennas for ah-hoc wireless networks at the data link layer. In DMAC, the authors analyzed the effects of using the omnidirectional and the directional control messages. The main drawback of DMAC is that it doesn't address deafness problem, which severely affects the performance of directional communication. In the first place, the authors proposed to use the DRTS and OCTS but it adversely affected the spatial reuse at the side, which used the omnidirectional communication. So to resolve it they suggested the use of directional or omnidirectional communication conditionally for the RTS. Owing to the use of the directional antenna, the throughput of the DMAC is higher than that of the IEEE 802.11; but since it does not address the deafness issue at all, improvement in throughput is not so worthwhile. In the AN-DMAC, an interesting and new idea has been introduced to resolve the deafness problem. Each node checks its queue and finds out the nodes with which it will start transmission in future i.e. finds out the potential receivers and informs them about this future data transmission using AN message. The potential transmitter always informs the node from which it has received the AN message about its new communication by using the A-RTS or ACTS messages. This solution of the deafness problem is very effective but the additional messages and the consequent delay caused by them make it unsuitable for the delay or energy sensitive applications. The concept of the use of the busy tone messages to resolve the hidden terminal or the exposed terminal problem in the case of omnidirectional wireless communication is very old.

20

Therefore, in order to make the instant study on the deafness and hidden terminal problems comprehensive, I have also reviewed the busy tone based MAC protocol, the one that uses the busy tones for indicating to the neighbors about the ongoing transmission in that particular direction. There are different solutions available, which use different busy tones in different ways to achieve this objective. But they are very energy expensive because the nodes are required to transmit the busy signals continuously. In DBTMA/DA [14], the authors discussed the use of the directional and omnidirectional busy tones and concluded with the help of the simulation that if the busy tones are sent omnidirectionally, no other communication is possible in the neighborhood that is receiving these tones. Hence there can be no spatial reuse. The directional busy tones offer the best solution in this regard because their use increases the reuse ratio. In the case of ToneDMAC [15], the node, after finishing its current data communication, sends the busy tone message in all directions to inform the neighbors that it is now free for new communication. But the busy tone is passive. Since it does not contain any information, it is very difficult to identify the node that has transmitted the busy tone message. The authors of this protocol used a very complex method that used a tuple containing the frequency and the duration of the busy tone to find the node ID. Even then it is not so effective in finding the node ID. The authors of the CRDMAC protocol improved this concept by using the non-busy tone based protocol to address the problem of finding the node ID. They simply used an additional message RTR containing the node ID. The ATB-DMAC [16] uses a combination of the busy tones to indicate to the neighbors the direction of the ongoing transmission. It is very complex and energy expensive. The DSDMAC [17] uses a very elegant and simple method to resolve the deafness problem. It uses two busy tones. One of them is used to identify whether the packet failure is because of deafness or the collision. The DSDMAC outperforms the ToneDMAC in terms of the delay and the throughput. From above review of contention based directional MAC solutions I have derived the following key points which will ensure better efficiency of directional MAC protocol: 1) For spatial reuse, the DATA/ACK must always be exchanged directionally. 2) For better spatial reuse, the busy tones, if used, should be transmitted directionally. 3) In order to avoid the deafness because of the persistent hearing of the data, the receiver should block the direction from where it has received the DRTS not destined for it. 4) The receiver should not block the direction from where it has received the DCTS so that

21

it may hear the control messages, which can help to avoid future deafness or starting of new transmission. 5) In order to avoid deadlock situations, the node, after transmitting the DRTS, should be in the omnidirectional mode to receive data from other directions. 6) Busy tone based protocols are very energy expensive for both transmitters and receivers. The transmitter transmits the busy tones continuously for the whole duration it is engaged in the communication. In addition, since the busy tones are passive i.e., they do not contain any information about the duration of the communication, the receiver has to sense the medium continuously to find out when it will be available for new communication. Therefore, they are not suitable for the applications which have limited energy like wireless sensor networks. In this thesis I intend to explore the use of distributed scheduled MAC algorithms to address the challenges mentioned in the problem statement while utilizing the benefits of directional communications. In this section, I intend to review different approaches of omnidirectional distributed scheduled MAC protocols that are most effective in terms of energy saving. Thereafter I shall review the distributed scheduled directional MAC approaches available. Although the use of directional antenna raises some new problems that are totally different from that of omnidirectional MAC protocols yet the reason of reviewing omnidirectional scheduled MAC is to create a basic framework which addresses the structural issues of TDMA based distributed scheduled MAC protocols that are common in both the directional and omnidirectional distributed scheduled MAC protocols. The second reason of reviewing omnidirectional distributed scheduled energy-efficient MAC protocols is that according to the best of my knowledge, the use of directional antenna for energy efficient TDMA based distributed scheduled MAC protocols is an unexplored research area. This is because I could not find any TDMA based distributed scheduled MAC protocols, which are energy efficient and use directional antenna at the same time. To find the optimum schedule in case of centralized scheduled MAC, most commonly used techniques are graph coloring and gaming theory. In these approaches, the center server or the sink collects topology information from the whole network and then constructs the conflict graph. Using these conflict graphs, the sink tries to optimize the schedule by finding the Nash equilibrium or by finding minimum number of colors (i.e. time slots) where the conflicting nodes

22

are assigned different colors. These both techniques are NP-hard and normally heuristic approaches are used to find the optimum solution. Major issues associated with these centralized approaches are: these are complex, time consuming, not traffic adaptive and most importantly are centralized. To address the single server and scalability issue where single sever has to process a large amount of data to find the optimum solution, divide and conquer rule is used and the network is divided into small clusters consisting of cluster heads and cluster nodes. In each cluster, nodes send the traffic information to the cluster head that processes this relatively small traffic data to find the optimum solution. Major debilitating drawback of cluster specific approaches is that cluster heads that have limited energy consume more energy than the other nodes. So they drain their energy more quickly than the other nodes. Commonly used solution to address this energy problem is to change the cluster heads after certain periods of time. Using divide and conquer rule, the most basic approach is to use completely decentralized solution where each node after collecting information from its 1-hop neighbors calculates and follows its own schedule. There are two versions of the decentralized energy efficient scheduled MAC: first, where nodes schedule their sleep and wake period but use contention based MAC to transmit packets in the wake period; second, where nodes calculate their sleep and transmission schedules and use TDMA i.e. time slotted communication structure. Now I am going to review the research done in both these variants one by one with the aim to extract some general key points that will be helpful in developing an effective energy-efficient scheduled MAC protocol. The basic idea behind SMAC [18] is that the nodes schedule their sleep and awake periods to reduce the idle listening which is 50-100% of the energy required for the receiving. When a new node joins a network, it looks for the SYNC packet. If it receives the SYNC packet from neighboring node, it follows the schedule present in SYNC packet. But if it does not receive any SYNC packet for a certain period of time, it considers itself synchronizer and makes its own sleep schedule. It then broadcasts its schedule using SYNC message. The neighboring nodes, being the followers, receive this message and follow that schedule. This creates different virtual clusters that share common sleep and wake schedules in the whole network. Each node maintains schedule tables that store the sleep period of each neighbor and following these schedules, nodes contend for medium access using IEEE 802.11. Each node uses NAV present in RTS and CTS messages to adjust its sleep period to avoid overhearing of the ongoing communication in the neighborhood. Major issue with SMAC is that its sleep period is not traffic adaptive which at

23

higher data rates reduces the contention period. So it results in more collisions. At lower data rates it increases the idle listening and overhearing. Also it introduces the sleep latency that increases the end-to-end packet latency. The active and sleep periods are fixed in the case of SMAC and are traffic independent which results in constant idle period; whereas in the case of TMAC (Timeout MAC) [19], the active period is variable and traffic adaptive. In TMAC, nodes addition method, schedule establishment method and the method to resolve overhearing problem are the same as in SMAC. In TMAC at the start of each wakeup, the node senses the medium for TA period and then goes to sleep mode if it does not hear any packet. TA period should be sufficient enough to detect the start of CTS message of ongoing communication in the neighborhood. The node queues the outstanding packets and sends them in the form of a burst at the start of each wake period if it wins the medium after contention. After transmitting its burst and sensing the medium for TA period for any transmission from neighbor, it goes to sleep mode. In this way nodes can adjust their active periods according to the traffic. TMAC reduces the idle listen by limiting the minimum idle listening to TA and by transmitting all the packets in the form of burst. TMAC is 5 times more energy efficient as compared to SMAC but it increases latency. Besides, TMAC suffers from early sleep problem. Dynamic SMAC's (DSMAC) [20] basic operation is same as that of SMAC. Difference between the two is that in the case of DSMAC, the node can adjust its duty cycle while keeping the balance between energy consumption and 1-hop latency. In DSMAC each node calculates average 1-hop latency and energy consumption level and then using these two metrics it adjusts its duty cycle. If 1-hop latency is higher than the threshold value, it doubles its active period. But if its energy consumption level is higher than its set threshold, it doubles the sleep period. After adjusting its duty cycle, it broadcasts its duty cycle using SYNC message in the SYNC period. SYNC message contains an extra field called duty cycle to carry this new duty cycle information. Data packet contains delay field in its header where it stores the 1-hop latency, which is the difference in time when packet comes into its queue and is successfully transmitted. Nodes receive this new SYNC message and adjust their duty cycle if they have some outstanding packets; otherwise they simply update their schedule table. DSMAC provides minor improvement in latency for higher data rate. In U-MAC [21], the nodes adjust their duty cycle depending upon the utilization of the

24

active period of the nodes and the delay experienced by the packet. Like DSMAC in U-MAC, the nodes send the delay of the packet using the DATA packet header. Difference between the two is that, to calculate the total delay experienced by the packet, the receiving node also adds the delay experienced by the sleep period. In U-MAC, to adjust its duty cycle, each node also calculates the utilization of the node. If the node's utilization or delay is higher than the maximum utilization or delay threshold, it means the node requires more active period to keep the current traffic within delay constraints. So as a result the node will increase its duty cycle by a certain ratio. If the utilization or the delay is smaller than minimum threshold, the node decreases its duty cycle to save energy. During this whole duty cycle optimization process, to keep the protocol energy efficient, the duty cycle of the nodes should be within the limit of maximum and minimum duty cycle thresholds. Data gathering MAC (DMAC) [22] is especially designed for data gathering applications where the source nodes send packets to the sink periodically. In DMAC nodes adjust their schedules in such a way that nodes which are more hops away from the sink wake up early as compared to nodes which are less number of hops away from the sink. In this way, nodes can have continuous flow of the packets from the source to the sink. It minimizes the latency by removing sleep latency. It also helps to reduce the number of contending nodes in the wakeup period. Second salient feature of this protocol is that it adjusts the duty cycle according to traffic during the active period. In DMAC, nodes do not use RTS/CTS handshake due to small size of the data packets but ACK message, after the successful reception of DATA packet, is used. These DATA/ACK message headers contain an additional flag called more data. Whenever a node requires more than one active period to transmit the data, it will simply set the more data flag in the DATA packet and the receiving node will increase its active period by one after receiving that DATA packet. The sending node will increase its active period by one only if it receives the more data flag set in ACK message. This method of adjusting the duty cycle is faster than that of TMAC and DSMAC where the nodes adjust the duty cycle periodically by using SYNC message. Here in DMAC, the nodes always start with minimum active period and adjust it in the case of more traffic by using the more data flag in DATA/ACK message. Query based MAC (Q-MAC) [23] is another variant of S-MAC where nodes adjust their duty cycle based on the query generated by the sink to provide minimum latency and energy consumption. Q-MAC is specially designed for data-gathering applications where sink sends the

25

query request for the sensor or group of sensors. In these cases, nodes build up a data-gathering tree that is helpful to make an efficient sleep schedule. Like D-MAC, the nodes, in Q-MAC, schedule their sleep period based on the depth of the data-gathering tree. The difference between the two is that in the case of query generated from the sink in Q-MAC, each node on the query path dynamically adjusts its wake period to handle the query. Each node follows static sleep schedule if there is no query and follows dynamic sleep schedule if there is a query generated by the sink. In the case of static sleep schedule, the nodes, which are closer to the sink, i.e., have less hop count wake up earlier than the nodes away from the sink, which have more hop count. In this case neighboring nodes have overlapping wake period to communicate with each other but this period is static. If the sink generates a query, the nodes follow the dynamic sleep schedule that is classified into two cases based on its operation. In case-1, the node is not aware of the location of the destination sensor node. Therefore, the node will not go to sleep mode until it receives the packet from the destination and routes it towards the sink. In case-2, the node is aware of the destination location in terms of hop counts. Therefore, it schedules its sleep in such a way that it will wake up at the time when the neighbor wants to send the received packet targeted towards the sink. Q-MAC provides 80% improvement in the latency over SMAC. In Pattern MAC (PMAC) [24], nodes create the wakeup schedule based on their traffic pattern and the traffic pattern exchanged by the neighbors. PMAC manages the time slots by dividing them into super frames. These super frames are then divided into two frames: Pattern Repeat Time Frame (PRTF) and Pattern Exchange Time Frame (PETF). PRTF is used to exchange the data and it consists of N time slots (TR). Each TR is sufficient enough to transfer the complete RTS/CTS/DATA/ACK handshake. The value of N should be adjusted such that it maintains a balanced tradeoff between latency and energy saving. PETF is used to exchange the traffic pattern with neighbors and it consists of number of time slots (TE) sufficient enough for all the neighbors to exchange their traffic patterns. In order to create these traffic patterns, the node will start by setting each bit to 1 in the first PRTF considering the network has heavy load. After that it will adjust its pattern using exponential increasing approach according to its current load and will exchange that pattern with PETF. Nodes will create the sleep schedule after gathering their neighbors' schedules and will use that schedule in PRTF to transmit data. For lighter load, PMAC is more energy saving than SMAC; whereas for heavy load, it provides more throughput by adjusting the sleep period according to its neighbor's traffic.

26

In all the above reviewed energy efficient MAC protocols, nodes save energy by scheduling their wake and sleep periods to reduce the idle listening and overhearing. In these protocols, nodes use the contention-based approach to access the medium in the active period. In order to increase their energy efficiency and reduce the latency, the above-reviewed approaches [18-24] adjust their active periods according to the current traffic conditions. Even after making sleep period traffic adaptive, these distributed scheduled wakeup MAC protocols suffer from excessive latency issue. Packet drops because either the receiver is in sleep mode or because of collision. According to the best of my knowledge, the issues of scheduled wakeup MAC protocols are addressed most efficiently where nodes use TDMA based communication instead of contention based MAC to provide collision free communication. The nodes create wakeup and transmission schedules and as a result this solution removes the idle listening and overhearing. Now in the following paragraphs, I am going to analyze this solution in detail by reviewing the research done in it. Node-Activation Multiple Access (NAMA) [25] protocol is a distributed scheduled TDMA based MAC protocol. Time is divided into small units called time slots in NAMA and is managed in such a way that Tp number of consecutive time slots is called a part. Ps number of consecutive parts is called a section and Sb number of consecutive sections is called one block. NAMA uses neighbor-aware contention resolution (NCR) to produce a consistent conflict free schedule. The basic idea behind NCR is that if we have a contender set Mi and node i is the winner of common medium then all the contenders in set Mi U {i} must also have node i as the winner. To provide conflict free transmission in the case of ad hoc wireless network, we need to devise a solution that provides one communication in 2-hop neighborhood i.e., in this case, the contending set Mi must contain all 2-hop neighbors of node i. To gather 2-hop neighbor information, nodes exchange their 1-hop neighbor IDs using data frame header along with data payload. Using that neighbor information, each node calculates contender set Mi where  = 1  2 , 1 is a set of 1-hop neighbors of node i and 2 is a set of 2-hop neighbors of node i. To calculate priority, each node uses the pseudo-random generator with x as the seed. Nodes will take only the first value of this uniformly distributed random number stream that is always the same for one seed value. Node i calculates the priority of each node in the contender set using the following formula;
 Priority for node k at time slot t= =  (   )  ,   Mi U {i}

27

where rand(x) produces a uniformly distributed random number by using seed x. For same values of k and t, i.e., same value of seed, this formula produces same priority for node k in all the nodes of the contender set Mi and this consistency of priority of node k in all contenders of node k helps to produce the consistent schedule in 2-hop neighborhood. After calculating the priority for each contending node, node i calculates its winning slots, the time slots for which node i has highest priority among all its contending nodes in set Mi. In 2-hop neighborhood, each node has same neighborhood and priority information, which results in only one winner node for one time slot in 2-hop neighborhood that yields collision free transmission. NAMA produces a good collision free schedule but it generates a new problem called the inconsistency problem that will be explained in detail while explaining TRAMA. NAMA is not energy efficient because in it nodes do not create their sleep schedules. Also it is not traffic adaptive. The salient contributions of TRAMA [3] are: it makes the NAMA energy efficient, traffic adaptive and also solves the inconsistency problem. In TRAMA, nodes determine their state in such a way that only the nodes that are not in transmit or receive mode can switch to sleep mode. In TRAMA, the nodes also give-up their winning time slots if they win extra time slots. TRAMA consists of three major blocks: neighbor protocol (NP), schedule exchange protocol (SEP) and adaptive election algorithm (AEA). In TRAMA, for management purpose, time is divided into two periods: random access period and scheduled access period. Both these periods are time slotted. In the neighbor protocol, nodes use random access period and use slotted Aloha. Random access period is used by new nodes to join the network. It is also used to build up 2-hop neighbor information. In this period, nodes randomly select any time slots and transmit their neighbor information using the signaling message. Random access period is collision prone. So to provide reliability of up to 99%, each node exchanges signaling messages 7 times with retransmission interval of 1.44 ×  , where N is the average number of 2-hop neighbors. This results in the length of the random access period to be equal to 7 × 1.44 ×  . The nodes, by using the signaling messages, exchange their 1-hop neighbors. These signaling messages are incremental. Besides they are used as the keep-alive message. In random access period, all the nodes are either in transmit or in receive mode. The duration between two random access periods depends upon the network type. If the network is more static, this duration period is larger than the one if the node is more dynamic. This random access period is energy expensive. So it is set carefully to save the energy. In schedule exchange protocol, nodes calculate their schedule interval on the

28

basis of their higher layer data rate. After calculating schedule interval, the node u calculates its winning time slots for that interval using the following formula:(, ) = (  ) Nodes calculate their schedule by using the bitmap for each receiver because nodes are already aware of the addresses of neighboring nodes in neighbor protocol. If the node has lesser number of packets in the queue than that of the winning slots, it uses zero bitmap for those winning time slots. In this way node gives-up the extra time slots so that the nodes in 1-hop neighborhood can use them. After calculating this schedule message, the node uses its last winning time slot to broadcast its schedule for the next frame. Nodes, after receiving the schedule from its 1-hop neighbors, decide whether they should switch to sleep or receive mode. TRAMA resolves the inconsistency problem. Now, I shall first explain the inconsistency problem and then its solution provided by TRAMA. To explain the inconsistency problem, consider four nodes A, B, C and D. They have priorities as shown in the Figure 2.13 for time slot=t. According to NCR if the node has the highest priority in its contending set (CS), it can transmit its data packet, () = {2()  1()  }, where N2(u) and N1(u) are the 2-hop and 1-hop neighbors of node u. Here, contender set of node A=CS(A)={A,B,C}, CS(B)={A,B,C,D}, CS(C)={A,B,C,D} and CS(D)={B,C,D}. In their queues, nodes A, B, C and D have outstanding data packets for nodes B, C, B and C respectively. Node D has the highest priority in CS(D). So D schedules the packet towards C. Node C knows that node D has the highest priority in CS(C) and node D has the packet scheduled for C, so C will be in the receive mode. Node B knows that node D has the highest priority in CS(B) and node D does not have any packet scheduled to node B, so node B will switch to sleep mode. Node A has the highest priority in its contender set and schedules the packet towards B. But as discussed earlier the receiving node B is in sleep mode, so the packet AB is dropped. This is called inconsistency problem. To resolve this problem, each node will calculate absolute winner (tx) and alternate winner (atx). Absolute winner (tx(u)) for node u is the one that has the highest priority in the contender set (CS(u)) and the alternate winner (atx(u)) for node u is the node that has the highest priority in set {1()  }. Here, () = () =  , () =  and () =  , () = () =  and () = () =  . After calculating tx(u) and atx(u), node u will check the schedules of tx(u) and atx(u) before switching to sleep mode. Now node B will check the schedule of the alternate winner that is A. It will switch to receive mode and will receive the packet form node A successfully. TRAMA achieves

29

higher throughput and higher energy efficiency than SMAC. TRAMA suffers from the drawback of producing longer end-to-end delays.

Figure 2.13: Inconsistency Problem Example FLAMA [26] is specially designed for data-gathering applications. In these applications, the sink sends the query request to the sensors to sense the environment and to send the gathered data to the sink. Based on this query, sensor nodes build up the tree with the sink at the root. These query requests are mostly periodic. So nodes can predict their traffic. In FLAMA, nodes exploit this traffic pattern of data-gathering applications and determine the number of the flows required. Each node has incoming flows from its children. Since the nodes perform data aggregation, they have one outgoing flow to their parent. In FLAMA, for management purpose, time is divided into two periods: random access period and scheduled access period. Random access period is contention-based; whereas the scheduled access period is time slotted. Random access period is used for neighbor discovery, time synchronization, and data-gathering tree formation and for exchanging flow and weight information. The basic idea behind FLAMA is that the nodes having more flows or higher data rates are assigned more time slots as compared to the nodes, which have lesser number of flows. To achieve this objective, the node calculates the number of flows during the random access period and exchanges that with its neighbors. In this way each node will have neighbor and flow information of its 2-hop neighborhood. The node calculates its weight based on the number of the required flows. This weight is directly proportional to the number of flows. Nodes exchange this weight information during the random access period. In the schedule access period, the nodes use distributed election algorithm to determine the nodes' schedule and the mode of operation. Each node can be in transmit, receive or sleep mode for any time slot. Each node uses the following formula to calculate its priority:(, , ) = ( + ) +  ×  where C is a constant multiplier and weight is the weight of node n. Node calculates the priority of each node in its 2-hop neighborhood to avoid collisions due to hidden terminal problem. The 30

node having highest priority is the winner of that time slot. So it is in the transmit mode; whereas the node which is the receiver of that winner is in receive mode. If the node is neither in the transmit mode nor in receive mode, it is in the sleep mode. In FLAMA, to solve the inconsistency problem, if the winner is in its 2-hop neighborhood then, to avoid the packet drop because of this inconsistency, the node senses the medium for a short period of time at the start of each time slot. If the node hears a packet, it switches to transmit mode; otherwise it switches to sleep mode. In FLAMA queuing, delay is 75 times lesser as compared to that in TRAMA. FLAMA also provides higher packet delivery ratio than TRAMA. I have extracted the following key points from this omnidirectional distributed scheduled MAC review, which are helpful to save the energy at MAC layer: 1) Energy efficient MAC protocol should be traffic adaptive where nodes exchange and process scalable amount of control data. 2) The idle listening, overhearing and control overhead should be minimized. 3) Traffic schedule should be created using the traffic information to minimize collisions and interference. 4) The sleep and wake schedules should be created using the neighboring traffic information that maximizes the sleep period. 5) Traffic and Sleep schedules created in step 3 and 4 should be traffic adaptive. 6) To maximize the network lifetime, the energy consumption must be balanced in the whole network. Now I shall review some distributed scheduled directional MAC protocols. In these protocols, the major objective of scheduling the wireless medium is to resolve the deafness, head of line blocking and hidden terminal problems. These protocols are not energy efficient because they don't schedule their sleep period to reduce idle listening and overhearing. Besides they are not traffic adaptive. DOA-MAC [27] is a very simple MAC protocol that uses the slotted aloha model to access the medium. In this protocol, time is divided into time slots and each time slot is further divided into three minislots. Node uses first minislot to exchange a simple tone in all directions so that neighboring nodes can calculate direction of arrival (DOA) for each neighboring node. In this way, to communicate with a particular node, the node will use the beam in that particular direction and will also place its nulls in the DOA of other neighboring nodes so that this new

31

transmission may result in minimum interference for the neighboring nodes. The node uses the second minislot to transmit the data packet. The neighboring node, after receiving the data packet, will drop this packet if it is not destined for it; but if the packet is destined for it, it will use the third minislot to send the ACK message. If the transmitting node does not receive the ACK message either because of collision or any other reason, it will retransmit the packet. This protocol besides being energy inefficient is also prone to collisions. In Synchronized Directional MAC Protocol (SYN-DMAC) [28], for management purpose, time is divided into three phases: random-access phase, data phase and ACK phase. This division of time is used to handle the deafness, hidden terminal and head of line blocking problems. Each node can be in any of the three modes: sending mode, receiving mode and pending mode. A node will be in sending mode if it has agreed with its receiver viz-a-viz the directional communication in the data phase which will be in receiving mode. If the node is neither in transmit nor in receive mode, it will be free for communication, i.e., will be in pending mode. If a node has some data to transmit, it will first contend for the channel using IEEE 802.11 DCF contention mechanism. If the node wins the medium, it will send the directional RTS message towards its intended receiver. The receiver will check its mode if it is in pending mode. Then it will reply back with directional CTS message and the sender and receiver of this reservation will switch to sending mode and receiving mode, respectively. But if it is not in pending mode, it means the node is already reserved in directional communication in the data phase. So the node will reply back with negative CTS (NCTS) message. The neighboring nodes will overhear this RTS/CTS message. So they will block the beams from which they have received that RTS/CTS message. Neighboring nodes can reserve data in the data phase of the same cycle using the available unblocked beams. In data phase, the nodes that have successfully reserved the data phase simply send the data and the receiving nodes reply with acknowledgement in ACK phase to confirm the transmission. SYN-DMAC throughput is much higher as compared to omnidirectional IEEE 802.11. In Reservation-based Directional MAC (RDMAC) [29], time is managed by dividing it into two periods: reservation period and transmission period. In reservation period, after contention, the nodes will reserve the medium for data transmission in the upcoming transmission period. The reservation period can be further subdivided into two phases: probing phase and beam-indication phase. In probing phase, a node, after contending for the channel, will

32

transmit the ORTS message. In the case of collision, the nodes will back off using the IEEE 802.11 DCF back off mechanism. The node will reply with OCTS message if the packet is destined for it. Other nodes overhear these ORTS/OCTS messages that contain the DNAV (directional network access vector) indicating the time duration for which the particular direction will remain busy for that communication. This information is stored in the busy table maintained by each node. The nodes, after receiving ORTS message, calculate direction of arrival (DOA) of each neighboring node and store it in the DOA table that is used later on for directional transmissions. In beam-indication phase, the node uses busy table to determine whether the required direction is busy or not. If the direction is busy then to solve the head of line blocking and deafness problems, the node will find other packet in the queue destined towards non-busy direction. If the node finds the packet, it will send the DRTS message to the receiver having nonbusy direction in busy table, which replies with DCTS message. These DRTS/DCTS messages are exchanged to reserve the medium for the transmission in next transmission phase. Node will send DDATA/DACK packet in the transmission period. In RDMAC, average throughput and delay are much better than in CDRMAC and IEEE 802.11 DCF. However, RDMAC is not energy efficient. In Link Schedule for Directional Antenna (LiSL/d) Protocol [30], time is managed by dividing it into frames. Each frame consists of 3 sub-frames and each sub-frame consists of multiple slots. Each slot is further divided into minislots. First sub-frame is used for neighbor discovery, second for data reservation and the last one for data transmission. For the first and the second sub-frames, 3-way handshake is used but contents exchanged in both the handshakes are different. In the first sub-frame, node1 simply sends message M1,1 indicating its transmit power level trn=trnmax. The receiving node2, after receiving M1,1 message, calculates its transmit power level trn1. If trn1>trnmax, node2 simply abandons the handshake but if trn1<trnmax, node2 replies with a M2,1 message indicating its power level and slots available for the second sub-frame. Now node1 will receive this message and calculate the available slots common to both nodes1 and node2 for communication in the second sub-frame. If node1 finds some common free slots, it will reply with M1,2 message indicating the free slots; but if it does not find any common free slots, it will give up the handshake process. The second sub-frame is used for reservation of the slots in data frames. Now if node1 has some data to send, it will send M1 message indicating its required number of slots and available number of free slots. Node2, after receiving this M1

33

message, will check the available number of slots in the third sub-frame. If these available slots are less than the ones requested by node1, the node will simply abandon the handshake process. But if these slots are greater than or equal to the ones requested by node1, node2 will reply with M2 message indicating the available free slots. After receiving this message, node1 will acknowledge with M3 message. But if the node1 does not have any packet to send, then at the start of second sub-frame, node1 will simply send the M1 message with required number of slots=0. It will also send free available slots considering node2 may want to communicate with node1. After receiving this M1 message, node2 will simply abandon this handshake if it does not have any packet to send to node1. But if node2 has some data to send to node1, it will calculate the common slots free for node1 and node2. If these slots are sufficient, node2 will send the M2 message indicating these common free slots. But if these common slots are less than the required number of slots, node2 will simply abandon the handshake. On receiving the M2 message, node1 will simply reply with M3 message as an acknowledgement. Now in the third sub-frame, the node will simply use the slots reserved in the second sub-frame to transmit the data packet. Packet delivery ratio of the nodes in LiSL/d is much higher than in omnidirectional IEEE 802.11. In Contention Window Directional MAC (CW-DMAC) [31], the nodes use omnidirectional communication to exchange RTS/CTS messages and directional communication to exchange DATA/ACK messages. But a disadvantage entails from using omnidirectional RTS/CTS messages. It adversely affects the spatial reuse because the neighboring nodes, which hear these control messages, will be blocked for the DNAV period. But here, in CS-MAC, the omnidirectional RTS/CTS message contains beam index, which the nodes concerned will use for DATA/ACK communication. So the neighboring nodes will block only those beams that can affect the ongoing transmission at the sender (with the help of omnidirectional RTS message) and at the receiver (with the help of the omnidirectional CTS message). After exchange of the RTS/CTS messages, the sender and the receiver will wait for the duration of the contention window (CW). The node, which sends the very first RTS/CTS message, sets the duration of this CW. Other neighboring nodes follow it. Duration of CW is  × number of control packets exchanged in previous window × time to exchange the control packets, where 1    2. Other neighboring nodes can start concurrent communications; provided firstly, their new communications don't collide with the ones already reserved and secondly, the nodes can exchange these control messages within the remaining CW duration. But if this CW duration is

34

not sufficient for the exchange of control messages or the new communication causes a conflict with the already reserved communication, the nodes will wait until the reserved DATA/ACK communication is finished. If the node receives the omnidirectional RTS message but it cannot start new communication because of the lurking chance of conflict with the reserved communications, it will inform the sender of the RTS message accordingly by using negative CTS message (NCTS). At the end of the CW, the nodes that have reserved the medium during this CW period will transmit their packets concurrently. Thus by separating the exchange of control and data communications, the nodes avoid hidden terminal problem and the collision of control and data packets. Through the use of NCTS message, the authors have resolved the deafness problem. CW-DMAC throughput is 20% higher than that of DMAC thanks to its effective resolution of deafness and hidden terminal problems. Directional Scheduled MAC (Dis-MAC) [32] is specially designed for the ad hoc wireless networks that have linear topology like the ones that are used for highway or roadside monitoring. In these applications, the nodes use the chain topology. Here, time is divided into two phases. Phase-I is used by the nodes at odd positions in the chain, i.e., the nodes at positions 2n-1 in the chain to transmit their data packets; whereas phase-II is used by the even position nodes, i.e., the nodes at positions 2n in the chain to transmit their data packets. Here,  = 1,2,3,  , /2. It represents the position of the node in the chain. Also, if the nodes at position 2n-1 are transmitting, the nodes at position 2n will be receiving and vice versa. Durations of the phase-I and the phase-II are T1 and T2 respectively and 1 = 2 =  to ensure equitable nodelevel fairness so that the nodes at both the even and the odd positions have equal chance of transmission. Because of small amount of data, RTS/CTS messages are not exchanged but ACK messages can be used for reliability. In Dis-MAC, by using this simple technique, the authors have resolved the deafness and hidden terminal problems. Here, all the nodes at positions 2n or 2n-1 transmit their packets simultaneously only in phase-I or phase-II. Therefore, per hop packet latency is T1+T2=2T. Theoretically, in the case of omnidirectional ad hoc networks using the chain topology, maximum capacity is 1/3 without interference, with interference it is 1/4 and practically this value is as low as 1/7. But here in Dis-MAC, the maximum capacity is 1/2 with or without interference. Receiver Oriented Multiple Access (ROMA) [33] operates in two modes: random access mode and scheduled access mode. The former is divided into Tnbr number of signaling slots and

35

the latter into Tsched number of time slots. In order to build consistent 2-hop neighborhood information, the nodes use these signaling slots to exchange 1-hop neighbor information with each other. In order to broadcast these signaling messages, the nodes use the omnidirectional mode of operation of the directional antenna. The gain of the directional mode is much higher than that of the omnidirectional mode. So it is assumed that the nodes use different frequencies or different power levels in both the modes such that the coverage of both the modes is approximately the same. The 1-hop neighbor ID and the weight of the incoming and outgoing links are included in these signaling message nodes. Two-fold purpose is served in this way: firstly, it is used to exchange the neighbor information; and secondly, it is used as hello messages to maintain the connectivity. In the case of link breakage with a particular node, the node uses weights of the incoming and outgoing links with that node as zero in the signaling message. Like TRAMA and NAMA, it uses slotted aloha to exchange these signaling messages. The nodes introduce random jitter to avoid collisions; still it is prone to collisions because of its random nature. No acknowledgements are used in this random access period. Now to increase the probability of delivery, the same message is delivered again and again. Through calculations, the authors found that to achieve the probability of delivery=0.99, each node has to retransmit the same message 7 times with the retransmission interval of 1.44 × , where N is the number of nodes in 2-hop neighborhood. So to achieve the probability of delivery=0.99, the random access period duration is 7 × 1.44 × . In ROMA, a node can either be in transmit mode (TX) or in receiver mode (RX). Each link can either be in active (ACT) or inactive (INACTIVE) state. In addition, each link has a weight associated with it. In scheduled access period, node i calculates the priority of each node by using the following formula:.  = (  )   Similarly node i calculates the priority of each link (u,v) using the following formula:(, ).  = (.   2)  ((    ). (,) ))     where (,) is weight of the link (u,v) exchange in random access period. After calculating node priorities, the node having odd priority is considered the transmitter for that time slot and the node having even priority is considered the receiver. Now it is quite possible that all the nodes have the same mode, i.e., all the nodes have either odd or even priority. In that case the node with the highest priority in its 1-hop neighborhood will switch its mode to opposite mode. Now for these transmitting nodes, the links that do not cause any type of contention are allowed to be

36

in active state; whereas the links that cause conflict are switched to inactive state. ROMA shows much higher performance as compared to that of UxDMA in terms of throughput and delay. But ROMA too has drawbacks because it is neither energy efficient nor traffic adaptive. In Coordinated Directional MAC Protocol (CDMAC) [34], to resolve the hidden terminal problem because of asymmetric gain, the nodes adjust their transmit power or data rate for both the omnidirectional and directional modes in such a way that transmission range for both the modes is approximately the same. To handle the deafness and other directional MAC problems, time is divided into two periods: master-node contention period and master-node coordination period. The former is used for selection of the master node while the latter is divided into three phases. Phase-I is used for contention of the slave nodes, Phase-II for concurrent data transmissions and Phase-III to exchange the ACK messages. Durations of the phases I, II and III are T1, T2 and T3 respectively. 1 =  ×  × 1 , where Tctr represents time required to exchange the control messages. It is equal to  +  +  + 2 +  . N is the number of slave nodes and C1 is an adjusting parameter. 2 = 2 ×  / , where Lmax = maximum size of data packet and Rbasic = minimum data rate. T3 = time required to send the ACK messages. At the very start the nodes are in the master-node contention period and will remain in this period until a master node is selected. If a node has some data to transmit, it will contend for the channel using IEEE 802.11 DCF. If it wins the channel, it will consider itself as the master. So it will send an omnidirectional RTS message. The intended receiver will receive this message. It will calculate the angle of arrival of this message and will reply with the omnidirectional CTS message. After receiving the CTS message and waiting for SIFS duration, the node will send omnidirectional CRTS message to reserve the beam that will be used for transmission. The neighboring nodes, which receive this omnidirectional RTS/CTS message, will mark the direction from which they have received RTS/CTS message as busy and select the node as the master. If in this neighborhood a node wants to use the medium because it has some data to send, it will consider itself as the slave and will contend for the wireless medium in phase-I of the master-node coordination period using omnidirectional RTS/CTS/CRTS message. In phase-I multiple nodes can contend for the wireless medium. They can share the medium if they do not create any collision in the presence of the schedule of the master and the other slave nodes. In phase-II of the master-node coordination period, the master and the slave nodes send concurrent data packets in the form of a burst. In phase-III, the nodes reply with ACK message for

37

confirmation. CDMAC improves throughput as compared to DMAC and IEEE 802.11 for high node density.

Table 2.1: Comparison of MAC protocols

Table 2.2: Comparison of Decentralized Scheduled Energy Efficient MAC protocols

38

3 Energy efficient scheduled directional medium access control protocol for WSN
In this chapter we first described TRAMA [3], an omnidirectional energy efficient scheduled MAC protocol for wireless sensor networks (WSN). Afterwards, we proposed DTRAMA which modifies TRAMA to make it suitable for the wireless sensor nodes equipped with directional antenna. Later on we provided proof of correction of spatial reuse checks.

3.1 Energy efficient, collision-free medium access control protocol for WSN (TRAMA):

Figure 3.1: TRAMA algorithm TRAMA [3] is based on NAMA [25] and salient contributions of TRAMA are: it makes NAMA energy efficient, is traffic adaptive and solves the inconsistency problem in NAMA. TRAMA is an energy efficient, collision free medium access control protocol where the nodes create traffic adaptive transmission and sleep schedules. In TRAMA, the nodes use omnidirectional antennas. TRAMA consists of three components: neighbor protocol, schedule exchange protocol and adaptive election algorithm. In TRAMA, time is organized by dividing it into time slots and the nodes use random access mode or schedule access mode to access these time slots. During neighbor protocol, the nodes use random access mode, which allows new nodes to join the existing network. In neighbor protocol, nodes exchange their 1-hop incremental neighbor ID to build the 2-hop neighbor information that is essential to create conflict free schedules. During schedule exchange protocol, the nodes first calculate the value of the schedule interval, which is dependent on the data rate of the higher layer. Then node i will calculate the priority of all the nodes in the contender set (CS(i)) where () = 1 ()  2 ()   using the following expression:39

() =  (   ) After node i calculated the absolute winner (tx(i)) i.e. the node that has the highest priority in the contender set CS(i), for all the time slots in the interval [t, t+schedule_Interval] , then it assigns bitmap to each receiver for the winning time slots in that interval. In TRAMA, to exchange the schedule of the next schedule_interval, the node always uses last winning time slot. To explain this, consider an example, where schedule_Interval of node i is 100. If the current time slot=1000 then it will calculate schedule for interval [1000,1100]. If the winning time slots in interval [1000,1100] are 1010, 1025, 1043, 1065, 1079 and 1098 then the last winning time slot 1098 is used by node i to exchange the schedule of interval [1098,1198]. In TRAMA, to exchange the receiver information, node i instead of exchanging the receiver's MAC address, exchanges the bitmap whose size is equal to the number of 1-hop neighbors. To explain this, I shall use an example where node i contains four 1-hop neighbors, 11, 2, 6 and 7. The first most significant bit (MSB) in the bitmap will be used by node 11 and second MSB is used by node 2 and so on. If node i wins more time slots than its requirement, it will give up extra time slots that can be used by 1-hop neighbors. In TRAMA, the nodes use schedule summary message in data packets to minimize the effect of the packet loss of the schedule message. In TRAMA, node i can be in any of the three states: transmit state (TX), receive state (RX) and sleep state (SL). During adaptive election algorithm, node i calculates its state for each time slot. Node i will be in transmit state (TX) if node i is the absolute winner and has some data to transmit or node i is the need transmitter (ntx(i)). Node i will switch to receive mode (RX) if it is the receiver of the absolute winner, alternate winner or need transmitter. In TRAMA, nodes calculate the alternate winner i.e. the node, which has the highest priority in 1 ()   , to resolve the inconsistency problem as explained in the literature review. As mentioned earlier, if a node wins more time slots than its requirement then it will use zero bitmap to indicate the 1-hop neighbors that it has given up the time slot. Need transmitter can use this given up time slot. For this purpose, node i will calculate possible transmitter set (PTX(i)). Possible transmitter set (PTX (i)) of a node i contains all the nodes that are in 1-hop neighborhood of i, which can transmit without collision. Node y, being the 1-hop neighbor of node i, can be in PTX (i) only if it satisfies the following:priority(y) > priority(x) where x must satisfy the following:x  N1(N1(y)),

40

x  N1(y), x  {N1(u) U u ­ atx(u)}. Now the need transmitter is the node, which has the highest priority in NEED contender set (NEED(i)), where NEED(i) set contains all the nodes, which have some data to transmit and also belong to x ()   . If node i is not in transmit state or receiver state then it can switch to sleep (SL) mode to save its energy.

3.2 Energy efficient scheduled directional medium access control protocol (DTRAMA)
DTRAMA is an attempt to make TRAMA, which is an omnidirectional MAC protocol, directional by proposing modifications in TRAMA. In DTRAMA, we have modified the signaling message of TRAMA so that; 1) It may contain extra beam # information which is required to perform proposed spatial reuse checks, 2) Modify the schedule message to contain essential unallocated receiver information which is used by the nodes to reuse the space by performing the spatial reuse checks and 3) Modify the adaptive election algorithm such that it contains two proposed new components: arbitration method and spatial reuse checks which provide the basic block to perform the directional communication by creating conflict free transmit and sleep schedule. Like TRAMA, in DTRAMA, signaling messages and schedule messages are exchanged by using omnidirectional mode of directional antenna but data communication uses directional mode of directional antenna and the nodes use directional antenna for both transmission and reception. In case of TRAMA, we can have one conflict-free transmission per time slot in 2-hop neighborhood but after the proposed modifications in TRAMA, we can have multiple transmissions per time slot in 2-hop neighborhood of DTRAMA which is helpful to reduce the packet latency. Owing to the use of directional antenna we can reap the benefits of directional communication which are helpful to improve the packet delivery ratio, reduce interference, minimize energy by reducing transmit power and increase system capacity and throughput etc. We proposed a scheduled directional MAC protocol to address the challenges of medium access of directional antenna, as discussed in Chapter 1 while making it energy efficient. It is based on TRAMA [3], which is a traffic adaptive scheduled MAC protocol designed for sensor network. Likewise, our proposed protocol is also traffic adaptive scheduled MAC protocol. We

41

call it DTRAMA (Directional TRAMA) since incorporates the changes necessary to support directional communication and exploit the spatial reuse feature of directional antenna. It consists of three components: neighbor protocol, schedule exchange protocol and adaptive election algorithm. Purpose of the neighbor protocol is twofold: one to build 2-hop neighbor and beam # information; second to ensure that the new nodes can join the network in this phase. In schedule exchange protocol, the nodes exchange their schedule information for the winning time slots and the receiver information for the unallocated receivers. In adaptive election algorithm (AEA), the node using the information collected in neighbor protocol and schedule exchange protocol, tries to reuse the space. It also creates its sleep schedule to increase the energy efficiency. The neighbor protocol and schedule exchange protocol of DTRAMA is the same as of TRAMA. The adaptive election algorithm in DTRAMA differs significantly from its counterpart in TRAMA to include new checks for dealing with deafness and allowing concurrent transmission when its opportunity exists due to spatial reuse feature of directional antenna. In DTRAMA, time is managed by dividing it into time slots and it operates in two modes: random access mode and scheduled access mode. Frame is the combination of j number of time slots for random access period and k number of time slots for scheduled access period. Frame # 0 is reserved for the neighbor protocol and nodes use random access mode during this frame. For frame numbers other than 0, nodes use scheduled access mode. If the frame count reaches the maximum frame count limit, it restarts its value from 0. Duration of the time slots for the scheduled access period is larger than that of random access period because signaling packet size used during random access period is very small in size as compared to data packet. For simulation, time slots for scheduled access period are seven times of random access period. Nodes use random access mode to transmit signaling packets and use scheduled access mode to transmit schedule and data packets. For time synchronization, it is assumed that a proper clock synchronization method is used. We assumed that the nodes are equipped with switched beam directional antennae that can operate in omnidirectional mode and directional mode for both transmission and reception [27-34].

42

Figure 3.2: Time management
 1 ()

1-Hop Neighbor of Node i learnt from beam bj
1 () 2 () 3 ()  ()} 1-Hop Neighbor of Node i  1() = {1  1  1  1 =   =1 1 ()

1()

2-Hop Neighbor of Node i.  1() = {1 , 2 , 3  } ;


2() = {1(1 )  1(2 )  1(3 )  1( )} =  1() 2()
   =1

=   1 ()
=1 =1

() () ()

Contender Set of Node i where () = 1 ()  2 ()   unallocated Receiver Set of node x where () = {1 , 2 ,  ,  } High priority set (HPS (i)) which contains all the nodes which have priority higher than priority of node i in () i.e. () =  :   ()  () > ()

<x, bk><r, bl> Flow xy using beam bk of transmitter (x) and beam bl of receiver (r)

() () () 

Concurrent Schedule Set (CSS(i)) which contains schedules of all the nodes that belongs to HPS(i) i.e. () =  ,   ,     ()
Absolute winner of node i (()) is the node which has highest priority in () Alternate winner of node i (()) is the node which has highest priority in 1 ()    =    = {1 , 2 , 3 ,  ,  } and    has reported about tx during NP phase by broadcasting 1( )

Table 3.1: Definitions

3.2.1 Neighbor protocol (NP):
Like TRAMA [3], NAMA [25] and ROMA [33], neighbor protocol is used in DTRAMA

43

by the nodes to build 2-hop neighbor information. It is also used by the new nodes to join the existing network. In neighbor protocol, random access mode is used where the nodes randomly select the time slots and broadcast their signaling messages using omnidirectional mode of directional antenna. Because of the random nature of medium access, these signaling messages are prone to collisions and since no acknowledgement message is used so in order to provide reliability, the nodes need to retransmit these messages. In [25], the authors proved that in the absence of acknowledgement messages, if nodes use randomly selected time slots then in order to achieve probability of delivery of message = 0.99, the nodes have to retransmit these messages 7 times at the interval of 1.44 ×  where N is the number of 2-hop neighbors. Using this, in order for the nodes to reach 99% of packet delivery, the duration of the neighbor protocol have to be 1.44 ×  × 7. Neighbor protocol is energy expensive because during this phase, the nodes can only be either in transmit mode or receive mode; and also nodes need to retransmit the signaling messages. So it is important that in order to maximize the energy, the nodes decide carefully when to repeat the neighbor protocol and this repetition of neighbor protocol is dependent on the nature of the network. If the network is more dynamic then in order to keep the 2-hop neighbor information fresh, the nodes have to perform neighbor protocol more often as compared to when network is static. For simulation, neighbor protocol repeats itself if the frame count has reached the maximum frame count limit and it is assumed that the nodes are stationary i.e. for simulation maximum frame count limit is a very large number so that the neighbor protocol can repeat after a long period of time. In DTRAMA to build 2-hop neighbor information, node i exchanges its node ID and its 1hop neighbor ID and the beam # from which it has received that neighbor i.e. for neighbor x, if
2   1 () then x will transmit beam # b2 for node k in the signaling message. Node i will

calculate its contender set (CS (i)), 1-hop neighbor set of node i (N1 (i)), 2-hop neighbor set of node i (N2 (i)). In NP, node i will use omnidirectional broadcast to exchange neighbor information using the signaling message shown in Figure 3.3. In these signaling messages, the neighbor information exchanged is incremental and also these signaling messages work as the keep alive messages. In the signaling message the add numbers and delete numbers indicate the number of added neighbor ID's and deleted neighbor ID's present in the signaling message. Added Neighbor ID's Beam # indicates the beam # of the added neighbor ID from which node i has received the signaling message from that neighbor during neighbor protocol.

44

Figure 3.3: Signaling message header

3.2.2 Schedule exchange protocol (SEP):
During schedule exchange protocol, the nodes create and exchange their schedule information sufficiently enough for the nodes to reuse the wireless medium and to create their sleep schedule during adaptive election algorithm. In order to build the schedule information that will be broadcasted using the schedule message, the node i will calculate schedule interval on the basis of its higher layer data generation rate. It will also calculate its receivers in that interval. This receiver information cannot change within this schedule interval. If according to this information node i requires  number of time slots. In DTRAMA, the number of time slots in a frame is equal to the number of time slots in the schedule interval. Now, node i will calculate the priorities of all the nodes in CS (i) by using the following:() =  (   ) Node i will calculate time slots in the next schedule interval for which node i is the absolute winner (tx) i.e. has the highest priority in CS (i). If according to this information, node i wins  number of time slots. After that, node i will calculate the bitmap for its each winning time slot. Bitmap will indicate the receiver of node i for winning time slot=t. Like TRAMA, in DTRAMA, node i gives up its extra winning time slots so that its 1-hop neighbors can reuse these given up time slots. If  - 1 >  then node i will give up its extra winning time slots by using 0 bitmap for these slots in the schedule message. For the last winning time slot, which is used by the nodes to exchange the schedule of the next schedule interval, bitmap will indicate broadcast message i.e. it will be 255 (if width = 8). In DTRAMA, node i will calculate the unallocated receiver ID's i.e. the receivers for which node i could not find any winning time slot. a) If  - 1 >  then Number of unallocated receivers and unallocated receiver ID's will be 0. From the , 1 is subtracted because the last winning slot is reserved to exchange the schedule of next schedule interval. b) If  - 1 <  then the number of unallocated receivers contains

45

the number of receivers which node i couldn't schedule using the winning time slots and the unallocated receiver ID's will contain the bitmap of these unallocated receivers. Node i will broadcast its schedule on the last winning TS using omnidirectional mode using the schedule message shown in Figure 3.4. Time out indicates the duration for which the schedule message is valid and width indicates the number of the bits used for each bitmap. The number of slots and the number of unallocated receivers indicate the number of bitmaps and the number of unallocated receiver IDs in the schedule message.

Figure 3.4: Schedule message header Node i will receive the schedule from its 1-hop neighbors and will store the schedule of each node with the sender's node ID. If   1 () and node x is the absolute winner for time slot=t and x schedules flow xr. Node i receives this schedule information, then it calculates the beams used by x and r using the neighbor information received from x and r during NP. During NP, node i has received the neighbor information from node x indicating that x has received the update of node r from beam bk and node i has also received the neighbor information from node r indicating that r has received the update from node x from beam bl. Now from the received schedule of x, node i knows about the flow xy so node i can easily calculate <x, bk><r, bl> and will store this schedule information for later use. Using the received schedule from node x, node i will also store unallocated receiver set of node x (uRS(x)); () = {1 , 2 ,  ,  }

46

3.2.3 Adaptive election algorithm (AEA):

Figure 3.5: Adaptive election algorithm During adaptive election algorithm, the node, by using the received schedules that indicate the receivers for the winning time slots and the unallocated receivers if the winning slots are not sufficient, will try to reuse the wireless medium. It will also create its sleep schedule. Adaptive election algorithm consists of two major components: first is the arbitration method which forces the common nodes to follow one common sequence with respect to each other for the arbitration of wireless medium; and second is the spatial reuse checks which allows the nodes to reuse the wireless medium conflict free in the presence of the flows scheduled by higher priority nodes. During NP, nodes exchange their 1-hop neighbors to build up consistent 2-hop neighborhood information. Nodes will calculate the priorities of each node using () =  (   ) and using these priorities node i will sort the nodes in CS (i) in descending order according to their node priorities and will calculate high priority set (HPS(i)) which contains all the nodes which have priority greater than priority of node i in (); () =      ()  () > () This order of sorted nodes according to priority is consistent in CS (i) which results in one node with highest priority i.e. absolute winner in 2-hop neighborhood. Similarly, the order of a node in sorted CS (i) with respect to its 2-hop neighborhood will be the same in its 2-hop neighborhood. This property can give us a common sequence for arbitration of the wireless medium among common neighboring nodes. If tx (i) is the absolute winner and atx (i) is the alternate winner of

47

node i then there are following four cases:Case (1) Case (2) Case (3) Case (4) ()  ()  ()  () ()  ()  ()  () ()  ()  ()  () ()  ()  ()  ()

I shall explain the arbitration method by discussing each case one by one with the help of an example. Now as per definition of absolute winner and alternate winner, case (3) and case (4) are not possible.

Case (1) ()  ()  ()  ():
To explain this case, consider an example containing 4 nodes with priorities as shown in Figure 3.6 for time slot=t1. Here, for node B, the absolute winner and the alternate winner are both in 1-hop neighborhood of B; CS(A)={A,B,C}, CS(B)={A,B,C,D}, CS(C)={A,B,C,D}, CS(D)={B,C,D}. After sorting the nodes according to priority; CS(A)={C,B,A}, CS(B)={C,B,A,D}, CS(C)={C,B,A,D}, CS(D)={C,B,D}.

Figure 3.6: Example 1 Here, if nodes A, B and C are present in contender set (CS) of any node then after sorting the nodes present in CS according to their priorities, the sequence of the nodes A, B and C with respect to each other will always be the same in all the nodes for time slot=t1. In other words in all the nodes for time slot=t1, node C will always come before node B in sorted CS because node C has higher priority than node B and node B will always come before node A in sorted CS. Now, if node A wants to schedule its flow for time slot=t1 then A will perform spatial reuse checks by considering the nodes which have priority higher than node A in sorted CS(A)={C,B,A}, as transmitters i.e. tx=C,B or HPS(A)={C,B}. If the spatial reuse checks pass, node A will schedule its flow for time slot=t1. This means that node A can schedule its flow for time slot=t1 if its flows do not cause any conflict with the flows scheduled by higher priority nodes which for node A are node C and node B i.e. HPS(A)={C,B}. The schedule message of

48

node C and B contains the receiver information i.e. bitmap about the winning time slots and also contains information about the receivers which they can use while reusing the space, this information is there in the unallocated receiver field. To schedule its flow for time slot=t1, node A will perform spatial reuse checks by first passing tx=C and will check the schedule of node C. If the result of this spatial reuse checks pass is false then node A will not schedule its flow for time slot=t1. But if this result is true then node A will perform the spatial reuse checks by passing next element in HPS(A) as tx=B. If the result of this spatial reuse checks is false then node A will not schedule its flow for time slot=t1 but if the result is true then node A can schedule its flow for time slot=t1. In short, while performing spatial reuse checks node A will check the bitmap information of absolute winner and unallocated receiver information of other higher priority nodes i.e. nodes in HPS(A). If node B wants to schedule its flow, node B will perform the spatial reuse checks by considering the nodes which have priority higher than B in sorted CS(B)={C,B,A,D}, as transmitters i.e. tx=C or HPS(B)={C}. So node B uses the scheduled flows or unallocated receivers of node C indicated by the schedule message received from node C in the last winning time slot of the previous frame to perform spatial reuse checks. If the spatial reuse checks pass, node B will schedule its flow. Node C has highest priority in sorted CS(C)={C,B,A,D} i.e. HPS(C)={}, so C will schedule its flow for time slot=t1 without performing spatial reuse checks. If node D wants to schedule its flow for time slot=t1 then node D will perform the spatial reuse checks by considering the nodes which have priority higher than node D in sorted CS(D)={C,B,D} as transmitters i.e. tx=C,B or HPS(D)={C,B}. If this spatial reuse checks pass, node D will schedule its flow for time slot=t1.

Case (2) ()  ()  ()  ():
To explain this case, consider the same example for time slot=t2 when the node priorities are as shown in the Figure 3.7. Here for node B, the absolute winner is in 2-hop neighborhood and the alternate winner is in 1-hop neighborhood i.e. CS(A)={A,B,C}, CS(B)={A,B,C,D}, CS(C)={A,B,C,D}, CS(D)={B,C,D}. After sorting the nodes according to priority; CS(A)={A,C,B}, CS(B)={D,A,C,B}, CS(C)={D,A,C,B}, CS(D)={D,C,B}.

49

Figure 3.7: Example 2 Here, if nodes A, B and C are present in contender set (CS) of any node then after sorting the nodes present in CS according to their priorities, the sequence of the nodes A, B and C with respect to one another will always be the same in all the nodes for time slot=t2. In other words in all the nodes for time slot=t2, node A will always come before node C in sorted CS because node A has higher priority than node C and node C will always come before node B. Node A has highest priority in sorted CS(A)={A,C,B} i.e. HPS(A)={}, so node A will schedule its flow for time slot=t2 without performing spatial reuse checks. If node B wants to reuse the space and schedule its flow for time slot=t2 then it will perform the spatial reuse checks by considering the nodes which have priority higher than node B in sorted CS(B)={D,A,C,B}, as transmitters i.e. tx=D,A,C or HPS(B)={D,A,C}. If the spatial reuse checks pass, node B will schedule its flow for time slot=t2. If node C wants to reuse the space and schedule its flow for time slot=t2 then node C will perform the spatial reuse checks using the nodes which have priority higher than node C in sorted CS(C)={D,A,C,B}, as transmitters i.e. tx=D,A or HPS(C)={D,A}. If the spatial reuse checks pass, node C will schedule its flow for time slot=t2. Node D has highest priority in sorted CS(D)={D,C,B} i.e. HPS(D)={}, so node D will schedule its flow for time slot=t2 without performing spatial reuse checks. In AEA, node i will calculate concurrent schedule set (CSS(i)) which contains the schedules of all the nodes that belong to HPS(i) i.e. () =  ,   ,     () Node i will consult CSS(i) and HPS(i) while performing spatial reuse checks and deciding the state of the node. Node i can be in any of the three states: transmit state (TX) or receive state (RX) or sleep state (Sleep). Node i will be in transmit state (TX) if node i has the highest priority among its contenders CS(i), i.e. it is the absolute winner or node i isn't the absolute winner but it passes the spatial reuse checks for the flow ij. Node i will be in receive state (RX) if node i is the receiver of its absolute winner (tx(i)) or node i is the receiver of its alternate winner (atx(i)) or

50

node i is the unallocated receiver of node k i.e.   1()     (). Node i will be in sleep state if it is neither in transmit state (TX) nor in receive state (RX).

Pseudo code of spatial reuse checks: bool Spatial_Reuse_Checks(x, y)

// If node x is performing spatial reuse checks to schedule the flow xy in the presence // of the flows scheduled by nodes belonging to HPS(x) i.e. the flows present in CSS(x) // HPS_x is the high priority set of node x=HPS (x) FOR index = 0 to size of HPS_x -1 //check all nodes which have priority higher than x IF TX_CHECK( HPS_x [index] , x, y ) == false THEN mode_x =RX return false ENDIF ENDFOR FOR index = 0 to size of HPS_x -1 //check all nodes which have priority higher than x IF DEAFNESS_CHECK( HPS_x [index] , x, y ) == false THEN mode_x =SLEEP return false ENDIF ENDFOR FOR index = 0 to size of HPS_x -1 //check all nodes which have priority higher than x IF INTERFERENCE_CHECK( HPS_x [index] , x, y ) == false THEN mode_x = SLEEP return false ENDIF ENDFOR mode_x =TX return true END Spatial_Reuse_Checks bool TX_CHECK( HPS_x [index] , x , y) tx = _[] IF  ==    THEN return false ENDIF return true END TX_CHECK bool DEAFNESS_CHECK( HPS_x [index] , x , y) tx = _[] IF  ==  THEN //Deafness Check (1) return false ENDIF IF   1() THEN IF  ==    THEN //Case (1) Deafness Check (2) return false

51

ENDIF ELSE IF    () THEN return false ENDIF ENDIF return true END DEAFNESS _CHECK

//Case (2) Deafness Check (2)

bool INTERFERENCE_CHECK( HPS_x [index] , x , y) tx = _[] Let <tx, bi><r, bj>  () r =receiver of _[]  ()  () Let   1    1 IF   1()    1 () THEN   () IF   1    1 () THEN //Case (1) Interference Check (1) return false  ()  () ELSEIF   1    1 THEN //Case (1) Interference Check (2) return false ENDIF ENDIF IF   1()    1 () THEN  () IF   1 THEN //Case (2) Interference Check (1) return false ENDIF ENDIF IF   1()    1 () THEN FOR all elements of  //check all possible receivers of tx  () LET    ()  () LET   1  () IF   1 THEN //Case (3) Interference Check (1) return false ENDIF ENDFOR ENDIF return true END INTERFERENCE_CHECK

52

a) Spatial reuse checks

Figure 3.8: Spatial reuse checks algorithm If tx is the absolute winner for time slot=t and tx schedules flow <tx, b1><r, b3> i.e. if for time slot=t,   ()  <tx, b1><r, b3>  () then to avoid conflicts, while reusing the space, node x needs to perform the following spatial reuse checks to schedule flow xy. Only transmitter (x) will perform these spatial reuse checks. The receiver (y) doesn't perform these spatial reuse checks because it is not transmitting any packet (if any check fails then x cannot schedule flow xy):-

53

1)- TX check: Receiver (r) of tx cannot start a new transmission i.e. x can schedule the flow xy only if   

Figure 3.9: TX check 2)- Deafness check: Deafness check is used to check whether the receiver of x is busy or free. Receiver (y) can be used as transmitter or receiver. Check (1):  Node x cannot transmit to tx i.e. x can schedule the flow xy only if  

Figure 3.10: Deafness check case (1) Check (2): Node x cannot transmit to the receiver (r) of tx i.e. x can schedule the flow xy only if    Node x can be in 1-hop neighborhood or 2-hop neighborhood of tx. Case (1): If node tx is 1-hop neighbor of x i.e.   1 ();

Figure 3.11: Deafness case (2) when   1 ()    1 () Node x is aware of tx schedule (txr) and will not select r as its receiver. Case (2): If node tx is 2-hop neighbor of x i.e.   2 ();

54

Figure 3.12: Deafness case (2) when   2 ()    2 ()  Node x is not aware of tx schedule. If     where   =    = {1 , 2 , 3 ,  ,  } and     has reported about tx during neighbor discovery phase by broadcasting 1( )    1 ( ) then node x will not communicate with r. 3)- Interference check: Interference check is used to block the beams that can possibly cause interference or collision. We have classified it into the following three cases:Case (1): If   ()     (): Check (1): Node x is blocked i.e. cannot transmit in any direction if it is in communication range of the beams locked by tx and the receiver(r) of tx. If tx has scheduled flow <tx, bi><r, bj> then node x is blocked if x satisfies the following:  ()   1    1 ()

Check (2): Node x cannot transmit in the direction of its tx and receiver (r) of tx. If tx
 ()  () has scheduled the flow <tx, bi> <r, bj> and   1    1 where  () 1 is 1-hop neighbor of beam bk for node x then node x can schedule flow xy

only if y satisfies the following: ()  ()   1    1

Case (2): If   ()     (): Check (1): Node x cannot transmit in the direction of its tx. If tx has scheduled the
 ()  () flow <tx, bi><r, bj> and   1 where 1 is 1-hop neighbor of beam bk

for node x then node x can schedule flow xy only if y satisfies the following: ()   1

Case (3): If   ()     (): Check (1): Node x cannot transmit in the direction of the possible receiver (r) of tx i.e.     where   =    = {1 , 2 , 3 ,  ,   } and     has reported about tx during neighbor discovery phase by broadcasting 1 ( )  55

 ()   1 ( ) . If   1 then x can schedule flow xy only if y satisfies the

following: ()   1

Figure 3.13: Interference check

b) Proof of correction of spatial reuse checks:

Figure 3.14: Nodes in shaded area cause conflict at tx and r. If tx has scheduled a flow <tx,b1><r,b3> then we know that nodes in the shaded area are the ones which can cause any type of conflict at tx or r. Now if x wants to reuse the space in the 2-hop neighborhood of tx and r then x needs to perform above mentioned spatial reuse checks. Now to analyze the effectiveness of these checks, consider a node x and place it at all possible locations in 2-hop neighborhood of tx and r which results in the following cases:56

Case (1):   1()    1() Case (2):   1()    1() Case (3):   1()    1() Case (4):   1()    1() Now we will discuss each case one by one to provide the proof that if node x performs previously mentioned spatial reuse checks then x can reuse the space in the presence of flow <tx,b1><r,b3> without any conflict. Here, case (4) is not possible because in this case x cannot cause any possible conflict with the flow <tx,b1><r,b3>. TX check and Deafness check are used to rule out some very obvious cases of conflict as node x is already aware of the schedule of tx in cases (1) and (2) which makes this process of spatial reuse check fast.

Figure 3.15: Possible positions of x in 2-hop neighborhood

Case (1):

  ()    ()

Node x is in the 1-hop neighborhood of tx and r. Since we have considered that each node is equipped with a switch beam directional antenna having four beams i.e. M=4. Node x can hear about transmitter (tx) and receiver (r) from all the possible beams which results in the possible positions shown in Figure 3.16 for node x.

Figure 3.16: Possible positions of node x when   1()    1 ()

57

 where :   1 ()     1 () . So from Figure 3.16 we can see that, in general,



independent of its location, node x can hear about tx and r either from the same beam (e.g. x11, x22, x33 and x44 as shown in Figure 3.16) or form different beams (e.g. x21, x43 etc.). So in the presence of flow <tx,b1><r,b3>, node x can classify its 1-hop nodes into set C1(x) or C2(x). Set C1 (x) contains tx and r if x has heard about tx and r from the same beam; otherwise tx and r will be in set C2 (x) which leads to the following two possible cases:-

Case (1):

If   ()     () i.e. x has heard about tx and r

from the same beam;

Figure 3.17:   1()    1 () case (1) For node x1, C1 (x1)={tx,r} because x1 has heard about tx and r from beam b1. Now node x1 wants to reuse the space in the presence of the flow <tx,b1><r,b3>. For this purpose x1 needs to perform the following spatial reuse checks:1) TX check: Receiver (r) of absolute winner cannot start a new transmission i.e. x can schedule the flow xy only if       1(1)  x1 is aware of the schedule of tx so x1 will not schedule flow x1y if 1 =  2) Deafness check: Check (1): Node x cannot transmit to its absolute winner (tx) i.e. x can schedule the flow xy only if       1(1)  x1 is aware of the schedule of tx, so x1 will not schedule flow x1y if  = 

58

Check (2): Node x cannot transmit to the receiver (r) of absolute winner (tx) i.e. x can schedule the flow xy only if       1(1)  x1 is aware of the schedule of tx, so x1 will not schedule flow x1y if  =  3) Interference check: Check (1): Node x is blocked i.e. cannot transmit in any direction if it is in communication range of the beams locked by the absolute winner and the receiver(r) of the absolute winner. If tx has scheduled flow <tx, bi><r, bj> then node x is blocked if x satisfies the following:  ()   1    1 ()

Here node tx has scheduled flow <tx, b1><r, b3> then node x1 is blocked if x1 satisfies the following:1 () 3 () 1  1  1  1

Node tx is using beam b1 for transmission and receiver (r) is using beam b3 for reception, so the nodes in between transmission beam of tx and receiver beam of r are blocked i.e. they cannot communicate. In NP phase, node tx has transmitted its neighbor information along with the beam from which it has received that neighbor's information. Likewise in signaling message node tx will broadcast that it has heard about neighbor node x1 from beam b3, neighbor node x2 from beam b4, neighbor x3 from beam b1 and neighbor x4 from beam b2. Node tx is 1-hop neighbor of node x1. Node x1 will receive this neighbor information from tx which indicates that node tx has received neighbor information from neighbor x1 from
3 () beam b3 i.e. 1  1 . Node x1 received the schedule of tx so x1 is aware of the flow <tx,

b1><r, b3>. Similarly x1 has received neighbor information from node r, node x1 knows that r
3 () has received neighbor information from neighbor x1 from beam b3 i.e. 1  1 . Now from

schedule of the absolute winner tx, node x1 knows that tx is communicating with node r using beam b1 for transmission and node r is using beam b3 for reception, node x1 will be blocked if
1 () 3 () 1  1  1  1 . 3 () 3 ()  1  1  1  1

 x1 is not blocked by <tx, b1><r, b3> and can transmit but now to decide in which directions x1 is allowed to transmit, node x1 will perform check (2). Check (2): Node x cannot transmit in the direction of its absolute winner (tx) and receiver (r)
 () of absolute winner. If tx has scheduled the flow <tx, bi> <r, bj> and   1   

59

 ()  () 1 where 1 is 1-hop neighbor of beam bk for node x then node x can schedule flow

xy only if y satisfies the following: ()  ()   1    1

Here, node x1 has heard about node tx and r from beam b1.
1 (1) 1 (1)    1    1

 Node x1 can schedule flow x1y only if y satisfies the following:1 (1) 1 (1)   1    1

Node tx is the absolute winner and x knows that <tx, b1><r, b3> so node x1 cannot use beam b1 for any communication i.e. beam b1 is blocked for node x1.  For time slot=t, node x1 can transmit using beams b2, b3 and b4 but cannot transmit using beam b1. Similarly, if we perform the spatial reuse checks for nodes x2, x3 and x4 we shall find that for nodes x2, x3 and x4 beams b2, b3 and b4 are blocked respectively.

Case (2):

If   ()     () i.e. x has heard about tx and r

from the different beams;
This case can be further divided into the following two cases:Case (I): If tx has scheduled flow <tx, bi><r, bj> then x is in the communication range of the beam bi of transmitter (tx) and the beam bj of receiver(r) i.e.     ()   
  ()

Figure 3.18:   1()  x  N1 (r) case (2); x has heard about tx and r from the different beams

60

For node x, C2 (x)={tx, r} because x has heard about tx and r from beam b3 and b1 respectively. Node x wants to reuse the space in the presence of the flow txr. For that purpose x needs to perform the following spatial reuse checks:1) TX Check: Receiver (r) of tx cannot start a new transmission i.e. x can schedule the flow xy only if       1()  x is aware of the schedule of tx so x will not schedule flow xy if  =  2) Deafness check: Check (1): Node x cannot transmit to tx i.e. x can schedule the flow xy only if       1()  x is aware of the schedule of tx so x will not schedule flow xy if  =  Check (2): Node x cannot transmit to the receiver (r) of tx i.e. x can schedule the flow xy only if       1()  x is aware of the schedule of tx so x will not schedule flow xy if  =  3) Interference check: Check (1): Node x is blocked i.e. cannot transmit in any direction if it is in communication range of the beams locked by tx and the receiver(r) of tx. If tx has scheduled flow <tx, bi><r, bj> then node x is blocked if x satisfies the following:  ()   1    1 ()

Here, node tx has scheduled flow <tx, b1><r, b3> then node x is blocked if x satisfies the following:1 () 3 ()   1    1

Node tx is using beam b1 for transmission and receiver (r) is using beam b3 for reception so the nodes in between transmission beam of tx and receiver beam of r are locked i.e. they cannot communicate. In NP phase, node tx has transmitted its neighbor information along with the beam from which it has received that neighbor's information. Likewise in signaling message node tx will broadcast that it has heard about neighbor node x from beam b1. Node tx is 1-hop neighbor of node x. Node x will receive this neighbor information from tx which indicates that node tx has received neighbor information of neighbor x from beam b1
1 () i.e.   1 . Node x has received the schedule of tx so x is aware of the flow <tx, b1><r,

61

b3>. Similarly x will receive neighbor information from node r, node x knows that r has received
3 () neighbor information from neighbor x from beam b3 i.e.   1 . Now from schedule of tx,

node x knows that tx is communicating with node r using beam b1 for transmission and node r is
1 () 3 () using beam b3 for reception, node x will be blocked if   1    1 . 1 () 3 ()    1    1

 x is blocked by <tx, b1><r, b3> and cannot transmit in any direction. Case (II): If tx has scheduled flow <tx, bi><r, bj> then x is in communication range of
 beam bi of transmitter (tx) or beam bj of receiver (r) i.e.     ()     ()

Figure 3.19:   1()  x  N1 (r) case (2); x has heard about tx and r from same beams For node x1, C2 (x1) ={tx, r} because x1 has heard about tx and r from beams b2 and b1 respectively. Node x1 wants to reuse the space in the presence of the flow <tx, bi><r, bj>. For that purpose x1 needs to perform the following spatial reuse checks:1) TX Check: Receiver (r) of tx cannot start a new transmission i.e. x can schedule the flow xy only if       1(1)  x1 is aware of the schedule of tx so x1 will not schedule flow x1y if 1 =  2) Deafness check: Check (1): Node x cannot transmit to its tx i.e. x can schedule the flow xy only if       1(1)  x1 is aware of the schedule of tx so x1 will not schedule flow x1y if  = 

62

Check (2): Node x cannot transmit to the receiver (r) of tx i.e. x can schedule the flow xy only if       1(1)  x1 is aware of the schedule of tx so x1 will not schedule flow x1y if  =  3) Interference check: Check (1): Node x is blocked i.e. cannot transmit in any direction if it is in communication range of the beams locked by tx and the receiver(r) of tx. If tx has scheduled flow <tx, bi><r, bj> then node x is blocked if x satisfies the following:  ()   1    1 ()

Here, node tx has scheduled the flow <tx, b1><r, b3> then node x1 is blocked if x1 satisfies the following:1 () 3 () 1  1  1  1

Node tx is using beam b1 for transmission and receiver (r) is using beam b3 for reception so the nodes in between transmission beam of tx and receiver beam of r are locked i.e. they cannot communicate. In NP phase, node tx has transmitted its neighbor information along with the beam from which it has received that neighbor's information. Likewise, in signaling message node tx will broadcast that it has heard about neighbor node x1 from beam b4 and neighbor x2 from beam b1. Node tx is 1-hop neighbor of node x1. Node x1 will receive this neighbor information from tx which indicates that node tx has received neighbor information from neighbor x1 from
4 () beam b4 i.e. 1  1 . Node x1 has received the schedule of tx so x is aware of the flow

<tx, b1><r, b3>. Similarly x1 will receive neighbor information from node r, node x1 knows
3 () that r has received neighbor information from neighbor x1 from beam b3 i.e. 1  1 . Now

from schedule of tx, node x1 knows that tx is communicating with node r using beam b1 for transmission and node r is using beam b3 for reception, node x1 will be blocked if 1 
1 () 3 () 1  1  1 . 4 () 3 ()  1  1  1  1

 x1 is not blocked by <tx, b1><r, b3> and can communicate but to decide which directions x1 is allowed to communicate, node x1 will perform check (2). Check (2): Node x cannot transmit in the direction of its tx and receiver (r) of tx. If tx has
 ()  ()  () scheduled the flow <tx, bi> <r, bj> and   1    1 where 1 is 1-hop

63

neighbor of beam bk for node x then node x can schedule flow xy only if y satisfies the following: ()  ()   1    1

Here, node x1 has heard about node tx and r from beam b2 and b1 respectively.
2 (1) 1 (1)    1    1

 Node x1 can schedule flow x1y only if y satisfies the following:2 (1) 1 (1)   1    1

Node x1 knows that <tx, b1><r, b3> so node x1 cannot use beam b2 and b1 for any communication i.e. these two beams are blocked for node x1.  For time slot=t, node x1 can transmit using beams b3 and b4 but cannot communicate using beams b1 and b2. Similarly, if we perform the spatial reuse checks for nodes x2 we shall find that for node x2 beams b3 and b4 are blocked.

Case (2):

  ()    ()

Figure 3.20:   1()    1 () Node x1 wants to reuse the space in the presence of the flow <tx, bi><r, bj>. For that purpose x1 needs to perform the following spatial reuse checks:1) TX check: Receiver (r) of tx cannot start a new transmission i.e. x can schedule the flow xy only if       1(1)  x1 is aware of the schedule of tx so x1 will not schedule flow x1y if 1 =  . 2) Deafness check: Check (1): Node x cannot transmit to its tx i.e. x can schedule the flow xy only if       1(1)  x1 is aware of the schedule of tx so x1 will not schedule flow x1y if  =  .

64

Check (2): Node x cannot transmit to the receiver (r) of tx i.e. x can schedule the flow xy only if       1(1)  x1 is aware of the schedule of tx and also 1  1 () so x1 can move to next check. 3) Interference check: Check (1): Node x cannot transmit in the direction of its tx. If tx has scheduled the flow <tx,
 ()  () bi><r, bj> and   1 where 1 is 1-hop neighbor of beam bk for node x then

node x can schedule flow xy only if y satisfies the following: ()   1

Node tx is 1-hop neighbor of node x1. Node x1 received the schedule of tx so x1 is aware of the flow <tx, b1><r, b3>. Node r is 2-hop neighbor of node x1. Node x1 has heard about r from node tx. Also node x1 has heard update of node tx from beam b1.
1 (1)    1

 Node x1 can schedule flow x1y only if y satisfies the following:1 (1)   1

Node x1 knows that <tx, b1><r, b3> so node x1 cannot use beam b1 for any communication i.e. beam b1 is blocked for node x1.  For time slot=t, node x1 can communicate using beams b2, b3 and b4 but cannot communicate using beam b1. Similarly, if we perform the spatial reuse checks for node x2, we shall find that for node x2 beam b4 is blocked.

Case (3):

  ()    ()

Figure 3.21:   1()    1 () Node x1 wants to reuse the space in the presence of the flow <tx, bi><r, bj>. For that purpose x1 needs to perform the following spatial reuse checks:-

65

1) TX Check: Receiver (r) of tx cannot start a new transmission i.e. x can schedule the flow xy only if       1(1)  1   So x1 can move to the next check. 2) Deafness check: Check (1): Node x cannot transmit to its tx i.e. x can schedule the flow xy only if       1(1)    1(1)     So x1 can move to next check. Check (2): Node x cannot transmit to the receiver (r) of tx i.e. x can schedule the flow xy only if       1(1)  Node x1 is not aware of tx schedule. Here,    where   =    = {} and  has reported about tx during neighbor discovery phase by broadcasting 1() then node x1 will not schedule flow x1y if  =  3) Interference check: Check (1): Node x cannot transmit in the direction of expected receiver (r) of tx i.e.    where   =    = {1 , 2 , 3 ,  ,   } and     has reported about tx
 () during neighbor discovery phase by broadcasting1 ( )    1 ( ). If   1 then x

can schedule flow xy only if y satisfies the following: ()   1

Node x1 knows that    (1) and   2(1). Node x1 cannot receive the schedule. So it is not aware of the flow <tx, b1><r, b3>. But x1 knows that r has reported about tx during neighbor discovery phase i.e.   1() . So x1 assumes that node r could be the possible receiver of tx i.e.     Also x1 knows that it has heard from node r from beam b2 i.e.  
2 (1) 1 . 2 (1)    1

 Node x1 can schedule flow x1y only if y satisfies the following:2 (1)   1

66

 For time slot=t, node x1 can transmit using beams b1, b3 and b4 but cannot communicate using beam b2. Similarly, if we perform the spatial reuse checks for nodes x2 we shall find that for node x2 beam b3 is blocked.

67

4 Simulation
We simulated the proposed DTRAMA MAC protocol in ns-3 to evaluate its performance. In this Chapter, we first discuss the implementation of channel model for underground mines and directional antenna support in ns-3. Then, we discuss the simulation set-up and parameters, which is followed by the discussion on simulation results.

4.1 Implementation of channel model of underground mines using directional antennas in ns-3:
In ns-3 [35] different radio propagation models are available including Friis, two-ray and Rician propagation models. The two-ray propagation model is suitable to model radio propagation in rural areas, while Rician model is the most suitable model for the suburban areas due to the presence of reflected components and multipath fading. Since no suitable propagation model is available for underground mines or tunnel environment in ns-3, we decided to implement the ray optical predication model of the radio wave [4]. The channel implementation is divided into two parts:  First part relates to finding the paths of the rays that indicate the presence of the ray at some particular point.  Second part relates to calculating the strength of the received signal at that point. It has both the real and the imaginary components. Since the radio wave is a vector quantity, it has magnitude and unit vector to indicate the direction. Radio waves travel in straight lines, as other electromagnetic waves do like light waves. Therefore, this unit vector is extended by using the straight line in such a way that we can find the presence of the signal at some point in space or the traversed path of the signal. The next step is to find the received signal strength at that point. For this purpose I have used the mathematical model derived by using the uniform theory of diffraction (UTD) where tunnel walls are considered as sources having uniform impedance. To explain this mathematical expression for the received signal, consider a tunnel having the geometry as shown in Figure 4.1, where TX and RX are transmit and receive points placed at heights hr and ht respectively. The tunnel is composed of main and branch tunnels as represented in the Figure 4.1. Assume that a rectangular metallic box having the width Va, height Vb and length Vl is there in the main tunnel. Let the wall be a lossy nonmagnetic homogeneous medium

68

having the relative permeability r and conductivity . As we can see from the Figure 4.1, three rays start from the source Tx and end at the receiver Rx after multiple reflections and diffractions. In this particular case there are two possibilities: either the ray can be reflected or it can be diffracted.

Figure 4.1: Geometry of the tunnel [4] We consider three rays to explain and cover different possible combinations of reflections or diffractions of the ray. The ray along the path TXUVWRX is the one that is received at point RX after multiple reflections; whereas the ray along the path TXFHGRX has undergone one reflection at point F and two diffractions at points H and G before reaching the point RX. The last ray along the path TXOPQRX first experienced reflection, then it is deflected by the wedge at point P and finally after reflection it reaches point RX. Now the received power at point RX is given by the following expression [4] derived using the uniform theory of diffraction (UTD).

The first part of expression (1) is for the ray that undergoes multiple reflections, and the number of the reflections is Kr. The second term of the expression is for the ray that undergoes krb reflections, followed by one diffraction from the wedge, and then finally it reaches the receiver

69

after kra reflections. The last term of the expression is for the ray that experiences two diffractions. Here, RiKr is the reflection coefficient of the ith ray if it undergoes Kr reflections. Si is the spreading factor of the ith reflected ray, i is the phase factor of the ith reflected ray and Gti and Gri are the gains of the transmit and receive antenna for the ith ray. The radio wave can be polarized horizontally or vertically. It gives us two values of the reflection coefficients: the first one for the horizontally polarized ray and the second one for the vertically polarized ray [4];

, , Now, for deciding which frequency is to be used for efficient propagation in the underground mine tunnels, the work of Reudink is of great help [36]. He has made a set of experiments using the Lincoln Tunnel that connects Manhattan to New Jersey under the Hudson River and has the dimensions 4m X 7.5m and length 2425m. These tests are performed at seven frequencies selected within the range [153 MHz, 11.2 GHz] and the results of these experiments are shown in Figure 4.2. It is obvious that attenuation is much higher at low frequency because of higher wavelength and also that signal attenuation is approximately the same at 2.4 GHz, 6 GHz and 11.2 GHz. As we know that wireless signal attenuates exponential of distance dn, so if we plot dn lines for different values of n then we get lines with slopes dependent on n. From this we see that at 900MHz the slope of the line is 4; whereas at 2.4 GHz the value of n=2. If we increase this frequency further such as 6 GHz and 11.2 GHz, the value of n decreases further that is even less than that of the free space path loss, which clearly indicates the presence of some guiding mechanism that lacks in free space. It is better to select higher frequencies. But if we need to select between 900MHZ and 2.4 GHZ, the best choice is 2.4 GHz, the ISM band. Hence, we used 2.4 GHz in our simulation of the channel model of underground mines.

70

Figure 4.2: Relative path loss vs. distance covered by signal [36] The simulation selects the source point and then extends the rays in all directions in the case of omni-directional antenna or in a specific direction in the case of directional antenna until it is reflected by the walls of the tunnel. The beam in the directional antenna is modeled using two parameters: steer angle and the beam width. Since we need to check the effect of all the parallel communications i.e. all possible interference sources at a particular node, this process is computationally very extensive. Therefore, in order to reduce the computational cycles, we follow the rules to ensure that no trace experiences more than n reflections and its power is greater than X dB, where X dB is the minimum receiver sensitivity. Signal degradation is due to inter alia, reflections and diffractions. In order to find the minimum distance in the case of n reflections, we first consider two ray propagation model where we have a direct wave and a reflected wave and then we extend this idea to n reflections. If X=-30dB then [36];

As we know that

, so after simplification we get the following expression:-

And if we extend this concept to a ray that has n reflections then;

Where n is the number of reflections,

and  is the reflection coefficient. The

simulation considers all waves that follow the above expression, or in simple words it finds the maximum distance the reflected wave can have provided its signal power remains higher than the minimum receiver sensitivity X dB. The purpose of finding and using this distance is to

71

minimize the useless extensions of the electromagnetic wave by using the straight line i.e. we can reduce the unnecessary computational cycles. In our simulated model, we have assumed that the rays experience reflections only because our tunnel is closed from all sides i.e. it does not have any wedges and also it does not have any metallic boxes for diffractions. In our implementation, the first important thing is that after each reflection it calculates reflection coefficient using the expression as shown above. For this it calculated  =  r ­ j60  with r=10 and conductance is  =0.01s/m for simulating electrical permeability of the wall. After calculating the reflection coefficients it calculates;

It is the product of all the reflection coefficients for Kr reflections for the ith ray. If the ray originated from the source TX, intersects the circle having radius L /3, where L is the total path length between transmitter and receiver and  = 5 then that signal is received by the receiver. After that it calculates the total distance traveled by the signal and using this distance it calculates the spreading factor S and the phase factor  for the ray i by using the following expression: -

Then it repeats the same procedure for all the rays originating from the source, and calculates the strength of the received power by using the following expression:-

After that it decides, on the basis of the magnitude of the received signal, the antenna direction {1,2,3,4} from where it has received the maximum signal strength and later on that direction is used for the directional transmission.

Figure 4.3: Used directional antenna We created the external dynamic library of the Qt code for modeling the channel of underground mines and then linked that library to ns-3 using python so that we can use it using

72

YansWifiChannel. The results of this simulation, in the case of single source and single receiver is shown in Figure 4.4.

Figure 4.4: In depth view of the ray optical channel model using switched beam directional antenna having beam width = 90° and receiver with reception radius of L/3 where  = 5

We used 5x5 ad hoc grid network using omni-directional antenna to test the implementation of our channel model in ns-3.

Figure 4.5: 5 X 5 grid network

Table 4.1: Pr comparison of Friis, two ray ground and ray optical propagation models 73

4.2 Implementation of directional antenna in ns-3:

Figure 4.6: Switched Beam Directional Antenna The ns-3 simulator lacks an implementation of directional antenna. For the implementation of directional scheduled medium access protocol, like most available research material [27-34], we have assumed a directional antenna that is switched beam having M non-overlapping beams and can operate in omnidirectional or directional mode for both transmission and reception. The directional antenna implemented in ray optical propagation model can operate in directional or omnidirectional mode for transmission only; whereas for reception it can operate only in omnidirectional mode. In this implementation of the directional antenna, the node calculates the direction of arrival (DOA) or the beam from that it has received the signal with maximum strength. But the problem for DOA calculation is that the receiver operates in only omnidirectional mode, i.e. it receives the signal from all directions, in our implementation. We require an antenna model that can work in two receive modes: the omnidirectional receive mode (it can receive the signals from all directions) and the directional receive mode (it can receive the signal from a particular direction). For implementation, we have used M=4 i.e. switched beam antenna with 4 non-overlapping beams, where beam number 0 is used for omnidirectional mode and beams {1,2,3,4} are used to access the particular beams of the directional beam for both the transmitter and the receiver. In this implementation we have used directional antenna, which has constant gain for the whole main lobe, centered at the bore-sight angle as shown in Figure 4.7 (a). In the Figure 4.7 (a), beam 1 is used for communication hence it has constant gain 2.5 i.e. for the angle  gain is 2.5; whereas the gains for other beams {2,3,4} is zero because it is assumed that side lobes have zero gain i.e. for the angle  gain is 0.

74

(a)

(b)

Figure 4.7: Gain of directional antenna in (a) directional mode and (b) omnidirectional mode If the antenna uses the omnidirectional mode, the gain of the antenna is the same in all directions that is by default is one as shown in Figure 4.7 (b). Consider a transmitter (Tx) and a receiver (Rx) at locations (x1, y1) and (x2, y2) respectively. The transmitter (Tx) wants to transmit frame in the direction of the receiver (Rx). The transmitter uses the beam information of the receiver (Rx) stored at its MAC layer, if it is aware of the beam number, to communicate with Rx; otherwise it uses beam number zero to indicate the physical layer to use omnidirectional mode of operation. It passes that beam information to the physical layer by invoking the function YansWifiChannel::Send.

Figure 4.8: Tx and Rx In the case of omnidirectional transmission in ns-3, when Tx sends a packet to Rx then the simulator creates a scenario where Tx sends the packet to each node present in the simulation. Thus, it simulates the actual wireless environment, where each node can receive the signal from every other node. In this way Rx receives the packet if the signal strength is higher than the minimum received signal strength threshold; whereas all other nodes, after receiving the packet, calculate the interference because of that communication that helps calculating signal to noise ratio (SNR) and packet error rate (PER). Similarly, if Tx sends a packet to Rx using the

75

directional antenna, the simulator creates a scenario where Tx sends the packet to all the nodes present in the simulation, but the nodes that are in the beam used by Tx, receive that signal by invoking the function IsSignalReceived if the node is in the directional receive mode. Thus, only those nodes that are in that beam experience interference due to that transmission. As stated above, the directional antenna can operate either in directional or in omnidirectional mode for both transmission and reception. When the directional antenna operates in omnidirectional mode for both transmission and reception, the simulator employs omnidirectional implementation in ns-3. When the directional antenna operates in either directional transmission and omnidirectional reception, or directional transmission and directional reception, our implementation of directional antenna in ns-3 is use, which is implemented by modifying the existing omnidirectional antenna implementation in ns-3 according to [37] in which the authors implemented the steered beam directional antenna model for ns-2. Let us discuss the operational detail of directional antenna model in ns-3. If the transmitter is in directional mode and the receiver is in omnidirectional mode, then node Tx knows the beam information (beam #4) of Rx that it gathers from prior transmission from Rx. The Tx transmits the packet in beam 4 towards the receiver. As mentioned above, every node in beam 4 receives the transmission. Since the receiver is in omnidirectional mode, it receives the signal, calculates the Direction of Arrival (DOA) of the signal, and computes the interference affecting the packet. If the signal strength is very low, the node drops the packet.

The directional antenna model consists of the following two main parts: a) DOA estimation b) Beam forming

For DOA estimation at the receiver, an array of antennas collects the signals by using the direction finding algorithms like the MUSIC, ESPIRT, SAGE etc. Instead of basing the direction of arrival (DOA) of the signal on signal strength only, we adopted the method given in [37] for the steered beam directional antenna implementation in ns-2. In this method, there is a central repository of node locations maintained in the simulator. Since a receiver is not aware of the location of the transmitter, it calls DOA function in the simulator to calculate the direction of

76

arrival (DOA) of the signal. The DOA function retrieves the positions of the transmitter and the receiver from the repository. It calculates angle 2 between two locations (x1, y1) and (x2, y2), as shown in Figure 4.9, and returns 2 to the node. The receiver (Rx) then calculates the beam corresponding to 2 using the following simple rule; 1 ,  ,    = { 2 3 , 4 , 0   < 90 90   < 180 180   < 270 270   < 360

Figure 4.9: DOA Calculation In case of directional transmission and reception, both the transmitter and the receiver their respective beams (beam #4 for transmission and beam #2 for reception) from prior communication. Since receiver is using a particular beam (beam #2) for reception, it accepts the signal received only if the signal arrives through beam 2. In this case, upon receiving the signal, the receiver calls the DOA function to calculate the DOA of the signal. The DOA function returns the angle that the receiver uses to calculate the beam from which it has received that signal. Since the receiver is in directional mode, it invokes function IsSignalReceived that checks whether the beam from which the node has received the signal is 2 or not. If the beam is 2, the signal is received and the receiver uses the directional antenna gain. But if the beam is not 2, the signal is not received. In this case, the receiver uses zero gain or ­inf dBm making the signal strength to be 0 or ­inf dBm and drops the packet. In addition, the arrived signal does not cause any interference because of zero signal strength.

4.3 Implementation of DTRAMA:
In addition to DTRAMA, we have also implemented TRAMA [3] and DMAC [12] protocols in ns-3 to compare the performance of DTRAMA with the other two protocols. TRAMA is an omnidirectional scheduled MAC protocol, which provides the baseline protocol

77

features for DTRAMA. The DMAC is the basic contention-based directional MAC protocol where all the communications (RTS/CTS/Data/ACK) are directional. The implemented TRAMA does not include the use of need transmitter. We used redpine wireless module, RS9110-N-11-02 [38], which supports data rate up to 150Mbps, but for simulation purpose we used data rate of 2Mbps. The wireless module draws current 30 mA, 24 mA and 0.52 mA when it is in transmit mode for data rate 2Mbps, receive mode and sleep mode respectively. The main objective of an energy-efficient MAC is to increase the percentage sleep time of nodes. The size of signaling packet is 256 bytes that requires time slot of duration 1024  at 2Mbps data rate. We used time slot duration of 1100  that includes the guard interval required for switching. The data packet size is assumed to be seven times larger than the signaling packet size, which is equivalent to 1792 bytes and with time slot of 7700  . We configured DSDV with periodic update interval of 10000 sec and settling time is 6 sec for routing in the simulator. We set up super frame consists of 1000 frames and total duration of simulation as 1000sec. We used 100 time slots for the random access period and 100 time slots for the Scheduled Interval. We created four topologies as shown in Figures 4.10 to 4.13. In each topology, 40 stationary sensor nodes each having a transmission range of 20m are placed in an area of 110m X 110m. A single sink node is placed either at the corner or at the center of the topology. In the first two topologies sensor nodes are randomly placed while the last two topologies are grid topologies. The nodes use first 6 seconds for initialization that includes the buildup of the routing table and other initialization parameters etc. and start time of DTRAMA and TRAMA is 6 seconds. Each sensor node periodically generates data packets for the sink. We used the following key performance indicators (KPI) to measure and compare relative performance of the above protocols:

Average packet delivery ratio (%): It is the ratio of the total packet received by the sink and total packet transmitted by the sensor nodes. Average delay (sec): It indicates the average delay experienced by the packet generated by the sensor nodes to reach the sink. Average node percentage sleep time (%): Percentage node sleep time indicates the ratio of the time slots when the node is in sleep mode to the total number of slots.

78

Number of sensor nodes Number of sink nodes Area Transmission range Data Rate Propagation Model Signaling Packet size Signaling Time slot Duration Data Packet Size Data Time slot Duration Routing Protocol DSDV Settling Time DSDV Periodic Update Interval Maximum Frame Size Frame size for Random Access Period Frame size for Scheduled Access Period Simulated wireless module

40 1 110m X 110m 20m 2 Mbps Friis Propagation Model 256 Bytes 1100 sec 1792 Bytes 7700 sec DSDV 6 sec 10000 sec 1000 Frames 100 Time slots 100 Time slots redpine wireless module, RS9110-N-11-02

Current drawn by wireless module for transmit 30 mA mode for data rate 2Mbps Current drawn by wireless module for receive mode 24 mA for data rate 2Mbps Current drawn by wireless module for sleep mode 0.52 mA Total Simulation Time 1000 sec TRAMA and DTRAMA Start time 6 sec Table 4.2: Simulation Parameters
120 100 80 60 40 20 0 0 50 100 150

Figure 4.10: Random Center Sink Topology 79

120

100

80

60

40

20

0 0 20 40 60 80 100 120

Figure 4.11: Random Corner Sink Topology
100 90 80 70 60 50 40 30 20 10 0 0 20 40 60 80 100 120

Figure 4.12: Grid Center Sink Topology

80

100 90 80 70 60 50 40 30 20 10 0 0 20 40 60 80 100 120

Figure 4.13: Grid Corner Sink Topology

4.4 Simulation Results: a) Average Packet Delivery Ratio:
Figures 4.14 - 4.17 show comparison of the average packet delivery ratio of the sensor nodes for DTRAMA, TRAMA and DMAC for the random center sink, random corner sink, grid center sink and grid corner sink topologies. We can clearly see from these figures that the packet delivery ratio of the DTRAMA is a little bit higher than that of scheduled omnidirectional MAC protocol i.e. TRAMA. Reason of this performance improvement is the use of directional communication that reduces the interference and consequently improves the packet delivery ratio. This improvement in packet delivery ratio can be further increased by reducing the beam width or by increasing the number of switched beam i.e. increasing the value of M. If we compare the packet delivery ratio of topologies when the sink is at the center with those when the sink is at the corner, we will see that improvement in packet delivery ratio, if we use DTRAMA, is more noticeable when the sink is at the corner as compared to that when sink is at the center. We can see from these figures that scheduled directional MAC protocols have much higher packet delivery ratio than that of contention based directional MAC protocol (DMAC). Reason is that DMAC shows poor performance because of deafness and hidden terminal problems.

81

100

Average Packet Delivery Ratio (%)

90 80 70 60 50 40 30 20 10 0 2 3 4 6 8 10 Packet Generation Interval (sec) 12 DTRAMA TRAMA DMAC

Figure 4.14: Average Packet Delivery for Random Center Topology
Average Paceket Delivery Ratio (%)
100 90 80 70 60 50 40 30 20 10 0 2 3 4 6 8 10 Packet Generation Interval (sec) 12 DTRAMA TRAMA DMAC

Figure 4.15: Average Packet Delivery Ratio (%) for Random Corner Topology

82

100

Average Packet Delivery Ratio (%)

90 80 70 60 50 40 30 20 10 0 2 3 4 6 8 10 Packet Generation Interval (sec) 12 DTRAMA TRAMA DMAC

Figure 4.16: Average Packet Delivery Ratio for Grid Corner Topology
100

Average Packet Delivery Ratio (%)

90 80 70 60 50 40 30 20 10 0 2 3 4 6 8 10 Packet Generation Interval (sec) 12 DTRAMA TRAMA DMAC

Figure 4.17: Average Packet Delivery Ratio (%) for Grid Center Topology

b) Average Packet Delay:
In Figures 4.18 - 4.21, a comparison of the average packet delay of the DTRAMA, TRAMA and DMAC for random center sink, random corner sink, grid corner sink and grid center sink topologies is shown. These figures clearly demonstrate, that contention-based MAC protocol (DMAC) has much less delay as compared to DTRAMA and TRAMA. Reason is that in the case of scheduled MAC protocol, the node waits for its turn to transmit the packet;

83

whereas in contention based MAC protocol, the node transmits the packet after contending and winning the medium. Here one important point worth noticing is that in contention based MAC, as mentioned before, the packet delivery ratio of contention based MAC is much lower than that of scheduled MAC protocol which results in poor higher layer performance. So as a result higher layer needs to retransmit the packets to achieve certain QOS. In this way, while using DMAC, nodes have to perform multiple retransmissions to achieve the packet delivery ratio that is comparable to that of scheduled MAC protocol which in turn increases overall delay. In DTRAMA, average delay is less as compared to TRAMA. Reason of this improvement is the spatial reuse of the wireless medium that increases the number of concurrent directional transmissions per time slot. As a result, the nodes get more chance of parallel transmission, which reduces the packet latency. This improvement in delay can be further increased if we increase the number of beams of switched beam directional antenna i.e. if we increase value of M. Reduction in delay is more prominent when the sink is at the corner as compared to when the sink is at the center. Reason is that when the sink is at the center, the nodes, because of the deafness check and interference check, get less chance to reuse the space to avoid possible deafness and interference cases.
0.6

Average Packet Delay (sec)

0.5 0.4 0.3 0.2 0.1 0 2 3 4 6 8 10 Packet Generation Interval (sec) 12 DTRAMA TRAMA DMAC

Figure 4.18: Average Delay for Random Center Topology

84

1.2

Average Packet Delay (sec)

1 0.8 0.6 0.4 0.2 0 2 3 4 6 8 10 Packet Generation Interval (sec) 12 DTRAMA TRAMA DMAC

Figure 4.19: Average Delay for Random Corner Topology
0.6

Average Packet Delay (sec)

0.5 0.4 0.3 0.2 0.1 0 2 3 4 6 8 10 Packet Generation Interval (sec) 12 DTRAMA TRAMA DMAC

Figure 4.20: Average Delay for Grid Corner Topology

85

0.35

Avergae Packet Delay (sec)

0.3 0.25 0.2 DTRAMA 0.15 0.1 0.05 0 2 3 4 6 8 10 Packet Generation Interval (sec) 12 TRAMA DMAC

Figure 4.21: Average Delay for Grid Center Topology

c) Energy Efficiency:
Next, a comparison of the average node percentage sleep time between DTRAMA and TRAMA is shown in Figures 4.22 - 4.25. We can see that TRAMA has higher average node sleep time than that of DTRAMA, because high spatial reuse of directional antennas enable nodes in DTRAMA to perform concurrent transmissions reducing the average sleep period of the nodes. As we already know from the key points extracted from the literature review of energy efficient MAC protocols that in order to conserve the energy, the nodes must reduce the idle listening period and overhearing period, must make the sleep period traffic adaptive to increase the percentage node sleep time and must reduce the transmit power. Overhearing in case of both the TRAMA and the DTRAMA is negligible due to the scheduled nature of medium access. But the idle listening period of DTRAMA is a bit longer than that of TRAMA. Both TRAMA and DTRAMA are traffic adaptive protocols, so they can maximize their sleep duration according to their traffic. In [33,39], nodes use two transmit powers: one for directional communication and the other for omnidirectional communication to avoid the hidden terminal problem because of the asymmetric gain of the directional and omnidirectional communication. Likewise I have assumed that omnidirectional and directional communication transmission powers are adjusted in such a way that both have the same transmission range. According to [40], directional transmit power is;

86



= (

 

2

) 


  22 (1 - cos ( ))

2 where  is transmit power for directional communication,  is transmit power for omnidirectional communication,  is the gain of omnidirectional communication,  is the gain of directional communication ( >  ) and  is the beam width of the directional antenna. Now if;  =     =        =        =      =      =  ×  +  × 
 



=

         

Due to reciprocity, the gain of an antenna is same for both transmission and reception.       =  =  ,  =  =  2   = ( )    2    =  ×  + ( )  ×  
 1

=

  (


 2 + ( ) ×  ) 

 2 =  ( )

  1 = 2

 2 ( + ( ) ×  ) 

 %              2 2  - ( + ( ) ×  )   2 - 1  = × 100 = × 100    2
 If a node wins 10 time slots in a frame of length 100 time slots then  = 1,  = 9 and if  =     = 1,  =  = 2.5; 1 2    1 =  (1 + ( ) × 9) = 2.44  2.5    2 =  (10) = 10 

87

2.44    = 0.244 2 10 2                  2 - 1 = × 100 = 75.6%  2
 1 =

72 71 70 69 68 67 66 65 64 63 62 61 2 3 4 6 8 10 Packet Generation Interval (sec) 12

Average Node Percentage Sleep time (%)

DTRAMA TRAMA

Figure 4.22: Average Node Percentage Sleep Time for Random Center Topology
Average Node Percentage Sleep Time (%)
74 72 70 68 66 64 62 2 3 4 6 8 10 Packet Generation Interval (sec) 12

DTRAMA TRAMA

Figure 4.23: Average Node Percentage Sleep Time for Random Corner Topology

88

Average Node Percentage Sleep Time ( %)

75 70 65 60 55 50 2 3 4 6 8 10 Packet Generation Interval (sec) 12 DTRAMA TRAMA

Figure 4.24: Average Node Percentage Sleep Time for Grid Corner Topology
Average Node Percentage Sleep Time (%)
74 72 70 68 66 64 62 60 58 56 2 3 4 6 8 10 Paceket Generation Interval (sec) 12 DTRAMA TRAMA

Figure 4.25: Average Node Percentage Sleep Time For Grid Center Topology

89

5 Conclusion and Future Work
In this thesis, we proposed the use of the directional antenna for wireless sensor networks in underground mines. The rationale of using directional antenna to makes use of spatial reuse, higher transmit gain, and reduced interference is also validated through simulation, which shows that directional communication is vital for improving the packet delivery ratio and reducing packet latency and energy consumption. We also proposed energy efficient scheduled directional medium access control protocol (DTRAMA), which is, to the best of our knowledge, the first proposed scheme for making the directional scheduled MAC protocol energy efficient and traffic adaptive. DTRAMA is based on TRAMA [3] that is a scheduled MAC to achieve energy efficiency by exploiting sleep times. Like TRAMA, it partitions frame into contention period and contention-free period. Neighbor discovery is performed within contention period. TDMA is used in contention-free period. Nodes announce their transmission and sleep schedules for the contention-free period. However, DTRAMA differs significantly from TRAMA in dealing with directional transmission and its challenges such as deafness and new hidden node problems. In DTRAMA, nodes use directional transmission and reception for data communication, and omnidirectional communication for neighbor discovery. The nodes maximize spatial reuse offered by the directional antenna through the proposed arbitration scheme and spatial reuse checks that create a conflict free schedule. The neighbors of a node know the periods of its deafness through the schedule of its transmission that it announces periodically. We evaluated the performance of DTRAMA through simulation and compared it with TRAMA and DMAC. Comparison of the packet delivery ratios indicates that DTRAMA outperforms DMAC because of the resolution of the directional contention based MAC protocol problems e.g. deafness and hidden terminal problem etc. DTRAMA shows a little improvement in packet delivery ratio over TRAMA due to the reduced interference of the directional antennas. In DTRAMA, the nodes, by reusing the wireless medium, can perform concurrent transmissions that is helpful to reduce packet latency and to increase system capacity and system throughput. We compared the average packet delay of DTRAMA, TRAMA and DMAC. DTRAMA and TRAMA, because of their scheduled nature, show higher packet latency than that of contention based directional MAC protocol, DMAC. DTRAMA outperforms TRAMA in average packet delay, which is mainly because of higher spatial reuse of directional antenna that creates the possibility of concurrent transmissions that is lacking in omnidirectional communication. DTRAMA is energy efficient because of the use of

90

the directional data communication and creation of traffic adaptive sleep schedule, which minimizes node's idle listening and overhearing. The nodes in TRAMA show higher percentage of sleep time as compared to DTRAMA. This is because the nodes in DTRAMA reuse the wireless medium due to spatial reuse of the directional antenna, which reduces average percentage of their sleep periods. But in the case of DTRAMA, the nodes' most of the communication is directional which requires less transmission power for the same transmission range. For DTRAMA, the lower transmit power compensates the loss of energy due to higher percentage of sleep period. Hence, overall the DTRAMA is more energy efficient than TRAMA. There are a number of areas that need further exploration. There is a need to introduce the schedule summary message in data packets so that it can minimize the effect of packet loss of schedule messages. The full potential of energy saving in DTRAMA needs to be investigated by taking into account the impact of beam width and low power directional transmission for a given transmission range on power saving vis-à-vis less sleep time. As a result of that investigation, further opportunity of optimization of the percentage sleep period can be explored. Currently DTRAMA lacks the implementation of the need transmitter, which can be added in future. The performance of DTRAMA needs to be evaluated using ray optical propagation model in underground mining environment to exploit the benefit of directional communication.

91

Bibliography:
[1] Bandyopadhyay, L. K. Chaulya, S. K. Mishra, P. K. ,"Wireless Communication in Underground Mines : RFID based Sensor Networking" [2] Osama Bazan,Muhammad Jaseemuddin,"A survey on MAC protocols for wireless Ad hoc Networks with beam forming antennas",IEEE Communications Surveys & Tutorials,Vol.14,No.2,2012 [3] Venkatesh Rajendran, Katia Obraczka, J.J. Garcia-Luna-Aceves, "Energy-Efficient, Collision-Free Medium Access Control for Wireless Sensor Networks",2003 ACM 1-58113-707-9/03/0011 [4] Y.P.Zhang,Y.Hwang, and R.G.Kouyoumjian,"Ray-Optical Prediction of Radio-Wave Propagation

Characteristics in Tunnel Environments- Part-2:Analysis and Measurements",IEEE transactions on antennas and propagation,Vol.46,No.9,1998 [5] Constantine A.Balanis,Panayiotis I.Ioannides,"Introduction to smart antennas",Morgan & Claypool Publishers [6] Romit Roy Choudhury and Nitin H.Vaidya,"Deafness: A MAC problem in Ad Hoc Networks when using Directional Antennas",ICNP2004 [7] Hrishikesh Gossain,Carlos Cordeiro,Dave Cavalcanti and Dharma P.Agarwal," The Deafness Problems and Solutions in wireless Ad hoc networks using Directional Antennas',IEEE Communication Society Globecom 2004 [8] Gentian Jakllari,Ioannis Broustis,Thanasis Korakis,Srikanth V.Krishnamurthy,and Leandros Tassiulas,"Handling Asymmetric in Gain in Directional Antenna Equipped Ad Hoc Networks",2005 IEEE 16th International Symposium on Persional,Indoor and Mobile Radio Communications. [9] Hunag Lu,Jie Li,Zhongping Dong,and Yusheng Ji,"CRDMAC: AnEffective Circular RTR Directional MAC Protocol for Wireless Ad Hoc Networks"IEEE Seventh international Conference on Mobile Ad-hoc and Sensor Networks,2011 [10] Thanasis Korakis,Gentian Jakllari, and Leandros Tassiulas,"CDR-MAC:A protocol for Full Exploitation of Directional Antennas in Ad Hoc Wireless Networks",IEEE Transactions on Mobile Computing ,Vol.7, No.2, FEB,2008 [11] Hrishikesh Gossain,Carlos Cordeiro, and Dharma P.Agarwal,"MDA: An Efficient Directional MAC Scheme for Wireless Ad Hoc Networks",IEEE Globecom 2005 [12] Young-Bae Ko,Vinaychandra Shankarkumar,and Nitin H.Vaidya,"Medium Access Control Protcols using Directional Antennas in Ad Hoc Networks",IEEE INFOCOM,2000 [13] Jia Feng,Pinyi Ren,Shuangcheng Yan,"A Deafness Free MAC protocol for Ad Hoc Networks Using Directional Antennas",IEEE 2009 [14] Zhuochuan Huang,Chien-Chung Shen,Chavalit Sritsathapornphat,and Chaiporn Jaikaeo," A Busy-Tone Based Directional MAC protocol for Ad Hoc Networks",IEEE,2002 [15] Romit Roy Choudhury and Nitin H.Vaidya,"Deafness: A MAC problem in Ad Hoc Networks when using Directional Antennas",ICNP2004 [16] Razgar Rahimi,Gholamreza Dadashzadeh,"Evaluation of auxiliary tone based MAC scheme for wireless ad hoc networks with directional antennas",2012,IEEE [17] Ahmad Ali Abdullah,Lin Cai,and Fayez Gebali,"DSDMAC:Dual Sensing Directional MAC Protocol for Ad

92

Hoc Networks with Directional Antennas",IEEE transaction on Vehicular technology,Vol.61,No.3,March 2012 [18] Wei Ye, John Heidemann, Deborah Estrin, "An Energy-Efficient MAC Protocol for Wireless Sensor Networks",IEEE INFOCOM 2002 [19] Tijs van Dam,Koen Langendoen, "An Adaptive Energy-Efficient MAC Protocol for Wireless Sensor

Networks" [20] Peng Lin, Chunming Qiao and Xin Wang, "Medium Access Control With A Dynamic Duty Cycle For Sensor Networks",WCNC 2004 / IEEE Communications Society [21] Shih-Hsien Yang, Hung-Wei Tseng, Eric Hsiao-Kuang Wu, and Gen-Huey Chen, "Utilization Based Duty Cycle Tuning MAC Protocol for Wireless Sensor Networks", IEEE Globecom 2005 [22] Gang Lu, Bhaskar Krishnamachari, Cauligi S. Raghavendra , "An Adaptive Energy-Efficient and Low-Latency MAC for Data Gathering in Wireless Sensor Networks"Proceedings of the 18th International Parallel and Distributed Processing Symposium (IPDPS'04) [23] N.A Vasanthi, S. Annadurai, "Energy Efficient Sleep Schedule for Achieving Minimum Latency in Query based Sensor Networks"Proceedings of the IEEE International Conference on Sensor Networks, Ubiquitous, and Trustworthy Computing (SUTC'06) [24] Tao Zheng, Sridhar Radhakrishnan,Venkatesh Sarangan, "PMAC: An adaptive energy-efficient MAC protocol for Wireless Sensor Networks", Proceedings of the 19th IEEE International Parallel and Distributed Processing Symposium (IPDPS'05) [25] Lichun Bao, J.J. Garcia-Luna-Aceves, "A New Approach to Channel Access Scheduling for Ad Hoc Networks" [26] Venkatesh Rajendran, J. J. Garcia-Luna-Aceves, Katia Obraczka, "Energy-Efficient, Application-Aware Medium Access for Sensor Networks"MASS 2005 [27] Harkirat Singh, Suresh Singh, "A MAC protocol based on Adaptive Beamforming for Ad Hoc Networks", 14" IEEE 2003 International Symposium on Persona1,lndoor and Mobile Radio Communication Proceedings [28] Jianfeng Wang, Yuguang Fang, Dapeng Wu, "SYN-DMAC: A Directional MAC Protocol for Ad Hoc Networks with Synchronization", [29] Jin-Jia Chang, Wanjiun Liao, and Ting-Chao Hou , "Reservation-Based Directional Medium Access Control (RDMAC) Protocol for Multi-hop Wireless Networks with Directional Antennas",IEEE ICC 2009 proceedings [30] Zhensheng Zhang, Bo Ryu, Gayathri Nallamothu and Zhuochuan Huang, "Performance of All-Directional Transmission and Reception Algorithms in Wireless Ad Hoc Networks with Directional Antennas" [31] Anand Prabhu Subramanian and Samir R. Das , "Addressing Deafness and Hidden Terninal Problem in Directional Antenna based Wireless Multi-Hop Networks",2007 IEEE. [32] Theodora Karveli, Konstantinos Voulgaris, Mohammad Ghavami, A.H. Aghvami, "A Collision-Free Scheduling Scheme for Sensor Networks arranged in Linear Topologies and using Directional Antennas",DOI 10.1109/SENSORCOMM.2008.77 [33] Lichun Bao, J.J. Garcia-Luna-Aceves, "Transmission Scheduling in Ad Hoc Networks with Directional Antennas",MOBICOM'02, September 23­26, 2002, Atlanta, Georgia, USA. 2002 ACM 1-58113-486-X/02/0009

93

[34] Jianfeng Wang, Hongqiang Zhai, Pan Li,Yuguang Fang, Dapeng Wu,"Directional medium access control for ad hoc networks", Springer Science+Business Media, LLC 2008 [35] http://www.nsnam.org/ [36] J.D. Parsons, The Mobile Radio Propagation Channel, London, U,K,: Pentech, 1992. [37] Silke Meister, Christian Hartmann, "A Realistic Beamforming Model for ns-2", 2010 Third International Conference on Advances in Mesh Networks [38] http://www.redpinesignals.com/pdfs/RS9110-N-11-02/RS9110-N-11-02_Module_DataSheet_v1.49.pdf [39] Jianfeng Wang, Hongqiang Zhai, Pan Li,Yuguang Fang, Dapeng Wu,"Directional medium access control for ad hoc networks", Springer Science+Business Media, LLC 2008 [40] Xu Geng,Guangsong Yang,"Energy-efficient Route Finding Scheme Based on Directional Antenna in Wireless Sensor Network",The 1st International Conference on Information Science and Engineering (ICISE2009)

94

