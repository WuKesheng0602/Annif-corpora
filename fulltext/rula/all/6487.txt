AUTOMATIC COVERAGE MEASUREMENT OF SHOT PEENED PANELS

by Lubna Shahid BSc., Electrical and Computer Engineering, Saudi Arabia Effat University, 2013

A dissertation presented to Ryerson University

in partial fulfillment of the requirement for the degree of Master of Applied Science in the program of Mechanical Engineering

Toronto, Ontario, Canada, 2017 © Lubna Shahid, 2017

Author's declaration
I hereby declare that I am the sole author of this thesis. This is a true copy of the thesis, including any required final revisions, as accepted by my examiners. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research. I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. I understand that my thesis may be made electronically available to the public.

i

AUTOMATIC COVERAGE MEASUREMENT OF SHOT PEENED PANELS Lubna Shahid Master of Applied Science , 2017 Mechanical Engineering Ryerson University

Abstract
Shot peening is the process of treating metallic surfaces with a regulated blast of shots to increase material strength and durability. Determining the coverage level of the shots is an important parameter in the assessment of the quality of treatment. Traditionally, coverage measurement is performed manually using a magnifying glass, which leads to inefficiency. Despite the proposal for the use of image segmentation techniques for determining the coverage measurement, literature on this topic is not extensively developed. In this thesis, various relevant image segmentation techniques are investigated including thresholding, edge detection, watershed segmentation, active contour, graph cut and neural network. The aim is to develop a generic coverage measurement algorithm, which is accurate and robust to variations in illumination, shot type, coverage level and has real-time capabilities using a simple experimental setup. The results obtained from each method are discussed and compared against a set of relevant performance criteria.

ii

Acknowledgements
First and foremost, I would like to extend my deepest gratitude towards my supervisor, Dr. Farrokh Janabi-Sharifi. I like to thank him for his continuous support and guidance throughout my studies. I appreciate his support during the difficult periods, and for providing me with constructive feedback to help me grow my research skills. I would also like to thank my lab mates Patrick Keenan and Akbar Assa. For assisting me with the experiments and always being available to answer my questions. This project would not be possible without the collaboration of our industrial partners, Sonaca, Quanser and Vibra Finish. I would like to thank them for providing us with the needed resources and answering our technical questions. I would also like to thank Mr. Devin Ostrom, technical officer of Mechanical Engineering at Ryerson University, for fabricating parts of the experimental set-up. Many thanks to the rest of RMAL members, Ata Taghipour, Shahir Hasanzadeh, Hossein Bonyan, Abdul Afram and Yasser Ali, for providing a pleasant and collaborative environment in the lab. Special thanks to Afshin Rahimi, for his friendship and constant support. Finally, I would like to thank my parents, Shahid Anwar and Bushra Bano and my siblings, Hiba Shahid and Shoeb Anwar. For without their love and encouragement, I would not have been able to come this far.

iii

Contents

Author's declaration Abstract Acknowledgements List of Tables List of Figures Nomenclature 1 Introduction 1.1 1.2 1.3 1.4 1.5 2 Coverage Measurement . . . . . . . . . . . . . . . . . . . . . . . . . . . . Shot Peening . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Research Motivation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Thesis Contribution . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Thesis Structure . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

i ii iii vii viii xi 1 1 2 4 5 6 7 7 9 10 11 12 14 15

Image segmentation techniques for shot peen coverage measurement 2.1 2.2 2.3 2.4 2.5 2.6 2.7 Literature Review . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Thresholding . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Edge Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Watershed Segmentation . . . . . . . . . . . . . . . . . . . . . . . . . . . Active Contours . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Graph Cuts . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . iv

3

Experimental Results 3.1 3.2 3.3 Set-up . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Performance Criteria . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.3.1 3.3.2 3.3.3 3.4 3.5 Accuracy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Robustness . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Efficiency . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

17 17 18 21 22 22 25 26 27 28 28 28 28 30 31 32 32 33 34 35 36 37 40 40 41

Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

4

A neural network method for shot peen coverage measurement 4.1 4.2 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.2.1 4.2.2 4.2.3 4.2.4 4.3 Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Training set . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Feature selection . . . . . . . . . . . . . . . . . . . . . . . . . . . Testing and Validation . . . . . . . . . . . . . . . . . . . . . . . .

Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.3.1 4.3.2 4.3.3 Accuracy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Robustness . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Efficiency . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

4.4 4.5 5

Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

A hybrid method for vision-based surface coverage measurement 5.1 5.2 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

v

5.2.1 5.2.2 5.2.3 5.3

Pre-processing . . . . . . . . . . . . . . . . . . . . . . . . . . . . Segmentation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Post-processing . . . . . . . . . . . . . . . . . . . . . . . . . . . .

41 42 43 44 45 45 46 47 48 51 52 52 53

Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5.3.1 5.3.2 5.3.3 5.3.4 Accuracy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Robustness . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Efficiency . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Other Applications . . . . . . . . . . . . . . . . . . . . . . . . . .

5.4 5.5 6

Discussion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Conclusion and Future Works 6.1 6.2 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Future works . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

vi

List of Tables

3.1 3.2

Description of panels used in the experiment . . . . . . . . . . . . . . . . . Computation Time for thresholding, Moore's contour, morphological operations, localizing active contour and graph-cuts method . . . . . . . . . . .

18

27

4.1

Computation time for thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and ANN method . . . . . . . . 35

5.1

Computation time for thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and hybird method . . . . . . . 47

vii

List of Figures

2.1

Similarity shared between images of (a) blood cells (Source: Graham Beards, lic. CC BY-SA 3.0) and (b) images of shot peened surfaces . . . . . . . . . 8

3.1

Experimental setup in the lab, with a CRS robot arm holding the camera fitted with the lens overlooking a sample panel . . . . . . . . . . . . . . . . 17

3.2

The images are taken at a constant distance capturing a window of 2mm × 2mm (a) Original image of CW-28 panel with 50% coverage level (b) Original image of CS-550 panel with 50% coverage level (c) Original image of 1083D panel with 50% coverage level . . . . . . . . . . . . . . . . . . . 19

3.3

(a) Portion of original image of the CS-550 panel with 75% coverage level, (b) Manually segmented ground truth image, (c) Image segmented via Moore's neighborhood contour algorithm, (d) The regions superimposed on the original image, pink represents false negatives, black represents true positives and green represents false positives . . . . . . . . . . . . . . . . . . . . . . 21

3.4

(a) original image of CS-550 panel with 25% coverage level, (b) ground truth image prepared manually through Paint.NET . . . . . . . . . . . . . . . . 22

3.5

Error results for CW-28 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour and graph-cuts method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23

3.6

Error results for CS-550 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour and graph-cuts method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23

viii

3.7

Error results for 1083-D panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour and graph-cuts method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24

3.8

Robustness to non-uniform lighting conditions for CW-28 panel with 50% coverage level tested against different methods . . . . . . . . . . . . . . . 24

3.9

Visual representation of robustness to non-uniform lighting results for CW28 panel, with 50% coverage level, where green represents the false positive pixels, pink shows the false negative pixels and black represents the true positive pixels . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25

3.10 Robustness to different shot sizes for all the panels, with 25% coverage level tested against different methods . . . . . . . . . . . . . . . . . . . . . . . 3.11 Robustness to different shot sizes for CS-550 panels, with 50% coverage level tested against different methods . . . . . . . . . . . . . . . . . . . . . 4.1 A neural network topology. The number of input nodes are equal to the image features, and the hidden layer is treated as an experimental parameter. The output layer has two nodes one for the peened and other for non-peened class . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.2 4.3 30 26 26

N-dimensional matrix of the feature sets describing preparation of training set 31 Error results for CW-28 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and ANN method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33

4.4

Error results for CS-550 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and ANN method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34

ix

4.5

Error results for 1083-D panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and ANN method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35

4.6

Robustness to non-uniform lighting for 1083-D panel with 25% cover-age level tested against different methods . . . . . . . . . . . . . . . . . . . . . 36

4.7

Visual representation of robustness to non-uniform lightning results for 1083D panel, with 25% coverage level represented by false negative (green), false positive (pink) and true positive (black) . . . . . . . . . . . . . . . . . . . 37

4.8

Robustness to different shot sizes for all the panels with 25% coverage level tested against different methods . . . . . . . . . . . . . . . . . . . . . . . 38

4.9

Robustness to different coverage levels of CS-550 panel for all the tested against different methods . . . . . . . . . . . . . . . . . . . . . . . . . . . 38

5.1

Framework representing different stages of vision-based surface coverage measurement . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40

5.2

Pre-processing results for CW-28 panel with 50 % coverage level, (a) original image acquired by the camera, (b) result after applying median filter and (c) result after applying morphological closing to the filtered image . . . . . 42

5.3

Error results for CW-28 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and hybrid method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 45

5.4

Error results for CS-550 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and hybrid method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46

5.5

Error results for 1083-D panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and hybrid method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . x 47

5.6

Robustness to non-uniform lighting for 1083-D panel with 25% cover-age level tested against different methods . . . . . . . . . . . . . . . . . . . . . 48

5.7

Visual representation of robustness to non-uniform lightning results for 1083D panel, with 25% coverage level represented by true positive rate . . . . . 49

5.8

Robustness to different shot sizes for all the panels with 25% coverage level tested against different methods . . . . . . . . . . . . . . . . . . . . . . . 50

5.9

Robustness to different coverage levels of CS-550 panel for all the tested against different methods . . . . . . . . . . . . . . . . . . . . . . . . . . . 50

5.10 Visual representation of the blood cell and coin segmentation demonstrating the generic aspect of the algorithm . . . . . . . . . . . . . . . . . . . . . . 51

xi

Nomenclature

  µ 

learning rate momentum mean gradient erosion

 2 A Axy B E  V ×V e E (X ) f (x, y) Fc Fn Fp g(I ) gv

dilation variance set two dimensional gray scale image structuring element set of interacting pairs of pixels average error energy function characteristic feature function of (x, y) constant false negative false positive edge stopping function data term

xii

huv I k = 1, 2, 3....N K L m M n OM s p(i, j) S S(x, y) t T0 Tk Tm Tn Tp Ts 1  s  n u, v  E

the smoothness term image intensity iteration number curvature label number of pixels in vertical dimension layered network number of pixels in horizontal dimension output normalized histogram of the image entropy segmented feature for thresholding time minimum threshold level threshold level maximum threshold level true negative true positive sth target adjacent pixels

xiii

V w W x, y xe Xu Xv ZM ANN BM BPNN SE

set of pixels window size vector formed by all the network weights pixel coordinates in the image binary set to either 1 when there is error or 0 otherwise position of u position of v number of output neurons Artificial Neural Network Boykov's Method Back Propagation Neural Network Structuring Element

xiv

1 Introduction

1.1

Coverage Measurement

Measuring the coverage area by visual inspection is a standard practice in a variety of fields to assess the quality of work, extract shape and size information, e.g., for object classification. Coverage measurement is performed manually or may be automated using image processing techniques. Manual visual inspection on large data set tends to be time consuming and inefficient. Applying computer vision methods such as image segmentation, which partition images into desired salient regions [1], for automatic surface coverage measurement seems promising. Several advantages would include consistency of measurement, error reduction, increased calculation speed, compatibility with computer-aided manufacturing, and a potential for real-time processing. A generic vision-based surface coverage measurement system could benefit several applications. 1. In aerospace and automotive industries, shot peening is used to enhance fatigue strength of the parts. One of the important parameters of this process is measuring the coverage area, which so far depends on manual visual inspection using a microscope. This leads to inaccuracy, and therefore employing an automated coverage measurement system is much needed. 2. In the bio-medical field, finding the area of different cells is essential in determining abnormalities which can be further used in diagnosis and other clinical applications [2]. Extensive research has been done in the field of cell segmentation [3]. However, it is an application-dependent task and requires the algorithm to be tailored according to the particular segmentation problem [4]. This gives rise to the need for a general

1

Chapter 1. Introduction segmentation algorithm that can efficiently target a broad range of simple cell segmentation problems. 3. Automatic coin identification which utilizes the information obtained from surface coverage measurement to classify the coins significantly reduces the time and increases efficiency in the automatic coin sorting systems [5]. Coin segmentation is the first step in recognition pipeline. Substantial work has been put into it; however, in current practice segmentation is mostly done using basic image processing algorithms such as thresholding and Hough transform. Also, the coin segmentation problem is mainly developed for specific coin types [6, 7]. Therefore, a generic algorithm to accurately segment all coin types is required. 4. Surface coverage measurements for painting and floor cleaning, are among other examples of the many existing applications [8]. This thesis primarily focuses on developing a method tailored towards the surface coverage measurement of shot peened panels. The method is also applied towards cell and coin segmentation applications to highlight the generic aspect of the algorithm.

1.2

Shot Peening

Shot peen forming is a cold metal working process. It entails the treatment of a surface through bombarding it with a regulated blast of shots to produce a desirable plastic deformation [9]. Most of the surfaces are subjected to treatments such as grinding, milling, or heat procedures. This results in the development of residual tensile stress, which in turn reduces the surface life cycle. The shot peening process turns the residual tensile stress into compressive residual stress. The surface is uniformly treated producing a layer of compressive

2

Chapter 1. Introduction stress on the surface, which prevents fracture because crack can not propagate in a compressive zone. This leads to significant increase in fatigue strength and prolongs surface life. Commonly air blast systems and centrifugal blast wheels are used to carry out the process. Several parameters contribute to the strength of the surface including the material of surface, shot type, shot intensity and coverage area [10]. 1. Different materials can be used for the surface including copper alloy, aluminum alloy, titanium alloy, steel, or cast steel. 2. The type of shot used to treat the surface affects the coverage level, some of the different shot types include cast steel, cut wire, ceramic or glass bead. 3. Intensity measurement is usually made using the so-called Almen intensity test, which is a clear standard procedure. 4. The estimation of coverage area is a fundamental parameter when determining the surface strength. It is influenced by the shot material, impact or shot flow, and exposure time. The coverage area is measured as coverage level ranging from 25%, 50%, 75% and 100% for aircraft panels. Reaching an optimal level of coverage is crucial in obtaining the desired surface effect [11]. Shot peening process has a wide range of applications including automotive, aerospace and heavy equipment industries to treat parts such as gearwheel, turbine blade, aircraft panel, suspension spring, coil spring, etc.

3

Chapter 1. Introduction

1.3

Research Motivation

Typically the coverage area is measured through visual inspection after peening, where the surface is inspected at a few locations with a microscope to determine the coverage percentage (0%-100%) [10]. However, this conventional approach has numerous drawbacks. The area is estimated visually at specific sites. This leads to inaccuracy as the entire surface is not measured and the estimation is not based on a calculated percentage. Also, it is time-consuming to perform coverage measurement over the entire surface manually. Consequently, such approach cannot be used in process automation, and in particular, for real-time feedback to the machine. These limitations provide room to develop new methods for coverage measurement. Among various techniques within image processing, image segmentation is the one directly applicable to our problem at hand. The acquired image is processed to find the segmented shot peened regions. Thus, the percentage of the area which has been peened can be calculated. However, several challenges exist in the segmentation of shot peened areas. Some of them are as follows. 1. During image acquisition, the lighting conditions of the environment create undesired artifacts in the image. This results in the intensity of the peened centers to be similar to that of the background leading to wrong segmentation; hence, reducing accuracy. 2. Most of the panels have random machining streaks in the background, which increase the image noise. 3. The shot type and the coverage level of the image under inspection can affect the robustness of the method used. 4. The process needs to be done on-line for real-time processing applications.

4

Chapter 1. Introduction Therefore, the objective is to develop a generic coverage measurement algorithm, which is accurate and robust to variations in illumination, shot type, coverage level and has real-time capabilities under a simple experimental setup. Such a system would be of great benefit towards the field of automated vision-based surface coverage measurement.

1.4

Thesis Contribution

The contributions of the thesis are summarized as follows.

Image segmentation techniques for shot peen coverage measurement:

As discussed

in the related works in Chapter 2, the literature lacks extensive work on previously developed image segmentation techniques for shot peened panels. This presented an opportunity to research relevant image segmentation methods and publish a paper comparing different methods used for shot peened panels [12]. The main contribution of this paper is that, to the best of our knowledge, it is the first paper applying and comparing image segmentation methods for coverage measurement of peened surfaces. Chapter 2 discusses the applicable methods including Otsu's thresholding, Moore's contour, morphological operations, active contour and graph cuts.

A neural network method for shot peen coverage measurement:

The image segmen-

tation techniques presented in Chapters 2 and 3 are based on intensity segmentation. Their performance is consistent with different shot sizes and coverage levels. However, most of them failed to eliminate machining streaks. In Chapter 4, a neural network trained on textural features is proposed. The uniqueness of employing a neural network is their ability to remove the machining streaks while delivering superior performance entirely, and it is the first implementation of neural network on shot peened surfaces. 5

Chapter 1. Introduction A hybrid method for vision-based surface coverage measurement: Chapter 5 presents a novel hybrid approach. This method combines graph cuts and morphological operations based on their individual performances to propose a generic method robust to non-uniform illumination. There are two main features of the hybrid method. First, it is generic, which provides robustness to non-uniform illumination. Second, it does not require any parameter tuning for different applications as opposed to the neural networks. The generic aspect of the system is highlighted through presenting the performance of the algorithm on cell and coin surface coverage measurement.

1.5

Thesis Structure

Chapter 2 presents a literature review and describes each segmentation methods while highlighting the contributions made in the published paper [12]. Chapter 3 outlines the experimental setup and the performance criteria used for result analysis. The results for each method is also presented in this section. Chapter 4 details the neural network implementation and discusses the obtained results. In chapter 5, the hybrid method combining graph cuts and morphological operations is presented, along with the obtained results. Finally, the thesis is concluded in chapter 6 by providing a summary, future works, and highlighting the shortcomings.

6

2 Image segmentation techniques for shot peen coverage measurement

2.1

Literature Review

There are a few existing works that use image segmentation to determine shot peen coverage [10, 13]. In [10] inductive algorithm generated rule segmentation and a multi-agent segmentation system were proposed for coverage measurement. However, it was applicable only for coverage levels less than 50%, and the system was not designed for real-time applications. In [13], a model-based technique was proposed. A series of images captured by varying the light orientation from 32 different angles, and then fused as one image to highlight all the shot areas for a robust segmentation. However, the experimental setup and assembly used were too complicated. Also, it hardly met the real-time requirement of the problem at hand. Among different segmentation applications, blood cell segmentation techniques are a natural direction to search for possible approaches since this application is very similar to shot peen coverage measurement. The shape, size, pattern and density of cells under a microscope and shot peen divots on a surface are alike, as can be seen in Fig. 2.1. The segmentation of cells is extremely important for various biomedical applications such as cell type identification, quantifying cell migration, and investigating cell interaction. Therefore, the research has resulted in a vast literature on cell segmentation containing several successful methods [3]. There are several challenges associated with cell segmentation which often depend on the type of segmented cell, density of populated cells, overlapping cells, variety of cells involved, and quality of image acquisition. Although the problem of cell segmentation has similar nature to shot peen coverage measurement, the challenges faced in the latter are different. Unlike cell segmentation, the image acquisition procedure for shot

7

Chapter 2. Image segmentation techniques for shot peen coverage measurement

(a) Red blood cells

(b) Shot peened panel

Figure 2.1 Similarity shared between images of (a) blood cells (Source: Graham Beards, lic. CC BY-SA 3.0) and (b) images of shot peened surfaces

peen coverage measurement does not involve staining of the treated surface, and since the surface has a shiny metal texture, this gives rise to non-uniform illumination as one of the major challenges. In addition, the surface background typically contains machining streaks adding to the challenge of segmentation. Finally, most cell segmentation techniques focus on segmenting overlapping cells, which is not required in the addressed application, rather the total shot area must be segmented accurately. Variations in background and imprint sizes due to changes of shot type, shot size and speed of impact are not significant in cell segmentation either. The most popular relevant segmentation techniques include thresholding, edge detection, watershed, partial differential equations, and graph cuts [3, 14­18]. It should be noted that the methods described in this chapter are based on intensity of the image. In the following subsections, each method, tailored for the coverage measurement problem, will be briefly described.

8

Chapter 2. Image segmentation techniques for shot peen coverage measurement

2.2

Thresholding

Statistical thresholding is the simplest image segmentation algorithm that divides the image into different regions based on its histogram. It can be mathematically described as follows: S(x, y) = k if Tk-1  f (x, y) < Tk , (2.1)

where (x, y) is the coordinate of the pixel, S(x, y) is the segmented feature, f (x, y) is the characteristic feature function of (x, y), and Tk is the threshold, where T0 corresponds to the minimum threshold level and Tm is the maximum threshold level [19]. The values of the thresholds are the most critical parameters which separate the image into the desired segmented regions. Thresholding can often be classified into three types [21]: 1. Global Thresholding. The threshold level is fixed and applied to the whole image. 2. Multiple Thresholding. More than one threshold level is defined and applied to the whole image, dividing it into more than two regions. 3. Adaptive Thresholding. The threshold level is dynamic and changes depending on the pixel properties in a neighborhood window. This is used especially in cases of non-uniform background illumination [21, 22]. One of the most popular methods for determining the threshold level automatically is Otsu's method [20], which is based on maximizing the within-class variance depending on computations from the histogram. The idea is to select a threshold that gives the best separation between the classes. However, in practice, thresholding produces poor segmentation results when compared with other methods. It is usually used in the pipeline of segmentation as an initial step [3].

9

Chapter 2. Image segmentation techniques for shot peen coverage measurement The shot peen segmentation requires the acquired image to be divided into two regions, shot areas and background. Therefore, global thresholding is implemented as opposed to multiple thresholding. However, a fixed threshold needs to be specified. As the acquired images are different, a fixed threshold can not be applied to all. Finally, Otsu's method is used for thresholding which automatically computes the threshold point by maximizing the within class variance. For cases with non-uniform illumination, adaptive thresholding is tested, this method results in exaggerating the machining streaks and segmenting them as part of shot area.

2.3

Edge Detection

One of the most common approaches in segmentation is finding meaningful discontinuities in gray level [22]. Edges can be either intensity or texture based edges. Intensity edges are identified by a sudden change such as ramp or step, whereas texture edges arise due to changes in reflectance properties or correspond to a surface texture. Using basic filters (such as the Roberts, Prewitt and Sobel operators) the edges can be found in an image. The more advanced methods use the Laplacian of Gaussian (LoG) filter and Canny detector to detect the edges [21]. These edges are then linked using a linking procedure such as line or curve fitting algorithms [3, 19, 21]. On their own, these methods are not sufficient to solve the problem of segmentation and are therefore mostly used as intermediate steps in the segmentation pipeline. More recently, new methods consider the color and texture features to find the edge or contour. Contour tracing is defined as drawing the outline of the object, with several methods proposed for this objective [24], such as Moore neighborhood contour tracing algorithm. With any of the contour or edge detection algorithms, subsequent steps are needed to segment

10

Chapter 2. Image segmentation techniques for shot peen coverage measurement the regions out. Usually thresholding or flood filling are the main approaches to complete the segmentation of regions. For the shot peen segmentation, the basic filters along with the Canny edge detector are implemented at first. These methods found the edge of the shot areas along with the machining streaks on the panel. Using Moore neighborhood contour tracing algorithm, only the connected components are segmented, which mostly comprises of the shot areas.

2.4

Watershed Segmentation

Watershed segmentation is based on mathematical morphology, built on methods for changing the shape, size, structure and connectivity of the object [25]. Watershed methods are applicable to both binary and grayscale images. Morphological operations are done by using a template or mask, termed the Structuring Element (SE) with a predetermined fixed size. The basic morphological operations are erosion and dilation [17]. Erosion operates by eroding away the boundaries of foreground pixels thus producing a shrinking effect. In dilation, the basic effect is to enlarge the boundaries of the foreground pixels thus producing a growing effect. Basic erosion and dilation are used to build up advanced operations such as morphological opening and morphological closing. In the former, the image is first eroded with a structuring element and then dilated. This operation eliminates regions below the size of the structuring element. In morphological closing, the image is first dilated with a structuring element and then eroded. This operation fills any holes in the region and is commonly used as the hole filling operation. These steps are often necessary to remove any noise resulting from thresholding or edge detection operations [26]. Watershed method is classified as a region-based segmentation approach. This algorithm is proposed to treat an image as a topological surface with catchment and basins. The watershed line draws the contour of the

11

Chapter 2. Image segmentation techniques for shot peen coverage measurement object [27]. Generally, the major drawback of this algorithm is that it often leads to over segmentation. Several methods [17, 25­27] have been proposed to solve the over segmentation problem occurring in the watershed algorithm. Despite this issue, watershed is regarded as one of the fastest methods with respect to robustness to non-uniform illumination conditions. In the context of the present research problem at hand, it is discovered that the desired segmentation can be achieved by using only the morphological operations and watershed lines are not needed. The size of the structuring element is fixed depending upon the shot type used. First the gradient magnitude of the image is obtained by using a sobel filter. The images are then passed through a morphological closing operation to smooth the image followed by a morphological closing operation to fill any holes. The final image is thresholded to obtain a binary image.

2.5

Active Contours

Active contours (also called snakes) technique is a popular method for image segmentation. The main goal in active contour approach is to evolve a curve in an image, based on defined constraints, towards the boundary of the desired object to be segmented. An initial rough segmentation is provided and then the curve is fit to the contour in an iterative manner through minimizing a predefined energy function [3]. In the active contours method, the energy function is comprised of two main terms; an inward acting force to push the curve to the boundary, and a term that controls the smoothness or fairness of the curve. Active contours can be divided into two main categories, namely edge based and region based techniques. Geodesic active contours is an edge based approach which was first introduced in [28], where the level set function  is defined as [28, 29]: d = g(I )(Fc + K ( ))| | +  g(I ), dt 12 (2.2)

Chapter 2. Image segmentation techniques for shot peen coverage measurement where Fc is a constant, t represents time,  denotes the gradient I is the image intensity and K denotes the curvature term given by K = div
2 - 2  +   2 xx y  x y yy x = 2 +  2 )3/2 | | (x y

(2.3)

where (x, y) are the pixel coordinates in the image, and g(I ) is the edge stopping function given by g(I ) = 1 . 1 + |I |2 (2.4)

For images where the edges are well defined and the area inside the object is heterogeneous, the geodesic active contour is well suited. However, this approach suffers from a few drawbacks including early stopping of the curve evolution before reaching the accurate segmentation [29­31], high sensitivity to noise, and dependence on the initial rough segmentation [32]. Another approach to find the contour is the region-based approach, where the energy function is defined on the region statistics instead of local gradients [30, 32]. The region based approach is built on the region competition work of Zhu et al. [33]. The most commonly used region based algorithms consider the regions in the image to be of constant intensity. However, some advanced methods inspect the histogram, texture map known distributions or structure tensors [32]. The region-based approach has the advantage over the edge-based approach in robustness and is not dependent on the initial rough segmentation [3]. However, the region based segmentation approach performs poorly on images with heterogeneous regions when they are modeled based to the global statistics of the image. To overcome the limitations of the edge-based and region-based approaches, a combination of two methods has been proposed. In Lankton's method [32], localizing region-based active contours was proposed to use the information from the edge-based method while having the benefits of region-based method. They considered the local (rather than global) statistical information to overcome the problem of the region-based method. Overall, active contours are

13

Chapter 2. Image segmentation techniques for shot peen coverage measurement a robust and accurate way of segmenting images. However, since it is an iterative procedure, it does have the drawback of being time consuming. The shot peen panels are segmented using each of the three active contour method. The geodesic and region based active contour provided less accurate results. However, Lankton's method, which combines both features of edge and region based methods is more accurate. The methods are iterative and took longer to segment. To reduce the computational time, the images are first down-sampled to half their size. This resulted in loss of information and reduced the accuracy.

2.6

Graph Cuts

This technique is used for solving a number of problems in the area of image restoration, segmentation, noise reduction, texture synthesis or photomontage in image processing [34]. The concept of the graph cuts method is to formulate an energy function and solve it by minimization. An energy function E (X ) with label L, a set of pixels V and an assignment X : V  L is defined as follows [35]. E (X ) =

v V

 (gv) + 

huv (Xu , Xv ),

(2.5)

(u,v) E

where Xu and Xv denote position of u and v, respectively. E  V × V is the set of interacting pairs of pixels, and (u, v)  E denotes adjacent pixels, gv is the data term, and huv represents the smoothness term. Boykov et al. proposed a segmentation method, abbreviated BM below, based on graph cuts [36]. In this method, the images were converted into graphs having two nodes namely the sink and terminal nodes, and each pixel was considered as a node. The remaining nodes were assigned a data term by getting the minimized energy function through solving max-flow min-cut algorithm, which is based on established theorems in optimization 14

Chapter 2. Image segmentation techniques for shot peen coverage measurement theory. The nodes were then partitioned into two disjoint sets as background and foreground. Two well-known methods to solve the max-flow min-cut problem are push relabel and fast augmenting programs. The push relabel performs better for general graphs and fast augmenting is good for grid graphs. Through minimizing the energy function the optimum cut is obtained which separates the background pixels from the foreground. In BM the data term is defined by intensity level [36]. If there are other criteria that can be used to define the segmented area, then hard constraints are introduced. Hard constraints are to be input manually by the user. Therefore if there is a large data set to be processed, applying hard constraints is not practical. Graph cut methods can be divided into different classes. One class is speed-up based graph cut where the speed of the graph cut is improved. Next is the interactive based graph, where user interaction is required [37]. Finally, there is the prior-based graph cut approach, where the prior knowledge of the shape is provided for more concise results. In general, graph cut methods are more robust than active contours as they involve both boundary and region information. Moreover, graph cut techniques can be extended for different images without having any prior knowledge, as well as for N -dimensional images. Prior to the graph cuts implementation on shot peened panels, they are passed through a clustering algorithm to give the foreground and background classes. This is done to automate the foreground seed procedure. This data is then provided to the graph-cuts and the smoothness term is set to [0,1].

2.7

Summary

In this chapter, a brief review of related work is presented. Due to the lack of additional literature work on shot peening segmentation, a similar application to shot peen, namely cell segmentation is selected. The most popular and relevant segmentation methods found in the

15

Chapter 2. Image segmentation techniques for shot peen coverage measurement literature of cell segmentation are studied including thresholding, edge detection, morphological watershed segmentation, partial differential equation segmentation and graph cuts. These methods are based on image intensity for segmentation. The results from the implementation of these methods will be discussed in Chapter 3, after presenting the experimental set-up and the performance criteria used for assessing each algorithm.

16

3 Experimental Results

3.1

Set-up

Fig. 3.1 illustrates the hardware setup of the image acquisition, using a fast Video Graphic Array, Allied Visual® Pike F -032BTM camera (Allied Vision, Exton, PA). The camera has a maximum resolution of 640 × 480 pixels, at a frame rate of 208 frames per second. The camera is connected to a Navitar® Zoom 6000® lens (Navitar, Rochester, NY) having a magnification range of 0.09-393.80 × working at a distance of 13 mm, acquiring clear images at 0.01-182.72 mm field coverage. A 12 V co-axial lighting system is attached at the end producing collimated light (Alternate Vision® , Tucson, AZ). The camera is mounted on a CRS Catalyst 5 (Thermo CRS Limited, Burlington, Ontario, Canada) robot viewing the sample panels.

Figure 3.1 Experimental setup in the lab, with a CRS robot arm holding the camera fitted with the lens overlooking a sample panel

17

Chapter 3. Experimental Results For implementation MathWorks MATLAB® 2014b is used with the image processing toolbox and max-flow 3.01 by Boykov et. al [36] written in C language used by MATLAB® mex. This is processed on an Intel® i3TM , 64-bit operating system having a processing speed of 3.40 GHz and 4 GB RAM. Experiments are performed on shot peened aircraft samples. These samples are provided by an international shot peening company (Sonaca Group: Sonaca Montreal, St. Janvier, Quebec, Canada). Shot type is different for each panel and coverage levels varies from 25%, 50%, 75% and 100%. Finally, a performance metric is formulated and ground truth is obtained to evaluate the results. The panels used are manufactured out of T 6 temper 7075 aluminum alloy using an air blast machine. Some of the advantages of this alloy is that the tensile strength is 510 - 538 MPa, with a yield strength of 434 - 476 MPa and failure elongation of 5­8% making this alloy popular in aerospace applications. A detailed description of each panel can be found in Table 3.1.
Table 3.1 Description of panels used in the experiment

Panel

Shot type

Diameter Impact Hardness (mm) (psi) (HRC) 40-52 45-52 40-52 45-52 30-35 60-67

CW-28 carbon steel cut wire 0.78 CS-550 cast steel 1.79 1083D chrome alloy steel 3.18

Fig. 3.2 illustrates an example image obtained from each of the panel. The area displayed in the picture is a 2mm × 2mm area of the entire surface.

3.2

Performance Criteria

Different methods of image segmentation are compared against each other based on the following performance criteria: 18

Chapter 3. Experimental Results

(a)

(b)

(c) Figure 3.2 The images are taken at a constant distance capturing a window of 2mm × 2mm (a) Original image of CW-28 panel with 50% coverage level (b) Original image of CS-550 panel with 50% coverage level (c) Original image of 1083D panel with 50% coverage level

1. Error: this defines how inaccurate the segmented shots are from the manually segmented shots (gold bench-mark). 2. Robustness: (a) to non-uniform lighting. This measures the robustness of the method against uneven background illumination and changing light conditions. (b) to variance in shots. This measures the robustness of the method against different shot sizes and types. (c) to different coverage levels. This measures the robustness of the method against all coverage levels, 25%, 50%, 75% and 100%. 3. Efficiency: this defines the speed of one algorithm cycle measured in seconds. 19

Chapter 3. Experimental Results First, the error image is obtained by subtracting the final segmented image from the ground truth, and the error percentage is calculated as follows: e= 1 nm

j=1 i=1

  xe,

n

m

(3.1)

where e is the average error, n is the number of pixels in each dimension, and xe is binary set to either 1 when there is error or 0 otherwise. Robustness to non-uniform lighting is measured by the ratios using false positive (Fp ) pixels (which are the falsely segmented foreground pixels), false negative (Fn ) pixels (which are the falsely detected background pixels), true positive (Tp ) pixels (which are the correctly segmented foreground pixels) and true negative (Tn ) pixels (which are the correctly detected background pixels). The ratios are calculated as follows: RF p = Fp , Fp + Tn Fn , Tp + Fn Tp . Tp + Fn (3.2)

RFn = RT n =

(3.3) (3.4)

Both robustness to variance in shot sizes and coverage levels are calculated as follows: precision = Tp . Tp + Fp (3.5)

Fig. 3.3 depicts the regions used to evaluate the error and robustness of the various segmentation methods. The ground truth is obtained by taking the original image for each panel coverage level and manually processing the images through Paint.NET (within Windows 8) which is a free 20

Chapter 3. Experimental Results

(a)

(b)

(c)

(d)

Figure 3.3 (a) Portion of original image of the CS-550 panel with 75% coverage level, (b) Manually segmented ground truth image, (c) Image segmented via Moore's neighborhood contour algorithm, (d) The regions superimposed on the original image, pink represents false negatives, black represents true positives and green represents false positives

software for image and photo editing. Each of the resulting images has clearly marked background area in white and shot peened area in black as can be seen in Fig. 3.4

3.3

Results

Three different images are taken from each panel coverage level, resulting in total of 27 images under one lighting condition. The lighting condition are changed and another set of images were taken, a total of 54 images are used in this experiment. The results are presented in terms of accuracy, robustness and efficiency for each method compared against

21

Chapter 3. Experimental Results

(a)

(b)

Figure 3.4 (a) original image of CS-550 panel with 25% coverage level, (b) ground truth image prepared manually through Paint.NET

one another. It should be noted that 100% coverage level is excluded from the sample, as it is difficult to segment manually.

3.3.1

Accuracy

The error for CW-28. CS-550 and 1083D panels are represented in Figs. 3.5, 3.6 and 3.7 respectively. The error is measured through the mean error, standard deviation, minimum and maximum error. As can be seen from the figures, graph cut performs the best, closely followed by localizing region based active contours and Moore's neighborhood contour method. Morphological segmentation and Otsu's thresholding have very poor performance. For the 1083D panel the errors are higher in value due to the fact that the shot sizes are bigger and they have very bright blobs in the center of imprints when images are captured, contributing further to error. Overall the methods have a similar trend.

3.3.2

Robustness

As it can be seen from Figs. 3.8 and 3.9, robustness to non-uniform lighting conditions is measured through, false negative and true positive for CW-28 with 50% coverage level.

22

Chapter 3. Experimental Results
10 5.5 6.6 6.9 5.4 4.2 8 % Error 6 4 2 0 7.8 4.9

4.1 2.1

Otsu's Moore's Morphological Localizing thresholding neighborhood segmentation region-based AC contour Mean error Standard deviation Minimum error

0.9

Figure 3.5 Error results for CW-28 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour and graph-cuts method
8.7 10 6.2 8 % Error 4.1 6 4 2 0

5.4

5.3

5.2

2.9 2.2 1.4

2.9 3.1

2.9 1.9 1.7

1.8 2.8

Otsu's Moore's Morphological Localizing thresholding neighborhood segmentation region-based AC contour Mean error Standard deviation Minimum error

Figure 3.6 Error results for CS-550 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour and graph-cuts method

Inspecting the false positive values, one can note that the only method demonstrating robustness to non-uniform lighting is morphological segmentation, with active contour and graph cuts following it. As far as robustness to variance in shot size is concerned, the 25% coverage level from each panel was selected. The results are depicted in Fig. 3.10. It can be noted that Moore's contour algorithm has the highest precision value closely followed by graph cuts.

23

2.5 1.9 1.3 Graph cuts using BM Maximum error

4.8

2.6 1.0 1.8 3.7 Graph cuts using BM Maximum error

2.3 3.2

1.8

3.1

1.4

3.4

Chapter 3. Experimental Results
8.7 6.2 5.4 5.3 10 8 % Error 4.1 6 4 2 0

5.2

2.9 2.2 1.4

2.9 3.1

2.9 1.9 1.7

1.8 2.8

Otsu's Moore's Morphological Localizing thresholding neighborhood segmentation region-based AC contour Mean error Standard deviation Minimum error

Figure 3.7 Error results for 1083-D panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour and graph-cuts method
0.15 0.15 0.15 Graph cuts using BM True positive rate 0.03 0.01 0.2 0.15

Rate

0.1 0.04 0.04 0.01 0.00 0.05 0 0.03 0.01 0.02 0.04

Otsu's Moore's Morphological Localizing thresholding neighborhood segmentation region-based contour AC False positive rate False negative rate

Figure 3.8 Robustness to non-uniform lighting conditions for CW-28 panel with 50% coverage level tested against different methods

Finally, for robustness to different coverage levels, all the panels were measured for precision with three different coverage levels was recorded. The results are shown in Fig. 3.11 for the CS-550 panel only, the remaining panels also follow a similar trend. It can be observed that Moore's contour performed the best closely followed by graph cuts and Otsu's method.

24

0.12

0.12

2.5 1.9 1.3 Graph cuts using BM Maximum error

4.8

Chapter 3. Experimental Results

(a) Otsu's Thresholding

(b) Moore's neighborhood contour

(c) Morphological segmentation

(d) Localizing region-based AC

(e) Graph cuts using BM

(f) Original image CW-28, 50%

Figure 3.9 Visual representation of robustness to non-uniform lighting results for CW-28 panel, with 50% coverage level, where green represents the false positive pixels, pink shows the false negative pixels and black represents the true positive pixels

3.3.3

Efficiency

For the final performance criterion, i.e., speed, time of algorithm running per image was used to compare efficiency of different methods. The results are summarized in Table I and are quite expected. The Otsu's method, being a simple method, takes the least time closely followed by morphological segmentation, whereas active contour method takes the most time due to its iterative nature. Graph cuts and Moore's techniques take a optimum time to compute.

25

Chapter 3. Experimental Results
98.6 97.1 93.9 81.0 88.3 74.0 75.1 76.8 Graph cuts using BM 1083-D panel 3.18 mm dia. shot

90.4 92.6

92.0 90.4 78.0

100 Precision × 100 90 80 70

88.5

Otsu's Moore's Morphological Localizing thresholding neighborhood segmentation region-based contour AC CS-550 panel 1.79 mm dia. shot

CW -28 panel 0.78 mm dia. shot

Figure 3.10 Robustness to different shot sizes for all the panels, with 25% coverage level tested against different methods
96.4 98.6 96.2 100 Precision × 100 95 90 85 80 Otsu's Moore's Morphological Localizing thresholding neighborhood segmentation region-based AC contour 25% coverage level 50% coverage level Graph cuts using BM 94.2 97.1 92.5 75% coverage level

92.8 95.0 90.4

85.9 88.5 88.4

Figure 3.11 Robustness to different shot sizes for CS-550 panels, with 50% coverage level tested against different methods

3.4

Discussion

In summary, Otsu's method, despite its speed, contained large error and was not robust to non-uniform lighting. The morphological segmentation was the most robust technique to non-uniform lighting, however it performed most poorly with regard to robustness to shot size and coverage level. The active contour method had low error, yet its robustness and efficiency were low due to its iterative nature. The Moore's Neighborhood contour algorithm has low error, robustness to different shot sizes, coverage levels and efficiency, however, it 26

86.4 88.3

93.2

77.8

Chapter 3. Experimental Results
Table 3.2 Computation Time for thresholding, Moore's contour, morphological operations, localizing active contour and graph-cuts method

Method

Time (sec)

Otsu's thresholding 0.07 Moore's neighborhood contour 2.0 Morphological segmentation 0.3 Localizing region-based active contour 90.0 Graph cuts using Boykov method 1.5 performed poorly with regard to robustness to non-uniform lighting. In conclusion, considering the performance criteria, Boykov's graph cut method meets the most of the requirements in comparison to the rest of the techniques.

3.5

Conclusion

In this chapter, different image segmntation techniques are implemented for coverage measurement of shot peened panel. One of the major limitations of image segmentation on shot peened panels in previous studies [13] and [10] was their complicated setup and inability to measure beyond 50 % coverage level. The methods presented in this chapter, used a simple experimental set-up paving way for real-time application, and most methods can provide coverage measurement for panels upto 75%. One of the limitations of the methods is their inability to perform well in presence of both machining streaks and non-uniform illumination. Chapter 4 proposes a learning algorithm to overcome the limitations.

27

4 A neural network method for shot peen coverage measurement

4.1

Introduction

The performance of different image segmentation techniques including thresholding, edge detection, morphological segmentation, active contours and graph cut are observed in Chapter 3. It is found that the most of the image segmentation techniques failed to classify the machining streaks as noise and falsely segmented them as shot peened areas. Besides, random streak occurrences could not be eliminated using a standard image noise filters as preprocessing technique. Using an artificial intelligence technique such as ANN, which would accurately classify the shot peened areas from the background seemed promising. ANN is used to solve several image segmentation applications, especially in the bio-medical field.

4.2
4.2.1

Method
Overview

ANN comprises layers of computationally interconnected components, termed as nodes. Each of the node uses an activation function, which is often a Sigmoid function, to determine the output. The weighted sum of all the output nodes is the input to a particular node. The network is organized into layers with the data given to the input layer. Then the data is passed to one or more hidden layers for processing. Finally, the hidden layer links the results to the output layer [38]. Most networks employ a learning rule to train the network for finding the weight matrices, which maps the input node to the output value closest to the desired

28

Chapter 4. A neural network method for shot peen coverage measurement output. One of the traditional training algorithms used in this paper is Back Propagation, also known as the backward propagation of error [39]. It is a supervised training method based on gradient descent to minimize the error using the least square objective function. In Back Propagation Neural Network (BPNN) the network produces random output at first based on the input data. Then the obtained output is subtracted from the actual output to calculate the error. The error is propagated back into the network, and the weights are updated accordingly to produce a new output. Training is done in iterations or epochs to minimize the error. This process continues until the output generated from the network is close to the actual output within a certain threshold [40]. For a given sample pair in a training batch (I1 , T1 ).....(In , Tn ), where Is 1  s  n is an sth input corresponding to the target Ts 1  s  n. The least square function for an arbitrary number of hidden layers is given by [41] E= 1 n [Ts - OM s ], nZM s =1 (4.1)

where OM s is the output to an M layered network with ZM number of output neurons. Let E (W (k)) be the gradient of E at W = W (k) where W is a vector formed by all the

network weights and k = 1, 2, 3....N is the iteration number. The backpropgation algorithm with momentum can be defined as [41] W (k) =  (- E (W (k))) +  W (k - 1), (4.2)

where  is the learning rate and  is the momentum and

W (k) = W (k + 1) - W (k). A

typical network topology for BPNN can be seen in Fig. 4.1. The number of nodes in the input layer is equal to the image features while the number of nodes in the output layer is equal to the target class.

29

Chapter 4. A neural network method for shot peen coverage measurement

Figure 4.1 A neural network topology. The number of input nodes are equal to the image features, and the hidden layer is treated as an experimental parameter. The output layer has two nodes one for the peened and other for non-peened class

4.2.2

Training set

The input vector chosen for this paper is a vector of intensity values, and the target vector is the binary ground truth image converted into a vector. The objective of preparing a training set is to include as many samples with different features to make the network more robust to illumination, shot type and coverage level changes. To achieve this, a variety of features are calculated on the image such as mean, variance, entropy, skewness and kurtosis. The number of input nodes are equal to the number of image features, and the number of hidden layers and nodes are left as an experimental parameter. The output nodes are divided into two classes of peened area and non-peened area. Each pixel is treated as a sample provided to the network. A larger data set is generated by taking all the pixels in the image into consideration. The network is then built with trained feature sets [42]. The trained network is used to predict new sample images. Each feature is calculated over the entire image. These are then stacked as an N-dimensional matrix, where N is the number of image features used in training. Each input vector corresponds to the intensity value through different image features. A visual representation of the N-dimensional matrix can be seen in Fig. 4.2.

30

Chapter 4. A neural network method for shot peen coverage measurement

Figure 4.2 N-dimensional matrix of the feature sets describing preparation of training set

4.2.3

Feature selection

To characterize the texture features of the shot-peened areas, the statistical moments of the image are computed on a window of 5 x 5 over the image. These included mean(µ ), variance( 2 ) and entropy(S) which are calculated as follows. Suppose Axy is a two dimensional grayscale image, and the intensity is denoted by I of range I = [I1 , I2 , .......Ik ]. The normalized histogram of the image is represented as p(x, y) given by
P(x,y) w ,

where w is the window size. Then from [44, 45], µ =   I p(x, y),
x y

(4.3)

 2 =  (I - µ ) p(x, y),
x y

(4.4) (4.5)

S = -   p(x, y) log2 p(x, y),
x y

The mean and variance characterize the contrast in the image while the entropy is a measure of randomness in the intensity values. These features are experimented with various combinations to give high predictive accuracy [43]. 31

Chapter 4. A neural network method for shot peen coverage measurement

4.2.4

Testing and Validation

A total number of 921,600 samples are provided as input to the network, where 7 is the number of features along with 614,400 as target vector. A two-layered feedforward network is employed with a sigmoid transfer function in the hidden layer. This is a standard network used for pattern recognition in MATLAB neural network toolbox. The hidden neurons are by default set to 10, which takes 300 iterations to achieve convergence. The input samples are randomly divided by the neural network toolbox into 70% training samples, 15% validation samples and 15% testing samples. The training samples are fed to the network one at a time, completing one training iteration. Processing all the training iterations leads to the completion of the training cycle. The validation samples are used to end the training session once the measured generalization does not improve. The trained network is then used for prediction. The testing samples can now be used to measure the network performance. New image samples are provided to test the network, which provides two outputs classifying the peened and non-peened areas. The two outputs are analyzed for the highest score in each category, which is then used to create a single result vector. The result is converted back into a 2-D image to visualize the results.

4.3

Results

The training is done using samples from each of the different shot type panels. Once the network is trained, it is then used in prediction of new image samples. It is observed through experiments with various feature combinations of mean, variance and entropy images as features along with the original image intensity values gave the most satisfactory results. Also, the experiments are conducted for coverage levels of 25%, 50% and 75%. The 100% level is excluded as it 's hard to segment it using human inspection. Panel 1083-D is of

32

Chapter 4. A neural network method for shot peen coverage measurement particular emphasis, as previous methods failed to robustly segment shot peened areas from this panel due to the bright centers and machining streaks.

4.3.1

Accuracy

Figs. 4.3, 4.4 and 4.5 depict the accuracy for CW-28, CS-550 and 1083-D panels respectively. The accuracy measure is represented by median, minimum error and maximum error. The neural network is observed to have the lowest maximum error. In case of the panel 1083-D the minimum error is reduced to 9.65%.
9 8 7 6

Error

5 4 3 2 1 0

Thres

ts C al ur ng holdi ore-Conto rphologic calizing A Graph-cu o o o M L M

ANN

Figure 4.3 Error results for CW-28 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and ANN method

33

Chapter 4. A neural network method for shot peen coverage measurement
9 8 7 6

Error

5 4 3 2 1 0

Thres

ts C al ur ng holdi ore-Conto rphologic calizing A Graph-cu o o o M L M

ANN

Figure 4.4 Error results for CS-550 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and ANN method

4.3.2

Robustness

Robustness to non-uniform lighting is measured by the false positive, false negative and true positive rates as can be seen in Fig. 4.6. Fig. 4.7 gives a visual representation of robustness to non-uniform lighting for the 1083-D panel with 25% coverage level, where black, pink and green pixels represent the true positive rates, false positive and false negative rate respectively. As can be seen from Fig. 4.7, the false negative rate is the lowest in ANN followed by morphological segmentation. Robustness to different shot sizes is depicted in Fig. 4.8. The 1083-D panel is segmented with 25% coverage level. ANN has the highest precision of 89.1%. Finally, Fig. 4.9 demonstrates the robustness to different coverage level, where all the various coverage levels namely 25%, 50% and 75% of the CS-550 panel are measured for precision. All the methods except the morphological operations and localizing region based active contour perform well. 34

Chapter 4. A neural network method for shot peen coverage measurement

20

15

Error

10

5

0

Thres

ts C al ur ng holdi ore-Conto rphologic calizing A Graph-cu o o o M L M

ANN

Figure 4.5 Error results for 1083-D panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and ANN method

4.3.3

Efficiency

Finally, Table 4.1 presents the efficiency of each algorithm calculated in seconds. The thresholding algorithm takes the least time while the localizing region based active contour method takes the maximum time, due to its iterative nature.
Table 4.1 Computation time for thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and ANN method

Method Otsu's Thresholding Moore's Neighborhood Contour Morphological Segmentation Localizing Region-Based Active Contour Graph-cuts using Boykov Method ANN

Efficiency (s) 0.07 2 0.3 90 1.5 0.9

35

Chapter 4. A neural network method for shot peen coverage measurement
0.3
False positive False negative True positive

0.25

0.2

Rate

0.15

0.1

0.05

0

ng ontour logical ing AC ph-cuts holdi o C z Gra Thres Moore- Morph Locali

ANN

Figure 4.6 Robustness to non-uniform lighting for 1083-D panel with 25% cover-age level tested against different methods

4.4

Discussion

The ANN has a marginal improvement in the accuracy compared to the previous methods in [12]. The 1083-D panel is observed to give a high error for previous methods; ANN reduces the maximum error down to 9.65%. For robustness to non-uniform illumination, ANN has superior performance over the other methods as the machining streaks are mostly eliminated bringing the false negative rate down to 0.026, followed by morphological segmentation. Regarding robustness to different shot types, ANN gives the highest precision of 89.1%. Besides, ANN has a consistent performance for robustness to various coverage levels. Finally, the efficiency of the ANN trained network is close to the graph cuts, yet produces better accuracy and robustness comparatively. In conclusion, the ANN method as expected provides higher accuracy and robustness in contrast to each method.

36

Chapter 4. A neural network method for shot peen coverage measurement

(a) Otsu's Thresholding

(b) Morphological segmentation

(c) Moore's neighbourhood contour

(d) Localizing region-based AC

(e) Graph-cuts

(f) ANN

(g) Original image Figure 4.7 Visual representation of robustness to non-uniform lightning results for 1083-D panel, with 25% coverage level represented by false negative (green), false positive (pink) and true positive (black)

4.5

Conclusion

In this chapter, an Artificial neural network is implemented for coverage measurement of shot peened panel. The neural network is trained on texture features of the images to produce a robust and accurate network that can be used for prediction of new images.The neural network method being trained on texture features is efficient in segmenting the shot peened 37

Chapter 4. A neural network method for shot peen coverage measurement
80 70 60

Precision 100

50 40 30 20 10 0

ng ontour logical ing AC ph-cuts holdi o C z Gra Thres Moore- Morph Locali

ANN

Figure 4.8 Robustness to different shot sizes for all the panels with 25% coverage level tested against different methods
100 90 80 70

Precision 100

60 50 40 30 20 10 0

25% 50% 75%

ng ontour logical ing AC ph-cuts holdi o C z Gra Thres Moore- Morph Locali

id Hybr

Figure 4.9 Robustness to different coverage levels of CS-550 panel for all the tested against different methods

38

Chapter 4. A neural network method for shot peen coverage measurement areas only, hence eliminating the machining streak problem as can be seen in Fig. 4.7. The results of the evaluation show that this method provides robust segmentation, therefore, making it more suitable for processing images with machining streaks. One of the limitations of this method is that ANN is very specifically tailored for shot peen panels. Introducing any new types of panels or extending this approach towards other applications would lead to the failure of the network. Therefore in Chapter 5 it is proposed to combine graph cuts as it has higher accuracy along with morphological filters which are the most robust to non-uniform illumination to develop a generic algorithm

39

5 A hybrid method for vision-based surface coverage measurement

5.1

Introduction

Considering the superior performance of the graph-cuts among other algorithms regarding accuracy, and morphological operations ability to robustly segment non-uniformly illuminated parts, a hybrid vision-based method of combining graph-cuts and morphological operations to improve the accuracy and robustness of the results is proposed. Fig. 5.1 illustrates the proposed hybrid methodology. The acquired image is first pre-processed by passing through a median filter, and then morphological closing is performed. The pre-processed image is then clustered into two sets using K-means clustering, and the data is sent to graph-cuts for segmentation. The result is then refined through the morphological opening to remove the misclassified peened areas. Each block is described in details in the following subsections.

Acquired image

Pre-process

Segment image

Refining results Final image Calculate coverage area

Figure 5.1 Framework representing different stages of vision-based surface coverage measurement

40

Chapter 5. A hybrid method for vision-based surface coverage measurement

5.2
5.2.1

Method
Pre-processing

Normally the acquired image has machining streaks as discussed in the challenges. Several filters such as mean, median and Gaussian filters are tested to observe their performance on image smoothness. Median filter proved to be the most effective among all. It outperforms the mean filter as the sharp edges are preserved well. It is found that an 11 × 11 window size gives good results with the median filter on the acquired image. The smoothed image with large shot size often faces another challenge, where the pixel intensities of the peened center are similar to the background or the intensity of the nonpeened area. One of the morphological operations, morphological closing is used to solve this problem. Mathematical morphology is based on methods to change the shape, size, structure and connectivity of the object [21]. These operations are carried using a template of specified shape known as structuring element with a pre-fixed size. Erosion and dilation are the basic morphological operations. In erosion process, the foreground pixel boundaries are eroded resulting in shrinking effect. Whereas, in dilation, the foreground pixels are enlarged resulting in a growing effect. These two basic operations are combined to build morphological opening and morphological closing. In closing operation, A is a set opened by structuring element B, represented as A · B and can be defined as follows [21] A · B = (A  B) B. (5.1)

In morphological closing, the image is first dilated () and then eroded ( ), resulting in hole filling. Fig. 5.2 illustrates the pre-processing results on the CW-28 panel having 50% coverage level.

41

Chapter 5. A hybrid method for vision-based surface coverage measurement

(a) Original image

(b) After applying median filter

(c) After morphological closing Figure 5.2 Pre-processing results for CW-28 panel with 50 % coverage level, (a) original image acquired by the camera, (b) result after applying median filter and (c) result after applying morphological closing to the filtered image

5.2.2

Segmentation

Graph-cuts is used to coarsely segment the image. Many computer vision problems such as image smoothing, restoration and segmentation are solved through graph-cuts by converting them into an energy minimization problem. The energy function E (X ) with label L , a set of pixels V and an assignment X : V  L is defined as follows [35]. E (X ) =

v V

 (gv) + 

huv (Xu , Xv ),

(5.2)

(u,v) E

where Xu and Xv denote position of u and v, respectively. E  V × V is the set of interacting pairs of pixels, and (u, v)  E denotes adjacent pixels, gv is the data term and huv represents the smoothness term. A standard minimum cut algorithm namely max-flow min-cut is applied for energy minimization [46]. The max-flow min-cut theorem states that in any flow network with source s and target t . the value of the maximum (s - t ) - f low is equal to the 42

Chapter 5. A hybrid method for vision-based surface coverage measurement capacity of the minimum (s - t ) - cut . The images are treated as graphs, and each pixel is represented by a node. There are two primary nodes namely the sink and terminal node, and all the other nodes are assigned a data label by solving the energy minimization problem. Max-flow min-cut algorithm makes use of either the push-relabel algorithm [47] for general graphs or fast augmented for grid graphs [48] to obtain optimum cut. This cut then separates the background from the foreground pixels. This technique can be applied to different images without having any prior knowledge and also on N-dimensional images [36]. For implementing the algorithm, background and foreground pixels are given as data term. These pixels are clustered using K -means clustering algorithm, partitioning the data into K groups [49]. At first, K initial cluster centers are picked which are then iteratively refined by measuring the distance of each instance and updating the center. When there are no changes in the instances assignment to clusters, the algorithm converges. The smoothness term is fixed as [0, 1].

5.2.3

Post-processing

The final segmented image obtained from the graph cuts algorithm is then converted to a binary image using Otsu's thresholding [50]. The image segmentation results often have small areas misclassified as peened regions. This can be refined by using morphological opening. In opening operation, A is a set opened by structuring element B, represented as A  B and can be defined as [21] A  B = (A B)  B. (5.3)

43

Chapter 5. A hybrid method for vision-based surface coverage measurement In the opening operation, first erosion ( ) is performed followed by dilation () resulting in the elimination of regions lesser than the size of structuring element. Algorithm 1 shows a simple pseudo-code for the image segmentation of shot peened panels. Algorithm 1 Coverage measurement Psuedo-code 1: if image = RGB then return gray image 2: Apply median f ilter with window size 11 × 11 3: procedure M ORPHOLOGICAL CLOSING 4: Define the size of the structuring element 5: Dilate the image and then erode it 6: Cluster data into 2 sets using Kmeans 7: procedure G RAPH CUTS 8: Specify the cost term using the clutering data 9: Specify the smoothness term 10: thresholding = greythresh(segmented image) 11: procedure M ORPHOLOGICAL OPENING 12: Define the size of the structuring element 13: Erode the image and then dilate it 14: Calculate the coverage area of the peened panels 15: end

5.3

Results

The results are presented for each of the shot peened aircraft panels regarding accuracy, robustness to non-uniform lighting, robustness to shot sizes and robustness to coverage level. Finally, the efficiency of the algorithm is discussed. The generic aspect of the algorithm is extended by demonstrating the segmentation results for cell segmentation and coin segmentation.

44

Chapter 5. A hybrid method for vision-based surface coverage measurement

5.3.1

Accuracy

The Accuracy is represented in terms of median, minimum error and maximum error. Figs. 5.3, 5.4 and 5.5 represent the accuracy for CW-28, CS-550 and 1083-D panels respectively. The hybrid method is observed to have the lowest maximum error.
9 8 7 6

Error

5 4 3 2 1 0

ts C al ur ng holdi ore-Conto rphologic calizing A Graph-cu o o Thres o M L M

Hybr

id

Figure 5.3 Error results for CW-28 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and hybrid method

5.3.2

Robustness

Figs. 5.6 and 5.7 represent robustness to non-uniform lighting for 1083-D panel with 25% coverage level. Fig. 4.6 highlights the false positive, false negative and true positive. Fig. 4.7 illustrates a visual representation of true positive. Analyzing the results, it is observed that the morphological operations and hybrid method prove robust against non-uniform lighting.

45

Chapter 5. A hybrid method for vision-based surface coverage measurement
9 8 7 6

Error

5 4 3 2 1 0

Thres

ts C al ur ng holdi ore-Conto rphologic calizing A Graph-cu o o o M L M

id Hybr

Figure 5.4 Error results for CS-550 panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and hybrid method

Robustness to different shot sizes is depicted in Fig. 5.8. The 1083-D panel is segmented with 25% coverage level. The hybrid method has the highest precision of 89.1%. Finally, Fig. 5.9 demonstrates the robustness to different coverage level, where all the various coverage levels namely 25%, 50% and 75% of the CS-550 panel are measured for precision. All the methods except the morphological operations and localizing region based active contour perform well.

5.3.3

Efficiency

Finally, Table 5.1 presents the efficiency of each algorithm calculated in seconds. The thresholding algorithm takes the least time while the localizing region based active contour method takes the maximum time, due to its iterative nature.

46

Chapter 5. A hybrid method for vision-based surface coverage measurement

20

15

Error
10 5 0

Thres

ts C al ur ng holdi ore-Conto rphologic calizing A Graph-cu o o o M L M

id Hybr

Figure 5.5 Error results for 1083-D panel, comparing results of thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and hybrid method Table 5.1 Computation time for thresholding, Moore's contour, morphological operations, localizing active contour, graph-cuts and hybird method

Method Otsu's Thresholding Moore's Neighborhood Contour Morphological Segmentation Localizing Region-Based Active Contour Graph-cuts using Boykov Method Hybrid method

Efficiency (s) 0.07 2 0.3 90 1.5 1.9

5.3.4

Other Applications

One of the objectives is to extend the algorithm to similar application as shot peening to demonstrate the generic aspect of it. Two applications namely blood cell segmentation and coin recognition are selected. Figs. 5.10a and ?? are images of blood cells and Figs. 5.10b and ?? represent the segmentation results for it. It is observed from results that the majority 47

Chapter 5. A hybrid method for vision-based surface coverage measurement
0.3
False positive False negative True positive

0.25

0.2

Rate

0.15

0.1

0.05

0

ng ontour logical ing AC ph-cuts holdi o C z Gra Thres Moore- Morph Locali

id Hybr

Figure 5.6 Robustness to non-uniform lighting for 1083-D panel with 25% cover-age level tested against different methods

of the cells are successfully segmented. Furthermore, the algorithm is applied on different coin shapes, as can be seen in Fig. 5.10c, and the segmentation results are presented in Fig. 5.10d.

5.4

Discussion

The limitation of the study [12] is highlighted on the 1083-D segmentation results. This panel has the largest shot size, which on image acquisition displayed bright centers having a similar intensity as the background resulting in non-uniform illumination. This panel has the highest maximum error of 21.5% as discussed in [12] study, which has been reduced to 8.5% represented in Fig. 4.5. Both morphological operations and hybrid method are observed to be the most robust against non-uniform lighting. However, for robustness to different shot sizes and coverage levels, morphological operations perform the poorest while the hybrid 48

Chapter 5. A hybrid method for vision-based surface coverage measurement

(a) Otsu's Thresholding

(b) Morphological segmentation

(c) Moore's neighbourhood contour

(d) Localizing region-based AC

(e) Graph-cuts

(f) Hybrid method

(g) Original image Figure 5.7 Visual representation of robustness to non-uniform lightning results for 1083-D panel, with 25% coverage level represented by true positive rate

method produces quality results. Finally, the efficiency of the hybrid method is close to the graph-cuts and Moore's neighborhood contour algorithm, yet produces better accuracy and robustness comparatively. In conclusion, the proposed hybrid method as expected provides higher accuracy and robustness in contrast to each method.

49

Chapter 5. A hybrid method for vision-based surface coverage measurement
90 80 70

Precision 100

60 50 40 30 20 10 0

ng ontour logical ing AC ph-cuts holdi o C z Gra Thres Moore- Morph Locali

id Hybr

Figure 5.8 Robustness to different shot sizes for all the panels with 25% coverage level tested against different methods
100 90 80 70

Precision 100

60 50 40 30 20 10 0
25% 50% 75%

ng ontour logical ing AC ph-cuts holdi o C z Gra Thres Moore- Morph Locali

id Hybr

Figure 5.9 Robustness to different coverage levels of CS-550 panel for all the tested against different methods

50

Chapter 5. A hybrid method for vision-based surface coverage measurement

(a) Original image of blood cell (Source: MATLAB image database)

(b) Segmentation results

(c) Original image of coins with different shapes

(d) Segmentation results

Figure 5.10 Visual representation of the blood cell and coin segmentation demonstrating the generic aspect of the algorithm

5.5

Conclusion

In this chapter, we presented a hybrid method for coverage measurement. The primary application considered was shot peening, but the method was also extended for other applications such as blood cell segmentation and coin recognition. In the proposed method, the high accuracy of segmentation with graph-cuts is implemented along with refinement using morphological operations for added robustness. The performance is evaluated by comparing the proposed method against the methods investigated in Chapter 2. The results of the evaluation show that our method performs better segmentation, therefore, making it more suitable for processing images with non-uniform illumination. One of the limitations of this approach is that the machining streaks of the panels were not eliminated using pre-processing techniques.

51

6 Conclusion and Future Works

6.1

Conclusion

In Chapter 1, the process of shot peening was described as a cold working process used for enhancing fatigue strength of surfaces using a regulated blast of shots. The importance of coverage measurement was emphasized as one of the shot peening parameters. However, the measurement was performed traditionally through manual visual inspection. This necessitates the automation of the coverage measurement process employing image segmentation techniques to achieve efficiency. The objective of this thesis was to develop image segmentation methods for shot peened surfaces to be generic, accurate and robust, with relatively simple experimental set-up. In Chapter 2 and 3, the most popular and relevant image segmentation methods were formulated for shot peening application. These methods included thresholding, edge detection, morphological watershed segmentation, partial differential equation segmentation and graph cuts. The algorithms were implemented successfully to the application of shot peen coverage detection and results were compared by performance criteria. The criteria included error, robustness (to variances in lighting, shot sizes and coverage levels) and efficiency. In summary, the results suggested that the graph cuts method outperforms the other methods for the particular application at hand. The graph cuts method provides a low level of error and can be applied to various coverage levels with different shot sizes in a reasonable amount of time. However, the graph cuts failed to eliminate the machining streaks altogether. The methods used in this chapter were based on the image intensity. It was proposed to use a learning method based on texture features to eliminate the machining streaks. In Chapter 4, an artificial neural network was implemented for coverage measurement of shot peened panel. The neural network was trained on texture features of the images to produce 52

Chapter 6. Conclusion and Future Works a robust and accurate network that can be used for prediction of new images. The neural network method being trained on texture features is efficient in segmenting the shot peened areas only, hence eliminating the machining streak problem as can be seen in Fig. 4.7. The results of the evaluation show that the proposed method provides robust segmentation, therefore, making it more suitable for processing images with machining streaks. However, ANN is a very specifically tailored towards shot peening application. To make the algorithm more generic, it was proposed to combine the graph cuts as it had high accuracy and morphological operations due to its superior robustness to non-uniform illumination. Finally, in Chapter 5, a hybrid method for coverage measurement was presented. The primary application considered was shot peening, but the method was also extended to other applications such as blood cell segmentation and coin recognition. In the proposed method, the high accuracy of segmentation with graph-cuts was implemented along with refinement using morphological operations for added robustness. The performance is evaluated by comparing the proposed method against the methods investigated in Chapter 2. The results of the evaluation show that the proposed method performs better segmentation, therefore, making it more suitable for processing images with non-uniform illumination.

6.2

Future works

Some of the drawbacks of the intensity based image segmentation techniques were their inability to perform under non-uniform lighting conditions and also on panels with machining streaks. Therefore, a texture based method such as neural networks was employed. Despite the network's superior performance in the presence of machining streaks, the algorithm was not generic. Proposing a hybrid method combining graph cuts and morphological operations

53

Chapter 6. Conclusion and Future Works still possess the machining streak issue. Another limitation of all the implemented methods, was the failure to achieve real-time implementation because algorithms were tested in MATLAB which did not provide real-time capabilities. To improve the shortcomings and use the contributions made in this thesis the following future works can be suggested. 1. The computational time can be significantly enhanced by shifting the program to C/C++ code. 2. The neural network performance can be further improved by using different feature set and a learning technique. 3. The neural network can be made more efficient by adding more layers into the structure 4. The neural network results can be further enhanced by implementing a deep learning technique such as convolutional neural network. 5. Having a more controlled experimental setting during image acquisition can improve the quality of measurements. 6. Researching more advanced methods of segmentation would be another direction to improve the results further.

54

Bibliography

[1] Jain N., Lala, A.: Image segmentation: a short survey. In: Proc. Int. Conf. The Next Generation Information Technology Summit, pp.380-384, Noida, India (2013) [2] Pore, Y.N., Kalshetty, Y.R.: Review on blood cell image segmentation and counting. Int. J. Innovat. Eng. Manag. 3(5), 369­372 (2014) [3] Meijering, E.: Cell segmentation: 50 years down the road. IEEE Signal Process. Mag. 29(5), 140­145 (2012) [4] Bamford, P.: Empirical comparison of cell segmentation algorithms using an annotated dataset. In: Proc. Int. Conf. Image Processing, pp. II-1073-6, Barcelona, Spain (2003) [5] Chetan, B.V., Vijaya, P.A.: A robust method of image based coin recognition. In: Proc. Int. Conf. Advances in Computing, pp. 911­918, Delhi, India (2012) [6] Gupta, V., Puri, R., Verma, M.: Prompt indian coin recognition with rotation invariance using image subtraction technique. In: Proc. Int. Conf. Devices and Communications, pp. 1-5, Mesra, India (2011) [7] Chen, H.: Chinese coin recognition based on unwrapped image and rotation invariant template matching. In: Proc. Int. Conf. Intelligent Networks and Intelligent Systems, pp. 5­7, Shenyang, China (2010) [8] Palacín, J., Palleja, T., Valgañón, I., Pernia, R., Roca, J.: Measuring coverage performances of a floor cleaning mobile robot using a vision system. In: Proc. Int. Conf. Robotics and Automation, pp. 4236­4241, Barcelona, Spain (2005) [9] Stotsko, Z. A., Stefanovych, T. O.: Ensuring uniformity of strengthening for machine parts surfaces by shot peening. J. Achiev. Mater. Manuf. Eng. 43(1), 440-447 (2010)

55

BIBLIOGRAPHY [10] Viera, L. C., de Almeida, R. H. Z., Martins, F. P. R, Fleury, A. T.: Application of computer vision methods to estimate the coverage of peen formed plates. J. Achiev. Mater. Manuf. Eng. 43(2), 74-749 (2010) [11] Kirk, D.: Non-uniformity of shot peening coverage. The Shot Peener Electronics Inc., (2009) [12] Shahid, L., Janabi-Sharifi, F., Keenan, P.: Image segmentation techniques for real-time coverage measurement in shot peening processes. Int J Adv Manuf Tech., (2016) (in press) [13] Leon, F. P.: Model-based inspection of shot peened surfaces using fusion techniques. In: Proc. Int. Conf. SPIE 4189, Machine Vision and Three-Dimensional Imaging Systems for Inspection and Metrology, pp 42-52, Boston, MA (2001) [14] Namdeo Pore, Y., Kalshetty, Y. R.: Review on blood cell image segmentation and counting. Int. J. Innovat. Eng. Manag. 3(11), 369-372 (2014) [15] Adollah, R., Mashor, M. Y., Mohd-Nasir, N. F., Rosline, H., Mahsin H., Adilah, H.: Blood cell image segmentation: a review. In: Proc. Int. Conf. Biomedical Engineering, pp 141-144, Berlin, Heidelberg (2008) [16] Jiang, C. F., Tsai, K. P.: Image segmentation techniques for stem cell tracking. In: Proc. Int. Conf. Acoustics, Speech and Signal Processing, pp 1109-1112, Vancouver, BC (2013) [17] Lim, H. N., Mashor, M. Y., Hassan, R.: White blood cell segmentation for acute leukemia bone marrow images. In: Proc. Int. Conf. Biomedical Engineering, pp 357361, Penang, Malaysia (2012) [18] Mohammed, E. A., Mohamed, M. M. A., Naugler C., Far, B. H.: Chronic lymphocytic leukemia cell segmentation from microscopic blood images using watershed algorithm 56

BIBLIOGRAPHY and optimal thresholding. In: Proc. Int. Conf. Annual IEEE Canadian Electrical and Computer Engineering, pp 1-5, Regina, SK (2013) [19] Fu, K. S., Mui, J. K.: A survey on image segmentation. Pattern Recogn. 13(1), 3-18 (1981) [20] Kurita, T., Otsu, N., Abdelmalek, N.: Maximum likelihood thresholding based on population mixture models. Pattern Recognit. 25(10), 1231-1240 (1992) [21] Rafael-Gonzalez, C., Richard-Woods, R.: Image Segmentation in Digital Image Processing. 3rd ed., pp. 689-787. Prentice Hall, New Jersey (2007) [22] Raut, S., Raghuvanshi, M., Dharaskar, M., Raut, A.: Image segmentation - a state-ofart survey for prediction. In: Proc. Int. Conf. Advanced Computer Control, pp 420-424, Singapore (2009) [23] Jin-Jeong, H., Yoon-Kim, T., Gil-Hwang, H., Ju-Choi, H., Seon-Park, H., Kook-Choi, H.: Comparison of thresholding methods for breast tumor cell segmentation. In: Proc. Int. Conf. Enterprise Networking and Computing in Healthcare Industry, pp 392-395, Busan, Korea (2005) [24] Arbelaez, P., Maire, M., Fowlkes, C., Malik, J.: Contour detection and hierarchical image segmentation. IEEE Trans. Pattern Anal. Mach. Intell. 33(5), 898-916 (2011) [25] Sharif, J. M., Miswan, M. F., Ngadi, M. A., Salam, M. S. H., Jamil, M. M.: Red blood cell segmentation using masking and watershed algorithm: a preliminary study. In: Proc. Int. Conf. Biomedical Engineering, pp 258-262, Perlis, Malaysia (2012) [26] Ao, J., Mitra, S., Long, R., Nutter B., Antani, S.: A hybrid watershed method for cell image segmentation. In: Proc. Int. Conf. Image Analysis and Interpretation,pp 29-32, Santa Fe, New Mexico (2012)

57

BIBLIOGRAPHY [27] Fan, G., Wei-Zhang, J., Wu Y., Fa-Gao, D.: Adaptive marker-based watershed segmentation approach for T cell fluorescence images. In: Proc. Int. Conf. Machine Learning and Cybernetics, pp 877-883, Tianjin, China (2013) [28] Caselles, V., Kimmel, R., Sapiro, G.: Geodesic active contours. Int. J. Comput. Vision 22(1), 61-79 (1997) [29] Ersoy, L., F. Bunyak, J. M. Higgins and K. Palaniappan.: Coupled edge profile active contours for red blood cell flow analysis. In: Proc. Int. Conf. Biomedical Imaging, pp 748-751, Barcelona, Spain (2012) [30] Wu, P., Yi, J., Zhao, G., Huang, Z., Qiu, B., Gao, D.: Active contour-based cell segmentation during freezing and its application in cryopreservation. IEEE Trans. Bio.-Med. Eng. 62(1), 284-295 (2015) [31] Seroussi, L., Veikherman, D., Ofer, N., Yehudai-Resheff, S., Keren, K.: Segmentation and tracking of live cells in phase-contrast images using directional gradient vector flow for snakes. J. Microsc. 247(2), 137-146 (2012) [32] Lankton, S., Tannenbaum, A.: Localizing region-based active contours. IEEE Trans. Image Process. 17(11), 2029-2039 (2008) [33] Chu-Zhu, S., Yuille, A.: Region competition: unifying snakes, region growing, and bayes/mdl for multiband image segmentation. IEEE Trans. Pattern Anal. Mach. Intell. 18(9), 884-900 (1996) [34] Higeta, H., Mashita, T., Kaneko, T., Kikuta, J., Senoo, S., Takemura, H., Matsuda, H., Ishii, M.: A Graph cuts image segmentation method for quantifying barrier permeation in bone tissue. In: Proc. Int. Conf. Pattern Recognition Techniques for Indirect Immunofluorescence Images, pp 16-19, Stockholm, Sweden (2014)

58

BIBLIOGRAPHY [35] T, Mashita, Usam, J., Shigeta, H., Kuroda, Y., Kikuta, J., Senoo, S., Ishi, M., Matsuda, H., Takemura, H.: A segmentation method for bone marrow cavity imaging using graph cuts. In: Proc. Int. Conf. Pattern Recognition Techniques for Indirect Immunofluorescence Images, pp 20-23, Stockholm, Sweden (2014) [36] Boykov, Y., Veksler, O.: Graph cuts in vision and graphics: theories and applications. In: Paragios, N., Chen, Y., Faugeras O. (eds.) Handbook of Mathematical Models in Computer Vision, pp. 79-96. Springer, Heidelberg (2006) [37] Yi, F., Moon, I.: Image segmentation: A survey of graph-cut methods. In: Proc. Int. Conf. Systems and Informatics, pp 1936-1941, Shandong, China (2012) [38] Ozkan M., Dawant B., Maciunas R.: Neural network based segmentation of multimodal medical images: a comparative and prospective study. IEEE Trans Med Imag 12, 534-544 (1993) [39] Rumelhart, D., Hinton, G., Williams, J.: propagating Errors. Nature 323, 533-536 (1996) [40] Hagan, M., Menhaj, M.: Training feedforward networks with the marquardt algorithm. IEEE Trans Neural Networks 5, 989-993 (1994) [41] Zweiri, Y., Whidborne, J., Seneviratne, L.: A three-term prorogation algorithm. Neurocomputing 50, 305-318 (2003) [42] Knerr, S., Personnaz, L., Dreyfus, G.: Single-layer learning revisited: a stepwise procedure for building and training a neural network. In: Proc. Int. Conf. Soulié F.F., Hérault J. (eds) Neurocomputing. NATO ASI Series (Series F: Computer and Systems Sciences). Springer, Berlin, Heidelberg (1990) [43] Setiono, R.: Neural-network feature selector. IEEE trans Neural Networks 8, 564-662 (2002) 59 Learning Representations by Back-

BIBLIOGRAPHY [44] Lee, H., Chen, P.: Cell Morphology based classification for red cells in blood smear images. Pattern Recognit 49,155-161 (2014) [45] Harlick, R., Shanmugam, K., Dinstein, I.: Textural features for image classification. IEEE Trans. sys and man cybernat. 3, 610-621 (1973) [46] Aumann, Y., Rabani, Y.: Approximate min-cut max-flow theorem and approximation algorithm. SIAM J. Computing. 27, 291­301 (1998) [47] Cherkassky, B., Goldberg, A.: On implementing the push ­ relabel method for the maximum flow problem. Algorithmica. 19, 390­410 (1997) [48] Schmidt, J.P.: All highest scoring paths in weighted grid graphs and their application to finding all approximate repeats in strings. SIAM J. Computing. 27(4), 972­992 (1998) [49] Nelder, J.A., Wedderburn, R.W.M.: Generalized linear models. Encyclopedia of statistical sciences. (1972) [50] Kurita, T., Otsu, N., Abdelmalek, N.: Maximum likelihood thresholding based on population mixture models. Pattern Recognit. 25(10), 1231­1240 (1992)

60


