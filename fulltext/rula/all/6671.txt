FORMATION AND INTER-PICONET COMMUNICATIONS IN COGNITIVE PERSONAL AREA NETWORKS by Md. Mizanur Rahman M.Sc. in Computer Science, Ryerson University, Toronto, Canada, 2013 B.Sc. in Computer Science & Engineering, Bangladesh University of Engineering & Technology Dhaka, Bangladesh, 2000 A dissertation presented to Ryerson University in partial fulfillment of the requirements for the degree of Doctor of Philosophy in the Program of Computer Science Toronto, Ontario, Canada, 2017 c Md. Mizanur Rahman 2017

AUTHOR'S DECLARATION FOR ELECTRONIC SUBMISSION OF A DISSERTATION I hereby declare that I am the sole author of this dissertation. This is a true copy of the dissertation, including any required final revisions, as accepted by my examiners. I authorize Ryerson University to lend this dissertation to other institutions or individuals for the purpose of scholarly research. I further authorize Ryerson University to reproduce this dissertation by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. I understand that my dissertation may be made electronically available to the public.

ii

Abstract
FORMATION AND INTER-PICONET COMMUNICATIONS IN COGNITIVE PERSONAL AREA NETWORKS Doctor of Philosophy, 2017 Md. Mizanur Rahman Computer Science Ryerson University This dissertation presents a new approach for achieving group rendezvous with a coordinator node towards forming a Cognitive Personal Area Network (CPAN) by an arbitrary number of nodes. We propose a protocol for the time to form CPAN in which the nodes join the coordinator simultaneously instead of sequentially. Specifically, we develop an analytical model and derive the distribution of time to form CPAN under the considerations of random arrivals of nodes and their random times to rendezvous with coordinator. We also investigate the CPAN formation time by considering the random activity of primary user (PU). Besides operating in a CPAN, the nodes may have traffic destined to the nodes of other CPAN. In this dissertation, we also propose a bridging protocol in which a shared (bridge) node routes the inter-CPAN traffic between two CPANs. As the bridge node shares its time between two CPANs, the bridge traffic gets priority over that of ordinary nodes in both CPANs. We consider a single, unidirectional bridge because the traffic in the opposite direction can easily be accommodated by having another bridge node. We develop an analytical model based on probabilistic modeling and queueing theory to evaluate the performance of the bridging protocol. We validate the network performance by analyzing the waiting time of local and non-local packets and how the node or bridge transmission is iii

Abstract

affected by the collision with primary source activity. Finally, we propose a low-overhead two-way bridging scheme for two-hop CPANs, which is more realistic and can be used a basis for routing inter-CPAN traffic in a multihop network. In this advance bringing protocol, the bridge switches between the CPANs without any predefined arrangement, which resulted in simplified bridge scheduling and increased fairness for all nodes. We also analyze its performance through probabilistic analysis and renewal theory. We show that the CPANs are indeed decoupled in terms of synchronization, however the performance of both local and non-local traffic in either CPAN depends on the traffic intensity in both CPANs as well as on the portion of traffic targeting non-local destinations.

iv

Acknowledgements
There are many people to whom I owe credit for this thesis. Without the support and encouragement of these wonderful people it would not be possible to finish this work. First and foremost, I express my deepest gratitude to my supervisors, Dr. Jelena Mi si´ c and Dr. Vojislav B. Mi si´ c for accepting me as their PhD student and guiding me with patience and enthusiasm. I was greatly inspired by their excitement, vision, and creativity. They have been abundantly helpful and have assisted me in numerous ways. Without their continual support and thoughtful mentoring, many of the ideas in this thesis would never have come to fruition. I would also like to appreciate my thesis committee, Dr. Isaac Woungang, and Dr. Lian Zhao from Ryerson University and Dr. Rong Zheng from McMaster University for taking the time and making the effort to review this thesis and provide me with their insightful comments. I am very grateful to my parents for their endless love and support. Finally, I dedicate this thesis to my wife, Shirin Jahan Sultana and my son, Ehan Rahman who supported me unconditionally and have been the source of motivation and inspiration for me and made my time more enjoyable during these years.

v

To my beloved parents, wife and son for their support and encouragement.

vi

Contents
Author's Declaration . . . . . . . Abstract . . . . . . . . . . . . . . Acknowledgements . . . . . . . . Dedication . . . . . . . . . . . . . List of Figures . . . . . . . . . . . List of Tables . . . . . . . . . . . List of Abbreviations and Symbols 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ii . iii . v . vi . x . xii . xiii 1 2 4 6 10 10 10 11 11 13 15 17 20 22 22 24 27 29 32

Introduction 1.1 Opportunistic Spectrum Access (OSA) . . . 1.2 Cognitive Radio Technology . . . . . . . . 1.3 Cognitive Radio Networks (CRNs) . . . . . 1.4 Cognitive Personal Area Networks (CPANs) 1.4.1 CPAN Formation . . . . . . . . . . 1.4.2 CPAN Operation . . . . . . . . . . 1.4.3 Inter-CPAN Communication . . . . 1.5 Major Issues and Challenges of CPANs . . 1.6 Motivation . . . . . . . . . . . . . . . . . . 1.7 Objectives . . . . . . . . . . . . . . . . . . 1.8 Main Contributions . . . . . . . . . . . . . 1.9 Thesis Organization . . . . . . . . . . . . . Related Work 2.1 Channel sensing . . . . . . . 2.2 Cooperative channel sensing 2.3 Rendezvous . . . . . . . . . 2.4 Multi-hop CRNs . . . . . . 2.5 Chapter Summary . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

. . . . . . . . . . . .

2

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

. . . . .

vii

Contents

3

Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous 3.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.2 MAC Operation and Rendezvous Protocol . . . . . . . . . . . . . . . . . . 3.2.1 Probabilistic Rendezvous Protocol . . . . . . . . . . . . . . . . . . 3.3 Modeling the probabilistic rendezvous protocol . . . . . . . . . . . . . . . 3.3.1 Modeling the channel activity . . . . . . . . . . . . . . . . . . . . 3.3.2 Modeling the time for the rendezvous process . . . . . . . . . . . . 3.3.3 Evaluation of the time to rendezvous (TTR) . . . . . . . . . . . . . 3.4 Modeling the CPAN formation time . . . . . . . . . . . . . . . . . . . . . 3.5 Derivation of CPAN formation time for an arbitrary number of nodes . . . . 3.6 Characterisation of CPAN formation time . . . . . . . . . . . . . . . . . . 3.6.1 Nodes joining times for different arrival rates . . . . . . . . . . . . 3.6.2 Nodes joining times for different primary user activity factors . . . 3.6.3 Nodes joining times for different number of channels . . . . . . . . 3.7 Chapter Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Bridge Performance in Asynchronous Cognitive Personal Area Networks 4.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.2 On CPAN and bridge operation . . . . . . . . . . . . . . . . . . . . . . 4.3 Analytical model of the MAC algorithm . . . . . . . . . . . . . . . . . 4.3.1 Model of the service period . . . . . . . . . . . . . . . . . . . 4.3.2 Duration of bridge transmission . . . . . . . . . . . . . . . . . 4.3.3 Round-robin waiting time . . . . . . . . . . . . . . . . . . . . 4.3.4 Delay due to beacon synchronization . . . . . . . . . . . . . . 4.3.5 Duration of sensing . . . . . . . . . . . . . . . . . . . . . . . . 4.3.6 Impact of packet reception during sensing . . . . . . . . . . . . 4.3.7 Time between successive transmission requests . . . . . . . . . 4.3.8 Probability of incomplete transmission . . . . . . . . . . . . . Probability that coordinator has inaccurate channel information Probability of collision during transmission . . . . . . . . . . . 4.4 Packet access delay . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.4.1 Intra-CPAN packet delay . . . . . . . . . . . . . . . . . . . . . 4.4.2 Inter-CPAN packet delay . . . . . . . . . . . . . . . . . . . . . 4.5 Performance Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.5.1 Performance without the bridge . . . . . . . . . . . . . . . . . 4.5.2 The impact of bridge activity . . . . . . . . . . . . . . . . . . . 4.5.3 Impact of collisions with primary source . . . . . . . . . . . . . 4.6 Chapter Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

33 34 36 37 38 38 39 45 50 53 64 65 72 79 87 88 89 90 93 96 96 100 101 101 102 103 103 104 106 107 107 109 110 110 112 116 118

4

. . . . . . . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . . . . . . .

viii

Contents

5

Two-way Communications in Cognitive Personal Area Networks 5.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . 5.2 CPAN and Bridge Operation . . . . . . . . . . . . . . . . . . 5.3 Modeling the MAC Algorithm . . . . . . . . . . . . . . . . . 5.4 Probability of collision with primary source . . . . . . . . . . 5.5 Packet access delay . . . . . . . . . . . . . . . . . . . . . . . 5.6 Performance Analysis . . . . . . . . . . . . . . . . . . . . . . 5.7 Chapter Summary . . . . . . . . . . . . . . . . . . . . . . . . Conclusion

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

. . . . . . .

120 121 122 125 134 137 139 149 151 154

6

Bibliography

ix

List of Figures
1.1 1.2 1.3 1.4 1.5 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9 3.10 3.11 3.12 3.13 3.14 3.14 3.15 3.15 3.16 3.16 Spectrum holes. . . . . . . . . . . Cognitive Radio Networks. . . . . Infrastructure-based CRN. . . . . Infrastructure-less CRN. . . . . . Cognitive Personal Area Network. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4 6 7 8 9 37 40 46 47 48 49 50 54

Superframe and node acheives rendezvous with coordinator. . . . . . . . State transition diagram for probabilistic rendezvous. . . . . . . . . . . . Mean TTR for cycle time of primary source Tcyc = 3000. . . . . . . . . TTR statistics for cycle time of primary source Tcyc = 3000. . . . . . . . Mean TTR for cycle time of primary source Tcyc = 4500. . . . . . . . . TTR statistics for cycle time of primary source Tcyc = 4500. . . . . . . . Arrival of nodes and their times to join CPAN. . . . . . . . . . . . . . . . Second node joins the CPAN before the joining of first node. . . . . . . . Second node joins after the joining of first node but arrives before the joining of first node. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Second node arrives after the joining of first node. . . . . . . . . . . . . . Third node joins before the joining of first node but after second node. . . Third node joins after the joining of both first and second nodes but arrives brfore the joining of both first and second nodes. . . . . . . . . . . . . . Third node arrives after the joining of both first and second nodes. . . . . Nodes' joining times statistics with N = 21 channels, primary user activity factor of pon = 0.2, and cycle time of primary source Tcyc = 3000. . . . . Continued figure . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Nodes' joining times statistics with N = 21 channels, primary user activity factor of pon = 0.2, and cycle time of primary source Tcyc = 4500. . . . . Continued figure . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Nodes' joining times statistics with N = 21 channels, node arrival rate of  = 0.002, and cycle times of primary source Tcyc = 3000. . . . . . . . . Continued figure . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

. 55 . 56 . 58 . 59 . 60 . 68 . 69 . 71 . 72 . 75 . 76

x

List of Figures

3.17 Nodes' joining times statistics with N = 21 channels, node arrival rate of  = 0.002, and cycle times of primary source Tcyc = 4500. . . . . . . . . 3.17 Continued figure . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.18 Nodes' joining times statistics with primary user activity factor of pon = 0.2, node arrival rate of  = 0.002, and cycle time of primary source Tcyc = 3000. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.18 Continued figure . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.19 Nodes' joining times statistics with primary user activity factor of pon = 0.2, node arrival rate of  = 0.002, and cycle time of Tcyc = 4500. . . . . 3.19 Continued figure . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.1 4.2 4.3 4.4 4.5 4.6 4.7 4.8 Bridge operation. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Packet arrival distribution during service cycle . . . . . . . . . . . . . . . End-to-End delay for Inter-CPAN packet . . . . . . . . . . . . . . . . . . Average number of packet arrivals during different intervals in the CPAN. Packet delays for ordinary node transmission in the SCPAN. . . . . . . . Mean number of packet arrivals in the DCPAN. . . . . . . . . . . . . . . Performance of data transmission in the DCPAN. . . . . . . . . . . . . . Average bridge cycle period and intra-CPAN packet waiting time in the DCPAN. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.9 Mean end-to-end delay for inter-CPAN traffic. . . . . . . . . . . . . . . . 4.10 Performance of the sensing process. . . . . . . . . . . . . . . . . . . . . 4.11 Collision probability with primary source . . . . . . . . . . . . . . . . . 5.1 5.2 5.3 Bridge switching algorithm for two-way traffic. . . . . . . . . . . . . . . Pertaining to packet arrivals during a service cycle. . . . . . . . . . . . . Performance of individual CPANs under varying packet arrival rates in both CPANs. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5.4 Mean duration of bridge exchange and mean bridge cycle time under varying packet arrival rates in both CPANs. . . . . . . . . . . . . . . . . . . . 5.5 Mean end-to-end delay under varying packet arrival rates in both CPANs. 5.6 Performance of individual CPANs under varying packet arrival rate and fraction of non-local traffic in the other CPAN. . . . . . . . . . . . . . . 5.7 Mean duration of bridge exchange and mean bridge cycle time under varying packet arrival rate and fraction of non-local traffic in the other CPAN. 5.8 Mean end-to-end delay for inter-CPAN traffic. . . . . . . . . . . . . . . 5.9 Performance of the sensing process. . . . . . . . . . . . . . . . . . . . . 5.10 Probability of collision with primary source transmission. . . . . . . . .

. 78 . 79

. 82 . 83 . 85 . 86 . . . . . . . . . . . 91 94 108 111 112 113 114 115 116 117 118

. 124 . 126 . 140 . 141 . 143 . 144 . . . . 146 147 148 150

xi

List of Tables
1.1 4.1 The illustration of main contributions in this thesis. . . . . . . . . . . . . . 17 Parameters used in this chapter. . . . . . . . . . . . . . . . . . . . . . . . . 93

xii

List of Abbreviations and Symbols

ACK AP CCC CDF CPAN CR CRN

Acknowledgement Access Point Common Control Channel Cumulative Distribution Function Cognitive Personal Area Network

Cognitive Radio Cognitive Radio Network Carrier Sense Multiple Access/ Collision Avoidance

CSMA/CA DCPAN FIFO JS LST MAC OSA pdf PDF PGF PHY PU QoS

Destination CPAN

First in First Out

Jump and Stay Laplace-Stieltjes Transform Machine Access Control Opportunistic Spectrum Access Probability Density Function Probability Distribution Function Probability Generating Function Physical Layer Primary User Quality of Service Source CPAN xiii

SCPAN

List of Abbreviations and Symbols

SNR SU TTR N M Twb Twi

Signal to Noise Ratio Secondary User Time to Rendezvous Number of channels Number of nodes in CPAN Waiting time on busy channel Waiting time on idle channel pdf of channel busy period pdf of channel idle period

ta (x), ga (x) ti (x), gi (x) Ta , Ga Ti , Gi

Mean channel busy period Mean channel idle period Mean channel cycle time

Tcyc , Gcyc pon pof f

Probability that channel is busy Probability that channel is idle pdf of TTR

tT T R (x)  b Pic Pbt

packet arrival rate inter-CPAN packet arrival rate Probability of inter-CPAN packet Probability that the bridge transmission occurs in the ongoing superframe

Preni

Probability that the joining time of ith node completely overlaps with the joining time of nodes that arrived earlier

sf

Duration of superframe

xiv

List of Abbreviations and Symbols Probability that ith node arrives before the joining of at least one of the nodes that arrived earlier   Scale parameter of Gamma distribution Shape parameter of Gamma distribution Distribution of Inter arrival time of Node Distribution of Waiting time of arrival of Node pdf of waiting time of arrival of Node Distribution of TTR

Parvi

Ai (x) Ti (x) fTi (t)

T T Ri (x) Ji (s)

LST of node's joining time LST of group of nodes joining time

 ( s) Tjoin i

b( z )  µ

PGF of packet size

Offered load Service rate PGF of number of packets PGF of packet service time PGF of bridge cycle period PGF of number of inter-CPAN packets PGF of bridge transmission duration pdf of time lag between two CPANs' superframes LST of CPAN cycle time PGF of time spent in sensing PGF of the time period of two consecutive sensing events on a particular channel

 (z ) S (z ) bcyc (z ) Qb(z ) d2b(z ) (y ) C  (s) V (z ) (z )

xv

List of Abbreviations and Symbols

(z ) Pcol Pcol
(br) (o)

PGF of the number of nodes concurrently performing channel sensing Collision probability of bridge transmission Collision probability of ordinary node transmission PGF of the number of packets left in the buffer after any departing packet LST of intra-CPAN packet waiting time LST of bridge access delay

L(z ) W  (s)
 Wa (s)

xvi

Chapter 1 Introduction
Over the last two decades, the advances in wireless communication technologies and the proliferation of new wireless applications make the radio spectrum overcrowded. In this perspective, Cognitive Radio (CR) technology of Opportunistic or Dynamic Spectrum Access (OSA) paradigm has brought a lot of interest in both academic and industrial communities. Evidence shows that although most of the spectrum under 3GHz is assigned to Licensed or Primary Users (PUs), a significant portion of it is underutilized or not used depending on the geographical location and time [12]. The CR technology can provide a promising solution to the increasing demand of radio spectrum. It can accommodate a wide range of Unlicensed or Secondary Users (SUs) equipped with CR to use the spectrum when it is temporally unused by the PUs. In terms of functionality, the key goals of SUs are to enable OSA, identify the available spectrum through spectrum sensing, and establish communications and coordination among themselves. All of these goals are the important functions of the medium access control (MAC) protocols. In this thesis, we present a MAC protocol for the formation

1

Chapter 1: Introduction

of piconet, hereafter referred to as Cognitive Personal Area Network (CPAN), in which a group of SUs establish rendezvous with a dedicated coordinator and carry the operation under the control of coordinator. We also present a bridging protocol in which a shared SU (bridge) routes the inter-CPAN data between two CPANs. The remaining of the chapter is organized as follows: Section 1.1 gives the details about OSA paradigm, while Section 1.2 presents the CR technology of OSA paradigm. The architecture of Cognitive Radio Networks (CRNs) is present in Section 1.3. Section 1.4 gives the overview of Cognitive Personal Area Networks (CPANs) formation and operation. Major issues and challenges of CPANs are discussed in Section 1.5. The thesis motivation and objectives are presented in Section 1.6 and Section 1.7, respectively. The main contributions of this thesis are summarized in Section 1.8. Finally, the organization of this thesis is presented in Section 1.9.

1.1

Opportunistic Spectrum Access (OSA)

The radio spectrum is a limited and expensive resource and getting occupied day by day due to the rapid growth of new wireless communication applications. In order to operate on a specific spectrum band, the PUs, such as, TV broadcast network, and cellular network, need to acquire license from their respective government agencies. This kind of traditional spectrum management policy gives major advantages to PUs­,i.e., giving the exclusive owner of a portion of spectrum and preventing interference between different PUs by assigning guard bands. These advantages make the operation of PU network easier. However, this kind of fixed spectrum licensing policy makes the spectrum underutilized, and several studies show that 15 to 85% of spectrum remains unused depending on the 2

Chapter 1: Introduction

geographical location and time [12, 76]. There are two main approaches that have been proposed to solve the problem of spectrum scarcity and utilize the spectrum efficiently: · Through spectrum sharing (SS) in which the unlicensed users coexist with the licensed users if the former does not create any harmful interference to (and from) latter [20, 53]. · Through opportunistic spectrum access (OSA) paradigm in which the unlicensed users can access a particular spectrum band when it is sensed to be free from the licensed users [3, 41, 87]. The first approach, SS, allows for simultaneous secondary and primary transmission in a band. However, in order to protect PU transmission, the SU may not exceed the imposed interference noise level. Therefore, the SUs are assumed to have prior knowledge about certain PU transmission parameters to limit their transmissions power. On the other hand, in the OSA approach, the SUs opportunistically use the temporarily unused portions of the licensed spectrum from the PUs. The temporarily unused portions of the licensed spectrum are known as Spectrum Holes or White Spaces [3], as shown in Fig.1.1, however, SUs must vacate the current spectrum band once the PU appears on that band, and find another spectrum hole in order to avoid interference to and from PU. In this thesis, we consider the OSA approach as it is independent of PU characteristics and allows SUs to find suitable spectrum bands for maintaining better quality of service (QoS).

3

Chapter 1: Introduction

spectrum holes

spectrum bands are occupied by different PUs

frequency

time

Figure 1.1: Spectrum holes.

1.2

Cognitive Radio Technology

The concept of Cognitive Radio (CR) was formally defined by Federal Communications Commission (FCC) in [16]: "A cognitive radio is a radio that can change its transmitter parameters based on interaction with the environment in which it operates." However, in this thesis, we adopt the definition of CR provided by Dr. Simon Haykin in his highly cited paper [24] as it covers all the aspects of CR technology: "Cognitive radio is an intelligent wireless communication system that is aware of its surrounding environment (i.e., outside world), and uses the methodology of understanding-by-building to learn from the environment and adapt its internal states to statistical variations in the incoming RF stimuli by making corresponding changes in certain operating parameters (e.g., transmit-power, carrier-frequency, and modulation strategy) in real-time, with two primary objectives in mind: (i) highly reliable communications whenever and wherever needed and (ii) efficient utilization of the radio spectrum" CR is the technology in which SU finds and uses spectrum holes through spectrum 4

Chapter 1: Introduction

sensing. Due to its inherent attributes, such as sensing the surrounding radio spectrum and adapting its transmission waveform to the new spectrum band, CR is identified as the enabling technology of the OSA paradigm. There are two main characteristics of CR [3]: · Cognitive capability: This capability gives a CR to aware of the spectrum surrounded itself. A CR can gather spectrum information through sensing, i.e., which portion of spectrum is occupied or vacant. · Reconfigurability: This ability makes a CR to change its internal states, such as communication frequency, transmission power, modulation scheme, and communication protocol, dynamically according to the gathered information. Based on the above definitions and characteristics, a CR should have the following functionalities [3]: · Spectrum sensing: Each CR user identifies the presence of the PU transmission on a certain spectrum band. By finding the spectrum holes or unused spectrum band, the CR user can use that spectrum band if it does not create any interference to (and from) PU. · Spectrum management/decision: Each CR user finds a set of spectrum holes after performing the spectrum sensing. In order to accomplish the communication requirements, such as QoS, the CR user selects the best available spectrum band from the set of spectrum holes. · Spectrum mobility: The CR user needs to switch the spectrum bands due to the

5

Chapter 1: Introduction

presence of PU or selecting better spectrum band. Therefore, the goal of the CR user is to maintain seamless communication while switching the spectrum bands. · Spectrum sharing: In order to accommodate multiple coexisting CR users and efficiently use the spectrum, the available spectrum resource needs to be shared in a coordinated way. The decision of spectrum sharing can be made by the coexisting users in a distributed manner.

CR node PU base station frequency PU Rx

PU network on licensed band-3

PU base station PU base station

PU Rx

CR node

PU network on licensed band-2

PU Tx/Rx

CR node

PU network on licensed band-1

CR network

Figure 1.2: Cognitive Radio Networks.

1.3

Cognitive Radio Networks (CRNs)

A Cognitive Radio Network (CRN) contains more than one CR nodes where the nodes opportunistically use the vacant spectrum bands for their communications. Even though the CRN improves the inefficient usage of fixed assigned spectrum, it poses several challenges due to the uncertainty of spectrum availability. In general, CRN works on top of multiple 6

Chapter 1: Introduction

coexisting PU networks, as shown in Fig.1.2, [36]. The PU networks such as cellular networks and TV broadcast networks are the existing networks that operate exclusively on their certain spectrum bands. The CR nodes may belong to different coexisting PU networks but can form a CRN when they situate in each other's transmission range. The nodes of a CRN can establish communications by finding a common free portion of the spectrum band or channel.

to other CR base station

CR base station point to point point to point CR node

to p

spectrum broker

oin

t

flo tal da

CR node

Figure 1.3: Infrastructure-based CRN.

Similar to the typical wireless networks, a CRN can be classified into two categories [2, 5]: (i) Infrastructure-based CRN (ii) Infrastructure-less CRN In infrastructure-based CRN, as shown in Fig.1.3, CR nodes are connected with a CR base station like the typical base station in cellular network through point-to-point links. After performing spectrum sensing, each CR node sends the spectrum information to the CR 7

po

int

w

Chapter 1: Introduction

base station. CR base station is further connected with a central network entity, spectrum broker which servers as a spectrum information manager for the coexistence among multiple CRNs. Based on the spectrum information, the CR base station can select channels to avoid interference from both PUs and other CRNs. According to the selected channels, the CR users, under the same CR base station, can communicate among themselves. Two CR nodes under different CRNs can communicate through their corresponding CR base stations. On the other hand, the infrastructure-less CRN does not have any infrastructure backbone, as shown in Fig.1.4. In infrastructure-less CRN, CR nodes find each other on a common channel in an ad-hoc basis to communicate, that is why it is referred to as adhoc CRN. In other words, ad-hoc CRN is self-organizing and nodes communicate in a distributed manner.

CR node

control flow CR node datal flow

CR node

Figure 1.4: Infrastructure-less CRN.

However, in the infrastructure-based CRN, when the CR nodes are densely populated, the CR base station wastes the spectrum by keeping point to point connections with the CR nodes. The infrastructure-based CRN also incurs cost for building and managing the CR base stations and spectrum broker. While in ad-hoc CRN, as nodes are self-organized, they 8

tro l flo w da tal flo w

con

Chapter 1: Introduction

need to find each other on a common channel before establishing each communication. This problem ultimately degrades the overall communications performance if a group of nodes want to communicate among themselves frequently for a longer period of time. In this thesis, we use a hybrid approach for the formation of piconet with a group of CR nodes, similar to the master-slave network [76]. We refer the piconet to as Cognitive Personal Area Network (CPAN). As shown in Fig.1.5, CR nodes can form a CPAN under the control of a dedicated CR node, coordinator. All nodes of a CPAN communicate with each other on the channel that is selected by the coordinator node. Once the nodes form a CPAN, they do not need to find each other since the coordinator directs the nodes timely to which channel they (including coordinator) will meet next. To ensure accurate information about primary user activity, multiple nodes can do the channel sensing in a collaborative fashion and submit the sensing results to the coordinator. The coordinator can select the best channel from those sensing results and informs the other nodes.

CR node (coordinator) control flow

tro l flo w da tal flo w

CR node datal flow

con

flo tal da

w

CR node

Figure 1.5: Cognitive Personal Area Network.

As this thesis focuses on the formation of CPAN and bridging between two CPANs, we will discuss the CPAN formation and inter-CPAN communications in the following 9

Chapter 1: Introduction

sections.

1.4

Cognitive Personal Area Networks (CPANs)

A Cognitive Personal Area Network (CPAN) consists of a dedicated coordinator and a number of nodes. The coordinator initiates the CPAN and is responsible for admitting nodes to join the CPAN. The coordinator monitors and controls the CPAN operation and does the other administrative tasks. This section provides an overview of CPAN formation, operation and inter-CPAN communications.

1.4.1

CPAN Formation

Upon initiating the CPAN, the coordinator stays on every idle channel for a fixed length of time, hereafter referred to as superframe [28, 76]. While waiting on idle channel, the coordinator expects that the nodes will arrive and achieve rendezvous with it by finding the superframe. As not all nodes can establish rendezvous in the same superframe, the coordinator informs the nodes that have already established rendezvous to which channel to hop in otherwise those nodes will lose synchronization with the coordinator. When a predefined number of nodes join or a prescribed time has elapsed, the coordinator begins regular CPAN operation.

1.4.2

CPAN Operation

The coordinator begins the regular CPAN operation by allowing nodes to transmit data packets during a specific portion of the superframe in a scheduled manner. The CPAN hops

10

Chapter 1: Introduction

through available channels in a pseudo-random fashion in order to avoid PU transmissions, and each of the superframes may take place on a different channel. To ensure accurate information about primary user activity, spectrum sensing is performed collaboratively by nodes that have transmitted data in the previous superframes.

1.4.3

Inter-CPAN Communication

A multi-hop network can be formed when one or more CPANs are operating in between source CPAN and destination CPAN and each pair of CPANs (from source CPAN to destination CPAN) has a shared (bridge) node. Each bridge of different pair of CPANs is responsible to carry the data from source CPAN towards destination CPAN. This can only be accomplished when a bridge is able to exchange data between two asynchronous CPANs, every CPAN operates independently and the starting time of each CPAN superframe might differ from other CPAN. In this thesis, we also propose a bridging protocol that exchanges data between two asynchronous CPANs.

1.5

Major Issues and Challenges of CPANs

In this section, we discuss several issues and challenges for the formation of CPANs and the communications between two CPANs in different aspects: · Rendezvous: Rendezvous refers to the ability of nodes to find each other and form a network. Due to the uncertain availability of channels, rendezvous between two nodes is a challenging problem. · Group rendezvous: In order to form a CPAN, a group of nodes need to establish 11

Chapter 1: Introduction

rendezvous with a fixed coordinator. In this scenario, simple two-node rendezvous is not sufficient. Instead, the first node can begin acting as coordinator, and other nodes, when they arrive, try to rendezvous with it so that a CPAN can be formed. However, random arrival of nodes and their random times to rendezvous (TTRs) with coordinator pose serious challenge to find the time to form a CPAN by a group of nodes. · Cooperative sensing: The ultimate aim of the nodes of CPAN is to carry data transmission successfully. As nodes suffer from unreliable prediction of the presence of PU, the coordinator relies on the sensing results that are performed by multiple nodes in a cooperative fashion. Therefore, it is necessary to design an efficient sensing strategy­,i.e., when and which node will sense which channel? · Selection of the best channel: The sensed free channels need be classified based on the environmental parameters, such as Signal-to-Noise Ratio (SNR), channel bandwidth, and the activity pattern of PU. Therefore, a decision model is required for the coordinator that considers one or more these features and selects the best available channel to carry the next superframe successfully. · Scheduling the transmission times: Each node will request time to transmit the data packets. The coordinator allows to transmit the packets in the specific portion of the superframe. Therefore, the coordinator needs a decision mechanism that allocates the transmission times among the nodes efficiently. · Collision with PU activity: The ongoing superframe collides when the PU becomes active on that channel. All the nodes including coordinator need to give up the chan12

Chapter 1: Introduction

nel, they may loose synchronized with the coordinator. Hence, the coordinator should have a mechanism that attempts recovery if the current superframe collides with PU activity. · Bridging between two CPANs: In order to route data packets between two CPANs, a bridge node needs to share its time between the CPANs. This problem becomes more challenging when the two CPANs are asynchronous.

1.6

Motivation

The application of IEEE 802.15.1 for Wireless Personal Area Network (WPAN) has increased drastically in private household, our workspaces, and monitoring many sensitive and critical activities over the last few decades. However, implementing reliable communication and improving performance of WPAN are challenging even today. This is especially true because the ISM (Industrial, Scientific, and Medical) bands are extremely overcrowded due to the coexistence among different communication technologies, for instance, IEEE 802.11 for Wireless Local Area Network (WLAN) and ZigBee (built upon IEEE 802.15.4). Combined with large transmit power and large coverage range of WLAN devices and other proprietary devices can degrade the performance of WPAN significantly when operating in overlapping frequency bands. As the result, successful operation of a WPAN requires manual setup which depends on the other networks operating in the same physical space. One potential solution to the aforementioned problem is the addition of CR capability to the wireless nodes. The CR has emerged as it exploits unused licensed spectrum bands and enable SUs to access those vacant bands when the ISM bands are overcrowded. This

13

Chapter 1: Introduction

motivates us to build Cognitive Personal Area Network (CPAN) in which the nodes can use the vacant licensed spectrum bands for their communications. In ad-hoc CRN, nodes communicate distributively and they do not keep contact when their data communications is over [4]. However, this is inefficient when a number of nodes need to maintain a piconet for a prolonged period of time. This also motivates us to effectively build a CPAN where a group of nodes achieve rendezvous with the fixed coordinator. The coordinator maintains the connectivity with the other nodes when they establish rendezvous with it. To build a CRN, nodes need to establish rendezvous between them. Many rendezvous protocols rely on a common control channel (CCC), which is used by the nodes to exchange control messages [74, 83]. However, this is unrealistic since PU may appear on the CCC and it wastes the spectrum band. These problems motivate us to build a probabilistic blind rendezvous technique to form the CPAN. The PU activity greatly influences the performance of CRN since the PU is the owner of the channel and may active on its channel at any time [14, 26, 64]. Therefore, in this thesis, we study the impact of PU activity on the formation and operation in CPAN. Due to the random activity of PU, node can not alone detect the presence of PU accurately. Thus, the coordinator can collect the sensing results from multiple nodes and may choose the best channel that is most likely free from PU activity for the next communication. In this thesis, we adopt the cooperative sensing technique. We consider the CPAN hops through available channels in a pseudo-random fashion based on the cooperative sensing results from the nodes. Multi-hop opportunistic spectrum access networks are beginning to attract research at-

14

Chapter 1: Introduction

tention [62, 82], with performance of data transfers being among the most important research challenges. Coexistence of multiple CRNs on the same channel through controlling transmission powers and sharing that channel in time division manner is discussed in [33], but without addressing the details of data transfer between those networks. Moreover, most of the research does not properly consider the impact of random PU activity on the performance of multi-hop CRNs [62, 63]. These motivate us to build a protocol that provides communication between two CPANs through a shared bridge node. In this thesis, we also analyze the impact of PU activity on the performance of CPANs including bridge transmission.

1.7

Objectives

In Section 1.4, we have introduced three major steps for the operation in CRNs. However, we have seen that the issues presented in Section 1.5 are not addressed in the current CRNs appropriately. In this thesis, we develop a protocol for the formation of CPAN by an arbitrary number of nodes. We also provide inter-CPAN communication protocol that helps to route data between two channel hopping CPANs. Each of the developed protocols deals mostly all of the issues presented in Section 1.5. In order to derive the time to form CPAN by an arbitrary number of nodes, we used probabilistic rendezvous protocol. We have derived the distribution of time to rendezvous (TTR) and plugged it into the CPAN formation protocol. In all cases, we have studied the impact of PU activity. The distribution of time to form CPAN with moderate to large size is hyper-exponential with large coefficient of skewness. The large coefficient of skewness 15

Chapter 1: Introduction

causes large variability in the time to form CPAN. The proposed model can help to predict the CPAN formation time in two different situations: (i) The coordinator sets a cut-off time to start over the CPAN operation by a random number of nodes, such as to form an emergency network. (ii) The coordinator does not start the CPAN operation until a predefined number of nodes have joined the CPAN, such as to form a network for a prolonged period of time. After forming the CPAN, the coordinator begins the CPAN operation. All nodes in the CPAN are expected to participate in the sensing process according to the schedule defined by the CPAN coordinator. However, CPAN nodes have data traffic to send to and receive from each other, and a tradeoff between communication and sensing activities of each node must be reached. In this thesis, we have studied the performance of CPAN operations, namely time to get the opportunity to transmit data and the impact of PU activity on each transmission. Towards building inter-CPAN communications, a bridge node shares its time between two coexisting CPANs in order to exchange data and stay synchronized with both CPANs. First, we consider the bridge node has prioritized access, i.e., transmits inter-CPAN data before the other nodes, and only delivers inter-CPAN data in one direction. Next, we have studied the asynchronous nature of CPANs in which the CPANs are not limited to start their superframes at the same time. In the extended protocol, the bridge node carries bidirectional traffic as well as the bridge traffic is considered as regular traffic, not given any priority. In all cases, we have studied the time to deliver both intra and inter-CPAN data and considered the impact of PU activity on each type of data transmissions. 16

Chapter 1: Introduction

1.8

Main Contributions

In attempting to maintain effective communications in CRN, current solutions, i.e., ad-hoc based and infrastructure-based CRNs are limited in both scope and methodology. However, this research led to the creation of new models a) CPAN formation with a group of nodes b) inter-CPAN communication through a bridge node. Table 1.1 outlines the main contributions presented in this thesis. Table 1.1: The illustration of main contributions in this thesis. Chapter Contributions Challenges Chapter 3: Forma- Deriving the distribution of Time to Ren- Finding the distrition of Cognitive dezvous (TTR) with coordinator. Apply- bution of time to Personal Area Net- ing the TTR distribution for deriving the form CPAN by an works (CPANs) by time to form a CPAN by an arbitrary num- arbitrary number using Probabilistic ber of nodes. Evaluating the effects of of nodes. Rendezvous. the random activity of PU and random arrivals of nodes. Chapter 4: Bridge Developing a bridging protocol in which Giving higher Performance in Asyn- the two CPANs superframes are not syn- priority to bridge chronous Cognitive chronized. Analysing the performance of transmission over Personal Area Net- bridge and other nodes transmissions by other nodes' works. considering the random activity of PU. transmissions Chapter 5: Two-way Developing a bridging protocol that ex- Sharing the Communications in changes inter-CPAN data between two bridge time in Cognitive Personal CPANs. Considering the random activity both CPANs' Area Networks of PU on both bridge and other nodes per- superframes formance.

First, we propose a CPAN formation protocol in which the first node initiates the CPAN and acts as a coordinator. Later on, ordinary nodes arrive randomly and try to achieve rendezvous with the coordinator. When a number of nodes join the coordinator or a prescribed time has elapsed, the coordinator begins the regular CPAN operations. The joining time of a node with CPAN coordinator is the sum of its arrival time and its time to rendezvous

17

Chapter 1: Introduction

(TTR) with coordinator. As the coordinator and nodes hop randomly through the channels, the TTR depends on their durations of waiting times in each channel, but also on the activity patterns of PUs. We represent the rendezvous process described in [48] for a single node with a Markov chain in order to derive the probability distribution of the rendezvous time. Then, we extend the model to include multiple nodes, and derive the probability distribution of the group joining time. As nodes can undertake rendezvous concurrently, the group joining time is not a simple sum of the joining times of individual nodes; instead, the rendezvous times of different nodes may partially or fully overlap and a given node may even join the coordinator before the joining of other nodes that arrived earlier. A number of results related to the CPAN formation time based on nodes arrival rate and random activity of PU has been produced. We show that both single and multiple node joining times can be approximated with a Gamma distribution, the parameters of which can be estimated from calculated values of mean values and coefficient of variation of the joining time. Then, we describe a bridging protocol between two CPANs in which a bridge node carries unidirectional traffic only. Both CPANs use the transmission tax-based MAC protocol in which nodes pay for packet transmission by performing spectrum sensing [47]. We assume that a node from one CPAN (source CPAN) discovers another CPAN (destination CPAN) while performing spectrum sensing and begins to act as a bridge node. The bridge hops between source CPAN and destination CPAN to deliver inter-CPAN traffic from the former to the latter. As the bridge needs to synchronize with both CPANs and to ensure timely delivery of inter-CPAN traffic, the bridge transmissions are given higher priority in the destination CPAN. We model the operation of bridging protocol using probabilistic analysis and queueing theory, and obtain the probability distributions of CPAN and bridge

18

Chapter 1: Introduction

cycle times as well as of end-to-end delays for both local and non-local (i.e., intra- and inter-CPAN) traffic. Finally, we present an efficient bridging protocol that exchanges bidirectional traffic between two CPANs. We have allowed the bridge to switch between the CPANs without any predefined arrangement, which resulted in simplified bridge scheduling and increased fairness for all nodes. We present the probabilistic model of bidirectional bringing protocol using queueing theory. We also take into account the impact of collisions with primary user transmissions through probabilistic analysis and renewal theory. We investigate the performance of this arrangement with respect to access delay for both the inter- and intraCPAN traffic. An extensive number of results has been produced in order to validate the proposed novel protocols. The results are produced by solving the numerical calculations of the analytical models in Maple [43]. The achieved results help to predict the CPAN formation time both in emergency situation with a smaller group of nodes and long-term communications with a larger group of nodes. The results also help to analyze the waiting time to deliver both local traffic and non-local traffic, and the impact of PU transmission on CPAN performance. In addition, In order to validate the correctness of numerical results, we also simulate the proposed models in MATLAB [72]. In the simulation study, we consider the random activities of PUs, random arrivals of SUs, and collision with PU transmissions. The simulation results and numerical results show good agreement, which further validates the correctness of the proposed models. The design techniques of CPAN formation and inter-CPAN communication help to de-

19

Chapter 1: Introduction

ploy effective network operations in numerous fields of applications, but not limited to battlefield surveillance, preventive maintenance of machineries, and health care system. While this thesis made an extensive presentation of techniques for CPAN formation and inter-CPAN communication, there are couple of assumptions may affect the actual implementations of these techniques. First, the nodes arrive strictly in increasing order of time during the CPAN formation phase. The CPAN formation time will change if multiple nodes arrive at the same time. Second, two coexisting CPANs know each others working channels in order avoid inter-CPAN collision. Though, this can be achievable if the bridge node exchanges the channel maps besides inter-CPAN traffic, the additional overhead for exchanging channel information is not addressed. However, all of these limitations deserve further research.

1.9

Thesis Organization

The rest of the thesis is structured as follows: · Chapter 2 discusses the state-of-the-art research works in the fields of formation of CRNs and multi-hop CRNs. · In Chapter 3, we have derived the distribution of TTR with coordinator and used it as a tool to find the time to form a CPAN by an arbitrary number of nodes. Also, we have characterised the CPAN formation time based on random arrival nodes and their random TTRs. · In Chapter 4 we have introduced a bridging model between two CPANs in which the bridge only carries one directional data-namely from source CPAN to destination 20

Chapter 1: Introduction

CPAN. In this model, we have prioritized the bridge transmission over the other node transmission. Also, we have evaluated the performance this model and analyzed the impact of PU activity on its performance. · In Chapter 5, we have developed a model to interconnect two CPANs in which a bridge node carries bidirectional data between two CPANs. We have evaluated its performance through probabilistic analysis. We also take into account the impact of collisions with primary user transmissions through probabilistic analysis and renewal theory. · Chapter 6 concludes the thesis and and discusses some directions for future work.

21

Chapter 2 Related Work

2.1

Channel sensing

Channel sensing is one of the most important tasks for the effective operation in CRNs. Channel sensing enables the capability of a CR to measure and learn about its operating environment, such as the spectrum availability and interference status. Channel sensing also helps SUs to protect the PUs' transmissions by detecting their presences. Moreover, SU needs to detect other SUs in order to co-exist with them. Recent surveys on channel sensing and a number of related issues can be found in [67, 84]. In [6], PU energy detection approach is utilized for spectrum sensing by considering both multipath fading and shadowing. Since uncertain knowledge of the noise power level can severely limit the energy detection spectrum sensing capability, the performance of the energy detection with estimated noise power is analyzed in [44]. Although energy detection technique has low computational complexity, it performs poorly in low signal-to-noise ratio (SNR).

22

Chapter 2: Related Work

Waveform-based sensing is feature detection technique which correlates the known signal patterns [70]. Such patterns include preambles, regularly transmitted pilot patterns and spreading sequences. The performance of waveform-based sensing algorithm increases as the length of the known signal pattern increases. The authors, in [19], show that low SNR waveform-based sensing outperforms energy detection-based sensing in reliability. However, this kind of sensing approach has high computational complexity which consumes more energy of the detector SU. In [42], an energy-efficient approach of spectrum sensing is discussed. This approach minimize the energy consumption per SU while maintaining the upper bound false alarm rate. In this approach, a central entity makes the global decision based on the local sensing decisions made by CR users. However, the trade off between sensing time and transmission time of CR user is not analyzed. In [37], the problem of sensing throughput trade off for CRNs is addressed. The paper designs an optimal sensing time to maximize the throughput for the SUs while keeping the PUs sufficiently protected. In this model, two parameters are considered, probability of detection and probability of false alarm, for finding the optimal sensing duration. In this study, the authors did not consider the impact of PU activity on the throughput of CRN. To keep the maximum allowed latency of channel detection [5], an efficient periodic in-band sensing algorithm is proposed in [30]. The algorithm minimizes both sensingfrequency and sensing time while keeping detectability requirements in the prescribed range. In order to decrease the sensing overhead at each SNR level, the proposed algorithm either uses the energy or feature detection technique, accordingly. However, noise uncertainty and inter-CRN interference are affecting both detection techniques.

23

Chapter 2: Related Work

To reduce the energy consumption and processing delay involved in channel sensing, channel prediction for CRNs is studied in [80]. In this approach, a SU can predict the channel quality, such as channel idle probability and idle duration, and then can select a high quality channel for sensing. From this perspective, the authors, in [32], model a threestep ahead spectrum prediction framework based on neural network due to the difficulty of obtaining the channel usage patterns in CRNs. The proposed model can predict channels usages effectively but does not consider the computational complexity which may consume more energy.

2.2

Cooperative channel sensing

Sensing performance in practice is often degraded due to the multipath fading, shadowing and receiver uncertainty issues. However, spectrum sensing in a cooperative manner in CRNs is an effective way to mitigate these issues. Cooperative spectrum sensing gives more accurate results of PU presence [4]. In [81], a multidimensional-correlation-based sensing scheduling algorithm is proposed for CRNs. The scheduling algorithm minimizes the energy consumption and sensing duration of each SU in the CRN, while maintaining the sensing quality requirements. However, in this paper, the communications overhead for exchanging local sensing information among neighbouring SUs is not properly addressed. In [57], a framework of spectrum sensing is provided based on the linear combination of local statistics from individual SU. The goal of the proposed framework is to minimize the interference to the PU while maximizing the utilization of opportunistic spectrum. As a central entity gives the decision based on the weighted spectrum sensing results from each 24

Chapter 2: Related Work

SU, the more weighted SUs' sensing results influence the decision, which may poses not fair selection of sensing results. In [58], a linear cooperation scheme is proposed for SUs in CRNs to jointly perform the task of signal classification. To classify the PU transmission, the proposed scheme relies on spectral correlation function [59]. In this scheme, local classifications are forwarded to a fusion center. Which then combines the classifications in order to find the accurate PU activities. However, the communications approach among the SUs is not entirely addressed. In [79], a spatial­temporal channel sensing is investigated for CRNS. This paper addresses both spatial or temporal sensing since at a given time SUs may experience different channel access opportunities at different locations. The proposed two-dimensional sensing framework improves the channel sensing performance in a spatial-temporal sensing window but does not include the performance of SU transmission properly. To explore free channels, space-time channel sensing is proposed, in [77], to detect spectrum opportunities in space-time dimensions. Three regions, namely the black region, the gray region, and the white region, are introduced for the operation of CRN. SU can opportunistically access the licensed spectrum in the gray region. In the white region, the SU can transmit at any­time since this region has spatial spectrum opportunities. The SUs are not allowed to transmit in the black region since the PUs have exclusive right to operate in that region. Though the bounds of three regions are achieved, the proper implementation of CRN is not investigated. In [29], a model is proposed in which interactions among SUs can be achieved through an evolutionary game. The authors provide a distributed learning algorithm for the SUs to converge to the evolutionarily stable strategy (ESS) that no one will deviate from. Each

25

Chapter 2: Related Work

SU senses and accesses the primary channel with the probabilities learned purely from its own past utility history, and finally achieves the desired ESS. This paper considers a fixed channel to exchange the sensing information among SUs, which is not truly opportunistic and wastes the spectrum. In [7], an optimal spectrum sensing method is proposed to make a trade off between transmission time and the sensing time of SUs. The joint transmission times of all SUs is maximized while providing better spectrum sensing performance as well as maintaining the constraints of the PU interference level. Though the proposed model achieves the optimal spectrum sensing time and transmission time in the presence of PU mobility, it does not discuss the coexistence architecture of multiple SUs. In [15], the sensing time and transmission time of SU are considered as slotted structure. A SU dynamically adjusts its slots length in order to achieve better performance. At each slot, the SU determines which channel to sense and how long the slot length should be on a sensed idle channel. The proposed adaptive method maximizes a reward function based on the duration of data transmission and interference with PU transmission but fails to address the issue when PU becomes active on SU transmission. In [35], the authors provide a method to maximize the total expected system throughput in a CRN. They design a Bayesian decision rule-based algorithm which maximize the SU throughput subject to a constraint on the PU throughput and the SUs' sensing time overhead. The proposed algorithm achieves better spectrum sensing performance by limiting the number of SUs to participate in cooperative sensing. However, the architecture, SUs are connected with a SU base station through point to point links, presented in this paper is difficult to achieve in practice.

26

Chapter 2: Related Work

2.3

Rendezvous

Rendezvous refers to the ability of nodes to find each other on a common channel. However, in CRN, rendezvous between two nodes is a challenging problem since the availability of channels is uncertain. There have been a number of protocols proposed for rendezvous in CRNs, in which each pair of nodes establishes rendezvous separately [78]. Many rendezvous protocols rely on a common control channel (CCC), which is used by the nodes to exchange control messages [74, 83]. The CCC is assumed to be dedicated and always free from the activity of PUs. Though achieving rendezvous using CCC is very promising, i.e., takes less time to rendezvous, it is very difficult to deploy in practice since nodes are not the owners of channels [38]. However, a blind rendezvous technique is much more suitable for CRN due to its autonomous and distributed nature [73]. Existing blind rendezvous protocol can be classified into two categories, namely sequencebased rendezvous [22, 85], and random (or probabilistic) rendezvous [61, 65]. The sequencebased rendezvous gives good performance, i.e., short mean value and upper bound for time to rendezvous (TTR). However, its prerequisites ­,i.e., both nodes assume a common set of free channels to generate the hopping sequences, and their local clocks are synchronised, are difficult to maintain in practice. Most importantly, sequence-based rendezvous protocol can not provide the upper bound for TTR if the impact of random PU activity is considered since it may destroy the rendezvous and extend the TTR. On the other hand, the probabilistic rendezvous protocol relies on probabilistic channel selection. This protocol achieves rendezvous in the scenario of random activity of PU and does not need clocks of nodes to be synchronised. 27

Chapter 2: Related Work

In [23], to achieve rendezvous, the transmitter and receiver SUs follow the same channel sequence but their remaining times in a channel are different. The transmitting SU stays on each available channels for a short period of time period. Meanwhile, the receiving node jumps and stays on the same sequenced channel for a longer period of time. As the transmitter repeats the channel sequence, eventually they meet on a common channel. In [85], the authors propose two channel­hopping-based MAC layer protocols for rendezvous. For the first protocol, they assume the nodes are synchronized to the channel hopping process. In the second protocol, nodes are not rely on global clock synchronization. However, both protocols fail to achieve rendezvous in asynchronous environment. As most of the existing blind rendezvous protocols fail to fully satisfy the criteria of asynchronous rendezvous support, guaranteed rendezvous, and short TTR, the authors proposed a rendezvous protocol to meet those criteria in [11]. The protocol uses an alternate hop­and­wait channel that support fast blind rendezvous. Each node will use a unique alternate channel hopping sequence composed of HOP/WAIT­mode sub-sequences. When two SUs hop on a common channel, they have a rendezvous. Though this paper considers the asynchronous criteria, it does not consider the case when PU becomes active on the common channel in which two SUs are trying to achieve rendezvous. In [69], temporal variation of the channels is considered to design the rendezvous procedure. The authors derive time-adaptive strategy for synchronous system in which the channel availability is assumed to be static over time. They achieve optimal expected TTR but limit the SUs to operate in synchronous manner. In [65], quorum system is used to solve the blind rendezvous problem. A quorum is a set of SUs in which each SU has an independent channel sequence from the common set

28

Chapter 2: Related Work

of available channels. When two sequences rendezvous, two nodes communicate on the rendezvous channels as long as the channels are available. However, the method of finding the common set of available channels is not discussed properly. In [56], the authors use a jump­and­stay (JS) algorithm to achieve rendezvous between two nodes. They proposed an adaptive JS pattern in which the nodes jump on better channels more often to increase the possibility to rendezvous on such channels. In order to find the better channels, the model categorizes the channels that have low interference with PUs. As different nodes have different sensing capabilities, achieving rendezvous between two nodes gets longer when their JS patterns vary widely. In [39], joint channel hopping based asynchronous rendezvous is used to investigate the channel access delay. The authors adopt collision avoidance (CSMA/CA) MAC to solve multi user contention. Though the approach gives better coordination, implementation of CSMA/CA is difficult in CRN environment since PU may active on the control channel and lengthen the TTR. We have seen from the above that most of the research highlights the rendezvous problem between two nodes. However, in this thesis, we build a protocol for the formation of piconet (CPAN) in which a group of nodes concurrently rendezvous with a coordinator node. We have examined the distribution of CPAN formation time in the Chapter 3.

2.4

Multi-hop CRNs

Many theoretical and practical proposals focused on the creation, operation and performance of single hop networks. Recently, multi-hop networks have begun to attract research attention [40]. This problem is challenging since CRNs besides PUs produce interference 29

Chapter 2: Related Work

to their coexisting CRNs. Though multi-hop CRNs can use spectrum efficiently and are able to transmit data into an extended coverage, there are couple of open issues that have to be resolved before commencing them. Multi-hop CRN faces the important challenge to route data from source node to destination node efficiently through a suitable selection of hop sequences. Moreover, in order to vacate the channel for the PUs' transmissions the multi-hop CRN will struggle to provide better quality of service (QoS) to SUs [63]. However, according to a recent survey in [62], a good routing protocol in CRN must address the following obstacles during it's designing phase: · Channel-based challenges: Due to lack of common control channel (CCC) and uncertain and dynamic behaviour of channel availability it is nearly impractical to exchange channel information between source and destination through route request (RREQ) and route reply (RREL) messages. · Host-based challenges: Routing protocol must addresses the delays when SUs switch their channels or keep backoff until PU's transmission over in the case unwilling to switch channel. · Network-based challenges: The route will suffer from more link failures if minimum number of hops between source and destination can not be accommodated. In multi-hop CRNs it is unrealistic to establish a static route from source node to destination node due to unpredictable channels. The authors in [71] proposed a dynamic routing protocol where multiple intermediate destination nodes are selected by using greedy heuristic algorithm. The packet forwarding chooses successively intermediate destinations which 30

Chapter 2: Related Work

are geographically close to destination until the packet reaches final destination. In order to route packets in multi-hop CRN, the authors [40] proposed an opportunistic cognitive routing (OCR) protocol. In this scheme an SU aware of its geographic location distributively selects a neighbour SU as a next hop relay to forward the packet. The authors in [75, 86] proposed both centralized and distributed algorithm for avoiding partition of CRNs in the presence of PUs activity. In this approach the SUs equipped with multiple radios can utilize the unoccupied channel when one or more PUs become active. With the help of robust topology control the packet from source node to destination node still can be re-routed by using another radio. Works in [17] is proposed an optimal route selection approach for transferring data among SUs in multi-hop CRNs environment. Here optimality is defined over the route maintenance cost which is measured when channels or links are required to give up due to presence of PUs. The authors in [66] proposed robust route finding algorithm. Based on the BreadthFirst-Search technique they find the skeleton set for each flow in a hop-by-hop manner from source to destination nodes. Starting from source node the algorithm includes the next hop if it has at least one link and satisfies robustness constraints until the route finds the destination nodes. Routing is frequently linked to the solutions of the spectrum decision (i.e., channel selection) and network coexistence problems, as witnessed by the joint routing and link scheduling approach in [55] or a session-oriented spectrum trading system [54]. Recently, new routing metrics specifically tailored to cognitive networks have been proposed, including various flavors of spectrum temperature [27] together with the associated routing

31

Chapter 2: Related Work

protocols. As we have seen, nearly all of the research is oriented towards routing, which is a well researched subject in ad­hoc networks, but with two additional constraints. First, routes as well as ongoing data transmissions can be disrupted by collisions with primary user transmissions on the selected channels. Second, routes can be difficult to repair due to the lack of coordination among cognitive piconets that participate in the formation and maintenance of the route.

2.5

Chapter Summary

In this chapter, we have surveyed the current research works for the operations of CRN. Current solutions are limited to the formation of long-term communications in terms of their effectiveness and scope. There is a need for a new framework for network formation and operations. To analyze and build this new framework, we have investigated the CPAN formation protocol in the Chapter 3. Moreover, most of the research highlights many of the issues related to design, operation, and performance of routing protocols, the performance of multi-hop CPANs by considering the impact of random activity of PU has not been adequately addressed. We have investigated the performance of bridging between two CPANs under the consideration of random PU activity in the Chapters 4 and 5.

32

Chapter 3 Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous
The formation of Cognitive Personal Area Networks (CPANs) requires a group of nodes to connect to a dedicated coordinator node. In this chapter, we propose a protocol for the formation of CPAN in which nodes arrive randomly, and their times to rendezvous with coordinator overlap partially or fully with one another. We develop an analytical model for the time to form a CPAN by an arbitrary number of nodes. Numerical results show that CPAN with more than three nodes needs hyper-exponential formation time with large coefficient of skewness which may cause large variability in formation time of CPAN with a moderate to large number of nodes. The results also show that the distribution of joining time of group of seven nodes can be used as the general distribution for the joining time of group of more than seven nodes. The proposed model can be used in two different ways 33

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous to form the CPAN: i) the coordinator sets a cut-off time to start over the CPAN operation by a random number of nodes, i.e., an emergency network ii) the coordinator does not start the CPAN operation until a predefined number of nodes have joined the CPAN, i.e., a long-term network.

3.1

Introduction

In order to initiate data communications, a pair of nodes need to establish rendezvous ­ i.e., find each other on a common channel [9, 10]. To avoid interference with PU and carry successful data transmission, nodes often use channel hopping [8, 45]. The rendezvous is only possible when a pair of nodes appear at the same time on the same idle channel. Establishing rendezvous between two nodes is particularly challenging problem due to their random hopping sequences as well as random appearance of PUs on their channels. However, when multiple nodes want to form a piconet, simple two-node rendezvous is not sufficient. Instead, the first node can begin acting as a CPAN coordinator, and the other nodes can try to rendezvous with it. Upon initiating the CPAN, the coordinator stays on every idle channel for a fixed length of time (hereafter referred to as superframe). While waiting on idle channel, the coordinator expects that the nodes will arrive and achieve rendezvous with it by finding the superframe. As not all nodes can establish rendezvous during a single superframe, the coordinator will inform already connected nodes about the next channel to hop to, otherwise those nodes will lose synchronization with the coordinator. This means that a node, once it has joined the coordinator, does not need to reestablish the connection as long as it follows the channel-hopping sequence of the coordinator. When a predefined number of nodes join 34

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

or a prescribed time has elapsed, the coordinator begins regular CPAN operation using the transmission tax-based MAC protocol described in [51]. Time starts when the coordinator initiates the CPAN. Later on, the nodes arrive randomly and spend additional random times to achieve rendezvous with the coordinator. Therefore, the joining time of a node with CPAN coordinator is the sum of its arrival time and its time to rendezvous (TTR) with coordinator. However, in this protocol, multiple nodes can continue their rendezvous processes simultaneously since each arriving node can undertake its rendezvous process independently from others. As nodes' arrival times and TTRs are random and independent, any given node can join the CPAN before the joining of other nodes that arrived earlier or its arrival time and, or TTR may partially overlap with the joining times of those nodes. This chapter presents a systematic approach for designing the CPAN formation protocol with the help of probabilistic rendezvous. To the best of our knowledge, there is no existing protocol that supports group rendezvous with a fixed coordinator. Moreover, in this protocol, once the nodes join, they do not need to establish rendezvous again since the coordinator informs nodes to which channel to hop in after each superframe. In this chapter, as probabilistic rendezvous protocol is used as a tool for CPAN formation, we derive the distribution of TTR before modeling the time to form CPAN by a number of nodes. This chapter also presents detailed characteristics of CPAN formation time under the scenarios of different node arrival rates, PU activities, and number of channels. The rest of the chapter is organized as follows: The details of CPAN operation and rendezvous protocol present in Section 3.2. We model the rendezvous protocol and derive the distribution of TTR in Section 3.3. By applying the distribution of TTR, we model

35

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

the CPAN formation protocol in Section 3.4. The derivation of time to form CPAN by an arbitrary number of nodes is described in Section 3.5. The characteristics of CPAN formation time are analyzed in Section 3.6. Finally, Section 3.7 concludes the chapter.

3.2

MAC Operation and Rendezvous Protocol

In this protocol, a node initiates the Cognitive Personal Area Network (CPAN) by starting to act as a coordinator. The coordinator hops through available channels in a pseudorandom manner. In order to allow other nodes to find and join the CPAN, the coordinator stays on each idle channel for a period of time. This staying time is logically divided into unit slots and maintained as constant size superframe of length of sf unit slots, as shown in the Fig.3.1. The beginning and end of each superframe are marked with a leading and a trailing beacon frames, respectively, sent by the coordinator. The remaining portion of the superframe is listen frame, in which the other nodes send join requests. The leading beacon contains the nodes' identifications. However, when the coordinator alone in the CPAN, it transmits only its identification in the leading beacon. The next-hop channel is announced in the trailing beacon, together with a number of backup channels which are used to attempt recovery in case of collision with a PU transmission [49]. The trailing beacon also sends ACK packet indicating the join request has been received successfully.

36

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

 ZZZ  Z   Z <

Z  Z    Z 

Z Z



Z 

 Z  Z  Z    



Figure 3.1: Superframe and node acheives rendezvous with coordinator.

3.2.1

Probabilistic Rendezvous Protocol

We consider the set of N channels are well known to every node in the network. In order to find and join the CPAN, a newly arrived node also hops randomly through the channels. The node may hop to a channel which is busy, i.e., the channel is currently occupied by a PU. If a channel is found busy, the node will stay there for a short period of time, Twb , and hop to another channel. The node may also hop to an idle channel, where it stays for a long time, Twi . Since, the node expects that the CPAN will eventually hop in to the same channel and start superframe. In the case when the node hops to an idle channel, there are a number of scenarios in which a successful rendezvous can be possible: (i) While the node is waiting in the idle channel, the coordinator hops in to the same channel and starts superframe. The node listens the leading beacon and sends a joining request when the coordinator starts listening after transmitting the leading beacon. Later on, the coordinator grants the joining request by sending ACK packet in the trailing beacon. Note that, once the node overhears the CPAN superframe, it may extends Twi time in order to join the CPAN. (ii) The node may hop to the channel on which the CPAN has already started the super-

37

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

frame. Rendezvous can be possible in the current superframe if the node listens to a portion of the leading beacon. Otherwise, the node will listen to the trailing beacon since Twi is longer than sf . By listening to the trailing beacon, the node will follow CPAN's next superframe and send join request in that superframe. There are also scenarios in which the rendezvous will fail: (i) The CPAN superframe has been completed just before the node hops to that idle channel. (ii) The node leaves the idle channel just before the arrival of CPAN superframe on that channel. (iii) Finally, while the node is waiting for rendezvous by finding the CPAN superframe, the rendezvous process may be destroyed if the primary user becomes active on that channel (collision with PU).

3.3

Modeling the probabilistic rendezvous protocol

In this section we model the probabilistic rendezvous protocol, as explained above, and derive the distribution of time to rendezvous (TTR). However, in order to consider the impact of random activity of PU, we model the random channel activity and plug it in to the probabilistic rendezvous protocol.

3.3.1

Modeling the channel activity

Each PU is intermittently active on its own channel. Let the durations of active and idle times, Ta and Ti , follow mutually independent random probability distributions and 38

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

their probability density functions (pdf) of active and idle periods are tTa (x) and tTi (y ), respectively. Since the active and idle times alternate, the pdf of the channel cycle time is tTcyc (z ) =
 t (x)tTi (z - x)dx. x=0 Ta

Therefore, the mean value of channel cycle time of PU

activity is Tcyl = Ta + Ti and the probabilities that the PU is active or idle on the channel are pon =
Ta Ta +Ti

and pof f = 1 - pon , respectively.

3.3.2

Modeling the time for the rendezvous process

As discussed above, a successful rendezvous occurs when the node's waiting time at an idle channel overlaps with the CPAN superframe (or, at least, the superframe trailing beacon) without collision. However, before a successful rendezvous, the node hops randomly through the channels and stays there for a random amount of time depending on the states of the channel and the location of CPAN superframe on that channel. The rendezvous process can be represented through transient Markov chain, as shown in Fig.3.2. The states and transition probabilities are as follows: (i) State 1 is the starting state. (ii) State 2 corresponds to the situation when node's waiting time at an idle channel directly overlaps with a superframe. The transition probability of coming to this state is Pov and the Laplace-Stieltjes Transform (LST) of time spend in this state is
 Tov (s).

(iii) State 3 corresponds to the situation when node's waiting time at an idle channel overlaps only with the trailing beacon of a superframe. The transition probability of coming to this state is Pl and the LST of time spend in this state is Tl (s). 39

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

WZ

WZ


WZ WZ WZ

W W

WZ W W W


W W 

W


W W W W W W W
  W W W 

 
W

W W W

      Z  W E      Z  W E              W E Z Z     Z  W E Z       W E  

W





W W

W W W
  





W
   



W

W

 W

W

 

 ZZ  Z


W
 

Figure 3.2: State transition diagram for probabilistic rendezvous. (iv) State 4 corresponds to the situation when node finds a busy channel. The transition probability of coming to this state is Pb and the LST of time spend in this state is Tb (s). (v) State 5 corresponds to the situation when node hops to an idle channel but the CPAN doesn't access that channel during the node waiting time so a rendezvous doesn't

40

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

happen. The transition probability of coming to this state is P2 and the LST of time
 spend in this state is T2 (s).

(vi) State 6 corresponds to the situation when node hops to an idle channel but its waiting time ends before the CPAN access that channel in the same idle channel period so a
- rendezvous doesn't happen. The transition probability of coming to this state is P3 - and the LST of time spend in this state is T3 (s).

(vii) State 7 corresponds to the situation when node hops to an idle channel after the CPAN has left so a rendezvous doesn't happen. The transition probability of coming to this
+ + state is P3 and the LST of time spend in this state is T3 (s).

(viii) State 8 corresponds to the situation when a pending rendezvous is destroyed due to the activity of PU on that channel. The transition probability of coming to this state
 (s). is Pc and the LST of time spend in this state is T4

(ix) State 9 is the absorbing state when node successfully achieves rendezvous with coordinator. The transition probability of coming to this state is 1 - Pc . The expressions of the above probabilities and waiting times, as derived in [48], will be used, but we do not present them since they would be a lengthy distraction. We represent the rendezvous process presented in [48] through Markov chain in order to derive the distribution of TTR. We use the distribution of TTR as a tool for the CPAN formation protocol to derive the distribution of time to form a CPAN. For each LST of time Ti , mean, second and third central moments can be obtained as
d  Ti = - ds Ti (s)|s=0 , Ti (2)

=

d2 T  (s)|s=0 , ds2 i

and Ti

(3)

d  = - ds 3 Ti (s)|s=0 , accordingly.

3

41

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

After the arrival, the node starts from state 1 and traverses to an arbitrary number of states before successfully achieving rendezvous with the CPAN coordinator in the state 9. The transition matrix of the rendezvous process is

1

2

3

4

5

6 - P3

7 + P3

8

9


1

 0 Pc Pc 0 0 0 0 0 0 0    1 - Pc    1 - Pc      0    0     0    0     0   1

0 Pov Pl Pb P2 0 0 0 0 0 0 0 0 0 0

Prend

   2   3    4   = 5    6    7    8 
9

0 0

0 0

- + 0 Pov Pl Pb P2 P3 P3 - + 0 Pov Pl Pb P2 P3 P3 - + 0 Pov Pl Pb P2 P3 P3 - + 0 Pov Pl Pb P2 P3 P3 - + 0 Pov Pl Pb P2 P3 P3

(3.1)

0

0

0

0

0

0

0

The transition matrix of the rendezvous process has only one absorbing state (state 9) and the remaining eight states are transient states. The canonical form of the transient Markov chain is   (3.2)

Q R  Prend =   0 I

where Q is an eight-by-eight matrix, R is a non-zero eight-by-one matrix, 0 is an one-byeight zero matrix, and I is an one-by-one identity matrix. The matrix V = (I - Q)-1

42

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

represents the fundamental matrix of Prend [21]. Therefore,

1

2 -Pov Px Px -Pc Pov Px -Pc Pov Px -Pov Px -Pov Px -Pov Px -Pov Px -Pov Px

3 -Pl Px -Pc Pl Px Px -Pc Pl Px -Pl Px -Pl Px -Pl Px -Pl Px -Pl Px

4 -Pb Px - Pc Pb Px - Pc Pb Px Px - Pb Px -Pb Px -Pb Px -Pb Px -Pb Px

5 -P2 Px -Pc P2 Px -Pc P2 Px -P2 Px Px -P2 Px -P2 Px -P2 Px -P2 Px

6
- - P3 Px - -Pc P3 Px - -Pc P3 Px - - P3 Px - - P3 Px - Px -P3 Px - - P3 Px - - P3 Px

7
+ -P3 Px - -Pc P3 Px - -Pc P3 Px + -P3 Px + -P3 Px + -P3 Px + Px -P3 Px + -P3 Px

8 -Pc (Pov +Pl ) Px
+ - -1) +P3 Pc (Pb +P2 +P3 Px + - -1) +P3 Pc (Pb +P2 +P3 Px


1

                        

1 0 0 0 0 0 0 0

   2    3   4  V=   5    6   7  
8

-Pc (Pov +Pl ) Px -Pc (Pov +Pl ) Px -Pc (Pov +Pl ) Px -Pc (Pov +Pl ) Px
- + Pb +P2 +P3 + P3 -1 Px

(3.3)
- + where Px = Pc Pov + Pc Pl + Pb + P2 + P3 + P3 - 1. Each entry vij of V gives the expected

number of times that the node is in the transient state j if the node is started for rendezvous in the transient state i. Let us assume that t is the column vector whose ith entry ti is the expected duration before the chain is absorbed, given that the chain starts in state i. Therefore, t = V cm , here cm is the column vector whose j th entry cmj is the mean time that node spends in the j th state cm = 0 Tov Tl Tb T2
- T3 + T3 T

T4

(3.4)

43

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

As the node always starts from state 1, we can obtain the mean TTR by using the following equation:
8

ttrm = t1 =
j =1

v1j cmj

(3.5)

In the similar manner we can obtain the higher moments of TTR. Let c2m is the column vector whose j th entry c2mj is the second central moment of the time that node spends in the j th state
T

c2m =

0

(2) Tov

(2) Tl

(2) Tb

(2) T2

-(2) T3

+(2) T3

(2) T4

(3.6)

Therefore, the second central moment of TTR is
8

ttr2m =
j =1

v1j c2mj

(3.7)

If c3m is the column vector whose j th entry c3mj is the third central moment of the time that node spends in the j th state
T

c3m =

0

(3) Tov

(3) Tl

(3) Tb

(3) T2

-(3) T3

+(3) T3

(3) T4

(3.8)

then the third central moment of TTR is
8

ttr3m =
j =1

v1j c3mj

(3.9)

44

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

Therefore, standard deviation, coefficient of variation, and coefficient of skewness of TTR are ttrsdev = accordingly. ttr2m - (ttrm )2 , ttrcvar =
ttrsdev , ttrm

and ttrskew =

ttr3m -3ttrm (ttrsdev )2 -(ttrm )3 , (ttrsdev )3

3.3.3

Evaluation of the time to rendezvous (TTR)

In order to evaluate the TTR, we have solved the analytical model discussed above using Maple 16 software [43]. We have used values evaluated in [48] for the transient Markov chain, as shown in Fig.3.2. We assume that channel idle and busy time are exponentially distributed with mean values Ti and Ta respectively and the number of channels N is in the range 5 to 29. The mean channel cycle time was set to Tcyc = Ti + Ta = 3000 and 4500 unit slots, respectively. The PU activity factor pon =
Ta Ti +Ta

was varied in the range 0.1 to

0.3. The size of the superframe was set to sf = 50 unit slots. The parameters time to stay in to a busy channel and time to stay in to an idle channel for rendezvous protocol were set to Twb = 10 and Twi = 20N unit slots, accordingly. To validate the numerical results of TTR, we have simulated the rendezvous protocol using MATLAB [72]. The simulation results are plotted from the mean of the results of 2000 separate runs. For the simulation run, we use the same values for the system parameters as were used to gather the numerical results. Fig.3.3 shows the mean value of TTR as functions of PU activity factor pon and number of channels N . The cycle time of PU was set to Tcyc = 3000. Fig.3.3a shows that the mean TTR decreases when PU activity factor pon increases. The reason is that the larger value of pon increases the probability of getting channels busy as well as makes the channels busy for time longer time (since, Ta = pon Tcyc ). As the

45

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

2600

2400
2400 time [unit slots] 2200 2000 1800 1600

time [unit slots]

2200 2000 1800 1600 1400

0.10

0.15

0.20 pon

0.25

0.30

10

15

20 N

25

0.10

0.15

0.20 pon

0.25

0.30

10

15

20 N

25

(a) Mean TTR (Numerical).

(b) Mean TTR (Simulation).

Figure 3.3: Mean TTR for cycle time of primary source Tcyc = 3000. channels get busy more frequently and for longer time, the node needs to switch channels more frequently in shorter interval, which, in turn, increases the probability of overlap between the node and CPAN superframe and decreases the mean TTR. On the other hand, Fig.3.3a shows that the mean TTR increases when the number of channels N increases. This is because the node hops randomly through the channels in order to overlap with CPAN superframe. Therefore, as the number of channels N increases, the node will have less probability to overlap with CPAN superframe, which, in turn, increases the mean TTR. Simulation plot of Fig.3.3b is the mean TTR of 2000 simulation runs. From Fig.3.3a and Fig.3.3b, we conclude that the simulation result agree well with the analytical result. Fig.3.4 shows coefficient of variation and skewness of TTR, and coefficient of skewness of fitted-Gamma distribution as functions of PU activity factor pon and number of channels N . The cycle time of PU was set to Tcyc = 3000.

46

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

0.98 coefficient of variation 0.97 0.96 0.95 0.94 0.93 0.10 0.15 20 N 25

0.20 pon

0.25

0.30

10

15

(a) Coefficient of variation of TTR.

(b) Coefficient of skewness of TTR.

(c) Coefficient of skewness of fitted-Gamma distribution by estimating Gamma parameters from Figs. 3.3a and 3.4a.

Figure 3.4: TTR statistics for cycle time of primary source Tcyc = 3000. Coefficient of variation of TTR, as shown in Fig.3.4a, is close to 1 but less than 1 which indicates that the TTR follows exponential distribution with special case. However, in order to validate, we match the coefficient of skewness of TTR, as shown in Fig. 3.4b, with the coefficient of skewness of fitted-Gamma distribution, as shown in Fig. 3.4c, by
1 estimating the shape parameter  = ( ttrcvar )2 and scale parameter  = ttrm 

of Gamma

47

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

3600

3400 3200 time [unit slots] 3000 2800 2600 2400 2200 0.10 0.15 0.20 pon 0.25 10 15 N 20 25
time [unit slots]

3400 3200 3000 2800 2600 2400 2200 0.10 0.15 20 N 25

0.30

0.20 pon

0.25

0.30

10

15

(a) Mean TTR (Numerical).

(b) Mean TTR (Simulation).

Figure 3.5: Mean TTR for cycle time of primary source Tcyc = 4500. distribution from the Figs. 3.3a and 3.4a. The values of coefficients of skewness of TTR and fitted-Gamma distribution are very close and show very similar characteristics. To evaluate the impact of longer cycle time of PU, as shown in Fig.3.5, we have set Tcyc = 4500. Longer cycle time makes mean TTR longer, as shown in Fig.3.5a, in comparison with the shorter cycle time Tcyc = 3000, as shown in Fig.3.3a. This is not unexpected since longer cycle time makes the channel idle for longer time, which, in turn, increases the probability that the node spends its full waiting time Twi in to that idle channel. As the node has less chance to switch the channel due to spending its full waiting time Twi , the probability of overlap between the node and CPAN superframe decreases, which, in turn, increases the mean TTR. The mean TTR of simulation runs, as shown in Fig.3.5b, also validates the correctness of mean TTR of numerical result, as shown in Fig.3.5a. Fig.3.6 shows coefficient of variation and skewness of TTR, and coefficient of skewness of fitted-Gamma distribution as functions of PU activity factor pon and number of channels

48

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

0.99

coefficient of variation

0.98

0.97

0.96

0.95 0.10

0.15

0.20 pon

0.25

0.30

10

15 N

20

25

(a) Coefficient of variation of TTR.

(b) Coefficient of skewness of TTR.

(c) Coefficient of skewness of fitted-Gamma distribution by estimating Gamma parameters from Figs. 3.5a and 3.6a.

Figure 3.6: TTR statistics for cycle time of primary source Tcyc = 4500. N . The cycle time of PU was set to Tcyc = 4500. For longer cycle time, coefficient of variation of TTR, as shown in Fig.3.6a, is also less than 1. The values of coefficients of skewness of TTR and fitted-Gamma distribution, as shown in Figs. 3.6b and 3.6c, accordingly, are almost equal and show very similar 49

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

characteristics, which indicates that the distribution of TTR is Gamma. As the distribution of TTR shows all the characteristics of Gamma distribution [18], we can define the pdf of TTR as tT T R (x) =
x - 1 ( ) e
-x 

 ()
ttrm . 

(3.10)

1 )2 and scale parameter  = where shape parameter  = ( ttrcvar

3.4

Modeling the CPAN formation time

Let us now start modeling the time to form CPAN by an arbitrary number of nodes. Time starts when the coordinator initiates the CPAN, as shown in the Fig.3.7. After initiating CPAN, the coordinator must spend some time to allow other nodes to arrive and join the CPAN according to the rendezvous distribution, as discussed above.
d d d d  Z
 

ZZZ

Z Z


 Z


Z Z 

ddZ  ddZ  ddZ  ddZ 

Figure 3.7: Arrival of nodes and their times to join CPAN.

50

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

Arrival process of nodes: Let us assume that the nodes arrive to join the CPAN according to a Poisson distribution with rate . The distribution of interarrival time is exponential with rate : interarrival times {Ai : i  1}, as shown in the Fig.3.7, are independent identically distributed (i.i.d.) with common distribution
x

A(x) = P (Ai  x) =
t=0

e-t dt = 1 - e-x , x  0.

(3.11)

The LST of interarrival time of node is


A (s) =
t=0



e-ts e-t dt =

 +s

(3.12)

d 1 and its mean A = - ds (A (s)) |s=0 =  .

Let Ti as the waiting time for the arrival of ith node, as shown in the Fig.3.7. Since Ti = A1 + A2 + ... + Ai , the sum of i i.i.d. exponentially distributed random variables, the distribution of Ti is the ith fold convolution of the exponential distribution [1] and its pdf is (t)i-1 , t  0, i  1. (i - 1)!

fTi (t) = e-t

(3.13)

The LST of waiting time for the arrival of ith ordinary node can be defined as


Ti (s)

=
t=0

e

-ts

fTi (t)dt =

 +s

i

(3.14)

d i and its mean Ti = - ds (Ti (s)) |s=0 =  .

51

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

Time to rendezvous (TTR) with CPAN coordinator: The probabilistic rendezvous protocol allows multiple nodes to undertake rendezvous process concurrently since each arriving node tries to achieve rendezvous with the coordinator independently from others. Let the time needed for ith node, after its arrival, to rendezvous with coordinator be denoted as T T Ri , as shown in the Fig.3.7. As the rendezvous procedure of each node is independent and random, we assume that nodes' rendezvous times are i.i.d. random variables with common distribution
x

T T R(x) = P (T T Ri < x) =
y =0

tT T R (y )dy

(3.15)

where tT T R (y ) is the pdf of Gamma distribution with shape and scale parameters,  and  , accordingly, as defined in (3.10). The LST of TTR can be defined as


T T R (s) =
y =0



e-ys tT T R (y )dy = (1 + s)-

(3.16)

d and its mean T T R = - ds (T T R (s)) |s=0 = .

Joining time of an arbitrary node with CPAN coordinator: The time needed for an arbitrary node to join the CPAN is the sum of its arrival time and its TTR. Let the joining time of ith node be Ji = Ti + T T Ri . Therefore, the pdf of joining time of ith node is


gJi (z ) =
x=0

fTi (x)tT T R (z - x)dx

(3.17)

and its LST is Ji (s) = Ti (s)T T R (s). 52 (3.18)

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

3.5

Derivation of CPAN formation time for an arbitrary number of nodes

As explained earlier, since multiple nodes can undertake joining process simultaneously, any given node's joining time may fully, or partially overlap with the joining time of nodes that arrived earlier. However, before deriving the general time for joining of i nodes with CPAN, we need to analyze the scenarios for joining times of first three nodes.

CPAN formation time with one node: The time needed for the node that arrives first to join the CPAN is the sum of its arrival time T1 and its TTR T T R1 . Therefore, the LST of time for one node to join the CPAN is

   Tjoin (s) = J1 (s) = T1 (s)T T R (s) = A (s)T T R (s) 1

(3.19)

 (s) = A (s). since T1

CPAN formation time with two nodes: Let us now assume that the second node arrives at time T2 . We may identify three different possible times when that node can join the CPAN: · Due to the randomness of TTR, the node that arrives second can join the CPAN before the joining of node that arrived first, as shown in Fig.3.8. The probability of

53

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

this case is

Pren2 = P (J1 > J2 )


=
x=0 

P (J1 > x)P (J2 = x)dx


=
x=0 y =x

gJ1 (y )dy gJ2 (x)dx

(3.20)

Therefore, in this case, the joining time of node that arrives second completely overlaps with the joining time of node that arrives first with probability Pren2 .

d d  Z
 

ZZZ

Z Z  ddZ  ddZ 

 Z Z  Z Z

Figure 3.8: Second node joins the CPAN before the joining of first node.

· The node that arrives second can join the CPAN after the joining of node that arrives first but the second node arrives before the first node joins the CPAN, as shown in Fig.3.9. The probability that the second node arrives before the first node joins the

54

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

CPAN is

Parv2 = P (J1 > T2 )


=
x=0 

P (J1 > x)P (T2 = x)dx


=
x=0 y =x

gJ1 (y )dy fT2 (x)dx

(3.21)

Therefore, the joining time of node that arrives second partially overlaps with the joining time of node that arrives first with probability (1 - Pren2 )Parv2 . In this case, the time to form CPAN by two nodes is equal to the sum of times that the first node takes to join the CPAN and the residual rendezvous time of node that arrives
 second. The residual rendezvous time of the node that arrives second is T T R+ (s) = 1-T T R (s) sT T R

[31].

d d  Z
 

ZZZ

Z Z  ddZ  ddZ   Z Z  Z Z ddZ 

Figure 3.9: Second node joins after the joining of first node but arrives before the joining of first node.

· The second node may arrive after the joining of first node, as shown in the Fig.3.10. The probability of such case is (1 - Pren2 )(1 - Parv2 ). In this case, only the partial 55

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

interarrival time of second node overlaps with the joining time of node that arrives first. Therefore, in this case, the time to form CPAN by two nodes is equal to the sum of times that first node takes to join the CPAN, and the residual interarrival time and full rendezvous time of second node. The residual interarrival time of the node that arrives second is A + (s) =
d d  Z
 

1-A (s) . sA

ZZZ

Z Z 

ddZ 



ddZ 

 Z Z  Z Z

Figure 3.10: Second node arrives after the joining of first node.

Therefore, the LST of time for the group of two nodes to join the CPAN is

     Tjoin (s) = Pren2 Tjoin (s) + (1 - Pren2 ) Parv2 Tjoin (s)T T R+ (s) + (1 - Parv2 )Tjoin (s) 2 1 1 1  A + (s)T T R (s)   = Tjoin (s) Pren2 + (1 - Pren2 )Parv2 T T R+ (s) + (1 - Pren2 )(1 - Parv2 )A + (s) 1

T T R (s)] = A (s)T T R (s) [Pren2 + (1 - Pren2 )Parv2
  T T R+ (s) + (1 - Pren2 )(1 - Parv2 )A + (s)T T R (s)

(3.22)

56

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

As exponential distribution is a special case of Gamma distribution, the interarrival time of nodes, exponential variable, is Gamma variable. The pdf tjoin2 (x) of joining time of group of two nodes is Gamma distribution since the joining time is the sum of Gamma variables with different parameters and weights. The pdf tjoin2 (x) can be calculated using [52]. Therefore, the probability that two nodes join in time X is Pjoin2 (X ) = P (Tjoin2  X) =
X t (x)dx. x=0 join2

CPAN formation time with three nodes: Let us now assume that the third node arrives at time T3 . In the similar manner, we can identify three different possible times when that node can join the CPAN: · As two nodes already arrived before the third node and their TTRs are random, the third node can join before the joining of first node, second node or even both first and second nodes, as shown in Fig.3.11. The probability of such case is

Pren3 = P (J1 > J3 )P (J2 < J3 ) + P (J1 < J3 )P (J2 > J3 ) + P (J1 > J3 )P (J2 > J3 ) = 1 - P (J1 < J3 )P (J2 < J3 )
 

=1-
x=0 

P (J1 < x)P (J3 = x)dx
x=0 x

P (J2 < x)P (J3 = x)dx
 x

=1-
x=0 y =0

gJ1 (y )dy gJ3 (x)dx
x=0 y =0

gJ2 (y )dy gJ3 (x)dx (3.23)

In this case the third node does not need any extra time to join the CPAN since its joining time overlaps with the joining time of nodes that arrived earlier. · The third node may join after the joining of first two nodes but the third node arrives 57

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

d d d  Z
 

ZZZ

Z Z


 Z  ddZ  ddZ  ddZ 

 Z Z   Z

Figure 3.11: Third node joins before the joining of first node but after second node. before the joining of first node, second node or even both first and second nodes, as shown in Fig.3.12. The probability that third node arrives before the joining of first node, second node, or both first and second nodes is

Parv3 = P (J1 > T3 )P (J2 < T3 ) + P (J1 < T3 )P (J2 > T3 ) + P (J1 > T3 )P (J2 > T3 ) = 1 - P (J1 < T3 )P (J2 < T3 )
 

=1-
x=0 

P (J1 < x)P (T3 = x)dx
x=0 x

P (J2 < x)P (T3 = x)dx
 x

=1-
x=0 y =0

gJ1 (y )dy fT3 (x)dx
x=0 y =0

gJ2 (y )dy fT3 (x)dx (3.24)

In this case the partial joining time of node that arrives third overlaps with the joining time of nodes that arrived earlier with probability (1 - Pren3 )Parv3 . The partial overlapped joining time of third node includes its complete arrival time and a portion of its TTR. Therefore, in this case, the time to form CPAN by three nodes is equal to 58

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

the sum of times that the first two node takes to join the CPAN and the residual TTR of third node. The residual TTR of third node can be found in the similar manner.
d d d  Z
 

ZZZ

Z Z


 Z  ddZ  ddZ  ddZ   Z Z   Z ddZ 

Figure 3.12: Third node joins after the joining of both first and second nodes but arrives brfore the joining of both first and second nodes.

· The third node may arrive after the joining of first two nodes, as shown in the Fig.3.13, and the probability of this case is (1 - Pren3 )(1 - Parv3 ). In this case, only the partial interarrival time of third node overlaps with the joining time of nodes that arrived earlier. Therefore, in this case, the time to form CPAN by three nodes is equal to the sum of times that first two nodes take to join the CPAN, and the residual interarrival time and full rendezvous time of third node. The residual interarrival time of third node can be found in the similar manner.

59

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

d d d  Z
 

ZZZ

Z Z


 Z 


ddZ  ddZ 

ddZ 

 Z Z   Z

Figure 3.13: Third node arrives after the joining of both first and second nodes.

60

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

Likewise, the LST of time for the group of three nodes to join the CPAN is

     Tjoin (s) = Pren3 Tjoin (s) + (1 - Pren3 ) Parv3 Tjoin (s)T T R+ (s) + (1 - Parv3 )Tjoin (s) 3 2 2 2  A + (s)T T R (s)   = Tjoin (s) Pren3 + (1 - Pren3 )Parv3 T T R+ (s) + (1 - Pren3 )(1 - Parv3 )A + (s) 2

T T R (s)]
 = Tjoin ( s) 1  Pren2 + (1 - Pren2 )Parv2 T T R+ (s) + (1 - Pren2 )(1 - Parv2 )A + ( s)  T T R (s)) Pren3 + (1 - Pren3 )Parv3 T T R+ (s) + (1 - Pren3 )  (1 - Parv3 )A + (s)T T R (s)

= A (s)T T R (s)
 A + (s)T T R (s)

 Pren2 + (1 - Pren2 )Parv2 T T R+ (s) + (1 - Pren2 )(1 - Parv2 )  Pren3 + (1 - Pren3 )Parv3 T T R+ (s) + (1 - Pren3 )(1 - Parv3 )

 A + (s)T T R (s)

(3.25)

The pdf tjoin3 (x) of joining time of group of three nodes can be calculated in the similar way since the joining time is the sum of Gamma variables. Thus, the probability that three nodes join in time X is Pjoin3 (X ) = P (Tjoin3  X ) =
X t (x)dx. x=0 join3

CPAN formation time with i nodes: In common, the ith node may join the CPAN into three different possible times depending on its arrival time Ti and its TTR T T Ri . · The node that arrives ith position can join before the joining of at least one of the nodes that arrived earlier. In this case, the joining time of ith node completely over-

61

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

laps with the joining time of nodes that arrived earlier with probability

Preni = 1 - P (J1 < Ji )P (J2 < Ji ) · · · P (Ji-1 < Ji )
 

=1-
x=0 

P (J1 < x)P (Ji = x)dx · · ·
x=0 x

P (Ji-1 < x)P (Ji = x)dx
 x

=1-
x=0 y =0

gJ1 (y )dy gJi (x)dx · · ·
x=0 y =0

gJi-1 (y )dy gJi (x)dx (3.26)

· The node that arrives ith position can join after the joining of all nodes that arrived earlier but ith node arrives before the joining of at least one of those nodes. The probability that ith node arrives before the joining of at least one of the nodes that arrived earlier is

Parvi = 1 - P (J1 < Ti )P (J2 < Ti ) · · · P (Ji-1 < Ti )
 

=1-
x=0 

P (J1 < x)P (Ti = x)dx · · ·
x=0 x

P (Ji-1 < x)P (Ti = x)dx
 x

=1-
x=0 y =0

gJ1 (y )dy fTi (x)dx · · ·
x=0 y =0

gJi-1 (y )dy fTi (x)dx (3.27)

In this case the partial joining time of node that arrives ith position overlaps with the joining time of nodes that arrived earlier with probability (1 - Preni )Parvi . As before, in this case, the time to form CPAN by i nodes is equal to the sum of times that the first i - 1 nodes take to join the CPAN and the residual rendezvous time of node that arrives ith position. The residual rendezvous time of ith node can be found in the similar way.

62

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous · The ith node arrives after the joining of all nodes that arrived earlier. The probability of such case is (1 - Preni )(1 - Parvi ). As before, in this case, only the partial interarrival time of ith node overlaps with the joining time of nodes that arrived earlier. Therefore, in this case, the time to form CPAN by i nodes is equal to the sum of times that i - 1 nodes take to join the CPAN, and the residual interarrival time and full rendezvous time of ith node. The residual interarrival time of the node that arrives ith position can be found in the similar manner. In general, the LST of time for i nodes to join the CPAN is

  Tjoin (s) = Preni Tjoin (s)+ i i-1     (1 - Preni ) Parvi Tjoin (s)T T R+ (s) + (1 - Parvi )Tjoin (s)A + (s)T T R (s) i-1 i-1

(3.28)
  = Tjoin (s) Preni + (1 - Preni )Parvi T T R+ (s) + (1 - Preni )(1 - Parvi ) i-1  A + (s)T T R (s)

(3.29)

. . .
i  = Tjoin (s) 1 k=2  A + (s)T T R (s) i    Prenk + (1 - Prenk )Parvk T T R+ (s) k=2  +(1 - Prenk )(1 - Parvk )A + (s)T T R (s)  Prenk + (1 - Prenk )Parvk T T R+ (s) + (1 - Prenk )(1 - Parvk )

(3.30)

= A (s)T T R (s)

(3.31)

  Tjoin ( s)  (s), as can be seen from (3.29), when Preni convergences to 1 for = Tjoin i i-1

higher number of nodes. This is highly expected since the longer group joining time most 63

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

likely allows new arriving nodes to join the CPAN coordinator within its bound, which will be evaluated in later. Since, as before, the interarrival time of nodes is special kind of Gamma variable, the group joining time is the sum of Gamma variables with different parameters and weights, as shown in (3.31). In the similar way, we can calculate the pdf tjoini (x) of joining time of group of i nodes and find the probability Pjoini (X ) = P (Tjoini  X ) =
X t (x)dx x=0 joini

that i nodes join in time X . The mean and higher cen(j )
j

d  tral moments of joining time of i nodes can be obtained as Tjoini = (-1)j ds j Tjoini (s)|s=0 ,

where j > 0.

3.6

Characterisation of CPAN formation time

To characterise the CPAN formation time by an arbitrary number of nodes, we have solved the analytical model discussed above using Maple 16 software [43]. We have used TTR values that evaluated in Section 3.3.3. The node arrival rate  was varied in the range 0.001 to 0.005. We assume that channel idle and busy time are exponentially distributed with mean values Ti and Ta respectively and the number of channels N is in the range 5 to 29. The mean channel cycle times were set to Tcyc = Ti + Ta = 3000 and 4500 unit slots, accordingly, and primary user activity factor pon =
Ta Ti +Ta

was varied in the range 0.1

to 0.3. The size of the superframe was set to sf = 50. The parameters time to stay in to a busy channel and time to stay in to an idle channel for rendezvous protocol were set to Twb = 10 and Twi = 20N unit slots, accordingly. In order to validate the correctness of numerical results of CPAN formation time, we simulate the CPAN formation protocol using MATLAB [72]. The theoretical model and simulation model are compared under the same environment of parameters. 64

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

3.6.1

Nodes joining times for different arrival rates

Fig.3.14 shows the node joining time statistics as function of nodes arrival rate . The primary user activity factor, number of channels, and cycle time of PU were set to pon = 0.2, N = 21, and Tcyc = 3000, accordingly. Fig.3.14a shows the probability Parvi that ith node arrives before the other nodes, arrived before the arrival of ith node, join the CPAN. Probability Parvi increases when arrival rate  increases. This is not unexpected since faster nodes arrival rate makes nodes' interarrival times shorter compared with TTR, which, in turn, increases the chance of a node to arrive while the other nodes, arrived earlier, have not yet joined the CPAN. The effect is more prominent, Parvi reaches almost one, when the number of node increases. Fig.3.14b shows the probability Preni that ith node joins before the other nodes, arrived before the arrival ith node, join the CPAN. The probability Preni increases when the interarrival time gets shorter since shorter interarrival time gives a node chances to arrive very close to its earlier arrived nodes and to join before its earlier arrived nodes due to the randomness of TTR. The probability Preni is high when both the number of nodes increases and interarrival time gets shorter. As more nodes arrive in a short interval of time and their TTRs are random, the node that arrives latter has also high probability to join the CPAN before the joining of other nodes that arrived earlier. Fig.3.14c shows the mean time to join the CPAN for different number of nodes. As can be seen, group joining time decreases when interarrival time decreases, i.e.,  increases. This is not surprising since shorter interarrival times makes the nodes arrive faster, which, in turn, decreases the group joining time due to the joining time of a later arrival node overlaps with the joining time of earlier arrived nodes. However, the joining time gets

65

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

flatter for higher number of nodes when  is moderate, which means that the time between two consecutive nodes' joining times gets closer. This is because higher Preni and Parvi values, as shown in Fig.3.14b and Fig.3.14a, make the terms (1 - Preni )Parvi and (1 - Preni )(1 - Parvi ) almost zero in (3.29), which, in turn, convergences to the same joining time for two consecutive nodes. As can be seen from Fig. 3.14c, for moderate node arrival rate  = 0.003 to 0.005 the joining times of group of seven and eight nodes are almost same. The time to join the CPAN for different number of nodes presented in the Fig. 3.14d is the mean of 2000 separate simulation runs. The simulation result verifies our developed analytical model. The coefficient of variation of joining time for group of nodes, as shown in Fig.3.14e, is close to 1 which indicates that the dispersion in the joining time of group of nodes is moderate. However, the flatten coefficient of variation for higher number of nodes indicates that the joining time of group of nodes is converging to a distribution. In order to fit the group joining time with a distribution, we matched the coefficient of skewness of group joining time with the coefficients of skewness of different distributions by estimating their distributions parameters from Figs. 3.14c and 3.14e. However, the coefficient of skewness of group joining time, as shown in Fig.3.14f, is very close to the coefficient of skewness of fitted-Gamma distribution, as shown in Fig. 3.14g. Therefore, we can conclude that the distribution of group joining time follows Gamma distribution. Moreover, if we closely observe the mixture distribution of group joining time, as stated in (3.31), the sum of different Gamma variables with different parameters and weights can be represented as a single Gamma distribution.

66

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

However, the higher value of coefficient of skewness for more than three nodes, as shown in Fig. 3.14f, indicates that the distribution of group joining time for more than three nodes has a long tail. The pdfs of fitted-Gamma distributions, as shown in Fig3.14h, also validate the long tail distribution. The long tail distribution demonstrates that nodes can also join far from the central part of the distribution, which, in turn, creates large variability in the formation time of CPAN with a moderate to large number of nodes. Fig. 3.14i shows the probabilities that the groups of different number of nodes join over different periods of time. The probabilities help to analyse the CPAN formation in two different ways: · By setting the CPAN formation deadline at 6000 unit slots, the chances of forming CPAN by 3, 6 and 9 nodes (including coordinator) are 80%, 62%, and 58%, accordingly. · By setting a predefined number of nodes, such as 6 (including coordinator), for the size of CPAN, the chances to form that size of CPAN at 5000, 7000, and 9000 unit slots are 58%, 68%, and 75%, accordingly. This can be seen from Fig.3.14c to Fig.3.14i that the distribution of CPAN formation time with seven nodes can be used as a general distribution for the CPAN formation time with more than seven nodes.

67

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

0. 9
0.95

0.8
0.90 probability

probability

0.85 0.80 0.75 0.70

0.7 0. 6 0.5 0. 4

0.001

0.002

0.003 

0.004

0.005 3

4

6 5 nodes

7

8

0.001

0.002

0.003 

0.004

0.005 3

5 6 4 nodes

7

8

(a) Probability Parvi that ith node arrives before the joining of other nodes that arrived earlier than ith node

(b) Probability Preni that ith node joins before the joining of other nodes that arrived earlier than ith node

8000 7000 time [unit slots] 6000 5000 4000 3000 0.001 7 8

8000 7000 time [unit slots] 6000 5000 4000 3000
0.002 4 5 nodes 6

0.003 

0.001

0.004

0.005 2

3

0.002

0.003 

0.004

0.005

4 5 3 nodes

8 6 7

(c) Mean joining time for group of nodes (Numerical)

(d) Mean joining time for group of nodes (Simulation)

Figure 3.14: Nodes' joining times statistics with N = 21 channels, primary user activity factor of pon = 0.2, and cycle time of primary source Tcyc = 3000.

68

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

coefficient of skewness (Gamma)

1. 4

2. 8 coefficient of skewness 2. 6 2. 4 2. 2 2.0 1. 8 1. 6
0.002 6 7 8

2.8 2.6 2.4 2.2 2.0 1.8 1.6 0.001 0.002 0.003 0.004  0.005 2 3 5 4 nodes 6 8

coefficient of variation

1.3 1. 2 1.1 1. 0 0.9 0. 8 0.001

0.001 0.002 0.003  0.004 0.005 2 3 5 4 nodes 6

7

8

7

0.003 

0.004

0.005

2

3

5 4 nodes

(e) Coefficient of variation of join- (f) Coefficient of skewness of join- (g) Coefficient of skewness of ing time for group of nodes ing time for group of nodes fitted-Gamma distribution by estimating Gamma parameters from Figs. 3.14c and 3.14e

(h) pdfs of fitted-Gamma distribution for joining time of different group of nodes by estimating Gamma parameters from Figs. 3.14c and 3.14e when  = 0.002

(i) Distribution functions (CDFs) for group joining time from Fig. 3.14h

Figure 3.14: [continue] Nodes' joining times statistics with N = 21 channels, primary user activity factor of pon = 0.2, and cycle time of primary source Tcyc = 3000.

To evaluate the impact of longer cycle time of PU for the same setting, as shown in Fig.3.15, we have set Tcyc = 4500. Longer cycle time of PU makes the mean joining time higher, as shown in Fig.3.15c, in comparison with shorter cycle time Tcyc = 3000, as shown in Fig.3.14c. As before, longer cycle time increases the TTR, which, in turn, increases the 69

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

joining time of nodes with the CPAN. The values of Parvi and Preni are slightly higher, as shown in Fig.3.15a and Fig.3.15b, in comparison with shorter cycle time since longer TTR increases the probability of ith node to arrive and join the CPAN before the joining of other nodes that arrived earlier. The simulation result, as shown in Fig.3.15d match extremely well with the numerical result in Fig.3.15c. By estimating the Gamma parameters from Figs. 3.15c and 3.15e, the coefficient of skewness of fitted-Gamma distribution has been calculated and is shown in Fig.3.14g. The coefficient of skewness of joining time, as shown in Fig. 3.15f, and the coefficient of skewness of fitted-Gamma distribution are very close which indicates that the group joining time is Gamma distribution. For longer cycle time of PU, the pdfs of fitted-Gamma distribution, as shown in Fig3.15h, have more enlarged tails. This enlarged tail distribution makes the joining time probability of group of nodes lower in a shorter CPAN formation deadline, as shown in Fig.3.15i.

70

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

0.9
0.95

0. 8
probability

probability

0.90 0.85 0.80

0.7 0. 6 0.5

0.75

0.4
0.001 0.002 0.003  0.004 0.005 3 4 5 nodes 6 7 8

0.001

0.002

0.003 

0.004

0.005 3

5 6 4 nodes

7

8

(a) Probability Parvi that ith node arrives before the joining of other nodes that arrived earlier than ith node

(b) Probability Preni that ith node joins before the joining of other nodes that arrived earlier than ith node

10000 9000 8000 7000 6000 5000 4000 3000 0.001 8
time [unit slots]

10000 9000 8000 7000 6000 5000 4000

time [unit slots]

0.002

0.003 

0.004

0.005 2

3

4 5 nodes

6

7

0.001

0.002

0.003 

0.004

8 6 7 4 5 3 nodes 2 0.005

(c) Mean joining time for group of nodes (Numerical)

(d) Mean joining time for group of nodes (Simulation)

Figure 3.15: Nodes' joining times statistics with N = 21 channels, primary user activity factor of pon = 0.2, and cycle time of primary source Tcyc = 4500.

71

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

1. 4

2.8 2. 8 coefficient of skewness (Gamma) 8 2. 6 2.4 2.2 2. 0 1.8 1. 6 7 0.001 0.002 0.003 0.004  0.005 2 3 5 4 nodes 6 7 8

coefficient of variation

coefficient of skewness
7 8

1. 3 1. 2 1. 1 1. 0 0. 9 0. 8 0.001 0.002 0.003 0.004  0.005 2 3 5 4 nodes 6

2. 6 2. 4 2. 2 2. 0 1. 8 0.001 0.002 0.003 0.004  0.005 2 3 5 4 nodes 6

(e) Coefficient of variation of join-(f) Coefficient of skewness of join- (g) Coefficient of skewness of ing time for group of nodes ing time for group of nodes fitted-Gamma distribution by estimating Gamma parameters from Figs. 3.15c and 3.15e

(h) pdfs of fitted-Gamma distribution for joining time of different group of nodes by estimating Gamma parameters from Figs. 3.15c and 3.15e when  = 0.002

(i) Distribution functions (CDFs) for group joining time from Fig. 3.15h

Figure 3.15: [continue] Nodes' joining times statistics with N = 21 channels, primary user activity factor of pon = 0.2, and cycle time of primary source Tcyc = 4500.

3.6.2

Nodes joining times for different primary user activity factors

Fig.3.16 shows the node joining time statistics as function of primary user activity factor pon . The nodes interarrival rate, number of channels, and cycle time of PU were set to 72

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

 = 0.002, N = 21, and Tcyc = 3000, accordingly. Fig.3.16a shows the probability Parvi that ith node arrives before the nodes, arrived before ith node, have joined the CPAN. Probability Parvi decreases when the value of pon increases. This is not unexpected since larger value of pon makes the TTR shorter, which, in turn, decreases the probability of ith node to arrive before the nodes, arrived earlier than ith node, join the CPAN as their joining times get shorter due to the shorter TTR. Parvi also reaches almost one when the number of node increases. As more nodes arrive to join the CPAN, the ith node has high probability to arrive before the other nodes, arrived earlier than ith node, join the CPAN due to the randomness of TTR. Fig.3.16b shows the probability Preni that ith node joins before the other nodes, arrived before ith node, have joined the CPAN. Probability Preni decreases slightly with an increment of the value of pon , i.e., shorter TTR. The result may appear surprising at first since shorter TTR should make the value of Preni lower. However, due to the longer interarrival time (fixed in this experiment), shorter TTR can not alone make the probability Preni as lower as it is expected. The probability Preni is high when the number of nodes increases. As more nodes arrive and their TTRs are random, the ith node has high probability to join the CPAN before the other nodes, arrived before ith node, join the CPAN. Fig.3.16c shows mean time to join the CPAN for different number of nodes. As can be seen, the group joining time decreases when pon increases since, as before, shorter TTR makes the joining time shorter. However, the joining time gets a little flatter for higher number of nodes which means that the joining time of node that arrives latter overlaps largely with the joining times of nodes that arrived earlier than it. This is due to the values of Preni and Parvi reach almost 1 for higher number of nodes, as shown in Figs. 3.16b and

73

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

3.16a, respectively. It can be seen that the simulation result, as shown in Fig.3.16d, agree well with the numerical result, as shown in Fig.3.16c. The coefficient of skewness of fitted-Gamma distribution, as shown in Fig.3.16g, is calculated by estimating the Gamma parameters from Figs. 3.16c and 3.16e. As before, the coefficient of skewness of joining time, as shown in Fig. 3.16f, and the coefficient of skewness of fitted-Gamma distribution, as shown in Fig.3.16g are very close which indicates that the group joining time is Gamma distribution. The coefficient of skewness for more than three nodes also indicates that the distribution has long tail due to its higher value. The long tail distribution can be further validated if we observe the pdfs of fittedGamma distribution, as shown in Fig3.16h. Fig. 3.16i shows the probabilities that the groups of different number of nodes join over different periods of time. The probabilities in Fig. 3.16i indicates that the probability of formation of CPAN by a smaller group of nodes is very high in a moderate CPAN formation deadline.

74

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

0.8
0.95

probability

0.90

probability
7 8

0. 7

0.6

0.85

0.5
0.80

0.10

0.15

0.20 pon

0.25

0.30 3

4

5 6 nodes

0.10

0.15

0.20 pon

0.25

0.30 3

4

6 5 nodes

7

8

(a) Probability Parvi that ith node arrives before the joining of other nodes that arrived earlier than ith node

(b) Probability Preni that ith node joins before the joining of other nodes that arrived earlier than ith node

7000

7000

6000 time [unit slots]

6000 time [unit slots]

5000

5000

4000

4000

3000

3000 7 8 4 5 6 0.30 2 3 nodes

0.10

0.15

0.20 pon

0.25

0.30 2

3

4 5 nodes

6

7

8

0.10

0.15

0.20 pon

0.25

(c) Mean joining time for group of nodes (Numerical)

(d) Mean joining time for group of nodes (Simulation)

Figure 3.16: Nodes' joining times statistics with N = 21 channels, node arrival rate of  = 0.002, and cycle times of primary source Tcyc = 3000.

75

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

2.8
1.3 1.2 1.1 1.0 0.9 0.8 0.10 0.15 0.20 pon 6 7 8

2. 6

coefficient of skewness

2.6 2.4 2. 2 2.0 1. 8 0.10 0.15 8

coefficient of skewness (Gamma)

coefficient of variation

2. 4 2. 2 2. 0 1.8 1. 6

0.25

0.30 2

3

4 5 nodes

0.20 pon

0.25

0.30 2

3

4 5 nodes

6

7

0.10

0.15

0.20 pon

0.25

0.30 2

3

4 5 nodes

6

7

8

(e) Coefficient of variation of join-(f) Coefficient of skewness of join- (g) Coefficient of skewness of ing time for group of nodes ing time for group of nodes fitted-Gamma distribution by estimating Gamma parameters from Figs. 3.16c and 3.16e

(h) pdfs of fitted-Gamma distribution for joining time of different group of nodes by estimating Gamma parameters from Figs. 3.16c and 3.16e when pon = 0.2

(i) Distribution functions (CDFs) for group joining time from Fig. 3.16h

Figure 3.16: [continue] Nodes' joining times statistics with N = 21 channels, node arrival rate of  = 0.002, and cycle times of primary source Tcyc = 3000.

The impact of longer cycle time of PU Tcyc = 4500 for different primary user activity factors is also shown in Fig.3.17. As stated before, longer cycle time increases the TTR, which, in turn, makes the mean joining time higher, as shown in Fig.3.17c, with compared to the mean joining time for shorter cycle time in Fig.3.16c. The values of Parvi and Preni 76

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

are slight higher, as shown in Fig.3.17a and Fig.3.17b, in comparison with the shorter cycle time since longer TTR increases the probability of ith node to arrive and join the CPAN before the joining of other nodes that arrived earlier. The simulation plot of Fig.3.17d also validates the numerical result in Fig.3.17c. As before, the coefficients of skewness of group joining time and fitted-Gamma distribution, as shown in Figs.3.17f and 3.17g, accordingly, are very close which indicates that the distribution of joining time for group of nodes is Gamma. However, the coefficient of variation and skewness for longer cycle time, as shown in Figs. 3.17e and 3.17f, accordingly, are little higher than that of shorter cycle time. Due to these larger values, the pdfs, as shown in Fig. 3.17h, have longer tails. The longer tails pdfs make the joining probability of group of nodes in shorter CPAN formation deadline lower, as shown in Fig. 3.17i.

77

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

0.9
0.98 0.96

0.8 probability

0.94 probability 0.92 0.90 0.88 0.86 0.84 0.82 0.10 0.15 0.20 pon 0.25 0.30 3 4 6 5 nodes 7 8

0. 7

0.6

0.5

0.10

0.15

0.20 pon

0.25

0.30 3

4

6 5 nodes

7

8

(a) Probability Parvi that ith node arrives before the joining of other nodes that arrived earlier than ith node

(b) Probability Preni that ith node joins before the joining of other nodes that arrived earlier than ith node

9000 8000 time [unit slots] 7000 6000 5000 4000

9000 8000 time [unit slots] 7000 6000 5000 4000
8

0.10

0.15

0.20 pon

0.25

0.30 2

3

4 5 nodes

6

7

0.10

0.15

0.20 pon

0.25

0.30 2

4 5 3 nodes

8 6 7

(c) Mean joining time for group of nodes (Numerical)

(d) Mean joining time for group of nodes (Simulation)

Figure 3.17: Nodes' joining times statistics with N = 21 channels, node arrival rate of  = 0.002, and cycle times of primary source Tcyc = 4500.

78

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

2. 8
1. 3 coefficient of variation

2.6 2. 4 2.2 2

coefficient of skewness (Gamma)

2.6 2.4 2. 2 2.0 1. 8

1. 2 1. 1 1.0 0. 9

coefficient of skewness

0.10

0.15

0.20 pon

0.25

0.30 2

3

4 5 nodes

6

7

8

0.10

0.15

0.20 pon

0.25

0.30 2

3

4 5 nodes

6

7

8

0.10

0.15

0.20 pon

0.25

0.30 2

3

4 5 nodes

6

7

8

(e) Coefficient of variation of join- (f) Coefficient of skewness of join- (g) Coefficient of skewness of ing time for group of nodes ing time for group of nodes fitted-Gamma distribution by estimating Gamma parameters from Figs. 3.17c and 3.17e

(h) pdfs of fitted-Gamma distribution for joining time of different group of nodes by estimating Gamma parameters from Figs. 3.17c and 3.17e when pon = 0.2

(i) Distribution functions (CDFs) for group joining time from Fig. 3.17h

Figure 3.17: [continue] Nodes' joining times statistics with N = 21 channels, node arrival rate of  = 0.002, and cycle times of primary source Tcyc = 4500.

3.6.3

Nodes joining times for different number of channels

Fig.3.18 shows the node joining time statistics as function of number of channels N . The nodes interarrival rate, primary user activity factor, and cycle time of PU were set to 79

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

 = 0.002, pon = 0.2, and Tcyc = 3000, accordingly. Fig.3.18a shows the probability Parvi that ith node arrives before the other nodes, arrived before the arrival ith node, have joined the CPAN. Probability Parvi increases when the number of channels N increases. Due to the higher value of N , the TTR gets longer which actually makes the joining time of a node with CPAN longer. As the joining time gets longer, the probability Parvi gets higher. Parvi also reaches almost one when the number of nodes is higher. Due to the randomness and higher value of TTR, the node that arrives later almost certain to find some earlier arrived nodes that have not yet joined the CPAN. Fig.3.18b shows the probability Preni that ith node joins before the nodes, arrived before the arrival of ith node, have joined the CPAN. Probability Preni remains almost constant when the number of channels N increases. As before, due to the higher value of N , the TTR gets longer which actually makes the joining time of a node with CPAN longer. Moreover, longer interarrival time which is fixed in this experiment makes the joining time more longer and less random, which, in turn, keeps Preni almost constant. However, the probability Preni is high for the higher number of nodes. As more nodes arrive to join the CPAN and their TTRs are random, the ith node has high probability to join the CPAN before the other nodes, arrived before ith node, join the CPAN. Fig.3.18c shows mean time to join the CPAN for different number of nodes. As can be seen, the group joining time increases when the number of channels N increases since, as before, longer TTR due to higher value of N makes the joining time longer. However, the joining time gets a little flatter for higher number of nodes which means that the joining time of node that arrives latter overlaps partially with the joining times of nodes that arrived

80

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

earlier than it. This is due to the values of Preni and Parvi are getting higher for higher number of nodes, as shown in Figs. 3.18b and 3.18a, respectively. The simulation result, as shown in Fig.3.18d, matches very closely with the numerical result presented in Fig.3.18c. The coefficient of skewness of fitted-Gamma distribution, as shown in Fig.3.18g, is calculated by using the estimated Gamma parameters from Figs. 3.18c and 3.18e. In the similar manner, as the coefficient of skewness of joining time, as shown in Fig. 3.18f, and the coefficient of skewness of fitted-Gamma distribution are almost same, the joining time of group of nodes is Gamma distribution. The group joining time for more than three nodes is a long tail distribution since its coefficient of skewness is high. The pdfs of fitted-Gamma distribution, as shown in Fig. 3.18h, indicates that some nodes may join the CPAN far from the central part of the distribution. The probabilities that the groups of different number of nodes join over different periods of time are shown in Fig. 3.18i. The Fig. 3.18i shows that if the coordinator waits for 6000 unit slots, the chance of formation of CPAN by three nodes is almost 80%.

81

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

0.95

0.8

probability

0.90

probability

0.7

0.85

0.6

0.80

0. 5

10

15

20 N

25

2

3

5 6 4 nodes

7

8

10

15

20 N

25

2

3

5 6 4 nodes

7

8

(a) Probability Parvi that ith node arrives before the joining of other nodes that arrived earlier than ith node

(b) Probability Preni that ith node joins before the joining of other nodes that arrived earlier than ith node

7000

6000 time [unit slots]

6000 time [unit slots]

5000

5000

4000

4000

3000

3000

10

15

20 N

25

1

2

4 5 3 nodes

6

7

8

10

15

20 N

25

8 6 7 4 5 3 nodes 1 2

(c) Mean joining time for group of nodes (Numerical)

(d) Mean joining time for group of nodes (Simulation)

Figure 3.18: Nodes' joining times statistics with primary user activity factor of pon = 0.2, node arrival rate of  = 0.002, and cycle time of primary source Tcyc = 3000.

82

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

coefficient of variation

1. 2 1. 1 1. 0 0. 9 0. 8 10 15 20 N 25 2 3 4 5 nodes 6 7 8

2.6 2.4 2.2 2.0 1.8 10 15 20 N 25 1 2 3 4 5 nodes 6 7 8

coefficient of skewness (Gamma)

1. 3

2.8 coefficient of skewness

2.6 2.4 2.2 2.0 1.8 1.6 10 15 20 N 3 4 5 nodes 6 7 8

1

25

1

2

(e) Coefficient of variation of join- (f) Coefficient of skewness of join- (g) Coefficient of skewness of ing time for group of nodes ing time for group of nodes fitted-Gamma distribution by estimating Gamma parameters from Figs. 3.18c and 3.18e

(h) pdfs of fitted-Gamma distribution for joining time of different group of nodes by estimating Gamma parameters from Figs. 3.18c and 3.18e when N = 21

(i) Distribution functions (CDFs) for group joining time from Fig. 3.18h

Figure 3.18: [continue] Nodes' joining times statistics with primary user activity factor of pon = 0.2, node arrival rate of  = 0.002, and cycle time of primary source Tcyc = 3000.

The impact of longer cycle time of PU Tcyc = 4500 for different number of channels is also shown in Fig.3.19. The values of Parvi and Preni are slightly higher, as shown in Fig.3.19a and Fig.3.19b, in comparison with shorter cycle time. The longer cycle time impacted to a great extent on mean joining time, as shown in Fig.3.19c, with compared to 83

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

the mean joining time for shorter cycle time, as shown in Fig.3.18c, i.e., increase the group joining time by 25%. The simulation result, as presented in Fig.3.19d, agrees well with the numerical result, as shown in Fig.3.19c. The coefficient of skewness of fitted-Gamma distribution, as shown in Fig.3.19g, is calculated by estimating the Gamma parameters from Figs. 3.19c and 3.19e. The coefficient of skewness of joining time, as shown in Fig. 3.19f, and the coefficient of skewness of fitted-Gamma distribution are very close which indicates that the group joining time is Gamma distribution. For longer cycle time of PU, the pdfs of fitted-Gamma distribution, as shown in Fig3.19h, have more enlarged tails. This enlarged tail distribution makes the joining probability of group of nodes in a shorter CPAN formation deadline lower, as shown in Fig.3.19i.

84

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

0. 9
0.98 0.96

0.8 probability

0.94 probability 0.92 0.90 0.88 0.86 0.84 0.82 10 15 20 N 4 6 5 nodes 7 8

0.7

0.6

0. 5

10

25

2

3

15

20 N

25

2

3

4

5 6 nodes

7

8

(a) Probability Parvi that ith node arrives before the joining of other nodes that arrived earlier than ith node

(b) Probability Preni that ith node joins before the joining of other nodes that arrived earlier than ith node

9000 8000 time [unit slots]

9000 8000 time [unit slots] 7000 6000 5000 4000
8

7000 6000 5000 4000

10

15

20 N

25

1

2

6 4 5 3 nodes

7

10

15

20 N

25

8 6 7 4 5 3 nodes 1 2

(c) Mean joining time for group of nodes (Numerical)

(d) Mean joining time for group of nodes (Simulation)

Figure 3.19: Nodes' joining times statistics with primary user activity factor of pon = 0.2, node arrival rate of  = 0.002, and cycle time of Tcyc = 4500.

85

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

1.2

2.6 2.4 2.2 2

coefficient of skewness (Gamma) 8

1.3 coefficient of variation

2.8 coefficient of skewness

2.6

2.4

1.1

2.2

1.0

2.0

0.9

1.8

10

15

20 N

25

1

2

3

4 5 nodes

6

7

8

10

15

20 N

25

1

2

3

4 5 nodes

6

7

10

15

20 N

25

1

2

3

4 5 nodes

6

7

8

(e) Coefficient of variation of join- (f) Coefficient of skewness of join- (g) Coefficient of skewness of ing time for group of nodes ing time for group of nodes fitted-Gamma distribution by estimating Gamma parameters from Figs. 3.19c and 3.19e

(h) pdfs of fitted-Gamma distribution for joining time of different group of nodes by estimating Gamma parameters from Figs. 3.19c and 3.19e when N = 21

(i) Distribution functions (CDFs) for group joining time from Fig. 3.19h

Figure 3.19: [continue] Nodes' joining times statistics with primary user activity factor of pon = 0.2, node arrival rate of  = 0.002, and cycle time of Tcyc = 4500.

86

Chapter 3: Formation of Cognitive Personal Area Networks (CPANs) by using Probabilistic Rendezvous

3.7

Chapter Summary

In the first portion of this chapter we have evaluated the performance of probabilistic rendezvous protocol and determined the distribution of TTR. By considering different settings of primary user activity and changing the number of channels we have found that the distribution of TTR follows all the characteristics of Gamma distribution. Mean TTR mainly depends on cycle time of primary user and the number of channels. In the second part we have characterised the CPAN formation time for an arbitrary number of nodes by applying the distribution of TTR. For smaller size of CPAN, the formation time mostly depends on the interarrival times of nodes and their TTRs. The coordinator can form a CPAN by three nodes if it waits for a moderate amount of time. The joining time of group of nodes also shows the characteristics of Gamma distribution. Extensive experimental results show that the CPAN formation time is long tail distribution which causes longer delay to form a moderate to large size CPAN. However, CPAN formation time with seven or more than seven nodes needs almost same time since longer group joining time allows new arrival nodes to join within its bound. The model is useful for the formation of CPAN either by setting a deadline for emergency network or by setting a fixed predefined number of nodes for long-term network.

87

Chapter 4 Bridge Performance in Asynchronous Cognitive Personal Area Networks
Bridging between two cognitive personal area networks (CPANs) is a fundamental step towards a reliable and efficient routing protocol. In this chapter we describe a bridging protocol for two-hop cognitive networks, and propose ways to prioritize bridge traffic over that of ordinary nodes in both CPANs. We consider a single, unidirectional bridge because the traffic in the opposite direction can easily be accommodated by having another bridge node. We develop an analytical model based on probabilistic modeling and queueing theory to evaluate the performance of the bridging protocol. We validate the network performance by analyzing the waiting time of local and non-local packets and how the node or bridge transmission is affected by the collision with primary source activity. Our results provide insight into the impact of various traffic and network parameters on the performance of two-hop bridging. The results indicate that the proposed protocol is effective and efficient when the bridge transfers moderate amount of traffic.

88

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

4.1

Introduction

SUs are often grouped in small networks or piconets, referred to as Cognitive Personal Area Networks (CPANs) which use collaborative spectrum sensing [46] to guide adaptive channel hopping [34] that aims to minimize the interference from and to PUs and to carry successful data transmission. In a CPAN, a node is allowed to request transmission only for the packets that were in its buffer at the time of the request; packets that arrive to the node during the transmission of earlier requested packets will not be serviced until the next CPAN superframe. However, to ensure fairness in transmission, nodes transmissions are scheduled in a round-robin basis. Upon transmission, each node is required to devote a certain amount of sensing duty, in the form of a post-payment or penalty for transmission services (transmission tax) rendered by the CPAN. In this chapter we describe a bridging protocol for two-hop cognitive networks. We consider a two-hop network that consists of two CPAN piconets, hereafter referred to as source and destination CPANs, or SCPAN and DCPAN, respectively. Both CPANs use the transmission tax-based MAC protocol in which nodes pay for packet transmission by performing spectrum sensing [47]. We assume that the two CPANs are aware of each other and that a shared node, hereafter referred to as the bridge, hops between SCPAN and DCPAN to deliver inter-CPAN traffic from the former to the latter. (We consider a single, unidirectional bridge because the traffic in the opposite direction can easily be accommodated by having another bridge node.) However, a multi-hop network can be formed when one or more CPANs are operating in between SCPAN and DCPAN and each pair of CPANs (from SCPAN to DCPAN) has a bridge node. Each bridge of different pair of CPANs is responsible to carry the data from SCPAN towards DCPAN. This can only be accom89

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

plished when a bridge is able to exchange data between two asynchronous CPANs since every CPAN operates independently and the starting time of each CPAN superframe might differ from other CPAN. In our previous work [60] we have considered a case of CPANs which operate synchronously so that their superframes start and finish at the same time; in this chapter, we allow CPAN superframes to be skewed in time by an arbitrary interval. To ensure timely delivery of inter-CPAN traffic, bridge transmissions should be given higher priority in the DCPAN. This may be accomplished by scheduling these transmissions early in the superframe, as well as by servicing bridge traffic with a more efficient policy than the intra-CPAN traffic. However, both these techniques may degrade performance for ordinary nodes, and we investigate the performance of this arrangement with respect to both the inter- and intra-CPAN traffic, using probabilistic modeling and queueing theory. The rest of the chapter is structured as follows: Section 4.2 describes the operation of the CPAN and bridging between two CPANs. Section 4.3 presents the probabilistic model of bridging algorithm with transmission, sensing and reception by ordinary nodes. Access delay for both intra-CPAN and inter-CPAN traffic is discussed in Section 4.4. Results of the performance analysis are presented and discussed in Section 4.5. Section 4.6 summarizes the chapter.

4.2

On CPAN and bridge operation

Time in a CPAN that follows the transmission tax-based MAC protocol is divided into constant size superframes that begin and end with dedicated beacon frames, as shown in Fig. 4.1. Specific portions of the superframe are devoted to data transmission, reporting of sensing results, and sending bandwidth requests and other administrative activities. 90

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

 Z  Z

Z ZZ Z Z    Z ^W E Z Z   Z ^W E Z Z   Z W E Z Z ZZ dZ Z Z Z Z Z    Z W E Z Z   Z ^W E Z Z   dZ   Z   Z ^W E Z Z   Z W E Z Z ZZ Z Z  d  Z W E ^W E

dZ   Z     Z W E Z Z

 

dZ Z Z Z     

ZZ Z Z 

dZ ZZ Z   Z Z Z Z    d  Z W E W E

Figure 4.1: Bridge operation. Ordinary nodes request bandwidth from the coordinator which grants them access in a round-robin fashion and announces in the leading beacon which nodes will transmit and receive data, and which ones will perform sensing duty. Requests that can't be accommodated in the coming superframe will be deferred to subsequent ones. Nodes that have been granted transmission slots pay by subsequently sensing some of the channels and sending the results to the coordinator. Sensing duration is determined as the product of the sensing penalty coefficient and the number of packets transmitted since the last sensing duty. A node can request bandwidth after it finishes the sensing duty and has data to transmit. When a node which is currently performing sensing duty has to receive data, it can suspend the sensing until it receives the data. The coordinator uses sensing results to build and update the free channel table. By using this table, the coordinator selects the working channel for the next-hop superframe [50] as well as a number of backup channels [49]. The next-hop and backup channels are

91

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

announced in the trailing beacon. In this manner, all nodes in the CPAN hop together to the next channel, or attempt recovery in case of collision with a primary user transmission. We assume that CPANs are aware of each other, as noted above. Since all nodes that had successfully transmitted a packet have to perform spectrum sensing, a node from one CPAN that detects another CPAN operating on a different channel can volunteer to become a bridge. The node needs to listen to that channel until it hears the trailing beacon which announces the next-hop and backup channels for the DCPAN. Once the bridge goes to the SCPAN in order to begin its operation, this information allows the bridge to return to the DCPAN and, effectively, allows the communication to be established. During bridge operation, the selected node hops back and forth between the CPANs, collecting the data in the SCPAN and delivering it to the DCPAN, as shown in the Fig. 4.1. In general, the superframes of the two CPANs will be skewed in time as the CPANs were formed at different times with different coordinators. The bridge receives inter-CPAN data from the SCPAN nodes and switches over to the DCPAN for transmission. Since reservation is necessary for any transmission, the bridge switches to the DCPAN and awaits the reservation sub-frame in order to place a request for transmission, which is performed in the next DCPAN superframe. Upon completing the transmission, the bridge can switch back to the SCPAN for receiving the next batch of interCPAN data. However, if the sum of the time lag and the bridge transmission time exceeds one superframe duration, the bridge can't return to the SCPAN in the second superframe (i.e., the one which starts after the bridge has left for reservation). Instead, it will switch back to the third superframe of SCPAN for collecting next batch of inter-CPAN data, as shown in Fig. 4.1.

92

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

Regardless of the amount of inter-CPAN data, the bridge must switch back and forth in order to listen to the trailing and leading beacon in each CPAN: the trailing beacon contains announcements of the next-hop and backup channels, while the leading beacon contains time allocations for transmission (essentially, NAV announcements). Bridge transfers are given priority over those of ordinary nodes, as follows. First, the bridge is not required to perform spectrum sensing so it can perform its duties without interruption. Second, the bridge is always allocated transmission slots at the beginning of the data exchange sub-frame, before transmissions by ordinary nodes. This is necessary because of the bridge switching pattern, but sending the data earlier in the superframe means that the probability of a collision with an onset of primary user activity is lower.

4.3

Analytical model of the MAC algorithm
Table 4.1: Parameters used in this chapter. parameter number of channels number of nodes superframe size packet arrival rate per node time lag between two CPANs probability of inter-CPAN traffic PGF of packet size PGF of number of packets between two successive transmission requests PGF of duration of node transmission (service) period PGF of bridge cycle period, time between two successive receptions from source CPAN PGF of duration of bridge transmission LST of CPAN service cycle period, time between two successive transmission opportunities for the ordinary node PGF of total sensing period for the ordinary node

symbol N M sf   Pic b(z )  (z ) S (z ) bcyc (z ) d2b(z ) C  ( s) Vtot (z )

93

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

 Z Z

 Z

 Z Z

Z

Z

ZZ   ZZ   Z  Z Z  Z Z  Z   W E Z Z  Z 
   Z 

  Z

ZZ Z Z 




^  Z W E

Figure 4.2: Packet arrival distribution during service cycle The network environment includes two CPANs with M nodes each; the number includes the coordinator and the bridge which is common to both CPANs. The CPANs need not have the same number of nodes ­ this would just mean that the bridge will carry different volume of traffic from one CPAN to the other. Time is measured in unit slots and the duration of each superframe is sf slots. Let us assume the time lag between the starting of SCPAN and DCPAN superframes is  basic slots, which is a random value between 0 and the duration of the superframe sf . For simplicity, we also assume that data packets have a constant size of kd slots with an immediately following single-slot acknowledgment, for a total of kd +1 slots per packet. Let  denote the packet arrival rate per node, assuming Poisson arrivals of data packets, and let Pic denote the fraction of inter-CPAN traffic generated by M - 2 ordinary nodes in the SCPAN. The arrival rate for the inter-CPAN traffic from SCPAN to DCPAN is, then, b = Pic (M - 2); the number of nodes of SCPAN greatly impacts the inter-CPAN packet arrival rate of DCPAN. The timing diagram in Fig. 4.2 depicts the CPAN service cycle as well as the operation of an arbitrary ordinary node and the bridge node. A CPAN service cycle is defined as the time period between two successive transmissions of the same ordinary node. Due to traffic variability, sensing policy and bridge transmission the CPAN service cycle is a 94

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

random variable and may take a number of superframes. A node is allowed to request transmission only for the packets that were in its buffer at the time of the request; packets that arrive to the node during the transmission of earlier requested packets will not be serviced until the next CPAN service cycle. In the same way, the bridge also requests transmission only for the inter-CPAN packets which it has received from the nodes in the SCPAN. Therefore, this scheduling scheme can be modeled as a gated exhaustive policy with vacations [68]. The CPAN coordinator makes a round-robin schedule among the nodes that have been applied in the reservation sub-frame and announces their transmission slots for the following superframe. The coordinator sorts requests according to round-robin principle starting with lowest node ID that is larger than the last scheduled ID in previous superframe. Therefore, a target node from SCPAN must wait a random time interval with respect to leading beacon before it starts transmission. However, in the DCPAN, a target node has to wait for an additional time which is due to the bridge transmission. As the bridge has a random number of packets to deliver, this time interval is also random from the standpoint of the target node. Upon finishing the data transmission the target nodes from both CPANs have to wait for another random time in order to synchronize with beacon. This time interval, which lasts from the end of transmission to the next leading beacon (and, thus, includes the control and reservation sub-frames), is referred to as beacon synchronization.

95

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

4.3.1

Model of the service period

The probability generating function (PGF) for the constant packet size with additional acknowledgement is b(z ) = z kd +1 , with the mean value of b = kd +1. The Laplace-Stieltjes transform (LST) of packet time, b (s) = e-s(kd +1) , can be obtained by replacing variable z with e-s . Therefore, the offered load is  = b per node. The distribution of number of packets that arrive at the node buffer between two successive transmission requests can be represented by the PGF of  (z ) =
 k=1

k z k , where k

is the mass probability that k packets are in the buffer when the node applies for bandwidth. Mean number of packets to be transmitted in a single cycle is  =  (1) =
 k=1

kk .

The probability distribution of the duration of transmission (service) period can be represented by the PGF S (z ) =
 k=1

sk z k =  (b(z )), as this duration depends on the

number of packets arrived during two successive transmission requests and the duration of each packet. Therefore, the LST of the duration of ordinary node service period is S  (s) =  (b(e-s )) =  (b (s)) and its mean value is S = b.

4.3.2

Duration of bridge transmission

The time between two successive receptions of inter-CPAN data from SCPAN, hereafter referred to as the bridge cycle, depends on the time lag between CPAN superframes and the duration of bridge transmission. When the two CPANs superframes are not synchronized, i.e.,  > 0, the bridge cycle period lasts two or three superframes depending on  and the bridge transmission time. · If the sum of  and bridge transmission time is smaller than one superframe duration, the bridge is able to return in the second superframe (which starts after bridge leaves 96

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

for transmission) of SCPAN for collecting next batch of inter-CPAN data from the third superframe. Therefore, the bridge cycle period lasts two superframes. · If the sum of  and bridge transmission time is greater than one superframe duration, the bridge will return in the third superframe of SCPAN for collecting next batch of inter-CPAN data from the fourth superframe. This is caused by the time lag, as the second superframe of SCPAN will end before the bridge finishes its transmission in the DCPAN; the bridge will then switch to the SCPAN to listen to the trailing beacon of the second superframe and return to the DCPAN for the remaining transmission. Therefore, the bridge cycle period lasts three superframes. Let us denote the probability that the sum of  and bridge transmission time is greater than one superframe duration as Pbc . Then the PGF of bridge cycle period will be

bcyc (z ) = Pbc z 3sf + (1 - Pbc )z 2sf

(4.1)

The Laplace-Stieltjes transform (LST) of bridge cycle period is

-s -s(3sf ) b + (1 - Pbc )e-s(2sf ) cyc (s) = bcyc (e ) = Pbc e

(4.2)

and its mean value is bcyc = -b cyc (0). The PGF for the number of inter-CPAN packets that arrive to the bridge during this time is

Qb(z ) = b cyc (b - b z ) = Pbc e-(b -b z)(3sf ) + (1 - Pbc )e-(b -b z)(2sf ) (4.3)

97

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

Since each packet needs a service time of b(z ) the PGF for the duration of the bridge transmission is

d2b(z ) = Qb(b(z )) = Pbc e-(b -b z
kd )(3s f)

+ (1 - Pbc )e-(b -b z

kd )(2s

f)

(4.4)

Therefore, the LST of bridge transmission is

d2b (s) = d2b(e-s )

(4.5)

and its mean value is d2b = -d2b (0). However, the distribution of the duration of bridge transmission can also be represented as the series
kmax

d2b(z ) =
k=0

dk z k

(4.6)

where dk represents the mass probability that bridge transmission takes k slots. The mass probabilities in (4.6) can be obtained by expanding (4.4) into the power series in variable z . Assuming that the time lag  is uniformly distributed over 0 to sf - 1, its probability density function (pdf) can be defined as 1 sf - 1

(y ) =

(4.7)

98

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

As the sum of time lag  and duration of bridge transmission d2b is a discrete random variable, the mass probability that the sum takes x slots is 1 hx = sf - 1
x

dk
k=0

(4.8)

Therefore the probability that the sum of time lag and bridge transmission time is greater than one superframe duration is

Pbc = P (X > sf ) = 1 - P (X < sf )
sf -1

=1-
x=0

1 hx = 1 - sf - 1

sf - 1

x

dk
x=0 k=0

(4.9)

The value of Pbc can be obtained by substituting the value of dk from (4.6); in our calculations we assumed that kmax = 2sf (in slots). Therefore, with the known Pbc value and by using LST of bridge transmission from (4.5), we can define the PGF for the number of packet arrivals to the ordinary node buffer during the bridge transmission as

Abr (z ) = d2b ( - z ).

(4.10)

However, the bridge transmission will not take place in every superframe of bridge cycle period; it happens in the last superframe of bridge cycle period. Thus the probability that the bridge transmission occurs in the ongoing superframe is Pbt = sf /bcyc . Since the ordinary nodes of DCPAN will not experience bridge transmission delay in every superframe, the PGF for the number of packet arrivals to the ordinary node buffer due to the disruption

99

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

caused by bridge transmission is

Abrp (z ) = Pbt Abr (z ) + (1 - Pbt ).

(4.11)

4.3.3

Round-robin waiting time

The CPAN service cycle period is the time between two successive transmission opportunities for any given ordinary node. During a CPAN service cycle, nodes will get service if their corresponding buffer are not empty (with probability ). Therefore, the
 LST of allocated service time for each node is TA (s) = (1 - ) + S  (s). Any given  (s) for all nodes. node will get transmission opportunity after allocating service time TA

Therefore, the CPAN service cycle period is the convolution of all allocated service times
 (s))M -2 with mean value of C = -C  (0) = (M - 2)S . C  (s) = (TA

As explained above, round-robin waiting time is the time each ordinary node has to wait while nodes with lower IDs are being serviced. In terms of renewal theory [25], elapsed time is the time interval from the beginning of service for nodes with lower IDs (which is considered a renewal point) to an arbitrary point of the CPAN cycle time. The delay
 observed by a packet, C- (s), may thus be considered to be the elapsed time of the duration

of CPAN cycle time, C  (s), and its LST is 1 - C  ( s) sC

 C- ( s) =

(4.12)

with the mean value of C- =

C (2) . 2C

The number of packet arrivals during the round-robin service can be described by the

100

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

PGF of
 Arr (z ) = C- ( - z ).

(4.13)

while the number of packet arrivals during the transmission (service period) can be described by the PGF of Atx (z ) = S  ( - z ).

4.3.4

Delay due to beacon synchronization

In terms of renewal theory [25], residual time is the time interval from an arbitrary moment in a renewal cycle to the beginning of the new renewal cycle. In our scenario, the time from transmitting packet(s) in the current superframe to the next control sub-frame (at which time a node can submit the sensing report to the coordinator) may be considered as residual time, the LST of which is 1 - e-ssf . ssf

 R- ( s) =

(4.14)

 Hence, the PGF for the number of packet arrivals during this time is Asyn (z ) = R- ( - z ).

4.3.5

Duration of sensing

The coordinator assigns sensing duty to the nodes that have transmitted their packets, and the duration of this duty, expressed in superframes, is the product of sensing penalty kp and the number of packets k transmitted in the service period. Thus, the distribution of time spent in sensing can be represented by the PGF of V (z ) =
 k=1

k z kp sf k =  (z kp sf )

and its mean value is V = kp sf  . The corresponding LST of a single sensing period is V  (s) =
 k=1

k e-kp sf k . The number of packets that arrive during the sensing period can 101

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

be obtained by replacing s with  - z in the last equation, i.e.,


Avc (z ) = V  ( - z ) =
k=0

fk z k

(4.15)

where fk represents the mass probability of k packets arrivals during the sensing period.

4.3.6

Impact of packet reception during sensing

A node can suspend an ongoing sensing in order to receive packet(s). Packet reception may take place in one or more superframes. However, the node has to finish its sensing duty before placing a new transmission request. As the result, reception will effectively extend the duration of the sensing period. To model this effect, we need to find the probability of packet reception during the sensing period. Each of the nodes in the SCPAN generates intra-CPAN traffic at a rate of
(1-Pic ) , M -2

as-

suming uniform distribution of destinations in each CPAN. Probability of having no packets for a given target node during a sensing period is Pnrs = e-
(1-Pic ) V M -2

, and the PGF for

extended sensing period due to reception is Ves (z ) = Pnrs + (1 - Pnrs )z sf . However, a node in the DCPAN receives intra-CPAN traffic at a rate of CPAN packets at a rate of
b 

 , M -2

and inter-

b . M -2

Probability of having no packets during the sensing period

is Pnrd = e- M -2 bcyc e- M -2 V . Therefore, the PGF for extended sensing period in the DCPAN due to reception is Ves (z ) = Pnrd + (1 - Pnrd )z sf . The number of packets that arrive during this extended sensing period can be described by the PGF of Aves (z ) = Ves ( - z ).

102

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

4.3.7

Time between successive transmission requests

The PGF for the number of packet arrivals to a node during the interval between two successive bandwidth requests is


Q(z ) = Abrp (z )Arr (z )Atx (z )Asyn (z )Aves (z ) =
k=0

qk z k .

(4.16)

If the node finishes sensing and has no packets in its buffer, it will continue with sensing duty, which occurs with the probability of q0 = Q(0). The distribution of the number of packets that arrive at the ordinary node buffer between two successive transmission requests can be described by the PGF of Q(z ) - q0 1 - q0

 (z ) =

(4.17)

and its mean value is  = Abrp + Arr + Atx + Asyn + Aves . The PGF for the total sensing period is Ves (1 - q0 ) . 1 - Ves q0

Vtot (z ) =

(4.18)

The equations presented here can be solved as a system with unknowns k , k = 1 · · · nc , if we limit the number of terms in each PGF or LST to nc .

4.3.8

Probability of incomplete transmission

Transmissions may be interrupted by primary user activity in two ways. First, the CPAN may hop onto a channel which is already used by a primary source; this may be due to an 103

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

error in the channel table (i.e., a channel is recorded as idle whereas it is actually busy) or the onset of primary user activity after the channel has been sensed. However, the channel which was idle at the beginning of a superframe may become busy during an ongoing data transmission. To model the probability of these two mechanisms that lead to incomplete transmission, we have to consider the following. The CPANs operate on N RF channels, each with a separate primary source which exhibit random ON and OFF periods. The pdf of ON and OFF periods are gon (x) and gof f (x), and the corresponding mean values are Gon and Gof f , respectively. Therefore the mean cycle time of primary source activity is Gcyl = Gon + Gof f , while its activity probability (duty cycle) is pon =
Gon . Gcyc

The CPAN superframe starts from a random point in the idle (OFF) channel period and continues until it finishes or the channel becomes active (ON). In the latter case, the superframe collides with the primary source and we need to find the residual channel idle time. The pdf of residual channel idle time is proportional to the probability that channel idle time is larger than some value y . This pdf can be represented as f (y ) =
 z =y

gof f (z )dz Gof f

. There-

fore the probability distribution function (PDF) of residual channel idle time is F (x) =
x 0

d(y )dy .

Probability that coordinator has inaccurate channel information Probability of ordinary node performing channel sensing is V tot d2b + C - + S + R- + V tot

Ps =

(4.19)

104

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

Probability distribution of the number of nodes concurrently performing channel sensing is described with the PGF of
M -1

(z ) =
i=0

M -1 Psi (1 - Ps )M -1-i z i = i

M -1

n z n
n=0

(4.20)

where n represents the mass probability that n nodes are performing channel sensing. To find the probability distribution of the time between consecutive sensing events we will assume that the node chooses randomly the channel to sense among all channels except the one currently used by the CPAN, so that the probability of sensing any given channel is Pj =
1 . N -1

Sensing one channel is assumed to last for d slots.

Then, using (4.20) and the assumptions above, the PGF of the time period of two consecutive sensing events on a particular channel is


(z ) = 0
k=1

Pj (1 - Pj )k-1 z k d


min(M -1,N -2)

+
l=1 M -1

l
k=1

lPj (1 - lPj )k-1 z k d zd (4.21)

+
min(M -1,N -2)+1

where typically M < N - 1. By applying renewal theory and the steps derived in [46]. we can calculate the probability Pi of having inaccurate channel status in the channel table (due to the channel becoming active between two consecutive sensing events) and its duration in the channel table.

105

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

Probability of collision during transmission The primary source can become active in any moment, hence we need to find the probability that channel will become active during an ongoing data transmission. As the CPAN superframe starts at a random point in the idle channel period, the collision occurs if the residual channel idle time is shorter than the superframe duration. Therefore the collision probability of bridge transmission and ordinary node transmission can be deduced as follows:


Pc(br) =
x=0 

(D(x + d2b) - D(x))d(x)dx

(4.22) (4.23)

Pc(o) =
x=0

(D(x + d2b + C - + S ) - D(x))d(x)dx

As the bridge transmits immediately after the beacon and before the transmission of ordinary nodes, it will suffer fewer collisions with the primary source activity than ordinary nodes. We note that this type of collision will make the channel unusable and recovery procedure will be necessary [49]. Total collision probability for bridge node as well as other ordinary nodes is, then, the sum of the probability of inaccurate channel information and probability of collision during transmission: Pcol = Pc(br) + Pi Pcol = Pc(o) + Pi
(o) (br)

(4.24) (4.25)

106

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

4.4
4.4.1

Packet access delay
Intra-CPAN packet delay

Let us assume that an ordinary node in the SCPAN has already L intra-CPAN packets at the moment it applies for bandwidth. Let us also assume that Ai packets arrive to the node while it is transmitting the ith packet. Thus after transmitting the nth packet in the transmission (service) period the buffer has Ln = L + Abrp + Arr + A1 + A2 + ... + An - n packets, and the PGF of the number of packets left after nth departing packet can be obtained as Ln (z ) = Abrp (z )Arr (z )A(z )n zn  k=n k
 k =n

k z k

(4.26)

From this equation and the single packet serving time b ( - z ), we can obtain the PGF of the number of packets left in the buffer after any departing packet as
  k=n

L(z ) =
n=1

k



Ln (z ) ( [b ( - z )] -  (z ))b ( - z )  [b ( - z ) - z ] (4.27)

= Abrp (z )Arr (z )

Packets are serviced in FIFO order and the number of packets left after a departing packet is equal to the number of packets that arrived during the departing packet was in the system. The probability distribution of packet waiting time can be obtained from

 L(z ) = Ta ( - z ) = W  ( - z )b ( - z )

(4.28)

107

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

^Z W E /W E  Z Z Z Z   t

Z W E



 Z Z Z W E  t



Z

Z

 Z  Z  t

 

Z

  Z W E Z Z

d  

Z

    Z ZZ   t

Z

 

Figure 4.3: End-to-End delay for Inter-CPAN packet and the corresponding LST of intra-CPAN packet waiting time is
s ) s s   [b (s)] -  (1 -  W (s) = Abrp (1 - )Arr (1 - )    [b (s) -  + s] 

Z

  Z ^W E Z Z

W  Z Z Z



 Z 



(4.29)

with the mean value of W =

dW  | ds s=0

=

(1+) (2) (1) . 2

108

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

4.4.2

Inter-CPAN packet delay

Before calculating the inter-CPAN packet delay, we note that an inter-CPAN packet, from its arrival to the source node to the reception by the destination node, undergoes four different phases as shown in Fig. 4.3. First the packet has to wait to be transmitted to the bridge. This time, commonly referred to as access delay (Wa ), is equal to the residual time of bridge cycle period
 (s) = Wa 1-b cyc (s) , sbcyc  with mean value of W a = -Wa (0).

Second, it waits until the bridge finishes receiving all of the inter-CPAN packets from the SCPAN, which lasts for one entire transmission sub-frame: Wr = sf - scom . Third, the bridge switches to DCPAN to apply for bandwidth. Due to time lag  between the beacons of two CPANs, the time delay to the actual application for bandwidth varies: if  < Wr , the delay will be sf -(Wr -), otherwise the delay will be ( -Wr )+sf . The probability of  being lower than Wr is
Wr

Pab = P ( < Wr ) =
u=0 Wr

P ( < u)P (Wr = u)du (4.30)

=
u=0

du Wr = sf sf

Thus, the PGF for this waiting time is Wab (z ) = Pab z sf -(Wr -) + (1 - Pab )z (-Wr )+sf and its mean value is W ab = Wab (1). Finally, the bridge has to deliver its packets in the DCPAN. Due to round-robin service policy, packets are randomly positioned within the bridge queue. The delay experienced
 by a bridge packet in the DCPAN, Wbt , is Wbt ( s) = 1-d2b (s) sd2b

(where d2b (s) denotes the

 elapsed time of the duration of bridge transmission), and its mean is W bt = -Wbt (0).

109

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

Therefore, mean end-to-end delay for an inter-CPAN packet can be obtained as W a + Wr + W ab + W bt .

4.5

Performance Analysis

To assess the performance of the proposed bridging scheme, we have solved the system of equations described above using Maple 16 from Maplesoft, Inc. [43]. We have assumed that the network uses N = 19 channels. However, the number of channels can vary depending on the operational range of frequency band (54 - 862MHz) and the bandwidth (5 - 8MHz) of each channel [13]. Each of the channel is intermittently (and randomly) occupied by a dedicated primary source. Mean cycle time of primary source has been set to Gcyl = 3000 time units where ON and OFF periods are exponentially distributed with mean values of 900 and 2100 time units, respectively. By considering a capacity of about 19.8Mbps per 6MHz channel, we have assumed the packet size is 1Kbyte and it needs kd = 10 time units to be transmitted. The size of the superframe is 130 time units, 30 of which are allocated for the beacon, control and reservation sub-frames. The time lag between CPAN superframes is sf /2 = 65 time units. The number of nodes for each CPAN is M = 14, while the sensing penalty is set to kp = 0.6. The packet arrival rate was varied in the range 0.001 to 0.006, which covers light to medium traffic load.

4.5.1

Performance without the bridge

Our first experiment tries to establish a baseline by considering the performance of the CPAN without bridge transmissions.

110

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

Figure 4.4: Average number of packet arrivals during different intervals in the CPAN. Fig. 4.4 shows the average number of packet arrivals to an ordinary node in the CPAN during different stages of node activities. As expected, the average number of packet increases when traffic intensity () increases. However, the probability of inter-CPAN traffic Pic doesn't impact the arrival of packets to the node buffer as bridge node only receives inter-CPAN packets from SCPAN. Fig. 4.5 shows the average duration of service period, cycle period and waiting time for ordinary nodes transmission in the source CPAN. Servicing a higher number of packets makes the node experiences longer service duration and longer round-robin waiting time (i.e., waiting for the nodes with lower IDs) which eventually increases the mean packet waiting time. These results hold for both SCPAN and DCPAN in the absence of bridge transmissions.

111

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

Figure 4.5: Packet delays for ordinary node transmission in the SCPAN.

4.5.2

The impact of bridge activity

However, the performance indicators will change when the bridge is active. In our second experiment we have varied the packet arrival rate and the probability of inter-CPAN traffic, and examined the behavior of the DCPAN. Fig. 4.6 shows the average number of packet arrivals to the node buffer during different stages of node activities in the DCPAN. As expected, the average number of packet increases with traffic intensity  and the probability of inter-CPAN traffic Pic . Of course, higher values of Pic lead to longer bridge exchanges, which explains the shape of the surface in Fig. 4.6a. The increase in Fig. 4.6b is due to a more subtle mechanism: namely, at higher values of , an increase in Pic means that the bridge needs more transmission time in the DCPAN superframe, which leaves less time for local DCPAN traffic due to higher priority of bridge transmissions. Then, time between two successive transmission opportu-

112

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

0.18 0.16 0.14 packet arrival 0.12 0.10 0.08 0.06 0.04 0.02 0.30 0.006 0.005 0.25 0.20 0.004 0.003 0.15 0.002 0.05 0.10 Pic 

2.4 2. 2 packet arrival 2.0 1. 8 1.6 1. 4 1.2 0.006 0.005 0.30 0.004 0.003 0.20 0.25 0.002 0.05 0.10 0.15 Pic 

(a) During bridge exchange.

(b) Between two successive transmission requests.

Figure 4.6: Mean number of packet arrivals in the DCPAN. nities for ordinary nodes in the DCPAN gets longer, and mean packet arrival rate tends to increase. Fig. 4.7 shows the duration of the bridge exchange as well as the performance indicators for ordinary node transmissions in the DCPAN. Since bridge transmissions are given priority, the performance of ordinary nodes is affected by the bridge transmission. More packet arrivals lead to longer bridge exchanges, Fig. 4.7a; as less time is left for ordinary nodes, higher traffic load leads to longer transmission and cycle times. This effect is somewhat moderated by the decrease in local traffic caused by higher value of Pic , as can be seen in Figs. 4.7b and 4.7c, respectively. Fig. 4.8 shows mean bridge cycle period and mean delay for intra-CPAN traffic. Obviously the bridge cycle period strongly depends on traffic intensity and probability of inter-CPAN traffic, as does the mean delay for intra-CPAN traffic which is further affected

113

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

70 60 time [unit slots] time [unit slots] 50 40 30 20 10 0.006 0.30

24 22 20 18 16 14 12 0.006 0.30

0.005

0.004

0.003



0.20 0.15 0.002 0.10 0.05 Pic

0.25

0.005

0.004

0.003

0.002



0.05

0.10

0.20 0.15 Pic

0.25

(a) Mean duration of bridge exchange.

(b) Mean transmission time.

60 50 time [unit slots] 40 30 20 10 0.30 0.006 0.005 0.20 0.25 0.004 0.003 0.002 0.05 0.10 0.15 Pic 

(c) Mean cycle time.

Figure 4.7: Performance of data transmission in the DCPAN. by the round-robin waiting time. Note that, as the bridge transmission time increases due to the increase of inter-CPAN traffic, the bridge cycle period increases and eventually exceeds three superframe durations. Fig. 4.8b shows the mean intra-CPAN packet waiting time which is affected by the bridge transmission and round-robin waiting time.

114

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

200 330 320 time [unit slots] time [unit slots] 0.005 0.004 0.003 0.002  0.05 0.10 0.20 0.15 Pic 0.25 0.30 310 300 290 280 270 50 0.006 0.006 0.005 0.30 0.004 0.003 0.20 0.25 0.002 0.05 0.10 0.15 Pic  150

100

(a) Mean bridge cycle period.

(b) Mean duration of intra-CPAN packet waiting time.

Figure 4.8: Average bridge cycle period and intra-CPAN packet waiting time in the DCPAN. Fig. 4.9 shows mean end-to-end delay for inter-CPAN traffic. In case the time lag between two superframes is fixed, as shown in Fig. 4.9a, the delay increases with both packet arrival rate and probability of inter-CPAN traffic, since an inter-CPAN packet would have to wait longer in the bridge queue when , M , and/or Pic increase. In case the probability of inter-CPAN traffic is fixed while the time lag is variable, Fig. 4.3, values of time lag that deviate from the value of sf /2 mean that there is less time in one or the other CPAN for bridge transmissions, which may easily led to the extension of the bridge cycle and longer end-to-end delays for inter-CPAN traffic. We note that the delay for inter-CPAN traffic is much higher than that of intra-CPAN traffic. This is not unexpected since the bridging protocol requires that the bridge hops from one CPAN to another, and it has to follow the superframe structure in both of them. However, the rate of change of the delay vs. both traffic intensity and probability of inter115

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

410

420
400 time [unit slots] 390 380 370 360 350 340 0.006 0.25 0.30

time [unit slots]

400 380 360 340

0.005

0.004

0.003



0.20 0.15 0.10 0.002 0.05 Pic

0.006 0.005 0.004 0.003 0.002 

40

80 70 60 50 time lag [% of sf]

90

(a) As function of packet arrival rate and probability of inter-CPAN traffic, with time lag fixed at  = sf /2.

(b) As function of packet arrival rate and time lag, with probability of inter-CPAN traffic fixed at Pic = 0.2.

Figure 4.9: Mean end-to-end delay for inter-CPAN traffic. CPAN traffic is much lower for the inter-CPAN traffic, Fig. 4.9b, than for the intra-CPAN one, Fig. 4.8b, which provides further proof of the efficiency of the proposed protocol.

4.5.3

Impact of collisions with primary source

We have also investigated the impact of collisions with primary source activity for both bridge and ordinary node transmissions. Fig. 4.10 shows the average number of nodes that perform sensing, average interval between consecutive sensing events and the probability of inaccurate information in the channel table. Under low loads, most of the nodes perform sensing and most channels are sensed rather frequently; as the result, the probability of inaccuracies in the channel table is low. As traffic intensity increases, nodes have more data to transmit and, consequently, spend less time in sensing. This effect is somewhat countered by bridge activity: namely, 116

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

11

12

nodes

10

time [unit slots]

11

10

9

9 8 0.30 0.25 0.20 0.15 0.10 Pic 0.05 0.005 0.004 0.003 0.002 0.001 8 0.006 0.005 0.004 0.003 0.002  0.20 0.15 0.10 Pic 0.05 0.25 0.30



(a) Mean number of nodes performing sensing.

(b) Mean time between consecutive sensing events.

0.0045

probability

0.0040

0.0035

0.0030

0.0025 0.006 0.005 0.20 0.15 0.003 0.10 0.002 Pic 0.05  0.25 0.30

0.004

(c) Probability of inaccurate channel table.

Figure 4.10: Performance of the sensing process. higher inter-CPAN traffic leaves fewer opportunities for ordinary nodes to request bandwidth and they perform more sensing. Overall, the number of sensing nodes exhibits a slight increase with higher inter-CPAN traffic, at very high traffic load. This increase translates into flattening and even a slight decrease of the mean interval between sensing events

117

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

0.022 0.020 0.018 probability 0.016 0.014 0.012 0.010 0.008 0.006 0.004 0.006 0.005 0.004 0.20 0.15 0.10 0.002 0.05 Pic 0.25 0.30
0.010 0.006 0.25 0.30 probability 0.030 0.025 0.020 0.015 0.035

0.003

0.005

0.004

0.003





0.20 0.15 0.10 0.002 Pic 0.05

(a) probability of bridge collision

(b) probability of ordinary node collision

Figure 4.11: Collision probability with primary source and probability of inaccuracies in the channel table. The resulting collision probability is shown in Fig. 4.11. As bridge transmissions take place before those of ordinary nodes, the collision probability of bridge transmissions is somewhat smaller; nevertheless, both probabilities increase with traffic intensity and probability of inter-CPAN traffic.

4.6

Chapter Summary

In this chapter, we have described and analyzed the performance of a bridging mechanism for two CPAN piconets with non-synchronized superframes. We have shown that the performance for both intra- and inter-CPAN traffic is dependent on traffic and network parameters, in particular traffic intensity, probability of non-local traffic, and time lag between CPAN superframes. In this model we have also considered the impact of collisions

118

Chapter 4: Bridge Performance in Asynchronous Cognitive Personal Area Networks

with primary users on both bridge and other nodes transmissions. Inclusion of a second bridge node in the opposite direction can establish both way communications. The second bridge node will carry inter-CPAN traffic from its source CPAN to destination CPAN. In order to deliver the inter-CPAN traffic, the second bridge will leave less time for the transmissions of ordinary nodes in its destination CPAN since the bridge transmission is given higher priority. As the result, the inter-CPAN traffic reception of first bridge from its source CPAN (which is destination CPAN for second bridge) will be delayed by the transmission of second bridge. In the same way, the first bridge also impacts the inter-CPAN traffic reception of second bridge. Due to the interdependency of the CPANs, introduce by the bridges, both local and non-local traffic will experience longer delay. In the next chapter, we introduce both way communications via a single bridge node. We will see how the bridge creates interdependency of the CPANs through analysis of the local and non-local traffic delays.

119

Chapter 5 Two-way Communications in Cognitive Personal Area Networks
We describe an efficient bridging protocol for interconnection of cognitive personal area networks (CPANs) and evaluate its performance through probabilistic analysis. We also take into account the impact of collisions with primary user transmissions through probabilistic analysis and renewal theory. As the bridge roams between CPANs at will (i.e., without predefined scheduling), performance of both local and non-local traffic in either CPAN depends on the local and non-local traffic intensities. The results also show that the collisions with primary source transmissions do not affect bridge performance at low to medium CPAN traffic.

120

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

5.1

Introduction

In Chapter 4, we have considered unidirectional data transfer in a network formed by two channel-hopping CPANs, hereafter referred to as source and destination CPANs, respectively, both using the transmission tax-based MAC protocol [47]. CPANs are connected with a dedicated bridge node that switches back and forth between CPANs to deliver data from the source to the destination CPAN. Moreover, the analysis used the assumptions that bridge transmissions were given higher priority by scheduling them early in the superframe. In this chapter, we extend our analysis to allow the bridge to switch between the CPANs without any predefined arrangement, which resulted in simplified bridge scheduling and increased fairness for all nodes. We have also considered the case where the bridge carries bidirectional traffic between two asynchronous CPANs, which is more realistic and can be used a basis for routing inter-CPAN traffic in a multi-hop network. We also include the impact of collisions with primary source transmissions. We model the operation of the resulting two-hop network using probabilistic analysis and renewal theory, and obtain the probability distributions of CPAN and bridge cycle times as well as of end-to-end delays for both local and non-local (i.e., intra- and inter-CPAN) traffic. We also present the probability of collisions with primary source transmissions. The rest of the chapter is structured as follows: Section 5.2 describes the CPAN environment and the operation of the bidirectional bridge. Section 5.3 presents the probabilistic model of bridging algorithm with transmission, sensing and reception by ordinary nodes. Estimation of collision with primary source is presented in Section 5.4. Access delay for both intra-CPAN and inter-CPAN traffic is discussed in Section 5.5. Results of the per121

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

formance analysis are presented and discussed in Section 5.6. Section 5.7 summarizes the chapter.

5.2

CPAN and Bridge Operation

The CPAN operates under the control of a dedicated coordinator node. Time is divided into constant size superframes that begin with a leading beacon and end with a trailing beacon, both sent by the coordinator. Portions of the time between beacons are devoted to data transmissions, reporting of sensing results, and sending bandwidth requests and other administrative activities. All nodes, bridge(s) included, apply for bandwidth in the reservation sub-frame. Requests are sorted according to the round-robin principle, beginning with the lowest node ID that is larger than the last scheduled ID in previous superframe. The coordinator announces the pending transmissions in the leading beacon. Therefore, any given node from a given CPAN must wait a random time interval with respect to the leading beacon before it can begin its transmission. A node is allowed to request transmission only for packets that were in its buffer at the time of the request; packets that arrive during a packet transmission will be serviced in one of the subsequent CPAN service cycles. This holds for ordinary nodes as well as for bridge(s). This scheduling scheme can be modeled as a gated exhaustive policy with vacations [68]. Upon finishing data transmission, the node has to synchronize with the CPAN beacon; the time period from the end of transmission to the next leading beacon (which includes the control and reservation sub-frames) is referred to as beacon synchronization time. 122

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

The leading beacon also contains announcements of the sensing duty. Performing sensing duty is a prerequisite for time slot allocation for packet transmission. Namely, upon successful packet transmission nodes have to `pay' by sensing some of the channels in the working band and reporting the results to the coordinator. The duration of the sensing period is determined as the product of the sensing penalty coefficient kp and the number of packets transmitted since the last round of sensing duty. The coordinator uses sensing results to build and update the free channel table, which is used to select the next-hop channel ­ i.e., the working channel for the next superframe ­ among the channels least likely to be busy during that time [50]. The next-hop channel is announced in the trailing beacon, together with a number of backup channels which are needed for recovery in case of collision with a primary user transmission [49]. In this setup, inter-CPAN traffic is routed through the shared bridge node which collects the data from one CPAN and delivers it to the other and vice versa, as shown in the Fig. 5.1. To this end, the bridge hops back and forth between the CPANs without predefined rendezvous times. In each of the CPANs, the bridge must request bandwidth in order to deliver data packets, just like ordinary nodes do, and report its presence to the corresponding CPAN coordinator in order to receive data packets. As the bridge is not present in either CPAN all the time, it might lose synchronization due to dynamic channel hopping. To ensure synchronization, the bridge listens to every trailing beacon of either CPAN so as to learn about the corresponding next-hop channel. The bridge must also listen to the leading beacon in the CPAN it is currently associated with in order to be able to send and receive data. An important function of the bridge is to convey the next-hop and backup channels from one CPAN to the coordinator of the other, thus ensuring that the CPANs will

123

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

not collide during frequency hopping. As these actions incur considerable overhead, the bridge is not required to perform sensing duty.
Transmission of ordinary nodes, reception of ordinary nodes and/or bridge node Transmission of bridge node, reception of ordinary node Control, reservation and beacon synchronization

trailing beacon

leading beacon

reporting

bridge applies for reservation

Bridge switching

channel i bridge applies for reservation

CPAN-S

time lag, 1

channel j

CPAN-X

Figure 5.1: Bridge switching algorithm for two-way traffic.

Transmission requests are serviced in the round-robin fashion, i.e., nodes with lower ID get access before a node with higher ID. If any of the requests can't be accommodated in the current superframe, it will be deferred to the next one. This applies to the transmissions of ordinary nodes as well as to those that involve the bridge, both as the source and as the destination. In the latter case, the coordinator can allocate bandwidth to inter-CPAN traffic (for which the bridge is the recipient) only if the bridge is present in the CPAN, which is why the bridge needs to report its presence to the coordinator. Note that the bridge, once it begins its data packet exchange with nodes in a given CPAN, will stay in that CPAN for as many superframes as necessary, hopping periodically to the other CPAN in order to listen to the trailing beacons.

124

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

5.3

Modeling the MAC Algorithm

Consider a network with two CPANs, hereafter referred to as CPAN-S and CPAN-X, having MS and MX nodes, respectively, which include the coordinator node for each CPAN as well as a shared node which serves as the bridge between the CPANs. Time is measured in unit slots, while the duration of each superframe is sf slots. CPAN superframes are not aligned with each other, and the time lag between their respective starting points is  unit slots, where  is a random value that is uniformly distributed over the duration of a superframe. We assume that data packets have a constant size of kd slots with an additional slot used for acknowledgments, for a total of kd + 1 slots per packet. Let S and X denote the packet arrival rate per node for CPAN-S and CPAN-X, respectively, assuming Poisson arrivals of data packets, and let PicSX and PicXS denote the fraction of that traffic targeting a destination in the other CPAN. Therefore, the arrival rates for the inter-CPAN traffic will be bSX = PicSX (MS - 2)S and bXS = PicXS (MX - 2)X , for traffic from CPAN-S to CPAN-X and vice versa, respectively. The timing diagram in Fig. 5.2 depicts the operation of the CPAN. The time period between two successive transmissions of the same node will be referred to as the CPAN service cycle; due to traffic variability and sensing policy, it is a random variable that can span a number of superframes. Modeling the service period ­ Probability generating function (PGF) for constant packet size kd with an immediate 1-slot acknowledgement is b(z ) = z kd +1 , with the mean value of b = kd + 1. The Laplace-Stieltjes transform (LST) of packet time, b (s) = e-s(kd +1) , can be obtained by replacing variable z with e-s . Therefore, the offered load per node is S = S b and X = X b for CPAN-S and CPAN-X, respectively. 125

Chapter 5: Two-way Communications in Cognitive Personal Area Networks
trailing beacon reservation round-robin waiting time Arr data transfer from node s and/or bridge to node d and/or to bridge Atx or/and Abe Atot Service cycle of CPAN control, reservation, beacon sync Asyn sensing and reception control, reservation, beacon sync Aves time trailing beacon

leading beacon

leading beacon

reporting

reservation

Figure 5.2: Pertaining to packet arrivals during a service cycle. The distribution of the number of packets that arrive at the ordinary node buffer between two successive transmission requests can be represented by the PGF of S (z ) =
 k1=1

Sk1 z k1 and X (z ) =

 k2=1

Xk2 z k2 for CPAN-S and CPAN-X, respectively. The

Sk1 and Xk2 represent the mass probabilities that k 1 and k 2 denote the number of packets found in the buffer when an ordinary node applies for bandwidth, in the CPAN-S and CPAN-X, respectively. Therefore, mean number of packets to be transmitted in a single cycle of CPAN-S and CPAN-X are S = S (1) =
 k2=1  k1=1

k 1Sk1 and X = X (1) =

k 2Xk2 , respectively.

The probability distribution of the duration of transmission (service) period for CPANS and CPAN-X can be represented by the PGF SS (z ) = S (b(z )) and SX (z ) = X (b(z )), respectively, as this duration depends on the number of packets that arrive during two successive transmission requests and the duration of each packet sent between the two. There fore, the LST of the duration of ordinary node service periods are SS (s) = S (b(e-s )) =  S (b (s)) and SX (s) = X (b(e-s )) = X (b (s)); their mean values are SS = S b and

SX = X b, for CPAN-S and CPAN-X, respectively. CPAN service cycle time is the time between two successive transmission opportunities for a given node; it varies depending on the number of nodes and bridge transmission time.

126

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

The PGF for the CPAN-S service cycle time can be represented by

CScyc (z ) = ((1 - S ) + S SS (z ))MS -2 bexXS (z )

(5.1)

where bexXS (z ) is the PGF for the duration of bridge exchange in CPAN-S which depends on the number of packets the bridge has received from CPAN-X. The LST of this CPAN-S service cycle time is

  CScyc (s) = ((1 - S ) + S SS (s))MS -2 b exXS (s).

(5.2)

 with mean value of CScyc = -CScyc (0).

By the same token the PGF for the CPAN-X service cycle time is

CXcyc (z ) = ((1 - X ) + X SX (z ))MX -2 bexSX (z )

(5.3)

where bexSX (z ) is the PGF for the duration of bridge exchange in CPAN-X, the LST of which is
  CXcyc (s) = ((1 - X ) + X SX (s))MX -2 b exSX (s)

(5.4)

 with mean value of CXcyc = -CXcyc (0).

Bridge cycle time is the time period between two successive bridge transmissions in any given CPAN; a number of distinct phases can be identified therein, as shown in the Fig. 5.1. After transmitting inter-CPAN packets collected from CPAN-X in the CPAN-S, the bridge stays in the remaining superframe to receive inter-CPAN packets and to synchronize with beacons. The time from transmitting packet(s) in the current superframe to the

127

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

next beacon may be considered as residual time, using the terms of renewal theory [68] where residual time is the time interval from an arbitrary moment in a renewal cycle to the beginning of the new renewal cycle, and its LST is 1 - e-ssf ssf

s f + ( s) =

(5.5)

with the mean value of sf + = -s f + (0). Then, the bridge switches over to the CPAN-X to apply for bandwidth. However, it has to wait for  (i.e., the time lag between superframes of CPAN-S and CPAN-X) before it can place the bandwidth request. Due to the round robin service discipline, upon placing bandwidth request, the bridge has to wait while nodes with lower IDs are being serviced in the CPAN-X. The time from the beginning of a new superframe to an arbitrary point in that superframe may be considered as elapsed time, using the terms of renewal theory [68] where elapsed time is the time interval from the beginning of the new renewal cycle to an arbitrary moment in that cycle, and its LST is
 CXcyc - (s) =  1 - CXcyc ( s)

sCXcyc

(5.6)

with the mean value of CXcyc- =

CXcyc 2CXcyc

(2)

.

During its allocated transmission time, the bridge sends all packets it has received from CPAN-S. The PGF of this exchange time is bexSX (z ) with mean value bexSX . Note that this exchange may last for several superframes. Once the transmission is over, the bridge has to remain in CPAN-X for an additional time in order to receive packets for destinations in CPAN-S and synchronize with the bea-

128

Chapter 5: Two-way Communications in Cognitive Personal Area Networks cons; the PGF of this time is s f + (s). The bridge then switches back to the CPAN-S in order to deliver those packets, but it has to synchronize with the destination CPAN superframe first; the PGF of that time is sf -  . Finally, after applying for bandwidth, the bridge waits for another round-robin waiting time in the CPAN-S; the LST of this time is
 (s) 1 - CScyc

 CScyc - (s)

=

sCScyc

(5.7)

with the mean value of CScyc- =

CScyc 2CScyc

(2)

.

Therefore, the total bridge cycle time for CPAN-S is

BScyc = sf + +  + CXcyc- + bexSX + sf + + (sf - ) + CScyc- .

(5.8)

The corresponding PGF is

BScyc (z ) = z (2sf + +sf ) CXcyc- (z )bexSX (z )CScyc- (z )

(5.9)

with the LST of

 BScyc (s) = BScyc (e-s )    = e-s(2sf + +sf ) CXcyc - (s)bexSX (s)CScyc- (s)

(5.10) (5.11)

During this time, the number of packets collected in CPAN-X for destinations in the

129

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

other CPAN can be described with the PGF of

 QbS (z ) = BScyc (bSX - bSX z )

(5.12)

Since each packet needs a service time of b(z ), the PGF for the duration of the bridge exchange in the CPAN-X is

bexSX (z ) = QbS (b(z ))

(5.13)

and the LST of bridge transmission is

-s b exSX (s) = bexSX (e )

(5.14)

The probability distribution of the duration of bridge exchange in the CPAN-X can also be represented as a series:
kmax

bexSX (z ) =
k=0

dk z k

(5.15)

where dk represents the mass probability that the bridge exchange takes k slots. The mass probabilities in (5.15) can be obtained by expanding (5.13) into power series on variable z . By the same token, the bridge cycle time for CPAN-X is

BXcyc = sf + + (sf - ) + CScyc- + bex-XS + sf + +  + CXScyc-

(5.16)

and its PGF is BXcyc (z ) = z (2sf + +sf ) CScyc- (z )bexXS (z )CXcyc- (z ) (5.17)

130

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

The probability distribution of the duration of bridge exchange in CPAN-S can be found in an analogous manner. Using (5.14), we can define the PGF for the number of packet arrivals to an ordinary node buffer of CPAN-X during the bridge transmission as

Abe (z ) = b exSX (X - X z ).

(5.18)

However, for a given CPAN, bridge transmission takes place once per bridge cycle period which can last several superframes over which the bridge transmission delay is spread. Probability that the bridge transmission takes place in the current superframe of CPAN-X is Pbt = sf /BXcyc . Therefore, the final PGF for the number of packet arrivals to an ordinary node buffer of CPAN-X during the bridge transmission is

Abep (z ) = Pbt Abe (z ) + (1 - Pbt ).

(5.19)

Round-robin waiting time is the time a node has to wait while nodes with lower IDs are being serviced. Using (5.6), we can define the PGF of the number of packet arrivals during the round-robin waiting time as

 Arr (z ) = CXcyc - (X - X z ).

(5.20)

The number of packet arrivals during the transmission (service period) can be described by the PGF
 Atx (z ) = SX (X - X z ).

(5.21)

131

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

Delay due to beacon synchronization ­ The time from transmitting packet(s) in the current superframe to the next control sub-frame (at which time a node can submit the sensing report to the coordinator) may be considered as residual time of a superframe. Hence, the PGF for the number of packet arrivals during this time is

Asyn (z ) = s f + (X - X z ).

(5.22)

Duration of sensing ­ The coordinator assigns sensing duty to ordinary (i.e., non-bridge) nodes that have transmitted their packets. The duration of this duty, expressed in superframes, is the product of sensing penalty kp and k1 (k 2), the number of packets transmitted in the service period of the corresponding CPAN. Thus, the distribution of time spent in sensing can be represented by the PGF VX (z ) =
 k2=1

Xk2 z kp sf k2 = X (z kp sf ) and

its mean value is VX = kp sf X . The corresponding LST of the single sensing period is
 ( s) = VX  k2=1

Xk2 e-kp sf k2 . The number of packets that arrive during the sensing period

can be obtained by replacing s with X - X z in the last equation,

 (X - X z ). AXvc (z ) = VX

(5.23)

Impact of packet reception during sensing ­ To receive packets, a node has to take a break from ongoing sensing duty. While packet reception may take place in one or more superframes, node still has to finish its sensing duty before placing a new transmission request. As the result, the sensing period will be effectively expanded due to reception. To model this effect, we need to find the probability of packet reception during the sensing period.

132

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

Each of the nodes in the CPAN-X generates intra-CPAN (local) traffic at a rate of
X (1-Pic ) , MX -2

assuming uniform distribution of destination nodes. Probability of having no
-
X (1-Pic ) VX MX -2

packets for a given target node during a sensing period is Pnrs = e

, and the

PGF for extended sensing period due to reception is VXes (z ) = Pnrs + (1 - Pnrs )z sf . However, a node in the CPAN-X receives intra-CPAN traffic at a rate of inter-CPAN packets at a rate of


X , MX -2

and

bSX . MX - 2

Probability of having no packets during the sensing . Therefore, the PGF for extended sensing period

period is Pnrd = e

- MbSX B -M -2 Xcyc
X

e

X VX X -2

in the CPAN-X due to reception is VXes (z ) = Pnrd + (1 - Pnrd )z sf . The number of packets that arrive during this extended sensing period can be described by the PGF of AXves (z ) = VXes (X - X z ). Time between successive transmission requests ­ The PGF for the number of packets arrivals to a node in the CPAN-X during the interval between two successive bandwidth requests is


QX (z ) = Abep (z )Arr (z )Atx (z )Asyn (z )AXves (z ) =
k2=0

qXk2 z k2 .

(5.24)

If the node finishes sensing and has no packets to send, it will continue with sensing duty, which occurs with the probability of qX 0 = QX (0). The distribution of the number of packets that arrive at the ordinary node buffer between two successive transmission requests can be described by the PGF of QX (z ) - qX 0 1 - qX 0

X (z ) =

(5.25)

and its mean value is X = Abep + Arr + Atx + Asyn + AXves . Probability distribution of

133

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

the total sensing period is VXtot (z ) = VXes (1 - qX 0 ) . 1 - VXes qX 0 (5.26)

Equations from (5.1) to (5.26) and the corresponding equations for CPAN-S which can be derived in an analogous manner can be solved together as a system with unknowns Sk1 and Xk2 for k 1 = k 2 = 1 · · · nc , if we limit the number of terms in each PGF or LST to nc .

5.4

Probability of collision with primary source

The total collision probability for the bridge node as well as for other ordinary nodes can be calculated as the sum of the probability of inaccurate channel status in the channel table (which depends on the number of channels, the number of sensing nodes, and penalty coefficient) and the probability of collision during transmission. Namely, in the process of channel hopping, the CPAN may hop onto a busy channel, which may happen if the channel map contains inaccurate information or the channel has become busy since the last sensing event. (Assuming that ON and OFF periods of primary user transmission follow a Poisson distribution, the latter event may occur at any time.). It is also possible that a primary source begins its transmission during an ongoing transmission in a cognitive network. We assume that each primary source is intermittently active on its own channel. The probability density function (pdf) of ON and OFF periods are gon (x) and gof f (x), respectively, with mean values of Gon and Gof f . The mean value of total cycle time of primary source activity is Gcyl = Gon + Gof f , while the activity probability of primary source is pon =
Gon . Gcyc

134

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

As primary and secondary users are not synchronized in any way, the CPAN superframe will begin at a random point in the idle (OFF) channel period and continue until it finishes, or until the primary user begins transmission and the channel becomes active (ON) which corresponds to a collision. Time interval from a random point to the end of the channel idle time is residual idle time, which has the probability density function (pdf) proportional to the probability that channel idle time is larger than some value y : f (y ) =
 z =y

gof f (z )dz Gof f

. Therefore the probability distribution function (PDF) of residual
x 0

channel idle time is F (x) =

d(y )dy .

Probability that coordinator has inaccurate channel information ­ Probability that an ordinary node from CPAN-X is performing channel sensing is VXtot (bexSX ) + sf + + VXtot

Ps =

CXcyc- + SX +

sf

(5.27)

BXcyc

Therefore, the probability distribution of the number of nodes in CPAN-X concurrently performing channel sensing has the PGF of
MX -1

(z ) =
i=0

MX - 1 Psi (1 - Ps )MX -1-i z i = i

MX -1

n z n
n=0

(5.28)

where n represents the mass probability that n nodes are performing channel sensing simultaneously. Let us assume that channels being sensed are randomly selected from all channels except those two currently used by the CPANs, hence the probability of any given channel being sensed by a single node is Pj =
1 . N -2

If sensing takes d unit time slots, PGF for the

135

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

time period between two consecutive sensing events on a particular channel is


(z ) = 0
k=1

Pj (1 - Pj )k-1 z kd


min(MX -1,N -3)

+
l=1 MX - 1

l
k=1

lPj (1 - lPj )k-1 z kd zd (5.29)

+
min(MX -1,N -3)+1

Using renewal theory [68] and applying the procedure outlined in [46], we can calculate the probability Pi of having inaccurate channel status and its duration in the channel table. Probability of collision during transmission ­ The superframe of a CPAN starts at random point in the idle channel period. Thus, the collision will occur if the residual channel idle time is less than the superframe duration. Probability of a collision for bridge and ordinary node transmission in CPAN-X can be obtained as


Pc(br) =
x=0

(D(x + CXcyc- + bexSX ) - D(x))d(x)dx


(5.30)

Pc(o) =
x=0

(D(x + CXcyc- + SX ) - D(x))d(x)dx

(5.31)

When a collision occurs, nodes will miss the next-hop channel announcement, and recovery must be undertaken using one of the backup channels [49]. The results above hold for CPAN-X; the corresponding probabilities in CPAN-S can be found in an analogous manner.

136

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

5.5

Packet access delay

Intra-CPAN packets ­ Let us assume that an ordinary node in the CPAN-X already has L intra-CPAN packets at the moment it applies for bandwidth; furthermore, assume that Ai packets arrive to the node while it is transmitting the ith packet. Thus after transmitting the nth packet in the transmission (service) period, the node buffer contains Ln = L + Arr + A1 + A2 + ... + An - n packets. PGF of the number of packets left after nth departing packet can be obtained as
k Arr (z )A(z )n  k=n Xk z zn  k=n Xk

Ln (z ) =

(5.32)

As the single packet serving time is b ( - z ), PGF of the number of packets left in the buffer after any departing packet can be obtained as
  k =n

L(z ) =
n=1

Xk

X

Ln (z ) (5.33)

= Arr (z )

(X [b (X - X z )] - X (z ))b (X - X z ) X [b (X - X z ) - z ]

Packets are serviced in FIFO order and the number of packets left after a departing packet is equal to the number of packets that arrived during the departing packet was in the system. Probability distribution of the packet waiting time can be obtained from

 L(z ) = Ta (X - X z ) = W  (X - X z )b (X - X z )

(5.34)

137

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

The corresponding LST of intra-CPAN packet waiting time is
s  s X X [b (s)] - X (1 - X ) W (s) = Arr (1 - ) X X [X b (s) - X + s] 

(5.35)

with the mean value of W =

dW  | ds s=0

=

(1+X )X (1) . 2X X

(2)

Inter-CPAN packets ­ The calculation is more involved since an inter-CPAN packet undergoes no less than five different phases from its arrival to a node in one CPAN to the destination in the other, as shown in Fig. 5.1. First, the packet has to wait to be transmitted to the bridge. This time period, commonly
 (s) = referred to as access delay, Wa , is equal to the residual time of bridge cycle period Wa
 1-BScyc (s)

sB Scyc

 , with mean value of W a = -Wa (0).

Then, the packet waits until bridge finishes receiving all of the inter-CPAN packets from the CPAN-S and synchronizes with the beacon, which lasts for the remaining superframe
 ( s) = duration, Wsyn 1-e ssf
-ssf

 , with mean value of W syn = -Wsyn (0).

The bridge switches to the CPAN-X and waits for Wab =  before applying for bandwidth. Fourth, bridge waits for its turn to transmit in CPAN-X for round-robin waiting time. Delay observed by an inter-CPAN packet may be considered equal to the elapsed time of
 CPAN-X cycle, Wrr (s) =
 1-CXcyc ( s)

sC Xcyc

 , with mean value of W rr = -Wrr (0).

Finally, the bridge delivers the packet to the destination in CPAN-X. Since packets are randomly positioned within the bridge queue, the delay experienced by the packet is equal
 to the elapsed time of bridge transmission, Wbt (s) =  is W bt = -Wbt (0). 1-b exSX (s) , sbexSX

the mean value of which

138

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

Therefore, mean end-to-end delay for an inter-CPAN packet from CPAN-S to CPAN-X can be obtained as W a + W syn + Wab + W rr + W bt . Mean end-to-end delay for an inter-CPAN packet from CPAN-X to CPAN-S can be found in an analogous manner, except that the bridge waits Wab = sf -  before applying for bandwidth in CPAN-S.

5.6

Performance Analysis

To evaluate the performance of the proposed scheme, we have solved the system of equations presented above using Maple 16 from Maplesoft [43]. The number of nodes for CPAN-S is MS = 14 and CPAN-X is MX = 10; these number include the coordinator in each CPAN and a shared bridge node. We have assumed that both CPANs use N = 19 channels, each with an independent primary source; this setup corresponds to a subset of TV White Space channels in the range 21 to 51 (except 37) [12]. The size of the superframe sf is set to 130 unit slots, 30 of which are allocated for the control and reservation purposes. Packets are assumed to last for kd = 10 unit slots with an additional slot used for acknowledgement, while sensing takes a single slot, d = 1. Mean cycle time of primary source has been set to Gcyl = 3000 unit slots where ON and OFF periods are exponentially distributed with mean values of 900 and 2100 unit slots, respectively. The ratio of channel ON and OFF periods to superframe duration is chosen to keep the collision probability at a sufficiently low level. Packet arrival rate was varied from  = 0.001 to 0.006 packets per node per slot in both CPAN-S and CPAN-X. Sensing penalty was set to kp = 0.6 while the time lag  was initially set to 0.5sf = 65 unit slots. In our first experiment we have examined the behaviour of each CPAN under vary139

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

number of packet arrivals between two successive transmissions, CPAN-S 2.6 2.4 2.2 2 1.8 1.6 1.4 1.2 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 rate in CPAN-X 0.001 rate in CPAN-S

service cycle time, CPAN-S 100 80 60 40 20 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(a) Number of packet arrivals, CPAN-S.
number of packet arrivals between two successive transmissions, CPAN-X 3 2.5 2 1.5 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(b) Service cycle time, CPAN-S.

service cycle time, CPAN-X 100 80 60 40 20 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 rate in CPAN-X 0.001 rate in CPAN-S

(c) Number of packet arrivals in CPAN-X.

(d) Service cycle time, CPAN-X.

Figure 5.3: Performance of individual CPANs under varying packet arrival rates in both CPANs. ing packet arrival rates, with PicSX = PicXS = 0.2 of the total traffic being directed to destinations in the other CPAN. Figs. 5.3a and 5.3c show that the number of packet arrivals increases with traffic intensity of the local CPAN, but also with traffic intensity of the other CPAN due to the coupling provided by the bridge. Namely, increased non-local traffic in one CPAN leads to bridge exchanges that last longer so that more packets arrive to the node during that time. Moreover, the CPAN with more nodes (CPAN-X) affects the CPAN with fewer of them to a

140

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

duration of bridge exchange, CPAN-S 40 35 30 25 20 15 10 5 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival 0.003 packet arrival 0.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

bridge cycle time, CPAN-S 420 400 380 360 340 320 300 280 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 rate in CPAN-X 0.0010.002 rate in CPAN-S

(a) Duration of bridge exchange in CPAN-S.
duration of bridge exchange, CPAN-X 60 50 40 30 20 10 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(b) Bridge cycle period in CPAN-S.
bridge cycle time, CPAN-X 400 380 360 340 320 300 280 0.006 0.005 0.004 0.003 packet arrival 0.002 0.001 rate in CPAN-S 0.006 0.005 0.004 0.003 packet arrival rate in CPAN-X

(c) Duration of bridge exchange in CPAN-X.

(d) Bridge cycle period in CPAN-X.

Figure 5.4: Mean duration of bridge exchange and mean bridge cycle time under varying packet arrival rates in both CPANs. greater extent. Regarding the service cycles shown in Figs.5.3b and 5.3d, we observe that higher traffic intensity translates into higher number of packets and, by extension, into longer service cycle period. Higher traffic intensity also means that the volume of inter-CPAN traffic will be higher and bridge transmissions will last longer, which also contributes to the extension of the service cycle. Due to the interdependency of the CPANs introduced by the bridge, mean service cycle time also increases for higher traffic intensity in the other CPAN.

141

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

Performance of bridge operations is presented in Fig. 5.4. Duration of bridge exchanges in a given CPAN does not depend much on local traffic which has to be sent and received within the CPAN itself, regardless of its ultimate destination. However, increase of traffic volume in the other CPAN extends bridge exchanges since that traffic will be added to the locally generated traffic. On the other hand, mean bridge cycle period is very much dependent on the inter-CPAN traffic but exhibits dependence on local traffic as well. At high packet arrival rates, bridge tends to remain longer in a single CPAN, and both bridge cycle and bridge exchange times begin to show signs of being close to saturation. Mean packet delays are shown in Fig. 5.5. Delay for intra-CPAN traffic increases with traffic intensity in that CPAN, but it also depends on both the round-robin waiting time and the duration of bridge exchange in the current CPAN, both of which depend on the traffic intensity in the other CPAN. As the result, delay for intra-CPAN traffic shows light dependence on the traffic in the other CPAN, but this dependence becomes more pronounced with the increase of traffic in both CPANs. Longer waiting times observed in CPAN-X, Fig. 5.5b, compared to CPAN-S, Fig. 5.5a, are due to the longer duration of bridge exchanges in the former and, ultimately, larger number of nodes therein. Mean packet delays for inter-CPAN traffic are mostly dependent on the bridge cycle period which depends on traffic volume, i.e., number of nodes and packet arrival rate. Higher traffic volume means more inter-CPAN packets and longer bridge cycles. As the result, inter-CPAN delays turn out to be longer for traffic from CPAN-S to CPAN-X, Fig. 5.5c, than for traffic going in the opposite direction, Fig. 5.5d. To highlight these observations, we have plotted mean end-to-end delay for inter-CPAN packets as the function of the time lag between CPAN superframes, Fig. 5.5e. Packet arrival

142

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

intra-CPAN packet delay, CPAN-S 200 160 120 80 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival 0.003 packet arrival 0.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

intra-CPAN packet delay, CPAN-X 250 200 150 100 50 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(a) Intra-CPAN traffic delay in CPAN-S.
inter-CPAN tra c delay, CPAN-S 440 400 360 320 280 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(b) Intra-CPAN traffic delay in CPAN-X
inter-CPAN tra c delay, CPAN-X 420 400 380 360 340 320 300 280 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(c) Inter-CPAN traffic delay from CPAN-S to CPAN-X.

(d) Inter-CPAN traffic delay from CPAN-X to CPAN-S.

inter-CPAN tra c delay 360 CPAN-S to CPAN-X 340 320 300 280 30 CPAN-X to CPAN-S 40 50 60 70 time lag between superframes (CPAN-X vs. CPAN-S), in percent 80

(e) Inter-CPAN traffic delay as the function of time lag between superframes.

Figure 5.5: Mean end-to-end delay under varying packet arrival rates in both CPANs.

143

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

number of packet arrivals between successive transmissions, CPAN-S 1.91 1.9 1.89 1.88 1.87 0.006 0.005 0.2 0.004 0.003 packet arrival fraction of inter- 0.15 0.1 0.002 0.001 CPAN tra c in CPAN-X rate in CPAN-X 0.25 0.3

service cycle time, CPAN-X 100 80 60 40 20 0.3 0.006 0.25 0.005 0.2 0.004 0.15 fraction of interpacket arrival 0.0030.002 0.1 0.05 CPAN tra c in CPAN-S rate in CPAN-S

(a) Number of packet arrivals, CPAN-S.
number of packet arrivals between successive transmissions, CPAN-X 1.92 1.91 1.9 1.89 1.88 1.87 1.86 0.3 0.006 0.25 0.005 0.2 0.004 0.15 packet arrival 0.0030.002 0.1 fraction of inter0.05 rate in CPAN-S CPAN tra c in CPAN-S

(b) Service cycle time, CPAN-S.
service cycle time, CPAN-S 80 60 40 20 0.006 0.005 0.2 0.004 0.003 packet arrival fraction of inter- 0.15 0.1 0.002 0.001 CPAN tra c in CPAN-X rate in CPAN-X 0.25 0.3

(c) Number of packet arrivals, CPAN-X.

(d) Service cycle time, CPAN-X.

Figure 5.6: Performance of individual CPANs under varying packet arrival rate and fraction of non-local traffic in the other CPAN. rates in both CPANs were set to S = X = 0.003. In this scenario, delay is affected by this time lag only which affects the beacon synchronization component of the waiting time while all other components remain unchanged. As the result, inter-CPAN packet delay increases almost linearly with the time lag between CPAN superframes. Note that the crossover point where two delays are equal is not in the middle of the range because of the difference in the number of nodes between the CPANs. In our next experiment, we have varied packet arrival rate and fraction of inter-CPAN traffic in one CPAN while keeping those same parameters fixed at  = 0.003 packets per 144

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

node per slot and Pic = 0.2, respectively, in the other CPAN. Mean number of packet arrivals to a node between two successive transmissions increases nearly linearly with both of the independent variables, even though local traffic arrival rate and fraction of interCPAN traffic is kept constant; this is due to the increase observation period ­ i.e., extended duration of bridge exchanges caused by the increase in non-local packets brought in by the bridge. Similar observation can be made about mean service cycle times, which are about 10 to 15% higher in CPAN-X on account of larger number of nodes. Mean duration of bridge exchanges and mean bridge cycle time in one CPAN, obtained under variable packet arrival rate and fraction of non-local traffic in the other CPAN, are shown in Fig. 5.7. As can be seen, longer bridge cycles are needed to service larger number of packets, which may come on account of higher packet arrival rate, higher fraction of inter-CPAN packets, or simply the larger number of nodes. Fig. 5.7 shows mean bridge cycle periods and mean duration of bridge exchanges. The bridge cycle period of any given CPAN changes with the duration of bridge exchange in other CPAN and the round-robin waiting time for both CPANs. As the local traffic is kept constant, the bridge cycle period only depends on the round-robin waiting time in the other CPAN. Therefore, bridge cycle period increases for higher traffic intensity of other CPAN and higher fraction of inter-CPAN traffic. Similar observations hold for mean duration of bridge exchanges. Fig. 5.8 shows mean end-to-end delay for inter-CPAN packets. As the time lag between superframes is kept constant, the main factor that determines the inter-CPAN packet delay the bridge cycle time, which in turn depends on the packet arrival rate in the other CPAN and, to a much lesser extent, the fraction of non-local traffic in the other CPAN.

145

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

duration of bridge exchange, CPAN-S 50 40 30 20 10 0.006 0.005 0.2 0.004 0.003 packet arrival fraction of inter- 0.15 0.1 0.002 0.001 CPAN tra c in CPAN-X rate in CPAN-X 0.25 0.3

duration of bridge exchange, CPAN-X 80 60 40 20 0.3 0.006 0.25 0.005 0.2 0.004 0.15 fraction of interpacket arrival 0.0030.002 0.1 0.05 rate in CPAN-S CPAN tra c in CPAN-S

(a) Mean duration of bridge exchange, CPAN-S.
bridge cycle time, CPAN-S 350 340 330 320 310 0.006 0.005 0.2 0.004 0.003 packet arrival fraction of inter- 0.15 0.1 0.002 0.001 rate in CPAN-X CPAN tra c in CPAN-X 0.25 300 0.3

(b) Mean duration of bridge exchange, CPAN-X.
bridge cycle time, CPAN-X 350 340 330 320 310 300 290 0.3 0.006 0.25 0.005 0.2 0.004 0.15 fraction of inter0.003 packet arrival 0.1 0.002 0.05 rate in CPAN-S CPAN tra c in CPAN-S

(c) Mean bridge cycle time, CPAN-S.

(d) Mean bridge cycle time, CPAN-X.

Figure 5.7: Mean duration of bridge exchange and mean bridge cycle time under varying packet arrival rate and fraction of non-local traffic in the other CPAN. In our third experiment we have investigated how CPAN performance is affected by the activity of primary sources. As explained above, ongoing transmissions of either an ordinary node or a bridge may be destroyed by a collision with the transmission of a primary source. Collisions occur as the consequence of inaccurate information in the channel table, which depends on the frequency of channel sensing, or simply by the onset of primary source transmission on the current working channel, which is dependent on the duration of the current transmission. The diagrams in the first row of Fig. 5.9 show mean number of sensing node. When 146

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

inter-CPAN tra c delay, CPAN-S 350 340 330 320 0.006 0.005 0.25 0.2 0.004 0.003 packet arrival fraction of inter- 0.15 0.1 0.002 CPAN tra c in CPAN-X 0.001 rate in CPAN-X 0.3

inter-CPAN tra c delay, CPAN-X 350 340 330 320 310 300 0.3 0.006 0.25 0.005 0.2 0.004 0.15 fraction of interpacket arrival 0.003 0.1 0.002 0.05 rate in CPAN-S CPAN tra c in CPAN-S

(a) Traffic from CPAN-S to CPAN-X, S = 0.003 and PicSX = 0.02.

(b) Traffic from CPAN-X to CPAN-S, X = 0.003 and PicXS = 0.02.

Figure 5.8: Mean end-to-end delay for inter-CPAN traffic. the traffic volume in a given CPAN is low, most of the nodes perform sensing, either as a regular penalty or because they have no traffic and repeat the sensing duty. As local traffic increases, the latter mechanism recedes and only nodes that have just transmitted their data perform sensing duty. Mean number of sensing nodes decreases slightly with the traffic volume in the other CPAN, mainly because bridge transmissions last longer and ordinary nodes have less time for transmission and sensing; after all, longer bridge transmissions mean that more packets arrive to ordinary node buffers. The diagrams in the middle row show mean time between two consecutive sensing events, which is inversely proportional to the mean number of sensing nodes: as fewer nodes perform sensing, frequency of sensing events drops and so does the probability of inaccurate information in the channel map, bottom row of Fig. 5.9. As the result, collision probability increases for both ordinary nodes and bridge, as can be seen in Fig. 5.10. Collisions are more likely for the bridge simply because its transmissions last longer. Furthermore, collisions are more likely in the CPAN with higher traffic volume (CPAN-X, in

147

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

mean number of sensing nodes, CPAN-S 12 11

mean number of sensing nodes, CPAN-X 8

7
10 9 0.001 0.006 0.002 0.005 0.003 0.004 0.004 packet arrival packet arrival 0.003 0.005 0.002 0.001 rate in CPAN-X rate in CPAN-S

6 0.001 0.006 0.002 0.005 0.003 0.004 0.004 packet arrival packet arrival 0.003 0.002 0.005 0.001 rate in CPAN-S rate in CPAN-X

(a) Mean number of sensing nodes, CPAN-S.
mean time between sensing, CPAN-S 10.5 10 9.5 9 8.5 8 7.5 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.003 0.002 0.002 rate in CPAN-S 0.001 rate in CPAN-X

(b) Mean number of sensing nodes, CPAN-X.

mean time between sensing, CPAN-X 16 15 14 13 12 11 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.003 0.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(c) Mean time interval between sensing events, CPAN-S.
probability of inaccurate channel map, CPAN-S 0.0036 0.0032 0.0028 0.0024 0.002 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.003 0.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(d) Mean time interval between sensing events, CPAN-X.
probability of inaccurate channel map, CPAN-X 0.007 0.0065 0.006 0.0055 0.005 0.0045 0.004 0.0035 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(e) Probability of inaccurate channel information, CPAN-S.

(f) Probability of inaccurate channel information, CPAN-X.

Figure 5.9: Performance of the sensing process.

148

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

our case).

5.7

Chapter Summary

In this chapter, We have discussed a simple yet effective scheme for interconnecting two cognitive personal area networks (CPANs). The main feature of the proposed scheme is that the bridge is free to remain in a given CPAN without a predefined schedule. In fact, the bridge can stay as long as it takes to deliver all the data originating from the other CPAN and collect all the data to be delivered there. As the consequence, CPANs need not be synchronized with each other. Through probabilistic analysis and renewal theory, we have obtained complete probability distribution of service cycle time, bridge cycle time, and end-to-end packet delays for both intra- and inter-CPAN traffic. Furthermore, we have evaluated the probability of collisions with primary source transmissions. Our experiments have confirmed the validity of the proposed scheme. However, they have also shown that the CPANs are not fully decoupled, as the performance of one of the CPANs depends on local as well as non-local traffic intensity. Moreover, bridge transmissions were found to have higher collision probability compared to ordinary node transmissions.

149

Chapter 5: Two-way Communications in Cognitive Personal Area Networks

probability of ordinary node collision, CPAN-S 0.018 0.016 0.014 0.012 0.01 0.008 0.006 0.006 0.005 0.005 0.004 0.004 0.003 0.003 packet arrival packet arrival 0.002 0.002 rate in CPAN-X rate in CPAN-S 0.001

probability of ordinary node collision, CPAN-X 0.022 0.02 0.018 0.016 0.014 0.012 0.01 0.006 0.006 0.005 0.005 0.004 0.004 0.003 0.003 packet arrival packet arrival 0.002 0.002 rate in CPAN-X rate in CPAN-S 0.001

(a) Ordinary node collision, CPAN-S.
probability of bridge collision, CPAN-S 0.02 0.016 0.012 0.008 0.004 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.003 0.002 0.002 rate in CPAN-X rate in CPAN-S 0.001

(b) Ordinary node collision, CPAN-X.
probability of bridge collision, CPAN-X 0.03 0.025 0.02 0.015 0.01 0.006 0.006 0.005 0.005 0.004 0.004 0.003 packet arrival packet arrival 0.0030.002 0.002 0.001 rate in CPAN-X rate in CPAN-S

(c) Bridge collision, CPAN-S.

(d) Bridge collision, CPAN-X.

Figure 5.10: Probability of collision with primary source transmission.

150

Chapter 6 Conclusion
In this thesis we have examined the performance of an efficient algorithm for cognitive piconet (CPAN) formation in which nodes that arrive at different times perform rendezvous independently with the designated piconet coordinator. Our results indicate that, for piconets of smaller size, the group joining time mostly depends on the sum of the nodes' interarrival times and their individual TTRs. The joining time of group of nodes also shows the characteristics of Gamma distribution. Extensive experimental results show that mean group joining time tends to flatten when the number of nodes in the group increases, so that it may even converge to a finite limit when the number of nodes is sufficiently high 7 to 8 in the range of values considered in the dissertation. However, the distribution exhibits a long tail which means that variability of group joining times will remain high. Finally, we have shown how the approximate distribution can be used to predict the performance of the group rendezvous, which may be useful in a number of scenarios such as by setting a deadline for emergency network or by setting a fixed predefined number of nodes for long-term network..

151

Chapter 6: Conclusion

Also, in attempt to carry data from source CPAN to destination CPAN, we investigated the bridging protocol between two asynchronous CPANs. Prioritized bridge node transmission impacts the performance of data transmission for other nodes in the destination CPAN. Results show that bridge transmission takes most of the superframe duration and leaves less time for the transmission of ordinary nodes for higher traffic intensity and higher fraction of inter-CPAN traffic. We have shown that the performance for both intraand inter-CPAN traffic is dependent on traffic and network parameters, in particular traffic intensity, probability of non-local traffic, and time lag between CPAN superframes. Next, towards routing data packets in multi-hop networks environment, we have discussed a simple yet effective scheme for bridging between two CPANs. The main feature of the proposed bridging scheme is that the bridge is free to remain in a given CPAN as long as it takes to deliver all the data originating from the other CPAN and to collect all the data to be delivered there, without a predefined schedule which means that CPANs need not be synchronized with each other. Through probabilistic analysis and renewal theory, we have obtained complete probability distribution for service cycle time, bridge cycle time, and end-to-end packet delays for both intra- and inter-CPAN traf- fic. Experiments have confirmed the validity of the scheme, but they have also shown that the CPANs are not fully decoupled, as the performance of one of the CPANs depends on local as well as non-local traffic intensity. Furthermore, the PU activity greatly influences the performance of CRNs since the PU is the owner of the channel and may active on its channel at any time. All of the proposed models, we have also considered the impact of collisions with primary users on both bridge and other nodes transmissions.

152

Chapter 6: Conclusion

Our future work will focus on investigating this results more closely, namely on calculating the theoretical bounds for the time needed to form a piconet with a given number of nodes as well as the number of nodes that will join the time by a given deadline. Both these measures will be very useful in a number of CPAN applications, including emergency networks. The bridging scheme proposed here is not limited to two-CPAN networks. In a multi-CPAN network, bridging may be accomplished if each pair of CPANs has a common node; alternatively, a multi-hop scheme where the connection between CPANs may be direct or indirect is also possible. The main problem to be solved in this scenario is synchronization at two levels: first, at the level of CPANs. Namely, the coordinator of each CPAN needs to be aware of the channel maps of the coordinators of other CPANs. In the two-CPAN scenario, this may be accomplished through bridges, but the complexity and latency of the protocol increases with the number of CPANs. The problems arise when different CPANs perceive a different set of free channels, or when they are configured to use a different set of working channels; moreover, there may be a problem of hidden terminals as well. Second, bridges need to synchronize with CPANs they interconnect. The proposed solution in which a bridge connects two CPANs is shown to offer satisfactory performance; increasing the number of CPANs serviced by a single bridge to three or more would increase the overhead of the scheme without providing much in terms of benefits. All of these require careful evaluation and thorough analysis, which is why they offer a fruitful area for future work.

153

Bibliography
[1] M. Akkouchi. On the convolution of exponential distributions. Journal of the

Chungcheong Mathematical Society, 21(4):501­510, 2008. [2] I. F. Akyildiz, W.-Y. Lee, and K. Chowdhury. CRAHNs: Cognitive radio ad hoc networks. Ad Hoc Networks, 7(5):810­836, 2009. [3] I. F. Akyildiz, W.-Y. Lee, M. C. Vuran, and S. Mohanty. NeXt generation/dynamic spectrum access/cognitive radio wireless networks: A survey. Computer Networks, 50:2127­2159, 2006. [4] I. F. Akyildiz, B. F. Lo, and R. Balakrishnan. Cooperative spectrum sensing in cognitive radio networks: A survey. Physical communication, 4(1):40­62, 2011. [5] ANSI/IEEE. Standard for part 22: Cognitive wireless RAN medium access control (MAC) and physical layer (PHY) specifications: Policies and procedures for operation in the TV bands. IEEE Std 802.22-11, IEEE, New York, NY, 2011. [6] S. Atapattu, C. Tellambura, and H. Jiang. Energy detection based cooperative spectrum sensing in cognitive radio networks. IEEE Transactions on Wireless Communications, 10(4):1232­1241, 2011. 154

Bibliography

[7] A. S. Cacciapuoti, I. F. Akyildiz, and L. Paura. Optimal primary-user mobility aware spectrum sensing design for cognitive radio networks. IEEE Journal on Selected Areas in Communications, 31(11):2161­2172, 2013. [8] G. Y. Chang, W. H. Teng, H. Y. Chen, and J. P. Sheu. Novel channel-hopping schemes for cognitive radio networks. IEEE Transactions on Mobile Computing, 13(2):407­ 421, 2014. [9] L. Chen, K. Bian, L. Chen, C. Liu, J. M. J. Park, and X. Li. A group-theoretic framework for rendezvous in heterogeneous cognitive radio networks. In Proceedings of the 15th ACM International Symposium on Mobile ad hoc Networking and Computing, pages 165­174. ACM, 2014. [10] S. Chen, A. Russell, A. Samanta, and R. Sundaram. Deterministic blind rendezvous in cognitive radio networks. In 2014 IEEE 34th International Conference on Distributed Computing Systems (ICDCS), pages 358­367. IEEE, 2014. [11] I. H. Chuang, H. Y. Wu, and Y. H. Kuo. A fast blind rendezvous method by alternate hop-and-wait channel hopping in cognitive radio networks. IEEE Transactions on Mobile Computing, 13(10):2171­2184, 2014. [12] F. C. Commission et al. Unlicensed operation in the tv broadcast bands. ET Docket, (04-186 and 02380), 2008. [13] C. Cordeiro, K. Challapali, and M. Ghosh. Cognitive PHY and MAC layers for dynamic spectrum access and sharing of TV bands. In Proc. Int'l Workshop on Technology And Policy for Accessing Spectrum (TAPAS), Boston, MA, 2006.

155

Bibliography

[14] A. De Domenico, E. C. Strinati, and M. G. Di Benedetto. A survey on MAC strategies for cognitive radio networks. IEEE Communications Surveys & Tutorials, 14(1):21­ 44, 2012. [15] R. Fan, J. An, H. Jiang, and X. Bu. Adaptive channel selection and slot length configuration in cognitive radio. Wireless Communications and Mobile Computing, 16(16):2636­2648, 2016. [16] FCC. Notice of proposed rule making and order. ET Docket No 03-322, Dec. 2003. [17] I. Filippini, E. Ekici, and M. Cesana. A new outlook on routing in cognitive radio networks: Minimum-maintenance-cost routing. IEEE/ACM Transactions on Networking (TON), 21(5):1484­1498, 2013. [18] C. Forbes, M. Evans, N. Hastings, and B. Peacock. Statistical distributions. John Wiley & Sons, 2011. [19] L. Gavrilovska and V. Atanasovski. Spectrum sensing framework for cognitive radio networks. Wireless Personal Communications, 59(3):447­469, 2011. [20] A. Ghasemi and E. S. Sousa. Fundamental limits of spectrum-sharing in fading environments. IEEE Transactions on Wireless Communications, 6(2):649­658, 2007. [21] C. M. Grinstead and J. L. Snell. Introduction to Probability. American Mathematical Society, 2nd edition, 1998. [22] Z. Gu, Q. S. Hua, and W. Dai. Local sequence based rendezvous algorithms for cognitive radio networks. In 2014 Eleventh Annual IEEE International Conference on Sensing, Communication, and Networking (SECON), pages 194­202. IEEE, 2014. 156

Bibliography

[23] E. Guerra, V. Reguera, R. Souza, G. Brante, and E. Fernandez. Simple role-based rendezvous algorithm for cognitive ad hoc radio networks. 50(3):182­184, 2014. [24] S. Haykin. Cognitive radio: brain-empowered wireless communications. IEEE journal on selected areas in communications, 23(2):201­220, 2005. [25] D. P. Heyman and M. J. Sobel. Stochastic Models in Operations Research, Volume I: Stochastic Processes and Operating Characteristics. McGraw-Hill, New York, 1982. [26] D. T. Hoang, D. Niyato, P. Wang, and D. I. Kim. Performance optimization for cooperative multiuser cognitive radio networks with rf energy harvesting capability. IEEE Transactions on Wireless Communications, 14(7):3614­3629, 2015. [27] X. Huang, D. Lu, P. Li, and Y. Fang. Coolest path: Spectrum mobility aware routing metrics in cognitive ad hoc networks. In Distributed Computing Systems (ICDCS), 2011 31st International Conference on, pages 182­191. IEEE, 2011. [28] IEEE. Wireless MAC and PHY specifications for high rate WPAN. IEEE Std 802.15.3, IEEE, New York, NY, 2003. [29] C. Jiang, Y. Chen, Y. Gao, and K. R. Liu. Joint spectrum sensing and access evolutionary game in cognitive radio networks. IEEE transactions on wireless communications, 12(5):2470­2483, 2013. [30] H. Kim and K. G. Shin. In-band spectrum sensing in cognitive radio networks: energy detection or feature detection? In Proceedings of the 14th ACM international conference on Mobile computing and networking, pages 14­25. ACM, 2008. 157 Electronics Letters,

Bibliography

[31] L. J. Kleinrock. Queuing Systems, volume I: Theory. John Wiley and Sons, New York, 1972. [32] K. Lan, H. Zhao, J. Zhang, C. Long, and M. Luo. A spectrum prediction approach based on neural networks optimized by genetic algorithm in cognitive radio networks. In Wireless Communications, Networking and Mobile Computing (WiCOM 2014), 10th International Conference on, pages 131­136. IET, 2014. [33] D. H. Lee, W. S. Jeon, D. G. Jeong, and G. Ko. Self-coexistence techniques for cognitive radio lans/pans. In 21st Annual IEEE International Symposium on Personal, Indoor and Mobile Radio Communications, pages 1516­1520. IEEE, 2010. [34] P. K. Lee. Joint frequency hopping and adaptive spectrum exploitation. In IEEE Military Communications Conference MILCOM2001, volume 1, pages 566­570, Washington, DC, Oct. 2001. [35] S. Li, Z. Zheng, E. Ekici, and N. Shroff. Maximizing system throughput by cooperative sensing in cognitive radio networks. IEEE/ACM Transactions on Networking (TON), 22(4):1245­1256, 2014. [36] Y.-C. Liang, K.-C. Chen, G. Y. Li, and P. Mahonen. Cognitive radio networking and communications: An overview. IEEE Transactions on Vehicular Technology, 60(7):3386­3407, 2011. [37] Y.-C. Liang, Y. Zeng, E. Peh, and A. T. Hoang. Sensing-throughput tradeoff for cognitive radio networks. IEEE Transactions on Wireless Communications, 7(4):1326­ 1337, Apr. 2008.

158

Bibliography

[38] H. Liu, Z. Lin, X. Chu, and Y. W. Leung. Taxonomy and challenges of rendezvous algorithms in cognitive radio networks. In Computing, Networking and Communications (ICNC), 2012 International Conference on, pages 645­649. IEEE, 2012. [39] Q. Liu, X. Wang, B. Han, X. Wang, and X. Zhou. Access delay of cognitive radio networks based on asynchronous channel-hopping rendezvous and CSMA/CA MAC. IEEE Transactions on Vehicular Technology, 64(3):1105­1119, 2015. [40] Y. Liu, L. X. Cai, and X. Shen. Spectrum-aware opportunistic routing in multihop cognitive radio networks. Selected Areas in Communications, IEEE Journal on, 30(10):1958­1968, 2012. [41] X. Lu, P. Wang, D. Niyato, and E. Hossain. Dynamic spectrum access in cognitive radio networks with rf energy harvesting. IEEE Wireless Communications, 21(3):102­ 110, 2014. [42] S. Maleki and G. Leus. Censored truncated sequential spectrum sensing for cognitive radio networks. IEEE Journal on Selected Areas in Communications, 31(3):364­378, 2013. [43] Maplesoft, Inc. Maple 16. Waterloo, ON, Canada, 2013. [44] A. Mariani, A. Giorgetti, and M. Chiani. Effects of noise power estimation on energy detection for cognitive radio applications. IEEE Transactions on Communications, 59(12):3410­3420, 2011. [45] R. K. McLean, M. D. Silvius, K. M. Hopkinson, B. N. Flatley, E. S. Hennessey, C. C. Medve, J. J. Thompson, M. R. Tolson, and C. V. Dalton. An architecture for 159

Bibliography

coexistence with multiple users in frequency hopping cognitive radio networks. IEEE Journal on Selected Areas in Communications, 32(3):563­571, 2014. [46] J. Mi si´ c and V. B. Mi si´ c. Performance of cooperative sensing at the MAC level: Error minimization through differential sensing. IEEE Transactions on Vehicular Technology, 58(5):2457­2470, June 2009. [47] J. Mi si´ c and V. B. Mi si´ c. Simple and efficient MAC for cognitive wireless personal area networks. In Proc. Global Telecommunications Conference GLOBECOM'09, Honolulu, HI, Nov. 2009. [48] J. Mi si´ c and V. B. Mi si´ c. Probabilistic vs. sequence-based rendezvous in channelhopping cognitive networks. IEEE Transactions on Parallel and Distributed Systems, 25(9):2418­2427, 2014. [49] J. Mi si´ c and V. B. Mi si´ c. Recovery in channel-hopping cognitive networks under random primary-user activity. IEEE Transactions on Vehicular Technology, 63(5):2392­ 2406, 2014. [50] J. Mi si´ c, V. B. Mi si´ c, and M. S. I. Khan. On the selection of working channels in a channel-hopping cognitive PAN. In 9th Int. Wireless Communications and Mobile Computing Conf. (IWCMC 2013), Cagliari, Sardinia, Italy, July 2013. [51] V. B. Misic and J. Misic. Cognitive MAC protocol with transmission tax: Dynamically adjusting sensing and data performance. In Global Telecommunications Conference (GLOBECOM 2010), 2010 IEEE, pages 1­5. IEEE, 2010.

160

Bibliography

[52] P. G. Moschopoulos. The distribution of the sum of independent gamma random variables. Annals of the Institute of Statistical Mathematics, 37(1):541­544, 1985. [53] L. Musavian and S. Aissa. Ergodic and outage capacities of spectrum-sharing systems in fading channels. In IEEE GLOBECOM 2007-IEEE Global Telecommunications Conference, pages 3327­3331. IEEE, 2007. [54] M. Pan, P. Li, Y. Song, Y. Fang, and P. Lin. Spectrum clouds: A session based spectrum trading system for multi-hop cognitive radio networks. In INFOCOM, 2012 Proceedings IEEE, pages 1557­1565. IEEE, 2012. [55] M. Pan, C. Zhang, P. Li, and Y. Fang. Joint routing and link scheduling for cognitive radio networks under uncertain spectrum supply. In INFOCOM, 2011 Proceedings IEEE, pages 2237­2245. IEEE, 2011. [56] R. Paul, Y. Z. Jembre, and Y.-J. Choi. Multi-interface rendezvous in self-organizing cognitive radio networks. In Dynamic Spectrum Access Networks (DYSPAN), 2014 IEEE International Symposium on, pages 531­540. IEEE, 2014. [57] Z. Quan, S. Cui, and A. H. Sayed. Optimal linear cooperation for spectrum sensing in cognitive radio networks. IEEE Journal of selected topics in signal processing, 2(1):28­40, 2008. [58] Z. Quan, D. Li, and Y. Gong. Cooperative signal classification using spectral correlation function in cognitive radio networks. In Communications (ICC), 2016 IEEE International Conference on, pages 1­6. IEEE, 2016.

161

Bibliography

[59] Z. Quan, W. Zhang, S. J. Shellhammer, and A. H. Sayed. Optimal spectral feature detection for spectrum sensing at very low snr. IEEE Transactions on Communications, 59(1):201­212, 2011. [60] M. M. Rahman, J. Mi si´ c, and V. B. Mi si´ c. Performance of bridging in cognitive wireless personal area networks. In IEEE Conference on Wireless Communications and Networking Conference (WCNC 2015), New Orleans, LA, The USA, Mar. 2015. [61] S. Romaszko, W. Torfs, P. M¨ ah¨ onen, and C. Blondia. AND: Asynchronous neighborhood discovery protocols for opportunistic cognitive wireless networks. In 2014 IEEE Wireless Communications and Networking Conference (WCNC), pages 2043­ 2048. IEEE, 2014. [62] Y. Saleem, F. Salim, and M. H. Rehmani. Routing and channel selection from cognitive radio networks perspective: A survey. Computers & Electrical Engineering, 42:117­134, 2015. [63] S. Sengupta and K. Subbalakshmi. Open research issues in multi-hop cognitive radio networks. IEEE Communications Magazine, 51(4):168­176, 2013. [64] G. A. Shah, V. C. Gungor, and O. B. Akan. A cross-layer qos-aware communication framework in cognitive radio sensor networks for smart grid applications. IEEE Transactions on Industrial Informatics, 9(3):1477­1485, 2013. [65] J. P. Sheu, C. W. Su, and G. Y. Chang. Asynchronous quorum-based blind rendezvous schemes for cognitive radio networks. IEEE Transactions on Communications, 64(3):918­930, 2016.

162

Bibliography

[66] C.-F. Shih, W. Liao, and H.-L. Chao. Joint routing and spectrum allocation for multihop cognitive radio networks with route robustness consideration. IEEE Transactions on Wireless Communications, 10(9):2940­2949, 2011. [67] H. Sun, A. Nallanathan, C.-X. Wang, and Y. Chen. Wideband spectrum sensing for cognitive radio networks: a survey. IEEE Wireless Communications, 20(2):74­81, 2013. [68] H. Takagi. Queueing Analysis, volume 1: Vacation and Priority Systems. NorthHolland, Amsterdam, The Netherlands, 1991. [69] H. Tan, J. Yu, H. Liang, R. Wang, and Z. Han. Optimal rendezvous strategies for different environments in cognitive radio networks. In Proceedings of the 18th ACM International Conference on Modeling, Analysis and Simulation of Wireless and Mobile Systems, pages 65­72. ACM, 2015. [70] H. Tang. Some physical layer issues of wide-band cognitive radio systems. In First IEEE International Symposium on New Frontiers in Dynamic Spectrum Access Networks, 2005. DySPAN 2005., pages 151­159. IEEE, 2005. [71] X. Tang, Y. Chang, and K. Zhou. Geographical opportunistic routing in dynamic multi-hop cognitive radio networks. In Computing, Communications and Applications Conference (ComComAp), 2012, pages 256­261. IEEE, 2012. [72] The MathWorks Inc. MATLAB R2013a. Natick, MA, USA, 2013. [73] N. C. Theis, R. W. Thomas, and L. A. DaSilva. Rendezvous for cognitive radios. IEEE Transactions on Mobile Computing, 10(2):216­227, 2011. 163

Bibliography

[74] K. G. M. Thilina, E. Hossain, and D. I. Kim. DCCC-MAC: A dynamic commoncontrol-channel-based MAC protocol for cellular cognitive radio networks. IEEE Transactions on Vehicular Technology, 65(5):3597­3613, 2016. [75] P.-K. Tseng, W.-H. Chung, and P.-C. Hsiu. Minimum interference topology construction for robust multi-hop cognitive radio networks. In 2013 IEEE Wireless Communications and Networking Conference (WCNC), pages 101­105. IEEE, 2013. [76] J. Wang, M. S. Song, S. Santhiveeran, K. Lim, G. Ko, K. Kim, S. H. Hwang, M. Ghosh, V. Gaddam, and K. Challapali. First cognitive radio networking standard for personal/portable devices in TV white spaces. In New Frontiers in Dynamic Spectrum, 2010 IEEE Symposium on, pages 1­12. IEEE, 2010. [77] Z. Wei, Z. Feng, Q. Zhang, and W. Li. Three regions for space­time spectrum sensing and access in cognitive radio networks. IEEE Transactions on Vehicular Technology, 64(6):2448­2462, 2015. [78] C. M. Wu, H. K. Su, M. L. Leou, Y. C. Liaw, and C. P. Lo. Cooperative power and contention control MAC protocol in multichannel cognitive radio ad hoc networks. In Proceedings of the 2014 Eighth International Conference on Innovative Mobile and Internet Services in Ubiquitous Computing, pages 305­309. IEEE Computer Society, 2014. [79] Q. Wu, G. Ding, J. Wang, and Y.-D. Yao. Spatial-temporal opportunity detection for spectrum-heterogeneous cognitive radio networks: two-dimensional sensing. IEEE Transactions on Wireless Communications, 12(2):516­526, 2013.

164

Bibliography

[80] X. Xing, T. Jing, W. Cheng, Y. Huo, and X. Cheng. Spectrum prediction in cognitive radio networks. IEEE Wireless Communications, 20(2):90­96, 2013. [81] D. Xue, E. Ekici, and M. C. Vuran. Cooperative spectrum sensing in cognitive radio networks using multidimensional correlations. IEEE Transactions on Wireless Communications, 13(4):1832­1843, 2014. [82] M. Youssef, M. Ibrahim, M. Abdelatif, L. Chen, and A. V. Vasilakos. Routing metrics of cognitive radio networks: A survey. IEEE Communications Surveys & Tutorials, 16(1):92­109, 2014. [83] L. Yu, H. Liu, Y. W. Leung, X. Chu, and Z. Lin. Multiple radios for fast rendezvous in cognitive radio networks. IEEE Transactions on Mobile Computing, 14(9):1917­ 1931, 2015. [84] T. Yucek and H. Arslan. A survey of spectrum sensing algorithms for cognitive radio applications. IEEE communications surveys & tutorials, 11(1):116­130, 2009. [85] Y. Zhang, G. Yu, Q. Li, H. Wang, X. Zhu, and B. Wang. Channel-hopping-based communication rendezvous in cognitive radio networks. IEEE/ACM Transactions on Networking, 22(3):889­902, 2014. [86] J. Zhao and G. Cao. Robust topology control in multi-hop cognitive radio networks. IEEE Transactions on Mobile Computing, 13(11):2634­2647, 2014. [87] Q. Zhao and A. Swami. A decision-theoretic framework for opportunistic spectrum access. IEEE Wireless Communications, 14(4):14­20, 2007.

165

