sensors
Article

Resource Management in Energy Harvesting Cooperative IoT Network under QoS Constraints
Maliha Amjad 1 , Ashfaq Ahmed 1 , Muhammad Naeem 1 , Muhammad Awais 1 , Waleed Ejaz 2 and Alagan Anpalagan 3, *
1

2 3

*

Department of Electrical & Computer Engineering, COMSATS University Islamabad, Wah Campus, Wah Cantonment 47040, Pakistan; malihaamjad@ciitwah.edu.pk (M.A.); ashfaqahmed@ciitwah.edu.pk (A.A.); mnaeem@ciitwah.edu.pk (M.N.); muhammadawais@ciitwah.edu.pk (M.A.) Department of Applied Science & Engineering, Thompson Rivers University (TRU), Kamloops, BC V2C 0C8, Canada; waleed.ejaz@ieee.org Department of Electrical and Computer Engineering, Ryerson University, Toronto, ON M5B 2K3, Canada Correspondence: alagan@ee.ryerson.ca

Received: 26 September 2018; Accepted: 17 October 2018; Published: 20 October 2018

Abstract: Cooperative communication with RF energy harvesting relays has emerged as a promising technique to improve the reliability, coverage, longevity and capacity of future IoT networks. An efficient relay assignment with proper power allocation and splitting is required to satisfy the network's QoS requirements. This work considers the resource management problem in decode and forward relay based cooperative IoT network. A realistic mathematical model is proposed for joint user admission, relay assignment, power allocation and splitting ratio selection problem. The optimization problem is a mixed integer non-linear problem (MINLP) whose objective is to maximize the overall sum rate (bps) while satisfying the practical network constraints. Further, an outer approximation algorithm is adopted which provides epsilon-optimal solution to the problem with guaranteed convergence and reasonable complexity. Simulations of the proposed solution are carried out for various network scenarios. The simulation results demonstrate that cooperative communication with diversity achieves a better admission of IoT users and increases not only their individual data rates but also the overall sum rate of an IoT network. Keywords: energy harvesting; IoT; resource management; cooperative communication

1. Introduction Internet of Things (IoT) is an emerging paradigm which refers to a set of uniquely identifiable devices, capable of communication on a large scale via Internet. The IoT devices perform tasks in a wide range of applications which include smart homes, connected vehicles, industrial automation, environment monitoring, remote asset control, smart hospitals, and many more. One striking application of IoT concept is the wireless sensor network (WSN) in which IoT devices are typically equipped with sensors, controller, wireless transceiver and energy source. These devices have capability of monitoring several physical parameters (e.g., temperature, pressure, humidity, etc.) of their surroundings. In a practical WSN, a massive number of heterogenous sensor devices are deployed over a large geographical area. Each device works autonomously and transmits its data cooperatively by the network to a centralized location for processing or storage. One of the important challenges to realize massive WSNs is to supply sufficient energy to fulfill their QoS requirements. Mostly, the WSN devices are battery powered with limited resources and deployed at remote locations which lack facility of direct power source or battery replacement.

Sensors 2018, 18, 3560; doi:10.3390/s18103560

www.mdpi.com/journal/sensors

Sensors 2018, 18, 3560

2 of 19

Moreover, the massive data processing and continuous transmission by a WSN device, makes it susceptible to energy depletion. Therefore, improving the energy efficiency of a WSN is mandatory to ensure its long-term and self sustainable operation. Several methods have been proposed in this context, including lightweight communication protocols [1] and smart transceiver designs [2]. Energy harvesting from ambient sources is a promising solution to increase the longevity of WSN devices. For large size applications, exploitation of energy has been maturely done from conventional renewable sources, e.g., solar, wind and geothermal [3]. However, the energy provided by these sources is dependent upon natural conditions and cannot be used in situations where QoS is of prime concern. Moreover, energy harvesters for conventional sources are not compatible with miniature wireless sensor nodes [4]. RF energy harvesting (RF-EH) is an attractive approach to power nodes in emerging WSNs [5]. It provides some key benefits including low cost, always availability and small form factor implementation of energy harvester. An important characteristic of RF-EH is that RF signal allows simultaneous wireless information and power transfer (SWIPT). This allows power constrained devices to harvest energy from RF signal as well as process the useful information contained in it. SWIPT has been successfully applied in a number of low power cellular network scenarios [6­8]. Cooperative communication (CC) is a promising technique to enhance the coverage and capacity of wireless networks. A cooperative wireless network consists of relay nodes which assist in information transfer between the source and destination. Typically, the idle users in the network serve as relays and spend their own energy to help active users, leading to decrease in their battery life. Incorporating EH in relays helps to improve the efficiency and reliability of networks with power and QoS constraints. Two commonly used relaying strategies in CC are: (a) amplify and forward (AF); and (b) decode and forward (DF). An AF relay simply amplifies the received signal and retransmits it. On the other hand, a DF relay decodes, re-modulates and re-transmits the received signal. In practical DF-EH relays, energy harvesting and information decoding steps are performed separately using time-switching or power-splitting techniques [9,10]. This is because practical circuits cannot perform energy harvesting and data processing from the same signal simultaneously. Depending upon the scenario, a relay may be able to support simplex, half duplex or full duplex communication in a point-to-point or multi-hop network. 2. Literature Review Significant research effort has been devoted in the domain of resource management in EH cooperative networks. This section discusses some remarkable contributions in this domain. A detailed summary of few recent works is presented in Table 1. The existing works are evaluated on the basis of various characteristics which include network type i.e., single or multi relay, EH capability, support for joint power allocation and user admission, modeling of network's QoS constraints, nature of optimization problem and proposed solution. In Ref. [11], continuous time and discrete time EH protocols are proposed for AF and DF relay networks. A single source-single relay network model is considered. The work proposes that continuous time EH can be performed on any percentage of block transmission time, whereas in discrete time EH, the whole block is used exclusively for EH or information transfer. A multi-relay cooperative network is considered in Ref. [12] which proposes a greedy algorithm to solve the power allocation for sum rate maximization problem. In Ref. [13], a SWIPT based cooperative network with multiple AF relays is considered for joint relay assignment and power allocation problem. Further, a heuristic is proposed to obtain the solution. In Ref. [14], a non convex optimization problem is formulated for power allocation in a network with QoS constraints and solved with the help of a heuristic. The work in Ref. [15] models the joint relay assignment and power allocation problem as a convex optimization problem and proposes a heuristic to obtain the solution. In Ref. [16], the authors proposed a performance evaluation framework for various relay selection schemes in beacon assisted dual hop cognitive radio networks. In Ref. [17], the authors studied the throughput maximization problem for the orthogonal relay channel with EH source and relay nodes, assuming a deterministic EH model. In Ref. [18], the joint time switching and power

Sensors 2018, 18, 3560

3 of 19

allocation optimization problem is investigated for multi-carrier DF relay network with time splitting based relaying. The work in Ref. [19] investigates the maximum transmission rate of PSR/TSR protocols in EH-DF based relay networks. The work considers a single relay network model and formulates the sum rate maximization problem as a convex optimization problem. The work in Ref. [20] investigates the optimal power allocation for two-way half-duplex relaying channel with DF relays. Further, the work solves the throughput maximization problem using subgradient descent algorithm. In Ref. [21], simultaneous wireless power transfer and secure multicasting is considered for DF multi relay network in the presence of multiple energy receivers and eavesdroppers. In Ref. [22], the authors proposed a joint resource allocation for SWIPT based DF relay networks, where the relay adopts a "harvest-then-use" strategy to forward information. To ease the implementation cost, a greedy algorithm for antenna clustering is proposed where the relay antennas are partitioned into two disjoint groups; one for information decoding and the other for energy harvesting. In Ref. [23], a wireless energy harvesting protocol for an underlay cognitive relay network with multiple primary users is proposed. In Ref. [24], SWIPT multi-relay assisted two-hop cooperative network is considered using power splitting DF relays. The convex problem of relay assignment is solved using an interior-point method. The work in Ref. [25] considers a relay assisted network with multiple source-destination pairs and a hybrid relay node. A charge-then-forward protocol is investigated in which the hybrid relay with constant supply first acts as an energy transmitter to charge the sources, and then forwards the information from the sources to their destinations through frequency division multiple access. The optimization problem maximizes the sum rate of all transmission pairs by jointly optimizing the time, frequency and power resources. Further, the problem is solved using the Lagrange duality method. In Ref. [26], the authors studied the joint optimization problem of transmit power and power splitting ratio to maximize the sum rate of cognitive sensor network by considering the interference constraint. In Ref. [27], the sum rate maximization problem is considered for EH MIMO system with underlay spectrum sharing. In Ref. [28], a transmission scheduling scheme is proposed to maximize the packed delivery ratio of multi-terminal cooperative EH networks. Joint achievement of self-backhaul and energy harvesting in small cell networks is studied in Ref. [29]. In Ref. [30], the authors proposed greedy maximal scheduling algorithm for multi-user multi-task computation offloading in green mobile edge cloud computing. The work in Ref. [31] proposes an approach for solving the power and spectrum issues in WSN deployed in hostile environment by harvesting power and spectrum from primary user. Long-term average sum error rate minimization problem for the cooperative network with DF-EH relay node is investigated in Ref. [32]. The energy harvesting and wireless energy transferring networks that were coded over finite field has been studied in Ref. [33], where the energy efficiency was maximized under energy causality and outage probability constraints. The literature summary in Table 1 demonstrates that almost all existing works focus only on one or limited aspects of resource management in EH cooperative networks. In contrast, this work proposes a more realistic mathematical framework which jointly optimizes the user admission, relay assignment, transmit power allocation and selection of power split ratio, and maximizes the overall network sum rate by considering not only the QoS but also practical network constraints. The detailed model is discussed in text that follows.

Sensors 2018, 18, 3560

4 of 19

Table 1. Literature review of resource management in EH cooperative networks.
Ref. [11] [12] [13] [14] [15] [16] [17] [18] [19] [20] [21] [22] [23] [24] [25] [26] [27] [28] [29] [30] [31] [32] [33] This work Relay Single Multiple EH Power Alloc. Admission Control QoS Multi-User Optimization Type Solution Method Analytical Greedy algorithm Heuristic Heuristic Heuristic Analytical Heuristic Heuristic Analytical Iterative subgradient descent method Semidefinite relaxation & bisection techniques Greedy clustering algorithm Analytical Interior-point method Lagrange duality method Heuristic Asymptotic Heuristic Iterative heuristic algorithm Greedy maximal scheduling algorithms

convex non-convex convex convex convex convex concave convex convex non-convex MINLP

MINLP

MINLP MINLP

Convex form-based iterative algorithm Heuristic

Sensors 2018, 18, 3560

5 of 19

3. System Model This work considers an IoT enabled cooperative WSN scenario. Figure 1 demonstrates an example of such network where a single source node communicates with multiple IoT enabled destination nodes through a network of relay nodes. The source is a SWIPT node, whereas each relay is an energy harvesting DF relay. Practically, any IoT enabled device (e.g., smart phone, fixed or drone base station) can be used to relay information in cooperative communication and may or may not have its own energy source. However, this work assumes that each relay completely relies on energy harvested from the incoming RF signal. A DF relay i receives a noise corrupted RF signal with power Pi from the source node and splits it into two power components with a ratio i  [0, 1]. One portion of the signal (with power i Pi ) is used for energy harvesting with efficiency   [0, 1], whereas the other portion (with power (1 - i ) Pi ) undergoes signal processing and decoding steps. The energy harvester produces a signal power of i Pi at its output. This harvested signal is further split in two power components with a ratio . One component (i.e., (1 - )i Pi ) of harvested power is used to energize the signal processing and decoding circuits, whereas the other component (i.e., i Pi ) is added to the decoded signal for retransmission. In the network of Figure 1, three cases of communication can be considered: (1) non-cooperative (NC), where the source node communicates with the destination note through a direct link only; (2) cooperative without diversity, where the source communicates with destination node through relay node only; and (3) cooperative with diversity, where the source communicates with destination nodes (in the rest of the paper, the IoT destination nodes are simply called users) using both direct link and relay. For each symbol duration T of RF signal, the DF relay harvests energy in the first half slot (of duration T 2 ) and performs retransmission in the second half slot. A cooperative multi-relay scenario offers several advantages which include more network reliability, more admitted IoT users and increasing each user's individual as well as network's overall data rate. Let K denote the number of users and R denote the number of relays in the cooperative IoT network. The harvested energy at the rth relay for the kth user frequency band during first half slot T /2 is given as [14],
k 2T Erk , H = r r Ps | hsr | 2

(1)

where r is power splitting ratio at relay r, |hsr | is the complex channel gain between source and relay r and r is the energy harvesting efficiency of relay r. r portion of harvested energy is transmitted in second half slot T /2. The corresponding transmit power from rth relay to kth user is Prk = r r r Psk |hsr |2 T r Erk 2 H = = r r Psk |hsr |2 T /2 T /2 (2)

The data rate of communication link with CC without diversity from source to kth user with energy harvesting DF relay is given as [11],
WoDiv Cr =

1 min 2

log2

1+

|(1 - r )|hsr |2 Psk 2 sr

, log2

1+

|hrk |2 Prk |hsk |2 Psk + 2 2 rk sk

(3)

2 , 2 are the noise contributions in channel where Psk is the transmit power from source to user k, sr rk from source to relay r and relay to user k respectively. The 1 2 term indicates the half-duplex mode of transmission. In Equation (3), the first term indicates the rate of channel between the source and relay r, whereas the second term indicates the rate of channel between relay r and the user k. To avoid congestion, the overall transmission rate for user k is the minimum of two rates. In the case of CC with diversity, the effective date rate from source to user k with maximum ratio combining is given as,

Sensors 2018, 18, 3560

6 of 19

Div Ck =

1 log2 2

1+

|hsk |2 Psk 2 sr

WoDiv + Cr

(4)

Putting the value of Prk from Equation (2) into Equation (3), Equation (4) becomes,
WoDiv Cr = min

1 2

log2

1+

(1 - r )|hsr |2 Psk 2 sr

, log2

1+

| h |2 P k r  Psk r |hsr |2 |hrk |2 + sk 2 s 2 rk sk

(5)

To satisfy the QoS requirements of an energy harvesting cooperative network, the main challenge is efficient user to relay assignment with best possible power allocation and splitting.

Temp. & Humidity Sensor

Antenna
Antenna Noise

Signal Processing Noise

Relay 1
Antenna Signal Processing & Decoding

Motion Sensor

+

+

Energy Harvesting

Fuel Sensor

Antenna

Signal Processing Noise
+

Relay 2
Antenna
Signal Processing & Decoding

.......................

RFID Sensor

Source

Antenna Noise +

Energy Harvesting

Radiation Sensor

......

Flood Sensor

Antenna Antenna Noise

Signal Processing Noise
+

Relay R
Antenna
Signal Processing & Decoding
CO2 Sensor

+

Energy Harvesting
Pressure Sensor

Wireless Sensor

Figure 1. Example scenario of a multi-relay architecture.

3.1. Problem Formulation This work presents a realistic mathematical model for resource management in cooperative IoT network with energy harvesting. The work models the joint relay assignment, source power and power splitting ratio selection problem while considering the practical network constraints. Table 2

Sensors 2018, 18, 3560

7 of 19

summarizes the main notations and symbols used in the formulation. The mathematical model is described as follows.
Table 2. Notations. Symbol K R 1 Ck 2 Ck k xr r k Ps max Ps Rk hsr hrk B 2 sr 2 sk 2 rk   Definition Total No. of IoT users Total No. of relay nodes Achievable transmit rate at relay Achievable transmit rate at user Binary indicator showing relay-user association Source power splitting ratio between relay r and user k Source power between source and user k Maximum source power Rate for user k Channel gain between source and relay r Channel gain between relay and user k Bandwidth Variance of total noise from source s to relay r Variance of total noise from source s to user k Variance of total noise from relay r to user k Energy harvesting efficiency Fraction of harvested energy to forward signal

3.1.1. Given Parameters 1. 2. 3. 4. The total number of IoT users: K The number of potential relays: R The QoS (data rate) requirement of users: Rk k  {1, · · · , K } The maximum possible transmit power at the source: Psmax

3.1.2. Parameters to Determine 1. 2. 3. 4. The source power for each IoT user: Psk k  {1, · · · , K } The power splitting ratio at the relays: r r  {1, · · · , R} The selected users binary indicator vector y of size K. An entry yk  y is a "1" if user k is selected and "0" otherwise k  X is a "1" if The users to relays assignment binary matrix X of dimension K × R. An entry xr user k is assigned to relay R and "0" otherwise

3.1.3. Constraints · · · · · · Selected IoT device must satisfy the QoS constraint, i.e., minimum data rate Total transmit power must be upper bounded by a specified threshold Source power for kth band should be zero if kth IoT user is not selected for transmission Power splitting ratio should be zero if relay is not assigned to any IoT user Relay assignment constraint, i.e., one relay must be assigned to at most one user at a time Power splitting ratio constraint

3.1.4. Objective · Obtain the best unknown parameters which maximize the network sum rate while satisfying the constraints

Sensors 2018, 18, 3560

8 of 19

Mathematically, the joint user-relay assignment, source power and splitting ratio selection problem is formulated as: OP1 : max

X,,Ps ,y

k =1



K

1 log2 2

1+

|hsk |2 Psk 2 sr

+

r =1

 CrWoDiv

R

subject to: C1 : C2 : 1 log2 2
K

1+

|hsk |2 Psk 2 sr

+

r =1

 CrWoDiv  yk Rk ,

R

k

k =1

 Psk  Psmax  xrk ,
K

C3 : Psk  yk Psmax , r, k C 4 : r 
R

(6)

 r, k k r

k =1

C5 : C6 : C7 :

r =1 K

 xrk  1 ,  xrk  1 ,

k =1 k xr 

yk  r, k

k C8 : r  [0, 1], xr  {0, 1}, yk  {0, 1} Psk  0 , r, k

The problem OP1 of Equation (6) is a mixed integer non-linear optimization problem (MINLP) which maximizes the network sum rate while obtaining the best unknown parameters X, , Ps , y. The overall data rate of the network is the sum of individual rates of all user-relay assignments. This work considers CC with diversity, i.e., an admitted user can be directly connected to the source as well as through the relay. Therefore, the total data rate achieved by the user is the sum of its rates for both links. The optimization problem is formulated considering the practical constraints as well as QoS requirements of the network. In the formulation, according to constraint C1, a user k can be admitted (i.e., yk = "1") only, if it achieves a certain minimum data rate. The minimum transmit rate is considered as QoS requirement in a number of published work [11,14,16,21]. The constraint C2 is the power budget constraint. It states that the total source power (which is equal to the sum of its transmit powers for all admitted users) must be upper bounded by a certain maximum value Psmax . According to constraint C3, the source can allocate transmit power for an admitted user only. The constraint C4 enforces that a relay r can perform energy harvesting (with power splitting ratio r ) only, if it is assigned. The constraints C5, C6 and C7 ensure that one to one relation ship exists between IoT users and relays i.e., no two users can be assigned to a same relay and not two relays can be assigned to a same user. According to constraint C8, the splitting ratio r for a relay r must be a real number from the interval [0, 1], where "0" value indicates the relay is not assigned to any user and "1" indicates that all power is dedicated for energy harvesting.

Sensors 2018, 18, 3560

9 of 19

WoDiv is minimum of two functions, we can rewrite the problem in Equation (6) as Since Cr

OP2 :

X ,  , P s ,y , 

max

1 log2 2 k =1



K

1+

|hsk |2 Psk 2 sr |hsk |2 Psk 2 sr |hsk |2 Psk 2 sr

+

r =1

k  r

R

subject to: C9 : 1 log2 2 1 log2 2 1 log2 2 1 log2 2 1+

(1 - r )|hsr |2 Psk 1 + log2 1 + 2 2 sr

 yk Rk ,  k  yk Rk ,  k

C10 : C11 : C12 :

1+ 1+ 1+

| h |2 P k 1 r  Psk |hsr |2 |hrk |2 + sk 2 s + log2 1 + 2 2 rk sk
k  r ,  r, k

(7)

(1 - r )|hsr |2 Psk 2 sr

r  Psk |hsr |2 |hrk |2 | h |2 P k + sk 2 s 2 rk sk

k  r ,  r, k

C2 - C8 o f Equation (6)

By exploring the structure of the optimization problem, we can observe that the first part of the objective function is concave and second part is minimum of two BiConcave functions. The optimal solution must satisfy the following condition log2 or 1+

(1 - r )|hsr |2 Psk 2 sr

= log2 1 +

r  Psk |hsr |2 |hrk |2 |hsk |2 Psk + 2 2 rk sk

(8)

(1 - r )|hsr |2 r |hsr |2 |hrk |2 | h |2 = + sk 2 2 2 sr rk sk
Solving Equation (10) gives r =
|hsr |2 2 sr

(9)

-

|hsk |2 2 sk

|hsr |2 |hrk |2 2 rk

+

|hsr |2 2 sr

(10)

Taking into account the constraints C3 and C8 of Equation (6), the optimal value of power splitting factor will be    |hsr |2 |hsk |2  2 - 2    max  sr k =1 sk , 0 , if the xr  |hsr |2 |hrk |2 |hsr |2 r = (11) + 2  2 sr  rk  0, otherwise. The constraint optimization problem OP2 mentioned in Equation (7) is a mixed integer non-linear programming problem which are generally NP-Hard in nature. The main difficulty arises in solving these kind of problems is their combinatorial nature of the domain of discrete variables X  {0, 1} NK and y  {0, 1}K . Any choice of 0 or 1 for the discrete variables X and y results in a non-linear problem on the continuous variables , Ps which can be solved for its best solution. Figure 2 demonstrates a 3D plot of objective function OP2 of Equation (7) for six different cases of channel. For each case, the channel gain is obtained from a Rayleigh distribution. The figure shows that for all cases, the objective function is uni-modal, regular and its local maxima is the global maxima. One may apply brute-force approach to solve this problem but that is computationally expensive. For each discrete realization of X  {0, 1} NK and y  {0, 1}K variables, the optimizer needs to solve one non-linear programming problem (NLP). The search space for brute force approach is 2 NK , which grows exponentially with the number of IoT devices and relays. Keeping in view the structure of the optimization problem, we apply outer approximation algorithm (OAA) to solve MINLP problem.

Sensors 2018, 18, 3560

10 of 19

The proposed OAA gives - optimal solution with guaranteed convergence. In the next section, we present OAA to solve Equation (7).
(a) hsr > hrk > hsk (b) hsr > hsk > hrk (c) hrk > hsr > hsk

1

1

1

Normalized Rate

Normalized Rate

0.5

Normalized Rate
100 0.5 60 80 0 40

0.5

0.5

0 1 100 0.5 60 80 0 40

0 1

0 1 100 0.5 60 80 0 40



P s (dBm)



P s (dBm)



P s (dBm)

(d) hrk > hsk > hsr

(e) hsk > hrk > hsr

(f) hsk > hsr > hrk

1

1

1

Normalized Rate

Normalized Rate

0.5

0.5

Normalized Rate
100 0.5 60 80 0 40

0.5

0 1 100 0.5 60 80 0 40

0 1

0 1 100 0.5 60 80 0 40



P s (dBm)



P s (dBm)



P s (dBm)

Figure 2. Objective function for different channel scenarios.

4. Proposed Approach to a Solution Since the problem is challenging due to coupling of discrete integer domain with the continuous domain. If we exploit the structure of the problem OP2, it is observed that for discrete realization of variables the problem is a class of convex optimization problem for continuous domain. The proposed outer approximation algorithm works by decomposing the problem mentioned in Equation (7) into a sequence of non-linear subproblems and a sequence of mixed integer problems known as master problems [34,35]. The non-linear subproblem is obtained by fixing the binary integer decision variables X  {0, 1} NK and y  {0, 1}K in the original MINLP OP2. The non-linear subproblem known as primal problem gives upper bound for the original MINLP problem OP2. The master problem which is the linear approximation of the original MINLP OP2 provides the lower bound for the problem. The algorithm iteratively minimizes the gap between upper bound (primal problem) and lower bound (master problem) till the gap is less than some value . First, we define some symbols that represent the short form of the optimization problem. Let o and c be the objective function and set of constraints in Equation (7), respectively. One can easily verify that for any discrete realization of X  {0, 1} NK and y  {0, 1}K , the objective and constraints in Equation (7) are twice differentiable and the set of continuous variables is convex, compact and non-empty. With these properties of objective function and constraints, the proposed OAA will converge with parameter in finite number of iterations [35,36]. The proposed OAA is also applicable to non-convex problem but may get stuck in local optimal solution. The primal problem is obtained by fixing X and y variables. At the ith iteration of OAA, let the values of integer variable be Xi and yi . We can write the primal problem as: arg min - o X i , yi , , Ps
, Ps

(12) c X i , yi , , Ps  0.

subject to:

The solution obtained from Equation (12) is used for master problem. The primal problem generates the upper bound on the actual optimization problem. By solving master problem, we get the lower bound and discrete variables for the next iteration. The master problem derived across the solution is provided by the primal problem by applying outer approximation on the objective function

Sensors 2018, 18, 3560

11 of 19

o X i , yi , , Ps . The master problem is solved in two steps. At the start, a projection of Equation (7) is drawn on to X and y, min
X ,y

min - o X i , yi , , Ps
, Ps

(13) c X i , yi , , Ps  0.

subject to:

due to convexity of objective function and constraint, we subsequently linearize Equation (13) around X i , yi the functions o X i , yi , , Ps and c X i , yi , , Ps as o ( X , y, , Ps )  o X i , yi , , Ps + o X i , yi , , Ps  ( X , y, , Ps )  
c c

X - Xi Y - Yi X - Xi Y - Yi

(14)

X , y , , Ps + 

i

i

c

X , y , , Ps

i

i

with these approximations, the master problem in Equation (13) will be min
X ,y

min - o X i , yi , , Ps + o X i , yi , , Ps
, Ps

X - Xi Y - Yi

subject to:



c

X , y , , Ps + 

i

i

c

X , y , , Ps

i

i

X - Xi Y - Yi

(15)

 0.

The solution of the linearized problem mentioned in Equation (15) will give lower bound. The algorithm is iterated until the gap between upper bound from the primal problem and lower bound from the master problem is less thab . A flow chart of OAA is given in Figure 3.

Original Problem OP2

Initilize the values of X and y
ith iteration

Solve the Primal Problem with Known X and y to get upper bound U

Solve the Master Problem to get Lower bound L

Add integer cut to get new X and y

No

Yes Stop - optimal solution

Figure 3. OAA Flow chart.

Sensors 2018, 18, 3560

12 of 19

5. Simulation Results In this section, the simulation results are discussed. The following three scenarios have been simulated and are compared: 1. 2. 3. No cooperation, termed as NC Cooperation with diversity, termed as CDiv Cooperation without diversity, termed as CWoDiv

In Figures 4 and 5, the comparison is given for sum-rate with respect to K number of IoT devices, where K = {4, 8, 12, · · · , 28}, and R number of relays, where R = 2 and R = 10, respectively. The minimum device rate is 125 kbps in both cases. It is clear that the achieved sum-rate is always better in the case of cooperation in both cases. However, when comparing the two cases of R = 2 and R = 10 with all other same parameters, it is quite clear that, with more relays, the system is able to satisfy the QoS constraint, i.e., data rate, of more devices. In this way, more devices are admitted and eventually the sum-rate is increased. It is to be noted here that the channel between the devices in both cases discussed above is the same. It is also concluded that more relays provide more paths, hence granting more freedom for the communication. Overall, in all cases, the sum-rate is maximized when diversity is introduced. With more relays the difference between the cooperation and the non-cooperation has also increased because in cooperation more and more devices can be admitted. Therefore, the overall sum-rate can be increased by deploying more relays along with diversity.

10 8

NC CDiv CWo Div

10 7

SumRate(b/s)

10 6

10 5

10 4

4

8

12

16

20

24

28

Number of IoT Devices

Figure 4. Sum-rate with respect to different number of total devices, with two relays and minimum device data rate of 128 kbps.

10 8

NC CDiv C
Wo Div

10 7

SumRate(b/s)

10 6

10 5

10 4

4

8

12

16

20

24

28

Number of IoT Devices

Figure 5. Sum-rate with respect to different number of total devices, with 10 relays and minimum device data rate of 128 kbps.

Sensors 2018, 18, 3560

13 of 19

The number of admitted devices with respect total number of devices is shown in Figures 6 and 7. In both cases, the minimum data rate is 1 Mbps for all devices, whereas the number of relays are 2 and 10 in Figures 6 and 7, respectively. With fewer relays, the QoS constraint (data rate ) for most of the devices could not be satisfied and therefore fewer devices would be admitted. However, as soon as the number of relays are increased, more communication for association will allow more devices to be admitted. Once again, the user admission is better in case of cooperation communication and can be further improved if diversity is also introduced.
30
NC CDiv CWo Div

Number of Selected IoT Devices

25

20

15

10

5

0 4 8 12 16 20 24 28

Number of IoT Devices

Figure 6. No. of admitted devices with respect to different number of total devices, with two relays and minimum device data rate of 1 Mbps.
30
NC CDiv CWo Div

Number of Selected IoT Devices

25

20

15

10

5

0 4 8 12 16 20 24 28

Number of IoT Devices

Figure 7. No. of admitted devices with respect to different number of total devices, with 10 relays and minimum device data rate of 1 Mbps.

In Figures 8­11, the individual device rate with respect to different number of devices K, where K = {1, 2, 3, · · · , 8} is studied. In Figures 8 and 9, the total number of relays is two, whereas the target rate is 250 kbps and 1 Mbps, respectively. A device cannot be admitted if the QoS constraint of a device is not satisfied, i.e., the data rate of that device is unreachable. As in both cases the number of relays are equal, it is quite evident that more devices in the case of least data rate should be admitted, as depicted in Figures 8 and 9. As the minimum data rate requirement in Figure 8 is far less than the data rate requirement in Figure 9, the optimizer can distribute the available power in more devices to satisfy their data rate requirement. However, when the minimum data rate requirement is increased from 250 kbps to 1 Mbps in Figure 9, it becomes difficult for the optimizer to distribute the available power among all

Sensors 2018, 18, 3560

14 of 19

the devices to satisfy their QoS constraint, which eventually results in the reduction of admitted user. Overall, with less data rate requirement, cooperation with diversity admits more devices.
10 7

NC CDiv C
Wo Div

Individual IoT Device Rate (b/s)

10 6

10 5

10 4

10 3

10 2

10 1

1

2

3

4

5

6

7

8

IoT Device Index

Figure 8. Individual device achieved data rate with respect to different number of total devices, with two relays and minimum device data rate of 250 kbps.
10 7

Individual IoT Device Rate (b/s)

10 6

10 5

10 4

10 3

10 2

NC CDiv CWo Div

10 1

1

2

3

4

5

6

7

8

IoT Device Index

Figure 9. Individual device achieved data rate with respect to different number of total devices, with two relays and minimum device data rate of 1 Mbps.
10 8 10 7

NC CDiv CWo Div

Individual IoT Device Rate (b/s)

10 6 10 5 10 4 10 3 10 2 10 1

1

2

3

4

5

6

7

8

IoT Device Index

Figure 10. Individual device achieved data rate with respect to different number of total devices, with six relays and minimum device data rate of 250 kbps.

Sensors 2018, 18, 3560

15 of 19

10 8 10 7
NC CDiv CWo Div

Individual IoT Device Rate (b/s)

10

6

10 5 10 4 10 3 10 2 10 1

1

2

3

4

5

6

7

8

IoT Device Index

Figure 11. Individual device achieved data rate with respect to different number of total devices, with six relays and minimum device data rate of 1 Mbps.

Similarly, in Figures 10 and 11, the individual device's achieved data rate is presented. In this case, the number of relays is increased from two to six, with same data rate requirement of 250 kbps and 1 Mbps, respectively. As evident, more devices are admitted when the relays are increased. Once again, the same conclusion can be drawn from this phenomenon that, when the relays are increased, the QoS constraint of more devices are satisfied. In Figure 12, individual device rate is once again studied with respect to total number of devices K, where, in this case, K = {1, 2, 3, · · · , 27}. The total number of relays are 2 and the minimum device rate is 125 kbps. In case of cooperation with and without diversity almost 81%, whereas 66% devices are admitted when there is no cooperation. It is clear that, even if the minimum device rate is set low, with the increase in number of devices, fewer devices would be admitted. From these simulation results, it can be concluded that, to admit more and more devices, more relays have to be deployed and the cooperation should have diversity.
10 7
NC C C

Div Wo Div

10 6

Individual IoT Device Rate (b/s)

10 5

10 4

10 3

10 2

10 1

0

5

10

15

20

25

IoT Device Index

Figure 12. Individual device achieved data rate with respect to different number of total devices, with two relays and minimum device data rate of 125 kbps.

In general, IoT use cases operate with quite large number of IoT nodes. Keeping this fact of IoT network in mind, simulations have also been carried out for large number of IoT devices, i.e., ranging from 100 devices to 500 devices, as shown in Figures 13 and 14, where the minimum rate is set to 10 kbps and 125 kbps, respectively. It has been concluded above that the cooperation with diversity outperforms in terms of sum-rate and the number of selected devices compared to other two discussed schemes in the case of small number of IoT devices and high data rates. Similarly, in the case many devices and low data rates, the cooperation with diversity is still leading in terms of the metrics discussed above.

Sensors 2018, 18, 3560

16 of 19

10 8

SumRate(b/s)

10 7

10 6

10 5
NC CDiv

10 4

CWo Div

100

300

500

Number of IoT Devices

Figure 13. Sum-rate with respect to different number of total devices, with 10 relays and minimum device data rate of 10 kbps.

10 8

SumRate(b/s)

10 7

10 6

10 5
NC CDiv

10 4

CWo Div

100

300

500

Number of IoT Devices

Figure 14. Sum-rate with respect to different number of total devices, with 10 relays and minimum device data rate of 125 kbps.

In Table 3, the simulation results with multiple scenarios are shown. The different scenarios are created for different number of IoT devices, ranging from 16 to 500 devices, and two different rates, i.e., 10 kbps and 125 kbps. In the table, it is quite clear that, in all scenarios, the cooperation with diversity surpassed the other two schemes with a remarkable margin in terms of achieved sum-rate. Similarly, the user admission in cooperation with diversity is also better than the other two discussed schemes.
Table 3. Simulation results for multiple scenarios, where K is number of IoT devices and R means number of relays. Scenario [K, R, Rate (kb/s)] Sum Rate (Mb/s) NC 18.3435 23.7017 136.7 147.1 254.9 258.9 321.4 317.9 Cdiv 134.292 162.82 655.9 982.7 873.6 1540 821.9 1752.4 CWoDiv 115.949 139.12 519.2 835.6 618.7 1281.1 500.8 1434.5 Selected IoT Devices NC 13 18 97 87 294 219 481 364 Cdiv 14 20 100 100 300 296 500 495 CWoDiv 14 20 100 100 200 295 300 495

[16, 10, 125] [28, 10, 125] [100, 10, 10] [100, 10, 125] [300, 10, 10] [300, 10, 125] [500, 10, 10] [500, 10, 125]

Sensors 2018, 18, 3560

17 of 19

6. Conclusions Cooperative communication using energy harvesting relays has emerged as a promising approach to increase the reliability, capacity and efficiency of large area, massive IoT networks. However, to fully exploit the elegant features of this concept, an efficient user-relay assignment scheme is mandatory along with proper allocation and splitting of transmit power. In this work, a resource management problem is addressed in decode and forward relay based cooperative IoT network. First, an accurate mathematical framework is proposed for joint user-relay assignment, transmit power and splitting ratio allocation problem. The proposed formulation maximizes the overall sum rate of the network while considering the practical constraints. Further, an outer approximation algorithm is used to achieve near optimal solution to the problem with reasonable complexity. The accuracy of proposed solution is validated from the simulation results for various practical network scenarios. The results demonstrate that combining cooperative communication with diversity helps to achieve better admission of IoT users and not only increases their individual data rates but also the overall sum rate of the network.
Author Contributions: M.A. (Maliha Amjad) and M.N. performed the initial conceptualization of the research idea. This was converted into mathematical formulation by A.A. (Ashfaq Ahmed) and M.A. (Muhammad Awais) Joint fruitful discussions with W.E. and A.A. (Alagan Anpalagan) helped to refine the formulation and add few more constraints. Software model, collection of simulation results and completion of initial draft of manuscript were jointly done by M.A. (Maliha Amjad), M.N. and M.A. (Muhammad Awais). Finally, M.N., W.E. and A.A. (Alagan Anpalagan) reviewed, checked, corrected and commented on the manuscript. Funding: This research received no external funding Conflicts of Interest: The authors declare no conflict of interest.

References
1. Sheng, Z.; Zhu, C.; Leung, V. Surfing the Internet-of-Things: Lightweight Access and Control of Wireless Sensor Networks Using Industrial Low Power Protocols. EAI Endorsed Trans. Ind. Netw. Intell. Syst. 2014, 1, e2. [CrossRef] Jelicic, V.; Magno, M.; Brunelli, D.; Bilas, V.; Benini, L. Analytic Comparison of Wake-up Receivers for WSNs and Benefits over the Wake-on Radio Scheme. In Proceedings of the 7th ACM Workshop on Performance Monitoring and Measurement of Heterogeneous Wireless and Wired Networks, Paphos, Cyprus, 21­22 October 2012. Panatik, K.Z.; Kamardin, K.; Shariff, S.A.; Yuhaniz, S.S.; Ahmad, N.A.; Yusop, O.M.; Ismail, S. Energy harvesting in wireless sensor networks: A survey. In Proceedings of the 2016 IEEE 3rd International Symposium on Telecommunication Technologies (ISTT), Kuala Lumpur, Malaysia, 28­30 November 2016; pp. 53­58. Joshi, R.; Zhu, J. Ambient energy harvester design for a wireless sensor network. In Proceedings of the 2015 IEEE International Conference on Electro/Information Technology (EIT), Dekalb, IL, USA, 21­23 May 2015; pp. 246­250. Visser, H.J.; Vullers, R.J.M. RF Energy Harvesting and Transport for Wireless Sensor Network Applications: Principles and Requirements. Proc. IEEE 2013, 101, 1410­1423. [CrossRef] Lu, X.; Wang, P.; Niyato, D.; Kim, D.I.; Han, Z. Wireless Networks With RF Energy Harvesting: A Contemporary Survey. IEEE Commun. Surv. Tutor. 2015, 17, 757­789. [CrossRef] Wing, D.; Ng, K.; Lo, E.S.; Schober, R. Wireless Information and Power Transfer: Energy Efficiency Optimization in OFDMA Systems. IEEE Trans. Wirel. Commun. 2013, 12, 6352­6370. Zhang, R.; Ho, C.K. MIMO Broadcasting for Simultaneous Wireless Information and Power Transfer. IEEE Trans. Wirel. Commun. 2013, 12, 1989­2001. [CrossRef] Liu, L.; Zhang, R.; Chua, K. Wireless Information Transfer with Opportunistic Energy Harvesting. IEEE Trans. Wirel. Commun. 2013, 12, 288­300. [CrossRef] Zhou, X.; Zhang, R.; Ho, C.K. Wireless Information and Power Transfer: Architecture Design and Rate-Energy Tradeoff. IEEE Trans. Commun. 2013, 61, 4754­4767. [CrossRef]

2.

3.

4.

5. 6. 7. 8. 9. 10.

Sensors 2018, 18, 3560

18 of 19

11.

12.

13.

14.

15.

16.

17. 18. 19. 20.

21. 22. 23. 24. 25. 26. 27. 28. 29.

30. 31. 32.

Nasir, A.A.; Zhou, X.; Durrani, S.; Kennedy, R.A. Wireless-Powered Relays in Cooperative Communications: Time-Switching Relaying Protocols and Throughput Analysis. IEEE Trans. Commun. 2015, 63, 1607­1622. [CrossRef] Bakanoglu, K.; Tomasin, S.; Erkip, E. Resource allocation in wireless networks with multiple relays. In Proceedings of the 2008 42nd Asilomar Conference on Signals, Systems and Computers, Pacific Grove, CA, USA, 26­29 October 2008; pp. 1501­1505. Asiedu, D.K.P.; Mahama, S.; Jeon, S.; Lee, K. Joint Optimization of Multiple-Relay Amplify-and-Forward Systems Based on Simultaneous Wireless Information and Power Transfer. In Proceedings of the 2018 IEEE International Conference on Communications (ICC), Kansas City, MO, USA, 20­24 May 2018; pp. 1­6. Guo, S.; Zhou, X. Energy-Efficient Design in RF Energy Harvesting Relay Networks. In Proceedings of the 2015 IEEE Global Communications Conference (GLOBECOM), San Diego, CA, USA, 6­10 December 2015; pp. 1­6. Gupta, S.; Bose, R. Energy-aware relay selection and power allocation for multiple-user cooperative networks. In Proceedings of the 2016 IEEE Wireless Communications and Networking Conference, Doha, Qatar, 3­6 April 2016; pp. 1­7. Hieu, T.; Duy, T.; Dung, L.; Choi, S. Performance Evaluation of Relay Selection Schemes in Beacon-Assisted Dual-Hop Cognitive Radio Wireless Sensor Networks under Impact of Hardware Noises. Sensors 2018, 18, 1843. [CrossRef] [PubMed] Huang, C.; Zhang, R.; Cui, S. Throughput Maximization for the Gaussian Relay Channel with Energy Harvesting Constraints. IEEE J. Sel. Areas Commun. 2013, 31, 1469­1479. [CrossRef] Huang, X.; Ansari, N. Optimal cooperative power allocation for energy-harvesting-enabled relay networks. IEEE Trans. Veh. Technol. 2016, 65, 2424­2434. [CrossRef] Ju, M.; Kang, K.; Hwang, K.; Jeong, C. Maximum Transmission Rate of PSR/TSR Protocols in Wireless Energy Harvesting DF-Based Relay Networks. IEEE J. Sel. Areas Commun. 2015, 33, 2701­2717. [CrossRef] Tutuncuoglu, K.; Varan, B.; Yener, A. Energy harvesting two-way half-duplex relay channel with decode-and-forward relaying: Optimum power policies. In Proceedings of the 2013 18th International Conference on Digital Signal Processing (DSP), Fira, Greece, 1­3 July 2013; pp. 1­6. Lee, J.H.; Sohn, I.; Kim, Y.H. Simultaneous Wireless Power Transfer and Secure Multicasting in Cooperative Decode-and-Forward Relay Networks. Sensors 2017, 17, 1128. [CrossRef] [PubMed] Liu, Y. Joint Resource Allocation in SWIPT-Based Multiantenna Decode-and-Forward Relay Networks. IEEE Trans. Veh. Technol. 2017, 66, 9192­9200. [CrossRef] Liu, Y.; Mousavifar, S.A.; Deng, Y.; Leung, C.; Elkashlan, M. Wireless Energy Harvesting in a Cognitive Relay Network. IEEE Trans. Wirel. Commun. 2016, 15, 2498­2508. [CrossRef] Liu, Y. Wireless Information and Power Transfer for Multirelay-Assisted Cooperative Communication. IEEE Commun. Lett. 2016, 20, 784­787. [CrossRef] Liu, M.; Liu, Y. Wireless Powered Relaying for Multiuser Transmission. In Proceedings of the 2017 IEEE Globecom Workshops (GC Wkshps), Singapore, 4­8 December 2017; pp. 1­6. Lu, W.; Lin, Y.; Peng, H.; Nan, T.; Liu, X. Joint Resource Optimization for Cognitive Sensor Networks with SWIPT-Enabled Relay. Sensors 2017, 17, 2093. [CrossRef] [PubMed] Al-Hraishawi, H.; Baduge, G.A.A. Wireless energy harvesting in cognitive massive MIMO systems with underlay spectrum sharing. IEEE Wirel. Commun. Lett. 2017, 6, 134­137. [CrossRef] Ammar, A.; Reynolds, D. An adaptive scheduling scheme for cooperative energy harvesting networks. J. Commun. Netw. 2015, 17, 256­264. [CrossRef] Chen, L.; Yu, F.R.; Ji, H.; Rong, B.; Li, X.; Leung, V.C.M. Green Full-Duplex Self-Backhaul and Energy Harvesting Small Cell Networks With Massive MIMO. IEEE J. Sel. Areas Commun. 2016, 34, 3709­3724. [CrossRef] Chen, W.; Wang, D.; Li, K. Multi-user Multi-task Computation Offloading in Green Mobile Edge Cloud Computing. IEEE Trans. Serv. Comput. 2018. [CrossRef] Jain, N.; Bohara, V.A. Energy Harvesting and Spectrum Sharing Protocol for Wireless Sensor Networks. IEEE Wirel. Commun. Lett. 2015, 4, 697­700. [CrossRef] Ku, M.; Li, W.; Chen, Y.; Liu, K.J.R. On Energy Harvesting Gain and Diversity Analysis in Cooperative Communications. IEEE J. Sel. Areas Commun. 2015, 33, 2641­2657. [CrossRef]

Sensors 2018, 18, 3560

19 of 19

33. 34. 35. 36.

Qi, N.; Xiao, M.; Tsiftsis, T.A.; Zhang, L.; Skoglund, M.; Zhang, H. Efficient Coded Cooperative Networks With Energy Harvesting and Transferring. IEEE Trans. Wirel. Commun. 2017, 16, 6335­6349. [CrossRef] Fletcher, R.; Leyffer, S. Solving mixed integer nonlinear programs by outer approximation. Math. Programm. 1994, 66, 327­349. [CrossRef] Floudas, C.A. Nonlinear and Mixed-Integer Optimization: Fundamentals and Applications; Oxford University Press: Oxford, UK, 1995. Duran, M.A.; Grossmann, I.E. An outer-approximation algorithm for a class of mixed-integer nonlinear programs. Math. Programm. 1987, 39, 337. [CrossRef] © 2018 by the authors. Licensee MDPI, Basel, Switzerland. This article is an open access article distributed under the terms and conditions of the Creative Commons Attribution (CC BY) license (http://creativecommons.org/licenses/by/4.0/).

