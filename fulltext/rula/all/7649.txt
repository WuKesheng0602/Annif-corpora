Experimental Investigations of Instantaneous Angular Speeds and Torsional Vibration in an AC Motor Driven Rotor System Involving a Variable Frequency Drive

By

Mina Nozohouri Bachelor of Science in Mechanical Engineering of Agricultural Machinery Iran, Tabriz National University, 2002
A thesis submitted to Ryerson University in Partial fulfillment of the requirements for the degree of

Master of Applied Science
In the program of

Mechanical and Industrial Engineering

Toronto, Ontario, Canada 2018 © Mina Nozohouri, 2018

AUTHOR'S DECLARATION

I hereby declare that I am the sole author of this dissertation. This is a true copy of the dissertation, including any required final revision, as accepted by examiners. I authorize Ryerson University to lend this dissertation to other institutions or individuals for the purpose of scholarly research. I further authorize Ryerson university to reproduce this dissertation by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. I understand that my dissertation may be electronically available to the public.

ii

Experimental Investigations of Instantaneous Angular Speeds and Torsional Vibration in an AC Motor Driven Rotor System Involving a Variable Frequency Drive Master of Applied Science, 2018 Mina Nozohouri Mechanical and Industrial Engineering, Ryerson University

ABSTRACT
Torsional vibration of a complex electro-mechanical system consisting of a VFD controller and AC induction motor is investigated in this thesis to study the dynamical behavior of a rather complex motor drive, used to power a DC generator and a set of heat-generation resistors for achieving various levels of nominal loads over a wide range of nominal frequencies/speeds. Two magnetic encoders are placed at two locations to record the arrival times of two arrays of teeth in connection with a data acquisition system. Through a Matlab-coded algorithm, the instantaneous angular speeds and their harmonic compositions up to 16th order of the mean motor speed can be accurately discerned. The model and the algorithms developed in this thesis can be used in a variety of machines and testing systems powered by induction motors and regulated by variable-frequency-drive controllers for design, condition monitoring and identification of sources of noise and disastrous vibration.

iii

ACKNOWLEDGEMENTS

I would like to express my deepest gratitude to my supervisor, Dr. Shudong Yu, for his professional guidance and encouragement during the research work and preparations of experiments. I learned a lot from Dr. Yu on how to carry out self-study, and how to think innovatively as an engineer and researcher. Special thanks are owed to Mr. Devin Ostrom, who helped to set up the experimental apparatus. It was a great pleasure to know and learn from Dr. Mo Fadaee, a recent post-doctoral graduate in the Vibration Laboratory at University of Ryerson for his support and heart-warming help. Finally, I would like to thank my family for their love and support.

iv

DEDICATION

To my husband and my children Sevil and Elvin,
Without whom I would have graduated earlier

v

Table of Contents

Author's declaration Abstract Acknowledgements Dedication List of Tables List of Figures List of Appendices Chapter 1. 1.1 Background 1.2 Motivations 1.3 Literature Review 1.3.1 Literature review on rotordynamic 1.3.2 Literature review on variable frequency drives 1.3.3 Literature review on instantaneous angular speed 1.4 Research objectives 1.5 Thesis organization Chapter 2. 2.1 Motor 2.2 Variable frequency drive, principle and application 2.3 Shaft and couplings 2.4 Bearings and supports 2.5 Load on system - generator and resistors 2.6 Encoders and their application 2.7 Selection of encoder teeth and sampling frequency 2.8 Incremental magnetic ring and encoder system 2.9 Data acquisition system HS4 and processing software TiePie Chapter 3. Data Analysis 3.1 Calibration of controller 3.2 Identification of IAS vi Experimental setup Introduction

ii iii iv v viii ix xi 1 1 4 5 5 6 6 7 8 9 13 15 19 19 20 20 26 30 32 36 36 37

3.3 Calculations of sample numbers and intervals 3.4 Finding Zero Crossing Passages 3.5 Mean and Instantaneous angular speed measurement 3.6 Deviation time versus angular position series 3.7 Discrete Fourier transform of deviation time versus angular position series 3.8 Torsion 3.9 Case studies 3.10 Summary Chapter 4. Appendix A Appendix B Appendix C Bibliography Conclusion and Future Work

39 40 41 49 51 54 57 86 87 90 93 94 101

vii

List of Tables

Table 2-1 Hardware specification for data acquisition system ................................................................... 33 Table 3-1 Motor and VFD proportional speed values ................................................................................ 37 Table 3-2 List of Loading Scenarios under Investigation ........................................................................... 58

viii

List of Figures

Figure 2.1 Subsystems of Dynamic Machinery ............................................................................................ 9 Figure 2.2 CAD drawing of rig test with zoom on Motor end and Generator end ..................................... 11 Figure 2.3 Schematic of the test rig ............................................................................................................ 12 Figure 2.4 Photograph of System set up in Lab .......................................................................................... 12 Figure 2.5 TECO Westinghouse motor....................................................................................................... 13 Figure 2.6 Danfoss Variable Frequency Drive ........................................................................................... 16 Figure 2.7 Adjustable Frequency Drive torque-speed curves ..................................................................... 16 Figure 2.8 Classification of Rotary Encoders ............................................................................................. 21 Figure 2.9 Output waves, (a) Rectangular wave (b) Sine wave .................................................................. 22 Figure 2.10 Signal (A) and (B) from a read head with 2 sensors, signal 1 and 2 ....................................... 22 Figure 2.11 Direction-wise signals ............................................................................................................. 23 Figure 2.12 schematic of a magnetic ring and read head ............................................................................ 24 Figure 2.13Timing Diagram ....................................................................................................................... 25 Figure 2.14 Pulse train created from shaft encoder..................................................................................... 25 Figure 2.15 A typical measured encoder signal .......................................................................................... 26 Figure 2.16 Magnetic ring........................................................................................................................... 30 Figure 2.17 Lm13 magnetic ring encoder system (Readhead) ................................................................... 31 Figure 2.18 Data acquisition system ........................................................................................................... 32 Figure 3.1 Generated pulse signal and number of samples ......................................................................... 40 Figure 3.2 Zero crossing points................................................................................................................... 41 Figure 3.3 Passage time of magnetic teeth at no load mode and 21.75 HZ motor nominal speed ............. 43 Figure 3.4 Mean angular speed for No load mode and 21.75 HZ motor nominal speed ............................ 44 Figure 3.5 Instantaneous angular speed for No load mode and 21.75 HZ motor nominal speed ............... 45 Figure 3.6 Deviation in mean angular speed for No load mode and 21.75 HZ motor nominal speed ........ 46 Figure 3.7 Deviation time of cycles for no load mode and 21.75 Hz motor nominal speed....................... 47 Figure 3.8 shaft idealized IAS, no torsion, no fluctuation ......................................................................... 48 Figure 3.9 Pickup time for prescribed phi angle ......................................................................................... 50 Figure 3.10 Harmonic compositions of a sample time series ..................................................................... 53 Figure 3.11 Two encoders on the spinning shaft, difference in arrival time of paired tooth ...................... 55 Figure 3.12 Arrival time difference of encoders on a spinning shaft with no load and 21.75 Hz .............. 56 Figure 3.13 Order of harmonics for arrival time differences in two encoders on a spinning shaft with no load and 21.75 Hz 57 Figure 3.14 Deviation time of encoder 1 .................................................................................................... 59 Figure 3.15 Deviation time of encoder 2 .................................................................................................... 60 Figure 3.16 Instantaneous angular speed encoder 1.................................................................................... 61 Figure 3.17 Instantaneous angular speed encoder 2.................................................................................... 61 Figure 3.18 Fluctuating angular speed encoder 1 ....................................................................................... 62 Figure 3.19 Fluctuating angular speed encoder 2 ....................................................................................... 62 ix

Figure 3.20 Arrival time deference ............................................................................................................. 63 Figure 3.21 FFT on Arrival time deference ................................................................................................ 64 Figure 3.22Deviation time of encoder 1 ..................................................................................................... 65 Figure 3.23 Deviation time of encoder 2 .................................................................................................... 65 Figure 3.24 Instantaneous angular speed encoder 1.................................................................................... 66 Figure 3.25 Instantaneous angular speed encoder 2.................................................................................... 67 Figure 3.26Fluctuating angular speed encoder 1 ........................................................................................ 67 Figure 3.27 Fluctuating angular speed encoder 2 ....................................................................................... 68 Figure 3.28 Arrival time deference ............................................................................................................. 69 Figure 3.29 FFT on Arrival time deference ................................................................................................ 69 Figure 3.30 Deviation time of encoder 1 .................................................................................................... 70 Figure 3.31 Deviation time of encoder 2 .................................................................................................... 71 Figure 3.32 Instantaneous angular speed encoder 1.................................................................................... 72 Figure 3.33 Instantaneous angular speed encoder 2.................................................................................... 72 Figure 3.34 Fluctuating angular speed encoder 1 ....................................................................................... 73 Figure 3.35 Fluctuating angular speed encoder 2 ....................................................................................... 73 Figure 3.36 Arrival time deference ............................................................................................................. 74 Figure 3.37 FFT on Arrival time deference ................................................................................................ 75 Figure 3.38 Deviation time of encoder 1 .................................................................................................... 76 Figure 3.39 Deviation time of encoder 2 .................................................................................................... 76 Figure 3.40 Instantaneous angular speed encoder 1.................................................................................... 77 Figure 3.41 Instantaneous angular speed encoder 2.................................................................................... 78 Figure 3.42 Fluctuating angular speed encoder 1 ....................................................................................... 78 Figure 3.43 Fluctuating angular speed encoder 2 ....................................................................................... 79 Figure 3.44 Arrival time deference ............................................................................................................. 80 Figure 3.45 FFT on Arrival time deference ................................................................................................ 80 Figure 3.46 Deviation time of encoder 1 .................................................................................................... 81 Figure 3.47 Deviation time of encoder 2 .................................................................................................... 82 Figure 3.48 Instantaneous angular speed encoder 1.................................................................................... 83 Figure 3.49 Instantaneous angular speed encoder 2.................................................................................... 83 Figure 3.50 Fluctuating angular speed encoder 1 ....................................................................................... 84 Figure 3.51 Fluctuating angular speed encoder 2 ....................................................................................... 84 Figure 3.52 Arrival time deference ............................................................................................................. 85 Figure 3.53 FFT on Arrival time deference ................................................................................................ 86

x

List of Appendices

Technical Data sheet for TECO Westinghouse motor..........................................................90 Technical Data sheet for Magnetic Ring MR040E...............................................................93 Technical Data sheet for LM13 readhead.........................................................................94

xi

Chapter 1.

Introduction

1.1

Background

Variable Frequency Drives (VFDs) are commonly used nowadays to reduce the nominal driving speeds in a wide range with fine speed increments for various applications in many industries without using gear boxes. This practice improves the efficiency of transmission and reduces the overall dimensions of motor drives. However, use of VFDs can add complexities to the sources of fluctuations, and contribute to noise, vibration. In a typical motor drive, electrical power is supplied to the motor, which runs at nominal speeds from 0 to 100 percent of the rated speed through a VFD). During operations, the instantaneous speeds are not expected to be constant. As a matter of fact, they fluctuate with respect to the operating point for a prescribed nominal load setting. Rotational fluctuations can in turn excite torsional vibration of an electro-mechanical system consisting of multiple components. When considering eccentricity, bearing misalignment and bending-torsion coupling, the components can experience significant torsional and bending vibration. Besides, loads like propellers and generators can magnify the While high frequency vibration has low

fluctuations of the instantaneous speeds.

amplitudes and is largely responsible for noise, low frequency vibration has high amplitudes and can cause failures of components in fatigue. Both vibrations of both low and high frequencies are of interest and should be addressed for the well-being of the

equipment and the personnel. To quantify or model vibration/noise for design of VFDs and safe operations of the motor-driven rotor systems under a wide range of operating conditions, a comprehensive dynamical model of the electro-mechanical system must be developed. Experiments were performed on the test apparatus. With the use of two RLS magnetic encoders at two different axial locations of rotating shaft along with an accelerometer, the arrival times of evenly spaced teeth at the spaced-fixed pickup point were acquired using an HS-4 data acquisition system and analyzed using the Faster Fourier Transform (FFT) for identifying orders of harmonic compositions with reference to the nominal speed. The results confirm the validity and accuracy of the proposed approach. The pulses generated by the magnetic encoders have been used to determine the instantaneous angular speed (IAS) of a rotating shaft. The even or uneven arrival times of individual teeth can be utilized to characterize the fluctuations of uneven rotations and furthermore torsional vibration through the use of multiple encoders. Rotor dynamics deals with lateral and torsional vibration of spinning shafts in a rotor system. The main components of a typical rotordynamic system include motors,

shaft/rotor, couplings, gears, bearings, and loads. Shafts are usually designed to be slender for high speed operations, compactness and transfer of power over a required distance. The combination of slenderness and high speeds implies that a rotor dynamical systems is often being operated at speeds above one or more critical running speeds corresponding to lateral bending frequencies. To curb lateral vibration, it is a common practice to ensure that the operating speed is away from any critical running speed by 15% (Yoon et al. 2013).
2

It is often challenging to model a complex electro-mechanical system to ensure that the system operates within the accepted threshold of noise and vibration. The biggest

challenge is how to model VFDs and their motor loads. In the system undertaken, there are two loads: the generator and an array of parallel resistors, which make the modelling and simulating process more complicated. Another challenge was in setting up the rig test in which magnetic ring encoders were chosen to have an identified reference tooth so that the misalignment error can be compensated easily by applying a correction factor in the software. But after logging data in the system it has been observed that the reference teeth are creating a different wave length and output voltage. This leads to introduction of a different signal which makes the data processing scheme very challenging. It has been decided that in future phases of the research, new magnetic ring encoders without any reference tooth should be used. This research work is intended to explore proper dynamic load modeling techniques and establish adequate dynamic load models. The torsional vibration problems can be classified into the following three groups (Sheppard, 1988): Impulsive or periodic loading imposed by driven load into a rotordynamic system Impulsive or periodic forces produced by driving motor into a rotordynamic system Periodic excitation forces produced by VFDs in systems with induction motors

In this thesis, the behavior of a rotordynamic system and the instantaneous angular speed of the shaft under the control of a VFD is investigated to understand the torque production and torsional vibration.
3

1.2

Motivations

The first motivation a VFD manufacturer. Its VFD test cell consists of two 2500 HP Reliance AC motors providing a combined input power to a 5500 HP AC motor used as a regenerator or load. Power from the two 2500 HP motors are regulated to test the performances of drives for a wide range of operating scenarios including two motors working collectively as a single mover in complete synchronization, and one working as a mover and the other as an idler. Recently, the test loop had to be shutdown to avoid a potential large scale disaster due to excessive vibration. The small scale failure occurred at one of the sleeve bearings. During the incident, loud/excessive noise was heard and excessive heat induced discoloration in the bearing was observed. After the incident, the motor in question was shipped to a trusted facility for comprehensive tests including vibration and unbalance tests. Results indicate that the motor is electrically in good conditions and mechanically also in good condition with low lateral vibration under the full speed operation. In-house inspections confirmed that the motor shaft eccentricity is low. Large dynamical systems are prone to torsional and flexural vibration mainly because of their low torsional/flexural flexibilities and large inertial due to heavy rotors. When

4

couplings (toothed couplings, universal couplings, key made with material different from the shaft and coupling) are used to connect various components, the rotational system is no longer axisymmetric from the geometry and material points of view. This means that the system flexural vibration may have been excited through mode coupling. The torques (input and load) are known to fluctuate with a dominate harmonic and higher order harmonics. These higher order harmonics are present in transient and steady state

operations. Under fluctuating torques, the shaft typically rotates at varying speeds ­ a nominal speed plus fluctuating speeds with various orders of harmonics. The second motivation was the experience by a CNC machine manufacturer. Its machine tool experiences considerable noise and vibration for certain controller settings within the designed operating specifications.

1.3

Literature Review

1.3.1 Literature review on rotordynamic
The trend of increasing use of VFDs on large rotating shafts has highlighted the importance of studying and fully understanding dynamical behavior of a complex rotor system (Manguelle, 2010). Mechanical failures due to pulsating torques in spinning shafts have been reported widely. Different models have been developed to give a better sense of torsional vibration in drive trains (Ling, 2005). However, it is challenging to model such coupled electro-mechanical systems to clarify the relationship between those pulsating torques and harmonic frequencies (J. Song Manguelle, 2008). The model developed by

5

(Manguelle, 2010) explains that failures in a mechanical shaft relates closely to only the frequency of VFD's pulsating torque.

1.3.2 Literature review on variable frequency drives
There is quite extensive literature on vibration control of machinery trains. Holmes (2001) and Plotkin (2009) studied the causes of VFD related torque harmonics. The study from (T. Feese, 2008) showed that the application of a VFD in a system can increase the torsional vibration. The study in (X. Han, 2012)reveals that it is an obligation to predict and consider the effects of torque harmonics induced by VFD in the design stage. The examples in (X. Han, 2012) also shows that by increasing the inverter level certain harmonics can even increase which can in turn lead to fatigue failure in the system. A study carried by (Manguelle, 2010) provided simulations and tests on the relationship between the torque and the current harmonics by developing a particular approach of reconstructing motor air-gap torque using motor's voltage and current. . An alternative approach presented by (X. Han, 2012) about the effects of a torque harmonic due to an increase in the damping of couplings or changing the electrical frequency by accurately measuring the actual test field operations.

1.3.3 Literature review on instantaneous angular speed
Instantaneous angular speed is a well-known characteristic for studying and predicting a rotating system's fault detection and diagnosis. Variation of IAS has been used by (Sasi, 2001) in order to monitor an electric motor. As another application, IAS has been studied by (Gu, 1999) for detecting fault and condition monitoring in rotating machinery. (Sasi,
6

2004) investigated 3KW induction motor for healthy and faulty condition by extraction of angular speed variations through simple mathematical equations. A processing scheme has been provided by (S.D. Yu, 2009) to determine the sub-harmonic and super-harmonic compositions in IAS for a rotary shaft by means of a magnetic encoder and a data acquisition system.

1.4

Research objectives

The objectives of the thesis research are summarized as follows: Objective 1: Investigating the effects of VFD's regulating frequency/torque on instantaneous angular speed of rotating shaft and its consequent torsional vibration in a complex motor drive, and characterizing their fluctuations. Objective 2: Observing and measuring the instantaneous angular speed, deviation time and torsion Objective 3: Creating an equivalent dynamic model for motor drive systems Objective 4: Exploring dynamic load modeling technique for large-scale rotary power systems in industrial facilities. The first and second parts have been investigated so far, but the third and last objectives are defined as future work for next stage of study period.

7

1.5

Thesis organization

In Chapter 2, the experiment setup and instruments are introduced. The characteristics and range of application of the equipment, as well as the required settings for the purpose of experiment are explained in detail. Chapter 3 focuses on data processing for recorded signals, including the measurement methods, analyzing and deriving the IAS and torsion, deviation time and Fourier transformation of time domain values. The real experiment values are presented in different graphs to illustrate these concepts. Various scenarios with variable loads and frequencies have been investigated and the comparison charts for results have been attached in this chapter. Finally, the conclusion of the experiments and discussion of future work are presented.

8

Chapter 2.

Experimental setup

A complete experimental platform of rotor dynamic machinery with a frequency/torque controller can be divided into two major subsystems as shown in Figure 2.1: Electrical and mechanical. The electrical motor is the interface between the two systems.

Figure 2.1 Subsystems of Dynamic Machinery

The motor generates electromagnetic torque which rotates the rotor, part of mechanical system. In this chapter the details and specifications of all parts are discussed. In order to study the torsional vibration of a rotating shaft of a VFD machinery train, an experimental test rig was built in the Vibration Lab at Eric Palin Hall of Mechanical engineering department for this study. The test rig consists of: a Danfoss variable frequency drive (VLT6000, 10 HP, 110-115 V), a 1.5 HP 3-phase motor, TECO Westinghouse, two Cast housed SKF type Ball Bearings, a steel shaft of diameter 2.5 cm and length 140 cm, two flexible couplings,
9

-

a permanent magnet alternator with neodymium magnet rotor including a rectifier for 24 V DC output,

-

a power bank including 7 wire-wound chassis mount resistors, 5 ohms 100W, two incremental magnetic ring encoder with redheads, 64 teeth, and two Handyscope HS4 data acquisition modules, each has 4 channels and TiePie software

The CAD drawing and schematic of the test rig with the instruments is shown on Figure 2.2 and Figure 2.3. A photograph of the test rig including the measurement system is shown in
Figure 2.4 Photograph of System set up in Lab

10

Figure 2.2 CAD drawing of rig test with zoom on Motor end and Generator end

11

Figure 2.3 Schematic of the test rig

Figure 2.4 Photograph of System set up in Lab

Figure Photograph 12 of the test rig

2.1 Motor

The motor used in this experiment is a 3-phase TECO Westinghouse with 1.5 HP power and 84% minimum efficiency, as shown in Figure 2.5. The motor is capable of providing 4.5 lb-ft torque under full load. The technical data sheet is attached in Appendix A.

Figure 2.5 TECO Westinghouse motor

The fundamental quantities for a motor include the rated speed and torque. Although power of a motor is usually one of quantities expressed in the motor specifications, it is not actually a fundamental parameter. In the USCS unit system, the power is related to the speed and torque as follow:

13

H

T 5252

(2-1)

where H is the power in HP; where T is the torque in lb-ft;  is the speed in rpm. There is a unique torque-speed curve for each individual motor, which shows the produced speed at any particular load or torque produced at an operating speed. In the Appendix A the torque-speed curve for the motor used in the experiments is represented. The synchronous speed is a speed at which a motor runs without load. It is determined by the AC frequency f and the number of poles p in the stator winding as follows

s =

120 f p

(2-2)

where s is the synchronized speed in rpm. For the experimental motor with 4 poles, which runs with a 60 Hz AC power, the synchronous speed is 1800 rpm. There is slip for each motor due to an applied load. The slip is the difference in percentages between the synchronous speed of motor and its actual running speed. By increasing load on a motor, it tries to regulate the required speed. Studying the speed of motor under variable load shows that there are small changes in the amount of speed that motor is producing and the amount of speed that is supposed to deliver, the difference in real and nominal value indicates a motor capability in regulating speed. In order to calculate this
14

factor speed of motor should be monitored under no load and full load modes. The difference between these two speeds is the maximum speed change of a motor. If it is expressed as a percentage of the base speed of a motor it defines the speed regulation factor of VFD, which is written as:
0 -   100 

   =

(2-3)

In which V0 is No load speed (rpm), Vf is the speed under full load (rpm); Vb is the base speed (rpm). The base speed of motor is same as the rated operating speed at the rated power.

2.2 Variable frequency drive, principle and application

The variable frequency drive, shown in Figure 2.6 and used in this experiment, is a Danfoss brand, VLT6000 model rated for 10 HP power and 110-115 V voltage.

15

A variable frequency drive is an adjustable speed motor controller which works in combination with a motor as one system. The characteristics of a particular motor and a controller should be matching with each other so that they are capable of meeting the expected performance. In fact, a VFD regulates the voltage and frequency of AC power

Figure 2.6 Danfoss Variable Frequency Drive

applied to the motor. As shown in Figure 2.7 , a VFD gives this opportunity for a motor to operate on a large number of speed-torque curves. One of the important factors in choosing a VFD for a specific motor is its speed regulation capability which is defined as its ability to rapidly respond to changes in loads and torques

Figure 2.7 Adjustable Frequency Drive torque-speed curves 16

and is expressed as a percentage of drive's base speed. This factor only gets affected by the lowest operating speed and the base speed of a controller which is caused by the load change. Other factors such as the line voltage variations or the ambient temperature variations effect, and the service deviation factor of a controller, which is defined as capability of a VFD in compensating all variations in all factors other than load. Other specifications describing the performance quality of a controller are the static and dynamic performance, which respectively are defined as the ability of system in response to different stable loads and a load or reference change in a controller. These two characteristics introduce a new concept as the transient deviation which is maximum deviation from controller's set point immediately after a load change in system. Therefore, the transient response time is the required time for a controller to respond to load change in the system, i.e. the time required for the output to return to steady state from a transient situation. With all these concepts in mind, it can definitely be claimed that the smaller the transient response and speed regulation the better a controller performance. Therefore, by improving speed regulation capability of a drive, its performance can be improved significantly. For this purpose, there is a feedback loop inside a controller which communicates electronically with motor at all times and tries to compensate for any load change or slip occurring in the motor. It tries to maintain the required speed for smooth and stable running of motor. Without the slip compensation, the operating speed will not be fixed at the set point and will be variable rather than constant. Through a feedback loop, the controller measures the load on motor, detects the slip for each particular load and executes the difference on the
17

set point speed of the motor so that the synchronous speed of motor goes higher than the desired operating speed by the amount of detected slip and is able to produce the required amount of torque/ speed for any load. The performance of a controller also gets affected by the capability of motor in compensating for any voltage drop caused by change in the stator current in proportion to a load change. Any change in voltage makes variations in flux in the motor's air gap. The load-torque curve of motor tends to vary specially for low speed operating frequencies. The IR compensation terminal in an AC motor is responsible for this variations, which ensures that motor is capable of producing required torque at any operating frequency without drawing excessive current. Therefore, the torque-speed curve of motor will be more uniform and the controller will be able to accurately detect the slip and compensate for that more precisely. High performance controllers often have multiple feedback loops involving the process regulator, the speed regulator and the torque regulator. To provide a stable performance, the drives should be fast enough to respond rapidly and accurately to any variation in the system. In transient situations, the output of controller may oscillate which effects the motor as well. It will be the focus of study in this research.

18

2.3 Shaft and couplings

One of fundamental parts in a rotating system is the coupling shaft, which in this experiment has been chosen to have a diameter of 2.5 cm and length of 140 cm. The material is stainless steel, E=210 GPa, =7800 kg/m3. Two couplings are used in the setup. They are flexible plastic joints, which are placed between the motor shaft and the rotating shaft and the end of rotating shaft and the generator shaft. These joints can have added damping to the torsional system originated by any misalignment in the setup. The shafts and couplings will be modeled as an equivalent torsional spring with a compatible factor of torsional stiffness.

2.4 Bearings and supports

There are two cast pillow blocks SKF type ball bearings supporting the rotating shaft of the system and enforcing stability in the system. Wherever bearings are used, the damped natural frequencies or complex eigenvalues of the system can be computed. Evaluation of the stability margin and computations of the critical speed amplification factor of the rotor can be performed (Gunter, 2001).

19

2.5 Load on system - generator and resistors

The generator connected to the system as load is a Missouri Permanent Magnet Alternator with Neodymium Magnet Rotor including a rectifier for DC output of 24 V. Although this is not a common setup applicable in industry, it is a smart way of chasing only torsional vibration in the system, since there will be less torque-load instability. In order to model the load in system a simple lumped model with two inertias, one representing the motor and the other for generator, will be created. In order to use the generated electrical energy of generator in varying output loads, a power bank including 7 wire-wound chassis mount resistors, 5 Ohms 100W were added to the system. In different case studies carried in this experiment, which will be explained in Chapter 3, different combination of loads and frequencies have been analyzed. In a no-load case the generator was dismounted so that the shaft rotates in idle mode.

2.6 Encoders and their application

An encoder is a device to provide information about position, direction of rotation and number of cycles. Based on the output signals, encoders can be classified as absolute type or incremental type. The absolute encoders provide specific location information while the incremental encoders provide only the distance travelled and direction of rotation or movement.

20

There are 3 sensing technologies in encoders which are: Magnetic, Optical and Laser. There are pros and cons for each type. Although optical encoders offer higher resolution and accuracy compared to other types, the adoptability of magnetic pick-ups in a wide variety of operational environment makes them a priority in selections (Y. Li, 2005). The convenience in the installation process for non-contact sensors on top of mentioned advantages made us to select the magnetic encoders in this experiment. The read head has a light source and sensors. Light normally travels out of read head, hits scale (magnets) and comes back to the sensor. When the sensors get light, they produce a voltage signal. Figure
2.8 shows different types of encoders and their sensing/output signal variations.

Incremental Output Signal Absolute Rotary Encoders

Magnetic

Sensing Technology

Optical

Laser

Figure 2.8 Classification of Rotary Encoders

If the sensor is placed in front of a magnetic tick, it produces certain amount of voltage which decreases as the ring turns and the tick mark goes little bit further away. Of course there is still some lights being received by the sensor which means that there is still an output signal. Further away or directly between two neighboring spikes, least amount of voltage is produced. Overall the signal looks like a sine wave. In the algorithm developed
21

for the purpose of calculating the IAS in each angle of rotation literally just the spikes are counted. As long as the voltage of the wave is above some threshold voltage, the number of teeth that passes the read head as well as the distance that encoder-carrying disk has travelled are known. Figure 2.9 show the rectangular and sine waves produced.

Figure 2.9 Output waves, (a) Rectangular wave (b) Sine wave

In order to define the direction of spinning, there should be a second light source and sensor built in the encoder read head. Based on the leading and dragging (following) wave the direction of spin can be determined. The output signals are called A and B. The produced sine wave or rectangular wave are depicted in Figure 2.10 and Figure 2.11.

Figure 2.10 Signal (A) and (B) from a read head with 2 sensors, signal 1 and 2

22

Figure 2.11 Direction-wise signals

As mentioned earlier, incremental encoders should be homed by means of some sort of sensors like proximity sensors, limit switch or even built into the encoders. When moving in specific direction the read head recognizes that home switch and calls it as (0,0) points. Therefore, it will be easy to calculate or count the number of cycles. Using rotary encoders along with an analogue-to-digital converter and a data acquisition system in rotating machines is a common practice to measure the shaft instantaneous speed. The encoder gets signals from the rotating shaft which are supposed to be in equal time intervals. The actual intervals between two successive pulses vary with the instantaneous angular speed of the shaft, they can be considered as torsional vibration in the shaft (Ahmed A Gubran, 2013). By extracting the rotating shaft IAS from encoders during the machine transient operation under variable loads, the dynamic behavior of the system will be predictable.

23

Based on the IAS data from encoders, the harmonics and dynamic behaviors of the system can be analyzed. The utilized ring encoder in the present experiment has 64 teeth. It picks up 64 pulses for every complete rotation of the shaft. Figure 2.12 shows the schematic of a magnetic ring and the read head, located close to each other in order to receive the signals in high and low voltage.

Figure 2.12 schematic of a magnetic ring and read head

There are 64 equally spaced magnets in each ring, which makes a sine wave pulse for each sensor of A and B and a single pulse for the reference point as shown in timing diagram in
Figure 2.13 .

24

Figure 2.13Timing Diagram

The sensors simply sense the gap between each tooth on the ring for every single cycle and produce the pulse train of the measured gap voltage as shown in Figure 2.14.

Figure 2.14 Pulse train created from shaft encoder

25

Figure 2.15 shows a voltage signal produced by a 64-teeth encoder and acquired using the HS-4 data acquisition system.

Figure 2.15 A typical measured encoder signal

2.7 Selection of encoder teeth and sampling frequency

There are a variety of rotary encoders for a wide range of applications, though the working principle of all are same. The main function of a rotary encoder is to generate sort of signals that relate angular displacement to time. The important factors effecting on the selection of

26

a special encoder can be named as resolution, cost and ease of installment, as well as adoptability with the working environment (Y. Li, 2005). As described earlier the sensing device produces an output pulse signal which is characterized by voltage levels when a tooth passes through the sensing location, and the generated signals along with their time information then get collected by data acquisition system. In order to accurately keep track of peak and valleys of electrical pulses generated by magnetic sensors, a high sampling frequency is a must. The IAS of a rotating shaft in a dynamic system usually fluctuates with reference to mean angular speed of the rotating component( in rad/s or  in Hz) (S.D. Yu, 2009). Minimum required sampling rate (fs) in an N-teeth magnetic ring is being determined based on the highest angular speed of the system. In order to comply with 4-point rule in a periodic pulse train of magnetic tooth and non-magnetic gaps on a ring the following inequality should be met:
(2-4)

  4

By satisfying this equation it will be definite that tooth aliasing will not occur and the changes will be monitored as it is.

It has been decided that minimum 64 teeth encoder will be used for this experiment so in this part all calculations are made based on the assumption of N=64.

According to Eq. (2-4) the minimum sampling rate for N=64 and  =60Hz is:
27

  4  60  64

   15360 

   15.4 

Although there are some recommendations with regard to assuming the number of pulses per cycle equal to 5 times the frequency of event occurrence but the tests conducted by (S.D. Yu, 2009) confirmed that using 4 points is accurate enough to reconstruct a periodic function. In order to carry out the calculations for the encoders, producing rectangular pulse signals, it was mandatory to consider both the number of peaks and valleys corresponding to the magnetic and non-magnetic arcs of teeth (2N). In the present experiments, the incremental type of magnetic encoders is used. They produce a continuous sine wave voltage at the read head as the magnetic teeth pass by. The arrival times of the median of each tooth or voltage spikes will be concerned with in determining the IAS. This practice reduces the amount of noise due to manufacturing errors between magnetic and non-magnetic pitches. Using the 4-point rule, the relationship between the number of teeth and the highest discernable order of harmonics (H) from a measurement is:

 

 4

(2-5)

For a 64-teeth encoder, the highest discernable order of harmonic is 16. In other words, a 64-teeth encoder can successfully and accurately pick up oscillating frequencies up to 16 times the mean angular speed. If harmonics of higher than 16 are of interest, magnetic
28

encoders of more teeth (e.g., 128-teeth encoders) should be used. Assuming that   = 20  15.4  , and H=16:

     =

20 = 1.25 = 12500 16

In a 64-teeth encoder, the average of time arrival of each adjacent tooth, assuming identical spacing and ignoring manufacturing error in circumferential teeth spacing, is:

 =  = 

2

1

(2-6)

For a 60Hz rotational speed, the mean passing time of each tooth is  = 1 = 0.00026  64  60

If 20 points are sampled for each sine wave, the sampling time is  = 0.00026  1 = 0.000013  20

This means that in a second, there should be 76923 samples (data picked up by the signal equation system). In the experiments, a sampling rate of 128 K was used. When grouping the spikes of all individual teeth in a record, a time series of (Øi,ti), i=1,2,...,n is established, where Øi represents angular position of the ith tooth and is equal to (i-1) Ø. In a 64-teeth encoder, the angular pitch of each tooth is Ø=2/64.
29

With the Fast Fourier Transform (FFT), it is necessary to have the number of data n=2m (m is an integer). With the HS-4 data acquisition system, the largest number of data that can be sampled in a single trigger is 131,072 or 217.

2.8 Incremental magnetic ring and encoder system

The incremental magnetic rings and encoders were selected from RLS brand. They offer robust rings consisting of a vulcanized elasto-ferrite layer securely attached to a steel hub. This layer is magnetized with 2 mm long alternating magnetic poles, forming an incremental magnetic pattern. Figure 2.16 shows a magnetic ring and its schematic drawing with outer and inner diameter bands as well as its height

Figure 2.16 Magnetic ring

A unique reference mark, serving as a magnetic signature, has been added to the increment magnetic pattern. Appendix B lists the features and compatibilities of the magnetic ring MR040E. The selected ring is compatible with the standard LM13 read-heads, shown in Figure 2.17. Its non-contact design makes the operation reliable. Although the ring is ideal for
30

installation by the shrink-fit method, its high precision machining makes press-fit an option as well. The ring and read-head are reliable in hard-working applications such as spindles and machine tool applications.

Figure 2.17 Lm13 magnetic ring encoder system (Readhead) (picture captured from RLS Information catalogue)

The LM13 magnetic ring encoder system is a contactless high-speed encoder, which is designed for use in harsh environment. It features a sealed read-head that rides at up to 1 mm from the ring surface. It also has an integral set-up LED which turns green for acceptable installations. The encoder has water-proof sealing and is resistant to shock and vibration, which is unavoidable in the rotor dynamical system under investigation. Table 2 and 3 lists the technical specifications of LM13 system data. For analog output voltage, the maximum speed is limited to 8000 rpm. Appendix C lists technical specifications of LM13 read-head.
31

The accuracy of measurements is influenced by encoder-specific errors and installationdependent errors. In order to evaluate the total accuracy, each of the significant errors must be considered Encoder-specific errors are: magnetization error, Sub divisional error (or interpolation error) and Hysteresis. The equation and calculation for existing ring applied in our system are listed in Appendix C.

2.9 Data acquisition system HS4 and processing software TiePie

Handyscope HS4 shown in Figure 2.18 is a portable multimeter, spectrum analyzer, oscilloscope and transient recorder with 4 measuring channels of 50 MS/s sample rate and 12-16-bit resolution and 128 K samples memory per channel. The input voltages range from 0.2 to 80 volts.

Figure 2.18 Data acquisition system

32

More Handyscopes can be connected and stacked together if more than four channels of signals are needed. The sampled data can be stored in a computer in the CSV format for processing.
Table 2-1 Hardware specification for data acquisition system

Number of input channels

4 analogues 12 bit 50 MS/s 14 bit 3.125 MS/s 16 bit 195.3125 KS/s

Resolution

Accuracy

0.2%±1 LSB

Sensitivity

±200mV, ±400 mV, ±800 mV,±2V,±4V,±8 V and±20 V,±80 V full scale

Coupling

AC/DC

Sample rate

50 MS/s, 20 nsec

Memory

0-131072 samples each channel

I/O connectors

BNC

Stability

±100ppm over -40° C to +85° C

33

2.9.1 Sampling
Input signals are sampled at a fixed rate with three resolutions ­ 12, 14 and 16 bits. Using higher resolutions, the voltage steps in which the input range is divided are smaller. By connecting the acquired samples adjacent to each other, he original signal can be reconstructed.

2.9.2 Nyquist criterion
Sampling frequency (Hz) is the rate at which an analog signal is sampled. The sampling frequency must be equal or higher than twice the highest frequency of input signal. This sampling frequency is called the Nyquist frequency. In order to faithfully reproduce the analogue signal (analog-to-digital conversion, ADC), the signal should be sampled at the Nyquist frequency so that no information is lost.

2.9.3 Aliasing
Aliasing can occur if a signal is not sampled in accordance with the Nyquist rule. In this case, the period time of sampled data can be much larger than the actual signal. To avoid aliasing, all analogue signals are sampled at highest possible frequency in all experiments carried out in this thesis.

2.9.4 Digitizing
When measuring is carried out by HS4, the acquired voltage at each sample is converted to a number by comparing the voltage with a level number. The number of levels is determined by the resolution from the following equation: level count=2Resolution.
34

By

increasing the resolution, more levels are available to set for each logged data so constructing original signal will be more accurate. In all measurements, the resolution is set to be 14 bit, which results in 16384 level counts. Even though a higher resolution is handy it can sometimes overkill, i.e. it can be greater than what is really required or appropriate for application. Based on the total number of levels, the steps between each voltage can also be determined with the dividing the full input range(v) by level count. Full range of voltage is two times the voltage set for measurement. For example, the full range of a 200 mV is equal to 400mV. Thus the smallest voltage step for the 14-bit resolution is 0.400V/16384=24.41µV.

35

Chapter 3.

Data Analysis

In this chapter, data from the two magnetic encoders are acquired and processed to determine the instantaneous angular speed (IAS) of rotor shaft, and the level of torsion that the shaft experiences for a number of operational scenarios. A Fortran program along with the MATLAB code were written to handle the detailed data analysis.

3.1 Calibration of controller

One of fundamental quantities to describe the operation of a rotating system is the nominal speed in revolutions per minute (RPM) or cycles per second (Hz). In the applications related to an adjustable speed/frequency drive, the performance of the system is usually presented as the speed/frequency applied to the motor shaft. The "speed at the motor shaft" might be used to better distinguish the location at which speed is measured. The variable frequency drive controlling the motor speed can be set to any integer frequency between 1 Hz and 60 Hz. The manufacturer-rated output speed of the 4-pole experimental motor is 1740 rpm or 29 Hz. The motor output shaft speed is directly proportional to the VDF frequency setting. At the highest VFD setting or 60 Hz, the motor is expected to rotate at the rated speed of 29 Hz. Therefore, a sensitivity factor of 0.4833 Hz/Hz or the ratio of the motor nominal speed to the VFD setting frequency is established. In Table 3-1 some values have been given for compatible frequencies of motor and VFD.

36

Table 3-1 Motor and VFD proportional speed values

VFD setting (Hz)

15 (25%)

30 (50%)

45 (75%)

50 (83%)

60 (100%)

Motor speed (Hz)

7.25

14.5

21.75

24.16

29

Motor speed (rpm)

435

970

1305

1449.6

1740

3.2 Identification of IAS

Several types of encoders (gears, optical, magnetic, etc.) are used in connection with A/D converters and data acquisition systems to quantify the instant speeds. All encoders work with a similar principle. For example, a magnetic encoder has two essential components a ring mounted on a rotating shaft and a magnetic sensor mounted on the support. The ring has a number of equally spaced teeth with alternating magnet and non-magnet segments. The sensor, placed a small radial gap away from the rim of the ring, produces a discontinuous rectangular voltage pulse or a continuous varying sine voltage wave as it continuously engages with different portions of teeth on the ring. The voltage output is then sampled digitally at a high sampling rate using a data acquisition system. The sine waves containing the arrival times of a large number of equally spaced teeth on the ring are stored for further process, e.g., to identify IAS. IAS contains useful information on the state of a machine and often used in machine condition monitoring and fault diagnosis. These methods are categorized in two groups (Y.
37

Li, 2005): timer/counter-based and analogue-to-digital converter or ADC. In this research, the ADC method is adopted in connection with the magnetic encoders. In this thesis, the ADC method is adopted in connection with the magnetic encoders. A magnetic encoder is used in connection with an 8-channel HS4 data acquisition system to record the sine wave data. Each tooth on the ring consists of ferrous metal and a non-magnetic space, which are equally split circumferentially. As the ring rotates with the shaft, the teeth disturb the magnetic flux emitted by the magnet, and cause the flux field to expand and collapse. These changes in the electromagnetic field are picked up by the sensor. The sensor generates a peak voltage instantly when a magnetic tooth is engaged with the magnetic sensor and a valley voltage when a non-magnetic space is engaged with the sensor. As the magnet-sensitive portion is engaged with the sensor, a positive voltage is produced. When the non-magnetic portion of the tooth is engaged with the sensor, a negative voltage is produced. If it is been defined a tooth to be the complete magnet sensing portion along with half of the magnet-non-sensitive portion on its sides, then a positive zero passage in the time series can be used to determine the arrival time of a tooth at the space-fixed sensor location. With this definition, from one zero-passage time to an immediate next zeropassage time, the ring is known to be rotated precisely by 2/64 radian or 5.625°. This arrival times of each of the equally spaced teeth at the sensor location as the shaft rotates form an unconventional time series. This is the most important piece of information in developing schemes for identifying IAS.

38

3.3 Calculations of sample numbers and intervals

When the system is in operation, the voltage pulses generated by the encoders are sampled continuously using the HS4 data acquisition system. A stream of data of any desired length, up to 131072 or 217 samples, can be captured and stored in a computer in the CSV format. Depending on loading scenarios of interest, many such data records can be acquired and processed to obtain digital signatures for characterizing the orders of the fluctuation in IAS and uneven IAS excited torsional vibration/noise in a rotor system.
Figure 3.1 shows a small window of voltage signal generated from an encoder versus time

when the controller was set to 60 Hz, which yields a motor shaft speed of 29 Hz. The small dashes on sinusoidal graph represent the actual samples recorded by the data acquisition system, sampled at the rate of 62.5 kHz. As seen, there are 33 samples in each tooth passing. Time required for each tooth to pass in average is 1/ (29*64) = 0.000538 second, and based on sampling rate of 62.5 kHz the intervals between each sample is 0.000016 second. So, the number of samples in each tooth passing is 0.558/0.02= 33 points.

39

Figure 3.1 Generated pulse signal and number of samples

Although the number of data is very large, the directly useful data are those representing the passing times of positive zero-passing voltage, or the peak voltage passing times, from which the average speed in an interval and the mean nominal speeds obtained using a large number of such zero voltage passing times. Both schemes were coded; the preliminary results were compared. It was found that the peak voltage passing scheme produces higher noise. As a result, the zero voltage passing scheme is adopted in this thesis.

3.4 Finding Zero Crossing Passages
The purpose of finding a positive zero passage is to determine the `exact' moment at which the leading edge of a magnetic tooth arrives at the sensor location. To improve the accuracy of the positive zero passage moment better than the straightforward sampling interval, a linear interpolation scheme is employed to determine the precise positive zero passage
40

times. Once all positive zero passage times are found using the linear interpolation scheme for the entire record, a new and useful time series (n,tn), n=0,1,2,...,2nfft-1, representing the angular displacements of encoder teeth and their arrival times at the sensor location. Figure 3.2 shows a small window of the positive zero passage times.

Figure 3.2 Zero crossing points

3.5 Mean and Instantaneous angular speed measurement
Knowing that the displacement between teeth are  = 2/64 rad the data series of n for n=0, 1, 2, ... can be written as n=n*2/64. In Figure 3.3 the passage time for each tooth
41

(1,2,3, ..., 64) have been represented for almost 40 cycles. It is obvious that by increasing time tn the values for n is also increasing almost in a linear pattern. This is an everincreasing displacement versus time graph with a constant slope or a constant angular velocity. The slope of this line is the reciprocal of the mean angular velocity, i.e., which can be written as:
1 

),

 =

 +1 - 1

(3-1)

42

where tn is the arrival time of the nth magnetic tooth;  is the angular displacement of nth tooth.

Figure 3.3 Passage time of magnetic teeth at no load mode and 21.75 HZ motor nominal speed

43

Using equation (3-1) and the first 40 cycles of data of a sample run, the mean angular speed was found to be 22.19 Hz or 1182 rpm. The result is depicted in Figure 3.4 .

Figure 3.4 Mean angular speed for No load mode and 21.75 HZ motor nominal speed

The instantaneous angular speed is not expected to be exactly same as the mean angular speed. There are fluctuations in the magnitude, i.e., the behavior of shaft rotation is not smooth. Figure 3.5 shows the instantaneous angular speed for a shaft spinning at 21.75Hz without load.

44

Figure 3.5 Instantaneous angular speed for No load mode and 21.75 HZ motor nominal speed

Based on the mean angular speed equal to 22.19 Hz, the interval for two consecutive teeth passing should be 0.707 millisecond. Therefore, a mean angular speed graph for 40 cycles will be as depicted in Figure 3.4 which is a straight line, while the logged data has a pattern as represented in Figure 3.5which includes small oscillatory angular displacement. By extracting the deviation time and removing the rigid body motion, the pure oscillatory behavior can be plotted as Figure 3.6 , which makes it easy to plot deviation time for each tooth angular position as illustrated in Figure 3.7.
45

Figure 3.6 Deviation in mean angular speed for No load mode and 21.75 HZ motor nominal speed

It should be noted that only 31 out of 40 cycles of the original data were used in the discrete FFT for identification of frequency compositions and subsequent order analyses. The 31 cycles of data are shown in Figure 3.7. To extract IAS based on the useful time series, the following steps are taken.

46

Figure 3.7 Deviation time of cycles for no load mode and 21.75 Hz motor nominal speed

The times between two successive teeth of fixed angular pitch are available from the processed time series, i.e.,  = -1 -  . Since the arrival of the first tooth at the sensor location is arbitrary and non-essential, the average speed can be computed during the interval [-1 ,  ] using the following equation



 , n  0,1,2,... t n

(3-2)

47

During the small interval between the two successive teeth, the actual rotational speed is unknown. This is the generic resolution issue for a magnetic encoder of finite number of teeth. In this thesis, the above average angular speed in Hz during the small time interval is credited to the instantaneous angular speed at the midpoint of the interval, or
f s ,n Tn    1 tn 2
(3-3)

where Tn  tn1  tn  / 2 . With the above equation, an instantaneous angular speed timeseries can be constructed. In an ideal case when there is no fluctuation in the shaft speed, it is expected that the IAS time-series is a constant line as shown in Figure 3.8. This means that the time taken for the shaft to rotate an angle  is same during the sampled period.

Figure 3.8 shaft idealized IAS, no torsion, no fluctuation

48

In practice, the IAS is expected to fluctuate, by large or small amount, with one or multiple orders of frequency compositions, depending on the characteristic of loads and the controllers used to regulate the motor speed. Figure 3.5shows that a real IAS that can be captured during shaft rotation which represents the possibility of torsion due to fluctuation.

3.6 Deviation time versus angular position series

Since the small scale fluctuations are imbedded in the ever-increasing angular displacement, it is difficult to discern oscillations from the total angular displacement. In this thesis, a deviation time , defined below, is used to characterize the uneven rotation of a shaft
  =  -  

(3-4)

where t is the time taken for the shaft to rotate angle , defined precisely by each of the magnetic teeth;   is the mean angular speed. Here angle  is a prescribed quantity for a given time, starting from t0, the arrival time of the leading edge of the first tooth, and is measured in the opposite direction of shaft rotating direction, as shown Figure 3.9 . The value of t is the time taken for a radial line at angle  to reach the sensor location. The deviation time  directly reflects the IAS. A new data series is introduced as , ~ t i . Figure 3.3 is the angular position versus deviation time for a sample run of 21.75 Hz.

49

In the algorithm developed for this motion, the following scheme has been applied to extract the oscillatory motion from the total steady state motion. The mean angular speed  is considered time-invariant. When using toothed encoder, it is natural to extract rotational fluctuations and torsional vibration from the deviation time versus angular pitch data series ~ t , i .

Figure 3.9 Pickup time for prescribed phi angle

Deriving equation (3-4) once with respect to , will result in
  1    

=

+

(3-5)

50

The IAS can be written as:
   1  

= ()-1 = ( + )-1

(3-6)

It can be summarized that Figure 3.6 is derived by subtracting the mean motion from the total motion by using equation (3-4) It can be seen that the magnitude of oscillatory deviation time for the sampled series of data is 0.042 millisecond. It represents that fluctuation in IAS contributes to a maximum deviation time of 0.042 millisecond in the expected time of consecutive teeth arrivals.

3.7 Discrete Fourier transform of deviation time versus angular position series

The reason of performing discrete FFT is to identify how the energy associated with the fluctuating rotation is distributed over a wide range of frequencies, and to conclude in a genetic way the orders of significant fluctuating frequencies in a controller-motor drive. This valuable information is not observable in time-domain signal. To discern reliably the frequency compositions in a deviation time vs. angular pitch series, a discrete data of long length is recorded. This long record of signal is then considered to be periodic with a period equal to the record length, or () = ( + ) , here L is record length. The frequency resolution is limited to 1/ L . In the example explained here L=31 cycles and resolution is 0.0322 per cycle. Any phenomenon separated by less than 0.0322
51

cannot be discerned with confidence in this experiment unless the record length is increased. Therefore, using the equation provided below and based on 4-point rule, the deviation time for any angular position can be determined as:

2 2 () = 0 + 16 =1(/2 cos  + /2 sin  )

(3-7)

16

() = 0 +   2 +  2 cos(
=1

2 +  ) 

(3-8)

0 = 0



1 = 1 2 + 1 2

and

2 = 2 2 + 2 2

(3-9)

The coefficients of harmonic compositions will be determined using the FFT for the deviation time vs. angular pitch series. Finally, the true time in terms of Fourier series can be written as:

 =

/4  2 2 +  ( cos +  sin )    =0

(3-10)

52

This expression is valid and continuous for any  and hence can be used to differentiate speed. By carrying on one-time differentiation on the equation above IAS can be written as:
1   1 /4 2 (-  2 +  2 ) 

=  =  + =1

sin

 cos

(3-11)

For a sample time series shown in Figure 3.7the harmonics obtained are as illustrated below, Figure 3.10 .

Figure 3.10 Harmonic compositions of a sample time series

53

The very small differences between the harmonics magnitude is due to numerical inaccuracies. The large deviation times represent more oscillation.

3.8 Torsion

All calculations explained so far have been carried out over the data logged in one magnetic encoder system. Hence they represent the behavior for the axial location where the encoder is mounted. To determine torsional vibration of the main shaft in the controller-motordrive, two separate and properly aligned magnetic encoders are mounted on two ends of the shaft. By sampling the signals from the two encoders synchronously at the same time with an identical sampling frequency, the differences in arrival times of nominally perfectly aligned magnetic teeth at the same sensor location can be determined. This differential time series contain torsional vibration information. In the time domain, it is possible to determine the how angle of twisting of the shaft between the two shaft locations vary with time. By performing the FFT on this time series, it will be possible to identify the frequency composition in torsional vibration. As illustrated in Figure 3.11, the two encoders are placed at the input/output ends of the main drive shaft, and the paired teeth have been marked on each ring at the prescribed  angle distance from the read-head. The time that each tooth passes through the read-head have been recorded. The differential deviation times between them were calculated. For low mode torsional vibration, the variation of torsion with the axial locations along the shaft by conducting a free vibration analysis can be obtained.

54

Figure 3.11 Two encoders on the spinning shaft, difference in arrival time of paired tooth

In a sample run of experiment, there will be two different data series as (ti, i)1 and (ti, i)2 logged in two encoder systems. The variations between i)1 and i)2 can be expressed as ()i, which represents the arrival time differences.
Figure 3.12 shows the arrival time difference for 31 cycles of data in two encoders, and Figure 3.13 shows the FFT over these data series of deviation times.

55

Figure 3.12 Arrival time difference of encoders on a spinning shaft with no load and 21.75 Hz

56

Figure 3.13 Order of harmonics for arrival time differences in two encoders on a spinning shaft with no load and 21.75 Hz

3.9 Case studies

To study the behavior of the controller-motor drive system, a number of different loading scenarios including no loads and different controller speeds were investigated. In the no load scenario, the generator as a load is disconnected from the drive. The motor rotates in
57

an idle mode. For loaded cases, three different load settings have been applied to the system, characterized as low load (1 resistor switched on), medium load (4 resistors switched on) and full load (6 resistors switched on). For each loading scenario, three different controller frequencies have been set. They are low frequency (30 Hz), medium frequency (45 Hz) and full frequency (60 Hz). These frequencies are set on the controller side, and as explained earlier in the calibration section, they yield 14.5, 21.75 and 29 Hz of motor output speeds, respectively. Altogether, 12 different cases, listed in Table 3-2, have been studied. To keep track of these cases, each case is assigned a unique identifier, LxFyy, in which x represents load magnitude and yy represents controller setting frequency.
Table 3-2 List of Loading Scenarios under Investigation

Loading

Controller Frequency (Hz)

Low (30)

Medium (45)

High (60)

No load

L0F30

L0F45

L0F60

Low Load

L1F30

L1F45

L1F60

Medium Load

L4F30

L4F45

L4F60

High Load

L6F30

L6F45

L6F60

Moreover, in order to validate the proposed scheme, the repeatability of L4F45 has been checked four times.
58

Case 1) No load, low frequency (30 Hz) Plots numbered Figure 3.14 to Figure 3.21 illustrate deviation times in each encoder, instantaneous angular speed and deviation time at both shaft ends as well as torsion in the shaft when there is no load connected to the shaft and the turning speed is nominally 14.5 HZ in the motor output shaft.

Figure 3.14 Deviation time of encoder 1

59

Figure 3.15 Deviation time of encoder 2

The deviation time ranges are from 1 to 1.1 ms for encoder 1, and from 0.95 to 1.06 ms for encoder 2. The very small deviation times indicate that there is almost no delay in tooth passing times, which is expected for a no load mode. The mean angular speed for this case is measured to be 14.79 Hz, which is slightly higher than the nominal setting. This is also expected for a no load mode when motor shaft spins in the idle mode. The jumps in the plots are reference tooth-induced distortions in the signal, which are regrettably present in the procured magnetic encoders with reference teeth. At this point of this thesis, these abnormal spikes should be ignored.
60

Figure 3.16 Instantaneous angular speed encoder 1

Figure 3.17 Instantaneous angular speed encoder 2

61

Figure 3.18Fluctuating angular speed encoder 1

Figure 3.19 Fluctuating angular speed encoder 2

62

fluctuations in the angular speed are very low. This is an indication of small torsion in the rotating shaft. Based on the mean angular speed of 14.79 Hz tooth passage time should be 1.05 ms. The maximum deviation in the arrival times of paired teeth are 0.1 ms, which means there is 0.5-degree torsion in the shaft. The high strength of first order of harmonic is mainly because of small oscillation in the shaft, and also the reference tooth-induced distortion. The other orders may be the contribution of noise and they warrant some further investigation.

Figure 3.20 Arrival time deference

63

Figure 3.21 FFT on Arrival time deference

Case 2) No load, medium frequency (45 HZ) Plots numbered Figure 3.22 to Figure 3.29 illustrate deviation time in each encoder, instantaneous angular speed and deviation time at both shaft ends as well as torsion in the shaft, when there is no load connected to the rotating shaft, and shaft spins at 21.75 Hz nominal speed.

64

Figure 3.22Deviation time of encoder 1

Figure 3.23 Deviation time of encoder 2

65

Same as case 1 in this scenario also there is no load engaged, the deviation time ranges are very small numbers and represent that there is almost no delay in tooth passing times. But it is smaller than previous case which shows that by increasing the frequency, deviation time reduces. Mean angular speed for this case is 22.2 Hz and is slightly higher than nominal setting.

Figure 3.24 Instantaneous angular speed encoder 1

66

Figure 3.25 Instantaneous angular speed encoder 2

Figure 3.26Fluctuating angular speed encoder 1

67

Figure 3.27 Fluctuating angular speed encoder 2

Based on the mean angular speed of 22.2 HZ tooth passage time should be 0.7 ms. The deviation in arrival time of paired teeth is max 0.05 ms, which means there is 0.4-degree torsion in the shaft, which is smaller than previous case. It shows that by increasing the frequency of spinning torsion is decreasing which is meaningful. The orders of harmonics are almost same as first case and order one still is the strongest.

68

Figure 3.28 Arrival time deference

Figure 3.29 FFT on Arrival time deference

69

Case 3) Medium load, Medium frequency (45 Hz) Plots numbered Figure 3.30 to Figure 3.37 illustrate deviation time in each encoder, instantaneous angular speed and deviation time at both shaft ends as well as torsion in the shaft, when only 4 resistors are switched on, and shaft spins at Medium nominal speed of 21.75 Hz.

Figure 3.30 Deviation time of encoder 1

70

Figure 3.31 Deviation time of encoder 2

Deviation time range for encoder 1 and 2 are 0.8 to 1 ms. Comparing to second case which no load was engaged, the deviation time has slightly increased when loads added. Mean angular speed for this case is 18.95 Hz and is considerably lower than nominal set point speed and definitely it shows there is slip in the motor caused by load. Tooth time passage is calculated to be 0.82 ms, which comparing to no load scenario (0.7 ms) is higher, expressing that the added load makes the shaft spin slower even though the set frequency is same.

71

Figure 3.32 Instantaneous angular speed encoder 1

Figure 3.33 Instantaneous angular speed encoder 2

72

Figure 3.34Fluctuating angular speed encoder 1

Figure 3.35 Fluctuating angular speed encoder 2

73

Fluctuation in the arrival time of paired teeth is max 0.07 ms, which for a tooth passing period is around 0.5 degree. This means that in loaded case the torsion is higher than no load case. It is concluded that the load in system contributes to added torsion and deviation time.

Figure 3.36 Arrival time deference

74

Figure 3.37 FFT on Arrival time deference

Case 4) Medium load, High frequency (60 Hz) Plots numbered Figure 3.38 to Figure 3.45 illustrate deviation time in each encoder, instantaneous angular speed and deviation time at both shaft ends as well as torsion in the shaft, when only 4 resistors are switched on, and shaft spins at maximum speed.

75

Figure 3.38 Deviation time of encoder 1

Figure 3.39 Deviation time of encoder 2

76

Deviation time range for both encoders is 0.4 to 0.6 ms, which is the smallest of all cases. It seems that when motor is running under full frequency which is designed for, the deviation time is less than lower frequencies. Mean angular speed for this case is 27.88 Hz which represents slip in the motor due to slip. But the percentage of variation regarding to nominal speed is 4% which is significantly lower than same load with lower frequency. When the frequency was set to medium, in case 3, this number was 13% lower than nominal value. This shows that by increasing the frequency of spinning the system runs smoother and efficiently.

Figure 3.40 Instantaneous angular speed encoder 1

77

Figure 3.41 Instantaneous angular speed encoder 2

Figure 3.42Fluctuating angular speed encoder 1

78

Figure 3.43 Fluctuating angular speed encoder 2

Comparing to the plot 57 the fluctuations in angular speed is almost half which shows more stability in higher frequency. Based on the mean angular speed of 27.88 Hz tooth passage time should be 0.56 ms. The deviation in arrival time of paired teeth is max 0.04 ms, which means there is 0.4-degree torsion in the shaft, which is again smaller than previous case with lower frequency. It can be concluded again that by increasing frequency even though there is a load on the system, still there will be improved results for deviation time and torsion in the shaft. The tilt in plot 67 represent a transient mode which can be induced by the load in the system.

79

Figure 3.44 Arrival time deference

Figure 3.45 FFT on Arrival time deference

80

Case 5) High load, high frequency (60 Hz) Plots numbered Figure 3.46 to Figure 3.53 illustrate deviation time in each encoder, instantaneous angular speed and deviation time at both shaft ends as well as torsion in the shaft, when all resistors are switched on and shaft spins at high speed.

Figure 3.46 Deviation time of encoder 1

81

Figure 3.47 Deviation time of encoder 2

The fluctuation in the mean angular speed is visibly high due to added load which causes variation in slip in motor.

82

Figure 3.48 Instantaneous angular speed encoder 1

Figure 3.49 Instantaneous angular speed encoder 2

83

Figure 3.50Fluctuating angular speed encoder 1

Figure 3.51 Fluctuating angular speed encoder 2

84

Based on the actual nominal speed and tooth passage time and also the difference in arrival time there is 0.51-degree torsion in the spinning shaft which is higher than case 4, in which less load was involved. It shows that extra load on the system contributes to more torsion which is acceptable.

Figure 3.52 Arrival time deference

85

Figure 3.53 FFT on Arrival time deference

3.10 Summary

Based on the result from different scenarios by changing loads and controller setting speed it is quite evident that adding load in the system disrupts the system behaviour and increases torsion and deviation time in arriving paired teeth of encoders, while removing load or decreasing the number of switched resistors decrease these values outstandingly.

On the other hand, increasing the controller speed impacts the system behaviour positively by decreasing the torsion and deviation time, which needs more investigations.

86

Chapter 4.

Conclusion and Future Work

In this thesis, an attempt is made to investigate experimentally the uneven rotation in a controller-motor drive, and the uneven rotation induced torsional vibration in such a coupled electro-mechanical system. Results from a test apparatus provide the first hand evidence that the instant angular speeds of the motor shaft fluctuate and contain many integer orders of harmonics with reference to the nominal shaft speed. It is evident that the development of comprehensive mathematical model for dynamical behavior of a complex and coupled electro-mechanical system controller-motor drives, with applications to machine tool dynamical design, or large controller testing dynamometer facilities, is a very challenging topic and requires skills in both mechanical and electrical engineering. This thesis is merely a starting point towards full understanding of dynamical behavior of such drives, which are commonly used in various Canadian industries. So far, through this experiment a systemic approach for evaluating the instantaneous angular speed and deviation time representing torsion in the system have been contributed successfully for complex machinery train powered by a controller. In the proposed method which is based on even spaces between teeth of magnetic rings, highly discernable data series of uniform intervals have been generated and accurately analyzed to calculate speed and torsion in the rotating shaft both in time and frequency domains. Through this method I was able to capture harmonic compositions in a rotating shaft of an electric motor driven by a controller. The high pitch noise generated by feedback loop of controller is quite
87

evident in the form of torsional vibration in the system and it suggests a correlation between harmonics and output and input voltage of rotordynamic system. Instantaneous power flow in system along with the torsional vibration observed in different scenarios strongly recommend that the fluctuation in IAS is due to electromechanical system which is controlled by a variable frequency drive. The strength of 1 st orders of harmonics show that instantaneous angular speed varies with mean angular speed of the rotating shaft. Other orders of harmonics may not fail the system but definitely will make noise in system and they warrant more investigations. The mathematical modelling of the rotordynamic system will be the next phase of research to be carried out. In order to understand the dynamical behavior of the electro-mechanical system, the controller, the motor, and all mechanical components will be modelled. The coupled dynamical equations will be solved using Matlab programming and processed for bending and torsional vibration for wide ranges of operations. The electromagnetic torque and the distributed mass and stiffness of all components in the system will be modelled using finite element method. The values of the rotor parameters and shaft masses and corresponding stiffness as well as stiffness of ball bearings and damping factors of flexible joints are chosen such that the model gives the natural frequencies close to the experimental case. The natural frequency of the rotor will be computed to be compared with the value acquired from experiment, in order to validate the model accuracy. A realistic model of system will be helpful in predicting the failures and useful life of systems utilizing inverters.

88

I am also determined to study the behavior of system by including an in-line planetary gearbox with 1:3 ratios so that any adverse effects of gear contact on vibration can be investigated in combination with the controller's effects. One of other targets of the set-up is studying the torsional vibration in the system by deliberately adding cracks on different positions with a range of selected depths on the rotating shaft. Through these experiments failure prediction of rotating systems will be studied more deeply.

89

Appendix A

Torque vs. Speed for TECO Westinghouse motor

90

Technical Data sheet for TECO Westinghouse motor.

91

Connection diagram

92

Appendix B

Technical Data sheet for Magnetic Ring MR040E

93

Appendix C

Technical Data sheet for LM13 readhead

94

95

  = 40.8 + 0.1 

 = ±

4.6 = 0.1124 40.9 4.6 = 0.1130 40.7

  = 40.8 - 0.1 

 = ±

96

SDE error for a 64-teeth magnetic ring. 5.8 = ±0.0141 40.9

  = 40.8 + 0.1 

 = ±

97

  = 40.8 - 0.1 

 = ± 40.7 = ±0.0142

5.8

SDE error for a 64-teeth magnetic ring

Hysteresis error versus ride height for an encoder with 2 mm pole length.

98

Hysteresis error vs. ride height

Installation dependent errors are eccentricity and deformation of the ring during installation. Eccentricity influence on accuracy error of a magnetic ring encoder system.

Eccentricity influence on accuracy error

99

100

Bibliography
Ahmed A Gubran, J. K. (2013). Shaft instantaneous angular speed for blade vibration in rotating machine. Catalogu, R. I. (n.d.). D.G. Holmes, B. (2001). Opportunitties for harmonic cancellation with carrier-based PWM for two-level and multilevel cascaded inverters. G. Manekar, S. B. (2013). Modeling method of three phase induction motor. International journal of computer applications. Gu, F. J. (1999). Non parametric models in the monitoring of engine performance and condition . J. Song Manguelle, J. N.-Y. (2008). Pulsating torques in PWM multi Megawatt drives design. J.Plotkin, U. R. (2009). Torque-ripple in PWM-VSI-fed drives due to Parasitic effects in the inverter control. Ling, F. (2005). Dynamics of Rotating Systems. Springer. Manguelle, J. S. (2010). Prdeiction of mechanical shaft failures due to pulsating torques of variable frequency drive. P. Biswas, S. S. (2016). Dynamic model nalysis of three phase induction motor using matlab/simulink. International journal of scientific and engineering research. s. Boora, S. A. (2013). Dynamic D-Q axis modeling of three phase asynchronous machine using MATLAB. International journal of advanced research in electrical, electronics and instrumentation engineeringt. S.D. Yu, X. Z. (2009). A data processing method for determining instantaneous angular speed and acceleration of crankshaft in an aircraft engine-propeller system using a magnetic encoder. Mechanical systems and signal processing. Sasi, B. (2001). The exploitation of instantaneous angular speed for condition monitoring of electric motors. Condition monitoring and Diagnosis of the 4th international congress. Sheppard, D. (1988). Torsional vibration resulting from adjustable frequency Ac DRIVE. Ssasi. (2004). Instantanous angular speed monitoring of electric motors. Quality in maintenance engi8neering. T. Feese, R. M. (2008). Torsional vibration problem with motor/ID fan system due to PWM variable frequency drive. proceedings of the 37th turbomachinery symposium. X. Han, A. B. (2012). VFD machinery vibration fatigue and multi-level inverter effect. IEEE. X. Zhang, S. D. (2009). EXPERIMENTAL INVESTIGATIONS OF OSCILLATORY MOTIONS OF AN ENGINE-PROPELLER NONLINEAR DYNAMICAL SYSTEM. Mechanical Vibrations: Measurement, Effects and Control. 101

Y. Li, F. G. (2005). The measurement of instantaneous angular speed. Mechanical system and signal processing.

102

