OPTICAL NAVIGATION FOR NANOSATELLITE STAR TRACKERS
by Harry (Ming Qi) Zhang Bachelor of Engineering, Ryerson University(2015)

A thesis presented to Ryerson University in partial fulfillment of the requirements for the degree of
Master of Applied Science

in the Program of Aerospace Engineering

Toronto, Ontario, Canada, 2018 c Harry (Ming Qi) Zhang 2018

AUTHOR'S DECLARATION FOR ELECTRONIC SUBMISSION OF A THESIS I hereby declare that I am the sole author of this thesis. This is a true copy of the thesis, including any required final revisions, as accepted by my examiners. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research. I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. I understand that my thesis may be made electronically available to the public.

ii

OPTICAL NAVIGATION FOR NANOSATELLITE STAR TRACKERS Harry (Ming Qi) Zhang Master of Applied Science, Aerospace Engineering, Ryerson University, Toronto (2018)

ABSTRACT

This thesis looks at the effectiveness of using nanosatellite class star trackers to perform optical navigation. Although star trackers used for these missions lack the accuracy and sensitivity of sensors employed on larger spacecraft, they offer great resolution relative to its compact size. Two Extended Kalman Filter-based navigation filters illustrate the applications of this class of sensor. The first filter looks at horizon-based techniques using observations of Mars and its moons to assist the navigation filter in a hyperbolic approach. Results show low position (< 300 m) and velocity (< 0.15 m/s) errors as spacecraft reaches periapse. The filter formulation serves as a basis for a design case study exploring different possible sensor configurations for this mission type. The second filter looks at landmark-based techniques using absolute and relative landmarks as observations. Measurement frequency appears as a key parameter in this study, simulation results show position errors in the order of tens of kilometers, or better even if absolute landmarks are only available every 30 minutes. The accuracy of the results are validated through series of Monte Carlo simulations.

iii

ACKNOWLEDGEMENTS
I would like to thank my advisor, Dr. John Enright, whose patience and forethought has guided this research in the right direction. This gratitude also extends to all my fellow lab mates at SAIL, both past and present, especially Laila, Tom, and Ilija that continue to make SAIL a special place to be part of.

iv

Table of Contents
Declaration of Authorship Abstract Acknowledgements List of Tables List of Figures Abbreviations Physical Constants Symbols ii iii iv vii viii x xi xii

1 Introduction 2 Background 2.1 Historical Overview of Optical Navigation . 2.1.1 Landmark-based Optical Navigation 2.1.2 Horizon-based Optical Navigation . 2.2 Overview on ST-16 Star tracker . . . . . . . 2.3 Mathematical Notations . . . . . . . . . . . 2.4 Overview of Kalman Filters . . . . . . . . . 3 Horizon-based Optical Navigation 3.1 Reference Mission . . . . . . . . 3.1.1 Frames of Reference . . . 3.1.2 System Dynamics . . . . 3.1.3 Spacecraft State . . . . . 3.2 Sensor Models . . . . . . . . . . 3.2.1 Attitude Measurements .

1 3 3 4 5 6 7 8 10 10 11 15 16 17 18

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . . v

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

. . . . . .

3.3

3.4

3.5

3.2.2 Direction Measurements . . . . . . . . . . . . . . . . 3.2.3 Position Measurements . . . . . . . . . . . . . . . . 3.2.4 Phase Angle Measurements . . . . . . . . . . . . . . 3.2.5 Terminator Angle Measurements . . . . . . . . . . . Measurement Error Models . . . . . . . . . . . . . . . . . . 3.3.1 Attitude Covariance . . . . . . . . . . . . . . . . . . 3.3.2 Direction Covariance . . . . . . . . . . . . . . . . . 3.3.3 Position Covariance . . . . . . . . . . . . . . . . . . 3.3.4 Phase and Terminator Angle Covariance . . . . . . . Filter Formulation . . . . . . . . . . . . . . . . . . . . . . . 3.4.1 Filter Measurements . . . . . . . . . . . . . . . . . 3.4.2 Propagation . . . . . . . . . . . . . . . . . . . . . . . Experiments and Simulations . . . . . . . . . . . . . . . . . 3.5.1 Experiment 1: Basic Performance Evaluation . . . . 3.5.2 Experiment 2: Relative Measurement Contributions 3.5.3 Experiment 3: Pointing Rules and Sensor Placement

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . .

20 21 22 23 25 25 26 27 28 29 29 29 30 31 35 36

4 Sensor Case Studies 39 4.1 Experiment 1: Exploring Cant-Angles . . . . . . . . . . . . . . . . . . . . . . . . 41 4.2 Experiment 2: Different Fields of View . . . . . . . . . . . . . . . . . . . . . . . . 42 4.3 Experiment 3: Combined Experiment . . . . . . . . . . . . . . . . . . . . . . . . 45 5 Landmark-based Optical Navigation 5.1 System Dynamics and Reference Scenario . . 5.1.1 Reference Scenario . . . . . . . . . . . 5.1.2 Simulation Dynamics . . . . . . . . . . 5.1.3 Filter Dynamics . . . . . . . . . . . . 5.1.4 Camera Observation Model . . . . . . 5.2 Absolute Measurements . . . . . . . . . . . . 5.2.1 Measurement Model . . . . . . . . . . 5.2.2 Experiment 1 Results . . . . . . . . . 5.3 Relative Measurements . . . . . . . . . . . . . 5.3.1 Measurement Model . . . . . . . . . . 5.3.2 Experiment 2 Results . . . . . . . . . 5.4 Improving Dynamics Fidelity . . . . . . . . . 5.4.1 Simulation and Propagator Dynamics 5.4.2 Experiment 3 Results . . . . . . . . . 47 48 48 50 51 52 54 54 55 56 57 60 66 66 68

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

. . . . . . . . . . . . . .

6 Conclusion and Future Work 71 6.1 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71 6.2 Future Works . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73

A Mathematical Derivations and Supplementary Results vi

74

A-1 Small Rotations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . A-2 Planetary Observations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . A-3 Measurement Availability Plots . . . . . . . . . . . . . . . . . . . . . . . . . . .

74 75 76

Bibliography

79

vii

List of Tables
2.1 2.2 3.1 3.2 3.3 5.1 5.2 5.3 5.4 5.5 Key Parameters for the ST-16 Star Tracker . . . . . . . . . . . . . . . . . . . . . Variable diacritic convention. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Frame Identification . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Simulation Scenario Parameters . . . . . . . . . . . . . . . . . . . . . . . . . . . . Estimator Performance at periapse . . . . . . . . . . . . . . . . . . . . . . . . . . Scenario Orbit Parameters for Mars and Earth . Filter Initial Conditions . . . . . . . . . . . . . . C/NOFS Two-Line Elements . . . . . . . . . . . Monte-Carlo Test Details . . . . . . . . . . . . . Filter Performance and Measurement Occurance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 7 12 32 35 51 55 68 70 70

viii

List of Figures
Hyperbolic Mars-approach trajectory. . . . . . . . . . . . . . . . . . . . . . . . . Body, Orbit, and Periapse references frames. . . . . . . . . . . . . . . . . . . . . . Mars observation geometry showing illuminated fraction and terminator angle . . Approximate relationship between visual magnitude and centroid error for the ST-16RT [1]. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.5 Measurement errors for phase and terminator angles. . . . . . . . . . . . . . . . 3.6 Observation availability during approach scenario (Mars-Pointing). . . . . . . . . 3.7 Position error during approach scenario . . . . . . . . . . . . . . . . . . . . . . . 3.8 Peritime error during approach. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.9 Periapse radius estimate compared to true, osculating, value. . . . . . . . . . . . 3.10 Observation availability during approach scenario (Velocity Pointing). . . . . . . 3.11 Observation availability during approach scenario (Velocity Pointing, tilted sensor mounting). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.1 4.2 4.3 4.4 4.5 4.6 4.7 4.8 5.1 5.2 5.3 5.4 5.5 5.6 5.7 5.8 5.9 Geometric peroperties pertaining to field of view angle, focal length, and detector sizing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Position covariance at periapse as a function of  ,  = 7.5 . . . . . . . . . . . . . Velocity covariance at periapse as a function of  ,  = 7.5 . . . . . . . . . . . . . Position covariance at periapse with respect to different field of view angles. . . . IOC as a function of . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . FMA as a function of . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Deimos measurement fractional availability as a function of . . . . . . . . . . . . Position covariance at periapse as a function of  for different  . . . . . . . . . . Diagram of basic frames of reference. . . . . . . . . . . . . . . . . . . . . . . . . . Illustration of the measurement geometry. . . . . . . . . . . . . . . . . . . . . . . Filter position performance with only absolute measurements, TAbs = 600 s. . . Filter velocity performance with only absolute measurements, TAbs = 600 s. . . Flowchart outlining measurement process and hierachy. . . . . . . . . . . . . . . Filter position performance with absolute and relative measurements, TAbs = 600 s. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Filter velocity performance with absolute and relative measurements, TAbs = 600 s. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Position uncertainty over between two absolute measurements. . . . . . . . . . . Velocity uncertainty over between two absolute measurements. . . . . . . . . . . ix 3.1 3.2 3.3 3.4 11 13 23 27 28 33 33 34 34 37 38

40 41 42 43 43 44 45 46 48 53 56 57 61 61 62 63 63

5.10 Mean pre-update position error at various TAbs . . . . . . . . . . . . . . . . . . . 5.11 Mean pre-update velocity error at various TAbs . . . . . . . . . . . . . . . . . . . 5.12 Filter position performance with absolute and relative measurements, TAbs = 1800 s. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5.13 Filter velocity performance with absolute and relative measurements, TAbs = 1800 s. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5.14 Graph of the right ascension of the ascending node for the three test scenarios compared to truth. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5.15 Filter position performance with high fidelity dynamics. . . . . . . . . . . . . . . 5.16 Filter velocity performance with high fidelity dynamics. . . . . . . . . . . . . . .

64 64 65 65 66 69 69

x

Abbreviations
EKF FOV FMA IC IOC IMU LIDAR LOS MC Nanosat OpNav POE PRE RAAN SAIL SI TLE Extended Kalman Filter Field Of View Fractional Measurement Availability Initial Conditions Instance Of Convergence Inertial Measurement Unit LIight Detection And Ranging Line Of Sight Monte-Carlo Nano satellite Optical Navigation POst-update Error PRe-update Error Right Ascension of the Ascending Node Space Avionics and Instrumentation Laboratory Sinclair Interplanetary Two Line Element

xi

Physical Constants
Gravitational Constant Earth Standard Gravitational Parameter Jupiter Standard Gravitational Parameter Mars Standard Gravitational Parameter Sun Standard Gravitational Parameter Earth J2 Coefficient Mars J2 Coefficient G µEarth µJupiter µM ars µSun J2,Earth J2,M ars = = = = = = = 6.674 × 10-11 3.986 × 105 1.267 × 108 4.282 × 104 1.327 × 1011 0.001082 0.001960 [m3 kg -2 s-2 ] [km3 s-2 ] [km3 s-2 ] [km3 s-2 ] [km3 s-2 ] [-] [-]

xii

Symbols

a a aM ars b Dsize e f f F h H I Im×n J2 K Nlimb Ntrial P Q r r R

Semi-major axis Cartesian Acceleration Mars Gravitational Acceleration Semi-major axis of Terminator Curve (Radial) Detector Size Eccentricity Sensor Focal Length Landmark Position State Transition Matrix Predicted Measurements Measurement Sensitivity Matrix Default 3 by 3 Identity Matrix m by n Identity Matrix J2 Coefficient Kalman Gain Number of Limb Points Number of Trials State Covariance Process Noise Covariance Range Cartesian Position Vector Measurement Covariance xiii

km
m s2 m s2

rad m [-] mm km [-] [-] [-] [-] [-] [-] [-] [-] [-] [-] [-] km [-] [-]

RM s t - tp u v v V w x y z Z

Radius of Mars Displacement Vector, between spacecraft and target Time until Periapse Vertical Pixel Index Horizontal Pixel Index Cartesian Velocity Vector Visual Magnitude/Photometric Brightness Noise Parameter State Actual Measurements Detector Coordinates Sensor Boresight Vector

km km hr [-] [-]
m s

[-] [-] [-] [-] [-] [-]

M   pix i t TAbs µ      c    

Right Ascension of Mars Terminator Angle Mounting/Cant Angle Pixel Size Attitude Error Pseudomeasurement Relative Measurement Period Absolute Measurment Period Standard Gravitational Parameter Field of View Half-Angle Measurement Noise Mars limb to Boresight Angular Separation Angular Radius Target Position Mars Centre to Boresight Angular Distance (In Image) Error/Uncertainty Attitude Error Constant Attitude Error Phase Angle xiv

rad rad rad µm rad s s
m3 s-2

rad [-] rad rad km rad [-] s rad rad

  

Sensor Mounting Error Angular Velocity Angular Velocity Vector

rad
rad s rad s

0m×n

m by n Zero Matrix

[-]

xv

I dedicate this to my friends, family and loved ones.

xvi

Chapter 1

Introduction
Over the past decades, optical navigation has become an increasingly popular technique to orbital estimation and guidance with scores of examples of successful missions. These techniques can provide autonomous and self-contained navigation estimates for satellites orbiting the Earth or other planets such as Mars. Earth orbit satellites have the ability to rely on ground tracking for orbital information. However, tracking stations are priority based and the allotable time is demanding. When communications to ground station is restricted or constrained, the ability to provide self sufficient orbit information becomes critical. This research involves examining the feasbility of implementing this technique on nanosatellites. Nanosatellites (nanosats) refer to a class of small satellites with a mass between 1 - 10kg. The development of nanosatellites has been a growing part of modern technology in recent years. The driving force behind this growth partly lies with the economic efficiency offered by this class of satellite. That is, nanosats have lower production and manufacturing costs, as well as lower associated launch vehicles costs. Additionally, multiples of these satellites can be launched together to further reduce launch costs. In large numbers, nanosatellites can enable missions that larger satellites are incapable of such as [2]:

· Constellations for low data rate communication · Use formations to gather data from multiple points · In-orbit inspection of larger spacecraft.

Star trackers are a type of sensor frequently employed on nanosats. They are small scale optical sensors used primarily for attitude determination. Compared to the optical sensors on large 1

Chapter 1. Introduction

2

satellites for larger scale missions, star trackers rarely exhibit the same degree of accuracy and sensitivity. Star trackers offer a small compact size and weight, along with a powerful internal computer. These aspects of the star tracker make it a prime candidate as an optical sensor for nanosatellite missions. If the star tracker's optical properties can allow it to sufficiently perform optical navigation. Then it can be used for orbit determination in addition to attitude estimation and open up the door to a wide variety of possible mission applications. This research looks at the capabilities of using nanosatellite startrackers to perform OpNav. The baseline sensor used in the research is reflective of the optical properties of a Sinclair Interplanetary ST-16 star tracker. The research outlines two EKF-based navigation filters that looks at two different types of optical navigation. The first looks at horizon-based OpNav techniques. The filter demonstrates promising results and shows potential to being an enabling technology for various mission types. This framework was further used to conduct case studies that explores system performance with respect to sensor configurations. The second framework presents a landmark-based approach, with an in-depth study on the effects of measurement availability on the performance of the system. Monte-Carlo simulations were further conducted to assesss the performance of the filter. In Chapter 2, contains a historical review on optical navigation missions and studies. Simultaneously this chapter also presents a brief overview on star trackers and Kalman filtering principles. Chapter 3 outlines a framework for using nanosatellite-class instruments to conduct horizon based optical navigation, with the majority of focus on the performance of the system based on Monte Carlo simulations. Chapter 4 uses the framework outlined in chapter 3 to conduct case studies, looking at tradeoffs with regards to different sensor configurations. Chapter 5 looks at the feasibility of using nanosatellite-class startrackers to conduct landmark-based optical navigation. In this chapter, the correlation between measurement availability and system performance is explored in detail. Accuracy of results are validated through Monte Carlo simulations. Chapter 6 summarizes the contributions of this thesis and provides directions this research can pursue in the future.

Chapter 2

Background
This chapter provides some background knowledge on the contents of this thesis. It starts off with a historical overview on optical navigation. Following with an explanation on the mathematical notations used in this thesis. Then it provides a description of the primary sensor used for this research, ST-16 star tracker. Lastly, it ends with a discussion outlining the basic formulation of Kalman filters.

2.1

Historical Overview of Optical Navigation

This section reviews some of the previous missions where optical navigation techniques were applied, paying attention to the techniques used. It also takes a look at some of the previous related studies conducted by researchers. OpNav is a well known and established method used for orbit determination used for decades. OpNav involves using optical data (images) to derive spacecraft navigation knowledge according to the information provided by the data. Special features identified in the images, can also be tracked through proceeding frames to provide relative navigation information. OpNav grants the spacecraft its own orbit determination capabilities, providing autonomous and self-contained navigation estimates for the spacecraft, and reducing the reliance on ground-based tracking stations. Ground tracking stations use a radar system to determine the range, velocity, and bearing of an object. This allows the determination of the orbital trajectory with a high degree of accuracy. However, the amount of allotable communication time to these ground tracking stations is priority based. Since nanosatellite class missions are not primary missions, the amount of 3

Chapter 2. Background

4

ground tracking available is scarce. With this in mind, the ability of the satellite to have its own orbit determination capabilities becomes highly important. Optical navigation dates back to as early as the Apollo missions in the 1960s. This mission used lunar landmark sightings to provide navigation information to its guidance system [3][4][5]. This approach shines best when the target is in close proximity, and is fairly common for many small-body missions. The following two sections outline the two main categories of OpNav.

2.1.1

Landmark-based Optical Navigation

The first type of OpNav categories involves deriving navigation information from observations of landmarks in the images. These landmarks can be distinctive landforms such as craters, coast lines shapes, and islands, or they could be collection of landforms. Landmark tracking is a highly explored technique in this category of OpNav, it involves identifying, matching, and tracking landmarks across consecutive frames to calculate the relative motion of the spacecraft. Cataloging unique landmarks is also a common practice, where information pertaining to a unique landmark is recorded into a catalog. During navigation, if these cataloged landmarks are identified, it can be used to determine navigational information. Landmark-based OpNav has a high degree of flexibility in the sense that as long as features can be identified, it can be used for navigation. This technique shines best in close proximity operations, due to the inherent range restrictions required to properly resolve landmark observations. The remainder of this section presents a discussion of the prior work in the field of landmarkbased OpNav, discussing several recent and historical approaches to landmark tracking and examine how researchers have handled processing of landmark features. The Near Earth Asteroid Rendezvous (NEAR) mission [6] applied optical navigation around asteroids. As the spacecraft passes close to these bodies, it applied optical navigation techniques from observations of the bodies to provide information to determine spacecraft orbits. These small bodies have irregular shapes and gravitational fields which make traditional orbit determination techniques difficult. As such, landmarks such as craters become an essential part to the optical observations due to their highly available nature. The NEAR mission was the first to operationally make use of craters on the surface of a central body. The landmarks are detected manually on each individual frame then tracked through consecutive frames to calculate the orbital change. These observations have proven to be a powerful data type for determining spacecraft orbits for close flybys and low proximity orbiting.

Chapter 2. Background

5

Markley explores the ability of earth sensors to determine orbital state using landmark tracking and compares the methodology to orbit determination by using more conventional sensor data such as gyro, star and sun sensor [7]. Toda and Schlee explored different techniques for using unknown landmarks in orbital navigation [8]. In their analysis, they assume the initial orbital parameters are available, and they use the spacecraft position to estimate the position of the first landmarks detected. Tada and Schlee further explore the effects of the data rate and observation instances on accuracy of the optical navigation. In addition to orbit determination, landmark-based navigation can also be used during landing scenarios. Johnson, et al. propose an optical navigation method for planetary descent. Their algorithm is based on matching 2D images to 3D depth maps. They use the optical data combined with measurements from inertial sensors in an Extended Kalman Filter to estimate the lander positions [9]. Shuang, et al. explores optical navigation for asteroid landing missions [10].

2.1.2

Horizon-based Optical Navigation

Apart from landmarks, horizon based navigation techniques have also been rising in popularity over the years. This type of optical navigation uses the lit horizon of celestial bodies to perform optical navigation. By identifying the orientation of the lit portion of the target, it is possible to derive geometric information of the observer with respect to the target and the Sun with the help of emphemeral data. This method often couples the targets on a background field of stars, which allows conventional star tracking if the number of stars are sufficient. Horizon-based OpNav has stricter range restrictions when compared to landmark-based OpNav. Landmark-based methods can be applied even on the surface of the planet, the only requirement is that the landmarks are resolvable. However, horizon-based techniques have a specific span of range requirements, close enough to get a clear view of the lit horizon, but not close enough to lose sight of it. Horizon-based OpNav can be applied at a much higher range than landmarkbased OpNav, since it is easier to resolve horizon observations than distinctive landmarks. At even high ranges to the planet, it is possible to use the geometry of observed planetary bodies to provide navigation information. The remainder of this section takes a look at some of the prior works in the field of horizon-based OpNav Horizon-based OpNav was first explored during the Gemini program, gradually improved over the years. It was demonstrated in the Apollo missions and achieves operational success during

Chapter 2. Background

6

the Voyager 1 flyby of Jupiter [11]. Recently NASA's Orion project has once again rekindled the approach of horizon-based optical navigation techniques. The mission investigated using horizon-based techniques to autonomously navigate back to Earth in the case of a communications failure. Christian and Lightsey [12] presents an Extended Kalman Filter (EKF)-based navigation solution using images from the Messenger mission to calculate orbital parameters during a Venus flyby. They refine their processing and navigation models with hypothetical cis-lunar maneuvers. Deep Space 1 had the autonomous, onboard, optical-navigation system AutoNav [13]. This system autonomously determines the position of the spacecraft using images of distant asteroids. This significantly reduces the reliance on the Deep Space Network for tracking and enabled additional mission capabilities.

2.2

Overview on ST-16 Star tracker

Compared to the sensors employed on large class spacecraft missions, star trackers are a type of small sized, low weight optical sensors used for attitude determination. They observed star distributions as its underlying principle to provide an attitude estimation. Generally the processing chain of a star tracker's operations can be described using five steps: imaging, star detection, measuring star positions, matching, and attitude solutions [14]. 1. Imaging focuses the light from the light source (stars) onto the detector of the star tracker and digitally forms the image. 2. Star detection uses image processing techniques to identify suitable stars and isolate star intensity patterns. 3. Star vector computation centroids the star images and calculates star vectors according to a camera model. 4. Matching compares the the observed stars with star patterns from an onboard star catalog. 5. Attitude solution estimates the attitude of the star tracker according to the identified star patterns. The orientation accuracy of the star tracker is heavily dependant on the sensor's ability to resolve stars with high degree of precision.

Chapter 2. Background

7

This thesis examines the effectiveness of using nanosatellite class star trackers for optical navigation. The employed sensor models are reflective of the characteristic optical properties of a Sinclar Interplanetary ST-16 star tracker. The ST-16 was chosen due to it possessing size and optical design parameters typical of a nanosatellite class star trackers. Table 2.1 shows the key parameters of the ST-16 star tracker [14].
Table 2.1: Key Parameters for the ST-16 Star Tracker

Parameter Focal Length Lens Pixel Size Detector Resolution Field of View Accuracy

Value 16 mm f /1.6 2.2 µm 1944 × 2592 pixels 7.5 × 10.5 half-angle < 7 arc-sec RMS cross-boresight < 70 arc-sec RMS around boresight

Size Exposure Time

59 × 56 × 31.5 mm 100 ms

2.3

Mathematical Notations

This section introduces the notational coventions used in this thesis. Table 2.2 contains the convention for variable diacritics.
Table 2.2: Variable diacritic convention.

Diacritic x x x ¯ x ~ x 

Definition Value truth Estimated value Nominal or Reference value Corrupted value Time derivative

A bolded symbol represents a vector while a non-bolded symbol represents a scalar. For example,
T

a=

a1 a2 a3

is a vector, while a1 , a2 , and a3 are scalars.

The unary cross-matrix operator, also known as a skew-symmetric matrix is frequently used in this document. For a, its corresponding cross-matrix would be:

Chapter 2. Background

8



0

-a3 0 a1

a2

 (2.1)

 a×    a3 -a2

 -a1   0

Principal axis rotation about axis-j is denoted as Cj . The sense of these rotations provides the transform into the rotated frame. For example if Frame-B is obtained from Frame-A by an x-axis rotation through an angle , then:   (2.2)

1

0 cos 

0

 CBA = C1 () =   0

 sin    0 - sin  cos 

In this work, I represents an identity matrix of the form  1 0 0  (2.3)

   I  0 1 0  0 0 1

2.4

Overview of Kalman Filters

The application of Kalman filtering based techniques are often used in studies of optical-based navigation systems evident from the prior works overview. The Kalman filter was first introduced in 1960 by Rudolph E. Kalman. It offers a very useful approach in state estimation. The filter propagates a system using a set of known dynamics. It also allows the incorporation of multiple different types of measurements into the state update of the filter. A type of Kalman filter that is frequently used in this research is the Continuous-Discrete Extended Kalman Filter (EKF). This type of EKF propagates nonlinear dynamics and measurements. This type of filter usually follows a standard formulation. The estimator propagates the state according to a corresponding dynamics model:

 = f (x, u) x The state covariance is propagated using the linearization:

(2.4)

Chapter 2. Background

9

 = FP + PFT + Q P The Kalman gain is calculated using:
- T T Kk = P- k Hk Hk Pk Hk + Rk -1

(2.5)

(2.6)

used in the state update
- - x+ k = xk + Kk y - h xk

(2.7)

and the state covariance update
- P+ k = [I - Kk Hk ] Pk

(2.8)

the Jacobians F and H are the state transition- and measurement sensitivity- matrix, respectively. They are evaluated by taking the partial derivatives of the state function and measurement function with respect to the elements of the state.

F=

f x

(2.9)

H=

h x

(2.10)

Q and R are the process- and measurement- noise covariance, respectively, corresponding to the noise modelled in the system. The quantity y represents the actual corrupted measurement. The term y - h x- k is referred to as the innovation and represents the measurement error.

Chapter 3

Horizon-based Optical Navigation
This chapter outlines an OpNav framework using horizon based techniques. The main focus of the chapter looks at the performance of the framework. The developed framework is a nanosatellite compatible EKF-based navigation filter using a hyperbolic Mars-approach reference mission. The filter uses observations of Mars and its moons as measurements to correct for initial errors in the spacecraft state. This framework represents a collaboration between researchers in SAIL. The math described in this chapter is reproduced from the respective paper written by Enright, et al. [1].

3.1

Reference Mission

This section discusses the reference mission outlines the reference scenario and formulation for the navigation system. This includes the basic reference frames, approach geometry as well as the system dynamics. This work uses the upcoming 2018 Mars Insight Lander mission as an inspirational mission. The Insight Lander mission will be accompanied by the Mars Cube One (MarCO) satellites [15]. They are two 6U cubesats designed to observe and relay data from Insight during the latter spacecraft's entry, descent, and landing phases. Although MarCO will use conventional ground-based tracking, autonomous navigation capabilities may enable future missions when demand exceeds the capacity of the Deep Space Network.

10

Chapter 3. Horizon-based Optical Navigation

11

sun

Figure 3.1: Hyperbolic Mars-approach trajectory.

3.1.1

Frames of Reference

The reference scenario involves the terminal phase of an interplanetary transfer from Earth to Mars. The scenario begins as soon as the spacecraft enters the sphere of influence of Mars. The mission trajectory is a planeto-centric hyperbolic trajectory. Figure 3.1 shows an illustration of the approach geometry. The P -frame is the basic frame of reference for this framework. Its origin is located at the Mars barycentre. The P1 axis of the P -frame aligns with the theoretical periapse direction, and P3 axis in the direction of the orbital angular velocity, with the P2 axis completing the right-handed coordinate frame. Additionally, several other frames of references are defined for use throughout the chapter. Table 3.1 lists all the frame definitions used for this chapter. The definition of the B -frame depends on the pointing rule used for the spacecraft. This is a rule the placed on the pointing orientation of the spacecraft, either velocity0aligned, or Mars pointing. The term Si describes the orientation of the i-th sensor, in the case that the spacecraft is equipped with more than a single sensor. It was assumed that all inertial measurements and ephemeris predictions are made with respect to Frame-E . Assuming the spacecraft approaches Mars in the ecliptic, thus

CP E  C3 (sun +  - M ) C1 ( )

(3.1)

Chapter 3. Horizon-based Optical Navigation
Table 3.1: Frame Identification

12

Frame J2000 (ICRS)

J2000Ecliptic

Periapse Orbit (RTN) Body (Mars Pointing) Body (velocity-aligned) Sensor Target

Symbol Centre I Solar System Barycentre E Solar System Barycentre P Mars O B B S T Spacecraft Spacecraft Spacecraft Spacecraft Spacecraft

X-Axis Vernal Equinox

Z-Axis Earth spin axis

VE projection into ecliptic Direction of periapse Outward radius Parallel to orbit normal Parallel to orbit normal Increasing columns Normal to boresight and planet vectors

Normal to ecliptic

Angular momentum direction (of S/C) Angular momentum direction (of S/C) Towards Mars Aligned with velocity Boresight Towards Planet

where M is the right ascension of Mars in Frame-E . The state of the spacecraft is defined by Cartesian position, rP , and velocity, vP . Calculating the corresponding orbital elements, allows the determination of semimajor axis, a, and eccentricity e, that define the shape of the hyperbola. The semi-major axis, a, can be found using:
-1

a= The angular momentum of the orbit is:

v2 2 - µ r

(3.2)

hP = r × P vP thus the eccentricity, e can be determined using: a+ a
h2 µ

(3.3)

e=

(3.4)

Angle  defines the hyperbolic asymptotes with respect to the P1 axis

Chapter 3. Horizon-based Optical Navigation

13

 



  
Figure 3.2: Body, Orbit, and Periapse references frames.

 = - arccos -

1 e

(3.5)

Assuming the approach occurs at the aphelion of the heliocentric transfer ellipse, then angle to the sun Sun is given by:  2

Sun =  -

(3.6)

Figure 3.2 contains an illustration of the O-frame. The rotation from Frame-P to Frame-O is a function of the spacecraft position and velocity. Thus, CP O can be expressed in terms of basis vectors as:

CP O = where

O1P

O2P

O3P

(3.7)

Chapter 3. Horizon-based Optical Navigation

14

O1P =

rP r

(3.8)

O3P =

r× P vP r× P vP

(3.9)

where a× is the skew-symmetric matrix of vector a (see Section 2.3). The last vector completes the right-handed frame:

O2P = O× 3P O1P

(3.10)

The rotation CBO is defined by the pointing rules of the spacecraft attitude. Pointing rules are important for keeping a specific viewing orientation when making observations. Also, during insertion burns it is useful to align the spacecraft with the velocity vector. For the scenario in this chapter two individual pointing rules are considered. First, a Mars-pointing mode that keeps the limb of Mars off-centre from the sensor boresight by a specified angular distance,  . In this setting, CBO is written as  2

CBO  C1 ( -  ) C2 - where  is the angular radius of Mars Rm r

(3.11)

 = arcsin

(3.12)

Second, a velocity-aligned mode that keeps the B3 axis aligned with the velocity vector, where B1 is defined using the angular momentum and B3 from the linear velocity as: vO v

B3O = B1O = with B2 completing the right-handed frame.

(3.13) (3.14)

r× O vO r× O vO

The transform CSB is defined by the sensor mounting angle,  . This transform represents the orientation of the sensor mounting with respect to the body frame.

Chapter 3. Horizon-based Optical Navigation

15

CSB = C ( ) The last set of transforms CSB represents a rotation between S and T :

(3.15)

CT S = C1 (c ) C3 (c )

(3.16)

where c represents an angle the centre of Mars makes from the camera boresight and in an azimuthal direction c measured from the x-axis of the detector in the S -frame.

3.1.2

System Dynamics

The navigation filter consists of two essential components. The simulator represents the truth dynamics of the system, it predicts the true state of the system and the synthetic sensor measurements. The estimator represents the filter. Both components continuously propagates position, velocity, aand attitude over the course of the scenario. The spacecraft is assumed to be in unpowered flight, such that the translational motion is perturbed only by disturbing accelerations. The attitude motion is based on the specific pointing rule, dependent on spacecraft position. A simple model of the attitude error dynamics is presented in place of an explicit control system model. The orbital position is propagated in the P -frame using a Cartesian formulation for the dynamics. The net acceleration of the spacecraft in the P -frame, v  P , is expressed as:

v  P = aMars,P +

 ai,P

(3.17)

where aMars,P is the gravitational acceleration due to Mars and  ai,P represent other perturbation terms. The primary perturbations modelled are third-body gravitational effects from Jupiter and the Sun. They can be written as:

aMars,P = -

µMars rP r3

(3.18)

ai,P = -µdist

rDS, rDM, - 3 3 rDS rDM

(3.19)

Chapter 3. Horizon-based Optical Navigation

16

where rDS is the vector from the disturbing body to the spacecraft, and rDM is the vector from the disturbing body to Mars. The third-body perturbations are incorporated into the truth model for the simulation, but are omitted in the estimator. These perturbations are used to introduce large differences between the truth and estimator dynamics. If the system can perform well in this case, including third-body perturbations into the onboard estimator will most likely result in an improvement in the performance. The employed attitude error dynamics is an approximation to the behaviour of a real system. Under the assumption that spacecraft attitude CBP can closely track a reference attitude trajec¯ BP , the attitude error can be represented as an error rotation vector (see Appendix A-1), tory C , thus ¯ BP CBP = I - × C (3.20)

where the attitude error dynamics is modelled as a first order system driven by random noise

 = -  + w   w is a zero-mean Gaussian random variable with known covariance, Q .

(3.21)

3.1.3

Spacecraft State

The state of the spacecraft is a set of parameters describing spacecraft motion and configuration. It is written as:

xT =

rT P

T vP

T

· · · T

(3.22)

The attitude error  is expressed as an error rotation vector. The system uses measurements ¯ S B , and with an from one or more star trackers, each with a nominal body-frame orientation C
i

unknown mounting error  i . The Cartesian position and velocity of the spacecraft rP and vP are both measured in the periapse frame.

Chapter 3. Horizon-based Optical Navigation

17

3.2

Sensor Models

This framework uses a number of measurements extracted from star tracker images to provide useful navigation information to the filter. The set of measurements include:

· Sensor-referenced directions to Phobos and Deimos · Attitude with respect to an inertial frame (Frame-P ) · Phase angle between the spacecraft, the sun, and Mars (by measuring the illuminated fraction of Mars) · The orientation angle of the terminator on the surface of Mars relative to the sensor.

The framework also models measurement availability according to a set of rules. The governing heuristics are as follows: 1. If the sun lies within a fixed exclusion angle (35 ) of the sensor boresight, then no measurements are available. 2. Phobos and Deimos are only available when their apparent visual magnitude is brighter than a threshold value (a conservative value of 5.75 was chosen from the reference star tracker design). 3. Attitude measurements are available when three or more stars are visible in the field of view (and not blocked by Mars). 4. Phobos and Deimos are not visible during eclipses and transits (i.e., when they pass in front or behind Mars). 5. The Mars position can be estimated as long as the part of the illuminated limb is within the FOV. 6. Phase and terminator angles can only be measured when the entire disk of Mars lies within the FOV.

The measurement availability directly affects the observation matrix

Chapter 3. Horizon-based Optical Navigation

18



h1

 (3.23)

   h h= 2   . . . and the measurement sensitivity matrices:



H1

 (3.24)

   H=  H2  . . . where h and H are composed of rows from available measurements.

3.2.1

Attitude Measurements

Each sensor has an intertial orientation that is expressed as: CSP = CSB CBP (3.25)

But the actual orientation of the spacecraft in the body frame is based on the state estimate.

¯ BP CBP = C () C

(3.26)

¯ SB and the mounting errors, Expanding further in terms of the nominal mounting orientation C  i gives

¯ SB CSB = C ( ) C and thus

(3.27)

¯ BP ¯ SB C () C CSP = C ( ) C

(3.28)

The pseudomeasurement  (for each sensor) is introduced to represent the (first order) error rotation vector between the ideal and measured attitudes.

Chapter 3. Horizon-based Optical Navigation

19

¯ BP ¯ SB C CSP = I - × C Equating Equation (3.28) and Equation (3.29) gives:

(3.29)

¯ SB = C ( ) C ¯ SB C () I - × C

(3.30)

¯SB rotation can be removed. by transforming  into the S -frame, the effect of the nominal C

¯ SB  = C ( ) C (S ) I - × = C ( ) C C

(3.31)

Solving for  vector and adding Gaussian attitude measurement noise,   , gives the expression for the noisy attitude error pseudomeasurement

 =  +  Similarly, the estimated pseudomeasurement is determined using:

(3.32)

I-

×

= C  C S

(3.33)

In order to evaluate the partial derivatives first-order approximations was applied to the nonlinear rotations in Equation (3.31) and Equation (3.33). ¯ SB     + S =  + C (3.34)

Hence

 = I3×3  and

(3.35)

 ¯ SB =C 

(3.36)

Chapter 3. Horizon-based Optical Navigation

20

3.2.2

Direction Measurements

The direction measurements involve direct observations of the solar-system bodies estimated in the sensor frame. These bodies include the two moons of Mars; Phobos and Deimos. They rely on the displacement vector, sSi , between the spacecraft and the bodies.

sS = CSP (P - rP ) The true vector can be calculated as: ¯ BP (P - rP ) sS = C ( ) CSB C () C

(3.37)

(3.38)

the target position, P , is predicted from ephemeris calculations. In this case JPL's SPICE toolbox [16] was used. The estimator can effectively predict the ephemerides in the E -frame. Transforming the predicted ephemerides from the E -frame into the P -frame gives the following expression for the predicted observations:

¯ BP (P - rP ) ¯ SB C () C sS  C ( ) C

(3.39)

Assuming a pinhole camera model for the detector, the coordinates of the body can be estimated using:

z=

f pix

sS,x /sS,z sS,y /sS,z

+ z

(3.40)

Using Pittelkau's [17] relationship for focal-plane measurements, the measurement sensitivity with respect to state components can be calculated as:

z  z  sS = x  sS  x where

(3.41)

Chapter 3. Horizon-based Optical Navigation

21

f z =  sS pix

1/sS,z 0

0 1/sS,z

-sS,x /s2 S,z -sS,y /s2 S,z

(3.42)

Thus, the nonzero partial derivatives are

z z =- CSP  rP  sS

(3.43)

z  z  sS =   sS  

(3.44)

z z  sB =- CSB   sS 

(3.45)

This model is most suitable when the targets are close to being point sources. In this study, it was determined through simulations that Phobos and Deimos never exceed an apparent angular radius of two pixels.

3.2.3

Position Measurements

The apparent size of Mars can be used to provide useful information in estimating position. The approach in obtaining an accurate estimate of , c and c is available in A-2. Using this information, the range to the target r can be calculated by rearranging Equation (3.12):

r=

Rm sin 

(3.46)

and the pseudomeasurement for sS can be calculated using Equation (A.6) from A-2:     (3.47)

sx

cos c sin c

     sy  = r  sin c sin c      cos c sz

The method to calculating sS is not partiticularly novel, numerous examplary techniques are available in literature such as [18], [19], and [20].

Chapter 3. Horizon-based Optical Navigation

22

Writing the Mars-observation vector sS in terms of the filter state, the true observations are given by

¯ BP rP +  r ¯ S C () C sS = -C ( ) C B and the modelled measurement

(3.48)

¯ BP rP ¯ S C () C sS = -C ( ) C B The measurement sensitivity matrices are then

(3.49)

 sS = -CSP  rP

(3.50)

 sS  rS =-  

(3.51)

 sS  rB = -CSB  

(3.52)

3.2.4

Phase Angle Measurements

Using orthographic projection [21], the illuminated portion of Mars can be used to obtain an estimate of the phase angle, , between the sun, Mars and the observer. We have the following relationship:

 =  - arccos

sin b sin 

-b

(3.53)

where b is the semi-major axis of the terminator curve (see Figure 3.3) The true value of  can be calculated from vector calculations rT P sun,P rP Rsun,P

 = arccos

(3.54)

Chapter 3. Horizon-based Optical Navigation
 

23


c
 

b
Illuminated Limb Cusps

c

Semiminor axis (of terminator) Terminator

Figure 3.3: Mars observation geometry showing illuminated fraction and terminator angle

Taking the (implicit) partial derivatives of the expression gives the following for the measurement sensitivity:  =-  rP T sun,P r3 sin  r2 I - rP rT P (3.55)

3.2.5

Terminator Angle Measurements

The terminator angle is defined as the orientation of the terminator ellipse on the Mars disk projected onto the sensor field of view (see Figure 3.3). This ellipse is defined in vector space for convenience. The major axis of the ellipse is orthogonal to the plane containing the spacecraft, the Sun, and Mars. Hence, it points in the direction:

P = -r× P sun,P

(3.56)

The observed terminator angle results from the projection of this vector into Frame-T . Expressed as conponents of of T , we have: T,y T,x

tan  =

(3.57)

where

T = CT S CSP P The partial derivatives are of the form

(3.58)

Chapter 3. Horizon-based Optical Navigation

24

 1 = x (1 + tan2  )

S,y - 2



S,x

1 S,x

0

 T x

(3.59)

using Equation (3.16), the corresponding partial derivatives of T are  C1 (c ) c  C3 (c ) c  T = C3 (c ) S + C1 (c ) S + CT P × sun,P  rP c  rP c  rP

(3.60)

 T  C1 (c )  C3 (c ) c c = + C1 (c ) + CT S × C3 (c ) S S S  c  c 

(3.61)

 C1 (c ) c  C3 (c ) c  T = C3 (c ) S + C1 (c ) S + CT S CSB × B  c  c 

(3.62)

Since CT S is state-dependent, the partial derivatives of c and c must be evaluated. Based on the following expression for c : ZT P rP r

cos c = -

(3.63)

where ZP is the sensor boresight-vector, rotated into the P -frame (i.e., the third row of CSP ). The corresponding partials are ZT c = 3 P r2 I - rP rT P  rP r sin c

(3.64)

c 1 =-  r sin c

ZT S

 rS 

(3.65)

c 1 =-  r sin c

ZT B

 rB 

(3.66)

See Equation (A.5) for the identity used to evaluate the latter terms in Equation (3.65) and Equation (3.66). The expression for c is given as

Chapter 3. Horizon-based Optical Navigation

25

tan c =

sx sy

(3.67)

using this relationship, the resulting partials are then

c 1 =  rP 1 + tan2 c

1 sy

x -s s2 y

0

CSB CBP

(3.68)

c 1 =  1 + tan2 c

1 sy

x -s s2 y

0

 sS 

(3.69)

1 c =  1 + tan2 c

1 sy

x -s s2 y

0

CSB

 sB 

(3.70)

3.3

Measurement Error Models

This section outlines all the error models used in the simulations. These models capture the effects of the measurement errors that exist in the scenario. The measurements for rS employs a parametric model while  and  uses an empirical model. Measurements are of the form:

hj (x) = hj (x) +  (x) the covariance for the measurement noise has the definition:

(3.71)

R (x)  E  (x)  (x)T

(3.72)

The goal here is to approximate the measurement covariance terms R (x) for each type of measurement.

3.3.1

Attitude Covariance

The following popular model was adopted for the covariance in the attitude error :

Chapter 3. Horizon-based Optical Navigation

26



2 bs

0
2 bs

0 0
2 roll

    (3.73)

 R =   0 0

0

where bs represents the errors in the cross-boresight direction, these are identical. While roll is the roll error, which is usually significantly higher in comparison.

3.3.2

Direction Covariance

The accuracy of the direction measurements for the moons is dependent on the star tracker's centroiding accuracy, which in turn depends on the brightness of the target. In the simulations, the apparent radius of Phobos does not exceed two pixels, thus, the image processing required is very similar to that used for measuring star directions. The photometric brightness of planetary bodies is approximated using
2 r2 rsun P ()

V = V (1, 0) + 2.5 log10

(3.74)

where V (1, 0) is the (tabulated) visual magnitude of the object at opposition and a distance of 1 au. Based on the NASA-Goddard Mars Factsheet [22], the values used were VPhobos (1, 0) = 11.8 and VDeimos (1, 0) = 12.89. The distances between Mars and the spacecraft, r, and Mars and the sun, rsun are also measured in au. The phase function P () is often approximated as Lambertian sphere

P () =

2 3

1-

 1 cos  + sin   

(3.75)

Centroid noise generally increases for dim stars. The chart created by Enright, et al. [1] in Figure 3.4 shows the relationship between centroid error and brightness for the ST-16RT. Using Equation (3.74), Equation (3.75) and Figure 3.4, the values of moon can be approximated in pixels. The corresponding measurement covariance is:

2 Rmoon = moon I2×2

(3.76)

Chapter 3. Horizon-based Optical Navigation
101

27

1- Centroid Error (pixels)

100

10-1

10-2 -1

0

1

2

3

4

5

6

Visual Magnitude

Figure 3.4: Approximate relationship between visual magnitude and centroid error for the ST-16RT [1].

3.3.3

Position Covariance

The Mars position adopts the error model developed by by Hikes, et al. [23]. This model is useful as it is expressed in terms of a few key quantities derived through geometric and detector properties. Converting to the convention used in this thesis gives:    Rs = R        (3.77)

4 2 -sin(2 )

0
  2 D2 r -rM sin  DrM

0 0

2 sin  r2 -rM DrM 2 (2 +sin(2 )) (r2 -rM ) 2 4DrM



0

where R and D are given by
2 r4  pix pix  2 Nlimb f 2 r2 - rM

R=

(3.78)

D=

 [2 + sin (2 )] - sin2  4

(3.79)

where  is the half-width angle of the illuminated limb. It is measured from the centre of the planet, and is calculated from the observation geometry at each time step. Nlimb is the number of points extracted from the limb curve, it maintains a constant linear sample density in the FOV, calculated using

Chapter 3. Horizon-based Optical Navigation
10-1

28

1- Error (Radian)

10-2

10

-3

10

-4

0

1

2

3

4 10

5
5

Range (km)

Figure 3.5: Measurement errors for phase and terminator angles.

Nlimb =

2 kpix

(3.80)

Equation (3.77) is expressed in a reference frame aligned with cusp and limb directions. To use this quantity in the filter formulations, it must be converted into the S -frame, thus

Rs,S = CST C3 ( ) Rs CT 3 ( ) CT S

(3.81)

Both error models depend on the limb and terminator noise parameter, pix , that captures the variation in the precision of locating the respective curves in the detector. By analyzing various images, Enright, et al. [1] determined the value of pix to be in the range of 0.25 - 2.0 pixels. Thus pix was set to the conservative value of 2.0 pixels in this study.

3.3.4

Phase and Terminator Angle Covariance

Figure 3.5 shows the 1 -  errors for  and  at various ranges during approach. These data curves were created by Enright, et al. [1] by analyzing large number of image and fomulating the resulting error models. The curve shows the general trend in which the error decreases as the spacecraft appraoches Mars, significantly more noticeable in  .

Chapter 3. Horizon-based Optical Navigation

29

3.4

Filter Formulation

This section describes the navigation filter developed in this study, it outlines all the important aspects of the filter formulation and the differences from a standard implemencation. The filter is based on a Continuous-Discrete Extended Kalman Filter (EKF) framework.

3.4.1

Filter Measurements

Measurement updates for the EFK is applied using the standard expressions in Section 2.3. ??, Equation (2.7), and Equation (2.8), contain the expressiongs for the Kalman gain, state and state covariance updates, respectively. A nominal set of measurements for the filter has the form                

rP

          h=   zphobos    zdeimos  . . .

(3.82)

Measurement availability (in the FOV) directly impacts h. The Kalman gain, measurement sensitivity is calculated during each step, following which the state and covariance are updated. The filter is formulated to allow measurements from multiple sensors to be processed together.

3.4.2

Propagation

The estimator employs a simplified version of the system dynamics outlined in Section 3.1.2. Such that the perturbation terms are omitted from the velocity dynamics, and instead only includes the simplified version of the dynamics shown in Equation (3.18). While the attitude error dynamics still employs the same first-order process described in Equation (3.21), In order to partially compensate for the ommission of the perturbation terms in the velocity dynamics, a process noise covariance term, Qv , is introduced in the propagation of the state covariance. As a whole, the estimator dynamics are expressed as:

Chapter 3. Horizon-based Optical Navigation

30



vP





03×3 03×3

       wv w (3.83)

  - µrP  r3 x  = f (x, t) =   0 
- 

    I   3×3 03×3 +   03×3 03×3   03×3 I3×3

The state covariance is propagated using Equation (2.5), where the state Jacobian is:

f = F (x)|x=x x     =  
µ r3

03×3 3 r rT - I3×3 r2 P P 03×3 03×3

I3×3

03×3

03×3 03×3 03×3

       (3.84)

03×3 03×3 03×3 03×3

1 03×3 03×3 -  I3×3

and the combined process noise covariance is:   (3.85)

0 03×3  3×3  0  3×3 Qv Q=  03×3 03×3  03×3 03×3

03×3 03×3 03×3 03×3

03×3

 03×3    03×3   Q

3.5

Experiments and Simulations

This section presents a series of trials that looks at the performance of the developed navigation filter. The trials aim to evaluate the general effectiveness of nanosatellite optical navigation, the relative importance of different measurements made, and the versatility of the framework to adapt to changes in the mission and satellite design. The filter outlines a solution for state determination during a hyperbolic approach to Mars using a single star sensor. Thought simulations, it was determined that using the Mars-pointing rule, only a single instance occurs when the sensor FOV is devoid of stars. This is due to the planet completely filling the camera field of view. Otherwise, the Mars-pointing rule ensures that most of the field of view remains unobstructed, and that at least three stars are present at all stages of the approach to allow for conventional star tracking. Thus the choice of using a single sensor is justified as it is sufficient in maintaining stable star tracking over the duration of the approach to provide a constant

Chapter 3. Horizon-based Optical Navigation

31

attitude solution. The importance of this chapter lies in identifying whether any fundamental limitations exist in using star trackers for the outlined scenario. A set of evaluation metrics are presented to gauge the performance of the system. However, the most important metric depends on the specific mission type (e.g, flyby, orbit insertion, coordinated observations). These presented performance metrics are selected due to their utility in large variety of situtations: · Position and Velocity Error. The magnitudes of the spacecraft position and velocity errors. Can be evaluated at periapse, or anywhere along the spacecraft trajectory. · Periapse Radius Error. The accuracy of the periapse radius estimate (derived from the osculating orbital elements). · Peritime Error. The accuracy of determining when the spacecraft reaches periapse. It is most important when planning orbital insertion maneuvers. Calculated from osculating elements. A series of Monte-Carlo simulations allows for the determination of mean and standard errors for the chosen performance metrics. For each trial the initial state estimates are varied according to the distribution described by the initial state covariance. These trials are meant to validate the performance of the filter by looking at the statistics of the results over a large number of trials. It is also used to judge whether the single presented results are typical of filter behaviour. Sets of Ntrial = 5000 trial Monte-Carlo simulations were executed for the following experiments according to the respective configuration. This number of trials correspond to a standard error in the performance statistics of approximately 1%. This degree of accuracy should suffice for preliminary studies. Table 3.2 shows the basic parameters governing the simulation. The reference scenario is based on a hypothetical mission arriving at Mars in January 2019. The sensor design is based on the demonstrated performance of the Sinclair Interplanetary ST-16RT star tracker. A few simplifying assumptions were made (e.g., circular field of view), but otherwise the simulations employ fairly conservative estimates of sensor precision.

3.5.1

Experiment 1: Basic Performance Evaluation

Experiment 1 outlines the nominal performance of the filter. It establishes a baseline expectation of the system behaviour. All possible measurements are enabled for this eperiment. The

Chapter 3. Horizon-based Optical Navigation
Table 3.2: Simulation Scenario Parameters

32

Scenario Start Date Initial Mars-Spacecraft Distance Initial Mars-Centric Speed Right Ascension of Sun (in P frame) Initial Eccentricity Initial Semi-Major Axis Position uncertainty (1 -  ), each axis Velocity uncertainty (1 -  ), each axis Sensor mounting uncertainty, each axis Attitude error uncertainty, each axis Sensor FOV (half-angle) Cross-axis attitude error (1 -  ) Roll attitude error(1 -  ) Attitude error time constant,  Attitude error process noise Velocity process noise (estimator only)

2019 Jan 15 01:55:00 (UTC) 571000 km 2.6694 km/s -0.5236 rad 2.0 6139.7612 km 100 km 10 m/s 0.1 deg. 1 deg. 7.5 deg. 1 × 10-3 deg. 1 × 10-2 deg. 600 s Q = (10-8 )I3×3 rad2 /s4 Qv = (10-15 )I3×3 m2 /s4

trial employs a single optical sensor that maintains a Mars-pointing orientation throughout the duration of the scenario. This pointing rule ensures that most of the FOV remains unobstructed regardless of the range to Mars, such that conventional star tracking is available in addition to the navigational measurements. Figure 3.6 shows a chart of the availability over time. The chart shows all measurements are available through most of the approach. Mars vector and attitude measurements display full availability. The phase (Mars sun angle) and terminator angle measurements disappear the last few hours before periapse, due to the Mars disk becoming too large for these measurements to be made. In the last few hours before periapse the moons can no longer be found in the FOV as a by-product of the specified pointing rule. Figure 3.7 outlines the position error performance of the system over the course of the approach. The solid blue line represents the magnitude of the position error over the duration of the scenario, while the segmented red line is the 3 -  bound calculated from the diagonal elements of the state covariance. The error appears very large initially, but improves over time as the range to Mars decreases. At roughly 10 hr before periapse, the error bound drops to about 20 km, and during the final two hours the bound drops below 5 km. Figure 3.8 shows the error in the estimator's prediction of the peripase timing. This knowledge is useful in the situations where mission-critical activities (e.g., insertion burns) are necessary. For these activities, having a good estimate of the timing is critical. From the figure, the peritime error is very large at about 17 min., but this rapidly deaceases as the scenario process due to

Chapter 3. Horizon-based Optical Navigation

33

Deimos Position

Phobos Position

Mars Sun Angle

Terminator Angle

Mars Vector

Attitude

-60

-50

-40

-30

-20

-10

0

10

20

t-t p (hr)

Figure 3.6: Observation availability during approach scenario (Mars-Pointing).
103
Error in estimate 3 bound

102

Position Error (km)

101

100

10-1

10-2 -60

-50

-40

-30

-20

-10

0

10

t-t p (hr)

Figure 3.7: Position error during approach scenario

the state estimate convergence. In this trial, the error remains below 20 s in the final 24hr. and lies between 0 - 1 s in the final two hours before periapse. Figure 3.9 shows the periapse radius estimate over the course of the simulation. This quantity measures the accuracy of the periapse radius estimated using osculating orbital elements at each step of the scenario. From the graph, the estimate converges slowly, reaching about 3 km in error at roughly ten hours prior to periapse. The large motion in the beginning of the scenario is driven mostly by the third-body pertubations acting on the spacecraft, since these effects are most significant at the start of the simulation. The typical baseline example described above can be reinforced with results from a set of MonteCarlo trials. Table 3.3 outlines all the trials conducted along with corresponding results. The

Chapter 3. Horizon-based Optical Navigation
104
Positive Error Negative Error

34

103 102

Peritime error (s)

101 100 10-1 10-2 10-3 -60

-50

-40

-30

-20

-10

0

10

t-t p (hr)

Figure 3.8: Peritime error during approach.
6200 6190 6180

Periapse Radius (km)

6170 6160 6150 6140 6130 6120 6110 6100 -60
Estimate Truth

-50

-40

-30

-20

-10

0

10

t-t p (hr)

Figure 3.9: Periapse radius estimate compared to true, osculating, value.

performance errors shown in the table are representative of the statistics of the error measured during periapse over a set of trials. The first row of Table 3.3 shows mean and standard deviation values for the baseline case. The statistics demonstrate that the trajectories shown in this study are indeed typical examples of the filter's behaviour. Where mean values are negligible, the corresponding standard deviation is presented. While the position and velocity error statistics hold the most significance, the filter's ability to estimate attitude and sensor misalignment is also important. Overall sensor alignment is accurate to approximately 15 µrad about three axes. The trials show a fair quantity of variability in this value. This is likely due to the contribution from both the attitude and the misalignment

Chapter 3. Horizon-based Optical Navigation
Table 3.3: Estimator Performance at periapse

35

Test Experiment 1 All Measurements Experiment 2 No Terminator No Phase No Phobos No Deimos No Moons Position Only Position + Terminator Position + Phase Position + Moons Experiment 3 Two Sensors Velocity pointing Vel.Point 8.8 Deg Tilt Vel.Point, Wide-FOV, 11.8 Deg Tilt

| r| (km) 0.26 0.27 0.29 0.28 0.32 0.40 0.48 0.29 0.32 0.27 0.22 10.77 4.02 1.81

Mean | v | (m/s) 0.11 0.11 0.12 0.12 0.15 0.19 0.24 0.14 0.16 0.12 0.10 2.70 0.98 0.44

| | (µrad) 15.7 12.7 34.8 24.6 37.9 38.5 24.7 20.9 32.7 18.3 19.1 17.8 18.7 24.5

Standard Deviation Periapse Radius Peritime Error Error (km) (ms) 0.17 0.18 0.17 0.19 0.20 0.23 0.22 0.22 0.22 0.18 0.13 0.48 0.40 0.30 42 45 42 45 46 52 48 49 49 43 40 1460 462 217

error. Furthermore, the net error,  + S , shows less variation than the estimates of  alone.

3.5.2

Experiment 2: Relative Measurement Contributions

The previous experiment presents results that display a baseline performance for the filter. It looked at the performance of the filter in the presence of all the available measurements. However, it is also worthwhile to explore the contributions each individual measurement to the overall system. This is especially important when considering the fact that many measurements require their own unique processing algorithms. The inclusion of a measurement that offers minor improvements to the system should be considered in regards to the development and comuptational investments. The first set of tests in Experiment-2 looks at filter performance during the absence of a single measurement. Attitude and Mars-position (Mars vecctor) are essential measurements, thus they are enabled in all the trials. The results of this set can be seen in the first couple rows in

Chapter 3. Horizon-based Optical Navigation

36

Table 3.3. The loss of the terminator angle measurement makes minor impact on the overall performance of the system, while the loss of the phase angle and the moons appear to have quite significant impact on the accuracy. The second set of tests looks at small set of measurement combinations seen in the last few rows of Table 3.3. The table shows that the filter can still perform acceptable results (with position errors of less than 0.5 km) when using only Position measurements although the error is noticeably higher than the all measurements case. The addition of phase measurements can help restore some of this drop in performance, reducing the error to a level closer to the all measurements case. The moon measurements make a very significant contribution to the performance of the filter, this is evident from the No Moons and the Position + Moons tests. When moon measurements are added to the position measurements in the Position + Moons test, it results in a significant reduction in error bringing the error to a similar value as the all measurements case. In the No Moons test, where the moon measurements are taken away, the filter performance significantly degrades to a level close to the just Position test.

3.5.3

Experiment 3: Pointing Rules and Sensor Placement

Experiment 3 looks at using the developed framework as a design tool to evaluate different spacecraft configurations. This experiment begins conducts a few simple preliminary studies on the topic, more in-depth studies are explored in Chapter 4 of the thesis. The aim of these studies is to demonstrate the utility possessed by the developed framework rather than presenting optimized results. The first trial in this experiment examines the addition of a second star tracker mounted on spacecraft, such that its boresight aligns with the orbit normal. The goal of this change is to provide constant attitude information throughout the scenario via the second sensor. This sensor does not make any Mars observations along the way, but when comparing results with that of Experiment 1, an improvement in the position and velocity performance is visible. The second trial employs the velocity-aligned pointing rule introduced in Section 3.1.1. All the previous trials have used the original Mars-pointing rule that places the limb of Mars offcentre in the FOV. This rule proved to be quite effective looking at the previous results, however missions may have attitude requirements at specific times, that will not permit the spacecraft to maintain a preset orientation over the entire duration. This velocity-aligned rule is introduced as one of many possible pointing criteria that may arise. The rule keeps the spacecraft z-axis (boresight) aligned with the velocity vector.

Chapter 3. Horizon-based Optical Navigation

37

Deimos Position

Phobos Position

Mars Sun Angle

Terminator Angle

Mars Vector

Attitude

-60

-50

-40

-30

-20

-10

0

10

20

t-t p (hr)

Figure 3.10: Observation availability during approach scenario (Velocity Pointing).

Figure 3.10 shows the measurement availability for the velocity aligned mission scenario. The figure shows the Mars vector observations are available until approximately four hours before periapse. This results from the pointing rule, where the scenario starts with Mars being visible in the FOV, but as the simulation proceeds the planet slowly drifts towards the edge of the sensor in the image. By the last four hours before periapse the filter completely loses sight of Mars. This means the filter is left without any position updates during the critical phase of the scenario approaching periapse, which leads to a high increase in error as seen in Table 3.3. A position error of ten kilometers represents almost a 40 times increase in error when compared to the baseline case. It is possible to restore some of the performance by adjusting the star tracker mounting on the spacecraft, such that the spacecraft sees more of Mars as the scenario approaches its terminal phase. In the pure velocity-pointing scenario, Mars begins off slightly off-centre in the -Y direction in the image, and gradually drifts in the -Y direction until it goes out of view. By canting the sensor mounting 8.8 , Mars will start 6.5 off boresight in the +Y direction at the beginning of the scenario, thus prolonging the amount of time that Mars remains in the sensor field of view. Figure 3.11 shows the resulting performance from the mounting angle adjustment. Now, the planet now stays in view until about t - tp = 1.2 hours, which is an improvement from the previous four hours. The results show a 4.4 km error in position during periapse, which is an improvement compared to the previous 10 kilometers, but still worse than the results from the Mars-pointing trials. This configuration is further explored by changing the sensor FOV to 10.5 , and the cant-angle to 11.8 . This change is justified as the ST-16 star tracker possesses

Chapter 3. Horizon-based Optical Navigation

38

Deimos Position

Phobos Position

Mars Sun Angle

Terminator Angle

Mars Vector

Attitude

-60

-50

-40

-30

-20

-10

0

10

20

t-t p (hr)

Figure 3.11: Observation availability during approach scenario (Velocity Pointing, tilted sensor mounting).

a rectangular 7.5 × 10.5 FOV in reality, but the simulations assume a circular FOV. With this change, the Mars observation persists until 50 min. before periapse, resulting in a further drop in the position error from the original 4.4 km to 1.8 km at periapse. These sets of trials show interesting results, but more importantly demonstrates the framework's ability to reflect these kinds of behaviour. This paves the way for possible indepth studies and new alternate design and operational configurations.

Chapter 4

Sensor Case Studies
This chapter uses the outlined framework from Chapter 3 developed by Enright et al. [1] to conduct case studies. The studies involve experimenting with various spacecraft configurations and its effects on the overall system behaviour. The parameters explored in this study were different cant-angles, and sensor fields of view. A cant-angle,  , is essentially tilting the sensor mounting angle by a certain rotation, an example would be the 8.8 cant case from Experiment 3 in Chapter 3. These studies use the position state covariance magnitude as a metric to gauge performance. The position state covariance magnitude was chosen as opposed to the actual position error magnitude due to the highly variable nature of the position error from trial to trial. This variability stems from the noise present in the system. Even for two trials of the same initial conditions the position error may turn out completely different due to noise. Due to Monte-Carlo simulations being computationally expensive, the parameters are initially optimized based on the state covariance. Afterwards, Monte-Carlo simulations can be applied to the critial points. Three sets of tests were conducted to explore the effects of the mentioned parameters. The first test looks at the effects of different cant-angles, and whether any particular angle offered a significant increase in performance. The second test looks at changing the sensor field of view. This change had a high degree of ambiguity due to the properties of the sensor. Field of view angle , focal length f , and detector size Dsize , follow strict geometric relationships outlined in Figure 4.1. Take note that the field of view angle mentioned hereafter represents a half-angle (i.e, half of the total angle shown in the diagram). The sensor properties follow the geometric relationship described by 39

Chapter 4. Sensor Case Studies

40

Lens







Figure 4.1: Geometric peroperties pertaining to field of view angle, focal length, and detector sizing

tan() =

Dsize f

(4.1)

The detector size, Dsize , was kept constant. This allows for the direct adjustment of the field of view angle which results in a compensating change in the focal length. Since the detector size remains the same, the total number of pixels for the camera remains constant. Thus an increase in the field of view angle will actually result in a lower relative resolution, since the total pixel number remains the same but now projects across a bigger angle. The third experiment looks at the combined effects of different field of view angles and different cant-angles. In the majority of situations it is economically more efficient to adjust the mounting angle of the sensor, than to make changes to the hardware to adjust the FOV sizing. This experiment looks to explore if canting the sensor can retain some of the performance improvement resultant from changing the FOV angle. Monte-Carlo trials were conducted for these experiments. The results were sorted into a empirical cumulative distribution function, and the median of this distribution was taken to be the metric used to gauge the performance of the results. The median is used as opposed to the mean because the median will not be skewed by small numbers of outliers, being a better typical representation of the results. For cases where the initial guesses vary, the position covariance will also experience some degree of variation. To account for this, a 95% confidence bound is introduced. This bound is obtained by removing the top and bottom 5% of the sample of an empirical cumulative distribution function. This removes possible outliers that are capable of greatly skewing the statistics of the trials.

Chapter 4. Sensor Case Studies
7
Median 95% Bound

41

Position Covariance at Periapse (km)

6

5

4

3

2

1 0 2 4 6 8 10 12 14 16 18 20

 ( °)

Figure 4.2: Position covariance at periapse as a function of  ,  = 7.5 .

4.1

Experiment 1: Exploring Cant-Angles

Experiment 1 looks at the effects of different mounting angles on the performance of the system. To properly demonstrate the effects of the cant-angle, this experiment was conducted using the velocity-aligned pointing rule outlined in the previous chapter in Section 3.1.1. The cantangle follows the same orientation as Chapter 3 where it places the centre of Mars towards the +Y direction in the sensor plane. The position state covariance magnitude during periapse is recorded as a means of evaluating the performance of the system. The sensor field of view for this experiment is  = 7.5 . Figure 4.2 and Figure 4.3 presents the position and velocity results for the Monte-Carlo trials for a sample size of 500, which corresponds to a standard error in the performance statistics of 3%. Figure 4.2 shows that an increase in the cant-angle (x-axis) results in a decrease in position uncertainty (during periapse, y-axis) until about 10 where a small degree of variation is introduced as shown by the bounds. When the confidence bounds begin to separate, this means that increasing  will introduce more variability to the state uncertainty in the system. At a cant-angle of approximately 15 the separation rate increases, but the overall trend still indicates a decrease in error according to the median. This decreasing behaviour stops at around 17 , afterwhich the error begins to increase. When choosing the optimum mounting angle, the deciding factor is heavily dependant on the amount of tolerable variation introduced into the system. For this study, the critical points of interest occur at 10 (no variation), 15 (small variation), and 17 (heavy variation).

Chapter 4. Sensor Case Studies
1.8 1.6
× 10-3
Median 95% Bound

42

Velocity Covariance at Periapse (km)

1.4 1.2 1 0.8 0.6 0.4 0.2 0 2 4 6 8 10 12 14 16 18 20

 ( °)

Figure 4.3: Velocity covariance at periapse as a function of  ,  = 7.5 .

4.2

Experiment 2: Different Fields of View

Experiment 2 investigates the effects of having different sensor fields of view on the filter behaviour. In addition to the position covariance at periapse, the scenario introduces two new metrics. The first metric is referred to as the instance of convergence (IOC), it is defined as the instance in time during which the 3 position covariance drops below 50 km. This choice outlines a good conservative representation of the moment at which the filter drops below an acceptable error threshold. The aim in establishing this metric is to examine the trend of different FOV angles on convergence, thus the specific value of the IOC holds less significance as long as it is within an acceptable range. The second metric fractional measurement availability (FMA) was introduced to associate measurement availability with IOC. The FMA is defined as the fraction of total measurement availability before IOC over IOC. If a measurement was available from the start of the scenario until the IOC then the FMA is equal to 1. Figure 4.4 outlines the effects of different sensor FOV angles on the position covariance during periapse. The figure shows a decrease in error as the FOV angle increases. This is most likely due to the fact that a larger FOV allows the filter to see certain measurements for longer. The effect plateaus at about 30 and does not offer any more reduction in error. At this point, increasing the FOV angle no longer has any significance as the filter measurement availability is already 100% at a 30 FOV half-angle.

Chapter 4. Sensor Case Studies
103

43

Position Covariance at Periapse (km)

102

101

100

0

5

10

15

20

25

30

35

40

45

 ( °)

Figure 4.4: Position covariance at periapse with respect to different field of view angles.
-5 5 0 -5 -15 -10
Median 95% Bound

-10

IOC, t-t p (hr)

-20

IOC, t-t p (hr)
0 5 10 15 20 25 30 35 40 45

-15 -20 -25

-25

-30 -30 -35 -35 -40 1 2 3 4 5 6 7 8 9 10

-40

 ( °)

 ( °)

(a) Single trial from 1 - 45 .

(b) Zoomed in view 1 - 10 , 500 trials.

Figure 4.5: IOC as a function of .

Figure 4.5a outlines the effects that different fields of view have on the IOC. The IOC (y-axis) is measured in number of hours before the spacecraft reaches periapse (i.e at periapse t - tp = 0). One of the expected trends before the trials was that for narrower fields of view angles the filter would have a faster convergence time. The filter seeing a Large Mars earlier allows it to obtain these measurements earlier on which speeds up the rate of convergence for the filter. This can be seen from the figure as the general trend of the plot shows as the FOV angle decreases, so does the time taken for the filter to drop below the convergence threshold. The opposite is also true; increasing the FOV angle results in a slower convergence time. For instance at  = 25 , the initial uncertainty is very high, and the filter requires until ten hours before periapse to drop below the convergence threshold. Although Figure 4.5a outlines a general trend, there still exists some discrepancies in the lower

Chapter 4. Sensor Case Studies
1 1 0.9

44

Fractional Measurement Availability

Fractional Measurement Availability

0.9

0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1 0
Median 95% Bound

0.8

0.7

0.6

0.5

Median 95% Bound

0.4 1 2 3 4 5 6 7 8 9 10

1

2

3

4

5

6

7

8

9

10

 ( °)

 ( °)

(a) Mars position measurement FMA.

(b) Terminator angle measurement FMA.

Figure 4.6: FMA as a function of .

FOV angle ranges of the graph between 1 - 10 . To investigate this, a set of 500 Monte-Carlo trials were conducted on this 1 - 10 range. This was to ensure this behaviour was not caused by any variation, and was a common reccuring trend. Figure 4.5b shows the results from this set of trials. There is not a large amount of variation in these results, only small amounts of it can be seen in the 1 - 2.5 range. This means that the erratic trend represents typical behaviour. Examining the relationship between FOV angle and FMA provides insight into the reasons behind this erratic behaviour. The FMA at every field of view angle was plotted for each measurement. The general trend for all the graphs indicate as the FOV angle increases so does the FMA. This is expected as a larger field of view will allow the filter to see measurements for longer periods of time. Only the measurements that are related to the erratic behaviour are shown in this section, the rest can be seen in Appendix A-3. Figure 4.6a shows the FMA graph for the Mars vector measurement. This measurement is the main contributor to the very large drop in convergence time in the beginning of Figure 4.5b at 1 . As seen from the FMA graph, small fields of view like 1 does not allow the filter to see Mars very often thus drastically lowering the IOC, the convergence time recovers as the FOV angle gets bigger as evident by the sharp changes in both graphs. Figure 4.6b shows the FMA graph for the terminator angle,  . Both  and  share the same FMA plot since it is not possible to see one without seeing the other. The FMA plot for  can be seen in Appendix A-3 (see Appendix A-3). These measurements are the main contributors to the behaviour that happens at FOV angles of 1.5 - 2 in Figure 4.5b. As the FMA for these measurements sharply increase, this results in a sharp drop in the IOC. The sudden jumps between FOV angles within the 4 - 8 range results from the measurement availability of Deimos. Looking at Figure 4.7, the FMA of Deimos displays a similar pattern of

Chapter 4. Sensor Case Studies
1 0.9

45

Fractional Measurement Availability

0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1 0 1 2 3 4 5 6 7 8 9 10
Median 95% Bound

 ( °)

Figure 4.7: Deimos measurement fractional availability as a function of .

this behaviour. As the FMA for Deimos suddenly drops, the IOC increases, and as it suddenly increases, the IOC drops. Other than the cases discussed above, Figure 4.5b shows a very stable trend where increasing the FOV angle results in a increase in IOC. The behaviour in this graph does stem from any single measurement but rather represents a collective contribution from all the measurements. The cases listed above are just examples of when one (or two) measurements dominate the contribution.

4.3

Experiment 3: Combined Experiment

Experiment 3 looks at the combined effects of changing  with different values of  . The goal of this experiment is to see whether changing  can compensate for a performance change caused by an adjustment in . Figure 4.8 shows the position covariance at periapse for different  for two different values of  (1 and 5 ). The figure shows the two cant-angle curves are similar except with a vertical shift. Canting the sensor can reduce error for the same . seen from the graph, the  = 1 line requires  = 5 to reach a position covariance of 10km, while the  = 5 line only requires  = 2.5 to reach the same position covariance. Although canting is effective at reducing system error at specific times, this is not enough to conclude that a change in the FOV angle can be completely compensated by adjusting the mounting angle. The ideal configuration depends on specific mission requirements and attitude constraints.

Chapter 4. Sensor Case Studies

46

103
1° Cant 5° Cant

Position Covariance at Periapse (km)

102

101

100

10-1

0

5

10

15

20

25

30

35

40

45

 ( °)

Figure 4.8: Position covariance at periapse as a function of  for different  .

Chapter 5

Landmark-based Optical Navigation
This chapter looks at a framework presented by Zhang, et al. [24] that explores landmark-based optical navigation for orbit determination. Landmark-based tracking is a proven approach to orbital estimation and guidance. Autonomous navigation systems have been used successfully during proximity operations around planets and small bodies for many years. This method can be used to obtain rapid orbit information in an Earth orbit before stable ground-tracking is made available. It can also be applied to planets that lack tracking infrastructure for orbit determination. This orbit determination method has a high degree of flexibility, as long as ground pointing is possible and features are visible, it can be used to provide navigation information. In this study, some of the challenges of deploying these techniques on nanosatellite missions were considered. The optical sensors -- most often star trackers -- used on these spacecraft rarely exhibit the same accuracy and sensitivity as those employed on larger spacecraft. The formulation assumes that two types of landmark observations can be made: relative features and absolute landmarks. Relative feature observations are the most numerous and can include ephemeral observations such as clouds and shadows. Features are tracked from frame-to-frame and provide relative navigation information. Absolute feature observations are those that can be matched to a catalog of known landmarks. These are identified infrequently, but provide the most important information for the navigation filter. These easurements are fused using an Extended Kalman Filter. High-rate relative updates slow error growth when absolute measurements are unavailable. Slower absolute motion provides significant state correction when these measurements are available.

47

Chapter 5. Landmark-based Optical Navigation

48

5.1

System Dynamics and Reference Scenario

This section presents a detailed discussion of the reference scenario and the overall formulation of the navigation system. This includes the basic frames of reference and orbit geometry, as well as the dynamics of the simulation, filter, and camera.Notations in this chapter were adjusted from the original paper to avoid conflict and maintain consistency with conventions used in this thesis.

5.1.1

Reference Scenario

The scenario is based on a spacecraft in a planetary orbit (see Figure 5.1). The left hand side (LHS) of the figure represents an illustration of the orbit plane, while the right hand side (RHS) shows a side view of the orbit geometry. Applying a 90 rotation about the I3 axis to the LHS of the figure results in the view on the RHS. The inertial I -frame is located at the centre of mass of the planet. Any appropriate inertial frame definition can be used for I , but a standard definition with the I3 axis aligned with the planetary spin axis was adopted. The spacecraft state is described by Cartesian position, rI , and velocity, vI , vectors, both expressed in I .

x=

rI vI

(5.1)

3



S/C
1 2

2 2 1 M 3

1 M

3

S/C

1

Figure 5.1: Diagram of basic frames of reference.

Chapter 5. Landmark-based Optical Navigation

49

The spacecraft orientation is represented by the body frame, D. For notational simplicity the spacecraft frame is assumed to be coincident with the frame of the navigation camera, but it would be a trivial modification to include separate frames. The nominal orientation of the body frame (and hence the spacecraft) is to have the D3 axis pointed at the centre of the central planet and the D1 axis parallel to the orbit normal. For this initial feasibility study spacecraft attitude is not considered as an independent part of the state. Instead, it was assumed that the attitude determination and control system (ADCS) is perfect, such that it is able to achieve the desired inertial attitude, CDI with no error or lag. Thus, the spacecraft turns to keep its D3 axis aligned with where it thinks the planetary centre is. The expression for the spacecraft orientation can be written as a function of its state. In terms of basis vectors, the attitude matrix is:

T

CDI = where

D1 D2 D3

(5.2)

D3 = -

rI rI

(5.3)

vI r× D1 = I × r I vI

(5.4)

D2 = D × 3 D1

(5.5)

The last frame is a rotating frame attached to the centre of the planet, denoted as the F -frame. The F -frame is essentially the I -frame rotated about the I3 axis. Over the timescales of the observations, the non-ideal effects (e.g., nutation, precession, etc.) can be neglected and treated as a spin-axis rotation at constant rate, . Thus the angular velocity between these two frames is:   (5.6)

0

     IF I = 0  

Chapter 5. Landmark-based Optical Navigation

50

because the spacecraft's true attitude is defined as a function of the spacecraft's estimated state, the true angular velocity  ID of the spacecraft (and of D with respect to I ) is defined by the I estimated state. Thus:     ID D =     (5.7)

 ID 0 0

where the magnitude can be written in terms of orbital angular velocity: r× v r2

 ID =

(5.8)

5.1.2

Simulation Dynamics

The truth dynamics for the filter use a simple gravitational dynamics model that combines spherically symmetric gravitational attraction with a set of arbitrary perturbational accelerations.

 = x

vI aI

vI
µ -r 3 rI

+ dI

(5.9)

For the initial test of the navigation approach it was assumed that the perturbation acceleration is due only to the oblateness (i.e., J2 effect) of the central body. A common simplified model [25] of J2 acceleration has the form:  dI,truth
µ 3 2 -r 1 - 5 r3 5 J2 2 RM 2 r2

r1

 (5.10)

  µ 2 r3 3 2 - J R 1 - 5 = 2 5 M 2  r r2  r2 µ 3 2 -r 3 - 5 r3 5 J2 2 RM 2

  r2    r3

The performance of the navigation filter was evaluated using an orbital scenario. The scenario considers a spacecraft in a low, circular sun-synchronous orbit around Mars. The true and estimated state of the satellite over seven hours was evaluated, which is sufficient to assess filter convergence. This orbit choice is somewhat arbitrary but does illustrate significant, wellunderstood perturbation effects.The corresponding orbit parameters for this Mars orbit scenario can be see in Table 5.1.

Chapter 5. Landmark-based Optical Navigation
Table 5.1: Scenario Orbit Parameters for Mars and Earth

51

Mars J2 µ Simulation Time Orbit Altitude Inclination Argument of periapse RAAN Initial Position Earth J2 µ Start Time, after epoch Simulation Duration Initial Position 0.001083 3.986 × 105 km3 s-2 16 hours 7 hours [-47.38 - 7126 1156]T km 0.001960 4.282 × 104 km3 s-2 7 hours 450 km 98o 90o 0o [3840 0 0]T km

5.1.3

Filter Dynamics

To evaluate the efficacy of the navigational filter, the onboard propagator uses a simpler dynamics model simulation. In the initial trials, the J2 disturbance was dropped and assumes only two-body dynamics where

dI,prop = w (t)

(5.11)

To account for the un-modelled perturbations, an artificial process noise term w(t) was introduced, where w(t) has a spectral density Q . The filter system dynamics is given as:

 = x

vI
µ -r 3 rI

(5.12)

The navigation filter is implemented as a Continuous-Discrete Extended Kalman Filter (EKF) according to the formulation outlined in Section 2.4. Propagating this type of filter between measurements relies on Equation (5.9) and Equation (5.11) for the state propagation. The covariance here is propagated a little differently using:

 = FP + PFT + LQLT P

(5.13)

Chapter 5. Landmark-based Optical Navigation where F is the Jacobian of the modelled dynamics: 03×3
 aI  rI

52

F=

I3×3 03×3

(5.14)

whence a µ = 3  rI r rI rT I - I3×3 r2

3

(5.15)

The Jacobian, L, of the system response to the disturbing acceleration is simply:

L=

03×3 I3×3

(5.16)

The disturbance spectral density, Q is assumed to be of the form

Q = QD I3×3

(5.17)

where QD is sized based on the expected magnitude of the un-modelled disturbance. The heuristic nature of this approach is recognized and that the actual disturbing acceleration is neither Gaussian nor zero-mean. This term is merely exploited in the conventional filter formulation in order to keep the state covariance from becoming too small to effectively track the changes in the system state. Measurement updates use Equation (2.6), Equation (2.7), Equation (2.8) from Section 2.4:

5.1.4

Camera Observation Model

The navigation solution relies on imaging the planet and identifying absolute or relative features in the image. In this study, the feature extraction and matching algorithms were not explicitly modelled. Instead, the process was abstracted, making the assumption that an image processing algorithm can highlight distinctive features and identify the projections of the feature directions, sB , as coordinates (u and v ) in the detector image Figure 5.2 shows the relative geometry between the spacecraft, planet and planetary landmarks. In order to integrate the optical measurements with the navigation filter the camera observations must be written as a function of the system state. The analysis assumes a pinhole model for the

Chapter 5. Landmark-based Optical Navigation
2

53

S/C
Features





3


1

1

3

Mars

Figure 5.2: Illustration of the measurement geometry.

camera. In this model the virtual detector is displaced along the camera boresight by the focal distance, f . This displacement is along the B3 direction. The u and v axes of the image frame are parallel to the -B1 and -B2 axes of the B -frame, respectively, and the measurements of u and v can be scaled by the pixel dimension, pix , so that they are in units of pixels: u= f sD,1 pix sD,3 f sD,2 pix sD,3 (5.18)

v=

(5.19)

The LOS vectors s are related to the planetocentric landmark position vectors f and the spacecraft position through simple vector arithmetic:

sI = fI - rI Rewriting Equation (5.20) in the body frame gives: sD = CDI (fI - rI )

(5.20)

(5.21)

Chapter 5. Landmark-based Optical Navigation

54

5.2

Absolute Measurements

Absolute measurements are recognized mapped landmarks such as well known craters and landforms. The positions of these features, fF , in the planet-fixed F -frame are known. These landmarks are stored in an onboard catalog, and once matched, can provide absolute orbit information for the system. It was assumed that these mapped landmarks are relatively rare either due to their inherent sparsity or the difficulty of identifying and registering the landmarks in the detector images. Their frequency of appearance was assumed to be on an order of minutes.

5.2.1

Measurement Model

The measurements for absolute landmarks are defined as the pixel coordinates of the feature points projected onto the image plane. Thus the simple measurement model

hAbs =

u v

=

f pix

sx sz sy sz

(5.22)

given that the LOS vector components are:   (5.23)

sx

   sD =   sy  sz

The measurement noise is white and Gaussian with zero mean. It represents the deviation in pixel locations from their true locations on the image plane. It was assumed that the errors in u and v measurements are independent with covariance:

2 RAbs = Abs I

(5.24)

For this study, the coordinate uncertainty was assumed to be Abs = 0.5 pixels. The measurement sensitivity matrix for absolute measurements was evaluated through linearizing. Applying the chain-rule: HAbs = where the partial derivatives are:  hAbs  sD  sD  x (5.25)

Chapter 5. Landmark-based Optical Navigation
Table 5.2: Filter Initial Conditions

55

Initial Parameter Position error, each axis Velocity error, each axis Position uncertainty (1 -  ), each axis Velocity uncertainty (1 -  ), each axis

 5 km 0.01 km/s 5 km 0.01 km/s



 hAbs f  =  sD pix 0  sD = -CBI x

1 sz

0
1 sz

x -s s2 z z

  (5.26)

- sy 2

s

I3×3 03×3

(5.27)

5.2.2

Experiment 1 Results

For this experiment, it was assumed that the only absolute measurements are made. The time frame between the appearance of each global landmarks are denoted as the absolute measurement period, TAbs . For this scenario TAbs = 600 s A set of fI are generated randomly, this in turn emulates knowledge of the landmark locations on the Martian surface. One set of absolute measurements contains Nabs = 5 feature points. This number was chosen somewhat arbitrarily. Realistically, a known landmark would yield a number of feature points much greater than five, however since the feature points are directly generated and image processing was not considered, it was decided that Nabs = 5 is sufficient for this feasibility study. The initial guess for the filter was chosen by adding error to the initial conditions from the truth simulation. Table 5.2 outlines the amount of error added, as well as the corresponding uncertainty that stems from the added error. Thus the initial covariance for the filter is equal to the square of the corresponding uncertainty ( 2 ), where the covariance P has the form

P0 =

2 pos

0
2 vel

0

(5.28)

Chapter 5. Landmark-based Optical Navigation
35
Position Error 3 Bound

56

30

Position Error Magnitude(km)

25

20

15

10

5

0 0 0.5 1 1.5 2
× 104

Time (s)

Figure 5.3: Filter position performance with only absolute measurements, TAbs = 600 s.

Figure 5.3 and Figure 5.4 show the performance of the filter over the course of the simulation. In Figure 5.4, the velocity aspect of the filter is plotted on a log scale for readability. The tip of the spikes represent the time step right before an absolute measurement. From the results, it can be seen that the error falls mostly within the 3 -  bound and the estimate converges at a rapid pace. However, there exists a large spike in position error at the start. This is most likely due to the filter propagating an incorrect state estiamte from the initial guess. In the absence of measurements, this causes the system error to spike at the beginning of the scenario, however, the filter quickly converges with further measurements. A new metric was introduced, used to gauge the overall performance of the system. This metric is called the mean pre-update error (PRE). It is defined as the mean of the error magnitude before every absolute update over the course of one trial. This is a conservative value as it represents the system at its worse before every absolute update. The mean pre-update error from this trial is 3.36 km on position, and 0.00723 km/s for velocity. If the absolute measurement period was increased to 1200 s (doubling it), the mean pre-update errors becomes 8.08 km and 0.0107 km/s on position and velocity, respectively. This behaviour suggests that performance deteriorates rather quickly as absolute measurements become less frequent.

5.3

Relative Measurements

Relative landmarks are uncataloged image features. These can be un-recognized craters, or transient features such as terminator lines and clouds. In the model, these features are tracked

Chapter 5. Landmark-based Optical Navigation
10-1
Velocity Error 3 Bound

57

Velocity Error Magnitude(km/s)

10-2

10-3

0

0.5

1

1.5

2
× 104

Time (s)

Figure 5.4: Filter velocity performance with only absolute measurements, TAbs = 600 s.

between consecutive image frames to provide relative information to the navigation filter. The frequency of these measurements is much higher than that of absolute measurements, assumed to be on the order of seconds.

5.3.1

Measurement Model

The measurements for relative landmarks is defined as the rate of change of the pixel coordinate of the feature point projected onto the image plane.

hrel =

u  v 

(5.29)

To form the observation pseudomeasurements, the velocity is approximated using a finitedifference approximation between image frames.
(uk -uk-1 ) t (vk -vk-1 ) t

hrel =

(5.30)

When processing the relative measurements, the system has no position information on the measured features, but it is possible to approximate rI based on the observed image points. Using some simple vector addition, the feature location can be written as a combination of position and a scaled LOS vector:

Chapter 5. Landmark-based Optical Navigation

58

 fI = rI + sCID 1

upix

 (5.31)

   vpix  = rI + smI   (upix )2 + (vpix )2 + f 2 f

In order to find a numeric value of fI the intersection was constrained to lie on the surface of a sphere (alternately, intersecting the LOS vector with an ellipsoid is also possible if higher fidelity was desired). Thus,

2 T 2 = fI fI = r2 + 2smT RM I rI + s

(5.32)

This is a simple quadratic in s. In order to incorporate the relative measurements into the filter the Jacobian matrix Hrel must be evaluated. Recognizing that u and v are functions of sB , the idealized measurement given in Equation (5.29) can be expanded as

hrel =

u  sD v  sD

D s

(5.33)

or hrel = f pix aT bT D s (5.34)

where   u =   sD     (5.35)

1 sz

0
x -s s2 z

and   v =   sD     (5.36)

0
1 sz s - sy 2 z

Chapter 5. Landmark-based Optical Navigation

59

differentiating Equation (5.21) with respect to time gives the apparent rate of change of the LOS vectors: I - r  DI (fI - rI ) + CDI f D = C I s I are defined by:  DI and f where C  DI = - IF × CDI C I and the landmark motion is due to planetary rotation I =  IF × fI f I (5.39) (5.38) (5.37)

Making the above substitutions and simplifying leads us to the following equation that describes the rate of change of the feature vector with respect to the spacecraft expressed in the body frame.
× I×  D = CDI  F fI - vI -  DI s D sD I

(5.40)

The measurement sensitivity matrix can be found by evaluating the partial

Hrel =

 hrel f = x pix

 x  x

D aT s D bT s

(5.41)

Expanding the first partial derivative gives:

 D aT s x

D s a T +s D x x D T s T  a  sD D = a +s x  sD  x = aT

(5.42) (5.43)

Several of these terms have already been derived in Equation (5.40) and Equation (5.27). The remaining terms are fairly simple to evaluate:   a =   sD     (5.44)

0 0 - s1 2 z

0 - s1 2
z

0 0

0
2sx s3 z

Chapter 5. Landmark-based Optical Navigation  D / x can be taken from Equation (5.40): The term  s D s  DI = -C x Similarly, for the second row of Hrel :

60

I3×3 03×3

- CDI

03×3 I3×3

(5.45)

 D bT s x

D s b T +s D x x   s  b  sD D T = bT +s D x  sD  x = bT

(5.46) (5.47)

where   (5.48)

0

0

0
2sy s3 z

 b = 0  0  sD 0 - s1 2
z

  - s1 2  z

Similar to Experiment 1, the measurement noise is also assumed to be zero-mean and Gaussian. The measurement covariance for the relative pseudomeasurements is related to the covariance of the individual feature point measurements. Covariance values can be calculated from Equation (5.30) and Equation (5.24).
2 2Abs I t 2

2 Rrel = rel I=

(5.49)

5.3.2

Experiment 2 Results

In this simulation, both relative and absolute measurements are made. The appearance of an absolute landmark at a time step will override any relative measurements made in that same time update, this is important in selecting the corresponding measurement matrix during the state update. The time frame between each relative measurement is denoted as the relative measurement period, t. In this scenario, the absolute measurement interval was set to T = 600 s, and a relative measurement period of t = 1 s was used. Figure 5.5 shows a flowchart of the measurement process.

Chapter 5. Landmark-based Optical Navigation

61

Current State Estimate

- +

- 

Absolute Measurement

No

Relative Measurement

Yes
Absolute Update

No Yes
Relative Update Estimator Dynamics

+ 

+ 

Figure 5.5: Flowchart outlining measurement process and hierachy.
4.5 4
Position Error 3 Bound

Position Error Magnitude(km)

3.5 3 2.5 2 1.5 1 0.5 0 0 0.5 1 1.5 2
× 104

Time (s)

Figure 5.6: Filter position performance with absolute and relative measurements, TAbs = 600 s.

The relative feature points are generated randomly on the FOV in a manner similar to that used for absolute measurements. Placement of the features is less critical than in the absolute case because since the image-to-image motion are expected to be comparatively small. For consistency, this experiment employs the same initial conditions from Experiment-1. Figure 5.6 and Figure 5.7 detail the performance of the filter. From the graphs, it can be seen that the filter reaches a stable performance after two or three absolute updates. There still exists a spike in error at the beginning of the scenario similar to Experiment 1. The uncertainty in this case is also visibly lower when compared to Experiment 1.

Chapter 5. Landmark-based Optical Navigation
10-1
Velocity Error 3 Bound

62

Velocity Error Magnitude(km/s)

10-2

10-3

0

0.5

1

1.5

2
× 104

Time (s)

Figure 5.7: Filter velocity performance with absolute and relative measurements, TAbs = 600 s.

Figure 5.8 and Figure 5.9 show the behaviour of the state uncertainty for system over the duration of one absolute measurement period. In the case of having both measurements, the state covariance is about 60% lower than Experiment 1. This trend suggests less state uncertainty in the dual measurements case, and also demonstrates the ability relative measurements possess in reducing the growth rate of the uncertainty. The effect of increasing TAbs on overall system performance was investigated. Additionally, a comparison between having both measurements as opposed to only absolute measurements for each respective absolute measurement period was conducted. The relative measurement period was kept consistent with the other tests at t = 1 s. Figure 5.10 and Figure 5.11 shows that increasing the TAbs causes the mean PRE to increase. The addition of relative measurements cause the PRE to decrease by a certain margin. This margin becomes larger the higher the absolute measurement period. For absolute measurement periods of 600 s and 1200 s, the addition of relative measurements yield mean pre-update errors of 1.20 km and 0.00376 km/s in the TAbs = 600 s case, and 2.84 km and 0.00479 km/s in the TAbs = 1200 s case. Comparing this to the results from the absolute only case in Experiment-1, results show a reduction in position error of approximately 50% or more. Relative measurements extend the capabilities of the filter by lowering error growth. The performance of the filter using only absolute measurements with an absolute measurement period greater than 30 minutes show PRE position errors of 15 km or greater. 30 minutes was selected as a critical point as it is unrealistic to assume the time between the occcurrence of two absolute landmarks exceed 30 minutes. The addition of the relative measurements perserve the

Chapter 5. Landmark-based Optical Navigation
1.6
Only Absolute Absolute + Relative

63

1.4

Position Uncertainty (km)

1.2

1

0.8

0.6

0.4

0.2 0 100 200 300 400 500 600

Time (s)

Figure 5.8: Position uncertainty over between two absolute measurements.
3.2 3 2.8
× 10-3
Only Absolute Absolute + Relative

Velocity Uncertainty (km/s)

2.6 2.4 2.2 2 1.8 1.6 1.4 1.2 0 100 200 300 400 500 600

Time (s)

Figure 5.9: Velocity uncertainty over between two absolute measurements.

performance of the filter, such that even at TAbs = 3000 s (50 mins), the filter is still able to maintain mean pre-update position errors of less than five km, this can be seen in Figure 5.10. Figure 5.12 and Figure 5.13 present the results for a TAbs = 1800 s case scenario. The average system uncertainty and error is higher than the case shown in Figure 5.6 and Figure 5.7. The overall system behaviour shows that the errors fall mostly within the 3 -  bound with PRE of 2.27 km and 0.00414 km/s. The areas where the error exceeds 3 -  bound results from the process noise covariance being insufficient to account for the error caused by the un-modelled distrubance. This happens when TAbs is too large. The high peak, low peak patterns in the position graphs are caused by the velocity error. During measurement updates, not ever update

Chapter 5. Landmark-based Optical Navigation
60
Absolute Only Absolute+Relative

64

Mean Pre-update Position Error (km)

50

40

30

20

10

0 5 10 15 20 25 30 35 40 45 50

 T Abs (min)

Figure 5.10: Mean pre-update position error at various TAbs .
0.05 0.045
Absolute Only Absolute+Relative

Mean Pre-update Velocity Error (km/s)

0.04 0.035 0.03 0.025 0.02 0.015 0.01 0.005 0 5 10 15 20 25 30 35 40 45 50

 T Abs (min)

Figure 5.11: Mean pre-update velocity error at various TAbs .

corrects the velocity error by the same amount, thus causing the high and low behaviour seen in the position graph. Figure 5.14 shows the plots of the RAAN for the three cases outlined in the legend. The relative measurement period t = 1 s for the dual measurement cases. All three plots track the true RAAN quite well. The error between the truth and estimate for each respective case is ranked from highest to lowest in the order:

1. Absolute and Relative Measurements, TAbs = 1800 s 2. No Relative Measurements, TAbs = 600 s

Chapter 5. Landmark-based Optical Navigation
6
Position Error 3 Bound

65

5

Position Error Magnitude(km)

4

3

2

1

0 0 0.5 1 1.5 2
× 104

Time (s)

Figure 5.12: Filter position performance with absolute and relative measurements, TAbs = 1800 s.
10-1
Velocity Error 3 Bound

Velocity Error Magnitude(km/s)

10-2

10-3

0

0.5

1

1.5

2
× 104

Time (s)

Figure 5.13: Filter velocity performance with absolute and relative measurements, TAbs = 1800 s.

3. Absolute and Relative Measurements, TAbs = 600 s

This trend demonstrates that a case with no relative measurements can perform better than absolute and relative measurements if the difference between the two absolute measurement periods is large enough.

Chapter 5. Landmark-based Optical Navigation
0.18

66

Right Ascension of Ascending Node (deg)

0.16 0.14 0.12 0.1 0.08 0.06 0.04 0.02 0 -0.02 0 1000 2000 3000 4000 5000 6000 7000 8000 9000 10000

Truth No Relative, T Abs=600 Both Measurement, T Abs=600 Both Measurement, T
Abs

=1800

Time (s)

Figure 5.14: Graph of the right ascension of the ascending node for the three test scenarios compared to truth.

5.4

Improving Dynamics Fidelity

One drawback to the simplistic implementation of Experiment 2 is the comparatively large effect of the J2 perturbation. Relying on visual observations for onboard corrections while neglecting this dominant disturbance in the onboard propagator is unrealistic. This section considers a revision to the navigation filter that can be used to incorporate a more accurate onboard model, as well as a revised model of the true disturbance environment.

5.4.1

Simulation and Propagator Dynamics

To enhance the fidelity of the results for this experiment, new models are proposed both for the true dynamics and the onboard propagator. As a truth model, the J2 disturbance model is replaced with the SGP4 propagator [26], a model that includes a number of other perturbing accelerations including atmospheric drag and third-body perturbations. Rather than explicitly integrating the accelerations using Equation (5.9), a preexisting implementation of SGP4 was employed to calculate the propagator spacecraft trajectory. To complement the enhanced truth dynamics model, the estimator dynamics was revised to include the effect of J2 perturbations. Essentially, the truth model of Experiment 1 becomes the propagator model for Experiment 2. The primary complication of this change is the need to revise the F matrix in the calculation  (see Equation (5.13)). Given that: of P rI rT I - I3×3 r2

µ a = 3  rI r

3

+

 dI  rI

(5.50)

Chapter 5. Landmark-based Optical Navigation

67

To evaluate the partial derivatives of the disturbance term, Equation (5.10) was rewritten as:

dI,J 2 = D [A (r) + B (r, r3 )] rI where  A= 

(5.51)

 1   0 1 0   p5  0 0 3
2 r3 I3×3 r7

1 0 0

(5.52)

B=

(5.53)

3 2 D = - µJ2 RM 2 Thus, the partial derivatives of dI become:

(5.54)

 dI  A r  B r =D A+B+ rI + rI  rI r  rI r  rI  B r3 + rI r3  rI  A rI rT  B rI rT I I + =D A+B+ r r r r B + 03×2 rI r3 where A 5 =- A r r

(5.55)

(5.56)

B 7 =- B r r

(5.57)

B 2 = B z r3

(5.58)

Chapter 5. Landmark-based Optical Navigation
Table 5.3: C/NOFS Two-Line Elements
C/NOFS 1 32765U 08017A 15331.67318444 .04350869 -29703-4 91012-3 0 9996 2 32765 12.9936 147.3205 0006618 28.7193 333.2561 16.29614997418738

68

Substituting back into Equation (5.55) gives:

5  dI = D A I3×3 - 2 rI rT I  rI r 2 7 + B I3×3 - 2 rI rT I + r r3

03×2 rI

(5.59)

5.4.2

Experiment 3 Results

In this final experiment, the system applies the two-line element set (TLE) for C/NOFS in correspondence with the SGP4 propagator to generate the truth trajectory. C/NOFS is identified by the NORAD catalog number 32765. The TLE for C/NOFS is given in Table 5.3. The filter initial conditions are set in the same manner as Experiments 1 and 2, with the same initial state covariance and error added to the initial state. To visualize the significance of the improvement, two tests were conducted. Both tests use the SGP4 propagation as the truth trajectory, with TAbs = 600 s and t = 1 s. The first test uses the simple two-body dynamics as the filter dynamics, same as Experiment 1 and 2. While the second test, uses the enchanced filter dynamics that includes the effect of J2 perturbations. This new trajectory is based on an Earth orbit, the corresponding Earth orbit parameters can be seen in Table 5.1. Figure 5.15a and Figure 5.16a illustrate the performance of the two tests. With both tests plotted on the same graph, it can be seen that the test with the J2 filter dynamics has lower error over the majority of the simulation. The errors in both cases remain within their 3 -  bound, with the two-body test having mean pre-update errors of 1.01 km and 0.00319 km/s, and the J2 test with mean pre-update errors of 0.229 km and 0.000495 km/s. Note the results from these two tests cannot be directly compared to Experiments 1 and 2. Series of 5000 trial Monte-Carlo (MC) simulations were conducted to validate the accuracy of the experiment results. This sample size corresponds to a 1% standard error in the presented pefromance statistics. Table 5.4 gives a description of the test settings for each of the MC trials.

Chapter 5. Landmark-based Optical Navigation
12 12
2-Body 2-Body 3  J2 J2 3

69

10

Position Error Magnitude(km)

8

Position Error Magnitude(km)

2-Body 2-Body 3  J2 J2 3

10

8

6

6

4

4

2

2

0 0 0.5 1 1.5 2
× 10
4

0 5000

5500

6000

6500

7000

7500

8000

8500

9000

9500 10000

Time (s)

Time (s)

(a) Full duration view.

(b) Shorter duration view.

Figure 5.15: Filter position performance with high fidelity dynamics.
100
2-Body 2-Body 3  J2 J2 3

10-1

Velocity Error Magnitude(km/s)

Velocity Error Magnitude(km/s)

10-1

10-2

10-2

10-3

10

-3

10-4

10-4

2-Body 2-Body 3  J2 J2 3

10-5

0

0.5

1

1.5

2
× 10
4

10-5 5000

5500

6000

6500

7000

7500

8000

8500

9000

9500 10000

Time (s)

Time (s)

(a) Full duration view.

(b) Shorter duration view.

Figure 5.16: Filter velocity performance with high fidelity dynamics.

Table 5.5 presents the results from the MC simulations. The MC statistics compare closely with the results shown in Experiment 1 and 2, demonstrating that the previous results represent typical filter performance. A second metric similar to the PRE was introduced called the Post-update error (POE), it follows the same logic as the PRE except it measures mean error after the absolute measurement state updates. Looking at the error difference between the PRE and POE for a test gives insight into the amount of state correction for each absolute measurement upate. This error difference is very large for the tests that employ two-body estimator dynamics. This suggests the state correction during an absolute measurement is quite large. These values are 2.486 km, 1.067 km, and 2.069 km for the No Relative, Low TAbs , and High TAbs tests, respectively. Adding relative landmarks help reduce this error difference as it drops from 2.486 km to 1.067 km. This error difference is less significant in the SGP4 test. The higher fidelity dynamics help keep the estimate close to the true trajectory, highlighting the importance of a good estimator model.

Chapter 5. Landmark-based Optical Navigation
Table 5.4: Monte-Carlo Test Details

70

Test SGP4 No Relative Low TAbs High TAbs

Details J2 Filter Dynamics,  = 1 s, TAbs = 600 s Relative Measurements OFF, Absolute Measurements at 600s t = 1 s, TAbs = 600 s t = 1 s, TAbs = 1800 s

Table 5.5: Filter Performance and Measurement Occurance

Test SGP4 No Relative Low TAbs High TAbs

r (km) 0.248 2.86 1.33 2.55

Pre-update Error r v (km) (m/s) 0.0291 0.55 0.218 6.3 0.0355 4.1 0.0888 4.2

v (m/s) 0.0484 0.355 0.0527 0.0635

r (km) 0.110 0.374 0.263 0.481

Post-update Error r v (km) (m/s) 0.0126 0.46 0.0641 3.1 0.0276 2.9 0.0464 3.0

v (m/s) 0.0278 0.101 0.0519 0.0640

In this chapter a landmark-based optical navigation filter was developed that employ the use of absolute and relative landmarks. Measurement availability is shown to be a key parameter in this study. Absolute landmarks provide valuable information to the filter but are not always available. Relative landmarks on the other hand are common but do not provide as much information as absolute landmarks. Simulation results indicate relative landmarks help reduce error growth in the absence of absolute landmarks and retain system performance.

Chapter 6

Conclusion and Future Work
6.1 Conclusion

This thesis explored two different types of optical navigation. Both frameworks have sensor sensitivity and accuracy modelled based on the performance of the Sinclair Interplanetary ST16 nanosatellite star tracker. The first framework applied horizon-based techniques, fusing measurements from observations of Mars and its moons using a Cartesian EKF. Error models capture the variation in measurement noise caused variations in variations in target shape, illumination, and size. The filter presents position errors (1 -  ) of a few hundred meters and velocity errors of 15 cm/s or better for a Mars-pointing scenario that keeps Mars in view for the entire duration. The filter offers a very good estimate of periapse timing and radius, this degree of accuracy in the periapse timing should be highly sufficient for direct entry and orbit insertion operations. The results from the horizon-based framework was validated through series of Monte-Carlo simulations. From the results of the various Monte-Carlo simulations, it appears all the sensor measurements make useful contribution to the overall performance of the system, with some being more dominant than others. Simple case scenarios such as just using Mars position and the moons are shown to still be viable albeit with an increase in error. The system behaviour shows measurements made during the terminating phase of the approach have the most significan impact on the performance of the system. Missions that places constraints on the spacecraft orientation can greatly affect the performance. This can be compensated for by adjusting the corresponding sensor mounting.

71

Chapter 6. Conclusion and Future Work

72

This first framework served as a basis for a series to case studies that investigates the effects of sensor configuarations on the performance of the system. The parameters that were looked at were the cant-angle and sensor FOV. In a velocity-aligned case canting the sensor can help to reduce error at specifc instances in time, however as the cant angle increases a significant amount of variation gradually gets introduced into the results. The tests show for a Mars-pointing case, a narrower (smaller) sensor FOV can help speed up convergence time, in exchange for an increase in error. On the other hand, widening the FOV slows down convergence time but helps reduce error and increase measurement availability time, this effect plateaus at the instance where increasing the FOV further does not add any additional information. The study also looks at the combined effects of cant-angles and FOV angles. Canting the sensor can help reduce error for certain instances in time for the same FOV angle, but canting is not enough to completely compensate for an adjustment in FOV angle. The second filter explores landmark tracking techniques using two types of landmark measurements for orbit determination. Absolute landmarks are landmarks that can be matched to an onboard catalog that provides absolute navigation information. While relative observations are image features that are matched between consecutive frames. The relative measurements occur at a much higher frequency but can only provide information regarding relative motion to the system. The estimator fuses the two types of measurements using an Extended Kalman Filter to provide an update to the system state. The effects of having only absolute measurements as opposed to having both on the overall behaviour and performance of the system was investigated. The addition of relative landmark observations help reduce the growth of error during periods that are devoid of absolute measurements. In the first two experiments of this study, a simplistic filter was used to account for a relatively large well-known and modelled disturbance. This drawback was rectified by using a higher fidelity truth simulation and incorporating J2 perturbations into the filter dynamics. This change resulted in less overall error throughout the duration of our simulation. It also helps keep the estimator propagation closer to the truth trajectory, lowering the overall system dependence on frequent measurements. These conducted studies demonstrate the operational utility of nanosatellite-class star trackers through their ability to be used as guidance sensors in optical navigation missions. The results show promising behaviour with with regards to the respective scenario. This leads to the conclusion that the frameworks developed can be used as an enabling technology for a new innovative mission class.

Chapter 6. Conclusion and Future Work

73

6.2

Future Works

Future works outline possible future directions for this research. Additional case studies from Chapter 4 can be conducted with regards to different sensor configurations along with the addition of more sensors. These can be but not limited to star trackers, gyroscopes, IMUs, or even LiDARS. An example is the two sensor case that was briefly explored in Chapter 3. Solar radiation pressure (SRP) was not considered in the perturbation dynamics for Chapter 3. Simulations show the influence of SRP on Mars has a magnitude comparable to Jupiter's gravitational effects at during the beginning of the trajectory. The influence of Jupiter's increases over the duration of the scenario as the spacecraft gets closer quickly exceeding SRP. Modelling the disturbance effects of SRP can improve filter fidelity. The system introduced in Chapter 5 is based on a contracted scenario in which the spacecraft's inertial orientation is assumed to be known with a high enough degree of accuracy that allows the system to achieve the desired inertial pointing at any point in time. Future research can consider incorporating attitude into the state, transforming it from a known quantity into an estimated part of the system. The image processing in the framework from Chapter 5 is abstracted. Future research can look to indepth modelling of the image processing, and look into analyzing real or synthetic images with various processing routines. In both filters, atmospheric effects such as drag was not modelled. These effects are small when compared to the effects of gravity from the planet. However, including these effects into the filter dynamics can improve system fidelity. Long term directions can consider the merging of the two frameworks. Turning it into a single system that can perform both horizon-based navigation and also apply landmark-tracking techniques depending on the situation.

Appendix A

Mathematical Derivations and Supplementary Results
A-1 Small Rotations

The representation of spacecraft state in Chapter 3 uses error rotation vectors to represent small angle rotations in attitude error,  and mounting error,  . A common, first-order approximation treats this as a series of Euler angle rotations:

C () = Rx (x ) Ry (y ) Rz (z )  I - ×

(A.1)

This representation led to problems with the conditioning of the state covariance matrix and using a second-order rotational approximation gave better numerical behaviour.

C () 

1 1 1 - T  I + T - × 2 2

(A.2)

Rather than a series of Euler angles,  is assumed as an axis-angle rotation of the form:

 = a where a represents the unit vector for the axis for rotation. Assuming measurements take the form: 74

(A.3)

Appendix: Mathematical Derivations and Supplementary Results

75

m = C () n the derivative can be computed using rotational approximation, resulting in

(A.4)

m 1 T = n I - nT + n×  2

(A.5)

A-2

Planetary Observations

Perspective projection is an issue when analyzing extended images of Mars. Even if planetary oblateness is neglected and the target is assumed to be spherical, the projection of the target onto the detector plane will not be a circular arc. This problem must be taken into account in order to obtain an accurate estimate of the direction vector to the target ,sS . Authors have shown that the resulting projection on the detector is in fact an ellipse [18]. Many of the measurements in Chapter 3 rely on the detector plane image processing. The following outlines the process taken by Enright et al. [1] to correct for the perspective effects. sS can be expressed in spherical coordinates as:  sx   cos c sin c  (A.6)

     sy  = r  sin c sin c      sz cos c relating sS to the corresponding detector coordinates gives:

z=

u v

=

f pix

sx /sz sy /sz

=

f pix

cos  tan  sin  tan 

(A.7)

These points are reprojected into pseudo-Cartesian coordinates where radial distances from the origin are true arclength distances:

z =

u v

=

cos  sin 

(A.8)

Appendix: Mathematical Derivations and Supplementary Results

76

To fix the azimuthal distortion. The origin of the new coordinates are shifted to (c , c ). The new arclength, , and azimuthal, , coordinates can be found from:

cos  = cos  cos c + sin  sin c cos ( - c )

(A.9)

sin  =

sin  sin ( - c ) sin 

(A.10)

cos  =

cos  - cos  cos c sin  sin c

(A.11)

The corresponding rectangular coordinates are:

z =

u v

=

cos  sin 

(A.12)

If the estimated centre was close to the true centre, fitting a circle to the z coordinates will allow the determination of the true centre and angular radius of the planet. Converting back to boresight coordinates give:

cos  = cos  cos c + sin  sin c cos 

(A.13)

sin ( - c ) =

sin  sin  sin 

(A.14)

cos ( - c ) =

cos  - cos  cos c sin  sin c

(A.15)

A-3

Measurement Availability Plots

This section contains all the remaining fraction measurement availability plots that were not used in Chapter 4 Experiment 2. The attitude availability remains consistent and available throughout the duration of the simulation and thus omitted.

Appendix: Mathematical Derivations and Supplementary Results Phase angle shares the same availability with terminator angle, seen in Appendix A-3.

77

Phobos availability experiences a large creep in the beginning of the scenario between the 1 to 3 range, afterwards it consistently stays at full availability for the rest of the trials. Appendix A-3 shows the FMA for when both moons can simultaneously be seen. The behaviour in this graph is primarily dominated by Deimos since Phobos no longer displays any kind of change after the 3 point.
1 0.9

Fractional Measurement Availability

0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1 0 1 2 3 4 5 6 7 8 9 10
Median 95% Bound

 ( °)

Phase angle measurement fractional availability for different FOV angles.
1 0.9

Fractional Measurement Availability

0.8 0.7 0.6 0.5 0.4 0.3 0.2 1 2 3 4 5 6 7 8 9 10
Median 95% Bound

 ( °)

Phobos fractional availability versus field of view angles

Appendix: Mathematical Derivations and Supplementary Results

78

1 0.9

Fractional Measurement Availability

0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1 0 1 2 3 4 5 6 7 8 9 10
Median 95% Bound

Field of View Angle ( °)

Fractional availability of both moons versus field of view angles

Bibliography
[1] John Enright, Ilija Jovanovic, Laila Kazemi, Harry Zhang, and Tom Dzamba. Autonomous optical navigation using nanosatellite-class instruments: a mars approach case study. Celestial Mechanics and Dynamical Astronomy, 130(2):13, 1 2018. ISSN 0923-2958. doi: 10.1007/s10569-017-9800-x. URL http:https://doi.org/10.1007/s10569-017-9800-x. [2] Yu. Han, James. Biggs, and Cui. Naigang. An application of adaptive fault-tolerant control to nano-spacecraft. 2nd IAA Conference on Dynamics and Control of Space Systems, January 2014. [3] David G. Hoag. The History of Apollo onboard guidance, navigation, and control. Journal of Guidance, Control, and Dynamics, 6(1):4­13, 1983. URL http://arc.aiaa.org/doi/ pdf/10.2514/3.19795. [4] G. M. Levine. A method of orbital navigation using optical sightings to unknown landmarks. AIAA Journal, 4(11):1928­1931, 1966. ISSN 0001-1452. doi: 10.2514/3.3820. URL http: //dx.doi.org/10.2514/3.3820. [5] A. R. Eisenman, J. W. Alexander, and R. H. Stanton. CCD sensors for spacecraft optical navigation. In AIAA, Aerospace Sciences Meeting, volume 1, 1979. URL http://adsabs. harvard.edu/abs/1979aiaa.meetS....E. [6] Yang Cheng, Andrew E. Johnson, Larry H. Matthies, and Clark F. Olson. Optical landmark detection for spacecraft navigation. Advances in the Astronautical Sciences, 114(3):1785­ 1803, 2003. [7] F Landis Markley. Autonomous satellite navigation using landmarks. In AAS/AIAA Astrodynamics Conference, North LakeTahoe, NV, pages 989­1010, 1981. [8] FH Schlee and NF Toda. Autonomous orbital navigation by optical tracking of unknown landmarks. Journal of Spacecraft and Rockets, 4(12):1644­1648, 1967.

79

Appendix: Mathematical Derivations and Supplementary Results

80

[9] Andrew E Johnson, Adnan Ansar, Larry H Matthies, Nikolas Trawny, Anastasios I Mourikis, and Stergios I Roumeliotis. A general approach to terrain relative navigation for planetary landing. In AIAA Aerospace@ Infotech Conf., Rohnert Park, CA, 2007. [10] Shuang Li, Pingyuan Cui, and Hutao Cui. Autonomous navigation and guidance for landing on asteroids. Aerospace science and technology, 10(3):239­247, 2006. [11] John A. Christian and Shane B. Robinson. Noniterative Horizon-Based Optical Navigation by Cholesky Factorization. Journal of Guidance, Control, and Dynamics, 39(12):2757­ 2765, 2016. ISSN 0731-5090. doi: 10.2514/1.G000539. URL http://dx.doi.org/10. 2514/1.G000539. [12] John Christian and E. Glenn Lightsey. Integrated Performance of an Autonomous Optical Navigation System for Space Exploration. In AIAA SPACE 2010 Conference & Exposition, number AIAA 2010-8786, Anaheim, CA, 30 August - 2 September 2010. American Institute of Aeronautics and Astronautics, American Institute of Aeronautics and Astronautics. URL http://arc.aiaa.org/doi/abs/10.2514/6.2010-8786. [13] J. E. Riedel, W. Owen, J. Stuve, S. Synnott, and R. Vaughan. Optical navigation during the Voyager Neptune encounter. AIAA paper, 90, 1990. URL http://arc.aiaa.org/doi/ pdf/10.2514/6.1990-2877. [14] Tom. Dzamba, John. Enright, Doug. Sinclair, Kofi. Amankwah, Ronny. Votel, Ililja. Jovanovic, and Geoffrey. McVittie. Success by 1000 improvements: Flight qualification of the st-16 star tracker. 28th Annual AIAA/USU Conference on Small Satellites, August 2014. [15] Andrew Klesh and Joel Krajewski. MarCO: CubeSats to Mars in 2016. AIAA/USU Conference on Small Satellites, August 2015. URL http://digitalcommons.usu.edu/ smallsat/2015/all2015/16. [16] Charles H. Acton. Ancillary data services of NASA's Navigation and Ancillary Information Facility. Planetary and Space Science, 44(1):65­70, 1996. [17] Mark E. Pittelkau. Rotation vector in attitude estimation. Journal of Guidance, Control, and Dynamics, 26(6):855­860, 2003. URL http://arc.aiaa.org/doi/abs/10.2514/2. 6929. [18] John A. Christian. Optical Navigation Using Planet's Centroid and Apparent Diameter in Image. Journal of Guidance, Control, and Dynamics, 38(2):192­204, 2015. ISSN 0731-5090. doi: 10.2514/1.G000872. URL http://dx.doi.org/10.2514/1.G000872.

Appendix: Mathematical Derivations and Supplementary Results

81

[19] John A. Christian. Optical Navigation Using Iterative Horizon Reprojection. Journal of Guidance, Control, and Dynamics, 39(5):1092­1103, 2016. ISSN 0731-5090. doi: 10.2514/ 1.G001569. URL http://dx.doi.org/10.2514/1.G001569. [20] Yanlong Bu, Qiang Zhang, Chibiao Ding, Geshi Tang, Hang Wang, Rujin Qiu, Libo Liang, and Hejun Yin. A novel interplanetary optical navigation algorithm based on Earth-Moon group photos by Chang'e-5t1 probe. Advances in Space Research, 59(3):907­915, 2017. URL http://www.sciencedirect.com/science/article/pii/S0273117716303635. [21] John Enright. Moon Tracking Modes for Star Trackers. Journal of Guidance Control and Dynamics, 33(1):171­185, January 2010. doi: 10.2514/1.42716. [22] David WIlliams. Nasa-goddard mars fact sheet, June 2017. URL https://nssdc.gsfc. nasa.gov/planetary/factsheet/marsfact.html. [23] Jacob Hikes, Andrew J. Liounis, and John A. Christian. Parametric Covariance Model for Horizon-Based Optical Navigation. Journal of Guidance, Control, and Dynamics, 40(1): 170­178, 2017. ISSN 0731-5090. doi: 10.2514/1.G000708. [24] Harry. Zhang, John. Enright, and Laila. Kazemi. Landmark-based optical navigation using nanosatellite star trackersr. IEEE Aerospace Conference 2017, June 2017. [25] D. A. Vallado. Fundamentals of Astrodynamics and Applications (4th Ed.). Microcosm Press, June 2013. ISBN 978-0-7923-6903-5. pp. 593-595. [26] D. A. Vallado and P. Crawford. SGP4 Orbit Determination. AIAA/AAS Astrodynamics Specialist Conference and Exhibit, August 2008.

