Ryerson University

Digital Commons @ Ryerson
Theses and dissertations

1-1-2003

10-GHz wide tuning-range linear voltagecontrolled oscillator
Sameh Soliman
Ryerson University

Follow this and additional works at: http://digitalcommons.ryerson.ca/dissertations Part of the Electrical and Computer Engineering Commons Recommended Citation
Soliman, Sameh, "10-GHz wide tuning-range linear voltage-controlled oscillator" (2003). Theses and dissertations. Paper 194.

This Thesis is brought to you for free and open access by Digital Commons @ Ryerson. It has been accepted for inclusion in Theses and dissertations by an authorized administrator of Digital Commons @ Ryerson. For more information, please contact bcameron@ryerson.ca.

lO-GHz Wide Tuning-Range Linear Voltage-Controlled Oscillator
Sameh Soliman B.Eng. Ryerson University Toronto, Ontario

Department of Electrical and Computer Engineering Submitted in partial fulfillment of the requirements for the degree of Master/of Applied Science

I

School of Graduate Studies RYERSON UNIVERSITY Toronto, Ontario

© Sameh Soliman 2003

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

UMI Number: EC52896

INFORMATION TO USERS

The quality of this reproduction is dependent upon the quality of the copy submitted. Broken or indistinct print, colored or poor quality illustrations and photographs, print bleed-through, substandard margins, and improper alignment can adversely affect reproduction. In the unlikely event that the author did not send a complete manuscript and there are missing pages, these will be noted. Also, if unauthorized copyright material had to be removed, a note will indicate the deletion.

®

UMI
UMI Microform EC52896 Copyright 2008 by ProQuest LLC. All rights reserved. This microform edition is protected against unauthorized copying under Title 17, United States Code. ProQuest LLC 789 E. Eisenhower Parkway PO Box 1346 Ann Arbor, MI 48106-1346

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

I
I
~

I l
als
~

Instructions on Borrowers
Ryerson University requires the signatures of all persons using or photocopying this thesis. Please sign below, and give address and date.

! ,
t

or of

III

11111'
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Abstract
The current high-growth nature of digital communications demands higher speed serial communication circuits. Present day technologies barely manage to keep up with this demand, and new techniques are required to ensure that serial communication can continue to expand and grow. The goal of this work is to optimize the performance of an essential building block of serial communication circuits, namely, the phase-locked loop (PLL), so that it can cope with today's high-speed' communication. Due to its popularity, the optimization has targeted the charge-pump-based implementation of the phase-locked loop. This goal is achieved by researching, designing, and evaluating high speed serial communication circuits. Research has involved an in-depth study of the state of the art in high-speed, serial communication circuits; high-speed, cQntrolled oscillators; and CMOS technology. An LC, voltage-controlled oscillator (VCO) is designed in 0.18-micron, mixedsignal, 6-metal-2-poly, CMOS process. A novel tuning technique is employed to tune its output frequency. Simulation results shows that it provides quadrature and differential outputs; operates with lO-GHz center frequency, 600-MHz tuning range centered around its center frequency, and phase noise of -95 dBc/Hz at I-MHz offset from the fundamental harmonic of its output; and draws 10 rnA of DC current from a single, 1.8-V power supply. Also, It exhibits a good linearity throughout its tuning range. The new tuning technique increases the tuning range of the VCO to 6% of its center frequency compared to the l-to-2% typical value. As its locking performance depends on the characteristic of the employed VCO and to demonstrate the effect of optimizing the tuning range of the

veo, a charge-

pump PLL is designed. Simulation results shows that the PLL acquisition range is 300 MHz compared to a maximum value of 100 MHz when a conventional LC VCO is employed. Also, as a measure of its tracking range, the maximum frequency slew rate of its input has improved by 40%.

IV

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Acknowledgment
:eth
)n

I would like to express my thanks and gratitude to my supervisor, Professor K. Raahemifar. This work would not have been possible without his continuous support and encouragement. I also would like to thank Professor F. Yuan, my co-supervisor, who has provided me with advice, boost, and encouragement.

ck 'l.n In

I

I am thankful to the members of my defense committee, Professors S. Krishnan, M. Kassam, V. Geurkov, K. Raahemifar, and F. Yuan for their valuable comments.
I would also like to thank all my colleagues and friends for their support and useful discussions.

lal he rs;

I I
I !
I
I

Special thanks to the system administration, Jason Naughton in particular.

dne
~r-

nlet 1m ng its

:0
~e-

is

:0
~w

v

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

·

Contents
1 Introduction 1.1 The Necessity of Controlled Oscillators 1.2 The Necessity of GHz Oscillators . . . 1.3 The Necessity of Integrated Oscillators 1.4 Intended Application: Fiber-Optic receiver 1.5 Phase-Locked Loop: An Overview . 1.6 Thesis Contribution. 1.7 Thesis Outline . . . . . . 2 Oscillators: A Background 2.1 Modeling of Oscillators. 2.2 Start-up Conditions . . . 2.3 Performance Parameters 2.3.1 Phase Noise . . . 2.3.2 Noise-Power Trade-off 2.3.3 Effect of Frequency scaling on Phase Noise 2.3.4 Oscillator Pulling and Pushing. . . . . . . 3 Topologies of Monolithic, High-Frequency, CMOS VCO's 3.1 LC Oscillator . . . . 3.2 Ring Oscillator . . . . . . . . . . . . 3.3 Performance Metrics . . . . . . . . . 3.4 Topologies of High-Frequency VCO's 4 The Proposed Circuit Design 4.1 The Voltage-Controlled Oscillator Circuit. 4.2 The Core Circuit . . . . . . . . . . . . . 4.2.1 Waveform Analysis . . . . . . . . 4.3 Monolithic Inductors: Design Guidelines 4.4 The Buffer Circuit . . . . . .
VI

1

1 2

3 4 5 6 7
8

8 9
11 11

16 17 17
19 19 22

24 25
28

28 29

33 35 38

.!
J

1

I

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

4.4.1 Waveform Analysis . . . . . . . . . 4.5 The Bias Circuit . . . . . . . . . . . . . . 4.6 Application Example: Phase-Locked Loop 4.6.1 Waveform Analysis . . . . . . . . .
5 Conclusions and Future Work 5.1 Conclusions . 5.2 Future Work.
1

39

41 41 43
48

48 48
50
54 56 58

Bibliography A The Quality factor of a- Resonant Circuit B Narrowband Frequency Modulation C Generation of a Small-Signal, Negative Resistance D Phase-Locked Loop: A Background D.1 Modeling the Building Blocks of the PLL . D.2 The Linearized Model of the PLL D.3 Lock Metrics . . . . . . . D.3.1 Acquisition Range D.3.2 Tracking Range DA Charge-Pump PLL ..

1 2

3
4

5 6

7
~

60 60

62
65 65 65 65

~

)

I
I
I
I
I

I
I I
1
;

I
I

Vll

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

List of Figures
A phase-locked loop consists of a voltage-controlled oscillator (VCO), frequency divider, phase detector (PD), charge pump (CP) and leadlag filter. The VC.O output frequency Wout is set to a multiple or sub-multiple of the reference frequency wref depending on the divider ratios Nand R. . . . . . . . . . . . . . . . . . . . 1.2 Simplified block diagram of a fiber-optic receiver. . . . . . . . . 1.3 The basic architecture of the PLL. . . . . . . . . . . . . . . . .
1.1

2 4 6 8 11 12 13 15 15 16 17
20

(a) Feedback and (b) negative-resistance models of an oscillator. Multi-oscillation phenomenon. . . . . . . . . . . . . . . . . . . . Noise in (a) signal path and (b) control path of a controlled-oscillator circuit. . . . . . . . . . . . . . . . . . 2.4 Noise shaping in oscillator circuits. . 2.5 High-frequency multiplicative noise. . 2.6 Low-frequency multiplicative noise. . 2.7 Adding the outputs of N identical oscillators. 2.8 Injection pulling of oscillators. . . . . . . . . .
3.1

2.1 2.2 2.3

3.2 3.3 3.4 3.5
4.1

The response of (a) an LC tank and (b) the tank in (a) in parallel with a resistor with a negative resistance -Rp to a current impulse. . . .. (a) A simple tuned stage; (b) the magnitude and phase of the impedance of an LC tank as a function of frequency. . . . . . . . . . . . . . . .. (a) A differential tuned stage; (b) using varactor diodes to tune its output frequency. . . . . . . . . . . . . . . . . . . . . . . . . . . . .. The topology of a ring oscillator. . . . . . . . . . . . . . . . . . . . . Tuning the output frequency of a ring oscillator via (a) delay interpolation (b) delay control. . . . . . . . . . . . . . . . . . . . . . . . . . Block diagram of a controlled oscillator. . . . . . . . . . . . . . . . . (a) Using varactor diodes to tune the output frequency of a differential tuned stage; (b) a variant of the circuit in (a). . . . . . . . . . . . .. The proposed technique (enclosed in the dashed box) to tune the output frequency of a differential tuned stage. . . . . . . . . . . . . . .. (a) Parasitic capacitances of a MOSFET; (b) represinting the capacitances in (a) with lumbed capacitances at the MOSFET terminals. .

21 22 22 23
29

4.2 4.3 4.4

30

31

32

viii
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

4.5 4.6 4.7 4.8 4.9 4.10 4.11 4.12 4.13

2
4 6

8 11
12 13 15 15 16 17 20 21

4.14 4.15 4.16 4.17 4.18 4.19 4.20 4.21 4.22

Connecting two differential tuned stages to obtain in-phase and quadrature, differential outputs. . . . . . . . . . . . . . . . . . . . The transient and steady-state outputs of the core circuit. The frequency content of the output of the core circuit. . . The characteristic of the core circuit. . . . . . . . . . . . . Equivalent energy model representing energy-storage and energy-loss mechanisms in a monolithic inductor. . . . . . . . . . . . . . Schematic diagram of the buffer circuit. . . . . . . . . . . . . . . . .. The transient and steady-state outputs of the buffer circuit. . . . . . Simulated phase noise relative to the fundamental harmonic of the buffer circuit's output for different values of Vctrl. . . . . . . . . . . . Simulated output noise relative to the fundamental harmonic of the buffer circuit's output for different values of Vctrl. Schematic diagram of the bias circuit. . . . . . . . . . . . Schematic diagram of the opamp. . . . . . . . ... . . . . The transient and stead-state outputs of the bias circuit. The root locus of a third-order, charge-pump PLL. .. The step response of a third-order, charge-pump PLL. . . The PFD signals for locked inputs. . . . . . . . . . . . . The PFD signals when the referenco leads the VCO output. The PFD signals when the reference lags the veo output. . The characteristic of a (a) 200-MHz, and (b) 600-MHz, tuning-range

33 34 34 34 35 38 39 40

40 41 42 42 44 44 44 45 45
45

veo.. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ..
4.23 The locking performance of a charge-pump PLL employing a 200-MHz, and 600-MHz, tuning-range VCO's: (a) and (b) within its acquisition range; (c), (d), (e) and (f) outside its acquisition range. . A.1 The magnitude of a resonant circuit's transfer function. . A.2 The phase of an oscillator's open-loop transfer function. . B.1 Frequency modulating a carrier by a message signal.. . . C.1 (a) Implementing a one-port, negative-resistance network by a crosscoupled pair of MOSFET's; (b) the small-signal equivalent of the circuit in (a). . . . . . . . . . . . . . . . . D.1 Block diagram of the PD. . . . . . . . D.2 Common implementations of the LPF. D.3 Block diagram of the VCO. . . . . . . DA The linearized model of the PLL. . . . D.5 Definition of Wo and Q of a pair of complex-conjugate poles. D.6 Block diagram of the charge-pump PFD. . . . . . . . . . . .

46 54 55 56

22 22

58 60 61 62
63

23
29 30 31

64 66

32

l

IX

J
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

List of Tables
3.1 4.1 4.2 Performance metrics of different techniques to implement a 10-GHz, LC oscillator. .. . . . . . . . . . . . . . . . . . . . . . . . . . . Suppression of the first six harmonics of the oscillator's output. Parameter values of the charge-pump PLL. . . . . . . 27 39 43 67

D.1 Design formulas of a second-order, charge-pump PLL.

x

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

I
II>

Chapter 1 Introduction

27
39 43

I
" ~
jil

~

67

I ,
t ~

I

N this chapter, the motivation behind this thesis is presented, as well as a description of the intended application.

1.1

The Necessity of Controlled Oscillators
proc~ssing

~ ;;
j

~

·
)

~.

Most electronic signal

systems require frequency or time reference sig-

nals. To use the full capacity of communication Ghannels, e.g., wireless, wired and optical channels, transmitters modulate the baseband message signal into different parts of the spectrum to exploit better propagation characteristics or to frequency multiplex several messages, and the receivers demodulate them. These operations require accurate frequency reference signals. Digital circuits and mixed mode circuits, e.g., analog-to-digital (A-to-D) and digital-to-analog (D-to-A) converters, pace and synchronize their operations using a clock signal as a time reference signal. At the lower end of the spectrum, the stable properties of quartz crystals can be used as resonators to build very accurate fixed frequency or time reference signals. On the other hand, at higher frequencies (greater than few hundred MHz) the quality of the crystal resonators degrades due to physical and material-properties limitations. Many communication applications require programmable carrier frequencies and a multitude of crystals would be prohibitive due to the cost and board space. Indirect frequency synthesis techniques based on a phase-locked loop (PLL) [1] are preferred to generate programmable carrier frequencies. As shown in Figure 1.1 a less accurate oscillator whose frequency can be controlled with a control signal is embedded in

,

!
J

1
.~.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

·
2

a feedback loop and its output frequency is locked to an accurate low frequency reference.

=-r-

OlrelR

(~ Olre!

';-R

r-

PD CP

-\
tN

VCO
v"ontrol

rv

ro out =N OlrejR

OloufN

Figure 1.1: A phase-locked loop consists of a voltage-controlled oscillator (VCO), frequency divider, phase detector (PD), charge pump (CP) and lead-lag filter. The VCO output frequency Wout is set t~ a multiple or sub-multiple of the reference frequency wref depending on the divider ratios Nand R.

In many data-communication applications, the data rate is accurately standardized. A local clock signal is derived from the incoming data signal with a clock recovery circuit to track small variations in the rate of the sender's clock and to align the phase of the local clock for optimal data recovery [2]. Another important application of controlled oscillators is the modulation or demodulation of frequency or angle modulated carriers. Open loop modulation and demodulation as well as closed loop schemes are very popular for portable wireless handsets [3]. Two main types of controlled oscillators exist: voltage-controlled oscillators (VeO's) with a voltage control signal and current-controlled oscillators (leO's) with a current control signal. Although veo's will be mainly referred to in the remainder of this thesis, most of the discussed concepts are equally applicable to leO's.

1.2

The Necessity of GHz Oscillators

Several evolutions demand the realization of veo's with center frequencies in the G Hz to several G Hz range. In the wireless arena, the better propagation characteristics and the larger available bandwidth in the 1 to 2 GHz range have allowed the standardization and exploitation of digital cellular phone systems worldwide. The fabrication of the wireless phone terminals triggered a large demand for high performance, GHz veo's. At

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

3
l~ ·

-,,

higher frequencies, around 2.5 GHz and 5 GHz, new wireless data applications, e.g., domestic short-range automation applications, cable replacement wireless links, etc., have spurred a strong interest and large markets.
I
{I

With the constant shrinking of feature size in IC technologies and the increase of clock speeds we are very close to the widespread use of digital systems with clock speeds in the 1 GHz range. The distribution and synchronization of these GHz clocks is very challenging and will rely on on-chip PLL clock multipliers. Currently, these techniques are being used at clock frequencies of several hundred MHz [2]. These applications will drive the demand for GHz VCO's. The same trend exists in data communications where widespread deployment of Gb/s data channels is fueled by the Internet growth and the convergence of data and voice communications. These systems rely on clock recovery architectures and also increase the demand for GHz VCO's.

1.3

The Necessity of Integrated Oscillators

High-volume, IC markets are governed by price, package, performance and power consumption. IC integration reduces production cost since it allows for mass volume production. Integration of the analog components reduces the number of analog pins, hence, it allows for cheaper packaging solutions. However, integration increases the complexity of the' part, hence, testing cost can become a limiting factor or the number of I/O pins can become large which are counterproductive for packaging cost reduction. For low-cost and large-volume production post-fabrication trimming is to be avoided. By integrating the VCO on the IC, complex automatic calibration techniques become feasible since there is an abundance of cheap active devices along with sophisticated computing power. Performance is a key factor. In applications governed by standards, meeting the performance specifications is necessary; without standards compliance, price, package or power consumption is irrelevant. The benefit of integration for performance is less obvious when the analog components are combined with digital ones. The choice of IC technology is driven by the requirements of the majority of the components

I

I

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

·
4
which are digital. Therefore, the use of special technology which enables better analog performance is unjustifiable due to its cost. Consequently, integration typically results in a somewhat lower performance for the VCO.

1.4

Intended Application: Fiber-Optic receiver

In recent years there has been a significant research effort in the area of high-speed electronics for communications. Higher speeds are required in order to take full advantage of the broadband capabilities of optical fibers. In particular integrated solutions are sought for practical systems to reduce cost and improve reliability. One of the target bit rates for integrated fiber optic receivers is 10 Gb/s, which is consistent with the SONET hierarchical specification [4]; practical transmission systems at these extremely high data rates will open the way to unexplored territory in networking. Each of these systems will require high-speed, low-cost interface electronics. A simplified block diagram of a fiber-optic receiver is shown in Figure 1.2. It consists of a photo-detector at the front-end. The low-level signal from the photodetector is then amplified by a low-noise pre-amplifier, followed by a main amplifier with automatic gain control. A clock extraction and data regeneration circuit recovers the timing information from the random data, and samples the data stream at the appropriate instant. Finally, a serial to parallel converter demultiplexes the re-timed serial data to a lower rate, where it can be processed by other circuitry.
~~:~~~e~ 9!'~,,-,,! ~np~t _~a~_
I

I

Filtered Data ,-------I

Retimed Data
I

---------

Optical Fiber

k: '-=::

I
I

Pre-amplifier

Main Amplifier

Decision

Demulliplixer
I I

~~~~-:.<:.o~~~~ !?~~ l

Average Power

Clock Extraction

: Filtered Clock

----------

Figure 1.2: Simplified block diagram of a fiber-optic receiver.

The photo-detector is implemented as a p - i - n diode or an avalanche photo-

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

5

detector (APD). When light pulses are focused onto it, it absorbs the light energy and generates electron-hole pairs. These electron-hole pairs are swept across the depletion region of the diode, resulting in a current that is proportional to the incident optical power. To prevent additional processing from adding to the noise current, the low-level signal current from the photo-detector must be amplified. The pre-amplifier is used to convert this current into a voltage for subsequent processing. The sensitivity of the receiver and the signal-to-noise ratio are determined at this stage. Therefore, a very low-noise amplifier is required. The main amplifier buffers the circuit from process variations and changes in signal strength, and it performs noise shaping. It must contain either a limiter, or an automatic-gain-control circuit to provide the proper signal level to the clockextraction and data-recovery circuit, regardless of the output power of the preamplifier circuit. Typically, clock-extraction and data-recovery circuit is implemented as a PLL circuit. This approach requires a veo be controlled by a suitably filtered error signal. Although the PLL has the desirable property of being self adjusting, complications due to non-linear frequency acquisition and tracking make the circuit difficult to design.

1.5

Phase-Locked Loop: An Overview

The basic architecture of the PLL is shown in Figure 1.3. The phase detector (PD) senses the phase difference between the input to the PLL and the output of the voltage-controlled oscillator (VeO)1. The loop filter is a low-pass filter (LPF), hence, it averages the output of the PD. This average is used as a control input to the The

yeo.

veo generates an output whose frequency is proportional to its control input.

1 In addition to sensing the phase difference between its inputs, some implementations allow the PD to sense the frequency difference between its inputs as well. Such implementations are referred to as phase and frequency detecto~s (PFD's).

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

·
6
Input

---

Phase

Low-Pass

t

R

Detector

r-

r--

Filter

(I'D)

(LPFj

-

Voltage-Controlled Oscillator (VeO) Output

I

1

I

%N

I
1
I
i
I

Figure 1.3: The basic architecture of the PLL.

l

The PLL is locked if the output of the PD has a nearly constant average so that the output frequency of the yCO remains constant. The frequency divider divides the frequency of its input by a specific factor or a range of factorS. The basic architecture of Figure 1.3 utilizes two frequency dividers. They allow the PLL to lock to inputs or generate outputs of different frequencies 2 ·

!

1.6

Thesis Contribution

Optimizing the locking performance of the PLL at the 10 Gb/s data-rate relaxes other design trade-offs in the target application. Typically, the locking performance of the PLL is measured by its acquisition and tracking ranges. In the high-frequency region, PLL is usually implemented as a charge-pump PLL. For this implementation, the acquisition and tracking ranges depend on the characteristic ofthe employed VCO. More specifically, increasing the tuning range of the VCO increases the acquisition and tracking ranges of the charge-pump PLL which allows it to tolerate larger frequency and phase drifts in its input. In this thesis, a novel approach to tune the output frequency of the conventional LC-oscillator topology is proposed. This approach improves the tuning range of the VCO, hence the acquisition and tracking ranges of the charge-pump PLL where it is employed. The improved VCO utilizes an LC topology and exhibits the following features: · DC-current consumption of 10 rnA from a single, 1.8-V power supply.
2Depending on the application and the implementation of the frequency divider, the inputs or the outputs are usually separated by a fixed frequency step.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

7

· Near-sinusoidal, in-phase and quadrature, differential outputs with a fundamental harmonic at 10 GHz. · Tuning range of 600 MHz centered around the fundamental harmonic of its output. · Phase noise of -95 dBc/Hz at I-MHz offset from the fundamental harmonic of its output. · Output noise of -130 dB at I-MHz offset from the fundamental harmonic of its output. The improvement in the locking performance of the charge-pump PLL is demonstrated via a system-level implementation and can be summarized as follows: · The acquisition range of the charge-pump PLL increased to 300 MHz. · As a measure of its tracking range, the maximum frequency slew rate of the input of the charge-pump PLL increased ,by 40%.

1.7

Thesis Outline

This thesis consists of five chapters. Chapter 2 reviews the key design issues and performance parameters of oscillators. Chapter?? reviews the theory behind the PLL and the system-level design of its charge-pump implementation. Chapter 3 reviews the common topologies used to implement monolithic, high-frequency, CMOS VCO's and presents a strategy for designing them. Chapter 4 describes the transistor-level design of a 10-GHz, wide-tuning-range, linear, CMOS VCO. Also, it presents the simulation results of the designed circuits. As an application example, the VCO is used as a building block in a charge-pump PLL and the improvement in its locking performance is presented via simulation results. Chapter 5 concludes this thesis and presents several future-work plans.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Chapter 2 Oscillators: A Background
This chapter reviews the theory behind oscillators. Most of this theory is extensively covered in several text books [5, 6, 7, 8, 9].

2.1

Modeling of Oscillators

Depending on the configuration and characteristic of the oscillator, it can be analyzed using one of two models: the feedback model or the negative-resistance model.
If the oscillator's circuit can be decomposed into a multi-port, forward network

and a multi-port, feedback network, the feedback model, shown in Figure 2.1(a), is used.

+

(T\

Forward Network
A(s)

+

'-V

I---

z a (s)
Active Circuit

,---

r- zf

(s)

Frcquency-Delermining
'"'-

Feedback Network
F(s)

-

Circuit

---

'--

(a)

(b)

Figure 2.1: (a) Feedback and (b) negative-resistance models of an oscillator.

The circuit in Figure 2.1(a) is characterized by its loop transfer function L(s), defined as the product of its forward and feedback transfer functions A(s) and F(s)

L(s) = A(s) F(s).
8
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

(2.1)

9
Its characteristic equation is given by 1 - L(s) = 0, from which its poles can be found. On the other hand, if the oscillator's circuit can be separated into a one-port, active circuit and a one-port, frequency determining circuit, the negative-resistance model, shown in Figure 2.1(b), is used. The function of the active circuit is to produce a small-signal, negative resistance around the operating point of the oscillator and to couple with the frequency-determining circuit in defining the oscillation frequency. Usually, the frequency-determining circuit is a linear, time-invariant circuit and is signal independent. In Figure 2.1(b), the active and frequency-determining circuits are characterized by the impedance quantities Za(s) and Zf(s), respectively. Alternatively, admittance quantities, Ya (s) and Yf (s), may be used for the same purpose. The characteristic equation of the circuit is given by [10]

(2.2)

(2.3)

2.2

Start-up Conditions

As a basic requirement for producing a self-sustained, near-sinusoidal oscillation, an oscillator must have a pair of complex-conjugate poles in the right-half of the s plane (RHP)
Pl,2

= a

± j{J.

(2.4)

When excited by an arbitrary input, the RHP poles in Equation (2.4) give rise to a sinusoidal signal with an exponentially growing envelope

x(t)

= K

exp(at) cos({Jt),

(2.5)

where K is set by initial conditions. The growth of this signal is eventually limited by nonlinearities in the oscillator.

FD':,
R':EC-C:~"~ L·:·~~··-:.~:·~,.. j~ ~ '-~L~:~~'~I

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

10
For a feedback-oscillator circuit, the fulfillment of the following condition indicates that the circuit is unstable around its operating point. (2.6) where
Wz

denotes the frequency at which the total phase shift through the forward

and feedback networks is zero (or an integer multiple of ±3600). For a negative-resistance-oscillator circuit, with the active and frequency-determining circuits characterized by the impedances Za

= Ra + jXa

and Z,

= R, + jX"

re-

spectively, the fulfillment of the following condition [10] indicates that the circuit is unstable about its operating point

(2.7)
where
Wx

denotes the frequency at which the total reactive component Xa

+ X,

is

zero. The underlying assumption in condition (2.7) is that the current entering the active circuit in the steady state is near-sinusoidal. Alternatively, if the voltage across the active drcuit is near-sinusoidal in the steady state, the active and frequency-determining circuits should be modeled in terms of parallel admittances Ya = G a + jBa and Y, = G,

+ jB,

where G and B denote the

conductance and susceptance, respectively. The dual start-up condition in this case is (2.8)
It is important to note that conditions (2.6), (2.7), and (2.8) have the following

limitations · Fulfilling any of these conditions does not always imply the existence of RHP poles [2]. · For controlled-oscillator circuits, varying the control signal of the circuit changes the location of its poles!. Because these conditions cannot predict the instability
IThis statement is not rigorous since linear concepts, e.g., poles and zeros, are difficult to apply to nonlinear circuits.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

11 of the circuit throughout its tuning range, the existence of RHP poles throughout this range should be confirmed [2]. As a rule of thumb, these conditions are valid if they hold only at one frequency. In the high-frequency region, the parasitic elements in the oscillator's circuit can give rise to a multi-oscillation phenomenon, in which more than one oscillation exist simultaneously in steady state. Due to the multiple oscillations, the net steady-state signal is severely distorted, as shown in Figure 2.2, and can cause unwanted spurious effects in many applications.
v(t)

Figure 2.2: Multi-oscillation phenomenon.

The fulfillment of any of the conditions (2.6), (2.7), or (2.8) at more than one frequency indicates a potential multi-oscillation phenomenon and the existence of more than one pair of complex-conjugate poles in the RHP is a strong evidence on the existence of this phenomenon.

2.3

Performance Parameters

Phase noise and frequency tuning range are the key performance parameters of highfrequency oscillators [11]. While the study of frequency tuning range of different oscillator circuits is deferred to Chapter 4, this section provides a detailed analysis of phase noise in oscillators.

2.3.1

Phase Noise

Distinguished by the path into which the noise is injected, phase noise is generated primarily through two mechanisms. A controlled-oscillator circuit includes both a

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

12
signal path and a control path. The phase noise observed at its output depends on how much the circuit rejects (or amplifies) noise in these paths. Shown in Figure. 2.3, the injected noise, x(t), in these paths gives rise to distinctly different effects [12, 13].

vclrl (I)
x(1! o----o*-H

Noise
X(I)

0

Noise

'cr

~GJ
(a)

o y(t)

1--,.---0 yet)

(b)

Figure 2.3: Noise in (a) signal path and (b) control path of a controlled-oscillator circuit.

Noise in Signal Path
In the steady state, representing the open-loop
circui~

in Figure 2.3(a) by a linear

transfer function Hol(j w), its closed-loop transfer function is given by ( .) Hd)w

=X

y(.) )W

= 1- HOI(jW)"
+ bow, Hol(j w)

HOI(jW)

(2.9)

The circuit oscillates at the frequency w = We if Equation (2.9) approaches infinity at this frequency. In the vicinity of this frequency, e.g., w = We approximated by the first two termS of its Taylor expansion can be

. . Hol() w) ~ Hol(J we)

+ bow

dHol(jw) dw .

(2.10)

Since Hol(j we) = 1 and for most practical cases Ibow dHol(j w)/dwl tion (2.9) can be reduced to

«

1, Equa-

Hd(J w) ~ bow dHoIUW)
dw

.

-1

,

(2.11)

which implies, as shown in Figure 2.4, that the noise spectrum is shaped by (2.12)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

13
Output Spectrum

1Hc/ ljm)1
Noise Power
Spectral Density

2

I · ·

: · ·
·

I I I
I

,
,' . , , · II I

, I \ I
, I "

,

I I
I

x
I·
m

·

·

· I

,, ,,

,"

I

I

"

,
m

,
,

I
I

m

Figure 2.4: Noise shaping in oscillator circuits.

Expressing Hol(j w) in the polar form Hol(j w) = A(w) exp[j <I> (w)] and substituting for dHol(j w)/dw, Equation (2.12) can be written as
(2.13)

Let the open-loop Q2 of the circuit, which is a measure of the opposition of the closed-loop circuit to variations in frequency, be defined by
(2.14)

Combining Equations (2.13) and (2.14) results in "Leeson's equation [12]" (2.15) which reveals the dependence of the output noise on the Q of the circuit, the center (or carrier) frequency, and the offset from the center frequency.
It is interesting to note that ring oscillators exhibit dA(w)/dw and d<l>(w)/dw of

the same order at resonance. Thus, phase-noise power of a ring oscillator is typically half the value given by Equation (2.15). On the other hand, LC oscillators exhibit

dA(w)/dw = 0 at resonance and Equation (2.14) reduces to the conventional definition
of Q =
We

(d<l>(w)/dw)/2.

Moreover, phase-noise power compared to carrier power depends on two other parameters: the noise generated by the devices in the circuit, that is, the magnitude of X (jw) and the amplitude of the oscillation .. Deducing that phase-noise power
2The definition of Q of a resonant circuit is reviewed in Appendix A.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

·
14 of ring oscillat9rs is lower than that of LC ones based on the comparison of their respective Q's may not be correct. The above linear analysis does not consider the fact that oscillators usually experience amplitude limiting, i.e., nonlinearity, hence folding the noise components. To incorporate the effect of nonlinearity, two types of phase noise need to be identified. First type is due to noise components that are directly added to the output of the oscillator as shown in Figure 2.4 and formulated by Equation (2.12). It is referred to as additive noise and is predicted by the above linear analysis. The accuracy of this prediction depends on the number of stages in the oscillator and the portion of the oscillation period during which they operate linearly. To identify the second type, consider a single-stage oscillator whose characteristic is expressed as Vout(t)

= al Vin(t) +a2 v~(t) +a3 v:n(t).

For an input consisting of the

carrier and a noise component, e.g., Vin(t) = Ae cos (we t) of the oscillator exhibits the following important terms

+ An COs(wn t),

the output

Voutl(t) ex: a2AeAn cos[(we±wn)t], Vout2(t) ex: Vout3(t) ex:
a3 a3

(2.16) (2.17) (2.18)

Ae A~ cos[(we - 2wn) t], and
A~ An cos[(2we - wn) t].

If Wn is small, Voutl (t) appears in band. In a fully differential configuration a2

= 0,

hence Voutl (t) = 0.' Also, Vout2(t) is negligible because An ~ A e, leaving Vout3(t) as the onlYsignificant cross-product .. This simplified one-stage analysis predicts the frequency of the output components, but not their magnitudes. When noise is injected into the oscillator, the magnitude of the observed response at Wn and 2we - Wn depends on the noise shaping properties of the oscillator. Since nonlinearity folds all the noise components below We to the region above it and vice versa, these components are referred to as high-frequency multiplicative noise and are important if they fall close to We' This phenomenon is illustrated in Figure 2.5.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

15

9

lin

(00)

, - - - - , ~u, (00)

~u,(OO)

Oscillator

9

,

, ,, , ,

,

"
\ \
\

,

,

,

(j)

Figure 2.5: High-frequency multiplicative noise.

f.

It should be noted that for highly nonlinear oscillators, the Taylor expansion in Equation (2.10) may need to include higher order terms.

Noise in Control Path
While noise injected into the signal path mixes with the carrier, noise injected into the control path affects the frequency of the oscillator's output by changing its physical properties. Viewed as analog frequency modulation (FM), this effect translates low-frequency noise components in the control path to the region around the carrier as illustrated in Figure 2.6. These components are referred to as low-frequency multiplicative noise.

v",rl (00)

9
-ron

'f.,'oJ

B9
Oscillator

~u, (00) ,

V~'oJ
,,

, ,, , ,,

,

\

\
\

,,

,,

,,

,

,,

0

OOn 00

OOc-OOn

OOc

OOc +OOn

00

Figure 2.6: Low-frequency multiplicative noise.

Representing the noise per unit bandwidth as a sinusoid An cos(wn t) with the same average power and using the narrowband FM approximation 3

Vout(t)

~ Ae cos (we t) + Ae An Kose [cos(We + W n) t 2wn

cos(We -

W n) t],

(2.19)

where Kose is the contr<?lled-oscillator gain. Thus, the noise power at We ± Wn relative to the carrier power is equal to (An Kos e/2 W n)2. In practice, Kose is proportional 3The narrowband FM approximation is reviewed in Appendix B.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

16 to the carrier frequency because for a given control-signal range, the tuning range must be constant percentage of the center frequency to compensate for process and temperature variations. The effect of this type of noise becomes more prominent as
Wn

decreases, making 1/f noise in the control path particularly detrimental.
It should be noted that low-frequency multiplicative noise arises from any source
\

that can vary the frequency of the output of the oscillator. The analyses in this section predict that the phase noise decreases indefinitely as the offset of Wn from
We

it i

·1,

increases. In reality, it reaches a relatively flat floor since the

oscillator does not shape the 'injected noise at high frequency offsets from the carrier.

2.3.2

Noise-Power Trade-off

Oscillators, as other analog circuits, exhibit a trade-off between noise and power dissipation. As shown in Figure 2.7, if the outputs of N identical oscillators are added in phase, the carrier power is multiplied by N 2 , whereas the noise power by N (assuming noise sources of different oscillators are uncorrelated).
v"ur(ro) ,:,
Oscillator
*1
L-.-.
I -

." ."
: ""
· ·

-' "

roc

ro

V out (ro) .:.

~ut (ro) .:.
"

"I
I \

,,\

" ''" ::!
I

'"

Oscillator
~

r-- -,' : '"
roc ro

+,'

"",

_++-1-+_ /
+

:

"

· ·
Oscillator
#N

·

v"ut (ro) ,:.

'" ." r-- -' " : ""
roc

Figure 2.7: Adding the outputs of N identical oscillators.

Thus, the phase noise power relative to the carrier power decreases by a factor N at the cost of a proportional increase in power dissipation.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

17

2.3.3

Effect of Frequency scaling on Phase Noise

Since frequency and phase are related by a linear operator, dividing frequency by a factor N is identical to dividing phase by the same factor. For a nominally periodic sinusoid, x(t) = Ae cos [we t

+ cPn(t)],

where cPn{t) represents the phase noise, a

frequency divider divides its total phase by N

Xl/N(t) = Ae cos

[~ (t) + ~ (t)]

,

(2.20)

where the phase noise contributed by the frequency divider is neglected. This indicates that the magnitude of the phase noise at a given frequency offset from the carrier is divided by N. Thus, from narrowband FM approximation, the phase noise power is divided by N2. Similar reasoning shows that a frequency multiplier multiplies the magnitude of the phase noise by the same factor.

2.3.4

Oscillator Pulling and Pushing
assum~d

The analysis of phase noise in Section 2.3.1

that the magnitude of the noise

injected into the signal path is much less than that of the carrier, thereby arriving at a noise shaping function for oscillators. Close to the carrier, as the magnitude of the injected noise component becomes comparable to that
o~

the carrier, the carrier frequency may shift toward the noise

frequency and eventually locks to this frequency [14, 15]. Referred to as "injection pulling" this effect is shown in Figure 2.8.

,
'

I,i
J.

~

" '".~' ri '
...

Figure 2.8: Injection pulling of oscillators.

..'.:.

In,general, oscillators exhibit a poor supply rejection. If the supply voltage varies, so do the frequency of oscillation. Referred to as "supply pushing" this effect is more

~,. .":.
,c'

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

II

181
prominent in battery-powered (portable) applications. Owing to the finite output impedance of the battery, the supply voltage may vary by several hundred millivolts.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Chapter 3 Topologies of Monolithic, High-Frequency, CMOS VCO's
In general, oscillators can be categorized into two main categories: linear and nonlinear oscillators [26]. Linear oscillators generate a near-sinusoidal output. Their basic topology uses a frequency-tuning network, e.g., an LC tank, in a positive-feedback loop. Although they use a non-linear mechanism to limit the amplitude of the output, they are referred to as linear oscillators to distinguish them from the non-linear ones which can generate a near-sinusoidal output by waveform-shaping techniques. Oscillators which generate square, triangular, etc. outputs are referred to as nonlinear oscillators. Two popular topologies in this category are relaxation and ring oscillators. While the former is a popular topology for bipolar oscillators, the latter is a popular one for CMOS oscillators. In this chapter, the two main topologies of monolithic CMOS VCO's, namely, LC and ring topologies, are discussed. Also, following an overview of performance metrics of a controlled oscillator, the topologies of high-frequency VCO's are presented.

~\.

3.1

LC Oscillator

i

Ii.: I:.·

If a simple LC tank is stimulated by a current impulse, energy reciprocates between

its capacitor and inductor in cycles. Every cycle, a portion of the reciprocating energy is lost in the form of heat in its resistor, hence, it responds with decaying oscillations

19
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

20 as shown in Figure 3.1(a). If a resistor with a negative resistance

-14

is placed in

parallel with the tank, its net resistance approaches infinity and it responds to the current impulse with indefinite oscillations as shown in Figure 3.1(b).

i(I)L
S(I)

i in (I)

1"-

o

t

(a)

Ii(tJ

i1tJL
o
t

iin (t)

1-

(b)

Figure 3.1: The response of (a) an LC tank and (b) the tank in (a) in parallel with a resistor with a negative resistance - Rp to a current impulse.

Thus, if a one-port network exhibiting negative resistance l is placed in parallel with an LC tank, the combination may oscillate. A simple tuned stage is shown in Figure 3.2 loaded with an LC tank. Also, the magnitude and phase of the impedance of the LC tank, ZT, as a function of frequency are shown in the same figure. At resonance, IZTI

= Rp

and LZT

= o.

Thus, the magnitude of the gain of the

tuned stage is Rp gm, where gm is the small-signal transconductance of the transistor
M, and its phase is ±180 02 ·

IThe negative resistance is an incremental quantity. It indicates that if the applied voltage increases, the current drawn by the network decreases. 2This phase is due to the low-frequency phase inversion of the common-source transistor M.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

21

m

~UI
m

(a)

(b)

Figure 3.2: (a) A simple tuned stage; (b) the magnitude and phase of the impedance of an LO tank as a function of frequency.

An LC oscillator is a cascade of N tuned stages. For the cascade to start oscillating, (Rp 9m)N 2:: 1 and its total phase shift 3 has to be zero. Thus, N has to be an even number. A differential tuned stage can be implemented by connecting two simple tuned stages as shown in Figure 3.3(a). Since the frequency of oscillation equals 1/

JL C
p

p

[16],

the output frequency of the LC oscillator can be tuned by varying the inductance or the capacitance of its tank.. In monolithic implementations, it is difficult to vary the value of an inductor, hence, the common practice is to vary the value of the capacitance of the tank. A reverse-biased p/n junction can serve as a voltage-dependent capacitor (also, referred to as a varactor). It can be used to vary the net capacitance of the LC tank as shown in Figure 3.3{b).
3Total phase shift phase shift.

= frequency-independent

or DC phase shift

+ frequency-dependent

or AC

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

22

VdJ

Vdd

,

,

Lp

Rp

Cp

Cp

Rp

Lp

Lp

Rp

Cp

Cp

Rp

Lp
Your Vour_

Your

Vouc

DJ

D2

v..rrl

(a)

(b)

Figure 3.3: (a) A differential tuned stage; (b) using varactor diodes to tune its output frequency.

3.2

Ring Oscillator

As shown in Figure 3.4, a ring oscillator is a cascade of N gain stages with a total DC phase shift of 1800 in a feedback loop. If the total phase shift around the loop is zero at its unity loop gain, it starts to oscillate with a period of 2 N td where td is the delay of each gain stage with a fanout of one under these conditions.
.
Gain Stage

,

Figure 3.4: The topology of a ring oscillator.

The common implementation of the gain stage is as a simple or differential-pairbased inverter. To achieve a DC phase shift of 1800 , N must be an odd number when the simple inverter is used. On the other hand, N can be an even number when the differential-pair-based inverter is used. The required DC phase shift is achieved by swapping the outputs of one of the gain stages.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

23
Tuning the output frequency is achieved by varying the effective number of gain stages or the delay of each one. Delay interpolation, shown in Figure 3.5(a), is the common implementation of the first technique where a fast signal path and a slow one are used in parallel. The total delay is varied by varying the gains, hence the delays, of both paths in complementary fashion ..

I
I i
I,'
,

~n

(01)

Gain

o---+--.----'---iT+
(a) .

v"ut (01)

Conttol

,

v.

t , .'
lil

'0'

1
Delay ConIrol

v_

'0'

I
(b)

i

Figure 3.5: Tuning the output frequency of a ring oscillator via (a) delay interpolation (b) delay control.

Varying the delay of each gain stage can be achieved by varying its load capacitance or resistance. As shown in Figure 3.5(b), varying the load capacitance can be achieved by using a voltage-controlled capacitor or a fixed capacitor in series with a voltage-controlled resistor. The main limitations of this approach are the variation of the oscillator's gain and its output swing throughout its tuning range 4 · Moreover, it
4These effects can he minimized by varying some other parameters of the gain stage [17].

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

24

is susceptible to common-mode noise as it uses single-ended control path. Although varying the load resistance has the same limitations as changing its capacitance, this approach provides a large, relatively uniform frequency variation and lends itself to differential control [2].

3.3

Performance Metrics

The performance of a controlled oscillator is described by the following metrics:
· Center frequency: it is the midpoint of the oscillator's tuning range and is mainly

application dependent.
· Tuning range: it is the range between the minimum and maximum frequency

of the oscillator's output and is mainly dictated by the application and the variation of the oscillator's center frequency with process and temperature. LC . oscillators exhibit narrow tuning range compared to ring oscillators.
,

,

· Tuning sensitivity: it is the change in the output frequency of the oscillator per

unit change in its control voltage and is frequently referred to as the oscillator's gain. To tune its output signal frequency, one of the oscillator's circuit parameters must be varied. Depending on the effect of this parameter, the oscillator's gain,_ hence its output swing, may vary considerably throughout its ,; tuning range. LC oscillators exhibit less gain and output swing variation compared to ring oscillators.
· Characteristic linearity: if the oscillator is intended for frequency-synthesis ap-

plications, it may exhibit non-linear characteristic (its tuning range can be divided into regions throughout each of which the characteristic is linear). On the other hand, if the oscillator is intended for modulation or demodulation applications, its characteristic must exhibit high linearity. For such applications " and as a measure of the linearity of the oscillator's characteristic, the variation of its gain throughout its tuning range must be minimum.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1II11

25
· Spectral purity: depending on the application, it can be specified in time domain

as jitter or in frequency domain as phase noise .
· Noise rejection: when an oscillator share the same substrate with some dig-

ital circuit, its sensitivity to substrate and supply noise becomes prominent. Although it is not always possible, the common practice to minimize this sensitivity is to employ differential signal and control paths.

3.4

Topologies of High-Frequency yeo's

Among the different performance metrics of a controlled oscillator, phase noise and tuning range are the most challenging to achieve specifically when operation in the high-frequency region is targeted. During the past few years several techniques to overcome these challenges were reported [18, 19, 20]. In this section a review of these techniques is presented. The review targeted the recent publications on high-frequency VCO's. a representing examples of the available techniques to implement a lO-GHz VCO is presented. In [18], a 10-GHz, LC VCO was designed in a 0.25-micron, CMOS process. It achieved a tuning range of 700 MHz. The measured phase noise at 400 kHz offset from the carrier was -101 dBc/Hz at the low end and -87 dB c/Hz at the high end of its tuning range. The ,circuit drew 2.4 rnA from a 2-V power supply. PMOS varactors were used to achieve wide tuning range of the output frequency. In [19], a 10-GHz, LC VCO was designed in a 0.13-micron, standard-digital, CMOS process. It achieved a tuning range of 3.7 GHz and a phase noise of -99 dBc/Hz at I-MHz offset from the carrier. The core circuit consumed a 3.6 mW of DC power from

a 1.2-V power supply.

Wide tuning range was achieved by using MOS, accumulation-mode varactors instead of the conventional reverse-biased pin junction and MOS, depletion/inversion varactors. In [20], a 10-GHz, CMOS, distributed, voltage-controlled oscillator (DVCO) was
I .

designed in a 0.35-micron, BiCMOS process. It achieved a tuning range of 1.2 GHz

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

26, and a phase noise of -103 dBc/Hz at 600 kHz offset from the carrier. The circuit drew 14 rnA of DC current from a 2.5-V power supply. Two techniques to tune the output frequency were described. The first was to ' introduce explicit varactors on the transmission lines. This technique suffered from a severe reduction in the output frequency due to the constant, zero-bias capacitance added to the transmission lines. Thus, canceling the advantage obtained by using a distributed topology, namely, higher operation frequency. Also, the quality factor . of the varactors significantly degraded at higher frequencies which made them more undesirable. The second technique was to change the round-trip time-delay by changing the length of the transmission lines. Although the physical length cannot be changed, the effective length can be varied. This effect was achieved via current steering technique. From these examples, a strategy for designing VCO's in the 10-GHz frequency region (and above) can be obtained. · In the lO-GHz frequency region and above, two main topologies were used to implement a VCO: LC-tank-based topology [18, 19] and distributed topology [20]. · Different processes were used to design the yeO, e.g., 0.25-micron, CMOS process in [18]; 0.13-micron, standard-digital, CMOS process in [19]; and 0.35micron, BiCMOS process in [20]. · Supply voltage ranged from 1.2 V to 2.5 V. · Phase noise was improved compared to the target-application requirements [19], namely, -90 dBc/Hz at I-MHz offset from a lO-GHz carrier. For example, the phase noise at 400-kHz offset from the carrier ranged from -101 dBc/Hz at the low end to -87 dBc/Hz at the high end of the tuning range in [18]; a phase noise of -99 dBc/Hz was measured at I-MHz offset from a carrier in [19]; and a phase noise of -103 dBc/Hz was measured at 600-kHz offset from the carrier in [20].
It should be noted that this improvement was achieved at the cost of increased

power dissipation.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

1
1

27 · The inadequacy of the conventional technique, namely, using reverse-biased pin junctions, to achieve wide tuning range was reported [19, 20]. To achieve wide tuning range, an improved variant of it [19] or a new approach [20] was used . · As a measure of power dissipation, the DC current drawn by the circuit ranged from 2.4 rnA [18] to 14 rnA [20]. In this thesis a 10-GHz VCO is designed in 0.18-micron, mixed-signal, 6-metal2-poly, CMOS process. The designed VCO uses an LC topology to achieve superior phase-noise performance. The'phase noise is -95 dBc/Hz at I-MHz offset from the carrier. A novel tuning technique is used to increase its tuning range to 600 MHz compared to the achieved 200-MHz value when the conventional tuning technique is used. It draws 10 rnA of DC current form a 1.8-V power supply. A comparison among the above techniques and the proposed one in this thesis is presented in Table 3.1. Supply Voltage Phase Noise 2V -101 dBc/Hz @ 400-kHz 1.2 V -99 dBc/Hz @ I-MHz 2.5 V -103 dBc/Hz @ 600-MHz 1.8 V -95 dBc/Hz
@

I

Source [18] [19] [20] Proposed Technique

Tuning Range 700 MHz 3.7 GHz 1.2 GHz 600 MHz

DC-Current Consumption 2.4 rnA 3mA 14 rnA 10 rnA

I-MHz

Table 3.1: Performance metrics of different techniques to implement a lO-GHz, LO oscillator.

J
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Chapter 4 The Proposed Circuit Design
In this chapter, the detailed design of the proposed VCO is presented as well as one of its application examples. l

4.1

The Voltage-Controlled Oscillator Circuit

Integrating ring oscillators on a monolithic IC is easy, results in a compact design, and several order of magnitude tuning range is achievable [21]. Their main limitation is the poor spectral purity of the output specifically in the high-frequency region [7]. On the other hand, integrating LC oscillators is hard due to the lack of high-quality, passive inductors in standard IC technologies and their large size. Moreover, tuning range is limited by the non-controllable parasitics of the circuit and the supply voltage . which continues to decrease as new IC technologies emerge. However, they exhibit a much higher frequency stability and spectral purity as they employ passive resonators. As it was reported in [22], ring oscillators with active resistive loads designed and fabricated in O.18-micorn, mixed-signal, 6-metal-2-poly, CMOS process did not operate in the 10-GHz frequency region. Satisfactory results were obtained by replacing the ring oscillator with an LC one [23]. Moreover, ring oscillators with active inductive loads [32], when designed in the same technology, failed to operate in the same frequency region. Due to the increase of the data rates in the applications where oscillators represent an important building block, e.g., optical receivers, and the availability of high-quality,
1 The

circuits described in this chapter were simulated using O.18-micron technology in Cadence@.

28
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

29
passive inductors in the IC process used in this work, it was decided to use an LCoscillator topology. To overcome its main limitation, namely, narrow tuning range, a novel tuning approach was employed. Typically, a controlled oscillator consists of a bias, a core circuit (or oscillator), and a buffer building blocks as shown in Figure

4.1. In the following sections, the

transistor-level design and simulation results of each of these building blocks are presented.

Inpul(S)

Controlled-Oscillator f--_.ooi Circuit

Buffer Circuit

Oulpul(S)

Input(s)

Bias Circuit

Figure 4.1: Block diagram of a controlled oscillator.

4.2

The Core Circuit

As shown in Figure 4.2(a), two reverse-biased diodes, Dl and D 2 , are used as varactors to tune the output frequency of a differential tuned stage. To avoid forward-biasing the diodes significantly,
Vctrl

must not exceed Vout or or VouL is A, 0 <
Vctrl

VouL by more than

Vcut-o/ / .

Thus, if the amplitude. of

Vout

< Vdd - A + Vcut-off, which

indicates a trade-off between the output swing and the tuning range of this circuit. Standard CMOS process offers two implementations of a diode. In the first, referred to as n+ Ip diode, the p-substrate is used as the diode's anode and an n+ region as its cathode. In the second, referred to as p+ In diode, a p+ region is used as the diode's anode and an n-well region as its cathode. Since the substrate is usually connected to ground, the first implementation cannot serve as a varactor. Using an n-well region in the second implementation pauses two problems. Its high resistivity creates a resistance in series with the reverse-biased diode which lowers the quality
2It is assumed that the diode conducts a negligible current when it is forward-biased by Vcut o //

[Y].

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

30

LJ

LZ

v"u,-

v"trl

DZ

MJ

M2

v",rl 0 - - + - - - 0 - - 1

. (a)

(b)

Figure 4.2: (a) Using varactor diodes to tune the output frequency of a differential tuned

stage; (b) a variant of the circuit in (a).

factor of its capacitance. Moreover, the n-well region exhibits a substantial parasitic capacitance to the substrate which increases the constant capacitance of the LC tank. and limits its tuning range. Surrounding the p+ region by an n+ ring decreases the series resistance ofthe diode as it reduces the resistance seen by the displacement current through the junction capacitance [27]. On the other hand, it increases the size of the n-well region which increases its parasitic capacitance to the substrate. This drawback can be eliminated by using the variant of the differential tuned stage shown in Figure 4.2(b). However, to obtain the same transconductance, the PMOS devices in this variant must be wider than their NMOS counter parts to account for their lower mobility. This degrades the constant capacitance of the LC tank. Despite these optimizations, the tuning range of the differential tuned stage remains limited by the supply voltage [27] which continues to decrease as new IC technologies emerge. This limitation can be minimized if a technique, that does not rely on varactors, to tuning the output frequency can be found. Figure 4.3 shows such a

.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

31 technique3 .

r--------

I

: v"trl o---+--+--,

: 'bias

o---t--J....-,----'

1- _ _ _ _ _ _ _ _

Figure 4.3: The proposed technique (enclosed in the dashed box) to tune the output frequency of a differential tuned stage.

Ml and M2 are cross coupled to provide a small-signal resistance of -2/9ml,2 4
where 9ml,2 is the small-signal transconductance of any of them. M a, M4 , and M5 control the current flowing in differential tuned stage. Varying Vctrl varies the current through M 5, hence the current drawn form nodes Vout and

VouL by M3 and M 4 ·

The LC tanks are formed by Ll and L2 and the parasitic capacitance at nodes

Vout and VouL. For the tank formed by Ll and the parasitic capacitance at node Vout,
each of its components contribute to its capacitance. While the contribution of Ll is constant, that of M 1 , M2 and M3 is controllable. Figure 4.4(a) shows the parasitic capacitances of a MOSFET. These capacitances can be represented by three lumbed capacitances at the drain, gate, and source terminals of the MOSFET as shown in Figure 4.4(b). Including the parasitic capacitances of each transistor in Figure 4.3,
3Copyright © Sameh Soliman 2003. All rights reserved. Please, direct any concerns to the author at "ssoliman@ee.ryerson.ca". 4The derivation of this expression is provided in Appendix C.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

32
the controllable parasitic capacitance at node Vout composed of CdjMll C9j M2' and

CdjM3 ·

(a)

(b)

Figure 4.4: (a) Parasitic capacitances of a MOSFETj (b) represinting the capacitances in

(a) with lumbed capacitances at the MOSFET terminals.

Varying the current of the differential tuned stage varies the parasitic capacitance of MIl M2 and M 3 , and its output frequency consequently. Assuming that oscillation conditions are fulfilled, the upper bound of the tuning range is set by the supply voltage whereas its lower bound is set by the region of operation of M 5 · In-phase and quadrature, differential outputs can be obtained by connecting two differential tuned stages as shown in Figure 4.5. The transient and steady-state outputs of this configuration are shown in Figure 4.6. The steady-state output shows that the oscillator generates in-phase and quadrature, differential outputs. The frequency content of the core circuit's output is shown in Figure 4.7. It shows that it generates a near-sinusoidal output with a dominant harmonic at 10 GHz. A practical LC tank resonates at a frequency given by [16]

(4.1)
The magnitude of the impedance of the tank peaks at a frequency wp higher than its resonance frequency
We'

That is, if the tank used to load a tuned stage in an LC
We

oscillator, the output frequency of the oscillator can be tuned from

to wp.

Typically, the tuning range of an LC oscillator is 1% to 2% of its center frequency [2]. The characteristic of the proposed LC oscillator is shown in Figure 4.8.

,
I)

I':.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

33

~~~~.~.------~-+------------------~

Figure 4.5: Connecting two differential tuned stages to obtain in-phase and quadrature, differential outputs.

It shows that the new tuning technique increased the tuning range of the oscillator to 6% of its center frequency . Also, it shows that the characteristic exhibits good linearity throughout the tuning range.

4.2.1

Waveform Analysis

Referring to Figures 4.6 to 4.8, the following observations can be made: · The waveforms in Figure 4.6 were magnified at two time instants: during
th~

transient and steady state of the output. The magnified view during the steady state of the outpu t shows that the core circuit generates in-phase and quadrature, differential outputs. · The waveform in Figure 4.7 was magnified to show that the core circuit generates a near-sinusoidal output with a dominant harmonic at 10 GHz. · The waveform in Figure 4.8 shows that the output frequency can be tuned from

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

34

Figure 4.6: The transient and steady-state outputs of the core circuit. The horizontal axis represents the time in [s] and the vertical axis represents the output in [V].

Figure 4.7: The frequency content of the output of the core circuit. The horizontal axis represents the harmonic frequency in [Hz] and the vertical axis displays the harmonic amplitude.

Figure 4.8: The characteristic of the core circuit. The horizontal axis represents Vctrl in [V] and the vertical axis represents the output frequency in [Hz].

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

35
9.7 GHz to 10.3 GHz by varying Vctrl from 0.6 V to 1.7 V. Also, it shows that the characteristic exhibits good linearity throughout the tuning range.

4.3

Monolithic Inductors: Design Guidelines

The efficiency of an inductor is measured by its Q, which is limited by the parasitics [24]. The energy storage and loss mechanisms in an inductor can be described by the equivalent energy model shown in Figure 4.9, where L s , R s , R p , and Co

= Cs + Cp

represent the overall inductance, conductor loss, substrate loss, and capacitance, respectively.

10 co., (rot)

Figure 4.9: Equivalent energy model representing energy-storage and energy-loss mecha-

nisms in a monolithic inductor.

From this model, peak electric and magnetic energIes and energy loss oscillation cycle are given by
EEiPeak

III

one

= -2-'

Vc?Co

(4.2) and
(4.3)

EMiPeak

= 2 [(w

Vo2 Ls
Ls)2

+ R;]'
Rs

. 27r E10s s = -:;;
respectively.

Vo2 2

[

1 Rp

+ (w Ls)2 + R; ,

1

(4.4)

Only the energy stored in the inductor magnetic field is of interest. Any energy stored in its electric field, because of some inevitable parasitic capacitances, is a loss. Thus, Q is proportional to the net magnetic energy stored, which is equal to the difference between the peak magnetic and electric energies. An inductor is at

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

..

'~
,

.

'~

...
",' .~

36
self-resonance when the peak magnetic and electric energies are equal. Therefore, Q vanishes to zero at the self-resonance frequency. Above the self-resonance frequency, no net magnetic energy is available from an inductor to any external circuit. Using Equations (4.2), (4.3), and (4.4), Q = 271" EMipeak
wLs
EEjpeak

Eloss

Rp

Rs Rs

+ (W;':)2 + Rp

(

1-

R; Go _ L C) L
W

2

s

so,

(4.5)

where the first term accounts .for the magnetic energy stored and the ohmic loss in the inductor's conductor. The second term is the substrate loss factor representing the energy dissipated in the substrate. The last term is the self-resonance factor describing the reduction in Q due to the increase in the peak electric energy with frequency and the vanishing of Q at the self-resonant frequency. An important effect that degrades Q is the current crowding effect. Typically, current crowding is a strong function of frequency and the resistance and increases at higher than linear rate. This causes Q to go down in a concave. A constraint on minimum quality factor,
Qmin,

can be derived from Equation 4.5 (4.6)

Thus, a minimum required quality factor can be specified or the quality factor can be maximized subject to constraint (4.6). A constraint on minimum self-resonance frequency, Equations (4.2) and (4.3)
2 Wsrjmin Ls

Wsrjmin,

can be derived from

C
0

o<1 + RsG Ls .

(4.7)

Thus, a minimum required self-resonance frequency can be specified or the selfresonance frequency can be maximized subject to constraint (4.7). A common problem faced when designing an inductor is to maximize its Q for a given inductance value and for a minimum sought using the following guidelines.
Wsr.

A solution to this problem may be

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

37
· The width of the inductor's strip, W, and the spacing between its traces, S, must satisfy the inequalities W > W min and S > Smin to account for the processing constraints that limit the minimum feature size. · Increasing the width of the inductor's strip decreases its series resistance while its inductance remains the same. The inductor's strip should be as wide· as possible until the skin effect becomes significant. · Increasing the spacing among the inductor's traces decreases the mutual inductance among them, hence. its total inductance. Moreover, the inductor's series resistance and total area increase. The spacing between the inductor's traces should be as small as possible. · The inductor's radius is a very complex parameter to select. For small radii, increasing the inductor's radius increases its Q. On the contrary, for large radii, increasing the inductor's radius increases the losses induced by eddy currents and degrades its Q. Moreover, increasing the inductor's radius increases the shared area between the inductor and the substrate, hence the parasitic capacitance between them, which reduces its resonance frequency. Therefore, the radius should be selected so that the frequency of operation of the inductor is not close to its resonance frequency. In summary, narrow-strip inductors have higher inductance and lower shunt capacitance per trace compared to a wide-strip inductor. Unlike narrow-strip inductors, wide-strip, narrow-spacing, multi-turn inductors suffer from eddy current and proximity effects especially in the loops closest to the center of the inductor. However, the wide strips and the associated metal thickness reduce its DC resistance significantly.
If a narrow-strip and wide-strip inductors were designed with the same trace-to-trace

spacing and in the same two-dimensional area, the narrow-strip inductor would have a much higher inductance, similar capacitance, lower self-resonance frequency, and similar resistance (AC+DC) as compared to the wide-strip one. The inductor used in this work exhibits Qmax of 6.41 at 6.51 GHz. Its Q at 10 GHz is 3.85 and its self-resonance frequency is 12.33 GHz.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

38

4.4

The Buffer Circuit

The schematic diagram of the buffer circuit is shown ill' Figure 4.10. M5 to Ms form two differential pairs whose respective drain terminals are tied together and loaded with M9 and M lO · The inputs of the differential pairs are the in-phase and quadrature, differential outputs of the core circuit. The DC level of their outputs is level shifted by applying them to the source followers Mn and M12 · Ml to M4 are used to bias the differential pairs and the source followers.

~jas"'p 11'i@>--....L.___----I------I

v"sc_q IiMI>----+-l v"SCq_ ~---_I__----I----~~-.-...J

Figure 4.10: Schematic diagram of the buffer circuit.

The transient and steady-state outputs of the buffer circuit are shown in Figure 4.11. It shows that the buffer circuit generates differential output in the steady state. The suppression of the first six harmonics of the output is shown in Table 4.l. The phase noise, simulated relative to the fundamental harmonic of the buffer circuit's output for different values of
Vctrl,

is shown in Figure 4.12. This figure
../

shows that the phase noise does not vary considerably throughout the tuning range of Vctrl and approximately equals -95 dBc/Hz at I-MHz offset from the fundamental harmonic of the buffer circuit's output.
.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

39

Figure 4.11: The transient and steady-state outputs of the buffer circuit. The horizontal axis represents the time in [s] and the vertical axis represents the output in [V].

I Harmonic I Suppression [dBc] I
1 2 3 4 5 6

0 32 35.24 41.29 50.56 76.71

Table 4.1: Suppression of the first six harmonics of the oscillator's output.

The output noise, simulated relative to the fundamental harmonic of the buffer circuit's output for different values of Vctrl, is shown in Figure 4.13. This figure shows that the output noise does not vary considerably throughout the tuning range of Vctrl and approximately equals -130 dBc at I-MHz offset from the fundamental harmonic of the buffer circuit's output.

4.4.1

Waveform Analysis

Referring to Figures 4.11 to 4.13, the following observations can be made: · The waveforms in Figure 4.11 were magnified during the steady state of the output. The magnified view shows that the buffer circuit generates differential outputs.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

40

Figure 4.12: Simulated phase noise relative to the fundamental harmonic of the buffer circuit's output for different values of "Vctrl. The horizontal axis represents the frequency offset from the fundamental harmonic of the buffer circuit's output in [Hz] and the vertical axis represents the phase noise in [dBc/Hz].

Figure 4.13: Simulated output noise relative to the fundamental harmonic of the buffer circuit's output for different values of Vetrl. The horizontal axis represents the frequency offset from the fundamental harmonic of the buffer circuit's output in [Hz] and the vertical axis represents the output noise in [dB].

· The waveforms in Figure 4.12 show that the phase noise does not vary considerably throughout the tuning range of Vetrl and approximately equals -95 dBc/Hz at 1 MHz. · The waveforms in Figure 4.13 show that the output noise does not vary considerably throughout the tuning range of Vetrl and approximately equals -130 dB at 1 MHz.

I
I I
I

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

41

4.5

The Bias Circuit

The schematic diagram of the bias circuit is shown in Figure 4.14. Ml is a diodeconnected device loaded with M 2 · The non-inverting input of the opamp is connected to an external reference voltage Vref whereas the inverting one to node X. If the voltage of node X increases, the output of the opamp decreases which increases VSG2 · Consequently, VSD2 increases which decreases the voltage of node X. Thus, the opamp and M2 provide negative feedback to the bias circuit.

>---o----j

+

Figure 4.14: Schematic diagram of the bias circuit.

The schematic diagram of the opamp is shown in Figure 4.15. It is implemented as a simple, three-stage opamp. The first stage is a differential pair formed by J\J5 and
.f\;/6

and loaded with the current mirror M7 and M 8. The second stage is a gain
.f\;/g.

stage formed by the common source device formed by the source follower device
]\;/10'

The third stage is an output stage

The resistor Rand A11 to A14 are needed

to bias different stages of the opamp. The capacitor C is needed to ensure stable operation of the opamp in closed loop. The transient and steady-state outputs of the bias circuit is shown in Figure 4.16.

4.6

Application Example: Phase-Locked Loop

As it is used to demonstrate the importance of the contribution of this thesis, namely, improving the tuning range of the conventional LC-oscillator topology, the theory

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

42

R

v"U(

First Sta£e

Second Sta£e

Third Sta£e

Figure 4.15: Schematic diagram of the opamp.

Figure 4.16: The transient and stead-state outputs of the bias circuit. The horizontal axis

represents the time in [s] and the vertical axis represents the output in [V].

behind PLUs is reviewed in Appendix D. It should be noted that this theory is extensively covered in many text books [26, 27, 28, 29, 30]. Using Table D.1, a charge-pump PLL was designed. Its parameter values are summarized in Table 4.2. Substituting these values in the closed-loop transfer function of the third-order, charge-pump PLL in [31], its characteristic equation is given by

D(8)

=

2.622

X

10- 20 83

+ 2.727 X

1O- 11 82

+ 0.0065568 + 2.622 X

105 .

(4.8)

Figures 4.17 and 4.18 show the root locus and step response of such a system, respec-

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

43

I Parameter I
K pD fcp

Value 79.577

C1
Rl

C2
Kvco

10- 6 [V /rad] 0.5 [rnA] 27.271 [pF] 916.725 [0] 1.091 [pF] 3.427 x 109 [rad/s/V]
X

Table 4.2: Parameter values of the charge-pump PLL.

tively. The PFD signals for locked inputs, i.e., no frequency- or phase-difference between them, are shown in Figure 4.19. Its signals when the reference frequency is faster than that of the veo output (or when the reference leads the veo output) are shown in Figure 4.20. Also, its signals for the reverse situation are shown in Figure 4.21. To demonstrate the effect of increasing the veo tuning range on the locking performance of the charge-pump PLL, two yeO's with tuning ranges of 200 and 600 MHz around the center frequency were used. The characteristics of these yeo's are shown in Figure 4.22. The locking performance of the charge-pump PLL is shown in Figure 4.23. This figure indicates that increasing the veo tuning range increases the acquisition and tracking ranges of the charge-pump PLL. In other words, its acquisition range increased from 100 to 300 MHz around the veo center frequency and as a measure of its tracking range, the maximum frequency slew rate of its input was improved by 40%.

4.6.1

Waveform Analysis

Referring to Figures 4.17 to 4.23, the following observations can be made: · Figure 4.17 shows that the system has one real pole and two complex-conjugate poles in the left half of the s plane which confirms its stability.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

44

Figure 4.17: The root locus of a third-order, charge-pump PLL. The horizontal axis represents the real component of the pole's location and the vertical axis represents the imaginary component of the pole's location.

Figure 4.18: The step response of a third-order, charge-pump PLL. The horizontal axis represents the time in [s] and the vertical axis represents the output level.

Figure 4.19: The PFD signals for locked inputs. The horizontal axis represents the time in [s] and the vertical axes represent the corresponding signal level in [V].

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

45

Figure 4.20: The PFD signals when the reference leads the veo output. The horizontal axis represents the time in [s] and the vertical axes represent the corresponding signal level in [V].

Figure 4.21: The PFD signals when the reference lags the veo output. The horizontal axis represents the time in [s] and the vertical axes represent the corresponding signal level in [V].

(a)

(b)

Figure 4.22: The characteristic of a (a) 200-MHz, and (b) 600-MHz, tuning-range yeo. The horizontal axes represents the input frequency in [Hz] and the vertical axes represents the output frequency of the veo in [Hz].

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

46

(a)

(b)

(c)

(d)

(e)

(f)

Figure 4.23: The locking performance of a charge-pump PLL employing a 200-MHz, and 600-MHz, tuning-range veo's: (a) and (b) within its acquisition range; (c), (d), (e) and (f) outside its acquisition range. The horizontal axes represent the time in [s] and the vertical axes represent Vctrl in [V].

I
)
1

l

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

47 · Figure 4.18 shows that the system exhibits approximately 10% overshoot and 0.1 J-ls settling time. · Figure 4.19 shows that the PFD inputs are the Ref and

veo

signals and its

outputs are the P _up and P _down signals. Since there is no phase or frequency deviation between the inputs as confirmed by marker A, no pulses appear on the P _up or P _down line (except for the reset pulses). · Figure 4.20 shows that the PFD inputs are the Ref and outputs are the P _up and P _down signals.

veo signals and its Since Ref leads veo as confirmed

by marker A, error pulses appear on the P _up line while the P _down line stays calm (except for the reset pulses). · Figure 4.21 shows that the PFD inputs are the Ref and outputs are the P _up and P _down signals. Since

veo signals and its Ref lags veo as confirmed

by marker A, error pulses appear on the P _down line while the P _up line stays calm (except for the reset pulses). · Figure 4.22(a) shows that the

veo

output frequency can be varied from 9.9

GHz to 10.1 GHz, while in Figure 4.22(b) it can be varied from 9.7 GHz to 10.3 GHz. · Figure 4.23 shows that throughout the

veo

tuning range, 9.9 GHz to 10.1

GHz in (a) and 9.7 GHz to 10.3 GHz in (b), the charge-pump PLL acquires the input frequency and locks to its phase. Above the upper bound of the

veo

tuning range, 10.1 GHz in (c) and 10.3 GHz in (d), the charge-pump PLL fails to acquire the input frequency or to lock to its phase. Also, below the lower bound of the

veo tuning range, 9.9 GHz in (e)

and 9.7 GHz in (f), the charge-pump

PLL fails to acquire the input frequency or to lock to its phase.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Chapter 5 Conclusions and Future Work
5.1 Conclusions

In conclusion A lO-GHz, wide-tuning-range, linear, CMOS, voltage-controlled oscillator was designed in 0.18-micron, mixed-signal, CMOS process. The main contribution of this work is increasing the oscillator's tuning range to 6% of its center frequency.
It was reported in literature that oscillators utilizing the same topology as the one

described in this work and varactors to tune the output frequency exhibit a tuning range of 1% to 2% of the center frequency. Also, the

veo exhibited a good linearity

throughout its tuning range; drew 10 rnA of DC current from a single, 1.8-V supply; provided quadrature and differential outputs; and exhibited a phase noise of -95 dBc/Hz at a I-MHz offset from the fundamental harmonic of its output. The effect of optimizing the tuning range of the VCO on the locking performance of a charge-pump PLL was studied. Simulation results showed that the PLL acquisition range increased to 300 MHz and the maximum frequency slew rate of its input by 40%.

5.2

Future Work

The common trend in communication is toward battery-powered applications. This trend creates a necessity for low-voltage/low-power building blocks. Although the

veo

presented in this thesis can operate from a supply voltage as low as 1.5 V, it

would be beneficial to reduce its supply voltage and the power it consumes further.

48
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

49
It was mentioned in Chapter 3 that two different topologies are commonly used

to implement a VCO in the lO-GHz frequency region, namely, LC topology and distributed topology. It would be informing to design a DVCO in the same process used in this thesis and compare the performance of the two implementations. It was mentioned that optimizing the tuning range of the

veo

was targeted to

allow the charge-pump PLL to cope with larger drifts in the frequency and phase of its input and, ultimately, to relax design trade-offs in the target application, namely, fiber-optic receiver. To demonstrate the effectiveness of the proposed solution in this thesis, it would be more convincing to design the whole system in the same process used in this thesis and compare its performance to the conventional system.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Bibliography
[1] W. Egan, Frequency Synthesis by Phase Lock. New York: Wiley, 2000. [2] B. Razavi, Monolithic PHase-Locked Loops and Clock Recovery Circuits: Theory
and Design. New York: IEEE Press, 1996.

[3] T. Lee, The Design of Radio-Frequency CMOS Integrated Circuits. Cambridge; New York, NY: Cambridge University Press, 1998.

[4] Bellcore, Morristown, NJ, Synchronous Optical Network (SONET) Transport
Systems: Common Generic Criteria, TA-NWT-00253 6th edition, September

1990.

[5] L. Dai and R. Harjani, Design of High Performance CMOS Voltage Controlled
Oscillators. Boston, MA: Kluwer Academic Publishers, 2003.

[6] J. Everard, Fundamentals of RF Circuit Design with Low Noise Oscillators. Chichester; New York, NY: John Wiley, 2001. [7] A. Hajimiri, The Design of Low Noise Oscillators. Boston, MA: Kluwer Academic Publishers, 1999. [8] J. Westra, Oscillators and Oscillator Systems: Classification, Analysis, and Synthesis. Boston, MA: Kluwer Academic Publishers, 1999.

[9] P. Basedau, Analysis and Design of CMOS, LC, and Crystal Oscillators. Konstanz: Hartung-Gorre Verlag, 1999.

[10] G. Gonzalez, Microwave Transistor Amplifiers: Analysis and Design. Upper Saddle River, NJ: Prentice Hall, 1997. 50
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

51 [11] T. Lee and A. Hajimiri, "Phase Noise in Oscillators: A Tutorial," IEEE Journal
of Solid-State Circuits, Vol. 34, No.3, pp. 326-336, March 2000.

[12] D. Leeson, "A Simple Model of Feedbak Oscillator Noise Spectrum," Proceedings
of IEEE, Vol. 54, pp. 329-330, February 1966.

[13] W. Robins, Phase Noise in Signal Sources: Theory and Applications. London: Peter Peregrinus, 1982. [14] K. Kurokawa, "Injection Locking of Microwave Solid-State Oscillators," Proceedings of IEEE, Vol. 61, pp. 1386-1410, October 1973.

(15] R. Adler, "A Study of Locking Phenomena in Oscillators," IRE, Proceedings oj, Vol. 34, pp. 351-357, June 1946. (16] S. Boctor, Electric circuit analysis. Englewood Cliffs, NJ: Prentice-Hall, 1992. [17] J. Maneatis, "Low-Jitter Process-Independent DLL and PLL Based on SelfBiased Techniques," IEEE Journal of Solid-Stat.e Circuits, Vol. 31, No. 11, pp. 1723-1732, November 1996. [18] M. Do, R. Zhao, K. Yeo, and J. Ma, "Fully integrated lOGHz CMOS VCO,"
Electronics Letters, Vol. 37, No. 16, pp. 1021-1023, August 2001.

[19] D. Mukherjee, J. Bhattacharjee, and J. Laskar, "A Differentially-tuned CMOS LC

veo for Low-Voltage Full-Rate lOGb/s CDR Circui t,"

2002 IEEE MTT-S

Digest, pp. 707-710, 2002.

[20] H. Wu and A. Hajimiri, "Silicon-Based Distributed Voltage-Controlled Oscillators," IEEE Journal of Solid-State Circuits, Vol. 36, No.3, pp. 493-502, March 2001. (21] M. Banu, "MOS Oscillators with Multi-Decade Tuning Range and Gigahertz Maximum Speed," IEEE Journal of Solid-State Circuits, Vol. 23, pp. 1386-1393, December 1988.

I
I
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

52 [22] J. Savoj and B. Razavi, "A 10-Cb/s CMOS Clock and Data Recovery Circuit with a Half-Rate Linear Phase Detector," IEEE Journal of Solid-State Circuits, Vol. 36, No.5, pp. 761-767, May 2001. [23] J. Savoj and B. Razavi, "A 10 Cbls CMOS Clock and Data Recovery Circuit with Frequency Detection," Digest of Technical Papers, ISSCC, pp. 78-79, 434, February 2001. [24] B. Razavi, "Callenges in the Design of Frequency Synthesizers for Wireless Applications," CICC, Proceedings oj, pp. 395-402, May 1997. [25] A. Sedra and K. Smith, Microelectronic Circuits. New York: Oxford University Press, 1998. [26] D. Johns and K. Martin, Analog Integrated Circuit Design. New York: John Wiley & Sons, 1997. [27] B. Razavi, Design of Analog CMOS Integrated Circuits. Boston, MA: McGrawHill, 2001. [28] R. Best, Phase-Locked Loops: Design, Simulation, and Applications. New York: McGraw-Hill, 1997. [29] J. Encinas, Phase Locked Loops. London; New York: Chapman & Hall, 1993. [30] D. Wolaver, Phase-Locked Loop Circuit Design. Englewood Cliffs; NJ: Prentice Hall, 1991. [31] F. Gardner, "Charge-Pump Phase-Lock Loops," IEEE Transactions on Communications, Vol. COM-28, pp. 1849-1858, November 1980.

[32] S. Anand and B. Razavi, "A CMOS Clock Recovery Circuit for 2.5-Gb/s NRZ Data," IEEE Journal of Solid-State Circuits, Vol. 36, No.3, pp. 432-439, March 2001.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

53 (33] H. Djahanshahi and C.A.T. Salama, "Differential CMOS Circuits for 622MHz/933-MHz Clock and Data Recovery Applica tions," IEEE Journal of Solid-

State Circuits, Vol. 35, No.6, pp. 847-855, June 2000.
(34] M. Rau, T. Oberst, R. Lares, A. Rothermel, R. Schweer, and N. Menoux, "Clock/Data Recovery PLL Using Half-Frequency Clock," IEEE Journal of

Solid-State Circuits, Vol. 32, No.7, pp. 1156-1159, July 1997.
[35] H. Yang, L. Lee, and R. Co, "A Low Jitter 0.3-165 MHz CMOS PLL Frequency Synthesizer for 3 V/5 V Operation," IEEE Journal of Solid-State Circuits, Vol. 32, No.4, pp. 582-586, April 1997. [36] V. Kaenel, D. Aebischer, C. Piguet, and E. Dijkstra, "A 320 MHz, 1.5 mW 1.35 V CMOS PLL for Microprocessor Clock Generation," IEEE Journal of Solid-

State Circuits, Vol. 31, No. 11, pp. 1715-1722, November 1996.
[37] I. Young, J. Greason, and K. Wong, "A PLL Clock Generator with 5 to 110 MHz of Lock Range," IEEE Journal of Solid-State Circuits, Vol. 27, No. 11, pp. 1599-1607, November 1992.

I

I

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

'f I
I
I

Appendix A
The Quality factor of a Resonant Circuit
The phase noise of an LC oscillator depends on its Q. The higher its Q the sharper its resonance and the lower its phase noise. It is instructive to examine three definitions ofQ. Basic physics defines Q as
27rX

(energy stored / energy dissipated per one cycle).

For an LC tank, it is an indication of the lost energy as it reciprocates between its capacitor and inductor. Typically, a resonant circuit exhibits a bandpass transfer function. Another definition of Q is the "sharpness" of the magnitude of a resonant circuit's transfer function. More specifically, as shown in Figure A.I, Q is defined as the resonance frequency,
Wr ,

divided by the two-sided, -3 dB bandwidth,

~w.

This definition is an indication

of the resonant circuit's selectivity and it yields the same value as the previous one for a simple LC tank.
IHUro)

I

ro

Figure A.I: The magnitude of a resonant circuit's transfer function.

54
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

55
Another definition of Q that proves especially useful in oscillator design is illus-

trated in Figure A.2. The circuit is considered as a feedback system and the phase of the open-loop transfer function, ¢(w), is examined at resonance. The Q is then defined as Q=
Wr

2

d¢(w) dw

(A.I)

<I'(ro)=L Hoi (jro)

o

Figure A.2: The phase of an oscillator's open-loop transfer function.

Referred to as "open-loop Q", this definition has an interesting interpretation.To generate steady oscillation, the total phase shift around the oscillator's loop must be zero. If the oscillator's frequency deviates from
Wr

and the phase of its open-loop

transfer function exhibits large slope at W r , a significant change in the total phase shift around the oscillator's loop arises, thus violating the condition of steady oscillation and forcing the frequency to return to
Wr .

In other words, the open-loop Q is a

measure of the opposition of the closed-loop system to variations in the frequency of oscillation.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

-I>

I

I
I

Appendix B Narrowband Frequency Modulation
A carrier defined by Ae cos(27r Ie t) is frequency modulated by a message signal defined by m(t) = Am cos(27r 1m t) as shown in Figure B.l.

Message Signal

fM
Modulator

I'M Signal

Am cos(2'1tfm t)

Carrier

A c eos(2 'It!e t)

Figure B.1: Frequency modulating a carrier by a message signal.

The instantaneous frequency of the resulting FM signal is given by

Ii(t) -

Ie + k, Am cos(27r 1m t) Ie + ~I cos(27r 1m t),

(B.l) (B.2)

where k, is the frequency sensitivity of the FM modulator in [Hz/V] assuming that

m(t) is a voltage signal. The quantity ~I is the frequency deviation, representing the
maximum departure of the instantaneous frequency of the FM signal from the carrier frequency Ie. A fundamental characteristic of an FM signal is that the frequency deviation is proportional to the amplitude of the modulating signal and is independent of the modulating frequency.

56

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

57 The instantaneous angle of the FM signal is given by

(Ji(t)
-

27r

lot fi(t) dt
+
b.f

(B.3)
(BA)

27r fe t

fm sin(27r fm t).

The ratio of the frequency deviation to the modulation frequency is the modulation index of the FM signal and is denoted by /3, hence (B.5) From Equation (B.5) we see that, iIi physical sense, the parameter /3 represents the phase deviation of the FM signal, that is, the maximum departure of the angle (Ji(t) from the angle 27r fe t of the demodulated carrier; hence, /3 is measured in radians. The FM signal itself is given by

s(t) = Ae cos[21r fe t + (3 sin(21r fm t)].

(B.6)

Depending on the value of the modulation index /3, we may distinguish two cases of frequency modulation: narrowband FM, for which /3 is small compared to one radian, and wideband FM, for which /3 is large compared to one radian. Expanding Equation (B.6) results in

Assuming that the modulation index /3 is small compared to one radian, the following approximations may be used cos[/3 sin(27r fm t)] = 1, and
sin[,8 sin(27r 1m t)] ~ ,8 sin(27r 1m t). (B.9)

(B.8)

Hence, Equation (B. 7) simplifies to

s(t)

~

Ae cos(27r fe t) - /3 Ae sin(27r fe t) sin(27r fm t).

(B.I0)

Equation (B.lO) defines the approximate form of a narrowband FM signal generated by a sinusoidal modulating signal Am cos(27r fm t).

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Appendix C Generation of a Small-Signal, Negative Resistance
One way of realizing an oscillator, e.g., LC oscillator, is by connecting a one-port, negative-resistance network and a one-port, frequency-determining network. Consequently, a one-port network which exhibits a small-signal, negative resistance is required. A common implementation of such network is by cross coupling two MOSFETs as shown in Figure C.l(a).

Rout

------------------------------~--------++:==~--------~: r=~~~ .-~---.
DO J
I

o o o o o

I

- - - - - ----S-r---- - - - v. G. --- --- -- -S-2- - - -- - --

I I

I I

I I

(a)

(b)

Figure C.l: (a) Implementing a one-port, negative-resistance network by a cross-coupled pair of MOSFET'sj (b) the small-signal equivalent of the circuit in (a).

The small-signal equivalent [25] of this circuit is shown in Figure C.l(b). To simplify the analysis of this circuit, the dependence of the signal quantities on time 58
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

59
will be dropped.

Frona Figure C.1(b)
Vt = V gs 2 - vgsl,

(C.1)

and
it

= gml Vgsl = -gm2 Vgs2,
Vt -1 1 = -:- = - -.
~t

(C.2)

thus,
Rout

(C.3)
then
(C.4)

gml gml

gm2

If Ml and

M2

are naatched devices, i.e.,
Rout

=

gm2,

-2 =-.
gm

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

Appendix D Phase-Locked Loop: A Background
The basic architecture of the PLL is described in Section 1.5 and shown in Figure 1.3. According to the implementation of its building blocks, a PLL can be categorized into three main categories: analog, analog-digital (hybrid), or all digital PLL [28].

D.I

Modeling the Building Blocks of the PLL

Although the PLL is a nonlinear, time-varying system, a linear, time-invariant approximation may be utilized to gain insight in its design trade-offs. To arrive at this approximation, each of its building blocks needs to be characterized and modeled. The ideal PD generates an output whose average is proportional to the phase difference between its inputs, hence, it can be characterized by

VPD{t) = K pD D..¢{t) ,

(D.l)

where K pD is the gain of the PD in [V jrad] and D..¢{t) is the phase difference between its inputs. Thus, it can be modeled by a subtractor and a gain block followed by a LPF as shown in Figure D.l.
Phase Delector

----------------------I
I I

Low-Pass Filler

641 (s)

4Iin (s)

-+'-+t++---i
_____________________ 2
I

Figure D.l: Block diagram of the PD.

60
Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

61 Due to its sufficient performance, the LPF is often implemented as a first- or second-order, passive, RC filter. The most common implementations are shown in Figure D.2.

RJ

o---.NW'~I~1
0

CJ
C2

(a)

(b)

(c)

(d)

Figure D.2: Common implementations of the LPF.

Filters D.2(a) and D.2(b) exhibit first-order characteristic. Thus, their transfer functions do not contain an ideal integrator which limits the acquisition and tracking ranges of the PLL. Moreover, filter D.2(a) introduces trade-offs among the parameters controlling the dynamic behavior of the PLL [2]. To eliminate these trade-offs, it is usually replaced by filter D.2(b). On the other hand, filters D.2(c) and D.2(d) exhibit second-order characteristic.

C2 is needed to suppress the glitches across R2 due to the sudden changes in the input
of the filter. Introducing C2 results in a third-order PLL. Since less understanding is attained for third-order systems than second-order ones, C2 is usually chosen to be 10 times smaller than C ll hence, the PLL can be approximated by a second-order system. In a charge-pump PLL [31], the input to the LPF is a current signal. To adapt filters D.2(c) and D.2(d) to this change,
Rl

is usually removed 1 .

The ideal VCO generates a periodic output whose frequency is proportional to its control voltage, hence, it can be characterized by
wvco(t) =
WFR

+ Kvco Vctrl(t),

(D.2)

1 An alternative approach is to introduce a V-to-I building block between the charge pump and the LPF [32].

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

62

where WFR is the free-running frequency, Kvco is the gain in [rad/s/V]' and Vctrl(t) is the control voltage of the

yeo.

Since the PD compares the phases of its inputs, the

veo is usually modeled as a linear, time-invariant system whose input is the control
voltage and the output is the excess phase generated by this control voltage as shown in Figure D.3,

¢veo(t)

= Kveo

JVctrl(t) dt,
K veo
S

(D.3)

hence, its transfer function is given by

<l>veo(s) Vctrl(S)

(D.4)

Vad

(.J

-1L-__ ---'~
K

"_s_c_o

'""" (,J

Figure 0.3: Block diagram of the VCO.

D.2

The Linearized Model of the PLL

Since it contains a wide range of time constants, simulating a PLL at transistor level is very difficult. A very large time constant, on the same order as that of the PLL, is introduced by the LPF, while a much smaller time constant, often less than one ten-thousandth of that of the PLL, is introduced by the yeo. Thus, the PLL must be simulated using a very small time step to obtain accurate results, and for a very long time period to observe the behavior of the overall system. This places unreasonable requirements on computer resources, unless extremely simple circuitry is used [2]. The linearized model of the PLL is shown in Figure D.4. This model approximates the dynamics of the PLL under the following conditions · The PLL is locked . · The attribute of interest, phase or frequency, of the input and the output of the PLL changes slowly and by small amounts around its operating point. In other words, this model relates the changes in the input and the output of the PLL.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

63
Phase Detector

Low-Pass Filter
d<f> (s) <f>jn (s)

+ /'

'-V

-

--- -----------------<f>yCO (s) KyCO

V

~

YpD (,)
HLPF(s)

"c,r/(')

s
Voltage-Controlled Oscillator

Figure D.4: The linearized model of the PLL.

Most PLL's differ in the the realization of their building blocks. Despite this difference, the analysis of the dynamics of any PLL is usually carried out using its closed-loop transfer function. Referring to Figure D.4, several closed-loop transfer functions (which relate different variables) can be defined. In general, the closed-loop transfer function that relates l'ctrl(S) to cI>in(S) applies to most PLL's. It is given by
. I

Hd(s)

=

l'ctrl(S) cI>in(S)

=

S K pD HLPF(S) , S + K pD HLPF(S") Kvco

(D.5)

where HLPF(S) is the transfer function of the LPF. For most PLL's, the transfer function of the LPF can be approximated by
_ 1 + STz H LPF () S - 1 + STp '

(D.6)

where

T z ~ Tp.

The denominator of Equation (D.5) indicates that the characteristic equation of the PLL is of the second order. Its standard form is given by
(D.7) Q Wo is the pole frequency and Q is the pole Q factor 2. A geometric interpretation
Wo

D(s)=1+- + 2 ,

S

S2

where Wo for
Wo

and Q of a pair of complex-conjugate poles is shown in Figure D.5.

The value of Q is chosen such that the PLL may acquire a specific dynamic behavior. Assuming a step change in the attribute of interest, phase or frequency, of the input of the PLL, one of the following choices may be made [26]:
2In terms of the damping factor (, Q

= 1/2(.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

64
jill

· .'

.

: ' \ "'0

s plane

"\
,

o
roo
2Q

Figure 0.5: Definition of Wo and Q of a pair of complex-conjugate poles.

· Q = 1/2 to achieve good settling behavior. · Q= · Q=

1/v'2 to achieve maximally-flat amplitude response.
1/ V3 to achieve maximally-flat group delay.

For most PLUs the first choice is recommended. In this case the transient time constant of the PLL is given by
TpLL ~-.

1

Wo .

(D.8)

In most cases, e.g., high-frequency region, Wo is much less than the free-running frequency of the by

yeo.

Using Equations (D.5), (D.6), and (D.7), Wo and Q are given
K pLL

Wo=--,

...;r;

(D.9)

where

K pLL

=

, j KpD Kvco

assuming unity gain in the passband of the LPF, and

Q =
~

...;r;
1 - K +TzKpLL
PLL

..;r;

TzKpLL '

(D.10)

Inspection of Equations (D.9) and (D.lO) indicates that the independent selection of Wo and Q is possible. On the contrary, when Tz = 0, Q and Wo are given by

(D.ll)
and
K~LL Wo=-Q

(D.12)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

65 and such selection is not possible.

D.3

Lock Metrics
;

The locking performance of the PLL is described by two main metrics, namely, acquisition and tracking ranges.

I
I !
! I

D.3.1

Acquisition Range

The maximum difference between the input frequency and the free-running frequency of the

veo

where the PLL can acquire lock.

D.3.2

Tracking Range

Assuming the PLL is locked to a signal whose frequency is equal to the free-running frequency of the

veo,

the maximum drift in the input frequency from the free-

running frequency of the tracking range.

veo

where the PLL can maintain lock is referred to as

D.4

Charge-Pump PLL

Enhancing the acquisition and tracking ranges of the PLL relaxes many of the system's design trade-offs where it is intended to be used. This can be achieved by maximizing the pole frequency of its LPF or using some frequency acquisition means. Since the first alternative trades with other parameters which affect the quality of output of the PLL and its stability, the second alternative is usually favored. Typically, the acquisition and Tracking ranges of a PLL (e.g., analog PLL and analog-digital PLL with a flip-flop PD) are mainly limited by the characteristic of its PD. As its input frequency deviates substantially from the free-running frequency of its veo, the PD saturates and fails to generate the required error signal(s) to acquire the lock. On the contrary, the characteristic of the charge-pump PFD [33, 34, 35, 36, 37], shown in Figure D.6, does not exhibit this limitation, hence, the acquisition and

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

66 tracking ranges of the charge-pump PLL are mainly limited by the characteristic of its

yeo.

Moreover, charge-pump PLL acquires lock quickly with zero phase error

between its input signal and the output signal of the lock.

veo and does not exhibit false

V;"

Sequential Phase-F'requency Detector
(PFD)

vvco

Charge Pump

,

----_ ... _-----Low-Pass Filter

Figure D.6: Block diagram of the charge-pump PFD.

If the input and output of the charge-pump PLL are of the same frequency but

out of phase, lcp flows into its LPF for a duration equivalent to the phase difference between its input and output whereas no current flows for the rest of the period. This illustrates the time-variant nature of the unlocked charge-pump PLL. To simplify its analysis, a time-invariant system that has the same average current flowing into the LPF is used. The average current flowing into the LPF in Figure D.6 is given by

. b.¢>(t) 'lavg(t) = 211" lcp·
The charge pump and the PFD can be characterized by

(D.13)

(D.14)
thus,

(D.15)

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

67 Quantity PLL Transfer Function
H d (S ) -

Formula
_1_ s(1+sR 1 Cd 2 Kvco l+s Rl 1+ · e] KpDKveo

c

PD Gain

K pD =

If7rP

LPF Transfer Function

H LPF (s)

f"V

rv

1+s Rl Cl
SCI

PLL Pole Frequency

W

o

= JKPDKyeo
Cl

PLL Time Constant

'TPLL

~-

1

wo

PLL Quality Factor PLL Acquisition Range PLL Tracking Range

Q_
-

1 Rl C1Wo

Limited by the Limited by the

veo tuning range. veo tuning range.

Table D.I: Design formulas of a second-order, charge-pump PLL.

Neglecting C2 , the transfer function of the LPF is given by
HLPF(S)

= VLPF(S) = 1 + S R1 C 1 .

Iavg(s)

S

C1

(D.16)

Substituting Equations (D.14) and (D.16) into Equation (D.5) and comparing the denominator of the result to Equation (D.7), the following results are obtained

H (s)
d

=

K vco 1 + s R 1 C1 + K

1

S

(1

+ SRI Cd
S2C] PD K veo

(D.17)

(D. IS)
27f CIIcpKvco·

(D.19)

The design formulas of a charge-pump PLL, based on its linearized, second-order model, are summarized in Table D.l.

Reproduced with permission of the copyright owner. Further reproduction prohibited without permission.

